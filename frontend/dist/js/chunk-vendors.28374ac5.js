(self["webpackChunkmlfit"]=self["webpackChunkmlfit"]||[]).push([[504],{5149:function(t,e,n){"use strict";n.d(e,{GJ:function(){return o},uI:function(){return a}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const r=1e-7,i=1e-4;class o{constructor(t,e){this.backend=t,this.dataMover=e,this.data=new WeakMap,this.dataIdsCount=0}get(t){return this.data.has(t)||this.dataMover.moveData(this.backend,t),this.data.get(t)}set(t,e){this.dataIdsCount++,this.data.set(t,e)}has(t){return this.data.has(t)}delete(t){return this.dataIdsCount--,this.data.delete(t)}numDataIds(){return this.dataIdsCount}}class a{refCount(t){return s("refCount")}incRef(t){return s("incRef")}timerAvailable(){return!0}time(t){return s("time")}read(t){return s("read")}readSync(t){return s("readSync")}readToGPU(t,e){return s("readToGPU")}numDataIds(){return s("numDataIds")}disposeData(t,e){return s("disposeData")}write(t,e,n){return s("write")}move(t,e,n,r,i){return s("move")}createTensorFromGPUData(t,e,n){return s("createTensorFromGPUData")}memory(){return s("memory")}floatPrecision(){return s("floatPrecision")}epsilon(){return 32===this.floatPrecision()?r:i}dispose(){return s("dispose")}}function s(t){throw new Error(`'${t}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}},7260:function(t,e,n){"use strict";n.d(e,{T2:function(){return k},Ye:function(){return _}});var r=n(5149),i=n(6574),o=n(1743),a=n(5441),s=n(7074),u=n(3673),c=n(1259),l=n(5119);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class f{constructor(t,e){this.backendTimer=t,this.logger=e,null==e&&(this.logger=new d)}profileKernel(t,e,n){let r;const o=()=>{r=n()};let a;const s=c.now();if(this.backendTimer.timerAvailable())a=this.backendTimer.time(o);else{o();for(const t of r)t.dataSync();a=Promise.resolve({kernelMs:c.now()-s})}if((0,i._K)().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let i=0;i<r.length;i++){const e=r[i];e.data().then((n=>{h(n,e.dtype,t)}))}const u={kernelName:t,outputs:r,inputs:e,timeMs:a.then((t=>t.kernelMs)),extraInfo:a.then((t=>null!=t.getExtraProfileInfo?t.getExtraProfileInfo():""))};return u}logKernelProfile(t){const{kernelName:e,outputs:n,timeMs:r,inputs:i,extraInfo:o}=t;n.forEach((t=>{Promise.all([t.data(),r,o]).then((n=>{this.logger.logKernelProfile(e,t,n[0],n[1],i,n[2])}))}))}}function h(t,e,n){if("float32"!==e)return!1;for(let r=0;r<t.length;r++){const e=t[r];if(isNaN(e)||!isFinite(e))return console.warn(`Found ${e} in the result of '${n}'`),!0}return!1}class d{logKernelProfile(t,e,n,r,i,o){const a="number"===typeof r?l.av(`${r}ms`,9):r["error"],s=l.av(t,25),u=e.rank,c=e.size,f=l.av(e.shape.toString(),14);let h="";for(const l in i){const t=i[l];if(null!=t){const n=t.shape||e.shape,r=n.length;h+=`${l}: ${r}D ${r>0?n:""} `}}console.log(`%c${s}\t%c${a}\t%c${u}D ${f}\t%c${c}\t%c${h}\t%c${o}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function p(t,e,n){const r={},i={};for(let u=0;u<e.length;u++)r[e[u].id]=!0;for(let u=0;u<t.length;u++){const n=t[u],o=n.inputs;for(const t in o){const a=o[t];let s=!1;for(let t=0;t<e.length;t++)if(r[a.id]){n.outputs.forEach((t=>r[t.id]=!0)),s=!0,i[n.id]=!0;break}if(s)break}}const o={};o[n.id]=!0;const a={};for(let u=t.length-1;u>=0;u--){const e=t[u],n=e.inputs;for(let t=0;t<e.outputs.length;t++)if(o[e.outputs[t].id]){for(const t in n)o[n[t].id]=!0,a[e.id]=!0;break}}const s=[];for(let u=0;u<t.length;u++){const e=t[u];if(i[e.id]&&a[e.id]){const t={};for(const i in e.inputs){const n=e.inputs[i];r[n.id]&&(t[i]=n)}const n=Object.assign({},e);n.inputs=t,n.outputs=e.outputs,s.push(n)}}return s}function g(t,e,n,r){for(let i=e.length-1;i>=0;i--){const o=e[i],a=[];if(o.outputs.forEach((e=>{const n=t[e.id];null!=n?a.push(n):a.push(null)})),null==o.gradient)throw new Error(`Cannot compute gradient: gradient function not found for ${o.kernelName}.`);const s=o.gradient(a);for(const e in o.inputs){if(!(e in s))throw new Error(`Cannot backprop through input ${e}. Available gradients found: ${Object.keys(s)}.`);const i=n((()=>s[e]()));if("float32"!==i.dtype)throw new Error(`Error in gradient for op ${o.kernelName}. The gradient of input ${e} must have 'float32' dtype, but has '${i.dtype}'`);const a=o.inputs[e];if(!l.r1(i.shape,a.shape))throw new Error(`Error in gradient for op ${o.kernelName}. The gradient of input '${e}' has shape '${i.shape}', which does not match the shape of the input '${a.shape}'`);if(null==t[a.id])t[a.id]=i;else{const e=t[a.id];t[a.id]=r(e,i),e.dispose()}}}}var m=n(1722),v=n(565);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function y(t){return null!=t.kernelName}class b{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((t=>t.name))))}}}dispose(){for(const t in this.registeredVariables)this.registeredVariables[t].dispose()}}class w{constructor(t){this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new b}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const t=this.getSortedBackends();for(let e=0;e<t.length;e++){const n=t[e],r=await this.initializeBackend(n).success;if(r)return void await this.setBackend(n)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:t,asyncInit:e}=this.initializeBackendsAndReturnBest();if(e)throw new Error(`The highest priority backend '${t}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(t)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(t){if(!(t in this.registry)){if(!(t in this.registryFactory))return null;{const{asyncInit:e}=this.initializeBackend(t);if(e)return null}}return this.registry[t]}findBackendFactory(t){return t in this.registryFactory?this.registryFactory[t].factory:null}registerBackend(t,e,n=1){return t in this.registryFactory?(u.i(`${t} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[t]={factory:e,priority:n},!0)}async setBackend(t){if(null==this.registryFactory[t])throw new Error(`Backend name '${t}' not found in registry`);if(this.backendName=t,null==this.registry[t]){this.backendInstance=null;const{success:e,asyncInit:n}=this.initializeBackend(t),r=n?await e:e;if(!r)return!1}return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new f(this.backendInstance),!0}setupRegisteredKernels(){const t=(0,s.Op)(this.backendName);t.forEach((t=>{null!=t.setupFunc&&t.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(t){const e=(0,s.Op)(t);e.forEach((e=>{null!=e.disposeFunc&&e.disposeFunc(this.registry[t])}))}initializeBackend(t){const e=this.registryFactory[t];if(null==e)throw new Error(`Cannot initialize backend ${t}, no registration found.`);try{const n=e.factory();if(!n||n instanceof r.uI||"function"!==typeof n.then)return this.registry[t]=n,{success:!0,asyncInit:!1};{const e=++this.pendingBackendInitId,r=n.then((n=>!(e<this.pendingBackendInitId)&&(this.registry[t]=n,this.pendingBackendInit=null,!0))).catch((n=>(e<this.pendingBackendInitId||(this.pendingBackendInit=null,u.i(`Initialization of backend ${t} failed`),u.i(n.stack||n.message)),!1)));return this.pendingBackendInit=r,{success:r,asyncInit:!0}}}catch(n){return u.i(`Initialization of backend ${t} failed`),u.i(n.stack||n.message),{success:!1,asyncInit:!1}}}removeBackend(t){if(!(t in this.registryFactory))throw new Error(`${t} backend not found in registry`);this.backendName===t&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,t in this.registry&&(this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t]),delete this.registryFactory[t],this.backendName===t&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((t,e)=>this.registryFactory[e].priority-this.registryFactory[t].priority))}initializeBackendsAndReturnBest(){const t=this.getSortedBackends();for(let e=0;e<t.length;e++){const n=t[e],{success:r,asyncInit:i}=this.initializeBackend(n);if(i||r)return{name:n,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(t,e){const n=this.state.tensorInfo.get(e),r=n.backend,i=this.readSync(e),o=r.refCount(e);r.disposeData(e,!0),n.backend=t,t.move(e,i,n.shape,n.dtype,o),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(t,e){let n,r=null;if(null==e){if("function"!==typeof t)throw new Error("Please provide a function to tidy()");e=t}else{if("string"!==typeof t&&!(t instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!==typeof e)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=t}return this.scopedRun((()=>this.startScope(r)),(()=>this.endScope(n)),(()=>(n=e(),n instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n)))}scopedRun(t,e,n){t();try{const t=n();return e(),t}catch(r){throw e(),r}}nextTensorId(){return w.nextTensorId++}nextVariableId(){return w.nextVariableId++}clone(t){const e=k.runKernel(a.lzr,{x:t}),n={x:t},r=t=>({x:()=>{const e="float32",n={x:t},r={dtype:e};return k.runKernel(a.KXH,n,r)}}),i=[];return this.addTapeNode(this.state.activeScope.name,n,[e],r,i,{}),e}runKernel(t,e,n){null==this.backendName&&this.backend;const r=null!=(0,s._5)(t,this.backendName);if(!r)throw new Error(`Kernel '${t}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:t,inputs:e,attrs:n})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(t,e,n){const r=this.backend.numDataIds();let i=0;n.forEach((t=>{i+="complex64"===t.dtype?3:1}));const o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],a=r-e-i-o;if(a>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${a} data ids) after running '${t}'`)}runKernelFunc(t){let e,n=[];const r=this.isTapeOn(),i=this.state.numBytes,o=this.state.numTensors;let a,u;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const c=y(t)?t.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(y(t)){const{kernelName:e,inputs:i,attrs:o}=t;null==this.backendName&&this.backend;const c=(0,s._5)(e,this.backendName);l.vA(null!=c,(()=>`Cannot find registered kernel '${e}' for backend '${this.backendName}'`)),a=()=>{const t=this.backend.numDataIds();u=c.kernelFunc({inputs:i,attrs:o,backend:this.backend});const a=Array.isArray(u)?u:[u];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(e,t,a);const s=a.map((t=>null!=t.rank?t:this.makeTensorFromTensorInfo(t)));if(r){const t=this.getTensorsForGradient(e,i,s);n=this.saveTensorsForBackwardMode(t)}return s}}else{const{forwardFunc:e}=t,i=t=>{r&&(n=t.map((t=>this.keep(this.clone(t)))))};a=()=>{const t=this.backend.numDataIds();u=this.tidy((()=>e(this.backend,i)));const n=Array.isArray(u)?u:[u];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(c,t,n),n}}const{inputs:f,attrs:h}=t,d=y(t)?null:t.backwardsFunc;let p;return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(p=this.profiler.profileKernel(c,f,(()=>a())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(p),e=p.outputs):e=a()})),r&&this.addTapeNode(c,f,e,d,n,h),this.state.profiling&&this.state.activeProfile.kernels.push({name:c,bytesAdded:this.state.numBytes-i,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-o,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(f).map((t=>null!=f[t]?f[t].shape:null)),outputShapes:e.map((t=>t.shape)),kernelTimeMs:p.timeMs,extraInfo:p.extraInfo}),Array.isArray(u)?e:e[0]}saveTensorsForBackwardMode(t){const e=t.map((t=>this.keep(this.clone(t))));return e}getTensorsForGradient(t,e,n){const r=(0,s.vQ)(t);if(null!=r){const t=r.inputsToSave||[],i=r.outputsToSave||[];let o;r.saveAllInputs?(l.vA(Array.isArray(e),(()=>"saveAllInputs is true, expected inputs to be an array.")),o=Object.keys(e).map((t=>e[t]))):o=t.map((t=>e[t]));const a=n.filter(((t,e)=>i[e]));return o.concat(a)}return[]}makeTensor(t,e,n,r){if(null==t)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;let i=t;"string"===n&&l.Kg(t[0])&&(i=t.map((t=>c.encodeString(t))));const o=r.write(i,e,n),a=new m.qY(e,n,o,this.nextTensorId());if(this.trackTensor(a,r),"string"===n){const t=this.state.tensorInfo.get(o),e=(0,l.SL)(i);this.state.numBytes+=e-t.bytes,t.bytes=e}return a}makeTensorFromDataId(t,e,n,r){n=n||"float32";const i={dataId:t,shape:e,dtype:n};return this.makeTensorFromTensorInfo(i,r)}makeTensorFromTensorInfo(t,e){const{dataId:n,shape:r,dtype:i}=t,o=new m.qY(r,i,n,this.nextTensorId());return this.trackTensor(o,e),o}makeVariable(t,e=!0,n,r){n=n||this.nextVariableId().toString(),null!=r&&r!==t.dtype&&(t=t.cast(r));const i=new m.rT(t,e,n,this.nextTensorId());if(null!=this.state.registeredVariables[i.name])throw new Error(`Variable with name ${i.name} was already registered`);return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i}trackTensor(t,e){this.state.numTensors++,"string"===t.dtype&&this.state.numStringTensors++;let n=0;"complex64"!==t.dtype&&"string"!==t.dtype&&(n=t.size*l.jv(t.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(t.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(t.dataId,{backend:e||this.backend,dtype:t.dtype,shape:t.shape,bytes:n})),t instanceof m.rT||this.track(t)}incRef(t,e){this.trackTensor(t,e),this.backend.incRef(t.dataId)}removeDataId(t,e){this.state.tensorInfo.has(t)&&this.state.tensorInfo.get(t).backend===e&&(this.state.tensorInfo.delete(t),this.state.numDataBuffers--)}disposeTensor(t){if(!this.state.tensorInfo.has(t.dataId))return;const e=this.state.tensorInfo.get(t.dataId);if(this.state.numTensors--,"string"===t.dtype&&(this.state.numStringTensors--,this.state.numBytes-=e.bytes),"complex64"!==t.dtype&&"string"!==t.dtype){const e=t.size*l.jv(t.dtype);this.state.numBytes-=e}e.backend.disposeData(t.dataId)&&this.removeDataId(t.dataId,e.backend)}disposeVariables(){for(const t in this.state.registeredVariables){const e=this.state.registeredVariables[t];this.disposeVariable(e)}}disposeVariable(t){this.disposeTensor(t),null!=this.state.registeredVariables[t.name]&&delete this.state.registeredVariables[t.name]}memory(){const t=this.backend.memory();return t.numTensors=this.state.numTensors,t.numDataBuffers=this.state.numDataBuffers,t.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(t.unreliable=!0,null==t.reasons&&(t.reasons=[]),t.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),t}async profile(t){this.state.profiling=!0;const e=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await t(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((t=>t.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-e,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const r of this.state.activeProfile.kernels)r.kernelTimeMs=await r.kernelTimeMs,r.extraInfo=await r.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(t,e,n,r,i,o){const a={id:this.state.nextTapeNodeId++,kernelName:t,inputs:e,outputs:n,saved:i},u=(0,s.vQ)(t);null!=u&&(r=u.gradFunc),null!=r&&(a.gradient=t=>(t=t.map(((t,e)=>{if(null==t){const t=n[e],r=l.Ty(t.size,t.dtype);return this.makeTensor(r,t.shape,t.dtype)}return t})),r(t.length>1?t:t[0],i,o))),this.state.activeTape.push(a)}keep(t){return t.kept=!0,t}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(t){const e={track:[],name:"unnamed scope",id:this.state.nextScopeId++};t&&(e.name=t),this.state.scopeStack.push(e),this.state.activeScope=e}endScope(t){const e=(0,v.getTensorsInContainer)(t),n=new Set(e.map((t=>t.id)));for(let i=0;i<this.state.activeScope.track.length;i++){const t=this.state.activeScope.track[i];t.kept||n.has(t.id)||t.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],e.forEach((t=>{t.kept||t.scopeId!==r.id||this.track(t)}))}gradients(t,e,n,r=!1){if(l.vA(e.length>0,(()=>"gradients() received an empty list of xs.")),null!=n&&"float32"!==n.dtype)throw new Error(`dy must have 'float32' dtype, but has '${n.dtype}'`);const i=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",t)));l.vA(i instanceof m.qY,(()=>"The result y returned by f() must be a tensor."));const o=p(this.state.activeTape,e,i);if(!r&&0===o.length&&e.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const t={};t[i.id]=null==n?x(i.shape):n,g(t,o,(t=>this.tidy(t)),A);const r=e.map((e=>t[e.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((t=>{for(const e of t.saved)e.dispose()})),this.state.activeTape=null),{value:i,grads:r}}))}customGrad(t){return l.vA(l.Tn(t),(()=>"The f passed in customGrad(f) must be a function.")),(...e)=>{let n;l.vA(e.every((t=>t instanceof m.qY)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const r={};e.forEach(((t,e)=>{r[e]=t}));const i=(r,i)=>(n=t(...e,i),l.vA(n.value instanceof m.qY,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),l.vA(l.Tn(n.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),n.value),o=(t,r)=>{const i=n.gradFunc(t,r),o=Array.isArray(i)?i:[i];l.vA(o.length===e.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),l.vA(o.every((t=>t instanceof m.qY)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const a={};return o.forEach(((t,e)=>{a[e]=()=>t})),a};return this.runKernelFunc({forwardFunc:i,backwardsFunc:o,inputs:r})}}readSync(t){const e=this.state.tensorInfo.get(t);return e.backend.readSync(t)}read(t){const e=this.state.tensorInfo.get(t);return e.backend.read(t)}readToGPU(t,e){const n=this.state.tensorInfo.get(t);return n.backend.readToGPU(t,e)}async time(t){const e=(0,c.now)(),n=await this.backend.time(t);return n.wallMs=(0,c.now)()-e,n}track(t){return null!=this.state.activeScope&&(t.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(t)),t}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new b;for(const t in this.registry)this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function x(t){const e=(0,l.FZ)((0,l.Ze)(t),"float32");return k.makeTensor(e,t,"float32")}function _(){const t=(0,o.L)();if(null==t._tfengine){const e=new i.OH(t);t._tfengine=new w(e)}return(0,i.tj)(t._tfengine.ENV),(0,m.qP)((()=>t._tfengine)),t._tfengine}w.nextTensorId=0,w.nextVariableId=0;const k=_();function A(t,e){const n={a:t,b:e};return k.runKernel(a.OMN,n)}},6574:function(t,e,n){"use strict";n.d(e,{Km:function(){return l},OH:function(){return o},_K:function(){return c},tj:function(){return f}});var r=n(5119);
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i="tfjsflags";class o{constructor(t){this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=a,this.populateURLFlags()}setPlatform(t,e){null!=this.platform&&(c().getBool("IS_TEST")||c().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${t}.`)),this.platformName=t,this.platform=e}registerFlag(t,e,n){if(this.flagRegistry[t]={evaluationFn:e,setHook:n},null!=this.urlFlags[t]){const e=this.urlFlags[t];c().getBool("IS_TEST")||c().getBool("PROD")||console.warn(`Setting feature override from URL ${t}: ${e}.`),this.set(t,e)}}async getAsync(t){return t in this.flags||(this.flags[t]=await this.evaluateFlag(t)),this.flags[t]}get(t){if(t in this.flags)return this.flags[t];const e=this.evaluateFlag(t);if((0,r.yL)(e))throw new Error(`Flag ${t} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[t]=e,this.flags[t]}getNumber(t){return this.get(t)}getBool(t){return this.get(t)}getString(t){return this.get(t)}getFlags(){return this.flags}get features(){return this.flags}set(t,e){if(null==this.flagRegistry[t])throw new Error(`Cannot set flag ${t} as it has not been registered.`);this.flags[t]=e,null!=this.flagRegistry[t].setHook&&this.flagRegistry[t].setHook(e)}evaluateFlag(t){if(null==this.flagRegistry[t])throw new Error(`Cannot evaluate flag '${t}': no evaluation function found.`);return this.flagRegistry[t].evaluationFn()}setFlags(t){this.flags=Object.assign({},t)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if("undefined"===typeof this.global||"undefined"===typeof this.global.location||"undefined"===typeof this.global.location.search)return;const t=this.getQueryParams(this.global.location.search);if(i in t){const e=t[i].split(",");e.forEach((t=>{const[e,n]=t.split(":");this.urlFlags[e]=u(e,n)}))}}}function a(t){const e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,((t,...n)=>(s(e,n[0],n[1]),n.join("=")))),e}function s(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}function u(t,e){const n=e.toLowerCase();return"true"===n||"false"===n?"true"===n:""+ +n===n?+n:e}function c(){return l}let l=null;function f(t){l=t}},1743:function(t,e,n){"use strict";
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
let r;function i(){if(null==r){let t;if("undefined"!==typeof window)t=window;else if("undefined"!==typeof n.g)t=n.g;else if("undefined"!==typeof process)t=process;else{if("undefined"===typeof self)throw new Error("Could not find a global object");t=self}r=t}return r}function o(){const t=i();return null==t._tfGlobals&&(t._tfGlobals=new Map),t._tfGlobals}function a(t,e){const n=o();if(n.has(t))return n.get(t);{const r=e();return n.set(t,r),n.get(t)}}n.d(e,{L:function(){return i},m:function(){return a}})},5287:function(t,e,n){"use strict";n.d(e,{AS:function(){return m},DZ:function(){return g},Gc:function(){return w},Hi:function(){return h},Hs:function(){return C},IS:function(){return c},ME:function(){return p},Ok:function(){return E},Sm:function(){return s},W4:function(){return A},aC:function(){return v},fL:function(){return l},gJ:function(){return S},gY:function(){return u},go:function(){return k},jh:function(){return b},jz:function(){return x},kB:function(){return y},m1:function(){return d},rE:function(){return _},rm:function(){return f}});var r=n(7260),i=n(6574),o=n(1722),a=n(565);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(){(0,i._K)().set("PROD",!0)}function u(){(0,i._K)().set("DEBUG",!0)}function c(){(0,i._K)().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function l(t){(0,i._K)().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(t+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function f(){r.T2.disposeVariables()}function h(){return r.T2}function d(){return r.T2.memory()}function p(t){return r.T2.profile(t)}function g(t,e){return r.T2.tidy(t,e)}function m(t){const e=(0,a.getTensorsInContainer)(t);e.forEach((t=>t.dispose()))}function v(t){return r.T2.keep(t)}function y(t){return r.T2.time(t)}function b(t){return r.T2.setBackend(t)}function w(){return r.T2.ready()}function x(){return r.T2.backendName}function _(t){r.T2.removeBackend(t)}function k(t){return r.T2.findBackend(t)}function A(t){return r.T2.findBackendFactory(t)}function S(t,e,n=1){return r.T2.registerBackend(t,e,n)}function C(){return r.T2.backend}function E(t,e){(0,i._K)().setPlatform(t,e)}(0,o.B4)(l)},1830:function(t,e,n){"use strict";n.d(e,{Dv:function(){return s},_X:function(){return h},jY:function(){return c},mu:function(){return l},ok:function(){return u},y7:function(){return f}});var r=n(7260),i=n(1722),o=n(8189),a=n(5119);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){return a.vA(a.Tn(t),(()=>"The f passed in grad(f) must be a function")),(e,n)=>{const i=(0,o.YT)(e,"x","tf.grad","string_or_numeric"),s=null!=n?(0,o.YT)(n,"dy","tf.grad"):null;return r.T2.tidy((()=>{const{value:e,grads:n}=r.T2.gradients((()=>t(i)),[i],s);return null!=s&&a.O3(e.shape,s.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),d(n),n[0]}))}}function u(t){return a.vA(a.Tn(t),(()=>"The f passed in grads(f) must be a function")),(e,n)=>{a.vA(Array.isArray(e),(()=>"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s"));const i=(0,o.j1)(e,"args","tf.grads","string_or_numeric"),s=null!=n?(0,o.YT)(n,"dy","tf.grads"):null;return r.T2.tidy((()=>{const{value:e,grads:n}=r.T2.gradients((()=>t(...i)),i,s);return null!=s&&a.O3(e.shape,s.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),d(n),n}))}}function c(t){return a.vA(a.Tn(t),(()=>"The f passed in valueAndGrad(f) must be a function")),(e,n)=>{a.vA(e instanceof i.qY,(()=>"The x passed in valueAndGrad(f)(x) must be a tensor")),a.vA(null==n||n instanceof i.qY,(()=>"The dy passed in valueAndGrad(f)(x, dy) must be a tensor"));const{grads:o,value:s}=r.T2.gradients((()=>t(e)),[e],n);return d(o),{grad:o[0],value:s}}}function l(t){return a.vA(a.Tn(t),(()=>"The f passed in valueAndGrads(f) must be a function")),(e,n)=>{a.vA(Array.isArray(e)&&e.every((t=>t instanceof i.qY)),(()=>"The args passed in valueAndGrads(f)(args) must be array of tensors")),a.vA(null==n||n instanceof i.qY,(()=>"The dy passed in valueAndGrads(f)(args, dy) must be a tensor"));const o=r.T2.gradients((()=>t(...e)),e,n);return null!=n&&a.O3(o.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),d(o.grads),o}}function f(t,e){a.vA(a.Tn(t),(()=>"The f passed in variableGrads(f) must be a function")),a.vA(null==e||Array.isArray(e)&&e.every((t=>t instanceof i.rT)),(()=>"The varList passed in variableGrads(f, varList) must be an array of variables"));const n=null!=e;if(!n){e=[];for(const t in r.T2.registeredVariables)e.push(r.T2.registeredVariables[t])}const o=n?e.filter((t=>!t.trainable)):null,s=e.length;e=e.filter((t=>t.trainable)),a.vA(e.length>0,(()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${s} variables is trainable.`));const u=!0,{value:c,grads:l}=r.T2.gradients(t,e,null,u);a.vA(l.some((t=>null!=t)),(()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize().")),a.vA(0===c.rank,(()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${c.rank} tensor`));const f={};return e.forEach(((t,e)=>{null!=l[e]&&(f[t.name]=l[e])})),null!=o&&o.forEach((t=>f[t.name]=null)),{value:c,grads:f}}function h(t){return r.T2.customGrad(t)}function d(t){const e=t.filter((t=>null==t)).length;if(e>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}},8697:function(t,e,n){"use strict";n.r(e),n.d(e,{Abs:function(){return hn.ljI},Acos:function(){return hn.Vvy},Acosh:function(){return hn.PH8},AdadeltaOptimizer:function(){return ge},AdagradOptimizer:function(){return ve},AdamOptimizer:function(){return we},AdamaxOptimizer:function(){return ke},Add:function(){return hn.OMN},AddN:function(){return hn.EkD},All:function(){return hn.u8Z},Any:function(){return hn.FSt},ArgMax:function(){return hn.Jp_},ArgMin:function(){return hn.p_m},Asin:function(){return hn.QKF},Asinh:function(){return hn.epO},Atan:function(){return hn.TyE},Atan2:function(){return hn.lxb},Atanh:function(){return hn.zP9},AvgPool:function(){return hn.ho8},AvgPool3D:function(){return hn.cS},AvgPool3DGrad:function(){return hn.wwC},AvgPoolGrad:function(){return hn.VCH},BatchMatMul:function(){return hn.jAQ},BatchToSpaceND:function(){return hn.Ik2},Bincount:function(){return hn.N4F},BitwiseAnd:function(){return hn.HNs},BroadcastArgs:function(){return hn.vj7},BroadcastTo:function(){return hn.LB5},Cast:function(){return hn.KXH},Ceil:function(){return hn.QDP},ClipByValue:function(){return hn.vaV},Complex:function(){return hn.pr3},ComplexAbs:function(){return hn.$zE},Concat:function(){return hn.$dB},Conv2D:function(){return hn.p2J},Conv2DBackpropFilter:function(){return hn.rFm},Conv2DBackpropInput:function(){return hn.jfg},Conv3D:function(){return hn.A1h},Conv3DBackpropFilterV2:function(){return hn.iGz},Conv3DBackpropInputV2:function(){return hn.gC7},Cos:function(){return hn.Mn0},Cosh:function(){return hn.MnK},CropAndResize:function(){return hn.MRQ},Cumprod:function(){return hn.jj_},Cumsum:function(){return hn.nY8},DataStorage:function(){return _f.GJ},DenseBincount:function(){return hn.wNW},DepthToSpace:function(){return hn.TMz},DepthwiseConv2dNative:function(){return hn.tGH},DepthwiseConv2dNativeBackpropFilter:function(){return hn.X$8},DepthwiseConv2dNativeBackpropInput:function(){return hn.nVu},Diag:function(){return hn.ORI},Dilation2D:function(){return hn.jxD},Dilation2DBackpropFilter:function(){return hn.pk0},Dilation2DBackpropInput:function(){return hn.bP9},Draw:function(){return hn.XmO},ENV:function(){return _.Km},Einsum:function(){return hn.Qgm},Elu:function(){return hn.Pah},EluGrad:function(){return hn.rsH},Environment:function(){return _.OH},Equal:function(){return hn.BRl},Erf:function(){return hn._s9},Exp:function(){return hn.ox3},ExpandDims:function(){return hn.ybN},Expm1:function(){return hn.ybj},FFT:function(){return hn.rGP},Fill:function(){return hn.SQl},FlipLeftRight:function(){return hn.BxF},Floor:function(){return hn.ZgB},FloorDiv:function(){return hn.ElG},FromPixels:function(){return hn.awo},FusedBatchNorm:function(){return hn.i5R},FusedConv2D:function(){return hn.aAr},FusedDepthwiseConv2D:function(){return hn.T7M},GatherNd:function(){return hn.O4G},GatherV2:function(){return hn.mxL},Greater:function(){return hn.XhZ},GreaterEqual:function(){return hn.lLS},IFFT:function(){return hn.OAQ},Identity:function(){return hn.lzr},Imag:function(){return hn.dv8},IsFinite:function(){return hn.gIW},IsInf:function(){return hn.E3$},IsNan:function(){return hn.iPs},KernelBackend:function(){return _f.uI},LRN:function(){return hn.jM4},LRNGrad:function(){return hn.ToN},LeakyRelu:function(){return hn.X0$},Less:function(){return hn.mIA},LessEqual:function(){return hn.CwD},LinSpace:function(){return hn.mnI},Log:function(){return hn.tG8},Log1p:function(){return hn.Cg$},LogSoftmax:function(){return hn.zfU},LogicalAnd:function(){return hn.RUm},LogicalNot:function(){return hn.nZd},LogicalOr:function(){return hn.LXA},LogicalXor:function(){return hn.RW8},LowerBound:function(){return hn.yPW},MatrixBandPart:function(){return hn.WRv},Max:function(){return hn.VAI},MaxPool:function(){return hn.t3d},MaxPool3D:function(){return hn.ySp},MaxPool3DGrad:function(){return hn.cHb},MaxPoolGrad:function(){return hn.RXX},MaxPoolWithArgmax:function(){return hn.TL8},Maximum:function(){return hn.LDN},Mean:function(){return hn.g5A},Min:function(){return hn.lNG},Minimum:function(){return hn.LG0},MirrorPad:function(){return hn.x7F},Mod:function(){return hn.BLA},MomentumOptimizer:function(){return Se},Multinomial:function(){return hn.WT3},Multiply:function(){return hn.xu7},Neg:function(){return hn.l0G},NonMaxSuppressionV3:function(){return hn.SDM},NonMaxSuppressionV4:function(){return hn.Zl4},NonMaxSuppressionV5:function(){return hn.e0f},NotEqual:function(){return hn.ylV},OP_SCOPE_SUFFIX:function(){return sn.B},OneHot:function(){return hn.urI},OnesLike:function(){return hn.LWX},Optimizer:function(){return pe},OptimizerConstructors:function(){return pr},Pack:function(){return hn.mM$},PadV2:function(){return hn.ODT},Pool:function(){return hn.bCz},Pow:function(){return hn.pyJ},Prelu:function(){return hn.Ncv},Prod:function(){return hn.kdj},RMSPropOptimizer:function(){return Ce},RaggedGather:function(){return hn.oJ2},RaggedRange:function(){return hn.CQC},RaggedTensorToTensor:function(){return hn.mH5},Range:function(){return hn.Q6t},Rank:function(){return gr.rg},Real:function(){return hn.LRy},RealDiv:function(){return hn.sDr},Reciprocal:function(){return hn.huO},Reduction:function(){return _c},Relu:function(){return hn.fUj},Relu6:function(){return hn.P_L},Reshape:function(){return hn.R23},ResizeBilinear:function(){return hn.hgw},ResizeBilinearGrad:function(){return hn.FCQ},ResizeNearestNeighbor:function(){return hn.jOE},ResizeNearestNeighborGrad:function(){return hn.XQy},Reverse:function(){return hn.D7i},RotateWithOffset:function(){return hn.BK4},Round:function(){return hn.hVg},Rsqrt:function(){return hn.TOR},SGDOptimizer:function(){return Ae},ScatterNd:function(){return hn.pJc},SearchSorted:function(){return hn.uWl},Select:function(){return hn.l6P},Selu:function(){return hn.u$b},Sigmoid:function(){return hn.vI1},Sign:function(){return hn.YVe},Sin:function(){return hn.hql},Sinh:function(){return hn.J3C},Slice:function(){return hn.JiE},Softmax:function(){return hn.rFG},Softplus:function(){return hn.Fin},SpaceToBatchND:function(){return hn.A8B},SparseFillEmptyRows:function(){return hn.C8s},SparseReshape:function(){return hn.BoJ},SparseSegmentMean:function(){return hn.L6G},SparseSegmentSum:function(){return hn.DvZ},SparseToDense:function(){return hn.jgd},SplitV:function(){return hn.Blb},Sqrt:function(){return hn.dFH},Square:function(){return hn.M6A},SquaredDifference:function(){return hn.Ddj},StaticRegexReplace:function(){return hn.GZp},Step:function(){return hn.pnw},StridedSlice:function(){return hn.UcO},StringNGrams:function(){return hn.YAb},StringSplit:function(){return hn.iW0},StringToHashBucketFast:function(){return hn.$jE},Sub:function(){return hn.PbM},Sum:function(){return hn.WuN},Tan:function(){return hn.oFs},Tanh:function(){return hn.iuW},Tensor:function(){return Gt.qY},TensorBuffer:function(){return Gt.yl},TensorScatterUpdate:function(){return hn.X4r},Tile:function(){return hn.FAs},TopK:function(){return hn.TBb},Transform:function(){return hn.dLy},Transpose:function(){return hn.wx0},Unique:function(){return hn.EwU},Unpack:function(){return hn.dXR},UnsortedSegmentSum:function(){return hn.pPe},UpperBound:function(){return hn.RMm},Variable:function(){return Gt.rT},ZerosLike:function(){return hn.xJ3},_FusedMatMul:function(){return hn.Dr},abs:function(){return xe.t},acos:function(){return mr.H},acosh:function(){return vr.F},add:function(){return te.W},addN:function(){return br},all:function(){return wr.Q},any:function(){return xr.b},argMax:function(){return _r.F},argMin:function(){return kr.X},asin:function(){return Ar.q},asinh:function(){return Sr.y},atan:function(){return Cr.r},atan2:function(){return Er.F},atanh:function(){return Dr.r},avgPool:function(){return Mr.$},avgPool3d:function(){return $r},backend:function(){return $.Hs},backend_util:function(){return p},basicLSTMCell:function(){return jr},batchNorm:function(){return zr.$},batchNorm2d:function(){return qr},batchNorm3d:function(){return Hr},batchNorm4d:function(){return Yr},batchToSpaceND:function(){return Lr.G},bincount:function(){return Kr},bitwiseAnd:function(){return Jr},booleanMaskAsync:function(){return js},broadcastArgs:function(){return Qr},broadcastTo:function(){return ti.h},broadcast_util:function(){return fn},browser:function(){return s},buffer:function(){return Kt},cast:function(){return Xt.w},ceil:function(){return ei.m},clipByValue:function(){return ni.z},clone:function(){return Jt.o},complex:function(){return A.f},concat:function(){return Nr.x},concat1d:function(){return ii},concat2d:function(){return ai},concat3d:function(){return ui},concat4d:function(){return li},conv1d:function(){return fi.k},conv2d:function(){return hi.X},conv2dTranspose:function(){return di.w},conv3d:function(){return gi},conv3dTranspose:function(){return bi},copyRegisteredKernels:function(){return dn.Cf},cos:function(){return wi.g},cosh:function(){return xi.y},cosineWindow:function(){return tu},cumprod:function(){return _i.L},cumsum:function(){return ki.r},customGrad:function(){return ae._X},denseBincount:function(){return Si},deprecationWarn:function(){return $.fL},depthToSpace:function(){return Ci.R},depthwiseConv2d:function(){return Ei.G},device_util:function(){return r},diag:function(){return Mi},dilation2d:function(){return Ti.X},disableDeprecationWarnings:function(){return $.IS},dispose:function(){return $.AS},disposeVariables:function(){return $.rm},div:function(){return ee.y},divNoNan:function(){return Fi.e},dot:function(){return Oi.O},dropout:function(){return Zs},einsum:function(){return Ni},elu:function(){return Bi.P},enableDebugMode:function(){return $.gY},enableProdMode:function(){return $.Sm},enclosingPowerOfTwo:function(){return Qs},engine:function(){return $.Hi},ensureShape:function(){return Pi},env:function(){return _._K},equal:function(){return Ii.L},erf:function(){return ji.Y},euclideanNorm:function(){return Li.p},exp:function(){return zi.o},expandDims:function(){return Ui.U},expm1:function(){return qi.I},eye:function(){return Wi},fft:function(){return ss.h},fill:function(){return me.G},findBackend:function(){return $.go},findBackendFactory:function(){return $.W4},floor:function(){return Yi.R},floorDiv:function(){return Gi.w},fused:function(){return h},gather:function(){return Ki.k},gatherND:function(){return Ks},gather_util:function(){return u},getBackend:function(){return $.jz},getGradient:function(){return dn.vQ},getKernel:function(){return dn._5},getKernelsForBackend:function(){return dn.Op},grad:function(){return ae.Dv},grads:function(){return ae.ok},greater:function(){return Xi.r},greaterEqual:function(){return Ji.D},ifft:function(){return us.K},imag:function(){return Zi.n},image:function(){return sl},inTopKAsync:function(){return nu},io:function(){return o},irfft:function(){return cs.g},isFinite:function(){return Qi.M},isInf:function(){return to.E},isNaN:function(){return eo.y},keep:function(){return $.aC},kernel_impls:function(){return g},leakyRelu:function(){return no.H},less:function(){return ro.M},lessEqual:function(){return io.I},linalg:function(){return ul},linspace:function(){return oo},localResponseNormalization:function(){return ao.K},log:function(){return so.R},log1p:function(){return uo.K},logSigmoid:function(){return co.n},logSoftmax:function(){return lo.H},logSumExp:function(){return fo.V},logicalAnd:function(){return ho.n},logicalNot:function(){return po.N},logicalOr:function(){return go.z},logicalXor:function(){return mo.r},losses:function(){return cl},lowerBound:function(){return wo},matMul:function(){return on.N},math:function(){return a},max:function(){return xo.T},maxPool:function(){return _o.j},maxPool3d:function(){return Ao},maxPoolWithArgmax:function(){return Co},maximum:function(){return _e.P},mean:function(){return Eo.i},memory:function(){return $.m1},meshgrid:function(){return To},min:function(){return Fo.j},minimum:function(){return Oo.B},mirrorPad:function(){return $o.F},mod:function(){return No.z},moments:function(){return Po},movingAverage:function(){return Us},mul:function(){return ne.l},multiRNNCell:function(){return jo},multinomial:function(){return zo},neg:function(){return Uo.H},nextFrame:function(){return pl},norm:function(){return Ls.x},notEqual:function(){return qo.E},oneHot:function(){return an.M},ones:function(){return Mo},onesLike:function(){return Vo.P},op:function(){return sn.op},outerProduct:function(){return Wo},pad:function(){return Yo.e},pad1d:function(){return Ko},pad2d:function(){return Jo},pad3d:function(){return Qo},pad4d:function(){return ea},pool:function(){return na.d},pow:function(){return ye.n},prelu:function(){return ra.N},print:function(){return Zt},prod:function(){return ia._},profile:function(){return $.ME},raggedGather:function(){return aa},raggedRange:function(){return ua},raggedTensorToTensor:function(){return la},rand:function(){return ha},randomGamma:function(){return ya},randomNormal:function(){return wa},randomStandardNormal:function(){return _a},randomUniform:function(){return Aa},randomUniformInt:function(){return Ca},range:function(){return Ea},ready:function(){return $.Gc},real:function(){return Da.x},reciprocal:function(){return Ma.V},registerBackend:function(){return $.gJ},registerGradient:function(){return dn.kr},registerKernel:function(){return dn.tA},relu:function(){return Ta.V},relu6:function(){return Fa.j},removeBackend:function(){return $.rE},reshape:function(){return Fr.t},reverse:function(){return Oa.B},reverse1d:function(){return Na},reverse2d:function(){return Ra},reverse3d:function(){return Ia},reverse4d:function(){return La},rfft:function(){return ls.z},round:function(){return za.L},rsqrt:function(){return Ua.Z},scalar:function(){return se.d},scatterND:function(){return Vs},scatter_util:function(){return c},searchSorted:function(){return bo},selu:function(){return qa.W},separableConv2d:function(){return Va.w},serialization:function(){return i},setBackend:function(){return $.jh},setPlatform:function(){return $.Ok},setdiff1dAsync:function(){return Wa},sigmoid:function(){return Br.r},sign:function(){return Ya._},signal:function(){return al},sin:function(){return Ga.F},sinh:function(){return Ka.L},slice:function(){return Rr.d},slice1d:function(){return Ja},slice2d:function(){return Qa},slice3d:function(){return es},slice4d:function(){return rs},slice_util:function(){return l},softmax:function(){return is.V},softplus:function(){return os.l},spaceToBatchND:function(){return as.e},sparse:function(){return ll},sparseToDense:function(){return Ys},spectral:function(){return ol},split:function(){return fs.l},sqrt:function(){return re.R},square:function(){return ie.E},squaredDifference:function(){return hs.P},squeeze:function(){return ds.r},stack:function(){return ps.t},step:function(){return gs.P},stridedSlice:function(){return ms.Y},string:function(){return fl},sub:function(){return be.j},sum:function(){return vs.c},sumOutType:function(){return gr.ch},tan:function(){return ys.M},tanh:function(){return Pr.y},tensor:function(){return E},tensor1d:function(){return bs},tensor2d:function(){return ws},tensor3d:function(){return pn},tensor4d:function(){return xs},tensor5d:function(){return _s},tensor6d:function(){return ks},tensorScatterUpdate:function(){return Ss},tensor_util:function(){return Zn},test_util:function(){return f},tidy:function(){return $.DZ},tile:function(){return Vi.V},time:function(){return $.kB},topk:function(){return Cs.r},train:function(){return hl},transpose:function(){return un.m},truncatedNormal:function(){return Ds},unique:function(){return Ms.A},unregisterGradient:function(){return dn.rY},unregisterKernel:function(){return dn.iP},unsortedSegmentSum:function(){return Ts.z},unstack:function(){return Fs.K},upcastType:function(){return gr.Tu},upperBound:function(){return Os},util:function(){return T},valueAndGrad:function(){return ae.jY},valueAndGrads:function(){return ae.mu},variable:function(){return $s},variableGrads:function(){return ae.y7},version_core:function(){return dr},where:function(){return Ns._},whereAsync:function(){return Ps},zeros:function(){return Do.U},zerosLike:function(){return oe.P}});var r={};n.r(r),n.d(r,{isBrowser:function(){return x},isMobile:function(){return w},mockIsMobile:function(){return b}});var i={};n.r(i),n.d(i,{Serializable:function(){return le},SerializationMap:function(){return fe},getRegisteredName:function(){return de},registerClass:function(){return he}});var o={};n.r(o),n.d(o,{CompositeArrayBuffer:function(){return F},browserFiles:function(){return Pe},browserHTTPRequest:function(){return Xe},concatenateArrayBuffers:function(){return Y},copyModel:function(){return zt},decodeWeights:function(){return R},decodeWeightsStream:function(){return z},encodeWeights:function(){return B},fromMemory:function(){return tn},fromMemorySync:function(){return en},getLoadHandlers:function(){return ut},getModelArtifactsForJSON:function(){return J},getModelArtifactsForJSONSync:function(){return X},getModelArtifactsInfoForJSON:function(){return Z},getSaveHandlers:function(){return st},getWeightSpecs:function(){return Q},http:function(){return Ke},isHTTPScheme:function(){return Ye},listModels:function(){return jt},loadWeights:function(){return ze},moveModel:function(){return Ut},registerLoadRouter:function(){return at},registerSaveRouter:function(){return ot},removeModel:function(){return Lt},weightsLoaderFactory:function(){return Ue},withSaveHandler:function(){return nn},withSaveHandlerSync:function(){return rn}});var a={};n.r(a),n.d(a,{confusionMatrix:function(){return ln}});var s={};n.r(s),n.d(s,{draw:function(){return Cn},fromPixels:function(){return En},fromPixelsAsync:function(){return _n},toPixels:function(){return Sn}});var u={};n.r(u),n.d(u,{prepareAndValidate:function(){return Dn}});var c={};n.r(c),n.d(c,{calculateShapes:function(){return Fn},validateInput:function(){return Tn},validateUpdateShape:function(){return Mn}});var l={};n.r(l),n.d(l,{assertParamsValid:function(){return Nn},computeFlatOffset:function(){return Yn},computeOutShape:function(){return Rn},getNormalizedAxes:function(){return Ln},isSliceContinous:function(){return Wn},maskToAxes:function(){return Bn},parseSliceParams:function(){return Gn},sliceInfo:function(){return Kn},startForAxis:function(){return Vn},startIndicesWithElidedDims:function(){return zn},stopForAxis:function(){return Hn},stopIndicesWithElidedDims:function(){return Un},stridesForAxis:function(){return qn},stridesWithElidedDims:function(){return Pn}});var f={};n.r(f),n.d(f,{TEST_EPSILON_FLOAT16:function(){return tr},createVideoElement:function(){return fr},encodeStrings:function(){return lr},expectArrayBuffersEqual:function(){return cr},expectArraysClose:function(){return er},expectArraysEqual:function(){return or},expectNumbersClose:function(){return ar},expectPromiseToFail:function(){return ir},expectValuesInRange:function(){return ur},play:function(){return hr},testEpsilon:function(){return nr}});var h={};n.r(h),n.d(h,{conv2d:function(){return fu},depthwiseConv2d:function(){return vu},matMul:function(){return bu}});var d={};n.r(d),n.d(d,{collectGatherOpShapeInfo:function(){return bf},computeOutShape:function(){return yf},segOpComputeOptimalWindowSize:function(){return vf}});var p={};n.r(p),n.d(p,{ERF_A1:function(){return $l},ERF_A2:function(){return Nl},ERF_A3:function(){return Bl},ERF_A4:function(){return Rl},ERF_A5:function(){return Pl},ERF_P:function(){return Ol},PARALLELIZE_THRESHOLD:function(){return _l},RowPartitionType:function(){return vl},SELU_SCALE:function(){return Fl},SELU_SCALEALPHA:function(){return Tl},applyActivation:function(){return uu},assertAndGetBroadcastShape:function(){return fn.assertAndGetBroadcastShape},assertAxesAreInnerMostDims:function(){return Bo.WC},assertParamsConsistent:function(){return gl},assignToTypedArray:function(){return Vl},axesAreInnerMostDims:function(){return Bo.WH},calculateShapes:function(){return Fn},checkEinsumDimSizes:function(){return Ql},checkPadOnDimRoundingMode:function(){return Tr.s_},combineLocations:function(){return Bo.aF},combineRaggedTensorToTensorShapes:function(){return yl},complexWithEvenIndex:function(){return zl},complexWithOddIndex:function(){return Ul},computeConv2DInfo:function(){return Tr.uf},computeConv3DInfo:function(){return Tr.p$},computeDefaultPad:function(){return Tr.G8},computeDilation2DInfo:function(){return Tr.YQ},computeOptimalWindowSize:function(){return kl},computeOutAndReduceShapes:function(){return Bo.lb},computeOutShape:function(){return ml},computePool2DInfo:function(){return Tr.E6},computePool3DInfo:function(){return Tr.l5},convertConv2DDataFormat:function(){return Tr.$Q},decodeEinsumEquation:function(){return Jl},eitherStridesOrDilationsAreOne:function(){return Tr.G0},expandShapeToKeepDim:function(){return Bo.SM},exponent:function(){return Wl},exponents:function(){return Hl},fromStringArrayToUint8:function(){return xf},fromUint8ToStringArray:function(){return wf},getAxesPermutation:function(){return Bo.Em},getBroadcastDims:function(){return fn.getBroadcastDims},getComplexWithIndex:function(){return ql},getEinsumComputePath:function(){return tf},getEinsumPermutation:function(){return Zl},getFusedBiasGradient:function(){return su},getFusedDyActivation:function(){return au},getImageCenter:function(){return Al},getInnerMostAxes:function(){return Bo.fK},getPermuted:function(){return Cl},getRaggedRank:function(){return wl},getReductionAxes:function(){return fn.getReductionAxes},getReshaped:function(){return Sl},getReshapedPermuted:function(){return El},getRowPartitionTypesHelper:function(){return bl},getSliceBeginCoords:function(){return Dl},getSliceSize:function(){return Ml},getSparseFillEmptyRowsIndicesDenseShapeMismatch:function(){return of},getSparseFillEmptyRowsNegativeIndexErrorMessage:function(){return af},getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:function(){return sf},getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:function(){return lf},getSparseReshapeInputOutputMismatchErrorMessage:function(){return hf},getSparseReshapeInputOutputMultipleErrorMessage:function(){return ff},getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:function(){return uf},getSparseReshapeNegativeOutputDimErrorMessage:function(){return cf},getSparseSegmentReductionIndicesOutOfRangeErrorMessage:function(){return mf},getSparseSegmentReductionNegativeSegmentIdsErrorMessage:function(){return df},getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:function(){return pf},getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:function(){return gf},getUndoAxesPermutation:function(){return Bo.gx},isIdentityPermutation:function(){return ef},log:function(){return Il.R},mergeRealAndImagArrays:function(){return jl},prepareAndValidate:function(){return Dn},prepareSplitSize:function(){return rf},segment_util:function(){return d},shouldFuse:function(){return cu},slice_util:function(){return l},splitRealAndImagArrays:function(){return Ll},stridesOrDilationsArePositive:function(){return Tr.qk},tupleValuesAreOne:function(){return Tr.Dh},upcastType:function(){return gr.Tu},validateDefaultValueShape:function(){return xl},validateInput:function(){return Tn},validateUpdateShape:function(){return Mn},warn:function(){return Il.i}});var g={};n.r(g),n.d(g,{nonMaxSuppressionV3Impl:function(){return Hu},nonMaxSuppressionV4Impl:function(){return Wu},nonMaxSuppressionV5Impl:function(){return Yu},whereImpl:function(){return Bs}});var m=n(7260);
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function v(){return"undefined"!==typeof navigator&&null!=navigator}let y;function b(t){y=t}function w(t){if(void 0!==y)return y;if(t||v()){if(t||(t=navigator),"ReactNative"===t.product)return!0;const e=t.userAgent||t.vendor||("undefined"!==typeof window?window.opera:"");if(!e){const e=t;return e.userAgentData&&e.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}function x(){return"undefined"!==typeof window&&null!=window.document||"undefined"!==typeof WorkerGlobalScope}var _=n(6574);
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const k=(0,_._K)();k.registerFlag("DEBUG",(()=>!1),(t=>{t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),k.registerFlag("IS_BROWSER",(()=>x())),k.registerFlag("IS_NODE",(()=>"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node)),k.registerFlag("IS_CHROME",(()=>"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),k.registerFlag("IS_SAFARI",(()=>"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor))),k.registerFlag("PROD",(()=>!1)),k.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>k.getBool("DEBUG"))),k.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),k.registerFlag("IS_TEST",(()=>!1)),k.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(()=>k.getBool("DEBUG"))),k.registerFlag("WRAP_TO_IMAGEBITMAP",(()=>!1)),k.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",(()=>!1)),k.registerFlag("USE_SETTIMEOUTCUSTOM",(()=>!1));var A=n(7148),S=n(8189),C=n(9171);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function E(t,e,n){const r=(0,S.MZ)(t,n);return(0,C.Q)(t,e,r,n)}var D=n(5119);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const M={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};var T=n(1259);class F{static join(t){return new F(t).slice()}constructor(t){if(this.shards=[],this.previousShardIndex=0,null==t)return;if(t instanceof Array||(t=[t]),t=t.map((t=>T.isTypedArray(t)?t.buffer:t)),0===t.length)return;this.bufferUniformSize=t[0].byteLength;let e=0;for(let n=0;n<t.length;n++){const r=t[n];n!==t.length-1&&r.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const i=e+r.byteLength;this.shards.push({buffer:r,start:e,end:i}),e=i}0===this.shards.length&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(t=0,e=this.byteLength){if(0===this.shards.length)return new ArrayBuffer(0);if(t=isNaN(Number(t))?0:t,e=isNaN(Number(e))?0:e,t=Math.max(0,t),e=Math.min(this.byteLength,e),e<=t)return new ArrayBuffer(0);const n=this.findShardForByte(t);if(-1===n)throw new Error(`Could not find start shard for byte ${t}`);const r=e-t,i=new ArrayBuffer(r),o=new Uint8Array(i);let a=0;for(let s=n;s<this.shards.length;s++){const n=this.shards[s],r=t+a,i=r-n.start,u=a,c=Math.min(e,n.end),l=c-n.start,f=new Uint8Array(n.buffer,i,l-i);if(o.set(f,u),a+=f.length,e<n.end)break}return i}findShardForByte(t){if(0===this.shards.length||t<0||t>=this.byteLength)return-1;if(null!=this.bufferUniformSize)return this.previousShardIndex=Math.floor(t/this.bufferUniformSize),this.previousShardIndex;function e(e){return t<e.start?-1:t>=e.end?1:0}if(0===e(this.shards[this.previousShardIndex]))return this.previousShardIndex;const n=O(this.shards,e);return-1===n?-1:(this.previousShardIndex=n,this.previousShardIndex)}}function O(t,e){let n=0,r=t.length;while(n<=r){const i=Math.floor((r-n)/2)+n,o=e(t[i]);if(0===o)return i;o<0?r=i:n=i+1}return-1}var $=n(5287);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const N=4;async function B(t,e){const n=[],r=[],i=Array.isArray(t)?t.map((t=>t.name)):Object.keys(t);for(let a=0;a<i.length;++a){const o=i[a],s=Array.isArray(t)?t[a].tensor:t[o];if("float32"!==s.dtype&&"int32"!==s.dtype&&"bool"!==s.dtype&&"string"!==s.dtype&&"complex64"!==s.dtype)throw new Error(`Unsupported dtype in weight '${o}': ${s.dtype}`);const u={name:o,shape:s.shape,dtype:s.dtype};if("string"===s.dtype){const t=new Promise((async t=>{const e=await s.bytes(),n=e.reduce(((t,e)=>t+e.length),0)+N*e.length,r=new Uint8Array(n);let i=0;for(let o=0;o<e.length;o++){const t=e[o],n=new Uint8Array(new Uint32Array([t.length]).buffer);r.set(n,i),i+=N,r.set(t,i),i+=t.length}t(r)}));r.push(t)}else r.push(s.data());null!=e&&(u.group=e),n.push(u)}const o=await Promise.all(r);return{data:U(o),specs:n}}function R(t,e){const n=new F(t),r={};let i=0;for(const o of e){const t=P(o,((t,e)=>n.slice(i+t,i+e)));r[o.name]=j(o,n.slice(i,i+t)),i+=t}return r}function P(t,e){const n=(0,D.Ze)(t.shape);let r;if("quantization"in t){const e=t.quantization;r=M[e.dtype]}else{if("string"===t.dtype){let t=0;for(let r=0;r<n;r++)t+=N+new Uint32Array(e(t,t+N))[0];return t}r=M[t.dtype]}return n*r}async function I(t,e){const n=(0,D.Ze)(t.shape);let r;if("quantization"in t){const e=t.quantization;r=M[e.dtype]}else{if("string"===t.dtype){let t=0;for(let r=0;r<n;r++)t+=N+new Uint32Array(await e(t,t+N))[0];return t}r=M[t.dtype]}return n*r}function j(t,e){const n=t.name,r=t.dtype,i=t.shape,o=(0,D.Ze)(i);let a,s=0;if("quantization"in t){const i=t.quantization;if("uint8"===i.dtype||"uint16"===i.dtype){if(!("min"in i)||!("scale"in i))throw new Error(`Weight ${t.name} with quantization ${i.dtype} doesn't have corresponding metadata min and scale.`)}else{if("float16"!==i.dtype)throw new Error(`Weight ${t.name} has unknown quantization dtype ${i.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);if("float32"!==r)throw new Error(`Weight ${t.name} is quantized with ${i.dtype} which only supports weights of type float32 not ${r}.`)}const u=M[i.dtype],c="uint8"===i.dtype?new Uint8Array(e):new Uint16Array(e);if("float32"===r)if("uint8"===i.dtype||"uint16"===i.dtype){a=new Float32Array(c.length);for(let t=0;t<c.length;t++){const e=c[t];a[t]=e*i.scale+i.min}}else{if("float16"!==i.dtype)throw new Error(`Unsupported quantization type ${i.dtype} for weight type float32.`);{const t=rt();a=t(c)}}else{if("int32"!==r)throw new Error(`Unsupported dtype in weight '${n}': ${r}`);if("uint8"!==i.dtype&&"uint16"!==i.dtype)throw new Error(`Unsupported quantization type ${i.dtype} for weight type int32.`);a=new Int32Array(c.length);for(let t=0;t<c.length;t++){const e=c[t];a[t]=Math.round(e*i.scale+i.min)}}s+=o*u}else if("string"===r){const n=(0,D.Ze)(t.shape);a=[];for(let t=0;t<n;t++){const t=new Uint32Array(e.slice(s,s+N))[0];s+=N;const n=new Uint8Array(e.slice(s,s+t));a.push(n),s+=t}}else{const t=M[r];if("float32"===r)a=new Float32Array(e);else if("int32"===r)a=new Int32Array(e);else{if("bool"!==r){if("complex64"===r){a=new Float32Array(e);const t=new Float32Array(a.length/2),n=new Float32Array(a.length/2);for(let e=0;e<t.length;e++)t[e]=a[2*e],n[e]=a[2*e+1];const r=E(t,i,"float32"),o=E(n,i,"float32"),s=(0,A.f)(r,o);return r.dispose(),o.dispose(),s}throw new Error(`Unsupported dtype in weight '${n}': ${r}`)}a=new Uint8Array(e)}s+=o*t}return E(a,i,r)}async function L(t,e,n){let r=new Uint8Array(e);while(r.byteLength<n){const{done:e,value:i}=await t.read();if(e&&null==i){const t=n-r.byteLength;throw new Error(`Reader is done but ${t} bytes are still expected`)}const o=new Uint8Array(r.length+i.byteLength);o.set(r,0),o.set(new Uint8Array(i),r.length),r=o}return r.buffer}async function z(t,e){const n={},r=t.getReader();let i=new ArrayBuffer(0);for(const o of e){const t=await I(o,(async(t,e)=>(i=await L(r,i,e),i.slice(t,e))));i=await L(r,i,t);const e=i.slice(0,t);i=i.slice(t);const a=j(o,e);if(n[o.name]=a,"webgpu"===(0,$.jz)()){const t=(0,$.Hs)();"uploadToGPU"in t&&(0,D.Ze)(a.shape)>=(0,_._K)().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&t.uploadToGPU(a.dataId)}}return n}function U(t){if(null===t)throw new Error(`Invalid input value: ${JSON.stringify(t)}`);let e=0;const n=[];t.forEach((t=>{if(e+=t.byteLength,n.push(t.byteLength===t.buffer.byteLength?t:new t.constructor(t)),!(t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${t.constructor.name}`)}));const r=new Uint8Array(e);let i=0;return n.forEach((t=>{r.set(new Uint8Array(t.buffer),i),i+=t.byteLength})),r.buffer}const q="undefined"!==typeof Buffer&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function V(t){return q?Buffer.byteLength(t,"utf8"):new Blob([t]).size}function H(t){if(q)return Buffer.from(t).toString("base64");const e=new Uint8Array(t);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);return btoa(n)}function W(t){if(q){const e=Buffer.from(t,"base64");return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;++r)n.set([e.charCodeAt(r)],r);return n.buffer}function Y(t){return F.join(t)}function G(t){const e="/";t=t.trim();while(t.endsWith(e))t=t.slice(0,t.length-1);const n=t.split(e);return n[n.length-1]}function K(t,e){const n={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:e};return null!=t.signature&&(n.signature=t.signature),null!=t.userDefinedMetadata&&(n.userDefinedMetadata=t.userDefinedMetadata),null!=t.modelInitializer&&(n.modelInitializer=t.modelInitializer),null!=t.initializerSignature&&(n.initializerSignature=t.initializerSignature),null!=t.trainingConfig&&(n.trainingConfig=t.trainingConfig),n}function X(t,e,n){const r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy};if(null!=t.trainingConfig&&(r.trainingConfig=t.trainingConfig),null!=t.weightsManifest){if(!e)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=e,r.weightData=n}return null!=t.signature&&(r.signature=t.signature),null!=t.userDefinedMetadata&&(r.userDefinedMetadata=t.userDefinedMetadata),null!=t.modelInitializer&&(r.modelInitializer=t.modelInitializer),null!=t.initializerSignature&&(r.initializerSignature=t.initializerSignature),r}async function J(t,e){let n,r;return null!=t.weightsManifest&&([n,r]=await e(t.weightsManifest)),X(t,n,r)}function Z(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==t.modelTopology?0:V(JSON.stringify(t.modelTopology)),weightSpecsBytes:null==t.weightSpecs?0:V(JSON.stringify(t.weightSpecs)),weightDataBytes:null==t.weightData?0:new F(t.weightData).byteLength}}function Q(t){const e=[];for(const n of t)e.push(...n.weights);return e}function tt(){const t=t=>{let e=t<<13,n=0;while(0===(8388608&e))n-=8388608,e<<=1;return e&=-8388609,n+=947912704,e|n},e=new Uint32Array(2048);e[0]=0;for(let n=1;n<1024;n++)e[n]=t(n);for(let n=1024;n<2048;n++)e[n]=939524096+(n-1024<<13);return e}function et(){const t=new Uint32Array(64);t[0]=0,t[31]=1199570944,t[32]=2147483648,t[63]=3347054592;for(let e=1;e<31;e++)t[e]=e<<23;for(let e=33;e<63;e++)t[e]=2147483648+(e-32<<23);return t}function nt(){const t=new Uint32Array(64);for(let e=0;e<64;e++)t[e]=1024;return t[0]=t[32]=0,t}function rt(){const t=tt(),e=et(),n=nt();return r=>{const i=new ArrayBuffer(4*r.length),o=new Uint32Array(i);for(let a=0;a<r.length;a++){const i=r[a],s=t[n[i>>10]+(1023&i)]+e[i>>10];o[a]=s}return new Float32Array(i)}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class it{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==it.instance&&(it.instance=new it),it.instance}static registerSaveRouter(t){it.getInstance().saveRouters.push(t)}static registerLoadRouter(t){it.getInstance().loadRouters.push(t)}static getSaveHandlers(t){return it.getHandlers(t,"save")}static getLoadHandlers(t,e){return it.getHandlers(t,"load",e)}static getHandlers(t,e,n){const r=[],i="load"===e?it.getInstance().loadRouters:it.getInstance().saveRouters;return i.forEach((e=>{const i=e(t,n);null!==i&&r.push(i)})),r}}const ot=t=>it.registerSaveRouter(t),at=t=>it.registerLoadRouter(t),st=t=>it.getSaveHandlers(t),ut=(t,e)=>it.getLoadHandlers(t,e),ct="tensorflowjs",lt=1,ft="models_store",ht="model_info_store";function dt(){if(!(0,_._K)().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const t="undefined"===typeof window?self:window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(null==e)throw new Error("The current browser does not appear to support IndexedDB.");return e}function pt(t){const e=t.result;e.createObjectStore(ft,{keyPath:"modelPath"}),e.createObjectStore(ht,{keyPath:"modelPath"})}class gt{constructor(t){if(this.indexedDB=dt(),null==t||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}async save(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,t)}async load(){return this.databaseAction(this.modelPath)}databaseAction(t,e){return new Promise(((t,n)=>{const r=this.indexedDB.open(ct,lt);r.onupgradeneeded=()=>pt(r),r.onsuccess=()=>{const i=r.result;if(null==e){const e=i.transaction(ft,"readonly"),r=e.objectStore(ft),o=r.get(this.modelPath);o.onsuccess=()=>{if(null==o.result)return i.close(),n(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));t(o.result.modelArtifacts)},o.onerror=t=>(i.close(),n(o.error)),e.oncomplete=()=>i.close()}else{e.weightData=F.join(e.weightData);const r=Z(e),a=i.transaction(ht,"readwrite");let s,u,c=a.objectStore(ht);try{s=c.put({modelPath:this.modelPath,modelArtifactsInfo:r})}catch(o){return n(o)}s.onsuccess=()=>{u=i.transaction(ft,"readwrite");const s=u.objectStore(ft);let l;try{l=s.put({modelPath:this.modelPath,modelArtifacts:e,modelArtifactsInfo:r})}catch(o){return n(o)}l.onsuccess=()=>t({modelArtifactsInfo:r}),l.onerror=t=>{c=a.objectStore(ht);const e=c.delete(this.modelPath);e.onsuccess=()=>(i.close(),n(l.error)),e.onerror=t=>(i.close(),n(l.error))}},s.onerror=t=>(i.close(),n(s.error)),a.oncomplete=()=>{null==u?i.close():u.oncomplete=()=>i.close()}}},r.onerror=t=>n(r.error)}))}}gt.URL_SCHEME="indexeddb://";const mt=t=>(0,_._K)().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(gt.URL_SCHEME)?vt(t.slice(gt.URL_SCHEME.length)):null;function vt(t){return new gt(t)}function yt(t){return t.startsWith(gt.URL_SCHEME)?t.slice(gt.URL_SCHEME.length):t}it.registerSaveRouter(mt),it.registerLoadRouter(mt);class bt{constructor(){this.indexedDB=dt()}async listModels(){return new Promise(((t,e)=>{const n=this.indexedDB.open(ct,lt);n.onupgradeneeded=()=>pt(n),n.onsuccess=()=>{const r=n.result,i=r.transaction(ht,"readonly"),o=i.objectStore(ht),a=o.getAll();a.onsuccess=()=>{const e={};for(const t of a.result)e[t.modelPath]=t.modelArtifactsInfo;t(e)},a.onerror=t=>(r.close(),e(a.error)),i.oncomplete=()=>r.close()},n.onerror=t=>e(n.error)}))}async removeModel(t){return t=yt(t),new Promise(((e,n)=>{const r=this.indexedDB.open(ct,lt);r.onupgradeneeded=()=>pt(r),r.onsuccess=()=>{const i=r.result,o=i.transaction(ht,"readwrite"),a=o.objectStore(ht),s=a.get(t);let u;s.onsuccess=()=>{if(null==s.result)return i.close(),n(new Error(`Cannot find model with path '${t}' in IndexedDB.`));{const r=a.delete(t),o=()=>{u=i.transaction(ft,"readwrite");const r=u.objectStore(ft),o=r.delete(t);o.onsuccess=()=>e(s.result.modelArtifactsInfo),o.onerror=t=>n(s.error)};r.onsuccess=o,r.onerror=t=>(o(),i.close(),n(s.error))}},s.onerror=t=>(i.close(),n(s.error)),o.oncomplete=()=>{null==u?i.close():u.oncomplete=()=>i.close()}},r.onerror=t=>n(r.error)}))}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const wt="/",xt="tensorflowjs_models",_t="info",kt="model_topology",At="weight_specs",St="weight_data",Ct="model_metadata";function Et(t){return{info:[xt,t,_t].join(wt),topology:[xt,t,kt].join(wt),weightSpecs:[xt,t,At].join(wt),weightData:[xt,t,St].join(wt),modelMetadata:[xt,t,Ct].join(wt)}}function Dt(t){for(const e of Object.values(t))window.localStorage.removeItem(e)}function Mt(t){const e=t.split(wt);if(e.length<3)throw new Error(`Invalid key format: ${t}`);return e.slice(1,e.length-1).join(wt)}function Tt(t){return t.startsWith(Ft.URL_SCHEME)?t.slice(Ft.URL_SCHEME.length):t}class Ft{constructor(t){if(!(0,_._K)().getBool("IS_BROWSER")||"undefined"===typeof window||"undefined"===typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==t||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=Et(this.modelPath)}async save(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(t.modelTopology),r=JSON.stringify(t.weightSpecs),i=Z(t),o=F.join(t.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(i)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,H(o));const e={format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,signature:null!=t.signature?t.signature:void 0,userDefinedMetadata:null!=t.userDefinedMetadata?t.userDefinedMetadata:void 0,modelInitializer:null!=t.modelInitializer?t.modelInitializer:void 0,initializerSignature:null!=t.initializerSignature?t.initializerSignature:void 0,trainingConfig:null!=t.trainingConfig?t.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(e)),{modelArtifactsInfo:i}}catch(e){throw Dt(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${i.modelTopologyBytes}, weightSpecsBytes=${i.weightSpecsBytes}, weightDataBytes=${i.weightDataBytes}.`)}}}async load(){const t=JSON.parse(this.LS.getItem(this.keys.info));if(null==t)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if("JSON"!==t.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const e={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);e.modelTopology=n;const r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==r)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);e.weightSpecs=r;const i=this.LS.getItem(this.keys.modelMetadata);if(null!=i){const t=JSON.parse(i);e.format=t.format,e.generatedBy=t.generatedBy,e.convertedBy=t.convertedBy,null!=t.signature&&(e.signature=t.signature),null!=t.userDefinedMetadata&&(e.userDefinedMetadata=t.userDefinedMetadata),null!=t.modelInitializer&&(e.modelInitializer=t.modelInitializer),null!=t.initializerSignature&&(e.initializerSignature=t.initializerSignature),null!=t.trainingConfig&&(e.trainingConfig=t.trainingConfig)}const o=this.LS.getItem(this.keys.weightData);if(null==o)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return e.weightData=W(o),e}}Ft.URL_SCHEME="localstorage://";const Ot=t=>(0,_._K)().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Ft.URL_SCHEME)?$t(t.slice(Ft.URL_SCHEME.length)):null;function $t(t){return new Ft(t)}it.registerSaveRouter(Ot),it.registerLoadRouter(Ot);class Nt{constructor(){(0,D.vA)((0,_._K)().getBool("IS_BROWSER"),(()=>"Current environment is not a web browser")),(0,D.vA)("undefined"===typeof window||"undefined"!==typeof window.localStorage,(()=>"Current browser does not appear to support localStorage")),this.LS=window.localStorage}async listModels(){const t={},e=xt+wt,n=wt+_t;for(let r=0;r<this.LS.length;++r){const i=this.LS.key(r);if(i.startsWith(e)&&i.endsWith(n)){const e=Mt(i);t[e]=JSON.parse(this.LS.getItem(i))}}return t}async removeModel(t){t=Tt(t);const e=Et(t);if(null==this.LS.getItem(e.info))throw new Error(`Cannot find model at path '${t}'`);const n=JSON.parse(this.LS.getItem(e.info));return Dt(e),n}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const Bt="://";class Rt{constructor(){this.managers={}}static getInstance(){return null==Rt.instance&&(Rt.instance=new Rt),Rt.instance}static registerManager(t,e){(0,D.vA)(null!=t,(()=>"scheme must not be undefined or null.")),t.endsWith(Bt)&&(t=t.slice(0,t.indexOf(Bt))),(0,D.vA)(t.length>0,(()=>"scheme must not be an empty string."));const n=Rt.getInstance();(0,D.vA)(null==n.managers[t],(()=>`A model store manager is already registered for scheme '${t}'.`)),n.managers[t]=e}static getManager(t){const e=Rt.getInstance().managers[t];if(null==e)throw new Error(`Cannot find model manager for scheme '${t}'`);return e}static getSchemes(){return Object.keys(Rt.getInstance().managers)}}function Pt(t){if(-1===t.indexOf(Bt))throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${Rt.getSchemes().join(",")}`);return{scheme:t.split(Bt)[0],path:t.split(Bt)[1]}}async function It(t,e,n=!1){(0,D.vA)(t!==e,(()=>`Old path and new path are the same: '${t}'`));const r=it.getLoadHandlers(t);(0,D.vA)(r.length>0,(()=>`Copying failed because no load handler is found for source URL ${t}.`)),(0,D.vA)(r.length<2,(()=>`Copying failed because more than one (${r.length}) load handlers for source URL ${t}.`));const i=r[0],o=it.getSaveHandlers(e);(0,D.vA)(o.length>0,(()=>`Copying failed because no save handler is found for destination URL ${e}.`)),(0,D.vA)(o.length<2,(()=>`Copying failed because more than one (${r.length}) save handlers for destination URL ${e}.`));const a=o[0],s=Pt(t).scheme,u=Pt(t).path,c=s===Pt(t).scheme,l=await i.load();n&&c&&await Rt.getManager(s).removeModel(u);const f=await a.save(l);return n&&!c&&await Rt.getManager(s).removeModel(u),f.modelArtifactsInfo}async function jt(){const t=Rt.getSchemes(),e={};for(const n of t){const t=await Rt.getManager(n).listModels();for(const r in t){const i=n+Bt+r;e[i]=t[r]}}return e}async function Lt(t){const e=Pt(t),n=Rt.getManager(e.scheme);return n.removeModel(e.path)}async function zt(t,e){const n=!1;return It(t,e,n)}async function Ut(t,e){const n=!0;return It(t,e,n)}var qt=n(6448);
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class Vt{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(t,e){return fetch(t,e)}now(){return performance.now()}encode(t,e){if("utf-8"!==e&&"utf8"!==e)throw new Error(`Browser's encoder only supports utf-8, but got ${e}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(t)}decode(t,e){return new TextDecoder(e).decode(t)}setTimeoutCustom(t,e){"undefined"!==typeof window&&(0,_._K)().getBool("USE_SETTIMEOUTCUSTOM")?(this.functionRefs.push(t),setTimeout((()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")}),e),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",(t=>{if(t.source===window&&t.data.name===this.messageName){t.stopPropagation();const e=this.functionRefs[t.data.index];e(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}}),!0))):setTimeout(t,e)}isTypedArray(t){return(0,qt.Y)(t)}}if((0,_._K)().get("IS_BROWSER")){(0,_._K)().setPlatform("browser",new Vt);try{Rt.registerManager(Ft.URL_SCHEME,new Nt)}catch(kf){}try{Rt.registerManager(gt.URL_SCHEME,new bt)}catch(kf){}}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const Ht={importFetch:()=>n(5817)};let Wt;class Yt{constructor(){this.util=n(8590),this.textEncoder=new this.util.TextEncoder}fetch(t,e){return null!=(0,_._K)().global.fetch?(0,_._K)().global.fetch(t,e):(null==Wt&&(Wt=Ht.importFetch()),Wt(t,e))}now(){const t=process.hrtime();return 1e3*t[0]+t[1]/1e6}encode(t,e){if("utf-8"!==e&&"utf8"!==e)throw new Error(`Node built-in encoder only supports utf-8, but got ${e}`);return this.textEncoder.encode(t)}decode(t,e){return 0===t.length?"":new this.util.TextDecoder(e).decode(t)}isTypedArray(t){return this.util.types.isFloat32Array(t)||this.util.types.isInt32Array(t)||this.util.types.isUint8Array(t)||this.util.types.isUint8ClampedArray(t)}}(0,_._K)().get("IS_NODE")&&!(0,_._K)().get("IS_BROWSER")&&(0,_._K)().setPlatform("node",new Yt);var Gt=n(1722);
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Kt(t,e="float32",n){return e=e||"float32",D.SA(t),new Gt.yl(t,e,n)}var Xt=n(9809),Jt=n(125);
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Zt(t,e=!1){console.log(t.toString(e))}
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,m.Ye)();const Qt={buffer:Kt,cast:Xt.w,clone:Jt.o,print:Zt};(0,Gt.Q5)(Qt);var te=n(7523),ee=n(9359),ne=n(9258),re=n(9348),ie=n(5793),oe=n(5537),ae=n(1830),se=n(5702);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const ue=new Map,ce=new Map;class le{getClassName(){return this.constructor.className}static fromConfig(t,e){return new t(e)}}class fe{constructor(){this.classNameMap={}}static getMap(){return null==fe.instance&&(fe.instance=new fe),fe.instance}static register(t){fe.getMap().classNameMap[t.className]=[t,t.fromConfig]}}function he(t,e,n){(0,D.vA)(null!=t.className,(()=>"Class being registered does not have the static className property defined.")),(0,D.vA)("string"===typeof t.className,(()=>"className is required to be a string, but got type "+typeof t.className)),(0,D.vA)(t.className.length>0,(()=>"Class being registered has an empty-string as its className, which is disallowed.")),"undefined"===typeof e&&(e="Custom"),"undefined"===typeof n&&(n=t.className);const r=n,i=e+">"+r;return fe.register(t),ue.set(i,t),ce.set(t,i),t}function de(t){return ce.has(t)?ce.get(t):t.className}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class pe extends le{minimize(t,e=!1,n){const{value:r,grads:i}=this.computeGradients(t,n);if(null!=n){const t=n.map((t=>({name:t.name,tensor:i[t.name]})));this.applyGradients(t)}else this.applyGradients(i);return(0,$.AS)(i),e?r:(r.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(t,e){return(0,ae.y7)(t,e)}dispose(){null!=this.iterations_&&(0,$.AS)(this.iterations_)}async saveIterations(){return null==this.iterations_&&(this.iterations_=0),{name:"iter",tensor:(0,se.d)(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(t){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(t){return this.iterations_=(await t[0].tensor.data())[0],t.slice(1)}}Object.defineProperty(pe,Symbol.hasInstance,{value:t=>null!=t.minimize&&null!=t.computeGradients&&null!=t.applyGradients});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class ge extends pe{static get className(){return"Adadelta"}constructor(t,e,n=null){super(),this.learningRate=t,this.rho=e,this.epsilon=n,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==n&&(this.epsilon=m.T2.backend.epsilon())}applyGradients(t){const e=Array.isArray(t)?t.map((t=>t.name)):Object.keys(t);e.forEach(((e,n)=>{const r=m.T2.registeredVariables[e],i=!1;null==this.accumulatedGrads[n]&&(this.accumulatedGrads[n]={originalName:`${e}/accum_grad`,variable:(0,$.DZ)((()=>(0,oe.P)(r).variable(i)))}),null==this.accumulatedUpdates[n]&&(this.accumulatedUpdates[n]={originalName:`${e}/accum_var`,variable:(0,$.DZ)((()=>(0,oe.P)(r).variable(i)))});const o=Array.isArray(t)?t[n].tensor:t[e];if(null==o)return;const a=this.accumulatedGrads[n].variable,s=this.accumulatedUpdates[n].variable;(0,$.DZ)((()=>{const t=(0,te.W)((0,ne.l)(a,this.rho),(0,ne.l)((0,ie.E)(o),1-this.rho)),e=(0,ne.l)((0,ee.y)((0,re.R)((0,te.W)(s,this.epsilon)),(0,re.R)((0,te.W)(a,this.epsilon))),o),n=(0,te.W)((0,ne.l)(s,this.rho),(0,ne.l)((0,ie.E)(e),1-this.rho));a.assign(t),s.assign(n);const i=(0,te.W)((0,ne.l)(e,-this.learningRate),r);r.assign(i)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&((0,$.AS)(this.accumulatedGrads.map((t=>t.variable))),(0,$.AS)(this.accumulatedUpdates.map((t=>t.variable))))}async getWeights(){const t=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(t.map((t=>({name:t.originalName,tensor:t.variable}))))}async setWeights(t){t=await this.extractIterations(t);const e=t.length/2,n=!1;this.accumulatedGrads=t.slice(0,e).map((t=>({originalName:t.name,variable:t.tensor.variable(n)}))),this.accumulatedUpdates=t.slice(e,2*e).map((t=>({originalName:t.name,variable:t.tensor.variable(n)})))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(t,e){return new t(e["learningRate"],e["rho"],e["epsilon"])}}var me=n(6111);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class ve extends pe{static get className(){return"Adagrad"}constructor(t,e=.1){super(),this.learningRate=t,this.initialAccumulatorValue=e,this.accumulatedGrads=[]}applyGradients(t){const e=Array.isArray(t)?t.map((t=>t.name)):Object.keys(t);e.forEach(((e,n)=>{const r=m.T2.registeredVariables[e];if(null==this.accumulatedGrads[n]){const t=!1;this.accumulatedGrads[n]={originalName:`${e}/accumulator`,variable:(0,$.DZ)((()=>(0,me.G)(r.shape,this.initialAccumulatorValue).variable(t)))}}const i=Array.isArray(t)?t[n].tensor:t[e];if(null==i)return;const o=this.accumulatedGrads[n].variable;(0,$.DZ)((()=>{const t=(0,te.W)(o,(0,ie.E)(i));o.assign(t);const e=(0,te.W)((0,ne.l)((0,ee.y)(i,(0,re.R)((0,te.W)(t,m.T2.backend.epsilon()))),-this.learningRate),r);r.assign(e)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&(0,$.AS)(this.accumulatedGrads.map((t=>t.variable)))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map((t=>({name:t.originalName,tensor:t.variable}))))}async setWeights(t){t=await this.extractIterations(t);const e=!1;this.accumulatedGrads=t.map((t=>({originalName:t.name,variable:t.tensor.variable(e)})))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(t,e){return new t(e["learningRate"],e["initialAccumulatorValue"])}}var ye=n(8990),be=n(7126);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class we extends pe{static get className(){return"Adam"}constructor(t,e,n,r=null){super(),this.learningRate=t,this.beta1=e,this.beta2=n,this.epsilon=r,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],(0,$.DZ)((()=>{this.accBeta1=(0,se.d)(e).variable(),this.accBeta2=(0,se.d)(n).variable()})),null==r&&(this.epsilon=m.T2.backend.epsilon())}applyGradients(t){const e=Array.isArray(t)?t.map((t=>t.name)):Object.keys(t);(0,$.DZ)((()=>{const n=(0,be.j)(1,this.accBeta1),r=(0,be.j)(1,this.accBeta2);e.forEach(((e,i)=>{const o=m.T2.registeredVariables[e],a=!1;null==this.accumulatedFirstMoment[i]&&(this.accumulatedFirstMoment[i]={originalName:`${e}/m`,variable:(0,$.DZ)((()=>(0,oe.P)(o).variable(a)))}),null==this.accumulatedSecondMoment[i]&&(this.accumulatedSecondMoment[i]={originalName:`${e}/v`,variable:(0,$.DZ)((()=>(0,oe.P)(o).variable(a)))});const s=Array.isArray(t)?t[i].tensor:t[e];if(null==s)return;const u=this.accumulatedFirstMoment[i].variable,c=this.accumulatedSecondMoment[i].variable,l=(0,te.W)((0,ne.l)(u,this.beta1),(0,ne.l)(s,1-this.beta1)),f=(0,te.W)((0,ne.l)(c,this.beta2),(0,ne.l)((0,ie.E)(s),1-this.beta2)),h=(0,ee.y)(l,n),d=(0,ee.y)(f,r);u.assign(l),c.assign(f);const p=(0,te.W)((0,ne.l)((0,ee.y)(h,(0,te.W)((0,re.R)(d),this.epsilon)),-this.learningRate),o);o.assign(p)})),this.accBeta1.assign((0,ne.l)(this.accBeta1,this.beta1)),this.accBeta2.assign((0,ne.l)(this.accBeta2,this.beta2))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&(0,$.AS)(this.accumulatedFirstMoment.map((t=>t.variable))),null!=this.accumulatedSecondMoment&&(0,$.AS)(this.accumulatedSecondMoment.map((t=>t.variable)))}async getWeights(){const t=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(t.map((t=>({name:t.originalName,tensor:t.variable}))))}async setWeights(t){t=await this.extractIterations(t),(0,$.DZ)((()=>{this.accBeta1.assign((0,ye.n)(this.beta1,this.iterations_+1)),this.accBeta2.assign((0,ye.n)(this.beta2,this.iterations_+1))}));const e=t.length/2,n=!1;this.accumulatedFirstMoment=t.slice(0,e).map((t=>({originalName:t.name,variable:t.tensor.variable(n)}))),this.accumulatedSecondMoment=t.slice(e,2*e).map((t=>({originalName:t.name,variable:t.tensor.variable(n)})))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(t,e){return new t(e["learningRate"],e["beta1"],e["beta2"],e["epsilon"])}}var xe=n(4888),_e=n(178);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class ke extends pe{static get className(){return"Adamax"}constructor(t,e,n,r=null,i=0){super(),this.learningRate=t,this.beta1=e,this.beta2=n,this.epsilon=r,this.decay=i,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],(0,$.DZ)((()=>{this.iteration=(0,se.d)(0).variable(),this.accBeta1=(0,se.d)(e).variable()})),null==r&&(this.epsilon=m.T2.backend.epsilon())}applyGradients(t){const e=Array.isArray(t)?t.map((t=>t.name)):Object.keys(t);(0,$.DZ)((()=>{const n=(0,be.j)(1,this.accBeta1),r=(0,ee.y)(-this.learningRate,(0,te.W)((0,ne.l)(this.iteration,this.decay),1));e.forEach(((e,i)=>{const o=m.T2.registeredVariables[e],a=!1;null==this.accumulatedFirstMoment[i]&&(this.accumulatedFirstMoment[i]={originalName:`${e}/m`,variable:(0,oe.P)(o).variable(a)}),null==this.accumulatedWeightedInfNorm[i]&&(this.accumulatedWeightedInfNorm[i]={originalName:`${e}/v`,variable:(0,oe.P)(o).variable(a)});const s=Array.isArray(t)?t[i].tensor:t[e];if(null==s)return;const u=this.accumulatedFirstMoment[i].variable,c=this.accumulatedWeightedInfNorm[i].variable,l=(0,te.W)((0,ne.l)(u,this.beta1),(0,ne.l)(s,1-this.beta1)),f=(0,ne.l)(c,this.beta2),h=(0,xe.t)(s),d=(0,_e.P)(f,h);u.assign(l),c.assign(d);const p=(0,te.W)((0,ne.l)((0,ee.y)(r,n),(0,ee.y)(l,(0,te.W)(d,this.epsilon))),o);o.assign(p)})),this.iteration.assign((0,te.W)(this.iteration,1)),this.accBeta1.assign((0,ne.l)(this.accBeta1,this.beta1))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&(0,$.AS)(this.accumulatedFirstMoment.map((t=>t.variable))),null!=this.accumulatedWeightedInfNorm&&(0,$.AS)(this.accumulatedWeightedInfNorm.map((t=>t.variable)))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(t){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(t,e){return new t(e["learningRate"],e["beta1"],e["beta2"],e["epsilon"],e["decay"])}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class Ae extends pe{static get className(){return"SGD"}constructor(t){super(),this.learningRate=t,this.setLearningRate(t)}applyGradients(t){const e=Array.isArray(t)?t.map((t=>t.name)):Object.keys(t);e.forEach(((e,n)=>{const r=Array.isArray(t)?t[n].tensor:t[e];if(null==r)return;const i=m.T2.registeredVariables[e];(0,$.DZ)((()=>{const t=(0,te.W)((0,ne.l)(this.c,r),i);i.assign(t)}))})),this.incrementIterations()}setLearningRate(t){this.learningRate=t,null!=this.c&&this.c.dispose(),this.c=(0,$.aC)((0,se.d)(-t))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(t){if(t=await this.extractIterations(t),0!==t.length)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(t,e){return new t(e["learningRate"])}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class Se extends Ae{static get className(){return"Momentum"}constructor(t,e,n=!1){super(t),this.learningRate=t,this.momentum=e,this.useNesterov=n,this.accumulations=[],this.m=(0,se.d)(this.momentum)}applyGradients(t){const e=Array.isArray(t)?t.map((t=>t.name)):Object.keys(t);e.forEach(((e,n)=>{const r=m.T2.registeredVariables[e];if(null==this.accumulations[n]){const t=!1;this.accumulations[n]={originalName:`${e}/momentum`,variable:(0,$.DZ)((()=>(0,oe.P)(r).variable(t)))}}const i=this.accumulations[n].variable,o=Array.isArray(t)?t[n].tensor:t[e];null!=o&&(0,$.DZ)((()=>{let t;const e=(0,te.W)((0,ne.l)(this.m,i),o);t=this.useNesterov?(0,te.W)((0,ne.l)(this.c,(0,te.W)(o,(0,ne.l)(e,this.m))),r):(0,te.W)((0,ne.l)(this.c,e),r),i.assign(e),r.assign(t)}))})),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&(0,$.AS)(this.accumulations.map((t=>t.variable)))}setMomentum(t){this.momentum=t}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map((t=>({name:t.originalName,tensor:t.variable}))))}async setWeights(t){t=await this.extractIterations(t);const e=!1;this.accumulations=t.map((t=>({originalName:t.name,variable:t.tensor.variable(e)})))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(t,e){return new t(e["learningRate"],e["momentum"],e["useNesterov"])}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class Ce extends pe{static get className(){return"RMSProp"}constructor(t,e=.9,n=0,r=null,i=!1){if(super(),this.learningRate=t,this.decay=e,this.momentum=n,this.epsilon=r,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=i,null==r&&(this.epsilon=m.T2.backend.epsilon()),null==t)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(t){const e=Array.isArray(t)?t.map((t=>t.name)):Object.keys(t);e.forEach(((e,n)=>{const r=m.T2.registeredVariables[e],i=!1;null==this.accumulatedMeanSquares[n]&&(this.accumulatedMeanSquares[n]={originalName:`${e}/rms`,variable:(0,$.DZ)((()=>(0,oe.P)(r).variable(i)))}),null==this.accumulatedMoments[n]&&(this.accumulatedMoments[n]={originalName:`${e}/momentum`,variable:(0,$.DZ)((()=>(0,oe.P)(r).variable(i)))}),null==this.accumulatedMeanGrads[n]&&this.centered&&(this.accumulatedMeanGrads[n]={originalName:`${e}/mg`,variable:(0,$.DZ)((()=>(0,oe.P)(r).variable(i)))});const o=Array.isArray(t)?t[n].tensor:t[e];if(null==o)return;const a=this.accumulatedMeanSquares[n].variable,s=this.accumulatedMoments[n].variable;(0,$.DZ)((()=>{const t=(0,te.W)((0,ne.l)(a,this.decay),(0,ne.l)((0,ie.E)(o),1-this.decay));if(this.centered){const e=this.accumulatedMeanGrads[n].variable,i=(0,te.W)((0,ne.l)(e,this.decay),(0,ne.l)(o,1-this.decay)),u=(0,ee.y)((0,ne.l)(o,this.learningRate),(0,re.R)((0,be.j)(t,(0,te.W)((0,ie.E)(i),this.epsilon)))),c=(0,te.W)((0,ne.l)(s,this.momentum),u);a.assign(t),e.assign(i),s.assign(c);const l=(0,be.j)(r,c);r.assign(l)}else{const t=(0,te.W)((0,ne.l)(a,this.decay),(0,ne.l)((0,ie.E)(o),1-this.decay)),e=(0,te.W)((0,ne.l)(s,this.momentum),(0,ee.y)((0,ne.l)(o,this.learningRate),(0,re.R)((0,te.W)(t,this.epsilon))));a.assign(t),s.assign(e);const n=(0,be.j)(r,e);r.assign(n)}}))})),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&(0,$.AS)(this.accumulatedMeanSquares.map((t=>t.variable))),null!=this.accumulatedMeanGrads&&this.centered&&(0,$.AS)(this.accumulatedMeanGrads.map((t=>t.variable))),null!=this.accumulatedMoments&&(0,$.AS)(this.accumulatedMoments.map((t=>t.variable)))}async getWeights(){const t=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&t.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(t.map((t=>({name:t.originalName,tensor:t.variable}))))}async setWeights(t){t=await this.extractIterations(t);const e=this.centered?t.length/3:t.length/2,n=!1;this.accumulatedMeanSquares=t.slice(0,e).map((t=>({originalName:t.name,variable:t.tensor.variable(n)}))),this.accumulatedMoments=t.slice(e,2*e).map((t=>({originalName:t.name,variable:t.tensor.variable(n)}))),this.centered&&(this.accumulatedMeanGrads=t.slice(2*e,3*e).map((t=>({originalName:t.name,variable:t.tensor.variable(n)}))))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(t,e){return new t(e["learningRate"],e["decay"],e["momentum"],e["epsilon"],e["centered"])}}
/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const Ee=[ge,ve,we,ke,Se,Ce,Ae];function De(){for(const t of Ee)he(t)}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const Me="model",Te=".json",Fe=".weights.bin";function Oe(t){return new Promise((t=>setTimeout(t))).then(t)}class $e{constructor(t){if(!(0,_._K)().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith($e.URL_SCHEME)&&(t=t.slice($e.URL_SCHEME.length)),null!=t&&0!==t.length||(t=Me),this.modelJsonFileName=t+Te,this.weightDataFileName=t+Fe}async save(t){if("undefined"===typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const e=F.join(t.weightData),n=window.URL.createObjectURL(new Blob([e],{type:"application/octet-stream"}));if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const e=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],r=K(t,e),i=window.URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"})),o=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(o.download=this.modelJsonFileName,o.href=i,await Oe((()=>o.dispatchEvent(new MouseEvent("click")))),null!=t.weightData){const t=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;t.download=this.weightDataFileName,t.href=n,await Oe((()=>t.dispatchEvent(new MouseEvent("click"))))}return{modelArtifactsInfo:Z(t)}}}}$e.URL_SCHEME="downloads://";class Ne{constructor(t){if(null==t||t.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${t}`);this.jsonFile=t[0],this.weightsFiles=t.slice(1)}async load(){return new Promise(((t,e)=>{const n=new FileReader;n.onload=n=>{const r=JSON.parse(n.target.result),i=r.modelTopology;if(null==i)return void e(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));const o=r.weightsManifest;if(null==o)return void e(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));if(0===this.weightsFiles.length)return void t({modelTopology:i});const a=J(r,(t=>this.loadWeights(t)));t(a)},n.onerror=t=>e(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),n.readAsText(this.jsonFile)}))}loadWeights(t){const e=[],n=[];for(const o of t)e.push(...o.weights),n.push(...o.paths);const r=this.checkManifestAndWeightFiles(t),i=n.map((t=>this.loadWeightsFile(t,r[t])));return Promise.all(i).then((t=>[e,t]))}loadWeightsFile(t,e){return new Promise(((n,r)=>{const i=new FileReader;i.onload=t=>{const e=t.target.result;n(e)},i.onerror=e=>r(`Failed to weights data from file of path '${t}'.`),i.readAsArrayBuffer(e)}))}checkManifestAndWeightFiles(t){const e=[],n=this.weightsFiles.map((t=>G(t.name))),r={};for(const i of t)i.paths.forEach((t=>{const i=G(t);if(-1!==e.indexOf(i))throw new Error(`Duplicate file basename found in weights manifest: '${i}'`);if(e.push(i),-1===n.indexOf(i))throw new Error(`Weight file with basename '${i}' is not provided.`);r[t]=this.weightsFiles[n.indexOf(i)]}));if(e.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${e.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return r}}const Be=t=>(0,_._K)().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith($e.URL_SCHEME)?Re(t.slice($e.URL_SCHEME.length)):null;function Re(t="model"){return new $e(t)}function Pe(t){return new Ne(t)}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Ie(t,e,n,r){a(t),n=null==n?0:n,r=null==r?1:r,s(n,r);let i=0;const o=o=>(o.then((o=>{const a=n+ ++i/t.length*(r-n);return e(a),o})),o);function a(t){(0,D.vA)(null!=t&&Array.isArray(t)&&t.length>0,(()=>"promises must be a none empty array"))}function s(t,e){(0,D.vA)(t>=0&&t<=1,(()=>`Progress fraction must be in range [0, 1], but got startFraction ${t}`)),(0,D.vA)(e>=0&&e<=1,(()=>`Progress fraction must be in range [0, 1], but got endFraction ${e}`)),(0,D.vA)(e>=t,(()=>`startFraction must be no more than endFraction, but got startFraction ${t} and endFraction ${e}`))}return Promise.all(t.map(o))}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
async function je(t,e){null==e&&(e={});const n=null==e.fetchFunc?(0,_._K)().platform.fetch:e.fetchFunc,r=t.map((t=>n(t,e.requestInit,{isBinary:!0}))),i=0,o=.5,a=null==e.onProgress?await Promise.all(r):await Ie(r,e.onProgress,i,o),s=a.map((t=>t.arrayBuffer())),u=.5,c=1,l=null==e.onProgress?await Promise.all(s):await Ie(s,e.onProgress,u,c);return l}function Le(t,e){var n;const r=null==e.fetchFunc?(0,_._K)().platform.fetch:e.fetchFunc;let i,o=0;return null===(n=e.onProgress)||void 0===n||n.call(e,0),new ReadableStream({pull:async n=>{var a;while(o<t.length){if(!i){const n=(await r(t[o],e.requestInit,{isBinary:!0})).body;i=n.getReader()}const{done:s,value:u}=await i.read();if(!s)return void n.enqueue(u);o++,i=void 0,null===(a=e.onProgress)||void 0===a||a.call(e,o/t.length)}n.close()}})}async function ze(t,e="",n,r){const i=t=>je(t,{requestInit:r}),o=Ue(i);return o(t,e,n)}function Ue(t){return async(e,n="",r)=>{const i=e.map((()=>!1)),o={},a=null!=r?r.map((()=>!1)):[],s=[];if(e.forEach(((t,e)=>{let n=0;t.weights.forEach((t=>{const u="quantization"in t?t.quantization.dtype:t.dtype,c=M[u]*D.Ze(t.shape),l=()=>{i[e]=!0,null==o[e]&&(o[e]=[]),o[e].push({manifestEntry:t,groupOffset:n,sizeBytes:c})};null!=r?r.forEach(((e,n)=>{e===t.name&&(l(),a[n]=!0)})):l(),s.push(t.name),n+=c}))})),!a.every((t=>t))){const t=r.filter(((t,e)=>!a[e]));throw new Error(`Could not find weights in manifest with names: ${t.join(", ")}. \nManifest JSON has weights with names: ${s.join(", ")}.`)}const u=i.reduce(((t,e,n)=>(e&&t.push(n),t)),[]),c=[];u.forEach((t=>{e[t].paths.forEach((t=>{const e=n+(n.endsWith("/")?"":"/")+t;c.push(e)}))}));const l=await t(c),f={};let h=0;return u.forEach((t=>{const n=e[t].paths.length,r=new F(l.slice(h,h+n)),i=o[t];i.forEach((t=>{const e=r.slice(t.groupOffset,t.groupOffset+t.sizeBytes),n=R(e,[t.manifestEntry]);for(const r in n)f[r]=n[r]})),h+=n})),f}}it.registerSaveRouter(Be);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const qe="application/octet-stream",Ve="application/json";class He{constructor(t,e){if(this.DEFAULT_METHOD="POST",null==e&&(e={}),this.weightPathPrefix=e.weightPathPrefix,this.weightUrlConverter=e.weightUrlConverter,null!=e.fetchFunc?((0,D.vA)("function"===typeof e.fetchFunc,(()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)")),this.fetch=e.fetchFunc):this.fetch=(0,_._K)().platform.fetch,(0,D.vA)(null!=t&&t.length>0,(()=>"URL path for http must not be null, undefined or empty.")),Array.isArray(t)&&(0,D.vA)(2===t.length,(()=>`URL paths for http must have a length of 2, (actual length is ${t.length}).`)),this.path=t,null!=e.requestInit&&null!=e.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=e.requestInit||{},this.loadOptions=e}async save(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const e=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);e.body=new FormData;const n=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],r=K(t,n);if(e.body.append("model.json",new Blob([JSON.stringify(r)],{type:Ve}),"model.json"),null!=t.weightData){const n=F.join(t.weightData);e.body.append("model.weights.bin",new Blob([n],{type:qe}),"model.weights.bin")}const i=await this.fetch(this.path,e);if(i.ok)return{modelArtifactsInfo:Z(t),responses:[i]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${i.status}.`)}async loadModelJSON(){const t=await this.fetch(this.path,this.requestInit);if(!t.ok)throw new Error(`Request to ${this.path} failed with status code ${t.status}. Please verify this URL points to the model JSON of the model to load.`);let e;try{e=await t.json()}catch(i){let t=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?t+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":t+=" Please make sure the server is serving valid JSON for this request.",new Error(t)}const n=e.modelTopology,r=e.weightsManifest;if(null==n&&null==r)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return e}async load(){if(this.loadOptions.streamWeights)return this.loadStream();const t=await this.loadModelJSON();return J(t,(t=>this.loadWeights(t)))}async loadStream(){const t=await this.loadModelJSON(),e=await this.getWeightUrls(t.weightsManifest),n=Q(t.weightsManifest),r=()=>Le(e,this.loadOptions);return Object.assign(Object.assign({},t),{weightSpecs:n,getWeightStream:r})}async getWeightUrls(t){const e=Array.isArray(this.path)?this.path[1]:this.path,[n,r]=We(e),i=this.weightPathPrefix||n,o=[],a=[];for(const s of t)for(const t of s.paths)null!=this.weightUrlConverter?a.push(this.weightUrlConverter(t)):o.push(i+t+r);return this.weightUrlConverter&&o.push(...await Promise.all(a)),o}async loadWeights(t){const e=await this.getWeightUrls(t),n=Q(t),r=await je(e,this.loadOptions);return[n,r]}}function We(t){const e=t.lastIndexOf("/"),n=t.lastIndexOf("?"),r=t.substring(0,e),i=n>e?t.substring(n):"";return[r+"/",i]}function Ye(t){return null!=t.match(He.URL_SCHEME_REGEX)}He.URL_SCHEME_REGEX=/^https?:\/\//;const Ge=(t,e)=>{if("undefined"===typeof fetch&&(null==e||null==e.fetchFunc))return null;{let n=!0;if(n=Array.isArray(t)?t.every((t=>Ye(t))):Ye(t),n)return Ke(t,e)}return null};function Ke(t,e){return new He(t,e)}function Xe(t,e){return Ke(t,e)}it.registerSaveRouter(Ge),it.registerLoadRouter(Ge);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class Je{constructor(t){this.modelArtifacts=t}load(){return this.modelArtifacts}}class Ze{constructor(t){this.saveHandler=t}save(t){return this.saveHandler(t)}}class Qe{constructor(t){t.load&&(this.load=()=>Promise.resolve(t.load())),t.save&&(this.save=e=>Promise.resolve(t.save(e)))}}function tn(t,e,n,r){const i=arguments;return new Qe(en(...i))}function en(t,e,n,r){if(1===arguments.length){const e=null!=t.modelTopology||null!=t.weightSpecs;return e?new Je(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Je({modelTopology:t}))}return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Je({modelTopology:t,weightSpecs:e,weightData:n,trainingConfig:r})}function nn(t){return new Ze(t)}function rn(t){return new Ze(t)}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
var on=n(5703),an=n(1760),sn=n(929),un=n(7703);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function cn(t,e,n){const r=(0,S.YT)(t,"labels","confusionMatrix"),i=(0,S.YT)(e,"predictions","confusionMatrix");D.vA(null==n||n>0&&Number.isInteger(n),(()=>`If provided, numClasses must be a positive integer, but got ${n}`)),D.vA(1===r.rank,(()=>`Expected the rank of labels to be 1, but got ${r.rank}`)),D.vA(1===i.rank,(()=>`Expected the rank of predictions to be 1, but got ${i.rank}`)),D.vA(r.shape[0]===i.shape[0],(()=>`Mismatch in the number of examples: ${r.shape[0]} vs. ${i.shape[0]}. Labels and predictions should have the same number of elements.`)),D.vA(n>0&&Number.isInteger(n),(()=>`numClasses is required to be a positive integer, but got ${n}`));const o=(0,an.M)((0,Xt.w)(r,"int32"),n),a=(0,an.M)((0,Xt.w)(i,"int32"),n),s=(0,un.m)(o),u=(0,on.N)(s,a);return(0,Xt.w)(u,"int32")}const ln=(0,sn.op)({confusionMatrix_:cn});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
var fn=n(2198),hn=n(5441),dn=n(7074);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function pn(t,e,n){if((0,D.HO)(t),null!=e&&3!==e.length)throw new Error("tensor3d() requires shape to have three numbers");const r=(0,S.MZ)(t,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==e)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return(0,C.Q)(t,e,r,n)}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
let gn,mn=!1;function vn(t,e=3){if(e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==t)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,i=!1,o=!1,a=!1,s=!1;if(t.data instanceof Uint8Array)n=!0;else if("undefined"!==typeof ImageData&&t instanceof ImageData)r=!0;else if("undefined"!==typeof HTMLVideoElement&&t instanceof HTMLVideoElement)i=!0;else if("undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement)o=!0;else if(null!=t.getContext)a=!0;else{if(!("undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap))throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${t.constructor.name}`);s=!0}const u=(0,dn._5)(hn.awo,m.T2.backendName);if(null!=u){const n={pixels:t},r={numChannels:e};return m.T2.runKernel(hn.awo,n,r)}const[c,l]=i?[t.videoWidth,t.videoHeight]:[t.width,t.height];let f,h;if(a)f=t.getContext("2d").getImageData(0,0,c,l).data;else if(r||n)f=t.data;else if(o||i||s){if(null==gn)if("undefined"===typeof document){if("undefined"===typeof OffscreenCanvas||"undefined"===typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");gn=new OffscreenCanvas(1,1).getContext("2d")}else gn=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});gn.canvas.width=c,gn.canvas.height=l,gn.drawImage(t,0,0,c,l),f=gn.getImageData(0,0,c,l).data}if(4===e)h=new Int32Array(f);else{const t=c*l;h=new Int32Array(t*e);for(let n=0;n<t;n++)for(let t=0;t<e;++t)h[n*e+t]=f[4*n+t]}const d=[l,c,e];return pn(h,d,"int32")}function yn(t){return null!=t&&t.data instanceof Uint8Array}function bn(){return"undefined"!==typeof window&&"undefined"!==typeof ImageBitmap&&window.hasOwnProperty("createImageBitmap")}function wn(t){return null!=t&&0!==t.width&&0!==t.height}function xn(t){return bn()&&!(t instanceof ImageBitmap)&&wn(t)&&!yn(t)}async function _n(t,e=3){let n=null;if((0,_._K)().getBool("WRAP_TO_IMAGEBITMAP")&&xn(t)){let e;try{e=await createImageBitmap(t,{premultiplyAlpha:"none"})}catch(r){e=null}n=null!=e&&e.width===t.width&&e.height===t.height?e:t}else n=t;return vn(n,e)}function kn(t){if(2!==t.rank&&3!==t.rank)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${t.rank}.`);const e=2===t.rank?1:t.shape[2];if(e>4||2===e)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${e}`);if("float32"!==t.dtype&&"int32"!==t.dtype)throw new Error(`Unsupported type for toPixels: ${t.dtype}. Please use float32 or int32 tensors.`)}function An(t){const e=(null===t||void 0===t?void 0:t.alpha)||1;if(e>1||e<0)throw new Error(`Alpha value ${e} is suppoed to be in range [0 - 1].`)}async function Sn(t,e){let n=(0,S.YT)(t,"img","toPixels");if(!(t instanceof Gt.qY)){const t=n;n=(0,Xt.w)(t,"int32"),t.dispose()}kn(n);const[r,i]=n.shape.slice(0,2),o=2===n.rank?1:n.shape[2],a=await n.data(),s="float32"===n.dtype?255:1,u=new Uint8ClampedArray(i*r*4);for(let c=0;c<r*i;++c){const t=[0,0,0,255];for(let r=0;r<o;r++){const e=a[c*o+r];if("float32"===n.dtype){if(e<0||e>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${e}.`)}else if("int32"===n.dtype&&(e<0||e>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${e}.`);1===o?(t[0]=e*s,t[1]=e*s,t[2]=e*s):t[r]=e*s}const e=4*c;u[e+0]=Math.round(t[0]),u[e+1]=Math.round(t[1]),u[e+2]=Math.round(t[2]),u[e+3]=Math.round(t[3])}if(null!=e){if(!mn){const t=(0,dn._5)(hn.XmO,m.T2.backendName);null!=t&&(console.warn("tf.browser.toPixels is not efficient to draw tensor on canvas. Please try tf.browser.draw instead."),mn=!0)}e.width=i,e.height=r;const t=e.getContext("2d"),n=new ImageData(u,i,r);t.putImageData(n,0,0)}return n!==t&&n.dispose(),u}function Cn(t,e,n){let r=(0,S.YT)(t,"img","draw");if(!(t instanceof Gt.qY)){const t=r;r=(0,Xt.w)(t,"int32"),t.dispose()}kn(r),An(null===n||void 0===n?void 0:n.imageOptions);const i={image:r},o={canvas:e,options:n};m.T2.runKernel(hn.XmO,i,o)}const En=(0,sn.op)({fromPixels_:vn});function Dn(t,e){const n=t.shape.length,r=e.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if("int32"!==e.dtype)throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${e.shape[r-1]} vs. ${n}`);if(0===(0,D.Ze)(t.shape))throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${t.shape}.`);const i=e.shape,o=i[i.length-1];let a=1;for(let f=0;f<i.length-1;++f)a*=i[f];const s=t.shape,u=i.slice();u.pop();let c=1;for(let f=o;f<n;++f)c*=s[f],u.push(s[f]);const l=[...(0,D.Ur)(t.shape).map((t=>t/c)),1].slice(0,o);return[u,a,c,l]}function Mn(t,e,n){const r=e.rank>1?e.shape[e.rank-1]:1,i=e.rank>1?e.rank-1:1,o=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${e.shape}, shape: ${t}, sliceDim: ${r}, and batchDim: ${i}.`;if(n.rank<i)throw new Error(o+` update.rank < ${i}. `);if(t.length<r+(n.rank-i))throw new Error(o+` Output shape length < ${r+(n.rank-i)}`);if(n.rank!==i+t.length-r)throw new Error(o+" update.rank != "+(i+t.length-r));for(let a=0;a<i;++a)if(n.shape[a]!==e.shape[a])throw new Error(o+` updates.shape[${a}] (${n.shape[a]}) != indices.shape[${a}] (${e.shape[a]}).`);for(let a=0;a<n.rank-i;++a)if(n.shape[a+i]!==t[a+r])throw new Error(o+` updates.shape[${a+i}] (${n.shape[a+i]}) != shape[${a+i}] (${t[a+i]})`)}function Tn(t,e,n){if(e.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${e.rank}.`);if(t.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${t.rank}.`);if("int32"!==e.dtype)throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${e.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(0===n.length){if(0===e.size)throw new Error(`Indices specified for empty output. indices shape: ${e.shape}`);if(0===t.size)throw new Error(`Updates specified for empty output. updates shape: ${t.shape}`)}Mn(n,e,t)}function Fn(t,e,n){const r=e.shape.length,i=r>1?e.shape[r-1]:1,o=n.length;let a=1;for(let f=i;f<o;++f)a*=n[f];const s=i<1?1:i,u=(0,D.Ze)(e.shape)/s,c=[...(0,D.Ur)(n.slice(0,i)),1],l=(0,D.Ze)(n);return{sliceRank:i,numUpdates:u,sliceSize:a,strides:c,outputSize:l}}
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const On=-2,$n=-1;function Nn(t,e,n){const r=t.shape.length;D.vA(r===e.length,(()=>`Error in slice${r}D: Length of begin ${e} must match the rank of the array (${r}).`)),D.vA(r===n.length,(()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`));for(let i=0;i<r;++i)D.vA(e[i]+n[i]<=t.shape[i],(()=>`Error in slice${r}D: begin[${i}] + size[${i}] (${e[i]+n[i]}) would overflow input.shape[${i}] (${t.shape[i]})`))}function Bn(t){const e=[];let n=0;while(t>0)1&t&&e.push(n),t/=2,n++;return e}function Rn(t,e,n){const r=[];for(let i=0;i<t.length;i++)r[i]=Math.ceil((e[i]-t[i])/n[i]);return r}function Pn(t,e,n,r){const i=[...t];for(let o=i.length;o<r.length;o++)i.push(1);for(let o=0;o<n;o++)0===o?i[e]=1:(i.splice(e,0,1),i.pop());return i}function In(t,e,n){return n<=t?n:n-(e-1)}function jn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e+r);return n}function Ln(t,e,n,r,i,o,a,s,u){const c=t.length;let l=new Array(c),f=new Array(c),h=new Array(c);if(e.length&&n>0){const u=e[0],c=n+1;l=zn(a,u,c,r,t),f=Un(s,u,c,i,t),h=Pn(o,u,c,t)}else for(let d=0;d<c;d++)l[d]=Vn(a,r,o,t,d,u),f[d]=Hn(s,i,o,t,d,u),h[d]=qn(o,d,u);return{begin:l,end:f,strides:h}}function zn(t,e,n,r,i){const o=[...i],a=jn(n,e);for(let s=0;s<o.length;s++)if(a.indexOf(s)>-1)o[s]=0;else{const i=In(e,n,s);let a=r[i];t&1<<i&&(a=0),o[s]=a}return o}function Un(t,e,n,r,i){const o=[...i],a=jn(n,e);for(let s=0;s<o.length;s++)if(a.indexOf(s)>-1)o[s]=Number.MAX_SAFE_INTEGER;else{const i=In(e,n,s);let a=r[i];t&1<<i&&(a=Number.MAX_SAFE_INTEGER),o[s]=a}for(let s=0;s<o.length;s++){const t=i[s];o[s]<0&&(o[s]+=t),o[s]=D.qE(0,o[s],i[s])}return o}function qn(t,e,n){let r=t[e];return(n&1<<e||null==r)&&(r=1),r}function Vn(t,e,n,r,i,o){let a=e[i];const s=n[i]||1;(t&1<<i||o&1<<i||null==a)&&(a=s>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);const u=r[i];return a<0&&(a+=u),a=D.qE(0,a,u-1),a}function Hn(t,e,n,r,i,o){let a=e[i];const s=n[i]||1;(t&1<<i||o&1<<i||null==a)&&(a=s>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);const u=r[i];return a<0&&(a+=u),a=s>0?D.qE(0,a,u):D.qE(-1,a,u-1),a}function Wn(t,e,n){let r=n.length;for(let i=0;i<n.length;i++)if(n[i]>1){r=i;break}for(let i=r+1;i<n.length;i++)if(e[i]>0||n[i]!==t[i])return!1;return!0}function Yn(t,e){let n=t.length>0?t[t.length-1]:1;for(let r=0;r<t.length-1;r++)n+=t[r]*e[r];return n}function Gn(t,e,n){let r;const i=t.shape.length;let o;return r="number"===typeof e?[e,...new Array(i-1).fill(0)]:e.length<i?e.concat(new Array(i-e.length).fill(0)):e.slice(),r.forEach((t=>{D.vA(-1!==t,(()=>"slice() does not support negative begin indexing."))})),o=null==n?new Array(i).fill(-1):"number"===typeof n?[n,...new Array(i-1).fill(-1)]:n.length<i?n.concat(new Array(i-n.length).fill(-1)):n,o=o.map(((e,n)=>e>=0?e:(D.vA(-1===e,(()=>`Negative size values should be exactly -1 but got ${e} for the slice() size at index ${n}.`)),t.shape[n]-r[n]))),[r,o]}function Kn(t,e,n,r,i,o,a,s,u){let c;if(null==r?(c=new Array(e.length),c.fill(1)):c=r,null!=a&&0!==(a&a-1))throw new Error("Multiple ellipses in slice is not allowed.");let l=!1;const f={dims:c.length,numAddAxisAfterEllipsis:0,begin:e.slice(),end:n.slice(),strides:c.slice(),beginMask:i,endMask:o,ellipsisMask:a,newAxisMask:s,shrinkAxisMask:u};for(let b=0;b<f.dims;b++)l&&0!==(1<<b&s)&&f.numAddAxisAfterEllipsis++,1<<b&a&&(l=!0);l||(f.ellipsisMask|=1<<f.dims,f.dims++);const h={dims:t.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};Xn(f,h);let d=!0,p=!0,g=!0;const m=[],v=[];for(let b=0;b<t.length;++b){if(0===h.strides[b])throw Error(`strides[${b}] must be non-zero`);const e=!!(h.shrinkAxisMask&1<<b),n=t[b];if(-1===n){m.push(e?1:-1);continue}const r=[h.beginMask&1<<b,h.endMask&1<<b],i=[h.strides[b]>0?0:-1,h.strides[b]>0?n:n-1];if(e&&h.strides[b]<=0)throw Error("only stride 1 allowed on non-range indexing.");g=g&&1===h.strides[b];const o=!!(h.beginMask&1<<b&&h.endMask&1<<b);if(h.beginValid&&h.endValid){if(e){const t=h.begin[b]<0?n+h.begin[b]:h.begin[b];if(h.begin[b]=t,h.end[b]=h.begin[b]+1,t<0||t>=n)throw Error(`slice index ${h.begin[b]} of dimension ${b} out of bounds.`)}else h.begin[b]=Jn(h.begin[b],0,h.strides[b],n,r,i),h.end[b]=Jn(h.end[b],1,h.strides[b],n,r,i);const t=1===h.strides[b]&&0===h.begin[b]&&h.end[b]===n;d=d&&t,p=p&&(0===b&&1===h.strides[b]||t)}else d=d&&1===h.strides[b]&&o,p=p&&(0===b&&1===h.strides[b]||o);let a,s=!1;if(h.beginValid&&h.endValid?(a=h.end[b]-h.begin[b],s=!0):e?(a=1,s=!0):o&&n>=0&&(a=h.strides[b]<0?-n:n,s=!0),s){let t;t=0===a||a<0!==h.strides[b]<0?0:Math.trunc(a/h.strides[b])+(a%h.strides[b]!==0?1:0),m.push(t)}else m.push(-1)}for(let b=0;b<h.finalShapeGatherIndices.length;++b){const t=h.finalShapeGatherIndices[b];t>=0?v.push(m[t]):t===On&&v.push(1)}const y=v.filter(((t,e)=>h.finalShapeGatherIndices[e]!==On));return{finalShapeSparse:y,finalShape:v,isIdentity:d,sliceDim0:p,isSimpleSlice:g,begin:h.begin,end:h.end,strides:h.strides}}function Xn(t,e){e.beginMask=0,e.endMask=0,e.shrinkAxisMask=0;let n=0;e.beginValid=null!=t.begin,e.endValid=null!=t.end,e.begin=new Array(e.dims),e.end=new Array(e.dims),e.strides=new Array(e.dims),e.finalShapeGatherIndices=[],e.finalShapeGatherIndicesSparse=[],e.inputShapeGatherIndicesSparse=new Array(e.dims);for(let r=0;r<t.dims;r++)if(1<<r&t.ellipsisMask){const i=Math.min(e.dims-(t.dims-r)+1+t.numAddAxisAfterEllipsis,e.dims);for(;n<i;n++)e.begin[n]=0,e.end[n]=0,e.strides[n]=1,e.beginMask|=1<<n,e.endMask|=1<<n,e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(-1),e.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&t.newAxisMask)e.finalShapeGatherIndices.push(On),e.finalShapeGatherIndicesSparse.push(-1);else{if(n===e.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${e.dims} dims, ${e.begin.length}.`);null!=t.begin&&(e.begin[n]=t.begin[r]),null!=t.end&&(e.end[n]=t.end[r]),e.strides[n]=t.strides[r],t.beginMask&1<<r&&(e.beginMask|=1<<n),t.endMask&1<<r&&(e.endMask|=1<<n),t.shrinkAxisMask&1<<r?(e.finalShapeGatherIndices.push($n),e.finalShapeGatherIndicesSparse.push(-1),e.shrinkAxisMask|=1<<n):(e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(r)),e.inputShapeGatherIndicesSparse[n]=r,n++}}function Jn(t,e,n,r,i,o){if(i[e])return n>0?o[e]:o[e+1&1];{const e=t<0?r+t:t;return e<o[0]?o[0]:e>o[1]?o[1]:e}}var Zn=n(565);
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const Qn=.001,tr=.1;function er(t,e,n){return null==n&&(n=nr()),rr(t,e,((t,e)=>sr(t,e,n)))}function nr(){return 32===m.T2.backend.floatPrecision()?Qn:tr}function rr(t,e,n){let r=!0;if(((0,T.isTypedArray)(t)||(0,T.isTypedArray)(e))&&(r=!1),(0,T.isTypedArray)(t)&&(0,T.isTypedArray)(e)&&(r=!0),r){const n=t.constructor.name,r=e.constructor.name;if(n!==r)throw new Error(`Arrays are of different type. Actual: ${n}. Expected: ${r}`)}if(Array.isArray(t)&&Array.isArray(e)){const n=(0,S.MZ)(t),r=(0,S.MZ)(e);if(!(0,D.r1)(n,r))throw new Error(`Arrays have different shapes. Actual: [${n}]. Expected: [${r}]`)}const i=(0,T.isTypedArray)(t)?t:(0,T.flatten)(t),o=(0,T.isTypedArray)(e)?e:(0,T.flatten)(e);if(i.length!==o.length)throw new Error(`Arrays have different lengths actual: ${i.length} vs expected: ${o.length}.\nActual:   ${i}.\nExpected: ${o}.`);for(let a=0;a<o.length;++a){const t=i[a],e=o[a];if(!n(t,e))throw new Error(`Arrays differ: actual[${a}] = ${t}, expected[${a}] = ${e}.\nActual:   ${i}.\nExpected: ${o}.`)}"undefined"!==typeof expect&&expect().nothing()}function ir(t,e){t().then((()=>e.fail()),(()=>e())),"undefined"!==typeof expect&&expect().nothing()}function or(t,e){const n="string"===typeof e||"number"===typeof e||"boolean"===typeof e?[e]:e;return(0,D.Kg)(t)||(0,D.Kg)(t[0])||(0,D.Kg)(e)||(0,D.Kg)(e[0])?rr(t,n,((t,e)=>t==e)):rr(t,e,((t,e)=>sr(t,e,0)))}function ar(t,e,n){if(null==n&&(n=nr()),!sr(t,e,n))throw new Error(`Numbers differ: actual === ${t}, expected === ${e}`);"undefined"!==typeof expect&&expect().nothing()}function sr(t,e,n){return!isFinite(t)&&!isFinite(e)||!(isNaN(t)||isNaN(e)||Math.abs(t-e)>n)}function ur(t,e,n){for(let r=0;r<t.length;r++)if(t[r]<e||t[r]>n)throw new Error(`Value out of range:${t[r]} low: ${e}, high: ${n}`)}function cr(t,e){const n=new Float32Array(t),r=new Float32Array(e);if(n.length!==r.length)throw new Error(`Expected ArrayBuffer to be of length ${r.length}, but it was ${n.length}`);for(let i=0;i<r.length;i++)if(n[i]!==r[i])throw new Error(`Expected ArrayBuffer value at ${i} to be ${r[i]} but got ${n[i]} instead`)}function lr(t){for(let e=0;e<t.length;e++){const n=t[e];Array.isArray(n)?lr(n):t[e]=(0,T.encodeString)(n)}return t}function fr(t){const e=document.createElement("video");return"playsInline"in e&&(e.playsInline=!0),e.muted=!0,e.loop=!0,e.style.position="fixed",e.style.left="0px",e.style.top="0px",e.preload="auto",e.appendChild(t),new Promise((t=>{e.addEventListener("loadeddata",(n=>t(e))),e.load()}))}async function hr(t){await t.play(),"requestVideoFrameCallback"in t&&await new Promise((e=>{t.requestVideoFrameCallback(e)}))}
/** @license See the LICENSE file. */
const dr="4.20.0";
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class pr{static sgd(t){return new Ae(t)}static momentum(t,e,n=!1){return new Se(t,e,n)}static rmsprop(t,e=.9,n=0,r=null,i=!1){return new Ce(t,e,n,r,i)}static adam(t=.001,e=.9,n=.999,r=null){return new we(t,e,n,r)}static adadelta(t=.001,e=.95,n=null){return new ge(t,e,n)}static adamax(t=.002,e=.9,n=.999,r=null,i=0){return new ke(t,e,n,r,i)}static adagrad(t,e=.1){return new ve(t,e)}}var gr=n(2046),mr=n(2804),vr=n(7558);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function yr(t){D.vA(Array.isArray(t),(()=>"The argument passed to tf.addN() must be a list of tensors")),D.vA(t.length>=1,(()=>`Must pass at least one tensor to tf.addN(), but got ${t.length}`));const e=t.map(((t,e)=>(0,S.YT)(t,`tensors${e}`,"addN"))),n=e[0];e.forEach((t=>{if(t.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),e.forEach((t=>{if(!D.r1(t.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));const r=e;return m.T2.runKernel(hn.EkD,r)}const br=(0,sn.op)({addN_:yr});var wr=n(2307),xr=n(9326),_r=n(897),kr=n(4339),Ar=n(6841),Sr=n(269),Cr=n(9580),Er=n(1404),Dr=n(3774),Mr=n(3909),Tr=n(7195),Fr=n(2302);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Or(t,e,n,r,i,o="NDHWC"){const a=(0,S.YT)(t,"x","avgPool3d","float32");let s=a,u=!1;4===a.rank&&(u=!0,s=(0,Fr.t)(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),D.vA(5===s.rank,(()=>`Error in avgPool3d: x must be rank 5 but got rank ${s.rank}.`)),D.vA("NDHWC"===o,(()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${o}`)),D.vA("number"===typeof n&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,(()=>`Error in avgPool3d: Stride must be > 0, but got '${n}'`)),(0,Tr.s_)("avgPool3d",r,i);const c={x:s},l={filterSize:e,strides:n,pad:r,dimRoundingMode:i,dataFormat:o};let f=m.T2.runKernel(hn.cS,c,l);return f=(0,Xt.w)(f,s.dtype),u?(0,Fr.t)(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}const $r=(0,sn.op)({avgPool3d_:Or});var Nr=n(5030),Br=n(8968),Rr=n(7986),Pr=n(7311);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Ir(t,e,n,r,i,o){const a=(0,S.YT)(t,"forgetBias","basicLSTMCell"),s=(0,S.YT)(e,"lstmKernel","basicLSTMCell"),u=(0,S.YT)(n,"lstmBias","basicLSTMCell"),c=(0,S.YT)(r,"data","basicLSTMCell"),l=(0,S.YT)(i,"c","basicLSTMCell"),f=(0,S.YT)(o,"h","basicLSTMCell"),h=(0,Nr.x)([c,f],1),d=(0,on.N)(h,s),p=(0,te.W)(d,u),g=p.shape[0],m=p.shape[1]/4,v=[g,m],y=(0,Rr.d)(p,[0,0],v),b=(0,Rr.d)(p,[0,m],v),w=(0,Rr.d)(p,[0,2*m],v),x=(0,Rr.d)(p,[0,3*m],v),_=(0,te.W)((0,ne.l)((0,Br.r)(y),(0,Pr.y)(b)),(0,ne.l)(l,(0,Br.r)((0,te.W)(a,w)))),k=(0,ne.l)((0,Pr.y)(_),(0,Br.r)(x));return[_,k]}const jr=(0,sn.op)({basicLSTMCell_:Ir});var Lr=n(9772),zr=n(251);function Ur(t,e,n,r,i,o){const a=(0,S.YT)(t,"x","batchNorm"),s=(0,S.YT)(e,"mean","batchNorm"),u=(0,S.YT)(n,"variance","batchNorm");let c,l;return null!=i&&(c=(0,S.YT)(i,"scale","batchNorm")),null!=r&&(l=(0,S.YT)(r,"offset","batchNorm")),D.vA(2===a.rank,(()=>`Error in batchNorm2D: x must be rank 2 but got rank ${a.rank}.`)),D.vA(2===s.rank||1===s.rank,(()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${s.rank}.`)),D.vA(2===u.rank||1===u.rank,(()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${u.rank}.`)),null!=c&&D.vA(2===c.rank||1===c.rank,(()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${c.rank}.`)),null!=l&&D.vA(2===l.rank||1===l.rank,(()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${l.rank}.`)),(0,zr.$)(a,s,u,l,c,o)}const qr=(0,sn.op)({batchNorm2d_:Ur});function Vr(t,e,n,r,i,o){const a=(0,S.YT)(t,"x","batchNorm"),s=(0,S.YT)(e,"mean","batchNorm"),u=(0,S.YT)(n,"variance","batchNorm");let c,l;return null!=i&&(c=(0,S.YT)(i,"scale","batchNorm")),null!=r&&(l=(0,S.YT)(r,"offset","batchNorm")),D.vA(3===a.rank,(()=>`Error in batchNorm3D: x must be rank 3 but got rank ${a.rank}.`)),D.vA(3===s.rank||1===s.rank,(()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${s.rank}.`)),D.vA(3===u.rank||1===u.rank,(()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${u.rank}.`)),null!=c&&D.vA(3===c.rank||1===c.rank,(()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${c.rank}.`)),null!=l&&D.vA(3===l.rank||1===l.rank,(()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${l.rank}.`)),(0,zr.$)(a,s,u,l,c,o)}const Hr=(0,sn.op)({batchNorm3d_:Vr});function Wr(t,e,n,r,i,o){const a=(0,S.YT)(t,"x","batchNorm"),s=(0,S.YT)(e,"mean","batchNorm"),u=(0,S.YT)(n,"variance","batchNorm");let c,l;return null!=i&&(c=(0,S.YT)(i,"scale","batchNorm")),null!=r&&(l=(0,S.YT)(r,"offset","batchNorm")),D.vA(4===a.rank,(()=>`Error in batchNorm4D: x must be rank 4 but got rank ${a.rank}.`)),D.vA(4===s.rank||1===s.rank,(()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${s.rank}.`)),D.vA(4===u.rank||1===u.rank,(()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${u.rank}.`)),null!=c&&D.vA(4===c.rank||1===c.rank,(()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${c.rank}.`)),null!=l&&D.vA(4===l.rank||1===l.rank,(()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${l.rank}.`)),(0,zr.$)(a,s,u,l,c,o)}const Yr=(0,sn.op)({batchNorm4d_:Wr});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Gr(t,e,n){const r=(0,S.YT)(t,"x","bincount"),i=(0,S.YT)(e,"weights","bincount");D.vA("int32"===r.dtype,(()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`)),D.vA(n>=0,(()=>`size must be non-negative, but got ${n}.`)),D.vA(i.size===r.size||0===i.size,(()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${i.shape}.`));const o={x:r,weights:i},a={size:n};return m.T2.runKernel(hn.N4F,o,a)}const Kr=(0,sn.op)({bincount_:Gr});
/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Xr(t,e){const n=(0,S.YT)(t,"x","bitwiseAnd"),r=(0,S.YT)(e,"y","bitwiseAnd");if(!(0,D.r1)(n.shape,r.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${n.shape}, y: ${r.shape}`);if("int32"!==n.dtype||"int32"!==r.dtype)throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${n.dtype} and type of y: ${r.dtype}`);const i={a:n,b:r};return m.T2.runKernel(hn.HNs,i)}const Jr=(0,sn.op)({bitwiseAnd_:Xr});
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Zr(t,e){const n=(0,S.YT)(t,"s0","broadcastArgs","int32"),r=(0,S.YT)(e,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(1!==r.rank)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${r.rank}`);const i={s0:n,s1:r};return m.T2.runKernel(hn.vj7,i)}const Qr=(0,sn.op)({broadcastArgs_:Zr});var ti=n(3567),ei=n(855),ni=n(6928);function ri(t){return(0,Nr.x)(t,0)}const ii=(0,sn.op)({concat1d_:ri});function oi(t,e){return(0,Nr.x)(t,e)}const ai=(0,sn.op)({concat2d_:oi});function si(t,e){return(0,Nr.x)(t,e)}const ui=(0,sn.op)({concat3d_:si});function ci(t,e){return(0,Nr.x)(t,e)}const li=(0,sn.op)({concat4d_:ci});var fi=n(3701),hi=n(8794),di=n(1106);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function pi(t,e,n,r,i="NDHWC",o=[1,1,1]){const a=(0,S.YT)(t,"x","conv3d"),s=(0,S.YT)(e,"filter","conv3d");let u=a,c=!1;4===a.rank&&(c=!0,u=(0,Fr.t)(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),D.vA(5===u.rank,(()=>`Error in conv3d: input must be rank 5, but got rank ${u.rank}.`)),D.vA(5===s.rank,(()=>`Error in conv3d: filter must be rank 5, but got rank ${s.rank}.`)),D.vA(u.shape[4]===s.shape[3],(()=>`Error in conv3d: depth of input (${u.shape[4]}) must match input depth for filter ${s.shape[3]}.`)),D.vA((0,Tr.G0)(n,o),(()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`)),D.vA("NDHWC"===i,(()=>`Error in conv3d: got dataFormat of ${i} but only NDHWC is currently supported.`)),D.vA((0,Tr.qk)(o),(()=>"Error in conv3D: Dilated rates should be larger than 0.")),D.vA((0,Tr.qk)(n),(()=>"Error in conv3D: Strides should be larger than 0."));const l={x:u,filter:s},f={strides:n,pad:r,dataFormat:i,dilations:o},h=m.T2.runKernel(hn.A1h,l,f);return c?(0,Fr.t)(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}const gi=(0,sn.op)({conv3d_:pi});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function mi(t,e,n,r,i){D.vA(t.length===e.rank,(()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`));let o=t,a=e,s=!1;4===e.rank&&(s=!0,a=(0,Fr.t)(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),o=[1,t[0],t[1],t[2],t[3]]);const u=o[4],c=a.shape[4];D.vA(5===o.length,(()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${o.length}.`)),D.vA(5===a.rank,(()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${a.rank}`)),D.vA(5===n.rank,(()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`)),D.vA(u===n.shape[3],(()=>`Error in conv3dDerInput: depth of input (${u}) must match input depth for filter ${n.shape[3]}.`)),D.vA(c===n.shape[4],(()=>`Error in conv3dDerInput: depth of output (${c}) must match output depth for filter ${n.shape[4]}.`));const l={dy:a,filter:n},f={pad:i,strides:r,inputShape:o},h=m.T2.runKernel(hn.gC7,l,f);return s?(0,Fr.t)(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}const vi=(0,sn.op)({conv3DBackpropInput_:mi});function yi(t,e,n,r,i){const o=(0,S.YT)(t,"x","conv3dTranspose"),a=(0,S.YT)(e,"filter","conv3dTranspose");return vi(n,o,a,r,i)}const bi=(0,sn.op)({conv3dTranspose_:yi});var wi=n(9907),xi=n(7451),_i=n(302),ki=n(6808);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Ai(t,e,n,r=!1){const i=(0,S.YT)(t,"x","denseBincount"),o=(0,S.YT)(e,"weights","denseBincount");D.vA("int32"===i.dtype,(()=>`Error in denseBincount: input dtype must be int32, but got ${i.dtype}`)),D.vA(i.rank<=2,(()=>`Error in denseBincount: input must be at most rank 2, but got rank ${i.rank}.`)),D.vA(n>=0,(()=>`size must be non-negative, but got ${n}.`)),D.vA(o.size===i.size||0===o.size,(()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${i.shape}, weights shape: ${o.shape}.`));const a={x:i,weights:o},s={size:n,binaryOutput:r};return m.T2.runKernel(hn.wNW,a,s)}const Si=(0,sn.op)({denseBincount_:Ai});var Ci=n(1216),Ei=n(676);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Di(t){const e=(0,S.YT)(t,"x","diag"),n={x:e};return m.T2.runKernel(hn.ORI,n)}const Mi=(0,sn.op)({diag_:Di});var Ti=n(3002),Fi=n(919),Oi=n(9759);
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function $i(t,...e){const n=e.map(((t,e)=>(0,S.YT)(t,`tensors${e}`,"einsum"))),r={equation:t};return m.T2.runKernel(hn.Qgm,n,r)}const Ni=(0,sn.op)({einsum_:$i});var Bi=n(3416);
/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Ri(t,e){const n=(0,S.YT)(t,"x","ensureShape","string_or_numeric");if(!(0,D.e_)(n.shape,e))throw new Error(`EnsureShape: Shape of tensor ${n.shape} is not compatible with expected shape ${e}`);return t}const Pi=(0,sn.op)({ensureShape_:Ri});var Ii=n(3020),ji=n(5207),Li=n(4881),zi=n(8631),Ui=n(8710),qi=n(517),Vi=n(4826);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Hi(t,e,n,r="float32"){null==e&&(e=t);const i=Kt([t,e],r),o=t<=e?t:e;for(let s=0;s<o;++s)i.set(1,s,s);const a=(0,Fr.t)(i.toTensor(),[t,e]);if(null==n)return a;if(1===n.length)return(0,Vi.V)((0,Ui.U)(a,0),[n[0],1,1]);if(2===n.length)return(0,Vi.V)((0,Ui.U)((0,Ui.U)(a,0),0),[n[0],n[1],1,1]);if(3===n.length)return(0,Vi.V)((0,Ui.U)((0,Ui.U)((0,Ui.U)(a,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}const Wi=(0,sn.op)({eye_:Hi});var Yi=n(5606),Gi=n(8991),Ki=n(8229),Xi=n(2058),Ji=n(3337),Zi=n(5040),Qi=n(8318),to=n(3454),eo=n(6300),no=n(6919),ro=n(1303),io=n(6508);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function oo(t,e,n){if(n<=0)throw new Error("The number of values should be positive.");const r={start:t,stop:e,num:n};return m.T2.runKernel(hn.mnI,{},r)}var ao=n(3531),so=n(4010),uo=n(2015),co=n(5645),lo=n(7991),fo=n(3330),ho=n(6170),po=n(9881),go=n(9879),mo=n(9925);
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const vo=2147483648;function yo(t,e,n="left"){const r=(0,S.YT)(t,"sortedSequence","searchSorted"),i=(0,S.YT)(e,"values","searchSorted"),o=r.shape[r.shape.length-1],a=i.shape[i.shape.length-1],s=(0,Fr.t)(r,[-1,o]),u=(0,Fr.t)(i,[-1,a]);if(s.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(s.shape[0]!==u.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if((0,D.Ze)(u.shape)>=vo)throw new Error(`values tensor size must less than ${vo}`);if(s.shape[1]>=vo)throw new Error(`trailing dim_size must less than ${vo} for int32 output type, was ${s.shape[1]}`);const c={sortedSequence:s,values:u},l={side:n};return m.T2.runKernel(hn.uWl,c,l)}const bo=(0,sn.op)({searchSorted_:yo});
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function wo(t,e){return bo(t,e,"left")}var xo=n(1938),_o=n(6999);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function ko(t,e=[1,1,1],n,r,i,o="NDHWC"){const a=(0,S.YT)(t,"x","maxPool3d");let s=a,u=!1;4===a.rank&&(u=!0,s=(0,Fr.t)(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),D.vA(5===s.rank,(()=>`Error in maxPool3d: x must be rank 5 but got rank ${s.rank}.`)),D.vA("NDHWC"===o,(()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${o}`)),(0,Tr.s_)("maxPool3d",r,i);const c={x:s},l={filterSize:e,strides:n,pad:r,dimRoundingMode:i,dataFormat:o},f=m.T2.runKernel(hn.ySp,c,l);return u?(0,Fr.t)(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}const Ao=(0,sn.op)({maxPool3d_:ko});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function So(t,e,n,r,i=!1){const o=(0,S.YT)(t,"x","maxPoolWithArgmax"),a={x:o},s={filterSize:e,strides:n,pad:r,includeBatchInIndex:i},u=m.T2.runKernel(hn.TL8,a,s);return{result:u[0],indexes:u[1]}}const Co=(0,sn.op)({maxPoolWithArgmax_:So});var Eo=n(2611),Do=n(2855);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Mo(t,e="float32"){if((0,D.SA)(t),"complex64"===e){const e=Mo(t,"float32"),n=(0,Do.U)(t,"float32");return(0,A.f)(e,n)}const n=(0,D.FZ)((0,D.Ze)(t),e);return m.T2.makeTensor(n,t,e)}
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function To(t,e,{indexing:n="xy"}={}){if("xy"!==n&&"ij"!==n)throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(void 0===t)return[];let r=(0,S.YT)(t,"x","meshgrid",t instanceof Gt.qY?t.dtype:"float32");if(void 0===e)return[r];let i=(0,S.YT)(e,"y","meshgrid",e instanceof Gt.qY?e.dtype:"float32");const o=(0,D.Ze)(r.shape),a=(0,D.Ze)(i.shape);return"xy"===n?(r=(0,Fr.t)(r,[1,-1]),i=(0,Fr.t)(i,[-1,1]),[(0,on.N)(Mo([a,1],r.dtype),r),(0,on.N)(i,Mo([1,o],i.dtype))]):(r=(0,Fr.t)(r,[-1,1]),i=(0,Fr.t)(i,[1,-1]),[(0,on.N)(r,Mo([1,a],r.dtype)),(0,on.N)(Mo([o,1],i.dtype),i)])}var Fo=n(7436),Oo=n(2644),$o=n(6567),No=n(152),Bo=n(1078);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Ro(t,e=null,n=!1){t=(0,S.YT)(t,"x","moments");const r=(0,D.Y6)(e,t.shape),i=(0,Eo.i)(t,r,n);let o=i.shape;n||(o=(0,Bo.SM)(i.shape,r));const a=(0,ie.E)((0,be.j)((0,Xt.w)(t,"float32"),(0,Fr.t)(i,o))),s=(0,Eo.i)(a,r,n);return{mean:i,variance:s}}const Po=(0,sn.op)({moments_:Ro});function Io(t,e,n,r){const i=(0,S.YT)(e,"data","multiRNNCell"),o=(0,S.j1)(n,"c","multiRNNCell"),a=(0,S.j1)(r,"h","multiRNNCell");let s=i;const u=[];for(let f=0;f<t.length;f++){const e=t[f](s,o[f],a[f]);u.push(e[0]),u.push(e[1]),s=e[1]}const c=[],l=[];for(let f=0;f<u.length;f+=2)c.push(u[f]),l.push(u[f+1]);return[c,l]}const jo=(0,sn.op)({multiRNNCell_:Io});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Lo(t,e,n,r=!1){const i=(0,S.YT)(t,"logits","multinomial"),o=i.size,a=i.rank;if(o<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${o}.`);if(a>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${a}`);n=n||Math.random();const s=1===a?(0,Fr.t)(i,[1,-1]):i,u={logits:s},c={numSamples:e,seed:n,normalized:r},l=m.T2.runKernel(hn.WT3,u,c);return 1===a?(0,Fr.t)(l,[l.size]):l}const zo=(0,sn.op)({multinomial_:Lo});var Uo=n(6522),qo=n(2118),Vo=n(9885);function Ho(t,e){const n=(0,S.YT)(t,"v1","outerProduct"),r=(0,S.YT)(e,"v2","outerProduct");D.vA(1===n.rank&&1===r.rank,(()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${r.rank}.`));const i=(0,Fr.t)(n,[-1,1]),o=(0,Fr.t)(r,[1,-1]);return(0,on.N)(i,o)}const Wo=(0,sn.op)({outerProduct_:Ho});var Yo=n(5661);function Go(t,e,n=0){return(0,D.vA)(2===e.length,(()=>"Invalid number of paddings. Must be length of 2.")),(0,Yo.e)(t,[e],n)}const Ko=(0,sn.op)({pad1d_:Go});function Xo(t,e,n=0){return(0,D.vA)(2===e.length&&2===e[0].length&&2===e[1].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),(0,Yo.e)(t,e,n)}const Jo=(0,sn.op)({pad2d_:Xo});function Zo(t,e,n=0){return(0,D.vA)(3===e.length&&2===e[0].length&&2===e[1].length&&2===e[2].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),(0,Yo.e)(t,e,n)}const Qo=(0,sn.op)({pad3d_:Zo});function ta(t,e,n=0){return(0,D.vA)(4===e.length&&2===e[0].length&&2===e[1].length&&2===e[2].length&&2===e[3].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),(0,Yo.e)(t,e,n)}const ea=(0,sn.op)({pad4d_:ta});var na=n(7872),ra=n(4394),ia=n(7771);
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function oa(t,e,n,r){const i=t.map(((t,e)=>(0,S.YT)(t,`tensors${e}`,"raggedGather","int32"))),o=(0,S.YT)(e,"paramsDenseValues","raggedGather"),a=(0,S.YT)(n,"indices","raggedGather","int32"),s={paramsNestedSplits:i,paramsDenseValues:o,indices:a},u={outputRaggedRank:r},c=m.T2.runKernel(hn.oJ2,s,u);return{outputNestedSplits:c.slice(0,c.length-1),outputDenseValues:c[c.length-1]}}const aa=(0,sn.op)({raggedGather_:oa});
/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function sa(t,e,n){const r=(0,S.YT)(t,"starts","raggedRange"),i=(0,S.YT)(e,"limits","raggedRange",r.dtype),o=(0,S.YT)(n,"deltas","raggedRange",r.dtype),a={starts:r,limits:i,deltas:o},s=m.T2.runKernel(hn.CQC,a);return{rtNestedSplits:s[0],rtDenseValues:s[1]}}const ua=(0,sn.op)({raggedRange_:sa});
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function ca(t,e,n,r,i){const o=(0,S.YT)(t,"shape","raggedTensorToTensor","int32"),a=(0,S.YT)(e,"values","raggedTensorToTensor"),s=(0,S.YT)(n,"defaultValue","raggedTensorToTensor",a.dtype),u=r.map(((t,e)=>(0,S.YT)(t,`tensors${e}`,"raggedTensorToTensor","int32"))),c={shape:o,values:a,defaultValue:s,rowPartitionTensors:u},l={rowPartitionTypes:i};return m.T2.runKernel(hn.mH5,c,l)}const la=(0,sn.op)({raggedTensorToTensor_:ca});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function fa(t,e,n){(0,D.SA)(t);const r=(0,D.Ze)(t);let i=null;if(null==n||"float32"===n)i=new Float32Array(r);else if("int32"===n)i=new Int32Array(r);else{if("bool"!==n)throw new Error(`Unknown data type ${n}`);i=new Uint8Array(r)}for(let o=0;o<r;o++)i[o]=e();return m.T2.makeTensor(i,t,n)}const ha=(0,sn.op)({rand_:fa});var da=n(7391);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class pa{constructor(t,e,n,r,i){this.mean=t,this.stdDev=e,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const o=i||Math.random();this.random=da.alea(o.toString())}nextValue(){if(!isNaN(this.nextVal)){const t=this.nextVal;return this.nextVal=NaN,t}let t,e,n=!1;while(!n){let r,i,o;do{r=2*this.random()-1,i=2*this.random()-1,o=r*r+i*i}while(o>=1||0===o);const a=Math.sqrt(-2*Math.log(o)/o);t=this.mean+this.stdDev*r*a,e=this.mean+this.stdDev*i*a,this.truncated&&!this.isValidTruncated(t)||(n=!0)}return this.truncated&&!this.isValidTruncated(e)||(this.nextVal=this.convertValue(e)),this.convertValue(t)}convertValue(t){return null==this.dtype||"float32"===this.dtype?t:Math.round(t)}isValidTruncated(t){return t<=this.upper&&t>=this.lower}}class ga{constructor(t,e,n,r){this.alpha=t,this.beta=1/e,this.dtype=n;const i=r||Math.random();this.randu=da.alea(i.toString()),this.randn=new pa(0,1,n,!1,this.randu()),this.d=t<1?t+2/3:t-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let t,e,n,r,i,o;while(1){do{r=this.randn.nextValue(),o=1+this.c*r}while(o<=0);if(o*=o*o,t=r*r,e=1-.331*t*t,n=.5*t+this.d*(1-o+Math.log(o)),i=this.randu(),i<e||Math.log(i)<n)break}return o=1/this.beta*this.d*o,this.alpha<1&&(o*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(o)}convertValue(t){return"float32"===this.dtype?t:Math.round(t)}}class ma{constructor(t=0,e=1,n,r){if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=t,this.range=e-t,this.dtype=n,null==r&&(r=Math.random()),"number"===typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${t} - ${e} <= 1 and dtype is not float`);this.random=da.alea(r)}convertValue(t){return this.canReturnFloat()?t:Math.round(t)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function va(t,e,n=1,r="float32",i){if((0,D.SA)(t),null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error(`Unsupported data type ${r}`);const o=new ga(e,n,r,i),a=Kt(t,r);for(let s=0;s<a.values.length;s++)a.values[s]=o.nextValue();return a.toTensor()}const ya=(0,sn.op)({randomGamma_:va});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function ba(t,e=0,n=1,r,i){if((0,D.SA)(t),null!=r&&"bool"===r)throw new Error(`Unsupported data type ${r}`);const o=new pa(e,n,r,!1,i),a=Kt(t,r);for(let s=0;s<a.values.length;s++)a.values[s]=o.nextValue();return a.toTensor()}const wa=(0,sn.op)({randomNormal_:ba});
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function xa(t,e,n){if(null!=e&&"bool"===e)throw new Error(`Unsupported data type ${e}`);return wa(t,0,1,e,n)}const _a=(0,sn.op)({randomStandardNormal_:xa});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function ka(t,e=0,n=1,r="float32",i){(0,D.SA)(t);const o=Kt(t,r),a=new ma(e,n,null,i);for(let s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}const Aa=(0,sn.op)({randomUniform_:ka});
/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Sa(t,e,n,r){return Aa(t,e,n,"int32",r)}const Ca=(0,sn.op)({randomUniformInt_:Sa});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Ea(t,e,n=1,r="float32"){if(0===n)throw new Error("Cannot have a step of zero");const i={start:t,stop:e,step:n,dtype:r};return m.T2.runKernel(hn.Q6t,{},i)}var Da=n(1902),Ma=n(9870),Ta=n(112),Fa=n(3732),Oa=n(3262);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function $a(t){const e=(0,S.YT)(t,"x","reverse");return D.vA(1===e.rank,(()=>`Error in reverse1D: x must be rank 1 but got rank ${e.rank}.`)),(0,Oa.B)(e,0)}const Na=(0,sn.op)({reverse1d_:$a});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Ba(t,e){const n=(0,S.YT)(t,"x","reverse");return D.vA(2===n.rank,(()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`)),(0,Oa.B)(n,e)}const Ra=(0,sn.op)({reverse2d_:Ba});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Pa(t,e){const n=(0,S.YT)(t,"x","reverse");return D.vA(3===n.rank,(()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`)),(0,Oa.B)(n,e)}const Ia=(0,sn.op)({reverse3d_:Pa});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function ja(t,e){const n=(0,S.YT)(t,"x","reverse");return D.vA(4===n.rank,(()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`)),(0,Oa.B)(n,e)}const La=(0,sn.op)({reverse4d_:ja});var za=n(5912),Ua=n(7820),qa=n(6325),Va=n(9986);
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
async function Ha(t,e){const n=(0,S.YT)(t,"x","setdiff1d"),r=(0,S.YT)(e,"y","setdiff1d");D.vA(n.dtype===r.dtype,(()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${r.dtype}).`)),D.vA(1===n.rank,(()=>`x should be 1D tensor, but got x (${n.shape}).`)),D.vA(1===r.rank,(()=>`y should be 1D tensor, but got y (${r.shape}).`));const i=await n.data(),o=await r.data(),a=new Set(o);let s=0;for(let l=0;l<i.length;l++)a.has(i[l])||s++;const u=new Gt.yl([s],n.dtype),c=new Gt.yl([s],"int32");for(let l=0,f=0;l<i.length;l++)a.has(i[l])||(u.values[f]=i[l],c.values[f]=l,f++);return[u.toTensor(),c.toTensor()]}const Wa=Ha;var Ya=n(1115),Ga=n(3726),Ka=n(8276);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Xa(t,e,n){const r=(0,S.YT)(t,"x","slice1d");return D.vA(1===r.rank,(()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`)),(0,Rr.d)(r,[e],[n])}const Ja=(0,sn.op)({slice1d_:Xa});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Za(t,e,n){const r=(0,S.YT)(t,"x","slice2d");return D.vA(2===r.rank,(()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`)),(0,Rr.d)(r,e,n)}const Qa=(0,sn.op)({slice2d_:Za});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function ts(t,e,n){const r=(0,S.YT)(t,"x","slice3d");return D.vA(3===r.rank,(()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`)),(0,Rr.d)(r,e,n)}const es=(0,sn.op)({slice3d_:ts});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function ns(t,e,n){const r=(0,S.YT)(t,"x","slice4d");return D.vA(4===r.rank,(()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`)),(0,Rr.d)(r,e,n)}const rs=(0,sn.op)({slice4d_:ns});var is=n(6346),os=n(6030),as=n(776),ss=n(1361),us=n(3108),cs=n(2292),ls=n(8775),fs=n(6512),hs=n(3427),ds=n(5932),ps=n(4268),gs=n(700),ms=n(5894),vs=n(3791),ys=n(7823);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function bs(t,e){(0,D.HO)(t);const n=(0,S.MZ)(t,e);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");const r=null;return(0,C.Q)(t,r,n,e)}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function ws(t,e,n){if((0,D.HO)(t),null!=e&&2!==e.length)throw new Error("tensor2d() requires shape to have two numbers");const r=(0,S.MZ)(t,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==e)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return(0,C.Q)(t,e,r,n)}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function xs(t,e,n){if((0,D.HO)(t),null!=e&&4!==e.length)throw new Error("tensor4d() requires shape to have four numbers");const r=(0,S.MZ)(t,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==e)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return(0,C.Q)(t,e,r,n)}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function _s(t,e,n){if((0,D.HO)(t),null!=e&&5!==e.length)throw new Error("tensor5d() requires shape to have five numbers");const r=(0,S.MZ)(t,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==e)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return(0,C.Q)(t,e,r,n)}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function ks(t,e,n){if((0,D.HO)(t),null!=e&&6!==e.length)throw new Error("tensor6d() requires shape to have six numbers");const r=(0,S.MZ)(t,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==e)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return e=e||r,(0,C.Q)(t,e,r,n)}
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function As(t,e,n){const r=(0,S.YT)(t,"tensor","tensorScatterupdate"),i=(0,S.YT)(e,"indices","tensorScatterupdate","int32"),o=(0,S.YT)(n,"updates","tensorScatterupdate");if(Tn(o,i,r.shape),r.dtype!==o.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${r.dtype} and ${o.dtype}.`);const a={tensor:r,indices:i,updates:o},s={};return m.T2.runKernel(hn.X4r,a,s)}const Ss=(0,sn.op)({tensorScatterUpdate_:As});var Cs=n(1190);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Es(t,e=0,n=1,r,i){if((0,D.SA)(t),null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");const o=new pa(e,n,r,!0,i),a=Kt(t,r);for(let s=0;s<a.values.length;s++)a.values[s]=o.nextValue();return a.toTensor()}const Ds=(0,sn.op)({truncatedNormal_:Es});var Ms=n(3937),Ts=n(7706),Fs=n(7261);
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Os(t,e){return bo(t,e,"right")}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function $s(t,e=!0,n,r){return m.T2.makeVariable(t,e,n,r)}var Ns=n(2151);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Bs(t,e){const n=[];for(let o=0;o<e.length;o++)e[o]&&n.push(o);const r=Kt(t,"int32"),i=Kt([n.length,t.length],"int32");for(let o=0;o<n.length;o++){const e=r.indexToLoc(n[o]),a=o*t.length;i.values.set(e,a)}return i.toTensor()}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
async function Rs(t){const e=(0,S.YT)(t,"condition","whereAsync","bool"),n=await e.data(),r=Bs(e.shape,n);return t!==e&&e.dispose(),r}const Ps=Rs;
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
async function Is(t,e,n){const r=(0,S.YT)(t,"tensor","boolMask"),i=(0,S.YT)(e,"mask","boolMask","bool"),o=null==n?0:n,a=i.rank,s=r.shape;D.vA(a>0,(()=>"mask cannot be scalar")),D.O3(s.slice(o,o+a),i.shape,"mask's shape must match the first K dimensions of tensor's shape,");let u=1;for(let g=o;g<o+a;g++)u*=s[g];const c=s.slice(0,o).concat([u],s.slice(o+a)),l=(0,Fr.t)(r,c),f=(0,Fr.t)(i,[-1]),h=await Ps(f),d=(0,ds.r)(h,[1]),p=(0,Ki.k)(l,d,o);return t!==r&&r.dispose(),e!==i&&i.dispose(),d.dispose(),l.dispose(),f.dispose(),h.dispose(),p}const js=Is;var Ls=n(2596);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function zs(t,e,n,r,i=!0){const o=(0,S.YT)(t,"v","movingAverage"),a=(0,S.YT)(e,"x","movingAverage"),s=(0,S.YT)(n,"decay","movingAverage");(0,Zn.assertTypesMatch)(o,a),D.vA(D.r1(o.shape,a.shape),(()=>"Shape mismatch in v and x"));const u=(0,se.d)(1),c=(0,be.j)(u,s);let l=(0,ne.l)((0,be.j)(a,o),c);if(i){D.vA(null!=r,(()=>"When using zeroDebias: true, step is required."));const t=(0,S.YT)(r,"step","movingAverage");l=(0,ee.y)(l,(0,be.j)(u,(0,ye.n)(s,t)))}return(0,te.W)(o,l)}const Us=(0,sn.op)({movingAverage_:zs});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function qs(t,e,n){(0,D.SA)(n);const r=(0,S.YT)(t,"indices","scatterND","int32"),i=(0,S.YT)(e,"updates","scatterND");Tn(i,r,n);const o={indices:r,updates:i},a={shape:n};return m.T2.runKernel(hn.pJc,o,a)}const Vs=(0,sn.op)({scatterND_:qs});function Hs(t,e,n,r){if("int32"!==t.dtype)throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${t.shape}.`);const i=t.rank>0?t.shape[0]:1,o=t.rank>1?t.shape[1]:1;if(n.length!==o)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${o}.`);const a=e.size;if(0!==e.rank&&(1!==e.rank||a!==i))throw new Error(`sparseValues has incorrect shape ${e.shape}, should be [] or [${i}]`);if(e.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Ws(t,e,n,r=0){(0,D.SA)(n);const i=(0,S.YT)(t,"sparseIndices","sparseToDense","int32"),o=(0,S.YT)(e,"sparseValues","sparseToDense","string_or_numeric"),a=(0,S.YT)(r,"defaultValue","sparseToDense",o.dtype);Hs(i,o,n,a);const s={sparseIndices:i,sparseValues:o,defaultValue:a},u={outputShape:n};return m.T2.runKernel(hn.jgd,s,u)}const Ys=(0,sn.op)({sparseToDense_:Ws});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Gs(t,e){const n=(0,S.YT)(e,"indices","gatherND","int32"),r=(0,S.YT)(t,"x","gatherND","string_or_numeric"),i={params:r,indices:n};return m.T2.runKernel(hn.O4G,i)}const Ks=(0,sn.op)({gatherND_:Gs});
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Xs(t,e){if(null==e)return t.shape.slice();if(D.r1(t.shape,e))return e;if(t.shape.length===e.length){const n=[];for(let r=0;r<t.shape.length;r++)null==e[r]&&null!=t.shape[r]?n.push(t.shape[r]):n.push(e[r]);return n}return e}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Js(t,e,n,r){const i=(0,S.YT)(t,"x","dropout");if(D.vA("float32"===i.dtype,(()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${i.dtype} tensor instead.`)),D.vA(e>=0&&e<1,(()=>`rate must be a float in the range [0, 1), but got ${e}.`)),0===e)return t instanceof Gt.qY?i.clone():i;const o=Xs(i,n),a=1-e,s=(0,ee.y)((0,Yi.R)((0,te.W)(Aa(o,0,1,"float32",r),a)),a);return(0,ne.l)(i,s)}const Zs=(0,sn.op)({dropout_:Js});
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Qs(t){return Math.floor(Math.pow(2,Math.ceil(Math.log(t)/Math.log(2))))}function tu(t,e,n){const r=1-t%2,i=new Float32Array(t);for(let o=0;o<t;++o){const a=2*Math.PI*o/(t+r-1);i[o]=e-n*Math.cos(a)}return bs(i,"float32")}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
async function eu(t,e,n=1){const r=(0,S.YT)(t,"predictions","inTopK"),i=(0,S.YT)(e,"targets","inTopK");(0,D.vA)(r.rank>1,(()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${r.rank}`)),(0,D.vA)(r.rank-1===i.rank,(()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${r.rank} and targets rank ${i.rank}`)),(0,D.O3)(r.shape.slice(0,r.shape.length-1),i.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const o=r.shape[r.shape.length-1];(0,D.vA)(n>0&&n<=o,(()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${o}), but got ${n}`));const a=await r.data(),s=await i.data(),[u,c]=[a.length/o,o],l=(0,D.ce)("bool",u);for(let f=0;f<u;f++){const t=f*c,e=a.subarray(t,t+c),r=[];for(let n=0;n<e.length;n++)r.push({value:e[n],index:n});r.sort(((t,e)=>e.value-t.value)),l[f]=0;for(let i=0;i<n;i++)if(r[i].index===s[f]){l[f]=1;break}}return t!==r&&r.dispose(),e!==i&&i.dispose(),E(l,i.shape,"bool")}const nu=eu;
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function ru(t,e,n,r,i,o="NHWC",a){let s=t;3===t.rank&&(s=(0,Fr.t)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let u=e;3===u.rank&&(u=(0,Fr.t)(e,[1,e.shape[0],e.shape[1],e.shape[2]])),D.vA(4===s.rank,(()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${s.shape}.`)),D.vA(4===u.rank,(()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${u.shape}.`)),D.vA(4===n.length,(()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`));const c="NHWC"===o?s.shape[3]:s.shape[1],l="NHWC"===o?u.shape[3]:u.shape[1];D.vA(c===n[2],(()=>`Error in conv2dDerFilter: depth of input ${c}) must match input depth in filter (${n[2]}.`)),D.vA(l===n[3],(()=>`Error in conv2dDerFilter: depth of dy (${l}) must match output depth for filter (${n[3]}).`)),Tr.s_("conv2dDerFilter",i,a);const f={x:s,dy:u},h={strides:r,pad:i,dataFormat:o,dimRoundingMode:a,filterShape:n};return m.T2.runKernel(hn.rFm,f,h)}const iu=(0,sn.op)({conv2DBackpropFilter_:ru});var ou=n(252);
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function au(t,e,n){if(null==n||"linear"===n)return t;if("relu"===n)return(0,ne.l)(t,(0,gs.P)(e));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function su(t,e){let n=e;const r=fn.getReductionAxes(t.shape,e.shape);return r.length>0&&(n=(0,vs.c)(n,r)),(0,Fr.t)(n,t.shape)}function uu(t,e,n,r){if("linear"===e)return t;if("relu"===e)return(0,Ta.V)(t);if("elu"===e)return(0,Bi.P)(t);if("relu6"===e)return(0,Fa.j)(t);if("prelu"===e)return(0,ra.N)(t,n);if("leakyrelu"===e)return(0,no.H)(t,r);if("sigmoid"===e)return(0,Br.r)(t);throw new Error(`Unknown fused activation ${e}.`)}const cu=(t,e)=>{const n=t>0;return!n||"linear"===e};
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function lu({x:t,filter:e,strides:n,pad:r,dataFormat:i="NHWC",dilations:o=[1,1],dimRoundingMode:a,bias:s,activation:u="linear",preluActivationWeights:c,leakyreluAlpha:l}){if(u=u||"linear",!1===cu(m.T2.state.gradientDepth,u)){D.vA("NHWC"===i,(()=>`Error in fused conv2d: got dataFormat of ${i} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`));let f=(0,hi.X)(t,e,n,r,i,o,a);return null!=s&&(f=(0,te.W)(f,s)),uu(f,u,c,l)}const f=(0,S.YT)(t,"x","conv2d","float32"),h=(0,S.YT)(e,"filter","conv2d","float32");let d=f,p=!1;3===f.rank&&(p=!0,d=(0,Fr.t)(f,[1,f.shape[0],f.shape[1],f.shape[2]])),D.vA(4===d.rank,(()=>`Error in fused conv2d: input must be rank 4, but got rank ${d.rank}.`)),D.vA(4===h.rank,(()=>`Error in fused conv2d: filter must be rank 4, but got rank ${h.rank}.`)),Tr.s_("fused conv2d",r,a);const g="NHWC"===i?d.shape[3]:d.shape[1];D.vA(h.shape[2]===g,(()=>`Error in conv2d: depth of input (${g}) must match input depth for filter ${h.shape[2]}.`)),D.vA(Tr.G0(n,o),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`));const v=Tr.uf(d.shape,h.shape,n,o,r,a);let y,b;if(null!=s&&(y=(0,S.YT)(s,"bias","fused conv2d"),[y]=(0,Zn.makeTypesMatch)(y,f),"NHWC"===i?fn.assertAndGetBroadcastShape(v.outShape,y.shape):(D.vA(y.shape.length<=1,(()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${y.shape.length}.`)),D.vA(0===y.shape.length||y.shape[0]===v.outChannels||1===y.shape[0],(()=>`Error in fused conv2d: bias shape (${y.shape}) is not compatible with the number of output channels (${v.outChannels})`)))),null!=c){const t=c.shape;if(D.vA(t.length<=1||3===t.length,(()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${t.length}.`)),1===t.length)D.vA(1===t[0]||t[0]===v.outChannels,(()=>`Error in fused conv2d: PReLU activation weights (${t}) is not compatible with the number of output channels (${v.outChannels}).`));else if(3===t.length)try{fn.assertAndGetBroadcastShape(t,v.outShape)}catch(k){const e=`Error in fused conv2d: PReLU activation weights (${t}) is not compatible with the output shape of the conv2d (${v.outShape}).`;throw Error(e)}b=(0,S.YT)(c,"prelu weights","fused conv2d")}const w=(t,e)=>{D.vA("NHWC"===i,(()=>`Error in gradient of fused conv2D: got dataFormat of ${i} but only NHWC is currently supported.`));const[a,s,c,l]=e,f=au(t,c,u);D.vA(Tr.Dh(o),(()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${o}'`));const h=(0,ou.v)(s.shape,f,a,n,r),d=iu(s,f,a.shape,n,r),p=[h,d];if(null!=l){const t=su(l,f);p.push(t)}return p},x={x:d,filter:h,bias:y,preluActivationWeights:b},_={strides:n,pad:r,dataFormat:i,dilations:o,dimRoundingMode:a,activation:u,leakyreluAlpha:l};if(null==s){const t=(0,ae._X)(((t,e,n)=>{let r=m.T2.runKernel(hn.aAr,x,_);return n([e,t,r]),p&&(r=(0,Fr.t)(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:w}}));return t(d,h)}{const t=(0,ae._X)(((t,e,n,r)=>{let i=m.T2.runKernel(hn.aAr,x,_);return r([e,t,i,n]),p&&(i=(0,Fr.t)(i,[i.shape[1],i.shape[2],i.shape[3]])),{value:i,gradFunc:w}}));return t(d,h,y)}}const fu=(0,sn.op)({fusedConv2d_:lu});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function hu(t,e,n,r,i,o=[1,1],a){let s=t;3===t.rank&&(s=(0,Fr.t)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let u=e;3===u.rank&&(u=(0,Fr.t)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const c={x:s,dy:u},l={strides:r,pad:i,dimRoundingMode:a,dilations:o,filterShape:n};return m.T2.runKernel(hn.X$8,c,l)}const du=(0,sn.op)({depthwiseConv2dNativeBackpropFilter_:hu});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function pu(t,e,n,r,i,o=[1,1],a){let s=e,u=!1;3===e.rank&&(u=!0,s=(0,Fr.t)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const c={dy:s,filter:n},l={strides:r,pad:i,dimRoundingMode:a,dilations:o,inputShape:t},f=m.T2.runKernel(hn.nVu,c,l);return u?(0,Fr.t)(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const gu=(0,sn.op)({depthwiseConv2dNativeBackpropInput_:pu});
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function mu({x:t,filter:e,strides:n,pad:r,dataFormat:i="NHWC",dilations:o=[1,1],dimRoundingMode:a,bias:s,activation:u="linear",preluActivationWeights:c,leakyreluAlpha:l}){if(!1===cu(m.T2.state.gradientDepth,u)){let f=(0,Ei.G)(t,e,n,r,i,o,a);return null!=s&&(f=(0,te.W)(f,s)),uu(f,u,c,l)}const f=(0,S.YT)(t,"x","depthwiseConv2d","float32"),h=(0,S.YT)(e,"filter","depthwiseConv2d","float32");let d=f,p=!1;3===f.rank&&(p=!0,d=(0,Fr.t)(f,[1,f.shape[0],f.shape[1],f.shape[2]])),D.vA(4===d.rank,(()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${d.rank}.`)),D.vA(4===h.rank,(()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${h.rank}.`)),D.vA(d.shape[3]===h.shape[2],(()=>`Error in fused depthwiseConv2d: number of input channels (${d.shape[3]}) must match the inChannels dimension in filter ${h.shape[2]}.`)),null==o&&(o=[1,1]),D.vA(Tr.G0(n,o),(()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`)),Tr.s_("fused depthwiseConv2d",r,a);const g=Tr.uf(d.shape,h.shape,n,o,r,a,!0);let v,y;null!=s&&(v=(0,S.YT)(s,"bias","fused conv2d"),[v]=(0,Zn.makeTypesMatch)(v,f),fn.assertAndGetBroadcastShape(g.outShape,v.shape)),null!=c&&(y=(0,S.YT)(c,"prelu weights","fused depthwiseConv2d"));const b=(t,e)=>{D.vA(Tr.Dh(o),(()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${o}'`));const[i,s,c,l]=e,f=au(t,c,u),h=gu(s.shape,f,i,n,r,o,a),d=du(s,f,i.shape,n,r,o,a);if(null!=l){const t=su(v,f);return[h,d,t]}return[h,d]},w={x:d,filter:h,bias:v,preluActivationWeights:y},x={strides:n,pad:r,dataFormat:i,dilations:o,dimRoundingMode:a,activation:u,leakyreluAlpha:l};if(null==s){const t=(0,ae._X)(((t,e,n)=>{let r=m.T2.runKernel(hn.T7M,w,x);return n([e,t,r]),p&&(r=(0,Fr.t)(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:b}}));return t(d,h)}{const t=(0,ae._X)(((t,e,n,r)=>{let i=m.T2.runKernel(hn.T7M,w,x);return r([e,t,i,n]),p&&(i=(0,Fr.t)(i,[i.shape[1],i.shape[2],i.shape[3]])),{value:i,gradFunc:b}}));return t(d,h,v)}}const vu=(0,sn.op)({fusedDepthwiseConv2d_:mu});
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function yu({a:t,b:e,transposeA:n=!1,transposeB:r=!1,bias:i,activation:o="linear",preluActivationWeights:a,leakyreluAlpha:s=.2}){if(!1===cu(m.T2.state.gradientDepth,o)){let u=(0,on.N)(t,e,n,r);return null!=i&&(u=(0,te.W)(u,i)),uu(u,o,a,s)}let u=(0,S.YT)(t,"a","fused matMul"),c=(0,S.YT)(e,"b","fused matMul");[u,c]=(0,Zn.makeTypesMatch)(u,c);const l=n?u.shape[u.rank-2]:u.shape[u.rank-1],f=r?c.shape[c.rank-1]:c.shape[c.rank-2],h=n?u.shape[u.rank-1]:u.shape[u.rank-2],d=r?c.shape[c.rank-2]:c.shape[c.rank-1],p=u.shape.slice(0,-2),g=c.shape.slice(0,-2),v=D.Ze(p),y=D.Ze(g);D.vA(l===f,(()=>`Error in fused matMul: inner shapes (${l}) and (${f}) of Tensors with shapes ${u.shape} and ${c.shape} and transposeA=${n} and transposeB=${r} must match.`));const b=fn.assertAndGetBroadcastShape(u.shape.slice(0,-2),c.shape.slice(0,-2)),w=b.concat([h,d]),x=n?(0,Fr.t)(u,[v,l,h]):(0,Fr.t)(u,[v,h,l]),_=r?(0,Fr.t)(c,[y,d,f]):(0,Fr.t)(c,[y,f,d]);let k,A;null!=i&&(k=(0,S.YT)(i,"bias","fused matMul"),[k]=(0,Zn.makeTypesMatch)(k,u),fn.assertAndGetBroadcastShape(w,k.shape)),null!=a&&(A=(0,S.YT)(a,"prelu weights","fused matMul"));const C=(t,e)=>{const[a,s,u,c]=e,l=au((0,Fr.t)(t,u.shape),u,o);let f,h;if(n||r?!n&&r?(f=(0,on.N)(l,s,!1,!1),h=(0,on.N)(l,a,!0,!1)):n&&!r?(f=(0,on.N)(s,l,!1,!0),h=(0,on.N)(a,l,!1,!1)):(f=(0,on.N)(s,l,!0,!0),h=(0,on.N)(l,a,!0,!0)):(f=(0,on.N)(l,s,!1,!0),h=(0,on.N)(a,l,!0,!1)),null!=i){const t=su(c,l);return[f,h,t]}return[f,h]},E={a:x,b:_,bias:k,preluActivationWeights:A},M={transposeA:n,transposeB:r,activation:o,leakyreluAlpha:s};if(null==i){const t=(0,ae._X)(((t,e,n)=>{const r=m.T2.runKernel(hn.Dr,E,M);return n([t,e,r]),{value:(0,Fr.t)(r,w),gradFunc:C}}));return t(x,_)}{const t=(0,ae._X)(((t,e,n,r)=>{const i=m.T2.runKernel(hn.Dr,E,M);return r([t,e,i,n]),{value:(0,Fr.t)(i,w),gradFunc:C}}));return t(x,_,k)}}const bu=(0,sn.op)({fusedMatMul_:yu});
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function wu(t){return tu(t,.54,.46)}const xu=(0,sn.op)({hammingWindow_:wu});
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function _u(t){return tu(t,.5,.5)}const ku=(0,sn.op)({hannWindow_:_u});
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Au(t,e,n,r=!1,i=0){let o=0;const a=[];while(o+e<=t.size)a.push((0,Rr.d)(t,o,e)),o+=n;if(r)while(o<t.size){const r=o+e-t.size,s=(0,Nr.x)([(0,Rr.d)(t,o,e-r),(0,me.G)([r],i)]);a.push(s),o+=n}return 0===a.length?ws([],[0,e]):(0,Fr.t)((0,Nr.x)(a),[a.length,e])}const Su=(0,sn.op)({frame_:Au});
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Cu(t,e,n,r,i=ku){null==r&&(r=Qs(e));const o=Su(t,e,n),a=(0,ne.l)(o,i(e));return(0,ls.z)(a,r)}const Eu=(0,sn.op)({stft_:Cu});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Du(t,e,n,r,i="bilinear",o=0){const a=(0,S.YT)(t,"image","cropAndResize"),s=(0,S.YT)(e,"boxes","cropAndResize","float32"),u=(0,S.YT)(n,"boxInd","cropAndResize","int32"),c=s.shape[0];D.vA(4===a.rank,(()=>`Error in cropAndResize: image must be rank 4,but got rank ${a.rank}.`)),D.vA(2===s.rank&&4===s.shape[1],(()=>`Error in cropAndResize: boxes must be have size [${c},4] but had shape ${s.shape}.`)),D.vA(1===u.rank&&u.shape[0]===c,(()=>`Error in cropAndResize: boxInd must be have size [${c}] but had shape ${s.shape}.`)),D.vA(2===r.length,(()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`)),D.vA(r[0]>=1&&r[1]>=1,(()=>`cropSize must be atleast [1,1], but was ${r}`)),D.vA("bilinear"===i||"nearest"===i,(()=>`method must be bilinear or nearest, but was ${i}`));const l={image:a,boxes:s,boxInd:u},f={method:i,extrapolationValue:o,cropSize:r},h=m.T2.runKernel(hn.MRQ,l,f);return h}const Mu=(0,sn.op)({cropAndResize_:Du});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Tu(t){const e=(0,S.YT)(t,"image","flipLeftRight","float32");D.vA(4===e.rank,(()=>`Error in flipLeftRight: image must be rank 4,but got rank ${e.rank}.`));const n={image:e},r=m.T2.runKernel(hn.BxF,n,{});return r}const Fu=(0,sn.op)({flipLeftRight_:Tu});
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Ou(t){const e=(0,S.YT)(t,"image","grayscaleToRGB"),n=e.rank-1,r=e.shape[n];D.vA(e.rank>=2,(()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${e.rank}.`)),D.vA(1===r,(()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`));const i=new Array(e.rank);return i.fill(1,0,n),i[n]=3,(0,Vi.V)(e,i)}const $u=(0,sn.op)({grayscaleToRGB_:Ou});
/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Nu(t){const e=(0,S.YT)(t,"image","RGBToGrayscale"),n=e.rank-1,r=e.shape[n];D.vA(e.rank>=2,(()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${e.rank}.`)),D.vA(3===r,(()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${r}.`));const i=e.dtype,o=(0,Xt.w)(e,"float32"),a=bs([.2989,.587,.114]);let s;switch(e.rank){case 2:s=Ni("ij,j->i",o,a);break;case 3:s=Ni("ijk,k->ij",o,a);break;case 4:s=Ni("ijkl,l->ijk",o,a);break;case 5:s=Ni("ijklm,m->ijkl",o,a);break;case 6:s=Ni("ijklmn,n->ijklm",o,a);break;default:throw new Error("Not a valid tensor rank.")}return s=(0,Ui.U)(s,-1),(0,Xt.w)(s,i)}const Bu=(0,sn.op)({rgbToGrayscale_:Nu});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Ru(t,e,n=0,r=.5){const i=(0,S.YT)(t,"image","rotateWithOffset","float32");D.vA(4===i.rank,(()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${i.rank}.`));const o={image:i},a={radians:e,fillValue:n,center:r},s=m.T2.runKernel(hn.BK4,o,a);return s}const Pu=(0,sn.op)({rotateWithOffset_:Ru});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Iu(t,e,n,r,i,o){null==r&&(r=.5),null==i&&(i=Number.NEGATIVE_INFINITY),null==o&&(o=0);const a=t.shape[0];return n=Math.min(n,a),D.vA(0<=r&&r<=1,(()=>`iouThreshold must be in [0, 1], but was '${r}'`)),D.vA(2===t.rank,(()=>`boxes must be a 2D tensor, but was of rank '${t.rank}'`)),D.vA(4===t.shape[1],(()=>`boxes must have 4 columns, but 2nd dimension was ${t.shape[1]}`)),D.vA(1===e.rank,(()=>"scores must be a 1D tensor")),D.vA(e.shape[0]===a,(()=>`scores has incompatible shape with boxes. Expected ${a}, but was ${e.shape[0]}`)),D.vA(0<=o&&o<=1,(()=>`softNmsSigma must be in [0, 1], but was '${o}'`)),{maxOutputSize:n,iouThreshold:r,scoreThreshold:i,softNmsSigma:o}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function ju(t,e,n,r=.5,i=Number.NEGATIVE_INFINITY){const o=(0,S.YT)(t,"boxes","nonMaxSuppression","float32"),a=(0,S.YT)(e,"scores","nonMaxSuppression","float32"),s=Iu(o,a,n,r,i);n=s.maxOutputSize,r=s.iouThreshold,i=s.scoreThreshold;const u={maxOutputSize:n,iouThreshold:r,scoreThreshold:i};return m.T2.runKernel(hn.SDM,{boxes:o,scores:a},u)}const Lu=(0,sn.op)({nonMaxSuppression_:ju});
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function zu(t,e,n){const r=Uu(t,e,n),i=r<0?-(r+1):r;t.splice(i,0,e)}function Uu(t,e,n){return Vu(t,e,n||qu)}function qu(t,e){return t>e?1:t<e?-1:0}function Vu(t,e,n){let r=0,i=t.length,o=0,a=!1;while(r<i){o=r+(i-r>>>1);const s=n(e,t[o]);s>0?r=o+1:(i=o,a=!s)}return a?r:-r-1}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Hu(t,e,n,r,i){return Gu(t,e,n,r,i,0)}function Wu(t,e,n,r,i,o){return Gu(t,e,n,r,i,0,!1,o,!0)}function Yu(t,e,n,r,i,o){return Gu(t,e,n,r,i,o,!0)}function Gu(t,e,n,r,i,o,a=!1,s=!1,u=!1){const c=[];for(let m=0;m<e.length;m++)e[m]>i&&c.push({score:e[m],boxIndex:m,suppressBeginIndex:0});c.sort(Ju);const l=o>0?-.5/o:0,f=[],h=[];while(f.length<n&&c.length>0){const e=c.pop(),{score:n,boxIndex:o,suppressBeginIndex:a}=e;if(n<i)break;let s=!1;for(let u=f.length-1;u>=a;--u){const n=Ku(t,o,f[u]);if(n>=r){s=!0;break}if(e.score=e.score*Xu(r,l,n),e.score<=i)break}e.suppressBeginIndex=f.length,s||(e.score===n?(f.push(o),h.push(e.score)):e.score>i&&zu(c,e,Ju))}const d=f.length,p=n-d;s&&p>0&&(f.push(...new Array(p).fill(0)),h.push(...new Array(p).fill(0)));const g={selectedIndices:f};return a&&(g["selectedScores"]=h),u&&(g["validOutputs"]=d),g}function Ku(t,e,n){const r=t.subarray(4*e,4*e+4),i=t.subarray(4*n,4*n+4),o=Math.min(r[0],r[2]),a=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),c=Math.min(i[0],i[2]),l=Math.min(i[1],i[3]),f=Math.max(i[0],i[2]),h=Math.max(i[1],i[3]),d=(s-o)*(u-a),p=(f-c)*(h-l);if(d<=0||p<=0)return 0;const g=Math.max(o,c),m=Math.max(a,l),v=Math.min(s,f),y=Math.min(u,h),b=Math.max(v-g,0)*Math.max(y-m,0);return b/(d+p-b)}function Xu(t,e,n){const r=Math.exp(e*n*n);return n<=t?r:0}function Ju(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
async function Zu(t,e,n,r=.5,i=Number.NEGATIVE_INFINITY){const o=(0,S.YT)(t,"boxes","nonMaxSuppressionAsync"),a=(0,S.YT)(e,"scores","nonMaxSuppressionAsync"),s=Iu(o,a,n,r,i);n=s.maxOutputSize,r=s.iouThreshold,i=s.scoreThreshold;const u=await Promise.all([o.data(),a.data()]),c=u[0],l=u[1],{selectedIndices:f}=Hu(c,l,n,r,i);return o!==t&&o.dispose(),a!==e&&a.dispose(),bs(f,"int32")}const Qu=Zu;
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function tc(t,e,n,r=.5,i=Number.NEGATIVE_INFINITY,o=0){const a=(0,S.YT)(t,"boxes","nonMaxSuppression"),s=(0,S.YT)(e,"scores","nonMaxSuppression"),u=Iu(a,s,n,r,i,o);n=u.maxOutputSize,r=u.iouThreshold,i=u.scoreThreshold,o=u.softNmsSigma;const c={boxes:a,scores:s},l={maxOutputSize:n,iouThreshold:r,scoreThreshold:i,softNmsSigma:o},f=m.T2.runKernel(hn.e0f,c,l);return{selectedIndices:f[0],selectedScores:f[1]}}const ec=(0,sn.op)({nonMaxSuppressionWithScore_:tc});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
async function nc(t,e,n,r=.5,i=Number.NEGATIVE_INFINITY,o=0){const a=(0,S.YT)(t,"boxes","nonMaxSuppressionAsync"),s=(0,S.YT)(e,"scores","nonMaxSuppressionAsync"),u=Iu(a,s,n,r,i,o);n=u.maxOutputSize,r=u.iouThreshold,i=u.scoreThreshold,o=u.softNmsSigma;const c=await Promise.all([a.data(),s.data()]),l=c[0],f=c[1],{selectedIndices:h,selectedScores:d}=Yu(l,f,n,r,i,o);return a!==t&&a.dispose(),s!==e&&s.dispose(),{selectedIndices:bs(h,"int32"),selectedScores:bs(d)}}const rc=nc;
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function ic(t,e,n,r=.5,i=Number.NEGATIVE_INFINITY,o=!1){const a=(0,S.YT)(t,"boxes","nonMaxSuppression"),s=(0,S.YT)(e,"scores","nonMaxSuppression"),u=Iu(a,s,n,r,i,null),c=u.maxOutputSize,l=u.iouThreshold,f=u.scoreThreshold,h={boxes:a,scores:s},d={maxOutputSize:c,iouThreshold:l,scoreThreshold:f,padToMaxOutputSize:o},p=m.T2.runKernel(hn.Zl4,h,d);return{selectedIndices:p[0],validOutputs:p[1]}}const oc=(0,sn.op)({nonMaxSuppressionPadded_:ic});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
async function ac(t,e,n,r=.5,i=Number.NEGATIVE_INFINITY,o=!1){const a=(0,S.YT)(t,"boxes","nonMaxSuppressionAsync"),s=(0,S.YT)(e,"scores","nonMaxSuppressionAsync"),u=Iu(a,s,n,r,i,null),c=u.maxOutputSize,l=u.iouThreshold,f=u.scoreThreshold,[h,d]=await Promise.all([a.data(),s.data()]),{selectedIndices:p,validOutputs:g}=Wu(h,d,c,l,f,o);return a!==t&&a.dispose(),s!==e&&s.dispose(),{selectedIndices:bs(p,"int32"),validOutputs:(0,se.d)(g,"int32")}}const sc=ac;var uc=n(4711),cc=n(2954);
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function lc(t,e="binary",n=!1,r=.5){const i=(0,S.YT)(t,"image","threshold"),o=.2989,a=.587,s=.114,u=i.shape[0]*i.shape[1];let c,l,f,h,d=(0,ne.l)(bs([r]),255);if(D.vA(3===i.rank,(()=>`Error in threshold: image must be rank 3,but got rank ${i.rank}.`)),D.vA(3===i.shape[2]||1===i.shape[2],(()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${i.shape[2]}.`)),D.vA("int32"===i.dtype||"float32"===i.dtype,(()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${i.dtype}.`)),D.vA("otsu"===e||"binary"===e,(()=>`Method must be binary or otsu, but was ${e}`)),3===i.shape[2]){[c,l,f]=(0,fs.l)(i,[1,1,1],-1);const t=(0,ne.l)(c,o),e=(0,ne.l)(l,a),n=(0,ne.l)(f,s);h=(0,te.W)((0,te.W)(t,e),n)}else h=t;if("otsu"===e){const t=Kr((0,Xt.w)((0,za.L)(h),"int32"),E([]),256);d=fc(t,u)}const p=n?(0,io.I)(h,d):(0,Xi.r)(h,d),g=(0,Xt.w)((0,ne.l)(p,255),"int32");return g}function fc(t,e){let n,r,i,o,a,s,u=bs([-1]),c=bs([0]),l=bs([0]);for(let f=0;f<t.size-1;f++){n=(0,Rr.d)(t,0,f+1),r=(0,Rr.d)(t,f+1),a=(0,ee.y)((0,vs.c)(n),e),s=(0,ee.y)((0,vs.c)(r),e);const h=(0,vs.c)((0,ne.l)(n,Ea(0,n.size)));i=(0,ee.y)(h,(0,vs.c)(n));const d=(0,me.G)(r.shape,n.size),p=(0,te.W)(Ea(0,r.size),d),g=(0,ne.l)(r,p);o=(0,ee.y)((0,vs.c)(g),(0,vs.c)(r));const m=(0,be.j)(i,o),v=(0,be.j)(i,o),y=(0,ne.l)(a,s);l=(0,ne.l)((0,ne.l)(y,m),v);const b=(0,Xi.r)(l,c);c=(0,Ns._)(b,l,c),u=(0,Ns._)(b,bs([f]),u)}return u}const hc=(0,sn.op)({threshold_:lc});
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function dc(t,e,n="nearest",r="constant",i=0,o){const a=(0,S.YT)(t,"image","transform","float32"),s=(0,S.YT)(e,"transforms","transform","float32");D.vA(4===a.rank,(()=>`Error in transform: image must be rank 4,but got rank ${a.rank}.`)),D.vA(2===s.rank&&(s.shape[0]===a.shape[0]||1===s.shape[0])&&8===s.shape[1],(()=>"Error in transform: Input transform should be batch x 8 or 1 x 8")),D.vA(null==o||2===o.length,(()=>`Error in transform: outputShape must be [height, width] or null, but got ${o}.`));const u={image:a,transforms:s},c={interpolation:n,fillMode:r,fillValue:i,outputShape:o};return m.T2.runKernel(hn.dLy,u,c)}const pc=(0,sn.op)({transform_:dc});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function gc(t,e,n){const r=(0,S.YT)(t,"a","bandPart");(0,D.vA)(r.rank>=2,(()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`));const i=r.shape,[o,a]=r.shape.slice(-2);let s,u;"number"===typeof e?((0,D.vA)(e%1===0,(()=>`bandPart(): numLower must be an integer, got ${e}.`)),(0,D.vA)(e<=o,(()=>`bandPart(): numLower (${e}) must not be greater than the number of rows (${o}).`)),s=(0,S.YT)(e<0?o:e,"numLower","bandPart")):((0,D.vA)("int32"===e.dtype,(()=>"bandPart(): numLower's dtype must be an int32.")),s=(0,Ns._)((0,ro.M)(e,0),o,(0,Oo.B)(e,o))),"number"===typeof n?((0,D.vA)(n%1===0,(()=>`bandPart(): numUpper must be an integer, got ${n}.`)),(0,D.vA)(n<=a,(()=>`bandPart(): numUpper (${n}) must not be greater than the number of columns (${a}).`)),u=(0,S.YT)(n<0?a:n,"numUpper","bandPart")):((0,D.vA)("int32"===n.dtype,(()=>"bandPart(): numUpper's dtype must be an int32.")),u=(0,Ns._)((0,ro.M)(n,0),a,(0,Oo.B)(n,a)));const c=(0,Fr.t)(Ea(0,o,1,"int32"),[-1,1]),l=Ea(0,a,1,"int32"),f=(0,be.j)(c,l),h=(0,ho.n)((0,io.I)(f,s),(0,Ji.D)(f,(0,Uo.H)(u))),d=(0,Do.U)([o,a],r.dtype);return(0,Fr.t)((0,ps.t)((0,Fs.K)((0,Fr.t)(r,[-1,o,a])).map((t=>(0,Ns._)(h,t,d)))),i)}const mc=(0,sn.op)({bandPart_:gc});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function vc(t){let e;if(Array.isArray(t)){e=!1,(0,D.vA)(null!=t&&t.length>0,(()=>"Gram-Schmidt process: input must not be null, undefined, or empty"));const n=t[0].shape[0];for(let e=1;e<t.length;++e)(0,D.vA)(t[e].shape[0]===n,(()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${t[e].shape[0]} vs. ${n})`))}else e=!0,t=(0,fs.l)(t,t.shape[0],0).map((t=>(0,ds.r)(t,[0])));(0,D.vA)(t.length<=t[0].shape[0],(()=>`Gram-Schmidt: Number of vectors (${t.length}) exceeds number of dimensions (${t[0].shape[0]}).`));const n=[],r=t;for(let i=0;i<t.length;++i)n.push(m.T2.tidy((()=>{let t=r[i];if(i>0)for(let e=0;e<i;++e){const r=(0,ne.l)((0,vs.c)((0,ne.l)(n[e],t)),n[e]);t=(0,be.j)(t,r)}return(0,ee.y)(t,(0,Ls.x)(t,"euclidean"))})));return e?(0,ps.t)(n,0):n}const yc=(0,sn.op)({gramSchmidt_:vc});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function bc(t,e=!1){if((0,D.vA)(t.rank>=2,(()=>`qr() requires input tensor to have a rank >= 2, but got rank ${t.rank}`)),2===t.rank)return wc(t,e);{const n=t.shape.slice(0,t.shape.length-2).reduce(((t,e)=>t*e)),r=(0,Fs.K)((0,Fr.t)(t,[n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),i=[],o=[];r.forEach((t=>{const[n,r]=wc(t,e);i.push(n),o.push(r)}));const a=(0,Fr.t)((0,ps.t)(i,0),t.shape),s=(0,Fr.t)((0,ps.t)(o,0),t.shape);return[a,s]}}function wc(t,e=!1){return m.T2.tidy((()=>{(0,D.vA)(2===t.shape.length,(()=>`qr2d() requires a 2D Tensor, but got a ${t.shape.length}D Tensor.`));const n=t.shape[0],r=t.shape[1];let i=Wi(n),o=(0,Jt.o)(t);const a=ws([[1]],[1,1]);let s=(0,Jt.o)(a);const u=n>=r?r:n;for(let t=0;t<u;++t){const e=o,u=s,c=i;[s,o,i]=m.T2.tidy((()=>{const e=(0,Rr.d)(o,[t,t],[n-t,1]),u=(0,Ls.x)(e),c=(0,Rr.d)(o,[t,t],[1,1]),l=(0,Ns._)((0,Xi.r)(c,0),ws([[-1]]),ws([[1]])),f=(0,be.j)(c,(0,ne.l)(l,u)),h=(0,ee.y)(e,f);s=1===h.shape[0]?(0,Jt.o)(a):(0,Nr.x)([a,(0,Rr.d)(h,[1,0],[h.shape[0]-1,h.shape[1]])],0);const d=(0,Uo.H)((0,ee.y)((0,on.N)(l,f),u)),p=(0,Rr.d)(o,[t,0],[n-t,r]),g=(0,ne.l)(d,s),m=(0,un.m)(s);if(0===t)o=(0,be.j)(p,(0,on.N)(g,(0,on.N)(m,p)));else{const e=(0,be.j)(p,(0,on.N)(g,(0,on.N)(m,p)));o=(0,Nr.x)([(0,Rr.d)(o,[0,0],[t,r]),e],0)}const v=(0,un.m)(g),y=(0,Rr.d)(i,[0,t],[n,i.shape[1]-t]);if(0===t)i=(0,be.j)(y,(0,on.N)((0,on.N)(y,s),v));else{const e=(0,be.j)(y,(0,on.N)((0,on.N)(y,s),v));i=(0,Nr.x)([(0,Rr.d)(i,[0,0],[n,t]),e],1)}return[s,o,i]})),(0,$.AS)([e,u,c])}return!e&&n>r&&(i=(0,Rr.d)(i,[0,0],[n,r]),o=(0,Rr.d)(o,[0,0],[r,r])),[i,o]}))}const xc=(0,sn.op)({qr_:bc});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
var _c;function kc(t,e,n=_c.SUM_BY_NONZERO_WEIGHTS){const r=(0,S.YT)(t,"losses","computeWeightedLoss");let i=null;null!=e&&(i=(0,S.YT)(e,"weights","computeWeightedLoss"));const o=null==i?r:(0,ne.l)(r,i);if(n===_c.NONE)return o;if(n===_c.SUM)return(0,vs.c)(o);if(n===_c.MEAN){if(null==i)return(0,Eo.i)(o);{const t=r.size/i.size,e=(0,ee.y)((0,vs.c)(o),(0,vs.c)(i));return t>1?(0,ee.y)(e,(0,se.d)(t)):e}}if(n===_c.SUM_BY_NONZERO_WEIGHTS){if(null==i)return(0,ee.y)((0,vs.c)(o),(0,se.d)(r.size));{const t=(0,ne.l)(i,Mo(r.shape)),e=(0,Xt.w)((0,vs.c)((0,qo.E)(t,(0,se.d)(0))),"float32");return(0,ee.y)((0,vs.c)(o),e)}}throw Error(`Unknown reduction: ${n}`)}(function(t){t[t["NONE"]=0]="NONE",t[t["MEAN"]=1]="MEAN",t[t["SUM"]=2]="SUM",t[t["SUM_BY_NONZERO_WEIGHTS"]=3]="SUM_BY_NONZERO_WEIGHTS"})(_c||(_c={}));const Ac=(0,sn.op)({computeWeightedLoss_:kc});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Sc(t,e,n,r=_c.SUM_BY_NONZERO_WEIGHTS){const i=(0,S.YT)(t,"labels","absoluteDifference"),o=(0,S.YT)(e,"predictions","absoluteDifference");let a=null;null!=n&&(a=(0,S.YT)(n,"weights","absoluteDifference")),(0,D.O3)(i.shape,o.shape,"Error in absoluteDifference: ");const s=(0,xe.t)((0,be.j)(i,o));return Ac(s,a,r)}const Cc=(0,sn.op)({absoluteDifference_:Sc});function Ec(t,e,n,r,i=_c.SUM_BY_NONZERO_WEIGHTS){const o=(0,S.YT)(t,"labels","cosineDistance"),a=(0,S.YT)(e,"predictions","cosineDistance");let s=null;null!=r&&(s=(0,S.YT)(r,"weights","cosineDistance")),(0,D.O3)(o.shape,a.shape,"Error in cosineDistance: ");const u=(0,se.d)(1),c=(0,be.j)(u,(0,vs.c)((0,ne.l)(o,a),n,!0));return Ac(c,s,i)}const Dc=(0,sn.op)({cosineDistance_:Ec});function Mc(t,e,n,r=_c.SUM_BY_NONZERO_WEIGHTS){let i=(0,S.YT)(t,"labels","hingeLoss");const o=(0,S.YT)(e,"predictions","hingeLoss");let a=null;null!=n&&(a=(0,S.YT)(n,"weights","hingeLoss")),(0,D.O3)(i.shape,o.shape,"Error in hingeLoss: ");const s=(0,se.d)(1);i=(0,be.j)((0,ne.l)((0,se.d)(2),i),s);const u=(0,Ta.V)((0,be.j)(s,(0,ne.l)(i,o)));return Ac(u,a,r)}const Tc=(0,sn.op)({hingeLoss_:Mc});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Fc(t,e,n,r=1,i=_c.SUM_BY_NONZERO_WEIGHTS){const o=(0,S.YT)(t,"labels","huberLoss"),a=(0,S.YT)(e,"predictions","huberLoss");let s=null;null!=n&&(s=(0,S.YT)(n,"weights","huberLoss")),(0,D.O3)(o.shape,a.shape,"Error in huberLoss: ");const u=(0,se.d)(r),c=(0,xe.t)((0,be.j)(a,o)),l=(0,Oo.B)(c,u),f=(0,be.j)(c,l),h=(0,te.W)((0,ne.l)((0,se.d)(.5),(0,ie.E)(l)),(0,ne.l)(u,f));return Ac(h,s,i)}const Oc=(0,sn.op)({huberLoss_:Fc});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function $c(t,e,n,r=1e-7,i=_c.SUM_BY_NONZERO_WEIGHTS){const o=(0,S.YT)(t,"labels","logLoss"),a=(0,S.YT)(e,"predictions","logLoss");let s=null;null!=n&&(s=(0,S.YT)(n,"weights","logLoss")),(0,D.O3)(o.shape,a.shape,"Error in logLoss: ");const u=(0,se.d)(1),c=(0,se.d)(r),l=(0,Uo.H)((0,ne.l)(o,(0,so.R)((0,te.W)(a,c)))),f=(0,ne.l)((0,be.j)(u,o),(0,so.R)((0,te.W)((0,be.j)(u,a),c))),h=(0,be.j)(l,f);return Ac(h,s,i)}const Nc=(0,sn.op)({logLoss_:$c});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Bc(t,e,n,r=_c.SUM_BY_NONZERO_WEIGHTS){const i=(0,S.YT)(t,"labels","meanSquaredError"),o=(0,S.YT)(e,"predictions","meanSquaredError");let a=null;null!=n&&(a=(0,S.YT)(n,"weights","meanSquaredError")),(0,D.O3)(i.shape,o.shape,"Error in meanSquaredError: ");const s=(0,hs.P)(i,o);return Ac(s,a,r)}const Rc=(0,sn.op)({meanSquaredError_:Bc});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Pc(t,e){const n=(0,S.YT)(t,"labels","sigmoidCrossEntropyWithLogits"),r=(0,S.YT)(e,"logits","sigmoidCrossEntropyWithLogits");(0,D.O3)(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const i=(0,Ta.V)(r),o=(0,ne.l)(r,n),a=(0,uo.K)((0,zi.o)((0,Uo.H)((0,xe.t)(r))));return(0,te.W)((0,be.j)(i,o),a)}function Ic(t,e,n,r=0,i=_c.SUM_BY_NONZERO_WEIGHTS){let o=(0,S.YT)(t,"multiClassLabels","sigmoidCrossEntropy");const a=(0,S.YT)(e,"logits","sigmoidCrossEntropy");let s=null;if(null!=n&&(s=(0,S.YT)(n,"weights","sigmoidCrossEntropy")),(0,D.O3)(o.shape,a.shape,"Error in sigmoidCrossEntropy: "),r>0){const t=(0,se.d)(r),e=(0,se.d)(1),n=(0,se.d)(.5);o=(0,te.W)((0,ne.l)(o,(0,be.j)(e,t)),(0,ne.l)(n,t))}const u=Pc(o,a);return Ac(u,s,i)}const jc=(0,sn.op)({sigmoidCrossEntropy_:Ic});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Lc(t,e,n=-1){if(-1===n&&(n=e.rank-1),n!==e.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${e.rank} and dim was ${n}`);const r=(0,ae._X)(((t,e,r)=>{const i=!0,o=(0,fo.V)(e,[n],i),a=(0,be.j)((0,Xt.w)(e,"float32"),o);r([t,a]);const s=(0,Uo.H)((0,ne.l)(a,t)),u=(0,vs.c)(s,[n]),c=(t,e)=>{const[r,i]=e,o=(0,Bo.SM)(t.shape,[n]);return[(0,ne.l)((0,Fr.t)(t,o),(0,be.j)((0,Xt.w)(r,"float32"),(0,zi.o)(i))),(0,ne.l)((0,Fr.t)(t,o),(0,be.j)((0,zi.o)(i),(0,Xt.w)(r,"float32")))]};return{value:u,gradFunc:c}}));return r(t,e)}function zc(t,e,n,r=0,i=_c.SUM_BY_NONZERO_WEIGHTS){let o=(0,S.YT)(t,"onehotLabels","softmaxCrossEntropy");const a=(0,S.YT)(e,"logits","softmaxCrossEntropy");let s=null;if(null!=n&&(s=(0,S.YT)(n,"weights","softmaxCrossEntropy")),(0,D.O3)(o.shape,a.shape,"Error in softmaxCrossEntropy: "),r>0){const t=(0,se.d)(r),e=(0,se.d)(1),n=(0,se.d)(o.shape[1]);o=(0,te.W)((0,ne.l)(o,(0,be.j)(e,t)),(0,ee.y)(t,n))}const u=Lc(o,a);return Ac(u,s,i)}const Uc=(0,sn.op)({softmaxCrossEntropy_:zc});
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function qc(t,e,n,r){const i=(0,S.YT)(t,"indices","sparseFillEmptyRows","int32"),o=(0,S.YT)(e,"values","sparseFillEmptyRows"),a=(0,S.YT)(n,"denseShape","sparseFillEmptyRows","int32"),s=(0,S.YT)(r,"defaultValue","sparseFillEmptyRows",o.dtype);if(2!==i.rank)throw new Error(`Indices should be Tensor2D but received shape\n        ${i.shape}`);if(1!==o.rank)throw new Error(`Values should be Tensor1D but received shape ${o.shape}`);if(1!==a.rank)throw new Error(`Dense shape should be Tensor1D but received shape ${a.shape}`);if(0!==s.rank)throw new Error(`Default value should be a scalar but received shape ${s.shape}`);const u={indices:i,values:o,denseShape:a,defaultValue:s},c=m.T2.runKernel(hn.C8s,u);return{outputIndices:c[0],outputValues:c[1],emptyRowIndicator:c[2],reverseIndexMap:c[3]}}const Vc=(0,sn.op)({sparseFillEmptyRows_:qc});
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Hc(t,e,n){const r=(0,S.YT)(t,"inputIndices","sparseReshape","int32"),i=(0,S.YT)(e,"inputShape","sparseReshape","int32"),o=(0,S.YT)(n,"newShape","sparseReshape","int32");if(2!==r.rank)throw new Error(`Input indices should be Tensor2D but received shape\n        ${r.shape}`);if(1!==i.rank)throw new Error(`Input shape should be Tensor1D but received shape ${i.shape}`);if(1!==o.rank)throw new Error(`New shape should be Tensor1D but received shape ${o.shape}`);const a={inputIndices:r,inputShape:i,newShape:o},s=m.T2.runKernel(hn.BoJ,a);return{outputIndices:s[0],outputShape:s[1]}}const Wc=(0,sn.op)({sparseReshape_:Hc});
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Yc(t,e,n){const r=(0,S.YT)(t,"data","sparseSegmentMean"),i=(0,S.YT)(e,"indices","sparseSegmentMean","int32"),o=(0,S.YT)(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.rank)throw new Error(`Indices should be Tensor1D but received shape\n          ${i.shape}`);if(1!==o.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n          ${o.shape}`);const a={data:r,indices:i,segmentIds:o};return m.T2.runKernel(hn.L6G,a)}const Gc=(0,sn.op)({sparseSegmentMean_:Yc});
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Kc(t,e,n){const r=(0,S.YT)(t,"data","sparseSegmentSum"),i=(0,S.YT)(e,"indices","sparseSegmentSum","int32"),o=(0,S.YT)(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.rank)throw new Error(`Indices should be Tensor1D but received shape\n         ${i.shape}`);if(1!==o.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n         ${o.shape}`);const a={data:r,indices:i,segmentIds:o};return m.T2.runKernel(hn.DvZ,a)}const Xc=(0,sn.op)({sparseSegmentSum_:Kc});
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Jc(t,e,n,r,i,o,a,s){const u=(0,S.YT)(t,"data","stringNGrams","string");if("string"!==u.dtype)throw new Error("Data must be of datatype string");if(1!==u.shape.length)throw new Error(`Data must be a vector, saw: ${u.shape}`);const c=(0,S.YT)(e,"dataSplits","stringNGrams");if("int32"!==c.dtype)throw new Error("Data splits must be of datatype int32");const l={separator:n,nGramWidths:r,leftPad:i,rightPad:o,padWidth:a,preserveShortSequences:s},f={data:u,dataSplits:c},h=m.T2.runKernel(hn.YAb,f,l);return{nGrams:h[0],nGramsSplits:h[1]}}const Zc=(0,sn.op)({stringNGrams_:Jc});
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Qc(t,e,n=!0){const r=(0,S.YT)(t,"input","stringSplit","string"),i=(0,S.YT)(e,"delimiter","stringSplit","string");if(1!==r.rank)throw new Error(`Input should be Tensor1D but received shape ${r.shape}`);if(0!==i.rank)throw new Error(`Delimiter should be a scalar but received shape ${i.shape}`);const o={skipEmpty:n},a={input:r,delimiter:i},s=m.T2.runKernel(hn.iW0,a,o);return{indices:s[0],values:s[1],shape:s[2]}}const tl=(0,sn.op)({stringSplit_:Qc});
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function el(t,e){const n=(0,S.YT)(t,"input","stringToHashBucketFast","string"),r={numBuckets:e};if(e<=0)throw new Error("Number of buckets must be at least 1");const i={input:n};return m.T2.runKernel(hn.$jE,i,r)}const nl=(0,sn.op)({stringToHashBucketFast_:el});
/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function rl(t,e,n,r=!0){const i=(0,S.YT)(t,"input","staticRegexReplace","string"),o={pattern:e,rewrite:n,replaceGlobal:r};return m.T2.runKernel(hn.GZp,{x:i},o)}const il=(0,sn.op)({staticRegexReplace_:rl}),ol={fft:ss.h,ifft:us.K,rfft:ls.z,irfft:cs.g},al={hammingWindow:xu,hannWindow:ku,frame:Su,stft:Eu},sl={flipLeftRight:Fu,grayscaleToRGB:$u,resizeNearestNeighbor:cc.b,resizeBilinear:uc.v,rgbToGrayscale:Bu,rotateWithOffset:Pu,cropAndResize:Mu,nonMaxSuppression:Lu,nonMaxSuppressionAsync:Qu,nonMaxSuppressionWithScore:ec,nonMaxSuppressionWithScoreAsync:rc,nonMaxSuppressionPadded:oc,nonMaxSuppressionPaddedAsync:sc,threshold:hc,transform:pc},ul={bandPart:mc,gramSchmidt:yc,qr:xc},cl={absoluteDifference:Cc,computeWeightedLoss:Ac,cosineDistance:Dc,hingeLoss:Tc,huberLoss:Oc,logLoss:Nc,meanSquaredError:Rc,sigmoidCrossEntropy:jc,softmaxCrossEntropy:Uc},ll={sparseFillEmptyRows:Vc,sparseReshape:Wc,sparseSegmentMean:Gc,sparseSegmentSum:Xc},fl={stringNGrams:Zc,stringSplit:tl,stringToHashBucketFast:nl,staticRegexReplace:il},hl=pr,dl=(()=>"undefined"!==typeof requestAnimationFrame?requestAnimationFrame:"undefined"!==typeof setImmediate?setImmediate:t=>t())();function pl(){return new Promise((t=>dl((()=>t()))))}
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function gl(t,e){const n=t[0].length;t.forEach(((t,e)=>{D.vA(t.length===n,(()=>`Error in concat${n}D: rank of tensors[${e}] must be the same as the rank of the rest (${n})`))})),D.vA(e>=0&&e<n,(()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`));const r=t[0];t.forEach(((t,i)=>{for(let o=0;o<n;o++)D.vA(o===e||t[o]===r[o],(()=>`Error in concat${n}D: Shape of tensors[${i}] (${t}) does not match the shape of the rest (${r}) along the non-concatenated axis ${i}.`))}))}function ml(t,e){const n=t[0].slice();for(let r=1;r<t.length;r++)n[e]+=t[r][e];return n}
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
var vl;function yl(t,e,n){let r=new Array;if(null==n&&null==e)return r;if(null==e)while(r.length<t+n.length)r.push(-1);else r=e.slice();if(null==n)return r;if(t+n.length!==r.length)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.rank = ${t+n.length}, but shape.rank = ${r.length}`);for(let i=1;i<n.length;++i){const o=n[i],a=r[r.length-n.length+i],s=r[a];if(o>=0)if(s>=0){if(s!==o)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.shape[${i+t}] = ${o} but shape[${i+t}] = ${s}`)}else r[a]=o}return r}function bl(t){const e={FIRST_DIM_SIZE:vl.FIRST_DIM_SIZE,VALUE_ROWIDS:vl.VALUE_ROWIDS,ROW_LENGTHS:vl.ROW_LENGTHS,ROW_SPLITS:vl.ROW_SPLITS,ROW_LIMITS:vl.ROW_LIMITS,ROW_STARTS:vl.ROW_STARTS},n=[];for(const r of t){if(!(r in e))break;n.push(e[r])}return n}function wl(t){return 0===t.length?0:t[0]===vl.FIRST_DIM_SIZE?t.length-1:t.length}function xl(t,e){if(null==t||null==e)return;const n=t.length,r=e.length;if(n>=r)throw new Error(`defaultValue.shape=${t} and ragged tensor flatValues.shape=${e}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${r})`);for(let i=0;i<Math.min(n,r-1);++i){const n=t[i],r=e[i+1];if(n>=0&&r>=0&&1!==n&&n!==r)throw new Error(`defaultValue.shape=${t}, and ragged tensor input flatValues.shape=${e} are incompatible: defaultValue.shape[${i-t.length}] = ${n} but ragged tensor input.flatValues.shape[${i-t.length}] = ${r}`)}}(function(t){t[t["FIRST_DIM_SIZE"]=0]="FIRST_DIM_SIZE",t[t["VALUE_ROWIDS"]=1]="VALUE_ROWIDS",t[t["ROW_LENGTHS"]=2]="ROW_LENGTHS",t[t["ROW_SPLITS"]=3]="ROW_SPLITS",t[t["ROW_LIMITS"]=4]="ROW_LIMITS",t[t["ROW_STARTS"]=5]="ROW_STARTS"})(vl||(vl={}));
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const _l=30;function kl(t){return t<=_l?t:(0,D.lK)(t,Math.floor(Math.sqrt(t)))}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Al(t,e,n){const r=n*("number"===typeof t?t:t[0]),i=e*("number"===typeof t?t:t[1]);return[r,i]}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Sl(t,e,n,r=!0){let i=[];if(r)i=i.concat(e.slice(0)),i.push(t[0]/n),i=i.concat(t.slice(1));else{i=i.concat(t[0]);const n=e.length;for(let r=0;r<n;++r)i=i.concat([t[r+1]/e[r],e[r]]);i=i.concat(t.slice(n+1))}return i}function Cl(t,e,n=!0){const r=[];if(n){r.push(e);for(let n=e+1;n<t;++n)n<=2*e?(r.push(n),r.push(n-(e+1))):r.push(n)}else{const n=[],i=[];for(let r=1;r<t;++r)r>=2*e+1||r%2===1?i.push(r):n.push(r);r.push(...n),r.push(0),r.push(...i)}return r}function El(t,e,n,r=!0){const i=[];r?i.push(t[0]/n):i.push(t[0]*n);for(let o=1;o<t.length;++o)o<=e.length?r?i.push(e[o-1]*t[o]):i.push(t[o]/e[o-1]):i.push(t[o]);return i}function Dl(t,e){const n=[0];for(let r=0;r<e;++r)n.push(t[r][0]);return n}function Ml(t,e,n){const r=t.slice(0,1);for(let i=0;i<n;++i)r.push(t[i+1]-e[i][0]-e[i][1]);return r}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const Tl=1.7580993408473768,Fl=1.0507009873554805,Ol=.3275911,$l=.254829592,Nl=-.284496736,Bl=1.421413741,Rl=-1.453152027,Pl=1.061405429;var Il=n(3673);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function jl(t,e){if(t.length!==e.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${t.length}, imag: ${e.length}.`);const n=new Float32Array(2*t.length);for(let r=0;r<n.length;r+=2)n[r]=t[r/2],n[r+1]=e[r/2];return n}function Ll(t){const e=new Float32Array(t.length/2),n=new Float32Array(t.length/2);for(let r=0;r<t.length;r+=2)e[r/2]=t[r],n[r/2]=t[r+1];return{real:e,imag:n}}function zl(t){const e=Math.ceil(t.length/4),n=new Float32Array(e),r=new Float32Array(e);for(let i=0;i<t.length;i+=4)n[Math.floor(i/4)]=t[i],r[Math.floor(i/4)]=t[i+1];return{real:n,imag:r}}function Ul(t){const e=Math.floor(t.length/4),n=new Float32Array(e),r=new Float32Array(e);for(let i=2;i<t.length;i+=4)n[Math.floor(i/4)]=t[i],r[Math.floor(i/4)]=t[i+1];return{real:n,imag:r}}function ql(t,e){const n=t[2*e],r=t[2*e+1];return{real:n,imag:r}}function Vl(t,e,n,r){t[2*r]=e,t[2*r+1]=n}function Hl(t,e){const n=new Float32Array(t/2),r=new Float32Array(t/2);for(let i=0;i<Math.ceil(t/2);i++){const o=(e?2:-2)*Math.PI*(i/t);n[i]=Math.cos(o),r[i]=Math.sin(o)}return{real:n,imag:r}}function Wl(t,e,n){const r=(n?2:-2)*Math.PI*(t/e),i=Math.cos(r),o=Math.sin(r);return{real:i,imag:o}}
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const Yl="->",Gl=/->/g,Kl=",",Xl="...";function Jl(t,e){t=t.replace(/\s/g,"");const n=(t.length-t.replace(Gl,"").length)/Yl.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${Yl}").`);const[r,i]=t.split(Yl);(0,D.vA)(-1===r.indexOf(Xl),(()=>`The ellipsis notation ("${Xl}") is not supported yet.`));const o=r.split(Kl),a=o.length;if(e!==a)throw new Error(`Expected ${a} input tensors, received ${e}`);if(a>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const s=[];for(let h=0;h<i.length;++h){const t=i[h];if(!o.some((e=>-1!==e.indexOf(t))))throw new Error(`Output subscripts contain the label ${t} not present in the input subscripts.`);-1===s.indexOf(t)&&s.push(t)}for(let h=0;h<r.length;++h){const t=r[h];-1===s.indexOf(t)&&t!==Kl&&s.push(t)}const u=new Array(o.length);for(let h=0;h<a;++h){if(new Set(o[h].split("")).size!==o[h].length)throw new Error(`Found duplicate axes in input component ${o[h]}. Support for duplicate axes in input is not implemented yet.`);u[h]=[];for(let t=0;t<o[h].length;++t)u[h].push(s.indexOf(o[h][t]))}const c=s.length,l=i.length,f=[];for(let h=l;h<c;++h)f.push(h);return{allDims:s,summedDims:f,idDims:u}}function Zl(t,e){let n=new Array(t);n.fill(-1);for(let i=0;i<e.length;++i)n[e[i]]=i;const r=[];for(let i=0;i<t;++i)-1===n[i]&&r.push(i);return n=n.filter((t=>-1!==t)),{permutationIndices:n,expandDims:r}}function Ql(t,e,n){const r=new Array(t);for(let i=0;i<n.length;++i){const t=n[i].shape;for(let n=0;n<e[i].length;++n)void 0===r[e[i][n]]?r[e[i][n]]=t[n]:(0,D.vA)(r[e[i][n]]===t[n],(()=>`Expected dimension ${r[e[i][n]]} at axis ${n} of input shaped ${JSON.stringify(t)}, but got dimension ${t[n]}`))}}function tf(t,e){const n=t,r=[];let i=0;0===t.length&&n.push(-1),i=t.length+1;for(let a=0;a<i;++a)r.push([]);const o=[];for(let a=0;a<n.length;++a){const t=n[a],i=nf(e,t);for(const e of i)-1===o.indexOf(e)&&(r[a].push(e),o.push(e))}return{path:n,steps:r}}function ef(t){return t.every(((t,e)=>t===e))}function nf(t,e){const n=[];for(let r=0;r<t.length;++r)0!==t[r].length&&-1===t[r].indexOf(e)&&-1!==e||n.push(r);return n}function rf(t,e,n=0){let r=[];if("number"===typeof e)(0,D.vA)(t.shape[n]%e===0,(()=>"Number of splits must evenly divide the axis.")),r=new Array(e).fill(t.shape[n]/e);else{const i=e.reduce(((t,e)=>(-1===e&&(t+=1),t)),0);(0,D.vA)(i<=1,(()=>"There should be only one negative value in split array."));const o=e.indexOf(-1);if(-1!==o){const r=e.reduce(((t,e)=>e>0?t+e:t));e[o]=t.shape[n]-r}(0,D.vA)(t.shape[n]===e.reduce(((t,e)=>t+e)),(()=>"The sum of sizes must match the size of the axis dimension.")),r=e}return r}
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function of(t){return`Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ${t}`}function af(t,e){return`indices(${t}, 0) is invalid: ${e} < 0`}function sf(t,e,n){return`indices(${t}, 0) is invalid: ${e} >= ${n}`}
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function uf(t,e){return`only one output dimension may be -1, not both ${t} and ${e}`}function cf(t,e){return`size ${t} must be non-negative, not ${e}`}function lf(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function ff(t,e){const n=(0,D.Ze)(t),r=(0,D.Ze)(e);return`Input to reshape is a SparseTensor with ${n}\n  dense values, but the requested shape requires a multiple of ${r}. inputShape=${t} outputShape= ${e}`}function hf(t,e){const n=(0,D.Ze)(t),r=(0,D.Ze)(e);return`Input to reshape is a tensor with ${n} dense values, but the requested shape has ${r}. inputShape=${t} outputShape=${e}`}
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function df(){return"segment ids must be >= 0"}function pf(){return"segment ids are not increasing"}function gf(t,e){return`Segment id ${t} out of range [0, ${e}), possibly because segmentIds input is not sorted.`}function mf(t,e,n){return`Bad: indices[${t}] == ${e} out of range [0, ${n})`}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function vf(t,e){let n,r=!1;t<=_l?(n=t,r=!0):n=(0,D.lK)(t,Math.floor(Math.sqrt(t)));while(!r)n>e||n===t?r=!0:n=(0,D.lK)(t,n+1);return n}function yf(t,e,n){const r=[],i=t.length;for(let o=0;o<i;o++)o!==e?r.push(t[o]):r.push(n);return r}function bf(t,e,n,r){const i=e.shape.length,o=t.shape.length;if(0!==r&&(r<-i||r>i))throw new Error(`Expect batchDims in the range of [-${i}, ${i}], but got ${r}`);if(r<0&&(r+=i),r>o)throw new Error(`batchDims (${r}) must be less than rank(x) (\n    ${o}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let f=0;f<r;++f)if(t.shape[f]!==e.shape[f])throw new Error(`x.shape[${f}]: ${t.shape[f]} should be equal to indices.shape[${f}]: ${e.shape[f]}.`);const a=t.shape[n],s=[];let u=1,c=1,l=1;for(let f=0;f<r;++f)s.push(t.shape[f]),u*=t.shape[f];for(let f=r;f<n;f++)s.push(t.shape[f]),c*=t.shape[f];for(let f=r;f<i;f++)s.push(e.shape[f]);for(let f=n+1;f<o;f++)s.push(t.shape[f]),l*=t.shape[f];return{batchSize:u,sliceSize:l,outerSize:c,dimSize:a,outputShape:s}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function wf(t){try{return t.map((t=>(0,T.decodeString)(t)))}catch(kf){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${kf}`)}}function xf(t){return t.map((t=>(0,T.encodeString)(t)))}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
var _f=n(5149);
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
De()},5441:function(t,e,n){"use strict";n.d(e,{$dB:function(){return O},$jE:function(){return nn},$zE:function(){return F},A1h:function(){return R},A8B:function(){return Ue},BK4:function(){return yn},BLA:function(){return Jt},BRl:function(){return ot},Blb:function(){return qe},BoJ:function(){return We},BxF:function(){return ft},C8s:function(){return He},CQC:function(){return pe},Cg$:function(){return Tt},CwD:function(){return Et},D7i:function(){return Ce},Ddj:function(){return Xe},Dr:function(){return bn},DvZ:function(){return Ge},E3$:function(){return kt},EkD:function(){return s},ElG:function(){return dt},EwU:function(){return fn},FAs:function(){return sn},FCQ:function(){return Ae},FSt:function(){return c},Fin:function(){return je},GZp:function(){return Ze},HNs:function(){return A},Ik2:function(){return _},J3C:function(){return Re},JiE:function(){return Ne},Jp_:function(){return l},KXH:function(){return E},L6G:function(){return Ye},LB5:function(){return S},LDN:function(){return zt},LG0:function(){return Kt},LRy:function(){return ve},LWX:function(){return oe},LXA:function(){return $t},M6A:function(){return Je},MRQ:function(){return q},Mn0:function(){return j},MnK:function(){return L},N4F:function(){return k},Ncv:function(){return fe},O4G:function(){return mt},OAQ:function(){return wt},ODT:function(){return ue},OMN:function(){return a},ORI:function(){return K},PH8:function(){return o},P_L:function(){return Se},Pah:function(){return nt},PbM:function(){return rn},Q6t:function(){return me},QDP:function(){return D},QKF:function(){return h},Qgm:function(){return et},R23:function(){return we},RMm:function(){return pn},RUm:function(){return Ft},RW8:function(){return Nt},RXX:function(){return qt},SDM:function(){return ne},SQl:function(){return lt},T7M:function(){return xn},TBb:function(){return un},TL8:function(){return Wt},TMz:function(){return H},TOR:function(){return De},ToN:function(){return It},TyE:function(){return p},UcO:function(){return Qe},VAI:function(){return Lt},VCH:function(){return y},Vvy:function(){return i},WRv:function(){return jt},WT3:function(){return Zt},WuN:function(){return ze},X$8:function(){return Y},X0$:function(){return St},X4r:function(){return Te},XQy:function(){return _e},XhZ:function(){return vt},XmO:function(){return Q},YAb:function(){return tn},YVe:function(){return Pe},ZgB:function(){return ht},Zl4:function(){return re},_s9:function(){return it},aAr:function(){return wn},awo:function(){return vn},bCz:function(){return ce},bP9:function(){return J},cHb:function(){return Ht},cS:function(){return b},dFH:function(){return Le},dLy:function(){return cn},dXR:function(){return hn},dv8:function(){return xt},e0f:function(){return ie},epO:function(){return d},fUj:function(){return be},g5A:function(){return Yt},gC7:function(){return I},gIW:function(){return _t},hVg:function(){return Ee},hgw:function(){return ke},ho8:function(){return v},hql:function(){return Be},huO:function(){return ye},i5R:function(){return pt},iGz:function(){return P},iPs:function(){return At},iW0:function(){return en},iuW:function(){return an},jAQ:function(){return x},jM4:function(){return Pt},jOE:function(){return xe},jfg:function(){return B},jgd:function(){return Ke},jj_:function(){return z},jxD:function(){return X},kdj:function(){return he},l0G:function(){return te},l6P:function(){return Oe},lLS:function(){return yt},lNG:function(){return Gt},ljI:function(){return r},lxb:function(){return m},lzr:function(){return bt},mH5:function(){return ge},mIA:function(){return Ct},mM$:function(){return se},mnI:function(){return Dt},mxL:function(){return gt},nVu:function(){return G},nY8:function(){return U},nZd:function(){return Ot},oFs:function(){return on},oJ2:function(){return de},ox3:function(){return at},p2J:function(){return $},pJc:function(){return Me},pPe:function(){return dn},p_m:function(){return f},pk0:function(){return Z},pnw:function(){return mn},pr3:function(){return T},pyJ:function(){return le},rFG:function(){return Ve},rFm:function(){return N},rGP:function(){return ct},rsH:function(){return rt},sDr:function(){return tt},t3d:function(){return Ut},tG8:function(){return Mt},tGH:function(){return W},u$b:function(){return $e},u8Z:function(){return u},uWl:function(){return Fe},urI:function(){return ae},vI1:function(){return Ie},vaV:function(){return M},vj7:function(){return C},wNW:function(){return V},wwC:function(){return w},wx0:function(){return ln},x7F:function(){return Xt},xJ3:function(){return gn},xu7:function(){return Qt},yPW:function(){return Rt},ySp:function(){return Vt},ybN:function(){return st},ybj:function(){return ut},ylV:function(){return ee},zP9:function(){return g},zfU:function(){return Bt}});const r="Abs",i="Acos",o="Acosh",a="Add",s="AddN",u="All",c="Any",l="ArgMax",f="ArgMin",h="Asin",d="Asinh",p="Atan",g="Atanh",m="Atan2",v="AvgPool",y="AvgPoolGrad",b="AvgPool3D",w="AvgPool3DGrad",x="BatchMatMul",_="BatchToSpaceND",k="Bincount",A="BitwiseAnd",S="BroadcastTo",C="BroadcastArgs",E="Cast",D="Ceil",M="ClipByValue",T="Complex",F="ComplexAbs",O="Concat",$="Conv2D",N="Conv2DBackpropFilter",B="Conv2DBackpropInput",R="Conv3D",P="Conv3DBackpropFilterV2",I="Conv3DBackpropInputV2",j="Cos",L="Cosh",z="Cumprod",U="Cumsum",q="CropAndResize",V="DenseBincount",H="DepthToSpace",W="DepthwiseConv2dNative",Y="DepthwiseConv2dNativeBackpropFilter",G="DepthwiseConv2dNativeBackpropInput",K="Diag",X="Dilation2D",J="Dilation2DBackpropInput",Z="Dilation2DBackpropFilter",Q="Draw",tt="RealDiv",et="Einsum",nt="Elu",rt="EluGrad",it="Erf",ot="Equal",at="Exp",st="ExpandDims",ut="Expm1",ct="FFT",lt="Fill",ft="FlipLeftRight",ht="Floor",dt="FloorDiv",pt="FusedBatchNorm",gt="GatherV2",mt="GatherNd",vt="Greater",yt="GreaterEqual",bt="Identity",wt="IFFT",xt="Imag",_t="IsFinite",kt="IsInf",At="IsNan",St="LeakyRelu",Ct="Less",Et="LessEqual",Dt="LinSpace",Mt="Log",Tt="Log1p",Ft="LogicalAnd",Ot="LogicalNot",$t="LogicalOr",Nt="LogicalXor",Bt="LogSoftmax",Rt="LowerBound",Pt="LRN",It="LRNGrad",jt="MatrixBandPart",Lt="Max",zt="Maximum",Ut="MaxPool",qt="MaxPoolGrad",Vt="MaxPool3D",Ht="MaxPool3DGrad",Wt="MaxPoolWithArgmax",Yt="Mean",Gt="Min",Kt="Minimum",Xt="MirrorPad",Jt="Mod",Zt="Multinomial",Qt="Multiply",te="Neg",ee="NotEqual",ne="NonMaxSuppressionV3",re="NonMaxSuppressionV4",ie="NonMaxSuppressionV5",oe="OnesLike",ae="OneHot",se="Pack",ue="PadV2",ce="Pool",le="Pow",fe="Prelu",he="Prod",de="RaggedGather",pe="RaggedRange",ge="RaggedTensorToTensor",me="Range",ve="Real",ye="Reciprocal",be="Relu",we="Reshape",xe="ResizeNearestNeighbor",_e="ResizeNearestNeighborGrad",ke="ResizeBilinear",Ae="ResizeBilinearGrad",Se="Relu6",Ce="Reverse",Ee="Round",De="Rsqrt",Me="ScatterNd",Te="TensorScatterUpdate",Fe="SearchSorted",Oe="Select",$e="Selu",Ne="Slice",Be="Sin",Re="Sinh",Pe="Sign",Ie="Sigmoid",je="Softplus",Le="Sqrt",ze="Sum",Ue="SpaceToBatchND",qe="SplitV",Ve="Softmax",He="SparseFillEmptyRows",We="SparseReshape",Ye="SparseSegmentMean",Ge="SparseSegmentSum",Ke="SparseToDense",Xe="SquaredDifference",Je="Square",Ze="StaticRegexReplace",Qe="StridedSlice",tn="StringNGrams",en="StringSplit",nn="StringToHashBucketFast",rn="Sub",on="Tan",an="Tanh",sn="Tile",un="TopK",cn="Transform",ln="Transpose",fn="Unique",hn="Unpack",dn="UnsortedSegmentSum",pn="UpperBound",gn="ZerosLike",mn="Step",vn="FromPixels",yn="RotateWithOffset",bn="_FusedMatMul",wn="FusedConv2D",xn="FusedDepthwiseConv2D"},7074:function(t,e,n){"use strict";n.d(e,{Cf:function(){return g},Op:function(){return l},_5:function(){return u},iP:function(){return d},kr:function(){return h},rY:function(){return p},tA:function(){return f},vQ:function(){return c}});var r=n(6574),i=n(1743),o=n(3673);
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const a=(0,i.m)("kernelRegistry",(()=>new Map)),s=(0,i.m)("gradRegistry",(()=>new Map));function u(t,e){const n=m(t,e);return a.get(n)}function c(t){return s.get(t)}function l(t){const e=a.entries(),n=[];while(1){const{done:r,value:i}=e.next();if(r)break;const[o,a]=i,[s]=o.split("_");s===t&&n.push(a)}return n}function f(t){const{kernelName:e,backendName:n}=t,r=m(e,n);a.has(r)&&o.i(`The kernel '${e}' for backend '${n}' is already registered`),a.set(r,t)}function h(t){const{kernelName:e}=t;s.has(e)&&(0,r._K)().getBool("DEBUG")&&o.i(`Overriding the gradient for '${e}'`),s.set(e,t)}function d(t,e){const n=m(t,e);if(!a.has(n))throw new Error(`The kernel '${t}' for backend '${e}' is not registered`);a.delete(n)}function p(t){if(!s.has(t))throw new Error(`The gradient '${t}' for backend is not registered`);s.delete(t)}function g(t,e){const n=l(t);n.forEach((t=>{const n=Object.assign({},t,{backendName:e});f(n)}))}function m(t,e){return`${e}_${t}`}},3673:function(t,e,n){"use strict";n.d(e,{R:function(){return o},i:function(){return i}});var r=n(6574);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i(...t){(0,r._K)().getBool("IS_TEST")||(0,r._K)().getBool("PROD")||console.warn(...t)}function o(...t){(0,r._K)().getBool("IS_TEST")||(0,r._K)().getBool("PROD")||console.log(...t)}},4888:function(t,e,n){"use strict";n.d(e,{t:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","abs");if("complex64"===e.dtype){const t={x:e};return r.T2.runKernel(i.$zE,t)}{const t={x:e};return r.T2.runKernel(i.ljI,t)}}const u=(0,a.op)({abs_:s})},2804:function(t,e,n){"use strict";n.d(e,{H:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","acos"),n={x:e};return r.T2.runKernel(i.Vvy,n)}const u=(0,a.op)({acos_:s})},7558:function(t,e,n){"use strict";n.d(e,{F:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","acosh"),n={x:e};return r.T2.runKernel(i.PH8,n)}const u=(0,a.op)({acosh_:s})},7523:function(t,e,n){"use strict";n.d(e,{W:function(){return c}});var r=n(7260),i=n(5441),o=n(565),a=n(8189),s=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function u(t,e){let n=(0,a.YT)(t,"a","add"),s=(0,a.YT)(e,"b","add");[n,s]=(0,o.makeTypesMatch)(n,s);const u={a:n,b:s};return r.T2.runKernel(i.OMN,u)}const c=(0,s.op)({add_:u})},2307:function(t,e,n){"use strict";n.d(e,{Q:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t,e=null,n=!1){const a=(0,o.YT)(t,"x","all","bool"),s={x:a},u={axis:e,keepDims:n};return r.T2.runKernel(i.u8Z,s,u)}const u=(0,a.op)({all_:s})},9326:function(t,e,n){"use strict";n.d(e,{b:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t,e=null,n=!1){const a=(0,o.YT)(t,"x","any","bool"),s={x:a},u={axis:e,keepDims:n};return r.T2.runKernel(i.FSt,s,u)}const u=(0,a.op)({any_:s})},897:function(t,e,n){"use strict";n.d(e,{F:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t,e=0){const n=(0,o.YT)(t,"x","argMax"),a={x:n},s={axis:e};return r.T2.runKernel(i.Jp_,a,s)}const u=(0,a.op)({argMax_:s})},4339:function(t,e,n){"use strict";n.d(e,{X:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t,e=0){const n=(0,o.YT)(t,"x","argMin"),a={x:n},s={axis:e};return r.T2.runKernel(i.p_m,a,s)}const u=(0,a.op)({argMin_:s})},6841:function(t,e,n){"use strict";n.d(e,{q:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","asin"),n={x:e};return r.T2.runKernel(i.QKF,n)}const u=(0,a.op)({asin_:s})},269:function(t,e,n){"use strict";n.d(e,{y:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","asinh"),n={x:e};return r.T2.runKernel(i.epO,n)}const u=(0,a.op)({asinh_:s})},9580:function(t,e,n){"use strict";n.d(e,{r:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","atan"),n={x:e};return r.T2.runKernel(i.TyE,n)}const u=(0,a.op)({atan_:s})},1404:function(t,e,n){"use strict";n.d(e,{F:function(){return c}});var r=n(7260),i=n(5441),o=n(565),a=n(8189),s=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function u(t,e){let n=(0,a.YT)(t,"a","atan2"),s=(0,a.YT)(e,"b","atan2");[n,s]=(0,o.makeTypesMatch)(n,s);const u={a:n,b:s};return r.T2.runKernel(i.lxb,u)}const c=(0,s.op)({atan2_:u})},3774:function(t,e,n){"use strict";n.d(e,{r:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","atanh"),n={x:e};return r.T2.runKernel(i.zP9,n)}const u=(0,a.op)({atanh_:s})},3909:function(t,e,n){"use strict";n.d(e,{$:function(){return h}});var r=n(7260),i=n(5441),o=n(8189),a=n(5119),s=n(9809),u=n(7195),c=n(929),l=n(2302);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function f(t,e,n,c,f){const h=(0,o.YT)(t,"x","avgPool","float32"),d=1;a.vA(u.G0(n,d),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${d}'`));let p=h,g=!1;3===h.rank&&(g=!0,p=(0,l.t)(h,[1,h.shape[0],h.shape[1],h.shape[2]])),a.vA(4===p.rank,(()=>`Error in avgPool: x must be rank 4 but got rank ${p.rank}.`)),u.s_("avgPool",c,f);const m={x:p},v={filterSize:e,strides:n,pad:c,dimRoundingMode:f};let y=r.T2.runKernel(i.ho8,m,v);return y=(0,s.w)(y,h.dtype),g?(0,l.t)(y,[y.shape[1],y.shape[2],y.shape[3]]):y}const h=(0,c.op)({avgPool_:f})},1078:function(t,e,n){"use strict";n.d(e,{Em:function(){return c},SM:function(){return s},WC:function(){return u},WH:function(){return i},aF:function(){return o},fK:function(){return f},gx:function(){return l},lb:function(){return a}});var r=n(5119);
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i(t,e){for(let n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function o(t,e,n){const r=t.length+e.length,i=[];let o=0,a=0;for(let s=0;s<r;s++)-1===n.indexOf(s)?i.push(t[o++]):i.push(e[a++]);return i}function a(t,e){const n=[],r=t.length;for(let o=0;o<r;o++)-1===e.indexOf(o)&&n.push(t[o]);const i=e.map((e=>t[e]));return[n,i]}function s(t,e){const n=e.map((t=>1));return o(t,n,e)}function u(t,e,n){r.vA(i(e,n),(()=>`${t} supports only inner-most axes for now. Got axes ${e} and rank-${n} input.`))}function c(t,e){if(i(t,e))return null;const n=[];for(let r=0;r<e;++r)-1===t.indexOf(r)&&n.push(r);return t.forEach((t=>n.push(t))),n}function l(t){return t.map(((t,e)=>[e,t])).sort(((t,e)=>t[1]-e[1])).map((t=>t[0]))}function f(t,e){const n=[];for(let r=e-t;r<e;++r)n.push(r);return n}},9772:function(t,e,n){"use strict";n.d(e,{G:function(){return c}});var r=n(7260),i=n(5441),o=n(8189),a=n(5119),s=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function u(t,e,n){const s=(0,o.YT)(t,"x","batchToSpaceND"),u=e.reduce(((t,e)=>t*e));a.vA(s.rank>=1+e.length,(()=>`input rank is ${s.rank} but should be > than blockShape.length ${e.length}`)),a.vA(n.length===e.length,(()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${e.length}`)),a.vA(s.shape[0]%u===0,(()=>`input tensor batch is ${s.shape[0]} but is not divisible by the product of the elements of blockShape ${e.join(" * ")} === ${u}`));const c={x:s},l={blockShape:e,crops:n};return r.T2.runKernel(i.Ik2,c,l)}const c=(0,s.op)({batchToSpaceND_:u})},251:function(t,e,n){"use strict";n.d(e,{$:function(){return f}});var r=n(7260),i=n(5441),o=n(8189),a=n(5119),s=n(2302);function u(t){let e;return e=0===t.rank||1===t.rank?(0,s.t)(t,[1,1,1,t.size]):2===t.rank?(0,s.t)(t,[1,1,t.shape[0],t.shape[1]]):3===t.rank?(0,s.t)(t,[1,t.shape[0],t.shape[1],t.shape[2]]):t,e}var c=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function l(t,e,n,c,l,f){null==f&&(f=.001);const h=(0,o.YT)(t,"x","batchNorm"),d=(0,o.YT)(e,"mean","batchNorm"),p=(0,o.YT)(n,"variance","batchNorm");let g,m;null!=l&&(g=(0,o.YT)(l,"scale","batchNorm")),null!=c&&(m=(0,o.YT)(c,"offset","batchNorm")),a.vA(d.rank===p.rank,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),a.vA(null==m||d.rank===m.rank,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),a.vA(null==g||d.rank===g.rank,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));const v=u(h),y={x:v,scale:g,offset:m,mean:d,variance:p},b={varianceEpsilon:f},w=r.T2.runKernel(i.i5R,y,b);return(0,s.t)(w,h.shape)}const f=(0,c.op)({batchNorm_:l})},3567:function(t,e,n){"use strict";n.d(e,{h:function(){return f}});var r=n(7260),i=n(5441),o=n(8189),a=n(5119),s=n(125),u=n(929),c=n(2302);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function l(t,e){let n=(0,o.YT)(t,"broadcastTo","x");const u=n.shape;if((0,a.SA)(e),e.length<n.rank)throw new Error(`broadcastTo(): shape.length=${e.length} < input.rank=${n.rank}.`);if(e.length>n.rank){const t=n.shape.slice();while(t.length<e.length)t.unshift(1);n=(0,c.t)(n,t)}const l=n.shape,f=Array.from(e);for(let r=e.length-1;r>=0;r--)if(l[r]===e[r])f[r]=1;else if(1!==n.shape[r])throw new Error(`broadcastTo(): [${u}] cannot be broadcast to [${e}].`);const h=f.map(((t,e)=>t>1?e:-1)).filter((t=>t>=0));if(0===h.length)return(0,s.o)(n);const d={x:n},p={reps:f};return r.T2.runKernel(i.FAs,d,p)}const f=(0,u.op)({broadcastTo_:l})},2198:function(t,e,n){"use strict";
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function r(t,e){const n=t.length,r=[];for(let i=0;i<n;i++){const o=n-1-i,a=t[o]||1,s=e[e.length-1-i]||1;s>1&&1===a&&r.unshift(o)}return r}function i(t,e){const n=[];for(let r=0;r<e.length;r++){const i=t[t.length-r-1],o=e.length-r-1,a=e[o];(null==i||1===i&&a>1)&&n.unshift(o)}return n}function o(t,e){const n=Math.max(t.length,e.length),r=new Array(n);for(let i=0;i<n;i++){let o=t[t.length-i-1];null==o&&(o=1);let a=e[e.length-i-1];if(null==a&&(a=1),1===o)r[n-i-1]=a;else if(1===a)r[n-i-1]=o;else{if(o!==a){const n=`Operands could not be broadcast together with shapes ${t} and ${e}.`;throw Error(n)}r[n-i-1]=o}}return r}n.r(e),n.d(e,{assertAndGetBroadcastShape:function(){return o},getBroadcastDims:function(){return r},getReductionAxes:function(){return i}})},9809:function(t,e,n){"use strict";n.d(e,{w:function(){return c}});var r=n(7260),i=n(5441),o=n(8189),a=n(5119),s=n(929);
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function u(t,e){const n=(0,o.YT)(t,"x","cast");if(!a.xn(e))throw new Error(`Failed to cast to unknown dtype ${e}`);if("string"===e&&"string"!==n.dtype||"string"!==e&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");const s={x:n},u={dtype:e};return r.T2.runKernel(i.KXH,s,u)}const c=(0,s.op)({cast_:u})},855:function(t,e,n){"use strict";n.d(e,{m:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","ceil","float32"),n={x:e};return r.T2.runKernel(i.QDP,n)}const u=(0,a.op)({ceil_:s})},6928:function(t,e,n){"use strict";n.d(e,{z:function(){return l}});var r=n(7260),i=n(5441),o=n(8189),a=n(5119),s=n(6111),u=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function c(t,e,n){const u=(0,o.YT)(t,"x","clipByValue");if(a.vA(e<=n,(()=>`Error in clip: min (${e}) must be less than or equal to max (${n}).`)),e===n)return(0,s.G)(u.shape,e,u.dtype);const c={x:u},l={clipValueMin:e,clipValueMax:n};return r.T2.runKernel(i.vaV,c,l)}const l=(0,u.op)({clipByValue_:c})},125:function(t,e,n){"use strict";n.d(e,{o:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","clone","string_or_numeric"),n={x:e};return r.T2.runKernel(i.lzr,n)}const u=(0,a.op)({clone_:s})},7148:function(t,e,n){"use strict";n.d(e,{f:function(){return c}});var r=n(7260),i=n(5441),o=n(8189),a=n(5119),s=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function u(t,e){const n=(0,o.YT)(t,"real","complex"),s=(0,o.YT)(e,"imag","complex");a.O3(n.shape,s.shape,`real and imag shapes, ${n.shape} and ${s.shape}, must match in call to tf.complex().`);const u={real:n,imag:s};return r.T2.runKernel(i.pr3,u)}const c=(0,s.op)({complex_:u})},5030:function(t,e,n){"use strict";n.d(e,{x:function(){return l}});var r=n(7260),i=n(5441),o=n(8189),a=n(5119),s=n(125),u=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function c(t,e=0){(0,a.vA)(t.length>=1,(()=>"Pass at least one tensor to concat"));const n=(0,o.j1)(t,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((t=>{if("complex64"!==t.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${t.dtype}. `)})),1===n.length)return(0,s.o)(n[0]);const u=n,c={axis:e};return r.T2.runKernel(i.$dB,u,c)}const l=(0,u.op)({concat_:c})},3701:function(t,e,n){"use strict";n.d(e,{k:function(){return l}});var r=n(8189),i=n(5119),o=n(8794),a=n(7195),s=n(929),u=n(2302);function c(t,e,n,s,c="NWC",l=1,f){const h=(0,r.YT)(t,"x","conv1d"),d=(0,r.YT)(e,"filter","conv1d");let p=h,g=!1;2===h.rank&&(g=!0,p=(0,u.t)(h,[1,h.shape[0],h.shape[1]])),i.vA(3===p.rank,(()=>`Error in conv1d: input must be rank 3, but got rank ${p.rank}.`)),i.vA(3===d.rank,(()=>`Error in conv1d: filter must be rank 3, but got rank ${d.rank}.`)),a.s_("conv1d",s,f),i.vA(p.shape[2]===d.shape[1],(()=>`Error in conv1d: depth of input (${p.shape[2]}) must match input depth for filter ${d.shape[1]}.`)),i.vA(a.G0(n,l),(()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${l}'`)),i.vA(a.qk(l),(()=>"Error in conv1D: Dilated rates should be larger than 0.")),i.vA(a.qk(n),(()=>"Error in conv1D: Stride should be larger than 0.")),i.vA("NWC"===c,(()=>`Error in conv1d: got dataFormat of ${c} but only NWC is currently supported.`));const m=(0,u.t)(d,[1,d.shape[0],d.shape[1],d.shape[2]]),v=(0,u.t)(p,[p.shape[0],1,p.shape[1],p.shape[2]]),y=[1,n],b=[1,l],w="NHWC",x=(0,o.X)(v,m,y,s,w,b,f);return g?(0,u.t)(x,[x.shape[2],x.shape[3]]):(0,u.t)(x,[x.shape[0],x.shape[2],x.shape[3]])}const l=(0,s.op)({conv1d_:c})},8794:function(t,e,n){"use strict";n.d(e,{X:function(){return f}});var r=n(7260),i=n(5441),o=n(8189),a=n(5119),s=n(7195),u=n(929),c=n(2302);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function l(t,e,n,u,l="NHWC",f=[1,1],h){const d=(0,o.YT)(t,"x","conv2d","float32"),p=(0,o.YT)(e,"filter","conv2d","float32");let g=d,m=!1;3===d.rank&&(m=!0,g=(0,c.t)(d,[1,d.shape[0],d.shape[1],d.shape[2]])),a.vA(4===g.rank,(()=>`Error in conv2d: input must be rank 4, but got rank ${g.rank}.`)),a.vA(4===p.rank,(()=>`Error in conv2d: filter must be rank 4, but got rank ${p.rank}.`)),s.s_("conv2d",u,h);const v="NHWC"===l?g.shape[3]:g.shape[1];a.vA(v===p.shape[2],(()=>`Error in conv2d: depth of input (${v}) must match input depth for filter ${p.shape[2]}.`)),a.vA(s.G0(n,f),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${f}'`)),a.vA(s.qk(f),(()=>"Error in conv2D: Dilated rates should be larger than 0.")),a.vA(s.qk(n),(()=>"Error in conv2D: Strides should be larger than 0."));const y={x:g,filter:p},b={strides:n,pad:u,dataFormat:l,dilations:f,dimRoundingMode:h},w=r.T2.runKernel(i.p2J,y,b);return m?(0,c.t)(w,[w.shape[1],w.shape[2],w.shape[3]]):w}const f=(0,u.op)({conv2d_:l})},252:function(t,e,n){"use strict";n.d(e,{v:function(){return l}});var r=n(7260),i=n(5441),o=n(5119),a=n(7195),s=n(929),u=n(2302);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function c(t,e,n,s,c,l="NHWC",f){o.vA(t.length===e.rank,(()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`));let h=t,d=e,p=!1;3===e.rank&&(p=!0,d=(0,u.t)(e,[1,e.shape[0],e.shape[1],e.shape[2]]),h=[1,t[0],t[1],t[2]]),o.vA(4===h.length,(()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${h.length}.`)),o.vA(4===d.rank,(()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${d.rank}`)),o.vA(4===n.rank,(()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`));const g="NHWC"===l?h[3]:h[1],m="NHWC"===l?d.shape[3]:d.shape[1];o.vA(g===n.shape[2],(()=>`Error in conv2dDerInput: depth of input (${g}) must match input depth for filter ${n.shape[2]}.`)),o.vA(m===n.shape[3],(()=>`Error in conv2dDerInput: depth of output (${m}) must match output depth for filter ${n.shape[3]}.`)),a.s_("conv2dDerInput",c,f);const v={dy:d,filter:n},y={strides:s,pad:c,dataFormat:l,dimRoundingMode:f,inputShape:h},b=r.T2.runKernel(i.jfg,v,y);return p?(0,u.t)(b,[b.shape[1],b.shape[2],b.shape[3]]):b}const l=(0,s.op)({conv2DBackpropInput_:c})},1106:function(t,e,n){"use strict";n.d(e,{w:function(){return s}});var r=n(8189),i=n(252),o=n(929);function a(t,e,n,o,a,s){const u=(0,r.YT)(t,"x","conv2dTranspose"),c=(0,r.YT)(e,"filter","conv2dTranspose");return(0,i.v)(n,u,c,o,a,"NHWC",s)}const s=(0,o.op)({conv2dTranspose_:a})},7195:function(t,e,n){"use strict";n.d(e,{$Q:function(){return x},Dh:function(){return y},E6:function(){return o},G0:function(){return b},G8:function(){return f},YQ:function(){return i},l5:function(){return a},p$:function(){return u},qk:function(){return w},s_:function(){return _},uf:function(){return s}});var r=n(5119);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i(t,e,n,r,i="NHWC",o){const a=t[3],u=[...e,a],c=x(i);return s(t,u,n,o,r,null,null,c)}function o(t,e,n,r,i,o,a="channelsLast"){const[u,c]=h(e);let l;if("channelsLast"===a)l=[u,c,t[3],t[3]];else{if("channelsFirst"!==a)throw new Error(`Unknown dataFormat ${a}`);l=[u,c,t[1],t[1]]}return s(t,l,n,r,i,o,!1,a)}function a(t,e,n,r,i,o,a="NDHWC"){const[s,c,l]=d(e);let f,h;if("NDHWC"===a)h="channelsLast",f=[s,c,l,t[4],t[4]];else{if("NCDHW"!==a)throw new Error(`Unknown dataFormat ${a}`);h="channelsFirst",f=[s,c,l,t[1],t[1]]}return u(t,f,n,r,i,!1,h,o)}function s(t,e,n,r,i,o,a=!1,s="channelsLast"){let[u,c,l,f]=[-1,-1,-1,-1];if("channelsLast"===s)[u,c,l,f]=t;else{if("channelsFirst"!==s)throw new Error(`Unknown dataFormat ${s}`);[u,f,c,l]=t}const[d,m,,v]=e,[y,b]=h(n),[w,x]=h(r),_=p(d,w),k=p(m,x),{padInfo:A,outHeight:S,outWidth:C}=g(i,c,l,y,b,_,k,o,s),E=a?v*f:v;let D;return"channelsFirst"===s?D=[u,E,S,C]:"channelsLast"===s&&(D=[u,S,C,E]),{batchSize:u,dataFormat:s,inHeight:c,inWidth:l,inChannels:f,outHeight:S,outWidth:C,outChannels:E,padInfo:A,strideHeight:y,strideWidth:b,filterHeight:d,filterWidth:m,effectiveFilterHeight:_,effectiveFilterWidth:k,dilationHeight:w,dilationWidth:x,inShape:t,outShape:D,filterShape:e}}function u(t,e,n,r,i,o=!1,a="channelsLast",s){let[u,c,l,f,h]=[-1,-1,-1,-1,-1];if("channelsLast"===a)[u,c,l,f,h]=t;else{if("channelsFirst"!==a)throw new Error(`Unknown dataFormat ${a}`);[u,h,c,l,f]=t}const[g,v,y,,b]=e,[w,x,_]=d(n),[k,A,S]=d(r),C=p(g,k),E=p(v,A),D=p(y,S),{padInfo:M,outDepth:T,outHeight:F,outWidth:O}=m(i,c,l,f,w,x,_,C,E,D,s),$=o?b*h:b;let N;return"channelsFirst"===a?N=[u,$,T,F,O]:"channelsLast"===a&&(N=[u,T,F,O,$]),{batchSize:u,dataFormat:a,inDepth:c,inHeight:l,inWidth:f,inChannels:h,outDepth:T,outHeight:F,outWidth:O,outChannels:$,padInfo:M,strideDepth:w,strideHeight:x,strideWidth:_,filterDepth:g,filterHeight:v,filterWidth:y,effectiveFilterDepth:C,effectiveFilterHeight:E,effectiveFilterWidth:D,dilationDepth:k,dilationHeight:A,dilationWidth:S,inShape:t,outShape:N,filterShape:e}}function c(t,e,n,r,i){null==r&&(r=f(t,e,n));const o=t[0],a=t[1],s=v((o-e+2*r)/n+1,i),u=v((a-e+2*r)/n+1,i);return[s,u]}function l(t,e,n,r,i,o){null==i&&(i=f(t,e[0],r[0]));const a=[0,0,0,n];for(let s=0;s<3;s++)t[s]+2*i>=e[s]&&(a[s]=v((t[s]-e[s]+2*i)/r[s]+1,o));return a}function f(t,e,n,r=1){const i=p(e,r);return Math.floor((t[0]*(n-1)-n+i)/2)}function h(t){return"number"===typeof t?[t,t,t]:2===t.length?[t[0],t[1],1]:t}function d(t){return"number"===typeof t?[t,t,t]:t}function p(t,e){return e<=1?t:t+(t-1)*(e-1)}function g(t,e,n,r,i,o,a,s,u){let l,f,h;if("number"===typeof t){const i=0===t?"VALID":"NUMBER";l={top:t,bottom:t,left:t,right:t,type:i};const a=c([e,n],o,r,t,s);f=a[0],h=a[1]}else if("same"===t){f=Math.ceil(e/r),h=Math.ceil(n/i);const t=Math.max(0,(f-1)*r+o-e),s=Math.max(0,(h-1)*i+a-n),u=Math.floor(t/2),c=t-u,d=Math.floor(s/2),p=s-d;l={top:u,bottom:c,left:d,right:p,type:"SAME"}}else if("valid"===t)l={top:0,bottom:0,left:0,right:0,type:"VALID"},f=Math.ceil((e-o+1)/r),h=Math.ceil((n-a+1)/i);else{if("object"!==typeof t)throw Error(`Unknown padding parameter: ${t}`);{const c="channelsLast"===u?t[1][0]:t[2][0],d="channelsLast"===u?t[1][1]:t[2][1],p="channelsLast"===u?t[2][0]:t[3][0],g="channelsLast"===u?t[2][1]:t[3][1],m=0===c&&0===d&&0===p&&0===g?"VALID":"EXPLICIT";l={top:c,bottom:d,left:p,right:g,type:m},f=v((e-o+c+d)/r+1,s),h=v((n-a+p+g)/i+1,s)}}return{padInfo:l,outHeight:f,outWidth:h}}function m(t,e,n,r,i,o,a,s,u,c,f){let h,d,p,g;if("valid"===t&&(t=0),"number"===typeof t){const m=0===t?"VALID":"NUMBER";h={top:t,bottom:t,left:t,right:t,front:t,back:t,type:m};const v=l([e,n,r,1],[s,u,c],1,[i,o,a],t,f);d=v[0],p=v[1],g=v[2]}else{if("same"!==t)throw Error(`Unknown padding parameter: ${t}`);{d=Math.ceil(e/i),p=Math.ceil(n/o),g=Math.ceil(r/a);const t=(d-1)*i+s-e,l=(p-1)*o+u-n,f=(g-1)*a+c-r,m=Math.floor(t/2),v=t-m,y=Math.floor(l/2),b=l-y,w=Math.floor(f/2),x=f-w;h={top:y,bottom:b,left:w,right:x,front:m,back:v,type:"SAME"}}}return{padInfo:h,outDepth:d,outHeight:p,outWidth:g}}function v(t,e){if(!e)return Math.trunc(t);switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error(`Unknown roundingMode ${e}`)}}function y(t){const[e,n,r]=h(t);return 1===e&&1===n&&1===r}function b(t,e){return y(t)||y(e)}function w(t){return h(t).every((t=>t>0))}function x(t){if("NHWC"===t)return"channelsLast";if("NCHW"===t)return"channelsFirst";throw new Error(`Unknown dataFormat ${t}`)}function _(t,e,n){if(null!=n){if("string"===typeof e)throw Error(`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);if("number"===typeof e)r.vA(r.E6(e),(()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`));else{if("object"!==typeof e)throw Error(`Error in ${t}: Unknown padding parameter: ${e}`);e.forEach((e=>{e.forEach((e=>{r.vA(r.E6(e),(()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`))}))}))}}}},9907:function(t,e,n){"use strict";n.d(e,{g:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","cos","float32"),n={x:e};return r.T2.runKernel(i.Mn0,n)}const u=(0,a.op)({cos_:s})},7451:function(t,e,n){"use strict";n.d(e,{y:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","cosh","float32"),n={x:e};return r.T2.runKernel(i.MnK,n)}const u=(0,a.op)({cosh_:s})},302:function(t,e,n){"use strict";n.d(e,{L:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t,e=0,n=!1,a=!1){const s=(0,o.YT)(t,"x","cumprod"),u={x:s},c={axis:e,exclusive:n,reverse:a};return r.T2.runKernel(i.jj_,u,c)}const u=(0,a.op)({cumprod_:s})},6808:function(t,e,n){"use strict";n.d(e,{r:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t,e=0,n=!1,a=!1){const s=(0,o.YT)(t,"x","cumsum"),u={x:s},c={axis:e,exclusive:n,reverse:a};return r.T2.runKernel(i.nY8,u,c)}const u=(0,a.op)({cumsum_:s})},1216:function(t,e,n){"use strict";n.d(e,{R:function(){return c}});var r=n(7260),i=n(5441),o=n(8189),a=n(5119),s=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function u(t,e,n="NHWC"){const s=(0,o.YT)(t,"x","depthToSpace","float32"),u="NHWC"===n?s.shape[1]:s.shape[2],c="NHWC"===n?s.shape[2]:s.shape[3],l="NHWC"===n?s.shape[3]:s.shape[1];a.vA(e>1,(()=>`blockSize should be > 1 for depthToSpace, but was: ${e}`)),a.vA(u*e>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${u} and ${e}  for depthToSpace with input shape\n    ${s.shape}`)),a.vA(c*e>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${c} and ${e} for depthToSpace with input shape\n        ${s.shape}`)),a.vA(l%(e*e)===0,(()=>`Dimension size must be evenly divisible by ${e*e} but is ${l} for depthToSpace with input shape ${s.shape}`));const f={x:s},h={blockSize:e,dataFormat:n};return r.T2.runKernel(i.TMz,f,h)}const c=(0,s.op)({depthToSpace_:u})},676:function(t,e,n){"use strict";n.d(e,{G:function(){return f}});var r=n(7260),i=n(5441),o=n(8189),a=n(5119),s=n(7195),u=n(929),c=n(2302);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function l(t,e,n,u,l="NHWC",f=[1,1],h){const d=(0,o.YT)(t,"x","depthwiseConv2d","float32"),p=(0,o.YT)(e,"filter","depthwiseConv2d","float32");let g=d,m=!1;3===d.rank&&(m=!0,g=(0,c.t)(d,[1,d.shape[0],d.shape[1],d.shape[2]])),a.vA(4===g.rank,(()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${g.rank}.`)),a.vA(4===p.rank,(()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${p.rank}.`));const v="NHWC"===l?g.shape[3]:g.shape[1];a.vA(v===p.shape[2],(()=>`Error in depthwiseConv2d: number of input channels (${v}) must match the inChannels dimension in filter ${p.shape[2]}.`)),s.s_("depthwiseConv2d",u,h);const y={x:g,filter:p},b={strides:n,pad:u,dataFormat:l,dilations:f,dimRoundingMode:h},w=r.T2.runKernel(i.tGH,y,b);return m?(0,c.t)(w,[w.shape[1],w.shape[2],w.shape[3]]):w}const f=(0,u.op)({depthwiseConv2d_:l})},3002:function(t,e,n){"use strict";n.d(e,{X:function(){return l}});var r=n(7260),i=n(5441),o=n(8189),a=n(5119),s=n(929),u=n(2302);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function c(t,e,n,s,c=[1,1],l="NHWC"){const f=(0,o.YT)(t,"x","dilation2d"),h=(0,o.YT)(e,"filter","dilation2d");a.vA(3===f.rank||4===f.rank,(()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${f.rank}.`)),a.vA(3===h.rank,(()=>`Error in dilation2d: filter must be rank 3, but got rank ${h.rank}.`)),a.vA("NHWC"===l,(()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${l}`));let d=f,p=!1;3===f.rank&&(d=(0,u.t)(f,[1,f.shape[0],f.shape[1],f.shape[2]]),p=!0),a.vA(d.shape[3]===h.shape[2],(()=>`Error in dilation2d:  input and filter must have the same depth: ${d.shape[3]} vs ${h.shape[2]}`));const g={x:d,filter:h},m={strides:n,pad:s,dilations:c},v=r.T2.runKernel(i.jxD,g,m);return p?(0,u.t)(v,[v.shape[1],v.shape[2],v.shape[3]]):v}const l=(0,s.op)({dilation2d_:c})},9359:function(t,e,n){"use strict";n.d(e,{y:function(){return l}});var r=n(7260),i=n(5441),o=n(565),a=n(8189),s=n(8991),u=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function c(t,e){let n=(0,a.YT)(t,"a","div"),u=(0,a.YT)(e,"b","div");if([n,u]=(0,o.makeTypesMatch)(n,u),"int32"===n.dtype&&"int32"===u.dtype)return(0,s.w)(n,u);const c={a:n,b:u},l={};return r.T2.runKernel(i.sDr,c,l)}const l=(0,u.op)({div_:c})},919:function(t,e,n){"use strict";n.d(e,{e:function(){return f}});var r=n(565),i=n(8189),o=n(9359),a=n(3020),s=n(929),u=n(2151),c=n(5537);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function l(t,e){let n=(0,i.YT)(t,"a","div"),s=(0,i.YT)(e,"b","div");[n,s]=(0,r.makeTypesMatch)(n,s);const l=(0,o.y)(n,s),f=(0,c.P)(l),h=(0,a.L)(s,f);return(0,u._)(h,f,l)}const f=(0,s.op)({divNoNan_:l})},9759:function(t,e,n){"use strict";n.d(e,{O:function(){return c}});var r=n(8189),i=n(5119),o=n(5703),a=n(929),s=n(2302);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function u(t,e){const n=(0,r.YT)(t,"t1","dot"),a=(0,r.YT)(e,"t2","dot");i.vA((1===n.rank||2===n.rank)&&(1===a.rank||2===a.rank),(()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${a.rank}.`));const u=1===n.rank?n.size:n.shape[1],c=1===a.rank?a.size:a.shape[0];if(i.vA(u===c,(()=>`Error in dot: inner dimensions of inputs must match, but got ${u} and ${c}.`)),1===n.rank&&1===a.rank){const t=(0,s.t)(n,[1,-1]),e=(0,s.t)(a,[-1,1]),r=(0,o.N)(t,e);return(0,s.t)(r,[])}if(1===n.rank&&2===a.rank){const t=(0,s.t)(n,[1,-1]),e=(0,s.t)(a,[a.shape[0],a.shape[1]]),r=(0,o.N)(t,e);return(0,s.t)(r,[r.size])}if(2===n.rank&&1===a.rank){const t=(0,s.t)(a,[-1,1]),e=(0,o.N)(n,t);return(0,s.t)(e,[e.size])}{const t=(0,s.t)(a,[a.shape[0],a.shape[1]]),e=(0,o.N)(n,t);return e}}const c=(0,a.op)({dot_:u})},3416:function(t,e,n){"use strict";n.d(e,{P:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","elu","float32"),n={x:e};return r.T2.runKernel(i.Pah,n)}const u=(0,a.op)({elu_:s})},3020:function(t,e,n){"use strict";n.d(e,{L:function(){return l}});var r=n(7260),i=n(5441),o=n(565),a=n(8189),s=n(2198),u=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function c(t,e){let n=(0,a.YT)(t,"a","equal","string_or_numeric"),u=(0,a.YT)(e,"b","equal","string_or_numeric");[n,u]=(0,o.makeTypesMatch)(n,u),(0,s.assertAndGetBroadcastShape)(n.shape,u.shape);const c={a:n,b:u};return r.T2.runKernel(i.BRl,c)}const l=(0,u.op)({equal_:c})},5207:function(t,e,n){"use strict";n.d(e,{Y:function(){return l}});var r=n(7260),i=n(5441),o=n(8189),a=n(5119),s=n(9809),u=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function c(t){let e=(0,o.YT)(t,"x","erf");a.vA("int32"===e.dtype||"float32"===e.dtype,(()=>"Input dtype must be `int32` or `float32`.")),"int32"===e.dtype&&(e=(0,s.w)(e,"float32"));const n={x:e};return r.T2.runKernel(i._s9,n)}const l=(0,u.op)({erf_:c})},4881:function(t,e,n){"use strict";n.d(e,{p:function(){return a}});var r=n(2596),i=n(929);
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function o(t,e=null,n=!1){return(0,r.x)(t,"euclidean",e,n)}const a=(0,i.op)({euclideanNorm_:o})},8631:function(t,e,n){"use strict";n.d(e,{o:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","exp"),n={x:e};return r.T2.runKernel(i.ox3,n)}const u=(0,a.op)({exp_:s})},8710:function(t,e,n){"use strict";n.d(e,{U:function(){return c}});var r=n(7260),i=n(5441),o=n(8189),a=n(5119),s=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function u(t,e=0){const n=(0,o.YT)(t,"x","expandDims","string_or_numeric");a.vA(e<=n.rank,(()=>"Axis must be <= rank of the tensor"));const s={input:n},u={dim:e};return r.T2.runKernel(i.ybN,s,u)}const c=(0,s.op)({expandDims_:u})},517:function(t,e,n){"use strict";n.d(e,{I:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","expm1"),n={x:e};return r.T2.runKernel(i.ybj,n)}const u=(0,a.op)({expm1_:s})},6111:function(t,e,n){"use strict";n.d(e,{G:function(){return a}});var r=n(7260),i=n(5441),o=n(5119);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function a(t,e,n){(0,o.SA)(t),n=n||(0,o.X$)(e);const a={shape:t,value:e,dtype:n};return r.T2.runKernel(i.SQl,{},a)}},5606:function(t,e,n){"use strict";n.d(e,{R:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","floor","float32"),n={x:e};return r.T2.runKernel(i.ZgB,n)}const u=(0,a.op)({floor_:s})},8991:function(t,e,n){"use strict";n.d(e,{w:function(){return c}});var r=n(7260),i=n(5441),o=n(565),a=n(8189),s=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function u(t,e){let n=(0,a.YT)(t,"a","floorDiv"),s=(0,a.YT)(e,"b","floorDiv");[n,s]=(0,o.makeTypesMatch)(n,s);const u={a:n,b:s};return r.T2.runKernel(i.ElG,u)}const c=(0,s.op)({floorDiv_:u})},8229:function(t,e,n){"use strict";n.d(e,{k:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t,e,n=0,a=0){const s=(0,o.YT)(t,"x","gather"),u=(0,o.YT)(e,"indices","gather","int32"),c={x:s,indices:u},l={axis:n,batchDims:a};return r.T2.runKernel(i.mxL,c,l)}const u=(0,a.op)({gather_:s})},2058:function(t,e,n){"use strict";n.d(e,{r:function(){return l}});var r=n(7260),i=n(5441),o=n(565),a=n(8189),s=n(2198),u=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function c(t,e){let n=(0,a.YT)(t,"a","greater","string_or_numeric"),u=(0,a.YT)(e,"b","greater","string_or_numeric");[n,u]=(0,o.makeTypesMatch)(n,u),(0,s.assertAndGetBroadcastShape)(n.shape,u.shape);const c={a:n,b:u};return r.T2.runKernel(i.XhZ,c)}const l=(0,u.op)({greater_:c})},3337:function(t,e,n){"use strict";n.d(e,{D:function(){return l}});var r=n(7260),i=n(5441),o=n(565),a=n(8189),s=n(2198),u=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function c(t,e){let n=(0,a.YT)(t,"a","greaterEqual","string_or_numeric"),u=(0,a.YT)(e,"b","greaterEqual","string_or_numeric");[n,u]=(0,o.makeTypesMatch)(n,u),(0,s.assertAndGetBroadcastShape)(n.shape,u.shape);const c={a:n,b:u};return r.T2.runKernel(i.lLS,c)}const l=(0,u.op)({greaterEqual_:c})},5040:function(t,e,n){"use strict";n.d(e,{n:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"input","imag"),n={input:e};return r.T2.runKernel(i.dv8,n)}const u=(0,a.op)({imag_:s})},4711:function(t,e,n){"use strict";n.d(e,{v:function(){return l}});var r=n(7260),i=n(5441),o=n(8189),a=n(5119),s=n(929),u=n(2302);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function c(t,e,n=!1,s=!1){const c=(0,o.YT)(t,"images","resizeBilinear");a.vA(3===c.rank||4===c.rank,(()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${c.rank}.`)),a.vA(2===e.length,(()=>`Error in resizeBilinear: new shape must 2D, but got shape ${e}.`)),a.vA(!1===s||!1===n,(()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."));let l=c,f=!1;3===c.rank&&(f=!0,l=(0,u.t)(c,[1,c.shape[0],c.shape[1],c.shape[2]]));const[]=e,h={images:l},d={alignCorners:n,halfPixelCenters:s,size:e},p=r.T2.runKernel(i.hgw,h,d);return f?(0,u.t)(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const l=(0,s.op)({resizeBilinear_:c})},2954:function(t,e,n){"use strict";n.d(e,{b:function(){return l}});var r=n(7260),i=n(5441),o=n(8189),a=n(5119),s=n(929),u=n(2302);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function c(t,e,n=!1,s=!1){const c=(0,o.YT)(t,"images","resizeNearestNeighbor");a.vA(3===c.rank||4===c.rank,(()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${c.rank}.`)),a.vA(2===e.length,(()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${e}.`)),a.vA("float32"===c.dtype||"int32"===c.dtype,(()=>"`images` must have `int32` or `float32` as dtype")),a.vA(!1===s||!1===n,(()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."));let l=c,f=!1;3===c.rank&&(f=!0,l=(0,u.t)(c,[1,c.shape[0],c.shape[1],c.shape[2]]));const[]=e,h={images:l},d={alignCorners:n,halfPixelCenters:s,size:e},p=r.T2.runKernel(i.jOE,h,d);return f?(0,u.t)(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const l=(0,s.op)({resizeNearestNeighbor_:c})},8318:function(t,e,n){"use strict";n.d(e,{M:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","isFinite"),n={x:e};return r.T2.runKernel(i.gIW,n)}const u=(0,a.op)({isFinite_:s})},3454:function(t,e,n){"use strict";n.d(e,{E:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","isInf"),n={x:e};return r.T2.runKernel(i.E3$,n)}const u=(0,a.op)({isInf_:s})},6300:function(t,e,n){"use strict";n.d(e,{y:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","isNaN"),n={x:e};return r.T2.runKernel(i.iPs,n)}const u=(0,a.op)({isNaN_:s})},6919:function(t,e,n){"use strict";n.d(e,{H:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t,e=.2){const n=(0,o.YT)(t,"x","leakyRelu"),a={x:n},s={alpha:e};return r.T2.runKernel(i.X0$,a,s)}const u=(0,a.op)({leakyRelu_:s})},1303:function(t,e,n){"use strict";n.d(e,{M:function(){return l}});var r=n(7260),i=n(5441),o=n(565),a=n(8189),s=n(2198),u=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function c(t,e){let n=(0,a.YT)(t,"a","less","string_or_numeric"),u=(0,a.YT)(e,"b","less","string_or_numeric");[n,u]=(0,o.makeTypesMatch)(n,u),(0,s.assertAndGetBroadcastShape)(n.shape,u.shape);const c={a:n,b:u};return r.T2.runKernel(i.mIA,c)}const l=(0,u.op)({less_:c})},6508:function(t,e,n){"use strict";n.d(e,{I:function(){return l}});var r=n(7260),i=n(5441),o=n(565),a=n(8189),s=n(2198),u=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function c(t,e){let n=(0,a.YT)(t,"a","lessEqual","string_or_numeric"),u=(0,a.YT)(e,"b","lessEqual","string_or_numeric");[n,u]=(0,o.makeTypesMatch)(n,u),(0,s.assertAndGetBroadcastShape)(n.shape,u.shape);const c={a:n,b:u};return r.T2.runKernel(i.CwD,c)}const l=(0,u.op)({lessEqual_:c})},3531:function(t,e,n){"use strict";n.d(e,{K:function(){return l}});var r=n(7260),i=n(5441),o=n(8189),a=n(5119),s=n(929),u=n(2302);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function c(t,e=5,n=1,s=1,c=.5){const l=(0,o.YT)(t,"x","localResponseNormalization");a.vA(4===l.rank||3===l.rank,(()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ${l.rank}.`)),a.vA(a.E6(e),(()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${e}.`));let f=l,h=!1;3===l.rank&&(h=!0,f=(0,u.t)(l,[1,l.shape[0],l.shape[1],l.shape[2]]));const d={x:f},p={depthRadius:e,bias:n,alpha:s,beta:c},g=r.T2.runKernel(i.jM4,d,p);return h?(0,u.t)(g,[g.shape[1],g.shape[2],g.shape[3]]):g}const l=(0,s.op)({localResponseNormalization_:c})},4010:function(t,e,n){"use strict";n.d(e,{R:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","log","float32"),n={x:e};return r.T2.runKernel(i.tG8,n)}const u=(0,a.op)({log_:s})},2015:function(t,e,n){"use strict";n.d(e,{K:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","log1p"),n={x:e};return r.T2.runKernel(i.Cg$,n)}const u=(0,a.op)({log1p_:s})},5645:function(t,e,n){"use strict";n.d(e,{n:function(){return f}});var r=n(1830),i=n(8189),o=n(9258),a=n(6522),s=n(929),u=n(8968),c=n(6030);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function l(t){const e=(0,i.YT)(t,"x","logSigmoid"),n=(0,r._X)((t=>{const e=(0,a.H)((0,c.l)((0,a.H)(t))),n=e=>{const n=(0,o.l)(e,(0,u.r)((0,a.H)(t)));return n};return{value:e,gradFunc:n}}));return n(e)}const f=(0,s.op)({logSigmoid_:l})},7991:function(t,e,n){"use strict";n.d(e,{H:function(){return p}});var r=n(1830),i=n(8189),o=n(9809),a=n(8631),s=n(4010),u=n(1938),c=n(9258),l=n(929),f=n(7126),h=n(3791);
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function d(t,e=-1){const n=(0,i.YT)(t,"logits","logSoftmax");if(-1===e&&(e=n.rank-1),e!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${e}`);const l=(0,r._X)(((t,n)=>{const r=!0,i=(0,u.T)(t,e,!0),l=(0,f.j)(t,i),d=(0,f.j)((0,o.w)(l,"float32"),(0,s.R)((0,h.c)((0,a.o)(l),e,r)));n([d]);const p=(t,n)=>{const[r]=n,i=!0,o=(0,a.o)(r);return(0,f.j)(t,(0,c.l)((0,h.c)(t,e,i),o))};return{value:d,gradFunc:p}}));return l(n)}const p=(0,l.op)({logSoftmax_:d})},3330:function(t,e,n){"use strict";n.d(e,{V:function(){return g}});var r=n(8189),i=n(5119),o=n(7523),a=n(1078),s=n(8631),u=n(4010),c=n(1938),l=n(929),f=n(2302),h=n(7126),d=n(3791);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function p(t,e=null,n=!1){const l=(0,r.YT)(t,"x","logSumExp"),p=(0,i.Y6)(e,l.shape),g=(0,c.T)(l,p,!0),m=(0,h.j)(l,g),v=(0,s.o)(m),y=(0,d.c)(v,p),b=(0,u.R)(y),w=(0,o.W)((0,f.t)(g,b.shape),b);if(n){const t=(0,a.SM)(w.shape,p);return(0,f.t)(w,t)}return w}const g=(0,l.op)({logSumExp_:p})},6170:function(t,e,n){"use strict";n.d(e,{n:function(){return c}});var r=n(7260),i=n(5441),o=n(8189),a=n(2198),s=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function u(t,e){const n=(0,o.YT)(t,"a","logicalAnd","bool"),s=(0,o.YT)(e,"b","logicalAnd","bool");(0,a.assertAndGetBroadcastShape)(n.shape,s.shape);const u={a:n,b:s};return r.T2.runKernel(i.RUm,u)}const c=(0,s.op)({logicalAnd_:u})},9881:function(t,e,n){"use strict";n.d(e,{N:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","logicalNot","bool"),n={x:e};return r.T2.runKernel(i.nZd,n)}const u=(0,a.op)({logicalNot_:s})},9879:function(t,e,n){"use strict";n.d(e,{z:function(){return c}});var r=n(7260),i=n(5441),o=n(8189),a=n(2198),s=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function u(t,e){const n=(0,o.YT)(t,"a","logicalOr","bool"),s=(0,o.YT)(e,"b","logicalOr","bool");(0,a.assertAndGetBroadcastShape)(n.shape,s.shape);const u={a:n,b:s};return r.T2.runKernel(i.LXA,u)}const c=(0,s.op)({logicalOr_:u})},9925:function(t,e,n){"use strict";n.d(e,{r:function(){return l}});var r=n(8189),i=n(2198),o=n(6170),a=n(9881),s=n(9879),u=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function c(t,e){const n=(0,r.YT)(t,"a","logicalXor","bool"),u=(0,r.YT)(e,"b","logicalXor","bool");return(0,i.assertAndGetBroadcastShape)(n.shape,u.shape),(0,o.n)((0,s.z)(t,e),(0,a.N)((0,o.n)(t,e)))}const l=(0,u.op)({logicalXor_:c})},5703:function(t,e,n){"use strict";n.d(e,{N:function(){return c}});var r=n(7260),i=n(5441),o=n(565),a=n(8189),s=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function u(t,e,n=!1,s=!1){let u=(0,a.YT)(t,"a","matMul"),c=(0,a.YT)(e,"b","matMul");[u,c]=(0,o.makeTypesMatch)(u,c);const l={a:u,b:c},f={transposeA:n,transposeB:s};return r.T2.runKernel(i.jAQ,l,f)}const c=(0,s.op)({matMul_:u})},1938:function(t,e,n){"use strict";n.d(e,{T:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t,e=null,n=!1){const a=(0,o.YT)(t,"x","max"),s={x:a},u={reductionIndices:e,keepDims:n};return r.T2.runKernel(i.VAI,s,u)}const u=(0,a.op)({max_:s})},6999:function(t,e,n){"use strict";n.d(e,{j:function(){return f}});var r=n(7260),i=n(5441),o=n(8189),a=n(5119),s=n(7195),u=n(929),c=n(2302);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function l(t,e,n,u,l){const f=(0,o.YT)(t,"x","maxPool"),h=1;let d=f,p=!1;3===f.rank&&(p=!0,d=(0,c.t)(f,[1,f.shape[0],f.shape[1],f.shape[2]])),a.vA(4===d.rank,(()=>`Error in maxPool: input must be rank 4 but got rank ${d.rank}.`)),a.vA(s.G0(n,h),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${h}'`)),s.s_("maxPool",u,l);const g={x:d},m={filterSize:e,strides:n,pad:u,dimRoundingMode:l},v=r.T2.runKernel(i.t3d,g,m);return p?(0,c.t)(v,[v.shape[1],v.shape[2],v.shape[3]]):v}const f=(0,u.op)({maxPool_:l})},178:function(t,e,n){"use strict";n.d(e,{P:function(){return f}});var r=n(7260),i=n(5441),o=n(565),a=n(8189),s=n(2198),u=n(9809),c=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function l(t,e){let n=(0,a.YT)(t,"a","maximum"),c=(0,a.YT)(e,"b","maximum");[n,c]=(0,o.makeTypesMatch)(n,c),"bool"===n.dtype&&(n=(0,u.w)(n,"int32"),c=(0,u.w)(c,"int32")),(0,s.assertAndGetBroadcastShape)(n.shape,c.shape);const l={a:n,b:c};return r.T2.runKernel(i.LDN,l)}const f=(0,c.op)({maximum_:l})},2611:function(t,e,n){"use strict";n.d(e,{i:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t,e=null,n=!1){const a=(0,o.YT)(t,"x","mean"),s={x:a},u={axis:e,keepDims:n};return r.T2.runKernel(i.g5A,s,u)}const u=(0,a.op)({mean_:s})},7436:function(t,e,n){"use strict";n.d(e,{j:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t,e=null,n=!1){const a=(0,o.YT)(t,"x","min"),s={x:a},u={axis:e,keepDims:n};return r.T2.runKernel(i.lNG,s,u)}const u=(0,a.op)({min_:s})},2644:function(t,e,n){"use strict";n.d(e,{B:function(){return f}});var r=n(7260),i=n(5441),o=n(565),a=n(8189),s=n(2198),u=n(9809),c=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function l(t,e){let n=(0,a.YT)(t,"a","minimum"),c=(0,a.YT)(e,"b","minimum");[n,c]=(0,o.makeTypesMatch)(n,c),"bool"===n.dtype&&(n=(0,u.w)(n,"int32"),c=(0,u.w)(c,"int32")),(0,s.assertAndGetBroadcastShape)(n.shape,c.shape);const l={a:n,b:c};return r.T2.runKernel(i.LG0,l)}const f=(0,c.op)({minimum_:l})},6567:function(t,e,n){"use strict";n.d(e,{F:function(){return c}});var r=n(7260),i=n(5441),o=n(8189),a=n(5119),s=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function u(t,e,n){a.vA("reflect"===n||"symmetric"===n,(()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`));const s=(0,o.YT)(t,"x","mirrorPad");if(0===s.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");a.vA(e.length===s.rank,(()=>`Padding doesn't match input. Must be ${s.rank}. Got ${e.length}.`));const u="reflect"===n?1:0;for(let r=0;r<s.rank;r++)a.vA(2===e[r].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),a.vA(e[r][0]>=0&&e[r][0]<=s.shape[r]-u&&e[r][1]>=0&&e[r][1]<=s.shape[r]-u,(()=>`Padding in dimension ${r} cannot be greater than or equal to ${s.shape[r]-u} or less than 0 for input of shape ${s.shape}`));const c={paddings:e,mode:n},l={x:s};return r.T2.runKernel(i.x7F,l,c)}const c=(0,s.op)({mirrorPad_:u})},152:function(t,e,n){"use strict";n.d(e,{z:function(){return c}});var r=n(7260),i=n(5441),o=n(565),a=n(8189),s=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function u(t,e){let n=(0,a.YT)(t,"a","mod"),s=(0,a.YT)(e,"b","mod");[n,s]=(0,o.makeTypesMatch)(n,s);const u={a:n,b:s};return r.T2.runKernel(i.BLA,u)}const c=(0,s.op)({mod_:u})},9258:function(t,e,n){"use strict";n.d(e,{l:function(){return c}});var r=n(7260),i=n(5441),o=n(565),a=n(8189),s=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function u(t,e){let n=(0,a.YT)(t,"a","mul"),s=(0,a.YT)(e,"b","mul");[n,s]=(0,o.makeTypesMatch)(n,s);const u={a:n,b:s};return r.T2.runKernel(i.xu7,u)}const c=(0,s.op)({mul_:u})},6522:function(t,e,n){"use strict";n.d(e,{H:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","neg"),n={x:e};return r.T2.runKernel(i.l0G,n)}const u=(0,a.op)({neg_:s})},2596:function(t,e,n){"use strict";n.d(e,{x:function(){return y}});var r=n(8189),i=n(5119),o=n(4888),a=n(1078),s=n(1938),u=n(7436),c=n(929),l=n(8990),f=n(2302),h=n(5702),d=n(9348),p=n(5793),g=n(3791);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function m(t,e="euclidean",n=null,o=!1){t=(0,r.YT)(t,"x","norm");const s=v(t,e,n);let u=s.shape;if(o){const e=(0,i.Y6)(n,t.shape);u=a.SM(s.shape,e)}return(0,f.t)(s,u)}function v(t,e,n=null){if(0===t.rank)return(0,o.t)(t);if(1!==t.rank&&null===n)return v((0,f.t)(t,[-1]),e,n);if(1===t.rank||"number"===typeof n||Array.isArray(n)&&1===n.length){if(1===e)return(0,g.c)((0,o.t)(t),n);if(e===1/0)return(0,s.T)((0,o.t)(t),n);if(e===-1/0)return(0,u.j)((0,o.t)(t),n);if("euclidean"===e||2===e)return(0,d.R)((0,g.c)((0,l.n)((0,o.t)(t),(0,h.d)(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}if(Array.isArray(n)&&2===n.length){if(1===e)return(0,s.T)((0,g.c)((0,o.t)(t),n[0]),n[1]-1);if(e===1/0)return(0,s.T)((0,g.c)((0,o.t)(t),n[1]),n[0]);if(e===-1/0)return(0,u.j)((0,g.c)((0,o.t)(t),n[1]),n[0]);if("fro"===e||"euclidean"===e)return(0,d.R)((0,g.c)((0,p.E)(t),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const y=(0,c.op)({norm_:m})},2118:function(t,e,n){"use strict";n.d(e,{E:function(){return l}});var r=n(7260),i=n(5441),o=n(565),a=n(8189),s=n(2198),u=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function c(t,e){let n=(0,a.YT)(t,"a","notEqual","string_or_numeric"),u=(0,a.YT)(e,"b","notEqual","string_or_numeric");[n,u]=(0,o.makeTypesMatch)(n,u),(0,s.assertAndGetBroadcastShape)(n.shape,u.shape);const c={a:n,b:u};return r.T2.runKernel(i.ylV,c)}const l=(0,u.op)({notEqual_:c})},1760:function(t,e,n){"use strict";n.d(e,{M:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t,e,n=1,a=0,s="int32"){if(e<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${e}`);const u=(0,o.YT)(t,"indices","oneHot","int32"),c={indices:u},l={dtype:s,depth:e,onValue:n,offValue:a};return r.T2.runKernel(i.urI,c,l)}const u=(0,a.op)({oneHot_:s})},9885:function(t,e,n){"use strict";n.d(e,{P:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","onesLike"),n={x:e};return r.T2.runKernel(i.LWX,n)}const u=(0,a.op)({onesLike_:s})},929:function(t,e,n){"use strict";n.d(e,{B:function(){return o},op:function(){return a}});var r=n(7260),i=n(5119);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const o="__op";function a(t){const e=Object.keys(t);if(1!==e.length)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${e.length} keys.`);let n=e[0];const a=t[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=o;const s=(...t)=>{r.T2.startScope(n);try{const e=a(...t);return(0,i.yL)(e)&&console.error("Cannot return a Promise inside of tidy."),r.T2.endScope(e),e}catch(e){throw r.T2.endScope(null),e}};return Object.defineProperty(s,"name",{value:n,configurable:!0}),s}},5661:function(t,e,n){"use strict";n.d(e,{e:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t,e,n=0){const a=(0,o.YT)(t,"x","pad");if(0===a.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const s={paddings:e,constantValue:n},u={x:a};return r.T2.runKernel(i.ODT,u,s)}const u=(0,a.op)({pad_:s})},7872:function(t,e,n){"use strict";n.d(e,{d:function(){return g}});var r=n(8189),i=n(5119),o=n(3909),a=n(9772),s=n(7195),u=n(6999),c=n(929),l=n(2302),f=n(776);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function h(t,e,n,c,h,g,m){null==h&&(h=[1,1]),null==g&&(g=1),0===c&&(c="valid");const v=(0,r.YT)(t,"x","maxPool");let y=v,b=!1;3===v.rank&&(b=!0,y=(0,l.t)(v,[1,v.shape[0],v.shape[1],v.shape[2]])),i.vA(s.G0(g,h),(()=>`Error in pool: Either strides or dilations must be 1. Got strides ${g} and dilations '${h}'`));const w=s.E6(y.shape,e,g,h,c),x=[w.dilationHeight,w.dilationWidth];let _;_="same"===c?p([w.filterHeight,w.filterWidth],x):[[0,0],[0,0]];const k=1===x[0]&&1===x[1],[A,S]=d([w.inHeight,w.inWidth],x,_),C=k?c:"valid",E=k?y:(0,f.e)(y,x,A),D="avg"===n?()=>(0,o.$)(E,e,g,C,m):()=>(0,u.j)(E,e,g,C,m),M=D(),T=k?M:(0,a.G)(M,x,S);return b?(0,l.t)(T,[T.shape[1],T.shape[2],T.shape[3]]):T}function d(t,e,n){const r=n.map((t=>t[0])),i=n.map((t=>t[1])),o=t.concat(r,i),a=e.map(((t,e)=>(t-o[e]%t)%t)),s=i.map(((t,e)=>t+a[e])),u=e.map(((t,e)=>[r[e],s[e]])),c=e.map(((t,e)=>[0,a[e]]));return[u,c]}function p(t,e){const n=t.map(((t,n)=>t+(t-1)*(e[n]-1))),r=n.map((t=>t-1)),i=r.map((t=>Math.floor(t/2))),o=r.map(((t,e)=>t-i[e]));return r.map(((t,e)=>[i[e],o[e]]))}const g=(0,c.op)({pool_:h})},8990:function(t,e,n){"use strict";n.d(e,{n:function(){return c}});var r=n(7260),i=n(5441),o=n(565),a=n(8189),s=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function u(t,e){let n=(0,a.YT)(t,"base","pow"),s=(0,a.YT)(e,"exp","pow");[n,s]=(0,o.makeTypesMatch)(n,s);const u={a:n,b:s};return r.T2.runKernel(i.pyJ,u)}const c=(0,s.op)({pow_:u})},4394:function(t,e,n){"use strict";n.d(e,{N:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t,e){const n=(0,o.YT)(t,"x","prelu"),a=(0,o.YT)(e,"alpha","prelu"),s={x:n,alpha:a};return r.T2.runKernel(i.Ncv,s)}const u=(0,a.op)({prelu_:s})},7771:function(t,e,n){"use strict";n.d(e,{_:function(){return c}});var r=n(7260),i=n(5441),o=n(8189),a=n(9809),s=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function u(t,e=null,n=!1){let s=(0,o.YT)(t,"x","prod");"bool"===s.dtype&&(s=(0,a.w)(s,"int32"));const u={x:s},c={axis:e,keepDims:n};return r.T2.runKernel(i.kdj,u,c)}const c=(0,s.op)({prod_:u})},1902:function(t,e,n){"use strict";n.d(e,{x:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"input","real"),n={input:e};return r.T2.runKernel(i.LRy,n)}const u=(0,a.op)({real_:s})},9870:function(t,e,n){"use strict";n.d(e,{V:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","reciprocal"),n={x:e};return r.T2.runKernel(i.huO,n)}const u=(0,a.op)({reciprocal_:s})},112:function(t,e,n){"use strict";n.d(e,{V:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","relu"),n={x:e};return r.T2.runKernel(i.fUj,n)}const u=(0,a.op)({relu_:s})},3732:function(t,e,n){"use strict";n.d(e,{j:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","relu6"),n={x:e};return r.T2.runKernel(i.P_L,n)}const u=(0,a.op)({relu6_:s})},2302:function(t,e,n){"use strict";n.d(e,{t:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t,e){const n=(0,o.YT)(t,"x","reshape","string_or_numeric"),a={x:n},s={shape:e};return r.T2.runKernel(i.R23,a,s)}const u=(0,a.op)({reshape_:s})},3262:function(t,e,n){"use strict";n.d(e,{B:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t,e){const n=(0,o.YT)(t,"x","reverse"),a={x:n},s={dims:e};return r.T2.runKernel(i.D7i,a,s)}const u=(0,a.op)({reverse_:s})},5912:function(t,e,n){"use strict";n.d(e,{L:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","round"),n={x:e};return r.T2.runKernel(i.hVg,n)}const u=(0,a.op)({round_:s})},7820:function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","rsqrt","float32"),n={x:e};return r.T2.runKernel(i.TOR,n)}const u=(0,a.op)({rsqrt_:s})},5702:function(t,e,n){"use strict";n.d(e,{d:function(){return o}});var r=n(1259),i=n(9171);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function o(t,e){if(((0,r.isTypedArray)(t)&&"string"!==e||Array.isArray(t))&&"complex64"!==e)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===e&&(0,r.isTypedArray)(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");const n=[],o=[];return(0,i.Q)(t,n,o,e)}},6325:function(t,e,n){"use strict";n.d(e,{W:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","selu"),n={x:e};return r.T2.runKernel(i.u$b,n)}const u=(0,a.op)({selu_:s})},9986:function(t,e,n){"use strict";n.d(e,{w:function(){return l}});var r=n(8189),i=n(5119),o=n(8794),a=n(676),s=n(929),u=n(2302);function c(t,e,n,s,c,l=[1,1],f="NHWC"){const h=(0,r.YT)(t,"x","separableConv2d"),d=(0,r.YT)(e,"depthwiseFilter","separableConv2d"),p=(0,r.YT)(n,"pointwiseFilter","separableConv2d");let g=h,m=!1;if(3===h.rank&&(m=!0,g=(0,u.t)(h,[1,h.shape[0],h.shape[1],h.shape[2]])),"NCHW"===f)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");i.vA(4===g.rank,(()=>`Error in separableConv2d: input must be rank 4, but got rank ${g.rank}.`)),i.vA(4===d.rank,(()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${d.rank}.`)),i.vA(4===p.rank,(()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${d.rank}.`)),i.vA(1===p.shape[0],(()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${p.shape[0]}.`)),i.vA(1===p.shape[1],(()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${p.shape[1]}.`));const v=d.shape[2],y=d.shape[3];i.vA(p.shape[2]===v*y,(()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${v*y}, but got ${p.shape[2]}.`));const b=(0,a.G)(g,d,s,c,f,l),w=1,x=(0,o.X)(b,p,w,"valid",f);return m?(0,u.t)(x,[x.shape[1],x.shape[2],x.shape[3]]):x}const l=(0,s.op)({separableConv2d_:c})},8968:function(t,e,n){"use strict";n.d(e,{r:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","sigmoid","float32"),n={x:e};return r.T2.runKernel(i.vI1,n)}const u=(0,a.op)({sigmoid_:s})},1115:function(t,e,n){"use strict";n.d(e,{_:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","sign"),n={x:e};return r.T2.runKernel(i.YVe,n)}const u=(0,a.op)({sign_:s})},3726:function(t,e,n){"use strict";n.d(e,{F:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","sin","float32"),n={x:e};return r.T2.runKernel(i.hql,n)}const u=(0,a.op)({sin_:s})},8276:function(t,e,n){"use strict";n.d(e,{L:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","sinh"),n={x:e};return r.T2.runKernel(i.J3C,n)}const u=(0,a.op)({sinh_:s})},7986:function(t,e,n){"use strict";n.d(e,{d:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t,e,n){const a=(0,o.YT)(t,"x","slice","string_or_numeric");if(0===a.rank)throw new Error("Slicing scalar is not possible");const s={x:a},u={begin:e,size:n};return r.T2.runKernel(i.JiE,s,u)}const u=(0,a.op)({slice_:s})},6346:function(t,e,n){"use strict";n.d(e,{V:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t,e=-1){const n=(0,o.YT)(t,"logits","softmax","float32");if(-1===e&&(e=n.rank-1),e!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${e}`);const a={logits:n},s={dim:e};return r.T2.runKernel(i.rFG,a,s)}const u=(0,a.op)({softmax_:s})},6030:function(t,e,n){"use strict";n.d(e,{l:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","softplus"),n={x:e};return r.T2.runKernel(i.Fin,n)}const u=(0,a.op)({softplus_:s})},776:function(t,e,n){"use strict";n.d(e,{e:function(){return c}});var r=n(7260),i=n(5441),o=n(8189),a=n(5119),s=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function u(t,e,n){const s=(0,o.YT)(t,"x","spaceToBatchND");a.vA(s.rank>=1+e.length,(()=>`input rank ${s.rank} should be > than [blockShape] ${e.length}`)),a.vA(n.length===e.length,(()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${e.length}`)),a.vA(s.shape.reduce(((t,r,i)=>i>0&&i<=e.length?t&&(r+n[i-1][0]+n[i-1][1])%e[i-1]===0:t),!0),(()=>`input spatial dimensions ${s.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${e.toString()}`));const u={x:s},c={blockShape:e,paddings:n};return r.T2.runKernel(i.A8B,u,c)}const c=(0,s.op)({spaceToBatchND_:u})},1361:function(t,e,n){"use strict";n.d(e,{h:function(){return u}});var r=n(7260),i=n(5441),o=n(5119),a=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){(0,o.vA)("complex64"===t.dtype,(()=>`The dtype for tf.spectral.fft() must be complex64 but got ${t.dtype}.`));const e={input:t};return r.T2.runKernel(i.rGP,e)}const u=(0,a.op)({fft_:s})},3108:function(t,e,n){"use strict";n.d(e,{K:function(){return u}});var r=n(7260),i=n(5441),o=n(5119),a=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){(0,o.vA)("complex64"===t.dtype,(()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${t.dtype}.`));const e={input:t};return r.T2.runKernel(i.OAQ,e)}const u=(0,a.op)({ifft_:s})},2292:function(t,e,n){"use strict";n.d(e,{g:function(){return g}});var r=n(7148),i=n(5030),o=n(5040),a=n(9258),s=n(929),u=n(1902),c=n(2302),l=n(3262),f=n(5702),h=n(7986),d=n(3108);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function p(t){const e=t.shape[t.shape.length-1],n=t.size/e;let s;if(e<=2){const r=(0,c.t)(t,[n,e]);s=(0,d.K)(r)}else{const p=[n,2*(e-1)],g=(0,c.t)((0,u.x)(t),[n,e]),m=(0,c.t)((0,o.n)(t),[n,e]),v=(0,l.B)((0,h.d)(g,[0,1],[n,e-2]),1),y=(0,a.l)((0,l.B)((0,h.d)(m,[0,1],[n,e-2]),1),(0,f.d)(-1)),b=(0,i.x)([g,v],1),w=(0,i.x)([m,y],1),x=(0,c.t)((0,r.f)(b,w),[p[0],p[1]]);s=(0,d.K)(x)}if(s=(0,u.x)(s),3===t.rank&&0!==t.shape[0]){const e=s,n=t.shape[0];s=(0,c.t)(s,[n,s.shape[0]/n,s.shape[1]]),e.dispose()}return s}const g=(0,s.op)({irfft_:p})},8775:function(t,e,n){"use strict";n.d(e,{z:function(){return m}});var r=n(5119),i=n(7148),o=n(5030),a=n(5040),s=n(929),u=n(1902),c=n(2302),l=n(7986),f=n(6512),h=n(2855),d=n(5537),p=n(1361);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function g(t,e){(0,r.vA)("float32"===t.dtype,(()=>`The dtype for rfft() must be real value but got ${t.dtype}`));let n=t.shape[t.shape.length-1];const s=t.size/n;let g;if(null!=e&&e<n){const r=t.shape.map((t=>0)),i=t.shape.map((t=>t));i[t.shape.length-1]=e,g=(0,l.d)(t,r,i),n=e}else if(null!=e&&e>n){const r=t.shape.map((t=>t));r[t.shape.length-1]=e-n,g=(0,o.x)([t,(0,h.U)(r)],t.shape.length-1),n=e}else g=t;const m=(0,d.P)(g),v=(0,c.t)((0,i.f)(g,m),[s,n]),y=(0,p.h)(v),b=Math.floor(n/2)+1,w=(0,u.x)(y),x=(0,a.n)(y),_=(0,f.l)(w,[b,n-b],w.shape.length-1),k=(0,f.l)(x,[b,n-b],x.shape.length-1),A=g.shape.slice();return A[g.shape.length-1]=b,(0,c.t)((0,i.f)(_[0],k[0]),A)}const m=(0,s.op)({rfft_:g})},6512:function(t,e,n){"use strict";n.d(e,{l:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t,e,n=0){const a=(0,o.YT)(t,"x","split"),s={x:a},u={numOrSizeSplits:e,axis:n};return r.T2.runKernel(i.Blb,s,u)}const u=(0,a.op)({split_:s})},9348:function(t,e,n){"use strict";n.d(e,{R:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","sqrt","float32"),n={x:e};return r.T2.runKernel(i.dFH,n)}const u=(0,a.op)({sqrt_:s})},5793:function(t,e,n){"use strict";n.d(e,{E:function(){return s}});var r=n(7260),i=n(8189),o=n(929);
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function a(t){const e=(0,i.YT)(t,"x","square"),n={};return r.T2.runKernel("Square",{x:e},n)}const s=(0,o.op)({square_:a})},3427:function(t,e,n){"use strict";n.d(e,{P:function(){return l}});var r=n(7260),i=n(5441),o=n(565),a=n(8189),s=n(2198),u=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function c(t,e){let n=(0,a.YT)(t,"a","squaredDifference"),u=(0,a.YT)(e,"b","squaredDifference");[n,u]=(0,o.makeTypesMatch)(n,u),(0,s.assertAndGetBroadcastShape)(n.shape,u.shape);const c={a:n,b:u},l={};return r.T2.runKernel(i.Ddj,c,l)}const l=(0,u.op)({squaredDifference_:c})},5932:function(t,e,n){"use strict";n.d(e,{r:function(){return u}});var r=n(8189),i=n(5119),o=n(929),a=n(2302);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t,e){const n=(0,r.YT)(t,"x","squeeze","string_or_numeric");return(0,a.t)(n,(0,i.gx)(n.shape,e).newShape)}const u=(0,o.op)({squeeze_:s})},4268:function(t,e,n){"use strict";n.d(e,{t:function(){return c}});var r=n(7260),i=n(5441),o=n(8189),a=n(5119),s=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function u(t,e=0){const n=(0,o.j1)(t,"tensors","stack","string_or_numeric");a.vA(n.length>=1,(()=>"Pass at least one tensor to tf.stack")),n.length>0&&a.vA(e<=n[0].rank,(()=>"Axis must be <= rank of the tensor"));const s=n,u={axis:e};return r.T2.runKernel(i.mM$,s,u)}const c=(0,s.op)({stack_:u})},700:function(t,e,n){"use strict";n.d(e,{P:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t,e=0){const n=(0,o.YT)(t,"x","step"),a={x:n},s={alpha:e};return r.T2.runKernel(i.pnw,a,s)}const u=(0,a.op)({step_:s})},5894:function(t,e,n){"use strict";n.d(e,{Y:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t,e,n,a,s=0,u=0,c=0,l=0,f=0){const h=(0,o.YT)(t,"x","stridedSlice","string_or_numeric"),d={x:h},p={begin:e,end:n,strides:a,beginMask:s,endMask:u,ellipsisMask:c,newAxisMask:l,shrinkAxisMask:f};return r.T2.runKernel(i.UcO,d,p)}const u=(0,a.op)({stridedSlice_:s})},7126:function(t,e,n){"use strict";n.d(e,{j:function(){return c}});var r=n(7260),i=n(5441),o=n(565),a=n(8189),s=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function u(t,e){let n=(0,a.YT)(t,"a","sub"),s=(0,a.YT)(e,"b","sub");[n,s]=(0,o.makeTypesMatch)(n,s);const u={a:n,b:s};return r.T2.runKernel(i.PbM,u)}const c=(0,s.op)({sub_:u})},3791:function(t,e,n){"use strict";n.d(e,{c:function(){return c}});var r=n(7260),i=n(5441),o=n(8189),a=n(9809),s=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function u(t,e=null,n=!1){let s=(0,o.YT)(t,"x","sum");"bool"===s.dtype&&(s=(0,a.w)(s,"int32"));const u={x:s},c={axis:e,keepDims:n};return r.T2.runKernel(i.WuN,u,c)}const c=(0,s.op)({sum_:u})},7823:function(t,e,n){"use strict";n.d(e,{M:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","tan","float32"),n={x:e};return r.T2.runKernel(i.oFs,n)}const u=(0,a.op)({tan_:s})},7311:function(t,e,n){"use strict";n.d(e,{y:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","tanh","float32"),n={x:e};return r.T2.runKernel(i.iuW,n)}const u=(0,a.op)({tanh_:s})},9171:function(t,e,n){"use strict";n.d(e,{Q:function(){return s}});var r=n(7260),i=n(2046),o=n(5119),a=n(1259);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t,e,n,s){if(null==s)s=(0,o.X$)(t);else if("complex64"===s)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if((0,i.Nw)(t)||(0,i.Oj)(t)){if("float32"!==s&&"int32"!==s)throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${s}.`);return r.T2.backend.createTensorFromGPUData(t,e||n,s)}if(!(0,a.isTypedArray)(t)&&!Array.isArray(t)&&"number"!==typeof t&&"boolean"!==typeof t&&"string"!==typeof t)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=e){(0,o.SA)(e);const t=(0,o.Ze)(e),r=(0,o.Ze)(n);(0,o.vA)(t===r,(()=>`Based on the provided shape, [${e}], the tensor should have ${t} values but has ${r}`));for(let i=0;i<n.length;++i){const t=n[i],r=i!==n.length-1||t!==(0,o.Ze)(e.slice(i));(0,o.vA)(n[i]===e[i]||!r,(()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${e}). `))}}return(0,a.isTypedArray)(t)||Array.isArray(t)||(t=[t]),e=e||n,t="string"!==s?(0,a.toTypedArray)(t,s):(0,a.flatten)(t,[],!0),r.T2.makeTensor(t,e,s)}},4826:function(t,e,n){"use strict";n.d(e,{V:function(){return c}});var r=n(7260),i=n(5441),o=n(8189),a=n(5119),s=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function u(t,e){const n=(0,o.YT)(t,"x","tile","string_or_numeric");a.vA(n.rank===e.length,(()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${e}.`));const s={x:n},u={reps:e};return r.T2.runKernel(i.FAs,s,u)}const c=(0,s.op)({tile_:u})},1190:function(t,e,n){"use strict";n.d(e,{r:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t,e=1,n=!0){const a=(0,o.YT)(t,"x","topk");if(0===a.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const s=a.shape[a.shape.length-1];if(e<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${e}`);if(e>s)throw new Error(`'k' passed to topk() must be <= the last dimension (${s}) but got ${e}`);const u={x:a},c={k:e,sorted:n},[l,f]=r.T2.runKernel(i.TBb,u,c);return{values:l,indices:f}}const u=(0,a.op)({topk_:s})},7703:function(t,e,n){"use strict";n.d(e,{m:function(){return p}});var r=n(7260),i=n(5287),o=n(5441),a=n(8189),s=n(5119),u=n(7148),c=n(5040),l=n(6522),f=n(929),h=n(1902);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function d(t,e,n){const f=(0,a.YT)(t,"x","transpose");if(null==e&&(e=f.shape.map(((t,e)=>e)).reverse()),s.vA(f.rank===e.length,(()=>`Error in transpose: rank of input ${f.rank} must match length of perm ${e}.`)),e.forEach((t=>{s.vA(t>=0&&t<f.rank,(()=>"All entries in 'perm' must be between 0 and "+(f.rank-1)+` but got ${e}`))})),f.rank<=1)return f.clone();const d={x:f},p={perm:e};return"complex64"===f.dtype?(0,i.DZ)((()=>{let t=(0,h.x)(f),e=(0,c.n)(f);return t=r.T2.runKernel(o.wx0,{x:t},p),e=r.T2.runKernel(o.wx0,{x:e},p),n&&(e=(0,l.H)(e)),(0,u.f)(t,e)})):r.T2.runKernel(o.wx0,d,p)}const p=(0,f.op)({transpose_:d})},3937:function(t,e,n){"use strict";n.d(e,{A:function(){return c}});var r=n(7260),i=n(5441),o=n(8189),a=n(5119),s=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function u(t,e=0){const n=(0,o.YT)(t,"x","unique","string_or_numeric");(0,a.vA)(n.rank>0,(()=>"The input tensor must be at least 1D"));const s={x:n},u={axis:e},[c,l]=r.T2.runKernel(i.EwU,s,u);return{values:c,indices:l}}const c=(0,s.op)({unique_:u})},7706:function(t,e,n){"use strict";n.d(e,{z:function(){return c}});var r=n(7260),i=n(5441),o=n(8189),a=n(5119),s=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function u(t,e,n){const s=(0,o.YT)(t,"x","unsortedSegmentSum"),u=(0,o.YT)(e,"segmentIds","unsortedSegmentSum","int32");(0,a.vA)((0,a.E6)(n),(()=>"numSegments must be of dtype int"));const c={x:s,segmentIds:u},l={numSegments:n};return r.T2.runKernel(i.pPe,c,l)}const c=(0,s.op)({unsortedSegmentSum_:u})},7261:function(t,e,n){"use strict";n.d(e,{K:function(){return c}});var r=n(7260),i=n(5441),o=n(8189),a=n(5119),s=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function u(t,e=0){const n=(0,o.YT)(t,"x","unstack","string_or_numeric");a.vA(e>=-n.shape.length&&e<n.shape.length,(()=>`Axis = ${e} is not in [-${n.shape.length}, ${n.shape.length})`));const s={value:n},u={axis:e};return r.T2.runKernel(i.dXR,s,u)}const c=(0,s.op)({unstack_:u})},2151:function(t,e,n){"use strict";n.d(e,{_:function(){return l}});var r=n(7260),i=n(5441),o=n(8189),a=n(3567),s=n(2198),u=n(929);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function c(t,e,n){const u=(0,o.YT)(e,"a","where"),c=(0,o.YT)(n,"b","where"),l=(0,o.YT)(t,"condition","where","bool"),f=(0,s.assertAndGetBroadcastShape)((0,s.assertAndGetBroadcastShape)(l.shape,u.shape),c.shape),h=(0,a.h)(l,f),d=(0,a.h)(u,f),p=(0,a.h)(c,f),g={condition:h,t:d,e:p};return r.T2.runKernel(i.l6P,g)}const l=(0,u.op)({where_:c})},2855:function(t,e,n){"use strict";n.d(e,{U:function(){return a}});var r=n(7260),i=n(5119),o=n(7148);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function a(t,e="float32"){if((0,i.SA)(t),"complex64"===e){const e=a(t,"float32"),n=a(t,"float32");return(0,o.f)(e,n)}const n=(0,i.Ty)((0,i.Ze)(t),e);return r.T2.makeTensor(n,t,e)}},5537:function(t,e,n){"use strict";n.d(e,{P:function(){return u}});var r=n(7260),i=n(5441),o=n(8189),a=n(929);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(t){const e=(0,o.YT)(t,"x","zerosLike"),n={x:e};return r.T2.runKernel(i.xJ3,n)}const u=(0,a.op)({zerosLike_:s})},6448:function(t,e,n){"use strict";
/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function r(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray}n.d(e,{Y:function(){return r}})},6542:function(t,e,n){"use strict";var r=n(4888),i=n(1722);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.abs=function(){return this.throwIfDisposed(),(0,r.t)(this)};var o=n(2804);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.acos=function(){return this.throwIfDisposed(),(0,o.H)(this)};var a=n(7558);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.acosh=function(){return this.throwIfDisposed(),(0,a.F)(this)};var s=n(7523);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.add=function(t){return this.throwIfDisposed(),(0,s.W)(this,t)};var u=n(2307);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.all=function(t,e){return this.throwIfDisposed(),(0,u.Q)(this,t,e)};var c=n(9326);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.any=function(t,e){return this.throwIfDisposed(),(0,c.b)(this,t,e)};var l=n(897);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.argMax=function(t){return this.throwIfDisposed(),(0,l.F)(this,t)};var f=n(4339);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.argMin=function(t){return this.throwIfDisposed(),(0,f.X)(this,t)};var h=n(2302),d=n(5119);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.asScalar=function(){return this.throwIfDisposed(),(0,d.vA)(1===this.size,(()=>"The array must have only 1 element.")),(0,h.t)(this,[])};var p=n(9809);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.asType=function(t){return this.throwIfDisposed(),(0,p.w)(this,t)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.as1D=function(){return this.throwIfDisposed(),(0,h.t)(this,[this.size])},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.as2D=function(t,e){return this.throwIfDisposed(),(0,h.t)(this,[t,e])},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.as3D=function(t,e,n){return this.throwIfDisposed(),(0,h.t)(this,[t,e,n])},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.as4D=function(t,e,n,r){return this.throwIfDisposed(),(0,h.t)(this,[t,e,n,r])},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.as5D=function(t,e,n,r,i){return this.throwIfDisposed(),(0,h.t)(this,[t,e,n,r,i])};var g=n(6841);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.asin=function(){return this.throwIfDisposed(),(0,g.q)(this)};var m=n(269);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.asinh=function(){return this.throwIfDisposed(),(0,m.y)(this)};var v=n(9580);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.atan=function(){return this.throwIfDisposed(),(0,v.r)(this)};var y=n(1404);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.atan2=function(t){return this.throwIfDisposed(),(0,y.F)(this,t)};var b=n(3774);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.atanh=function(){return this.throwIfDisposed(),(0,b.r)(this)};var w=n(3909);(0,i.tp)().prototype.avgPool=function(t,e,n,r){return this.throwIfDisposed(),(0,w.$)(this,t,e,n,r)};var x=n(9772);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.batchToSpaceND=function(t,e){return this.throwIfDisposed(),(0,x.G)(this,t,e)};var _=n(251);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.batchNorm=function(t,e,n,r,i){return this.throwIfDisposed(),(0,_.$)(this,t,e,n,r,i)};var k=n(3567);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.broadcastTo=function(t){return this.throwIfDisposed(),(0,k.h)(this,t)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.cast=function(t){return this.throwIfDisposed(),(0,p.w)(this,t)};var A=n(855);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.ceil=function(){return this.throwIfDisposed(),(0,A.m)(this)};var S=n(6928);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.clipByValue=function(t,e){return this.throwIfDisposed(),(0,S.z)(this,t,e)};var C=n(5030);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.concat=function(t,e){return this.throwIfDisposed(),t instanceof i.qY&&(t=[t]),(0,C.x)([this,...t],e)};var E=n(3701);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.conv1d=function(t,e,n,r,i,o){return this.throwIfDisposed(),(0,E.k)(this,t,e,n,r,i,o)};var D=n(1106);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.conv2dTranspose=function(t,e,n,r,i){return this.throwIfDisposed(),(0,D.w)(this,t,e,n,r,i)};var M=n(8794);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.conv2d=function(t,e,n,r,i,o){return this.throwIfDisposed(),(0,M.X)(this,t,e,n,r,i,o)};var T=n(9907);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.cos=function(){return this.throwIfDisposed(),(0,T.g)(this)};var F=n(7451);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.cosh=function(){return this.throwIfDisposed(),(0,F.y)(this)};var O=n(302);
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.cumprod=function(t,e,n){return this.throwIfDisposed(),(0,O.L)(this,t,e,n)};var $=n(6808);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.cumsum=function(t,e,n){return this.throwIfDisposed(),(0,$.r)(this,t,e,n)};var N=n(1216);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.depthToSpace=function(t,e){return this.throwIfDisposed(),(0,N.R)(this,t,e)};var B=n(676);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.depthwiseConv2d=function(t,e,n,r,i,o){return this.throwIfDisposed(),(0,B.G)(this,t,e,n,r,i,o)};var R=n(3002);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.dilation2d=function(t,e,n,r,i){return this.throwIfDisposed(),(0,R.X)(this,t,e,n,r,i)};var P=n(919);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.divNoNan=function(t){return this.throwIfDisposed(),(0,P.e)(this,t)};var I=n(9359);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.div=function(t){return this.throwIfDisposed(),(0,I.y)(this,t)};var j=n(9759);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.dot=function(t){return this.throwIfDisposed(),(0,j.O)(this,t)};var L=n(3416);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.elu=function(){return this.throwIfDisposed(),(0,L.P)(this)};var z=n(3020);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.equal=function(t){return this.throwIfDisposed(),(0,z.L)(this,t)};var U=n(5207);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.erf=function(){return this.throwIfDisposed(),(0,U.Y)(this)};var q=n(4881);
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.euclideanNorm=function(t,e){return this.throwIfDisposed(),(0,q.p)(this,t,e)};var V=n(8631);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.exp=function(){return this.throwIfDisposed(),(0,V.o)(this)};var H=n(8710);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.expandDims=function(t){return this.throwIfDisposed(),(0,H.U)(this,t)};var W=n(517);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.expm1=function(){return this.throwIfDisposed(),(0,W.I)(this)};var Y=n(1361);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.fft=function(){return this.throwIfDisposed(),(0,Y.h)(this)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.flatten=function(){return this.throwIfDisposed(),(0,h.t)(this,[this.size])};var G=n(5606);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.floor=function(){return this.throwIfDisposed(),(0,G.R)(this)};var K=n(8991);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.floorDiv=function(t){return this.throwIfDisposed(),(0,K.w)(this,t)};var X=n(8229);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.gather=function(t,e,n){return this.throwIfDisposed(),(0,X.k)(this,t,e,n)};var J=n(3337);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.greaterEqual=function(t){return this.throwIfDisposed(),(0,J.D)(this,t)};var Z=n(2058);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.greater=function(t){return this.throwIfDisposed(),(0,Z.r)(this,t)};var Q=n(3108);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.ifft=function(){return this.throwIfDisposed(),(0,Q.K)(this)};var tt=n(2292);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.irfft=function(){return this.throwIfDisposed(),(0,tt.g)(this)};var et=n(8318);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.isFinite=function(){return this.throwIfDisposed(),(0,et.M)(this)};var nt=n(3454);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.isInf=function(){return this.throwIfDisposed(),(0,nt.E)(this)};var rt=n(6300);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.isNaN=function(){return this.throwIfDisposed(),(0,rt.y)(this)};var it=n(6919);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.leakyRelu=function(t){return this.throwIfDisposed(),(0,it.H)(this,t)};var ot=n(6508);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.lessEqual=function(t){return this.throwIfDisposed(),(0,ot.I)(this,t)};var at=n(1303);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.less=function(t){return this.throwIfDisposed(),(0,at.M)(this,t)};var st=n(3531);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.localResponseNormalization=function(t,e,n,r){return this.throwIfDisposed(),(0,st.K)(this,t,e,n,r)};var ut=n(5645);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.logSigmoid=function(){return this.throwIfDisposed(),(0,ut.n)(this)};var ct=n(7991);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.logSoftmax=function(t){return this.throwIfDisposed(),(0,ct.H)(this,t)};var lt=n(3330);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.logSumExp=function(t,e){return this.throwIfDisposed(),(0,lt.V)(this,t,e)};var ft=n(4010);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.log=function(){return this.throwIfDisposed(),(0,ft.R)(this)};var ht=n(2015);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.log1p=function(){return this.throwIfDisposed(),(0,ht.K)(this)};var dt=n(6170);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.logicalAnd=function(t){return this.throwIfDisposed(),(0,dt.n)(this,t)};var pt=n(9881);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.logicalNot=function(){return this.throwIfDisposed(),(0,pt.N)(this)};var gt=n(9879);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.logicalOr=function(t){return this.throwIfDisposed(),(0,gt.z)(this,t)};var mt=n(9925);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.logicalXor=function(t){return this.throwIfDisposed(),(0,mt.r)(this,t)};var vt=n(5703);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.matMul=function(t,e,n){return this.throwIfDisposed(),(0,vt.N)(this,t,e,n)};var yt=n(6999);(0,i.tp)().prototype.maxPool=function(t,e,n,r){return this.throwIfDisposed(),(0,yt.j)(this,t,e,n,r)};var bt=n(1938);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.max=function(t,e){return this.throwIfDisposed(),(0,bt.T)(this,t,e)};var wt=n(178);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.maximum=function(t){return this.throwIfDisposed(),(0,wt.P)(this,t)};var xt=n(2611);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.mean=function(t,e){return this.throwIfDisposed(),(0,xt.i)(this,t,e)};var _t=n(7436);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.min=function(t,e){return this.throwIfDisposed(),(0,_t.j)(this,t,e)};var kt=n(2644);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.minimum=function(t){return this.throwIfDisposed(),(0,kt.B)(this,t)};var At=n(6567);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.mirrorPad=function(t,e){return this.throwIfDisposed(),(0,At.F)(this,t,e)};var St=n(152);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.mod=function(t){return this.throwIfDisposed(),(0,St.z)(this,t)};var Ct=n(9258);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.mul=function(t){return this.throwIfDisposed(),(0,Ct.l)(this,t)};var Et=n(6522);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.neg=function(){return this.throwIfDisposed(),(0,Et.H)(this)};var Dt=n(2596);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.norm=function(t,e,n){return this.throwIfDisposed(),(0,Dt.x)(this,t,e,n)};var Mt=n(2118);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.notEqual=function(t){return this.throwIfDisposed(),(0,Mt.E)(this,t)};var Tt=n(1760);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.oneHot=function(t,e=1,n=0){return this.throwIfDisposed(),(0,Tt.M)(this,t,e,n)};var Ft=n(9885);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.onesLike=function(){return this.throwIfDisposed(),(0,Ft.P)(this)};var Ot=n(5661);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.pad=function(t,e){return this.throwIfDisposed(),(0,Ot.e)(this,t,e)};var $t=n(7872);(0,i.tp)().prototype.pool=function(t,e,n,r,i,o){return this.throwIfDisposed(),(0,$t.d)(this,t,e,n,r,i,o)};var Nt=n(8990);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.pow=function(t){return this.throwIfDisposed(),(0,Nt.n)(this,t)};var Bt=n(4394);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.prelu=function(t){return this.throwIfDisposed(),(0,Bt.N)(this,t)};var Rt=n(7771);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.prod=function(t,e){return this.throwIfDisposed(),(0,Rt._)(this,t,e)};var Pt=n(9870);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.reciprocal=function(){return this.throwIfDisposed(),(0,Pt.V)(this)};var It=n(112);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.relu=function(){return this.throwIfDisposed(),(0,It.V)(this)};var jt=n(3732);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.relu6=function(){return this.throwIfDisposed(),(0,jt.j)(this)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.reshapeAs=function(t){return this.throwIfDisposed(),(0,h.t)(this,t.shape)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.reshape=function(t){return this.throwIfDisposed(),(0,h.t)(this,t)};var Lt=n(4711);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.resizeBilinear=function(t,e,n){return this.throwIfDisposed(),(0,Lt.v)(this,t,e,n)};var zt=n(2954);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.resizeNearestNeighbor=function(t,e,n){return this.throwIfDisposed(),(0,zt.b)(this,t,e,n)};var Ut=n(3262);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.reverse=function(t){return this.throwIfDisposed(),(0,Ut.B)(this,t)};var qt=n(8775);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.rfft=function(){return this.throwIfDisposed(),(0,qt.z)(this)};var Vt=n(5912);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.round=function(){return this.throwIfDisposed(),(0,Vt.L)(this)};var Ht=n(7820);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.rsqrt=function(){return this.throwIfDisposed(),(0,Ht.Z)(this)};var Wt=n(6325);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.selu=function(){return this.throwIfDisposed(),(0,Wt.W)(this)};var Yt=n(9986);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.separableConv2d=function(t,e,n,r,i,o){return this.throwIfDisposed(),(0,Yt.w)(this,t,e,n,r,i,o)};var Gt=n(8968);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.sigmoid=function(){return this.throwIfDisposed(),(0,Gt.r)(this)};var Kt=n(1115);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.sign=function(){return this.throwIfDisposed(),(0,Kt._)(this)};var Xt=n(3726);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.sin=function(){return this.throwIfDisposed(),(0,Xt.F)(this)};var Jt=n(8276);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.sinh=function(){return this.throwIfDisposed(),(0,Jt.L)(this)};var Zt=n(7986);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.slice=function(t,e){return this.throwIfDisposed(),(0,Zt.d)(this,t,e)};var Qt=n(6346);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.softmax=function(t){return this.throwIfDisposed(),(0,Qt.V)(this,t)};var te=n(6030);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.softplus=function(){return this.throwIfDisposed(),(0,te.l)(this)};var ee=n(776);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.spaceToBatchND=function(t,e){return this.throwIfDisposed(),(0,ee.e)(this,t,e)};var ne=n(6512);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.split=function(t,e){return this.throwIfDisposed(),(0,ne.l)(this,t,e)};var re=n(9348);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.sqrt=function(){return this.throwIfDisposed(),(0,re.R)(this)};var ie=n(5793);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.square=function(){return this.throwIfDisposed(),(0,ie.E)(this)};var oe=n(3427);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.squaredDifference=function(t){return this.throwIfDisposed(),(0,oe.P)(this,t)};var ae=n(5932);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.squeeze=function(t){return this.throwIfDisposed(),(0,ae.r)(this,t)};var se=n(4268);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.stack=function(t,e){this.throwIfDisposed();const n=t instanceof i.qY?[this,t]:[this,...t];return(0,se.t)(n,e)};var ue=n(700);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.step=function(t){return this.throwIfDisposed(),(0,ue.P)(this,t)};var ce=n(5894);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.stridedSlice=function(t,e,n,r,i,o,a,s){return this.throwIfDisposed(),(0,ce.Y)(this,t,e,n,r,i,o,a,s)};var le=n(7126);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.sub=function(t){return this.throwIfDisposed(),(0,le.j)(this,t)};var fe=n(3791);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.sum=function(t,e){return this.throwIfDisposed(),(0,fe.c)(this,t,e)};var he=n(7823);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.tan=function(){return this.throwIfDisposed(),(0,he.M)(this)};var de=n(7311);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.tanh=function(){return this.throwIfDisposed(),(0,de.y)(this)};var pe=n(4826);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.tile=function(t){return this.throwIfDisposed(),(0,pe.V)(this,t)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.toBool=function(){return this.throwIfDisposed(),(0,p.w)(this,"bool")},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.toFloat=function(){return this.throwIfDisposed(),(0,p.w)(this,"float32")},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.toInt=function(){return this.throwIfDisposed(),(0,p.w)(this,"int32")};var ge=n(1190);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.topk=function(t,e){return this.throwIfDisposed(),(0,ge.r)(this,t,e)};var me=n(7703);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.transpose=function(t){return this.throwIfDisposed(),(0,me.m)(this,t)};var ve=n(3937);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.unique=function(t){return this.throwIfDisposed(),(0,ve.A)(this,t)};var ye=n(7706);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.unsortedSegmentSum=function(t,e){return this.throwIfDisposed(),(0,ye.z)(this,t,e)};var be=n(7261);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.unstack=function(t){return this.throwIfDisposed(),(0,be.K)(this,t)};var we=n(2151);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.where=function(t,e){return this.throwIfDisposed(),(0,we._)(t,this,e)};var xe=n(5537);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
(0,i.tp)().prototype.zerosLike=function(){return this.throwIfDisposed(),(0,xe.P)(this)}},1722:function(t,e,n){"use strict";n.d(e,{qY:function(){return _},yl:function(){return g},rT:function(){return A},tp:function(){return k},B4:function(){return x},Q5:function(){return w},qP:function(){return b}});var r=n(1743),i=n(5119);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const o=20,a=3,s=7;function u(t,e,n,r){const o=(0,i.Ur)(e),a=c(t,e,n,o),s=e.length,u=h(t,e,n,o,a),l=["Tensor"];return r&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${s}`),l.push(`  shape: [${e}]`),l.push("  values:")),l.push(u.map((t=>"    "+t)).join("\n")),l.join("\n")}function c(t,e,n,r){const o=(0,i.Ze)(e),a=r[r.length-1],s=new Array(a).fill(0),u=e.length,c="complex64"===n?d(t):t;if(u>1)for(let i=0;i<o/a;i++){const t=i*a;for(let e=0;e<a;e++)s[e]=Math.max(s[e],l(c[t+e],0,n).length)}return s}function l(t,e,n){let r;return r=Array.isArray(t)?`${parseFloat(t[0].toFixed(s))} + ${parseFloat(t[1].toFixed(s))}j`:(0,i.Kg)(t)?`'${t}'`:"bool"===n?f(t):parseFloat(t.toFixed(s)).toString(),(0,i.av)(r,e)}function f(t){return 0===t?"false":"true"}function h(t,e,n,r,i,s=!0){const u="complex64"===n?2:1,c=e[0],p=e.length;if(0===p){if("complex64"===n){const e=d(t);return[l(e[0],0,n)]}return"bool"===n?[f(t[0])]:[t[0].toString()]}if(1===p){if(c>o){const e=a*u;let r=Array.from(t.slice(0,e)),o=Array.from(t.slice((c-a)*u,c*u));return"complex64"===n&&(r=d(r),o=d(o)),["["+r.map(((t,e)=>l(t,i[e],n))).join(", ")+", ..., "+o.map(((t,e)=>l(t,i[c-a+e],n))).join(", ")+"]"]}const e="complex64"===n?d(t):Array.from(t);return["["+e.map(((t,e)=>l(t,i[e],n))).join(", ")+"]"]}const g=e.slice(1),m=r.slice(1),v=r[0]*u,y=[];if(c>o){for(let e=0;e<a;e++){const r=e*v,o=r+v;y.push(...h(t.slice(r,o),g,n,m,i,!1))}y.push("...");for(let e=c-a;e<c;e++){const r=e*v,o=r+v;y.push(...h(t.slice(r,o),g,n,m,i,e===c-1))}}else for(let o=0;o<c;o++){const e=o*v,r=e+v;y.push(...h(t.slice(e,r),g,n,m,i,o===c-1))}const b=2===p?",":"";y[0]="["+(c>0?y[0]+b:"");for(let o=1;o<y.length-1;o++)y[o]=" "+y[o]+b;let w=",\n";for(let o=2;o<p;o++)w+="\n";return y[y.length-1]=" "+y[y.length-1]+"]"+(s?"":w),y}function d(t){const e=[];for(let n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}var p=n(1259);
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class g{constructor(t,e,n){if(this.dtype=e,this.shape=t.slice(),this.size=i.Ze(t),null!=n){const t=n.length;i.vA(t===this.size,(()=>`Length of values '${t}' does not match the size inferred by the shape '${this.size}'.`))}if("complex64"===e)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||i.Ab(e,this.size),this.strides=(0,i.Ur)(t)}set(t,...e){0===e.length&&(e=[0]),i.vA(e.length===this.rank,(()=>`The number of provided coordinates (${e.length}) must match the rank (${this.rank})`));const n=this.locToIndex(e);this.values[n]=t}get(...t){0===t.length&&(t=[0]);let e=0;for(const r of t){if(r<0||r>=this.shape[e]){const e=`Requested out of range element at ${t}.   Buffer shape=${this.shape}`;throw new Error(e)}e++}let n=t[t.length-1];for(let r=0;r<t.length-1;++r)n+=this.strides[r]*t[r];return this.values[n]}locToIndex(t){if(0===this.rank)return 0;if(1===this.rank)return t[0];let e=t[t.length-1];for(let n=0;n<t.length-1;++n)e+=this.strides[n]*t[n];return e}indexToLoc(t){if(0===this.rank)return[];if(1===this.rank)return[t];const e=new Array(this.shape.length);for(let n=0;n<e.length-1;++n)e[n]=Math.floor(t/this.strides[n]),t-=e[n]*this.strides[n];return e[e.length-1]=t,e}get rank(){return this.shape.length}toTensor(){return m().makeTensor(this.values,this.shape,this.dtype)}}let m=null,v=null,y=null;function b(t){m=t}function w(t){v=t}function x(t){y=t}class _{constructor(t,e,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=e||"float32",this.size=i.Ze(t),this.strides=(0,i.Ur)(t),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const t=await this.data();return v.buffer(this.shape,this.dtype,t)}bufferSync(){return v.buffer(this.shape,this.dtype,this.dataSync())}async array(){const t=await this.data();return(0,i.yw)(this.shape,t,"complex64"===this.dtype)}arraySync(){return(0,i.yw)(this.shape,this.dataSync(),"complex64"===this.dtype)}async data(){this.throwIfDisposed();const t=m().read(this.dataId);if("string"===this.dtype){const n=await t;try{return n.map((t=>p.decodeString(t)))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return t}dataToGPU(t){return this.throwIfDisposed(),m().readToGPU(this.dataId,t)}dataSync(){this.throwIfDisposed();const t=m().readSync(this.dataId);if("string"===this.dtype)try{return t.map((t=>p.decodeString(t)))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return t}async bytes(){this.throwIfDisposed();const t=await m().read(this.dataId);return"string"===this.dtype?t:new Uint8Array(t.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),m().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(t=!1){return v.print(this,t)}clone(){return this.throwIfDisposed(),v.clone(this)}toString(t=!1){const e=this.dataSync();return u(e,this.shape,this.dtype,t)}cast(t){return this.throwIfDisposed(),v.cast(this,t)}variable(t=!0,e,n){return this.throwIfDisposed(),m().makeVariable(this,t,e,n)}}function k(){return(0,r.m)("Tensor",(()=>_))}Object.defineProperty(_,Symbol.hasInstance,{value:t=>!!t&&null!=t.data&&null!=t.dataSync&&null!=t.throwIfDisposed}),k();class A extends _{constructor(t,e,n,r){super(t.shape,t.dtype,t.dataId,r),this.trainable=e,this.name=n}assign(t){if(t.dtype!==this.dtype)throw new Error(`dtype of the new value (${t.dtype}) and previous value (${this.dtype}) must match`);if(!i.r1(t.shape,this.shape))throw new Error(`shape of the new value (${t.shape}) and previous value (${this.shape}) must match`);m().disposeTensor(this),this.dataId=t.dataId,m().incRef(this,null)}dispose(){m().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(A,Symbol.hasInstance,{value:t=>t instanceof _&&null!=t.assign&&t.assign instanceof Function})},565:function(t,e,n){"use strict";n.r(e),n.d(e,{assertTypesMatch:function(){return s},getTensorsInContainer:function(){return c},isTensorInList:function(){return u},makeTypesMatch:function(){return a}});var r=n(1722),i=n(2046),o=n(5119);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function a(t,e){if(t.dtype===e.dtype)return[t,e];const n=(0,i.Tu)(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}function s(t,e){(0,o.vA)(t.dtype===e.dtype,(()=>`The dtypes of the first(${t.dtype}) and second(${e.dtype}) input must match`))}function u(t,e){return e.some((e=>e.id===t.id))}function c(t){const e=[],n=new Set;return l(t,e,n),e}function l(t,e,n){if(null==t)return;if(t instanceof r.qY)return void e.push(t);if(!f(t))return;const i=t;for(const r in i){const t=i[r];n.has(t)||(n.add(t),l(t,e,n))}}function f(t){return Array.isArray(t)||"object"===typeof t}},8189:function(t,e,n){"use strict";n.d(e,{MZ:function(){return c},YT:function(){return h},j1:function(){return d}});var r=n(7260),i=n(6574),o=n(1722),a=n(2046),s=n(1259),u=n(5119);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function c(t,e){let n=t;if((0,s.isTypedArray)(t))return"string"===e?[]:[t.length];if((0,a.Oj)(t)){const e=t.channels||"RGBA";return[t.height,t.width*e.length]}if((0,a.Nw)(t))return[t.buffer.size/(null==e?4:(0,u.jv)(e))];if(!Array.isArray(t))return[];const r=[];while(Array.isArray(n)||(0,s.isTypedArray)(n)&&"string"!==e)r.push(n.length),n=n[0];return Array.isArray(t)&&(0,i._K)().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&l(t,r,[]),r}function l(t,e,n){if(n=n||[],!Array.isArray(t)&&!(0,s.isTypedArray)(t))return void(0,u.vA)(0===e.length,(()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${e[0]} elements`));(0,u.vA)(e.length>0,(()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${t.length} elements`)),(0,u.vA)(t.length===e[0],(()=>`Element arr[${n.join("][")}] should have ${e[0]} elements, but has ${t.length} elements`));const r=e.slice(1);for(let i=0;i<t.length;++i)l(t[i],r,n.concat(i))}function f(t,e,n,r){if("string_or_numeric"!==t){if(null==t)throw new Error("Expected dtype cannot be null.");if("numeric"!==t&&t!==e||"numeric"===t&&"string"===e)throw new Error(`Argument '${n}' passed to '${r}' must be ${t} tensor, but got ${e} tensor`)}}function h(t,e,n,i="numeric"){if(t instanceof(0,o.tp)())return f(i,t.dtype,e,n),t;let a=(0,u.X$)(t);if("string"!==a&&["bool","int32","float32"].indexOf(i)>=0&&(a=i),f(i,a,e,n),null==t||!(0,s.isTypedArray)(t)&&!Array.isArray(t)&&"number"!==typeof t&&"boolean"!==typeof t&&"string"!==typeof t){const r=null==t?"null":t.constructor.name;throw new Error(`Argument '${e}' passed to '${n}' must be a Tensor or TensorLike, but got '${r}'`)}const l=c(t,a);(0,s.isTypedArray)(t)||Array.isArray(t)||(t=[t]);const h=!0,d="string"!==a?(0,s.toTypedArray)(t,a):(0,s.flatten)(t,[],h);return r.T2.makeTensor(d,l,a)}function d(t,e,n,r="numeric"){if(!Array.isArray(t))throw new Error(`Argument ${e} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);const i=t;return i.map(((t,i)=>h(t,`${e}[${i}]`,n,r)))}},2046:function(t,e,n){"use strict";
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
var r,i,o,a,s;n.d(e,{Nw:function(){return h},Oj:function(){return f},Tu:function(){return c},ch:function(){return l},rg:function(){return r}}),function(t){t["R0"]="R0",t["R1"]="R1",t["R2"]="R2",t["R3"]="R3",t["R4"]="R4",t["R5"]="R5",t["R6"]="R6"}(r||(r={})),function(t){t["float32"]="float32",t["int32"]="int32",t["bool"]="int32",t["complex64"]="complex64"}(i||(i={})),function(t){t["float32"]="float32",t["int32"]="int32",t["bool"]="bool",t["complex64"]="complex64"}(o||(o={})),function(t){t["float32"]="float32",t["int32"]="float32",t["bool"]="float32",t["complex64"]="complex64"}(a||(a={})),function(t){t["float32"]="complex64",t["int32"]="complex64",t["bool"]="complex64",t["complex64"]="complex64"}(s||(s={}));const u={float32:a,int32:i,bool:o,complex64:s};function c(t,e){if("string"===t||"string"===e){if("string"===t&&"string"===e)return"string";throw new Error(`Can not upcast ${t} with ${e}`)}return u[t][e]}function l(t){return c(t,"int32")}function f(t){return null!=t&&"object"===typeof t&&"texture"in t&&t.texture instanceof WebGLTexture}function h(t){return"undefined"!==typeof GPUBuffer&&null!=t&&"object"===typeof t&&"buffer"in t&&t.buffer instanceof GPUBuffer}},1259:function(t,e,n){"use strict";n.r(e),n.d(e,{arraysEqual:function(){return o.r1},arraysEqualWithNull:function(){return o.e_},assert:function(){return o.vA},assertNonNegativeIntegerDimensions:function(){return o.SA},assertNonNull:function(){return o.HO},assertShapesMatch:function(){return o.O3},bytesFromStringArray:function(){return o.SL},bytesPerElement:function(){return o.jv},checkConversionForErrors:function(){return o.nd},clamp:function(){return o.qE},computeStrides:function(){return o.Ur},convertBackendValuesAndArrayBuffer:function(){return o.o2},createScalarValue:function(){return S},createShuffledIndices:function(){return o.P8},decodeString:function(){return F},distSquared:function(){return o.oO},encodeString:function(){return T},fetch:function(){return M},fingerPrint64:function(){return A},flatten:function(){return $},getArrayFromDType:function(){return o.Ab},getTypedArrayFromDType:function(){return o.ce},hasEncodingLoss:function(){return o.BE},hexToLong:function(){return c},indexToLoc:function(){return o._k},inferDtype:function(){return o.X$},inferFromImplicitShape:function(){return o.XT},isBoolean:function(){return o.Lm},isFunction:function(){return o.Tn},isInt:function(){return o.E6},isNumber:function(){return o.Et},isPromise:function(){return o.yL},isScalarShape:function(){return o.Sf},isString:function(){return o.Kg},isTypedArray:function(){return O},isValidDtype:function(){return o.xn},locToIndex:function(){return o.sX},makeOnesTypedArray:function(){return o.FZ},makeZerosNestedTypedArray:function(){return o.c7},makeZerosTypedArray:function(){return o.Ty},nearestDivisor:function(){return o.lK},nearestLargerEven:function(){return o.eV},now:function(){return D},parseAxisParam:function(){return o.Y6},randUniform:function(){return o.so},repeatedTry:function(){return o._q},rightPad:function(){return o.av},shuffle:function(){return o.k4},shuffleCombo:function(){return o.a0},sizeFromShape:function(){return o.Ze},sizeToSquarishShape:function(){return o.gS},squeezeShape:function(){return o.gx},sum:function(){return o.cz},swap:function(){return o.wg},tanh:function(){return o.ym},toNestedArray:function(){return o.yw},toTypedArray:function(){return E}});var r=n(6574),i=n(6448),o=n(5119),a=n(8570),s=n.n(a);
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const u=s()||a;function c(t){return u.fromString(t,!0,16)}const l=c("c3a5c85c97cb3127"),f=c("b492b66fbe98f273"),h=c("9ae16a3b2f90404f");function d(t){return t.xor(t.shru(47))}function p(t,e,n){const r=t.slice(e,e+n);return u.fromBytes(Array.from(r),!0,!0)}function g(t,e){return p(t,e,8)}function m(t,e){return p(t,e,4)}function v(t,e){return 0===e?t:t.shru(e).or(t.shl(64-e))}function y(t,e,n=c("9ddfea08eb382d69")){let r=t.xor(e).mul(n);r=r.xor(r.shru(47));let i=e.xor(r).mul(n);return i=i.xor(i.shru(47)),i=i.mul(n),i}function b(t,e,n,r,i,o){i=i.add(t),o=v(o.add(i).add(r),21);const a=i;return i=i.add(e),i=i.add(n),o=o.add(v(i,44)),[i.add(r),o.add(a)]}function w(t,e,n,r){return b(g(t,e),g(t,e+8),g(t,e+16),g(t,e+24),n,r)}function x(t,e=t.length){if(e>=8){const n=h.add(2*e),r=g(t,0).add(h),i=g(t,e-8),o=v(i,37).mul(n).add(r),a=v(r,25).add(i).mul(n);return y(o,a,n)}if(e>=4){const n=h.add(2*e),r=m(t,0);return y(r.shl(3).add(e),m(t,e-4),n)}if(e>0){const n=t[0],r=t[e>>1],i=t[e-1],o=n+(r<<8),a=e+(i<<2);return d(h.mul(o).xor(l.mul(a))).mul(h)}return h}function _(t,e=t.length){const n=h.add(2*e),r=g(t,0).mul(f),i=g(t,8),o=g(t,e-8).mul(n),a=g(t,e-16).mul(h);return y(v(r.add(i),43).add(v(o,30)).add(a),r.add(v(i.add(h),18)).add(o),n)}function k(t,e=t.length){const n=h.add(2*e),r=g(t,0).mul(h),i=g(t,8),o=g(t,e-8).mul(n),a=g(t,e-16).mul(h),s=v(r.add(i),43).add(v(o,30)).add(a),u=y(s,r.add(v(i.add(h),18)).add(o),n),c=g(t,16).mul(n),l=g(t,24),f=s.add(g(t,e-32)).mul(n),d=u.add(g(t,e-24)).mul(n);return y(v(c.add(l),43).add(v(f,30)).add(d),c.add(v(l.add(r),18)).add(f),n)}function A(t,e=t.length){const n=u.fromNumber(81,!0);if(e<=32)return e<=16?x(t,e):_(t,e);if(e<=64)return k(t,e);let r=n,i=n.mul(f).add(113),o=d(i.mul(h).add(113)).mul(h),a=[u.UZERO,u.UZERO],s=[u.UZERO,u.UZERO];r=r.mul(h).add(g(t,0));let c=0;const p=64*(e-1>>6),m=p+(e-1&63)-63;do{r=v(r.add(i).add(a[0]).add(g(t,c+8)),37).mul(f),i=v(i.add(a[1]).add(g(t,c+48)),42).mul(f),r=r.xor(s[1]),i=i.add(a[0]).add(g(t,c+40)),o=v(o.add(s[0]),33).mul(f),a=w(t,c,a[1].mul(f),r.add(s[0])),s=w(t,c+32,o.add(s[1]),i.add(g(t,c+16))),[o,r]=[r,o],c+=64}while(c!==p);const b=f.add(o.and(255).shl(1));return c=m,s[0]=s[0].add(e-1&63),a[0]=a[0].add(s[0]),s[0]=s[0].add(a[0]),r=v(r.add(i).add(a[0]).add(g(t,c+8)),37).mul(b),i=v(i.add(a[1]).add(g(t,c+48)),42).mul(b),r=r.xor(s[1].mul(9)),i=i.add(a[0].mul(9).add(g(t,c+40))),o=v(o.add(s[0]),33).mul(b),a=w(t,c,a[1].mul(b),r.add(s[0])),s=w(t,c+32,o.add(s[1]),i.add(g(t,c+16))),[o,r]=[r,o],y(y(a[0],s[0],b).add(d(i).mul(l)).add(o),y(a[1],s[1],b).add(r),b)}
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function S(t,e){return"string"===e?T(t):E([t],e)}function C(t,e){return t instanceof Float32Array&&"float32"===e||t instanceof Int32Array&&"int32"===e||t instanceof Uint8Array&&"bool"===e}function E(t,e){if("string"===e)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=$(t)),(0,r._K)().getBool("DEBUG")&&o.nd(t,e),C(t,e))return t;if(null==e||"float32"===e||"complex64"===e)return new Float32Array(t);if("int32"===e)return new Int32Array(t);if("bool"===e){const e=new Uint8Array(t.length);for(let n=0;n<e.length;++n)0!==Math.round(t[n])&&(e[n]=1);return e}throw new Error(`Unknown data type ${e}`)}function D(){return(0,r._K)().platform.now()}function M(t,e){return(0,r._K)().platform.fetch(t,e)}function T(t,e="utf-8"){return e=e||"utf-8",(0,r._K)().platform.encode(t,e)}function F(t,e="utf-8"){return e=e||"utf-8",(0,r._K)().platform.decode(t,e)}function O(t){return null!=(0,r._K)().platform.isTypedArray?(0,r._K)().platform.isTypedArray(t):(0,i.Y)(t)}function $(t,e=[],n=!1){if(null==e&&(e=[]),"boolean"===typeof t||"number"===typeof t||"string"===typeof t||o.yL(t)||null==t||O(t)&&n)e.push(t);else if(Array.isArray(t)||O(t))for(let r=0;r<t.length;++r)$(t[r],e,n);else{let r=-1;for(const e of Object.keys(t))/^([1-9]+[0-9]*|0)$/.test(e)&&(r=Math.max(r,Number(e)));for(let i=0;i<=r;i++)$(t[i],e,n)}return e}},5119:function(t,e,n){"use strict";
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function r(t){let e=t.length,n=0;while(e>0)n=Math.random()*e|0,e--,s(t,e,n)}function i(t,e){if(t.length!==e.length)throw new Error(`Array sizes must match to be shuffled together First array length was ${t.length}Second array length was ${e.length}`);let n=t.length,r=0;while(n>0)r=Math.random()*n|0,n--,s(t,n,r),s(e,n,r)}function o(t,e,n){return Math.max(t,Math.min(e,n))}function a(t){return t%2===0?t:t+1}function s(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function u(t){let e=0;for(let n=0;n<t.length;n++)e+=t[n];return e}function c(t,e){const n=Math.random();return e*n+(1-n)*t}function l(t,e){let n=0;for(let r=0;r<t.length;r++){const i=Number(t[r])-Number(e[r]);n+=i*i}return n}function f(t,e){if(!t)throw new Error("string"===typeof e?e:e())}function h(t,e,n=""){f(v(t,e),(()=>n+` Shapes ${t} and ${e} must match`))}function d(t){f(null!=t,(()=>"The input to the tensor constructor must be a non-null value."))}function p(t){if(0===t.length)return 1;let e=t[0];for(let n=1;n<t.length;n++)e*=t[n];return e}function g(t){return 0===t.length}function m(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(null!==t[n]&&null!==e[n]&&t[n]!==e[n])return!1;return!0}function v(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function y(t){return t%1===0}function b(t){if(null!=Math.tanh)return Math.tanh(t);if(t===1/0)return 1;if(t===-1/0)return-1;{const e=Math.exp(2*t);return(e-1)/(e+1)}}function w(t){const e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}function x(t){const e=new Uint32Array(t);for(let n=0;n<t;++n)e[n]=n;return r(e),e}function _(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function k(t,e=t=>0,n,r){return new Promise(((i,o)=>{let a=0;const s=()=>{if(t())return void i();a++;const u=e(a);null!=n&&a>=n?o():null!=r?r(s,u):setTimeout(s,u)};s()}))}function A(t,e){let n=1,r=-1;for(let o=0;o<t.length;++o)if(t[o]>=0)n*=t[o];else if(-1===t[o]){if(-1!==r)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${o}`);r=o}else if(t[o]<0)throw Error(`Shapes can not be < 0. Found ${t[o]} at dim ${o}`);if(-1===r){if(e>0&&e!==n)throw Error(`Size(${e}) must match the product of shape ${t}`);return t}if(0===n)throw Error(`Cannot infer the missing size in [${t}] when there are 0 elements`);if(e%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${e} / ${n}`);const i=t.slice();return i[r]=e/n,i}function S(t,e){const n=e.length;return t=null==t?e.map(((t,e)=>e)):[].concat(t),f(t.every((t=>t>=-n&&t<n)),(()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${t}`)),f(t.every((t=>y(t))),(()=>`All values in axis param must be integers but got axis ${t}`)),t.map((t=>t<0?n+t:t))}function C(t,e){const n=[],r=[],i=null!=e&&Array.isArray(e)&&0===e.length,o=null==e||i?null:S(e,t).sort();let a=0;for(let s=0;s<t.length;++s){if(null!=o){if(o[a]===s&&1!==t[s])throw new Error(`Can't squeeze axis ${s} since its dim '${t[s]}' is not 1`);(null==o[a]||o[a]>s)&&1===t[s]&&(n.push(t[s]),r.push(s)),o[a]<=s&&a++}1!==t[s]&&(n.push(t[s]),r.push(s))}return{newShape:n,keptDims:r}}function E(t,e){return D(t,e)}function D(t,e){let n=null;if(null==t||"float32"===t)n=new Float32Array(e);else if("int32"===t)n=new Int32Array(e);else if("bool"===t)n=new Uint8Array(e);else{if("string"!==t)throw new Error(`Unknown data type ${t}`);n=new Array(e)}return n}function M(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${e} being uploaded contains ${r}.`)}}function T(t){return"bool"===t||"complex64"===t||"float32"===t||"int32"===t||"string"===t}function F(t,e){return"complex64"!==e&&(("float32"!==e||"complex64"===t)&&(("int32"!==e||"float32"===t||"complex64"===t)&&("bool"!==e||"bool"!==t)))}function O(t){if("float32"===t||"int32"===t)return 4;if("complex64"===t)return 8;if("bool"===t)return 1;throw new Error(`Unknown dtype ${t}`)}function $(t){if(null==t)return 0;let e=0;return t.forEach((t=>e+=t.length)),e}function N(t){return"string"===typeof t||t instanceof String}function B(t){return"boolean"===typeof t}function R(t){return"number"===typeof t}function P(t){return Array.isArray(t)?P(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray?"int32":R(t)?"float32":N(t)?"string":B(t)?"bool":"float32"}function I(t){return!!(t&&t.constructor&&t.call&&t.apply)}function j(t,e){for(let n=e;n<t;++n)if(t%n===0)return n;return t}function L(t){const e=t.length;if(e<2)return[];const n=new Array(e-1);n[e-2]=t[e-1];for(let r=e-3;r>=0;--r)n[r]=n[r+1]*t[r+1];return n}function z(t,e,n,r=!1){const i=new Array;if(1===e.length){const o=e[0]*(r?2:1);for(let e=0;e<o;e++)i[e]=n[t+e]}else{const o=e[0],a=e.slice(1),s=a.reduce(((t,e)=>t*e))*(r?2:1);for(let e=0;e<o;e++)i[e]=z(t+e*s,a,n,r)}return i}function U(t,e,n=!1){if(0===t.length)return e[0];const r=t.reduce(((t,e)=>t*e))*(n?2:1);if(0===r)return[];if(r!==e.length)throw new Error(`[${t}] does not match the input size ${e.length}${n?" for a complex tensor":""}.`);return z(0,t,e,n)}function q(t,e){if(Array.isArray(t))return t;if("float32"===e)return t instanceof Float32Array?t:new Float32Array(t);if("int32"===e)return t instanceof Int32Array?t:new Int32Array(t);if("bool"===e||"string"===e)return Uint8Array.from(new Int32Array(t));throw new Error(`Unknown dtype ${e}`)}function V(t,e){const n=H(t,e);for(let r=0;r<n.length;r++)n[r]=1;return n}function H(t,e){if(null==e||"float32"===e||"complex64"===e)return new Float32Array(t);if("int32"===e)return new Int32Array(t);if("bool"===e)return new Uint8Array(t);throw new Error(`Unknown data type ${e}`)}function W(t,e){const n=t.reduce(((t,e)=>t*e),1);if(null==e||"float32"===e)return U(t,new Float32Array(n));if("int32"===e)return U(t,new Int32Array(n));if("bool"===e)return U(t,new Uint8Array(n));throw new Error(`Unknown data type ${e}`)}function Y(t){t.forEach((e=>{f(Number.isInteger(e)&&e>=0,(()=>`Tensor must have a shape comprised of positive integers but got shape [${t}].`))}))}function G(t,e,n){if(0===e)return 0;if(1===e)return t[0];let r=t[t.length-1];for(let i=0;i<t.length-1;++i)r+=n[i]*t[i];return r}function K(t,e,n){if(0===e)return[];if(1===e)return[t];const r=new Array(e);for(let i=0;i<r.length-1;++i)r[i]=Math.floor(t/n[i]),t-=r[i]*n[i];return r[r.length-1]=t,r}function X(t){return t&&t.then&&"function"===typeof t.then}n.d(e,{Ab:function(){return D},BE:function(){return F},E6:function(){return y},Et:function(){return R},FZ:function(){return V},HO:function(){return d},Kg:function(){return N},Lm:function(){return B},O3:function(){return h},P8:function(){return x},SA:function(){return Y},SL:function(){return $},Sf:function(){return g},Tn:function(){return I},Ty:function(){return H},Ur:function(){return L},X$:function(){return P},XT:function(){return A},Y6:function(){return S},Ze:function(){return p},_k:function(){return K},_q:function(){return k},a0:function(){return i},av:function(){return _},c7:function(){return W},ce:function(){return E},cz:function(){return u},eV:function(){return a},e_:function(){return m},gS:function(){return w},gx:function(){return C},jv:function(){return O},k4:function(){return r},lK:function(){return j},nd:function(){return M},o2:function(){return q},oO:function(){return l},qE:function(){return o},r1:function(){return v},sX:function(){return G},so:function(){return c},vA:function(){return f},wg:function(){return s},xn:function(){return T},yL:function(){return X},ym:function(){return b},yw:function(){return U}})},1936:function(t,e,n){"use strict";
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Object.defineProperty(e,"__esModule",{value:!0});const r=n(5237),i=n(8205);class o extends r.Component{componentDidMount(){const{name:t,tab:e}=this.props;this.props.registerSurface(t,e,this)}componentDidUpdate(){return!1}render(){const{name:t,visible:e,styles:n}=this.props,a=Object.assign({},o.defaultStyles,n),{width:s,height:u}=a;let{maxHeight:c,maxWidth:l}=a;c=u===o.defaultStyles.height?c:u,l=s===o.defaultStyles.width?l:s;const f=i.css({display:e?"block":"none",backgroundColor:"white",marginTop:"10px",marginBottom:"10px",boxShadow:"0 0 6px -3px #777",padding:"10px !important",height:u,width:s,maxHeight:c,maxWidth:l,overflow:"auto"}),h=i.css({backgroundColor:"white",boxSizing:"border-box",borderBottom:"1px solid #357EDD",lineHeight:"2em",marginBottom:"20px",fontWeight:"600",textAlign:"center"}),d=i.css({boxSizing:"border-box"});return r.h("div",{className:`${f} tf-surface`,ref:t=>this.container=t,"data-visible":e},r.h("div",{className:`${h} tf-label`,ref:t=>this.label=t},t),r.h("div",{className:`${d} tf-draw-area`,ref:t=>this.drawArea=t}))}}o.defaultStyles={maxWidth:"550px",maxHeight:"580px",height:"auto",width:"auto"},e.SurfaceComponent=o},9779:function(t,e,n){"use strict";
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Object.defineProperty(e,"__esModule",{value:!0});const r=n(5237),i=n(8205);class o extends r.Component{render(){const{tabNames:t,activeTab:e,handleClick:n}=this.props,o=t.length>0?t.map((t=>r.h(a,{key:t,id:t,handleClick:n,isActive:t===e},t))):null,s=i.css({overflowX:"scroll",overflowY:"hidden",whiteSpace:"nowrap",borderBottomStyle:"solid",borderBottomWidth:"1px",borderColor:"#eee",paddingBottom:"1rem",marginTop:"1rem"});return r.h("div",{className:`${s} visor-tabs`},o)}}e.Tabs=o;class a extends r.Component{render(){const{children:t,isActive:e,handleClick:n,id:o}=this.props,a=i.css({borderBottomColor:e?"#357EDD":"#AAAAAA",borderBottomWidth:"1px",borderBottomStyle:"solid",cursor:"pointer",":hover":{color:"#357EDD"},display:"inline-block",marginRight:"1rem",padding:".5rem",fontSize:"1rem",fontWeight:"bold"});return r.h("a",{className:`${a} tf-tab`,"data-isactive":e,onClick:()=>n(o)},t)}}},5976:function(t,e,n){"use strict";
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Object.defineProperty(e,"__esModule",{value:!0});const r=n(5237),i=n(8205),o=n(1936),a=n(9779);class s extends r.Component{static render(t,e,n){return r.render(r.h(s,Object.assign({},n)),t,e)}constructor(t){super(t),this.surfaces=new Map;const e=null==t.startOpen||t.startOpen;this.state={isOpen:e,isFullscreen:!1,activeTab:null,tabs:new Set},this.keyHandler=this.keyHandler.bind(this)}close(){this.setState({isOpen:!1})}open(){this.setState({isOpen:!0})}toggle(){this.setState({isOpen:!this.state.isOpen})}toggleFullScreen(){this.setState({isFullscreen:!this.state.isFullscreen})}isOpen(){return this.state.isOpen}isFullscreen(){return this.state.isFullscreen}getSurface(t,e){const n=this.surfaceId(t,e);let r;if(!this.surfaces.has(n))throw Error(`Surface not found with id: ${n}`);return r=this.surfaces.get(n),{container:r.container,label:r.label,drawArea:r.drawArea}}bindKeys(){document.addEventListener("keydown",this.keyHandler,!1)}unbindKeys(){document.removeEventListener("keydown",this.keyHandler)}surfaceId(t,e){return t+e}setTabs(t){const e=t.map((t=>t.tab)),n=this.state.tabs;let r;for(const i of e)n.has(i)||(n.add(i),r=i);null!=r&&this.setState({tabs:n,activeTab:r})}getTabs(){return this.state.tabs}registerSurface(t,e,n){const r=this.surfaceId(t,e);this.surfaces.set(r,n)}keyHandler(t){const e=192;t.keyCode===e&&(t.shiftKey?this.toggleFullScreen():this.toggle())}setActiveTab(t){this.setState({activeTab:t})}componentDidMount(){this.bindKeys()}componentWillMount(){this.setTabs(this.props.surfaceList)}componentWillReceiveProps(t){this.setTabs(t.surfaceList)}render(){const{isOpen:t,isFullscreen:e,activeTab:n}=this.state,{surfaceList:s}=this.props,c=Array.from(this.getTabs().values()),l="550px",f="90vw",h=e?f:l,d=i.css({width:h,height:"100%",backgroundColor:"#fafafa",boxSizing:"border-box",padding:"10px",position:"fixed",top:"0px",transition:"right 0.5s cubic-bezier(0.645, 0.045, 0.355, 1), width 0.5s cubic-bezier(0.645, 0.045, 0.355, 1)",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.12), 0 2px 5px rgba(0, 0, 0, 0.24)",overflow:"auto",fontFamily:"sans-serif",fontSize:"14px",zIndex:1e3}),p=i.css({right:"0"}),g=i.css({right:`calc(-${h} - 10px)`}),m=t?p:g,v=i.css({});return r.h("div",{className:`${d} ${m} visor`,"data-isopen":t,"data-isfullscreen":e},r.h(u,{fullScreenHandler:this.toggleFullScreen.bind(this),closeHandler:this.close.bind(this),isFullScreen:e}),r.h(a.Tabs,{tabNames:c,activeTab:n,handleClick:this.setActiveTab.bind(this)}),r.h("div",{className:`${v} visor-surfaces`},s.map((t=>r.h(o.SurfaceComponent,{key:t.name+t.tab,name:t.name,tab:t.tab,styles:t.styles,registerSurface:this.registerSurface.bind(this),visible:n===t.tab})))))}}function u(t){const{isFullScreen:e,fullScreenHandler:n,closeHandler:o}=t,a=i.css({display:"flex",backgroundColor:"white",border:"1px solid white",padding:"6px",paddingTop:"10px",marginBottom:"10px",borderRadius:"6px",marginTop:"-16px"}),s=i.css({fontSize:".875rem",borderRadius:".25rem",paddingLeft:"1rem",paddingRight:"1rem",paddingTop:".5rem",paddingBottom:".5rem",textDecoration:"none",transition:"color .15s ease-in",color:"#111"}),u=i.css({marginLeft:"auto"});return r.h("div",{className:`${a} visor-controls`},r.h("button",{className:`${s}`,onClick:n},e?"Minimize":"Maximize"),r.h("button",{className:`${s} ${u}`,onClick:o},"Hide"))}e.VisorComponent=s},9778:function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
n(8697),n(6542);const i=n(2784),o=n(3739),a=n(7483),s=n(5877),u=n(4857),c=n(898),l=n(9827),f=n(62),h=n(3559),d=n(5727),p=n(4853),g=n(2729),m=n(454);e.version_vis=m.version;const v={barchart:i.barchart,table:l.table,histogram:s.histogram,linechart:u.linechart,scatterplot:c.scatterplot,confusionMatrix:o.confusionMatrix,heatmap:a.heatmap};e.render=v;const y={accuracy:g.accuracy,perClassAccuracy:g.perClassAccuracy,confusionMatrix:g.confusionMatrix};e.metrics=y;const b={history:f.history,fitCallbacks:f.fitCallbacks,perClassAccuracy:d.perClassAccuracy,valuesDistribution:p.valuesDistribution,layer:h.layer,modelSummary:h.modelSummary};e.show=b;var w=n(4701);e.visor=w.visor,r(n(5759))},2784:function(t,e,n){"use strict";
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r["throw"](t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n(9520)),a=n(608),s=n(6857);function u(t,e,n={}){return r(this,void 0,void 0,(function*(){const r=s.getDrawArea(t),i=e,u=Object.assign({},c,n);if(l.has(r)){const t=l.get(r);if(s.shallowEquals(u,t.lastOptions)){yield s.nextFrame();const e=t.view,n=e.changeset().remove((()=>!0)).insert(i);return void(yield e.change("values",n).runAsync())}}const{xLabel:f,yLabel:h,xType:d,yType:p}=u;let g=null;null!=f&&(g={title:f});let m=null;null!=h&&(m={title:h});const v={actions:!1,mode:"vega-lite",defaultStyle:!1};let y;y=null!=u.color?Array.isArray(u.color)?{field:"index",type:"nominal",scale:{range:u.color}}:{value:u.color}:{value:"#4C78A0"};const b={width:u.width||a.getDefaultWidth(r),height:u.height||a.getDefaultHeight(r),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:u.fontSize,titleFontSize:u.fontSize},text:{fontSize:u.fontSize},legend:{labelFontSize:u.fontSize,titleFontSize:u.fontSize}},data:{values:i,name:"values"},mark:{type:"bar",tooltip:!0},encoding:{x:{field:"index",type:d,axis:g},y:{field:"value",type:p,axis:m},color:y}};yield s.nextFrame();const w=yield o.default(r,b,v);l.set(r,{view:w.view,lastOptions:u})}))}e.barchart=u;const c={xLabel:"",yLabel:"",xType:"ordinal",yType:"quantitative",fontSize:11},l=new Map},3739:function(t,e,n){"use strict";
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r["throw"](t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n(9520)),a=n(608),s=n(6857);function u(t,e,n={}){return r(this,void 0,void 0,(function*(){const r=Object.assign({},c,n),i=s.getDrawArea(t),u=[],l=e.values,f=e.tickLabels||[],h=0===f.length;let d=!0;for(let t=0;t<l.length;t++){const e=h?`Class ${t}`:f[t];h&&f.push(e);for(let n=0;n<l[t].length;n++){const i=h?`Class ${n}`:f[n],o=l[t][n];t!==n||r.shadeDiagonal?(u.push({label:e,prediction:i,count:o,scaleCount:o}),0!==o&&(d=!1)):u.push({label:e,prediction:i,count:o,noFill:!0})}}if(!r.shadeDiagonal&&d)for(const t of u)!0===t.noFill&&(t.noFill=!1,t.scaleCount=t.count);const p={actions:!1,mode:"vega-lite",defaultStyle:!1},g={width:r.width||a.getDefaultWidth(i),height:r.height||a.getDefaultHeight(i),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:r.fontSize,titleFontSize:r.fontSize},text:{fontSize:r.fontSize},legend:{labelFontSize:r.fontSize,titleFontSize:r.fontSize}},data:{values:u},encoding:{x:{field:"prediction",type:"ordinal",title:r.xLabel||"prediction",scale:{domain:f}},y:{field:"label",type:"ordinal",title:r.yLabel||"label",scale:{domain:f}}},layer:[{transform:[{filter:"datum.noFill != true"}],mark:{type:"rect"},encoding:{color:{field:"scaleCount",type:"quantitative",scale:{range:r.colorMap}},tooltip:[{field:"label",type:"nominal"},{field:"prediction",type:"nominal"},{field:"count",type:"quantitative"}]}}]};!1===r.shadeDiagonal&&g.layer.push({transform:[{filter:"datum.noFill == true"}],mark:{type:"rect",fill:"white"},encoding:{tooltip:[{field:"label",type:"nominal"},{field:"prediction",type:"nominal"},{field:"count",type:"quantitative"}]}}),r.showTextOverlay&&g.layer.push({mark:{type:"text",baseline:"middle"},encoding:{text:{field:"count",type:"nominal"}}});const m="string"===typeof r.colorMap?{scheme:r.colorMap}:r.colorMap;g.layer[0].encoding.color.scale.range=m,yield o.default(i,g,p)}))}e.confusionMatrix=u;const c={xLabel:null,yLabel:null,xType:"nominal",yType:"nominal",shadeDiagonal:!0,fontSize:12,showTextOverlay:!0,height:400,colorMap:["#f7fbff","#4292c6"]}},7483:function(t,e,n){"use strict";
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r["throw"](t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const a=i(n(8697)),s=o(n(9520)),u=n(608),c=n(6286),l=n(6857);function f(t,e,n={}){return r(this,void 0,void 0,(function*(){const r=Object.assign({},p,n),i=l.getDrawArea(t);let o=e.values;r.rowMajor&&(o=yield h(e.values));const{xTickLabels:f,yTickLabels:g}=e;if(null!=f){const t=0;d(o,f,t)}if(null!=g){const t=1;d(o,g,t)}const m="@tfidx@",v=[];if(o instanceof a.Tensor){c.assert(2===o.rank,"Input to renderHeatmap must be a 2d array or Tensor2d");const t=yield o.data(),[e,n]=o.shape;for(let r=0;r<e;r++){const e=f?`${f[r]}${m}${r}`:r;for(let i=0;i<n;i++){const o=g?`${g[i]}${m}${i}`:i,a=r*n+i,s=t[a];v.push({x:e,y:o,value:s})}}}else{const t=o;for(let e=0;e<t.length;e++){const n=f?`${f[e]}${m}${e}`:e;for(let r=0;r<t[e].length;r++){const i=g?`${g[r]}${m}${r}`:r,o=t[e][r];v.push({x:n,y:i,value:o})}}}const y={actions:!1,mode:"vega-lite",defaultStyle:!1},b={width:r.width||u.getDefaultWidth(i),height:r.height||u.getDefaultHeight(i),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:r.fontSize,titleFontSize:r.fontSize},text:{fontSize:r.fontSize},legend:{labelFontSize:r.fontSize,titleFontSize:r.fontSize},scale:{bandPaddingInner:0,bandPaddingOuter:0}},data:{values:v},mark:{type:"rect",tooltip:!0},encoding:{x:{field:"x",type:r.xType,title:r.xLabel,sort:!1},y:{field:"y",type:r.yType,title:r.yLabel,sort:!1},fill:{field:"value",type:"quantitative"}}},w=`${m}\\d+$`,x=new RegExp(w);let _;switch(f&&(b.encoding.x.axis={labelExpr:`replace(datum.value, regexp(/${w}/), '')`}),g&&(b.encoding.y.axis={labelExpr:`replace(datum.value, regexp(/${w}/), '')`}),(f||g)&&(y.tooltip={sanitize:t=>{const e=String(t);return e.replace(x,"")}}),r.colorMap){case"blues":_=["#f7fbff","#4292c6"];break;case"greyscale":_=["#000000","#ffffff"];break;case"viridis":default:_="viridis";break}if("viridis"!==_){const t=b.encoding.fill;t.scale={range:_}}if(r.domain){const t=b.encoding.fill;null!=t.scale?t.scale=Object.assign({},t.scale,{domain:r.domain}):t.scale={domain:r.domain}}yield s.default(i,b,y)}))}function h(t){return r(this,void 0,void 0,(function*(){let e,n;t instanceof a.Tensor?(e=t.shape,n=t.transpose()):(e=[t.length,t[0].length],n=a.tidy((()=>a.tensor2d(t).transpose()))),c.assert(2===n.rank,"Input to renderHeatmap must be a 2d array or Tensor2d");const r=yield n.array();n.dispose();const i=[r.length,r[0].length];return c.assert(e[0]===i[1]&&e[1]===i[0],`Unexpected transposed shape. Original ${e} : Transposed ${i}`),r}))}function d(t,e,n){const r=t instanceof a.Tensor?t.shape:[t.length,t[0].length];0===n?c.assert(r[0]===e.length,`Length of xTickLabels (${e.length}) must match number of rows (${r[0]})`):1===n&&c.assert(r[1]===e.length,`Length of yTickLabels (${e.length}) must match number of columns (${r[1]})`)}e.heatmap=f;const p={xLabel:null,yLabel:null,xType:"ordinal",yType:"ordinal",colorMap:"viridis",fontSize:12,domain:null,rowMajor:!1}},5877:function(t,e,n){"use strict";
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r["throw"](t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(6914),a=i(n(9520)),s=n(608),u=n(2729),c=n(9827),l={maxBins:12,fontSize:11};function f(t,e,n={}){return r(this,void 0,void 0,(function*(){const r=d(e),i=Object.assign({},l,n),o={actions:!1,mode:"vega-lite",defaultStyle:!1},c=s.subSurface(t,"histogram");if(!1!==n.stats){const e=s.subSurface(t,"stats",{prepend:!0});let o;o=n.stats?n.stats:u.arrayStats(r.map((t=>t.value))),h(o,e,{fontSize:i.fontSize})}if(0===r.length)return;const f=[];for(let t=0;t<r.length;t++){const e=r[t].value;null!=e&&isFinite(e)&&f.push(r[t])}const p={width:i.width||s.getDefaultWidth(c),height:i.height||s.getDefaultHeight(c),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},data:{values:f},mark:{type:"bar",tooltip:!0},config:{axis:{labelFontSize:i.fontSize,titleFontSize:i.fontSize},text:{fontSize:i.fontSize},legend:{labelFontSize:i.fontSize,titleFontSize:i.fontSize}},encoding:{x:{bin:{maxbins:i.maxBins},field:"value",type:"quantitative"},y:{aggregate:"count",type:"quantitative"},color:{value:i.color||"#001B44"}}};return a.default(c,p,o)}))}function h(t,e,n){const r=o.format(",.4~f"),i=o.format(".4~p"),a=[],s=[];if(null!=t.numVals&&(a.push("Num Vals"),s.push(r(t.numVals))),null!=t.min&&(a.push("Min"),s.push(r(t.min))),null!=t.max&&(a.push("Max"),s.push(r(t.max))),null!=t.numZeros){a.push("# Zeros");let e="";t.numVals&&(e=t.numZeros>0?`(${i(t.numZeros/t.numVals)})`:""),s.push(`${r(t.numZeros)} ${e}`)}if(null!=t.numNans){a.push("# NaNs");let e="";t.numVals&&(e=t.numNans>0?`(${i(t.numNans/t.numVals)})`:""),s.push(`${r(t.numNans)} ${e}`)}if(null!=t.numInfs){a.push("# Infinity");let e="";t.numVals&&(e=t.numInfs>0?`(${i(t.numInfs/t.numVals)})`:""),s.push(`${r(t.numInfs)} ${e}`)}c.table(e,{headers:a,values:[s]},n)}function d(t){if(null==t.length)throw new Error("input data must be an array");if(0===t.length)return[];if("object"===typeof t[0]){if(null==t[0].value)throw new Error("input data must have a value field");return t}{const e=Array(t.length);for(let n=0;n<t.length;n++)e[n]={value:t[n]};return e}}e.histogram=f},4857:function(t,e,n){"use strict";
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r["throw"](t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n(9520)),a=n(608),s=n(6286),u=n(6857);function c(t,e,n={}){return r(this,void 0,void 0,(function*(){const r=Array.isArray(e.values[0])?e.values:[e.values],i=r[0].length,c=e.series?e.series:r.map(((t,e)=>`Series ${e+1}`));s.assert(c.length===r.length,"Must have an equal number of series labels as there are data series"),null!=n.seriesColors&&s.assert(n.seriesColors.length===r.length,"Must have an equal number of series colors as there are data series");const f=[];for(let t=0;t<i;t++){const e={x:t};c.forEach(((n,i)=>{const o=r[i][t].y;e[n]=o,e[`${n}-name`]=n})),f.push(e)}const h=Object.assign({},l,n),d=()=>h.zoomToFit?{zero:!1}:null!=h.yAxisDomain?{domain:h.yAxisDomain}:void 0,p={x:{field:"x",type:h.xType,title:h.xLabel},tooltip:[{field:"x",type:"quantitative"},...c.map((t=>({field:t,type:"quantitative"})))]},g=c.map((t=>({data:void 0,mark:{type:"line",clip:!0},encoding:{y:{field:t,type:h.yType,title:h.yLabel,scale:d()},color:{field:`${t}-name`,type:"nominal",legend:{values:c,title:null},scale:{range:h.seriesColors}}}}))),m={mark:"rule",selection:{hover:{type:"single",on:"mouseover",nearest:!0,clear:"mouseout"}},encoding:{color:{value:"grey",condition:{selection:{not:"hover"},value:"transparent"}}}},v=u.getDrawArea(t),y={width:h.width||a.getDefaultWidth(v),height:h.height||a.getDefaultHeight(v),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:h.fontSize,titleFontSize:h.fontSize},text:{fontSize:h.fontSize},legend:{labelFontSize:h.fontSize,titleFontSize:h.fontSize}},data:{values:f},encoding:p,layer:[...g,m]},b={actions:!1,mode:"vega-lite",defaultStyle:!1};return yield o.default(v,y,b),Promise.resolve()}))}e.linechart=c;const l={xLabel:"x",yLabel:"y",xType:"quantitative",yType:"quantitative",zoomToFit:!1,fontSize:11}},6857:function(t,e,n){"use strict";
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r["throw"](t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const i=n(5759),o=n(4701);function a(t){if(t instanceof HTMLElement)return t;if(i.isSurface(t))return t.drawArea;if(i.isSurfaceInfo(t)){const e=o.visor().surface({name:t.name,tab:t.tab,styles:t.styles});return e.drawArea}throw new Error("Not a drawable")}function s(t,e){const n=Object.getOwnPropertyNames(t),r=Object.getOwnPropertyNames(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(t[r]!==e[r])return!1}return!0}function u(){return r(this,void 0,void 0,(function*(){yield new Promise((t=>requestAnimationFrame(t)))}))}e.getDrawArea=a,e.shallowEquals=s,e.nextFrame=u},898:function(t,e,n){"use strict";
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r["throw"](t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n(9520)),a=n(608),s=n(6286),u=n(6857);function c(t,e,n={}){return r(this,void 0,void 0,(function*(){let r=e.values;const i=null==e.series?[]:e.series;r=Array.isArray(r[0])?r:[r];const c=[];r.forEach(((t,e)=>{const n=null!=i[e]?i[e]:`Series ${e+1}`,r=t.map((t=>Object.assign({},t,{series:n})));c.push(...r)})),null!=n.seriesColors&&s.assert(n.seriesColors.length===r.length,"Must have an equal number of series colors as there are data series");const f=u.getDrawArea(t),h=Object.assign({},l,n),d={actions:!1,mode:"vega-lite",defaultStyle:!1},p=()=>h.zoomToFit?{zero:!1}:null!=h.xAxisDomain?{domain:h.xAxisDomain}:void 0,g=()=>h.zoomToFit?{zero:!1}:null!=h.yAxisDomain?{domain:h.yAxisDomain}:void 0,m={width:h.width||a.getDefaultWidth(f),height:h.height||a.getDefaultHeight(f),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:h.fontSize,titleFontSize:h.fontSize},text:{fontSize:h.fontSize},legend:{labelFontSize:h.fontSize,titleFontSize:h.fontSize}},data:{values:c},mark:{type:"point",clip:!0,tooltip:{content:"data"}},encoding:{x:{field:"x",type:h.xType,title:h.xLabel,scale:p()},y:{field:"y",type:h.yType,title:h.yLabel,scale:g()},color:{field:"series",type:"nominal",scale:{range:h.seriesColors}},shape:{field:"series",type:"nominal"}}};return yield o.default(f,m,d),Promise.resolve()}))}e.scatterplot=c;const l={xLabel:"x",yLabel:"y",xType:"quantitative",yType:"quantitative",zoomToFit:!1,fontSize:11}},9827:function(t,e,n){"use strict";
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Object.defineProperty(e,"__esModule",{value:!0});const r=n(6914),i=n(9615),o=n(8205),a=n(6857);function s(t,e,n={}){if(e&&null==e.headers)throw new Error('Data to render must have a "headers" property');if(e&&null==e.values)throw new Error('Data to render must have a "values" property');const s=a.getDrawArea(t),c=Object.assign({},u,n);let l=i.select(s).select("table.tf-table");const f=o.css({fontSize:c.fontSize||".875rem",width:"100%",maxWidth:"64rem",marginRight:"auto",marginLeft:"auto"});if(0===l.size()&&(l=i.select(s).append("table"),l.attr("class",` ${f} tf-table`),l.append("thead").append("tr"),l.append("tbody")),1!==l.size())throw new Error("Error inserting table");const h=o.css({fontWeight:"600",borderBottomStyle:"solid",borderBottomWidth:"1px",borderColor:"rgba( 0, 0, 0, .2 )",textAlign:"left",paddingBottom:"1rem",paddingRight:"1rem",backgroundColor:"#fff"}),d=l.select("thead").select("tr").selectAll("th").data(e.headers),p=d.enter().append("th").attr("class",`${h}`);d.merge(p).html((t=>t)),d.exit().remove();const g=r.format(",.4~f"),m=l.select("tbody").selectAll("tr").data(e.values),v=m.enter().append("tr"),y=o.css({padding:"0.25rem",borderBottomStyle:"solid",borderBottomWidth:"1px",borderColor:"rgba( 0, 0, 0, .2 )"}),b=m.merge(v).selectAll("td").data((t=>t)),w=b.enter().append("td").attr("class",`${y}`);b.merge(w).html((t=>"number"===typeof t?g(t):t)),b.exit().remove(),m.exit().remove()}e.table=s;const u={fontSize:14}},62:function(t,e,n){"use strict";
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r["throw"](t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const i=n(4857),o=n(6857),a=n(608);function s(t,e,n,s={}){return r(this,void 0,void 0,(function*(){const r=o.getDrawArea(t),l={};for(const t of n)if(/val_/.test(t)){const r=t.replace("val_","");u(l,r);const i=c(e,t,n.indexOf(t));l[r].series.push(t),l[r].values.push(i)}else{const r=c(e,t,n.indexOf(t));u(l,t),l[t].series.push(t),l[t].values.push(r)}const f=Object.keys(l),h=Object.assign({},{xLabel:"Iteration",yLabel:"Value"},s),d=[];for(const t of f){const e=a.subSurface(r,t),n=l[t].series,o=l[t].values;n.every((t=>Boolean(t.match("acc"))))&&(h.zoomToFitAccuracy?h.zoomToFit=!0:(h.yAxisDomain=[0,1],delete h.zoomToFit));const s=i.linechart(e,{values:o,series:n},h);d.push(s)}yield Promise.all(d)}))}function u(t,e){null==t[e]&&(t[e]={series:[],values:[]})}function c(t,e,n){if(Array.isArray(t)){const r=Array.isArray(t[0])?t[n]:t,i=[];for(let t=0;t<r.length;t++){const n=r[t];i.push({x:t,y:n[e]})}return i}return t.history[e].map(((t,e)=>({x:e,y:t})))}function l(t,e,n={}){const i={},u=n.callbacks||["onEpochEnd","onBatchEnd"],c=o.getDrawArea(t),l=Object.assign({},n);function h(t){return(n,u)=>r(this,void 0,void 0,(function*(){/batch/i.test(t)?l.xLabel="Batch":/epoch/i.test(t)&&(l.xLabel="Epoch");const n=[],r=[];for(const o of e)if(null!=u[o]){r.push(o);const e=f(i,t,o);e.push({[o]:u[o]}),n.push(e)}const h=a.subSurface(c,t,{title:t});s(h,n,r,l),yield o.nextFrame()}))}delete l.callbacks;const d={};return u.forEach((t=>{d[t]=h(t)})),d}function f(t,e,n){return null==t[e]&&(t[e]={}),null==t[e][n]&&(t[e][n]=[]),t[e][n]}e.history=s,e.fitCallbacks=l},3559:function(t,e,n){"use strict";
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r["throw"](t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const i=n(5877),o=n(6857),a=n(9827),s=n(608),u=n(2729);function c(t,e){return r(this,void 0,void 0,(function*(){const n=o.getDrawArea(t),r=f(e),i=["Layer Name","Output Shape","# Of Params","Trainable"],s=r.layers.map((t=>[t.name,t.outputShape,t.parameters,t.trainable]));a.table(n,{headers:i,values:s})}))}function l(t,e){return r(this,void 0,void 0,(function*(){const n=o.getDrawArea(t),u=yield d(e),c=["Weight Name","Shape","Min","Max","# Params","# Zeros","# NaNs","# Infinity"],l=s.subSurface(n,"layer-weights-info"),f=u.map((t=>[t.name,t.shape,t.stats.min,t.stats.max,t.weight.size,t.stats.numZeros,t.stats.numNans,t.stats.numInfs]));a.table(l,{headers:c,values:f});const h=s.subSurface(n,"select-layer"),p=s.subSurface(n,"param-distribution"),m=t=>r(this,void 0,void 0,(function*(){const e=u.filter((e=>e.name===t))[0],n=yield e.weight.data();i.histogram(p,n,{height:150,width:460,stats:!1})}));g(u.map((t=>t.name)),h,m)}))}function f(t){return{layers:t.layers.map(h)}}function h(t){let e;if(Array.isArray(t.outputShape[0])){const n=t.outputShape.map((t=>p(t)));e=`[${n.join(", ")}]`}else e=p(t.outputShape);return{name:t.name,trainable:t.trainable,parameters:t.countParams(),outputShape:e}}function d(t){return r(this,void 0,void 0,(function*(){const e=t.getWeights(),n=t.weights,r=e.map(u.tensorStats),i=yield Promise.all(r),o=e.map((t=>t.shape));return e.map(((t,e)=>({name:n[e].name,stats:i[e],shape:p(o[e]),weight:t})))}))}function p(t){const e=t.slice();return 0===e.length?"Scalar":(null===e[0]&&(e[0]="batch"),`[${e.join(",")}]`)}function g(t,e,n){const r=`\n    <select>\n      ${t.map((t=>`<option value=${t}>${t}</option>`))}\n    </select>\n  `,i="<button>Show Values Distribution for:</button>",o=`<div>${i}${r}</div>`;e.innerHTML=o;const a=e.querySelector("button"),s=e.querySelector("select");a.addEventListener("click",(()=>{n(s.selectedOptions[0].label)}))}e.modelSummary=c,e.layer=l},5727:function(t,e,n){"use strict";
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r["throw"](t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const i=n(6857),o=n(9827);function a(t,e,n){return r(this,void 0,void 0,(function*(){const r=i.getDrawArea(t),a=["Class","Accuracy","# Samples"],s=[];for(let t=0;t<e.length;t++){const r=n?n[t]:t.toString(),i=e[t];s.push([r,i.accuracy,i.count])}return o.table(r,{headers:a,values:s})}))}e.perClassAccuracy=a},4853:function(t,e,n){"use strict";
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r["throw"](t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const i=n(5877),o=n(6857),a=n(2729);function s(t,e){return r(this,void 0,void 0,(function*(){const n=o.getDrawArea(t),r=yield a.tensorStats(e),s=yield e.data();i.histogram(n,s,{height:150,stats:r})}))}e.valuesDistribution=s},5759:function(t,e){"use strict";function n(t){return null!=t.name}function r(t){return t.drawArea instanceof HTMLElement}Object.defineProperty(e,"__esModule",{value:!0}),e.isSurfaceInfo=n,e.isSurface=r},608:function(t,e,n){"use strict";
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Object.defineProperty(e,"__esModule",{value:!0});const r=n(8205),i=n(6857),o={prepend:!1};function a(t,e,n={}){const a=i.getDrawArea(t),s=r.css({"& canvas":{display:"block"},marginTop:".5rem",marginBottom:".5rem"}),u=r.css({backgroundColor:"white",display:"inline-block",boxSizing:"border-box",borderBottom:"1px solid #357EDD",lineHeight:"2em",padding:"0 10px 0 10px",marginBottom:"20px",fontWeight:"600",textAlign:"left"}),c=Object.assign({},o,n);let l=a.querySelector(`div[data-name=${e}]`);if(!l){if(l=document.createElement("div"),l.setAttribute("class",`${s}`),l.dataset.name=e,c.title){const t=document.createElement("div");t.setAttribute("class",`subsurface-title ${u}`),t.innerText=c.title,l.appendChild(t)}c.prepend?a.insertBefore(l,a.firstChild):a.appendChild(l)}return l}function s(t){const e=50;let n=0,r=t;while(r&&0===r.clientWidth)r=r.parentElement,n=e;return r.clientWidth-n}function u(t){return 0===t.clientHeight?200:t.clientHeight}e.subSurface=a,e.getDefaultWidth=s,e.getDefaultHeight=u},2729:function(t,e,n){"use strict";
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r["throw"](t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const i=n(8697),o=n(6286);function a(t){if(!Array.isArray(t))throw new Error("input must be an array");if(0===t.length)return{numVals:0,numNans:0,numZeros:0,max:void 0,min:void 0};const e=t.length;let n=-1/0,r=1/0,i=0,o=0,a=0;for(let u=0;u<e;u++){const e=t[u];e>n&&(n=e),e<r&&(r=e),0===e&&(i+=1),isNaN(e)?o+=1:isFinite(e)||(a+=1)}const s={numVals:e,numZeros:i,numNans:o,max:n,min:r,numInfs:a};return s.max===-1/0&&(s.max=NaN),s.min===1/0&&(s.min=NaN),s}function s(t){return r(this,void 0,void 0,(function*(){const[e,n,r]=i.tidy((()=>{const e=i.scalar(0,t.dtype),n=t.min(),r=t.max(),o=t.equal(e).sum();return[n,r,o]}));return Promise.all([t.data(),e.data(),n.data(),r.data()]).then((([t,e,n,r])=>{const i=t.length;let o=0,a=0;for(let l=0;l<i;l++){const e=t[l];isNaN(e)?o+=1:isFinite(e)||(a+=1)}let s=e[0],u=n[0];o===i&&(s=NaN,u=NaN);const c={numVals:i,numZeros:r[0],numNans:o,min:s,max:u,numInfs:a};return c}))}))}function u(t,e,n,a){return r(this,void 0,void 0,(function*(){o.assert(1===t.rank,"labels must be a 1D tensor"),o.assert(1===e.rank,"predictions must be a 1D tensor"),o.assert(t.size===e.size,"labels and predictions must be the same length"),null!=a&&o.assert(a.size===e.size,"labels and predictions must be the same length");const r=t.cast("int32"),s=e.cast("int32");null==n&&(n=i.tidy((()=>{const t=i.maximum(r.max(),s.max()).cast("int32");return t.dataSync()[0]+1})));let u=Promise.resolve(null);return null!=a&&(u=a.data()),Promise.all([r.data(),s.data(),u]).then((([t,e,r])=>{const i=Array(n).fill(0);for(let o=0;o<n;o++)i[o]=Array(n).fill(0);for(let n=0;n<t.length;n++){const o=t[n],a=e[n];i[o][a]+=null!=r?r[n]:1}return i}))}))}function c(t,e){return r(this,void 0,void 0,(function*(){o.assertShapesMatch(t.shape,e.shape,"Error computing accuracy.");const n=t.equal(e),r=n.mean(),a=(yield r.data())[0];return i.dispose([n,r]),a}))}function l(t,e,n){return r(this,void 0,void 0,(function*(){return o.assert(1===t.rank,"labels must be a 1D tensor"),o.assert(1===e.rank,"predictions must be a 1D tensor"),o.assert(t.size===e.size,"labels and predictions must be the same length"),null==n&&(n=i.tidy((()=>i.maximum(t.max(),e.max()).dataSync()[0]+1))),Promise.all([t.data(),e.data()]).then((([t,e])=>{const r=Array(n).fill(0),i=Array(n).fill(0);for(let n=0;n<t.length;n++){const o=t[n],a=e[n];r[o]+=1,o===a&&(i[o]+=1)}const o=[];for(let n=0;n<r.length;n++)o.push({count:r[n],accuracy:0===r[n]?0:i[n]/r[n]});return o}))}))}e.arrayStats=a,e.tensorStats=s,e.confusionMatrix=u,e.accuracy=c,e.perClassAccuracy=l},6286:function(t,e){"use strict";
/*
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function n(t,e){if(!t)throw new Error("string"===typeof e?e:e())}function r(t,e,r=""){n(i(t,e),r+` Shapes ${t} and ${e} must match`)}function i(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}Object.defineProperty(e,"__esModule",{value:!0}),e.assert=n,e.assertShapesMatch=r,e.arraysEqual=i,e.DECIMAL_PLACES_TO_CHECK=4},454:function(t,e){"use strict";
/** @license See the LICENSE file. */Object.defineProperty(e,"__esModule",{value:!0});const n="1.5.1";e.version=n},4701:function(t,e,n){"use strict";
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Object.defineProperty(e,"__esModule",{value:!0});const r=n(5976);let i;const o="Visor",a="tfjs-visor-container";function s(){if("undefined"===typeof document)throw new Error("No document defined. This library needs a browser/dom to work");if(document.getElementById(a)&&null!=i)return i;let t,e=document.getElementById(a);function n(e,n){let i=null;return t=r.VisorComponent.render(e,t,{ref:t=>i=t,surfaceList:Array.from(n.values())}),i}null==e&&(e=document.createElement("div"),e.id=a,document.body.appendChild(e));const o=new Map,s=n(e,o);return i=new u(s,e,o,n),i}e.visor=s;class u{constructor(t,e,n,r){this.visorComponent=t,this.el=e,this.surfaceList=n,this.renderVisor=r}surface(t){const{name:e}=t,n=null==t.tab?o:t.tab;if(null==e||!("string"===typeof e||e instanceof String))throw new Error("You must pass a config object with a 'name' property to create or retrieve a surface");const r=Object.assign({},t,{tab:n}),i=`${e}-${n}`;return this.surfaceList.has(i)||this.surfaceList.set(i,r),this.renderVisor(this.el,this.surfaceList),this.visorComponent.getSurface(e,n)}isFullscreen(){return this.visorComponent.isFullscreen()}isOpen(){return this.visorComponent.isOpen()}close(){return this.visorComponent.close()}open(){return this.visorComponent.open()}toggle(){return this.visorComponent.toggle()}toggleFullScreen(){return this.visorComponent.toggleFullScreen()}bindKeys(){return this.visorComponent.bindKeys()}unbindKeys(){return this.visorComponent.unbindKeys()}setActiveTab(t){const e=this.visorComponent.state.tabs;if(!e.has(t))throw new Error(`Tab '${t}' does not exist`);this.visorComponent.setState({activeTab:t})}}e.Visor=u},1656:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){var u,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=u):i&&(u=s?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),u)if(c.functional){c._injectStyles=u;var l=c.render;c.render=function(t,e){return u.call(e),l(t,e)}}else{var f=c.beforeCreate;c.beforeCreate=f?[].concat(f,u):[u]}return{exports:t,options:c}}n.d(e,{A:function(){return r}})},3921:function(t,e,n){"use strict";function r(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function s(t){var e=a(t,"string");return"symbol"==typeof e?e:String(e)}function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function f(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function h(t,e,n){return e=s(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function v(t,e,n){return v=m()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var i=Function.bind.apply(t,r),o=new i;return n&&g(o,n.prototype),o},v.apply(null,arguments)}function y(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"===typeof t}}function b(t){var e="function"===typeof Map?new Map:void 0;return b=function(t){if(null===t||!y(t))return t;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return v(t,arguments,p(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),g(n,t)},b(t)}function w(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}function x(t,e){if(null==t)return{};var n,r,i=w(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k(t,e){if(e&&("object"===typeof e||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _(t)}function A(t){var e=m();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k(this,n)}}function S(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function C(t,e){return T(t)||r(t,e)||O(t,e)||B()}function E(t){return T(t)||F(t)||O(t)||B()}function D(t){return M(t)||F(t)||O(t)||N()}function M(t){if(Array.isArray(t))return $(t)}function T(t){if(Array.isArray(t))return t}function F(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function O(t,e){if(t){if("string"===typeof t)return $(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(t,e):void 0}}function $(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function N(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function B(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function R(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=O(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function P(t){return t<0?-1:t>0?1:0}n.d(e,{Ay:function(){return Xg}});var I=Math.sign||P;function j(t,e){return(t&e)===e}function L(t,e){return(t%e+e)%e}function z(t,e,n){return Math.max(e,Math.min(n,t))}function U(t,e){return e.split(".").reduce((function(t,e){return t?t[e]:null}),t)}function q(t,e,n){if(!t)return-1;if(!n||"function"!==typeof n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(t[r],e))return r;return-1}var V=function(t){return"object"===u(t)&&!Array.isArray(t)},H=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(r||!Object.assign){var i=function(t){return V(n[t])&&null!==e&&e.hasOwnProperty(t)&&V(e[t])},a=Object.getOwnPropertyNames(n).map((function(o){return h({},o,i(o)?t(e[o],n[o],r):n[o])})).reduce((function(t,e){return o(o({},t),e)}),{});return o(o({},e),a)}return Object.assign(e,n)},W=H,Y={Android:function(){return"undefined"!==typeof window&&window.navigator.userAgent.match(/Android/i)},BlackBerry:function(){return"undefined"!==typeof window&&window.navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return"undefined"!==typeof window&&(window.navigator.userAgent.match(/iPhone|iPad|iPod/i)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1)},Opera:function(){return"undefined"!==typeof window&&window.navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return"undefined"!==typeof window&&window.navigator.userAgent.match(/IEMobile/i)},any:function(){return Y.Android()||Y.BlackBerry()||Y.iOS()||Y.Opera()||Y.Windows()}};function G(t){"undefined"!==typeof t.remove?t.remove():"undefined"!==typeof t.parentNode&&null!==t.parentNode&&t.parentNode.removeChild(t)}function K(t){var e=document.createElement("div");e.style.position="absolute",e.style.left="0px",e.style.top="0px",e.style.width="100%";var n=document.createElement("div");return e.appendChild(n),n.appendChild(t),document.body.appendChild(e),e}function X(t){return t&&t._isVue}function J(t){return t?t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"):t}function Z(t){return t?t.normalize("NFD").replace(/[\u0300-\u036f]/g,""):t}function Q(t,e){var n=JSON.parse(JSON.stringify(t)),r=function(t){return function(e,n){return t.map((function(t){var r=t.field,i=t.order,o=t.customSort;if("function"===typeof o)return o(e,n,"desc"!==i);var a=U(e,r),s=U(n,r),u=a>s?1:a<s?-1:0;return"desc"===i?-u:u})).reduce((function(t,e){return t||e}),0)}};return n.sort(r(e))}function tt(t){return void 0===t?null:isNaN(t)?t:t+"px"}function et(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"long",n=[],r=0;r<12;r++)n.push(new Date(2e3,r,15));var i=new Intl.DateTimeFormat(t,{month:e});return n.map((function(t){return i.format(t)}))}function nt(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"narrow",n=[],r=0;r<7;r++){var i=new Date(2e3,0,r+1);n[i.getDay()]=i}var o=new Intl.DateTimeFormat(t,{weekday:e});return n.map((function(t){return o.format(t)}))}function rt(t,e){var n=e.match(t);return t.toString().match(/<(.+?)>/g).map((function(t){var e=t.match(/<(.+)>/);return!e||e.length<=0?null:t.match(/<(.+)>/)[1]})).reduce((function(t,e,r,i){return n&&n.length>r?t[e]=n[r+1]:t[e]=null,t}),{})}function it(){return new Promise((function(t){var e=new Image;e.onerror=function(){return t(!1)},e.onload=function(){return t(1===e.width)},e.src="data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA="})).catch((function(){return!1}))}function ot(t){return"shadowRoot"in t.$root.$options}var at,st=function(t){return void 0!==t},ut=function(t){return null===t||void 0===t},ct=function(t,e){var n=e.type,r=e.target,i=0,o=0;if(null!=r&&r!==t.target){var a=t.target.getBoundingClientRect(),s=r.getBoundingClientRect();i=s.left-a.left,o=s.top-a.top}var u=t.touches[0]||t.changedTouches[0];return new DragEvent(n,{dataTransfer:new DataTransfer,bubbles:!0,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX+i,clientY:u.clientY+o,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey})},lt={defaultContainerElement:null,defaultIconPack:"mdi",defaultIconComponent:null,defaultIconPrev:"chevron-left",defaultIconNext:"chevron-right",defaultLocale:void 0,defaultDialogConfirmText:null,defaultDialogCancelText:null,defaultSnackbarDuration:3500,defaultSnackbarPosition:null,defaultToastDuration:2e3,defaultToastPosition:null,defaultNotificationDuration:2e3,defaultNotificationPosition:null,defaultTooltipType:"is-primary",defaultTooltipDelay:null,defaultTooltipCloseDelay:null,defaultSidebarDelay:null,defaultInputAutocomplete:"on",defaultDateFormatter:null,defaultDateParser:null,defaultDateCreator:null,defaultTimeCreator:null,defaultDayNames:null,defaultMonthNames:null,defaultFirstDayOfWeek:null,defaultUnselectableDaysOfWeek:null,defaultTimeFormatter:null,defaultTimeParser:null,defaultModalCanCancel:["escape","x","outside","button"],defaultModalScroll:null,defaultDatepickerMobileNative:!0,defaultTimepickerMobileNative:!0,defaultTimepickerMobileModal:!0,defaultNoticeQueue:!0,defaultInputHasCounter:!0,defaultTaginputHasCounter:!0,defaultUseHtml5Validation:!0,defaultDropdownMobileModal:!0,defaultFieldLabelPosition:null,defaultDatepickerYearsRange:[-100,10],defaultDatepickerNearbyMonthDays:!0,defaultDatepickerNearbySelectableMonthDays:!1,defaultDatepickerShowWeekNumber:!1,defaultDatepickerWeekNumberClickable:!1,defaultDatepickerMobileModal:!0,defaultTrapFocus:!0,defaultAutoFocus:!0,defaultButtonRounded:!1,defaultSwitchRounded:!0,defaultCarouselInterval:3500,defaultTabsExpanded:!1,defaultTabsAnimated:!0,defaultTabsType:null,defaultStatusIcon:!0,defaultProgrammaticPromise:!1,defaultLinkTags:["a","button","input","router-link","nuxt-link","n-link","RouterLink","NuxtLink","NLink"],defaultImageWebpFallback:null,defaultImageLazy:!0,defaultImageResponsive:!0,defaultImageRatio:null,defaultImageSrcsetFormatter:null,defaultBreadcrumbTag:"a",defaultBreadcrumbAlign:"is-left",defaultBreadcrumbSeparator:"",defaultBreadcrumbSize:"is-medium",customIconPacks:null},ft=function(t){lt=t},ht=function(t){at=t},dt={props:{size:String,expanded:Boolean,loading:Boolean,rounded:Boolean,icon:String,iconPack:String,autocomplete:String,maxlength:[Number,String],useHtml5Validation:{type:Boolean,default:function(){return lt.defaultUseHtml5Validation}},validationMessage:String,locale:{type:[String,Array],default:function(){return lt.defaultLocale}},statusIcon:{type:Boolean,default:function(){return lt.defaultStatusIcon}}},data:function(){return{isValid:!0,isFocused:!1,newIconPack:this.iconPack||lt.defaultIconPack}},computed:{parentField:function(){for(var t=this.$parent,e=0;e<3;e++)t&&!t.$data._isField&&(t=t.$parent);return t},statusType:function(){var t=this.parentField||{},e=t.newType;if(e){if("string"===typeof e)return e;for(var n in e)if(e[n])return n}},statusMessage:function(){if(this.parentField)return this.parentField.newMessage||this.parentField.$slots.message},iconSize:function(){switch(this.size){case"is-small":return this.size;case"is-medium":return;case"is-large":return"mdi"===this.newIconPack?"is-medium":""}}},methods:{focus:function(){var t=this.getElement();void 0!==t&&this.$nextTick((function(){t&&t.focus()}))},onBlur:function(t){this.isFocused=!1,this.$emit("blur",t),this.checkHtml5Validity()},onFocus:function(t){this.isFocused=!0,this.$emit("focus",t)},getElement:function(){var t=this.$refs[this.$data._elementRef];while(X(t))t=t.$refs[t.$data._elementRef];return t},setInvalid:function(){var t="is-danger",e=this.validationMessage||this.getElement().validationMessage;this.setValidity(t,e)},setValidity:function(t,e){var n=this;this.$nextTick((function(){n.parentField&&(n.parentField.type||(n.parentField.newType=t),n.parentField.message||(n.parentField.newMessage=e))}))},checkHtml5Validity:function(){if(this.useHtml5Validation){var t=this.getElement();if(void 0!==t)return t.checkValidity()?(this.setValidity(null,null),this.isValid=!0):(this.setInvalid(),this.isValid=!1),this.isValid}}}};function pt(t,e,n,r,i,o,a,s,u,c){"boolean"!==typeof a&&(u=s,s=a,a=!1);const l="function"===typeof n?n.options:n;let f;if(t&&t.render&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,i&&(l.functional=!0)),r&&(l._scopeId=r),o?(f=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,u(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=f):e&&(f=a?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),f)if(l.functional){const t=l.render;l.render=function(e,n){return f.call(n),t(e,n)}}else{const t=l.beforeCreate;l.beforeCreate=t?[].concat(t,f):[f]}return n}var gt=function(t){"undefined"!==typeof window&&window.Vue&&window.Vue.use(t)},mt=function(t,e){t.component(e.name,e)},vt=function(t,e,n){t.prototype.$buefy||(t.prototype.$buefy={}),t.prototype.$buefy[e]=n},yt={sizes:{default:"mdi-24px","is-small":null,"is-medium":"mdi-36px","is-large":"mdi-48px"},iconPrefix:"mdi-"},bt=function(){var t=lt&&lt.defaultIconComponent?"":"fa-";return{sizes:{default:null,"is-small":null,"is-medium":t+"lg","is-large":t+"2x"},iconPrefix:t,internalIcons:{information:"info-circle",alert:"exclamation-triangle","alert-circle":"exclamation-circle","chevron-right":"angle-right","chevron-left":"angle-left","chevron-down":"angle-down","eye-off":"eye-slash","menu-down":"caret-down","menu-up":"caret-up","close-circle":"times-circle"}}},wt=function(){var t={mdi:yt,fa:bt(),fas:bt(),far:bt(),fad:bt(),fab:bt(),fal:bt(),"fa-solid":bt(),"fa-regular":bt(),"fa-light":bt(),"fa-thin":bt(),"fa-duotone":bt(),"fa-brands":bt()};return lt&&lt.customIconPacks&&(t=W(t,lt.customIconPacks,!0)),t},xt=wt,_t={name:"BIcon",props:{type:[String,Object],component:String,pack:String,icon:String,size:String,customSize:String,customClass:String,both:Boolean},computed:{iconConfig:function(){var t=xt();return t[this.newPack]},iconPrefix:function(){return this.iconConfig&&this.iconConfig.iconPrefix?this.iconConfig.iconPrefix:""},newIcon:function(){return"".concat(this.iconPrefix).concat(this.getEquivalentIconOf(this.icon))},newPack:function(){return this.pack||lt.defaultIconPack},newType:function(){if(this.type){var t=[];if("string"===typeof this.type)t=this.type.split("-");else for(var e in this.type)if(this.type[e]){t=e.split("-");break}if(!(t.length<=1)){var n=t,r=E(n),i=r.slice(1);return"has-text-".concat(i.join("-"))}}},newCustomSize:function(){return this.customSize||this.customSizeByPack},customSizeByPack:function(){if(this.iconConfig&&this.iconConfig.sizes){if(this.size&&void 0!==this.iconConfig.sizes[this.size])return this.iconConfig.sizes[this.size];if(this.iconConfig.sizes.default)return this.iconConfig.sizes.default}return null},useIconComponent:function(){return this.component||lt.defaultIconComponent}},methods:{getEquivalentIconOf:function(t){return this.both&&this.iconConfig&&this.iconConfig.internalIcons&&this.iconConfig.internalIcons[t]?this.iconConfig.internalIcons[t]:t}}};const kt=_t;var At=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"icon",class:[t.newType,t.size]},[t.useIconComponent?n(t.useIconComponent,{tag:"component",class:[t.customClass],attrs:{icon:[t.newPack,t.newIcon],size:t.newCustomSize}}):n("i",{class:[t.newPack,t.newIcon,t.newCustomSize,t.customClass]})],1)},St=[];const Ct=void 0,Et=void 0,Dt=void 0,Mt=!1,Tt=pt({render:At,staticRenderFns:St},Ct,kt,Et,Mt,Dt,!1,void 0,void 0,void 0);var Ft=Tt,Ot={name:"BInput",components:h({},Ft.name,Ft),mixins:[dt],inheritAttrs:!1,props:{value:[Number,String],type:{type:String,default:"text"},lazy:{type:Boolean,default:!1},passwordReveal:Boolean,iconClickable:Boolean,hasCounter:{type:Boolean,default:function(){return lt.defaultInputHasCounter}},customClass:{type:String,default:""},iconRight:String,iconRightClickable:Boolean,iconRightType:String},data:function(){return{newValue:this.value,newType:this.type,newAutocomplete:this.autocomplete||lt.defaultInputAutocomplete,isPasswordVisible:!1,_elementRef:"textarea"===this.type?"textarea":"input"}},computed:{computedValue:{get:function(){return this.newValue},set:function(t){this.newValue=t,this.$emit("input",t)}},rootClasses:function(){return[this.iconPosition,this.size,{"is-expanded":this.expanded,"is-loading":this.loading,"is-clearfix":!this.hasMessage}]},inputClasses:function(){return[this.statusType,this.size,{"is-rounded":this.rounded}]},hasIconRight:function(){return this.passwordReveal||this.loading||this.statusIcon&&this.statusTypeIcon||this.iconRight},rightIcon:function(){return this.passwordReveal?this.passwordVisibleIcon:this.iconRight?this.iconRight:this.statusTypeIcon},rightIconType:function(){return this.passwordReveal?"is-primary":this.iconRight?this.iconRightType||null:this.statusType},iconPosition:function(){var t="";return this.icon&&(t+="has-icons-left "),this.hasIconRight&&(t+="has-icons-right"),t},statusTypeIcon:function(){switch(this.statusType){case"is-success":return"check";case"is-danger":return"alert-circle";case"is-info":return"information";case"is-warning":return"alert"}},hasMessage:function(){return!!this.statusMessage},passwordVisibleIcon:function(){return this.isPasswordVisible?"eye-off":"eye"},valueLength:function(){return"string"===typeof this.computedValue?Array.from(this.computedValue).length:"number"===typeof this.computedValue?this.computedValue.toString().length:0}},watch:{value:function(t){var e=this,n=this.computedValue!=t;this.newValue=t,n&&this.$nextTick((function(){!e.isValid&&e.checkHtml5Validity()}))},type:function(t){this.newType=t}},methods:{togglePasswordVisibility:function(){var t=this;this.isPasswordVisible=!this.isPasswordVisible,this.newType=this.isPasswordVisible?"text":"password",this.$nextTick((function(){t.focus()}))},iconClick:function(t,e){var n=this;this.$emit(t,e),this.$nextTick((function(){n.focus()}))},rightIconClick:function(t){this.passwordReveal?this.togglePasswordVisibility():this.iconRightClickable&&this.iconClick("icon-right-click",t)},onInput:function(t){if(!this.lazy){var e=t.target.value;this.updateValue(e)}},onChange:function(t){if(this.lazy){var e=t.target.value;this.updateValue(e)}},updateValue:function(t){this.computedValue=t,!this.isValid&&this.checkHtml5Validity()}}};const $t=Ot;var Nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"control",class:t.rootClasses},["textarea"!==t.type?n("input",t._b({ref:"input",staticClass:"input",class:[t.inputClasses,t.customClass],attrs:{type:t.newType,autocomplete:t.newAutocomplete,maxlength:t.maxlength},domProps:{value:t.computedValue},on:{input:t.onInput,change:t.onChange,blur:t.onBlur,focus:t.onFocus}},"input",t.$attrs,!1)):n("textarea",t._b({ref:"textarea",staticClass:"textarea",class:[t.inputClasses,t.customClass],attrs:{maxlength:t.maxlength},domProps:{value:t.computedValue},on:{input:t.onInput,change:t.onChange,blur:t.onBlur,focus:t.onFocus}},"textarea",t.$attrs,!1)),t.icon?n("b-icon",{staticClass:"is-left",class:{"is-clickable":t.iconClickable},attrs:{icon:t.icon,pack:t.iconPack,size:t.iconSize},nativeOn:{click:function(e){return t.iconClick("icon-click",e)}}}):t._e(),!t.loading&&t.hasIconRight?n("b-icon",{staticClass:"is-right",class:{"is-clickable":t.passwordReveal||t.iconRightClickable},attrs:{icon:t.rightIcon,pack:t.iconPack,size:t.iconSize,type:t.rightIconType,both:""},nativeOn:{click:function(e){return t.rightIconClick(e)}}}):t._e(),t.maxlength&&t.hasCounter&&"number"!==t.type?n("small",{staticClass:"help counter",class:{"is-invisible":!t.isFocused}},[t._v(" "+t._s(t.valueLength)+" / "+t._s(t.maxlength)+" ")]):t._e()],1)},Bt=[];const Rt=void 0,Pt=void 0,It=void 0,jt=!1,Lt=pt({render:Nt,staticRenderFns:Bt},Rt,$t,Pt,jt,It,!1,void 0,void 0,void 0);var zt=Lt,Ut={name:"BAutocomplete",components:h({},zt.name,zt),mixins:[dt],inheritAttrs:!1,props:{value:[Number,String],data:{type:Array,default:function(){return[]}},field:{type:String,default:"value"},keepFirst:Boolean,clearOnSelect:Boolean,openOnFocus:Boolean,customFormatter:Function,checkInfiniteScroll:Boolean,keepOpen:Boolean,selectOnClickOutside:Boolean,clearable:Boolean,maxHeight:[String,Number],dropdownPosition:{type:String,default:"auto"},groupField:String,groupOptions:String,iconRight:String,iconRightClickable:Boolean,appendToBody:Boolean,type:{type:String,default:"text"},confirmKeys:{type:Array,default:function(){return["Tab","Enter"]}},selectableHeader:Boolean,selectableFooter:Boolean},data:function(){return{selected:null,hovered:null,headerHovered:null,footerHovered:null,isActive:!1,newValue:this.value,newAutocomplete:this.autocomplete||"off",ariaAutocomplete:this.keepFirst?"both":"list",isListInViewportVertically:!0,hasFocus:!1,style:{},_isAutocomplete:!0,_elementRef:"input",_bodyEl:void 0,timeOutID:null}},computed:{computedData:function(){var t=this;if(this.groupField){if(this.groupOptions){var e=[];return this.data.forEach((function(n){var r=U(n,t.groupField),i=U(n,t.groupOptions);e.push({group:r,items:i})})),e}var n={};this.data.forEach((function(e){var r=U(e,t.groupField);n[r]||(n[r]=[]),n[r].push(e)}));var r=[];return Object.keys(n).forEach((function(t){r.push({group:t,items:n[t]})})),r}return[{items:this.data}]},isEmpty:function(){return!this.computedData||!this.computedData.some((function(t){return t.items&&t.items.length}))},whiteList:function(){var t=[];if(t.push(this.$refs.input.$el.querySelector("input")),t.push(this.$refs.dropdown),void 0!==this.$refs.dropdown){var e,n=this.$refs.dropdown.querySelectorAll("*"),r=R(n);try{for(r.s();!(e=r.n()).done;){var i=e.value;t.push(i)}}catch(c){r.e(c)}finally{r.f()}}if(this.$parent.$data._isTaginput){t.push(this.$parent.$el);var o,a=this.$parent.$el.querySelectorAll("*"),s=R(a);try{for(s.s();!(o=s.n()).done;){var u=o.value;t.push(u)}}catch(c){s.e(c)}finally{s.f()}}return t},hasDefaultSlot:function(){return!!this.$scopedSlots.default},hasGroupSlot:function(){return!!this.$scopedSlots.group},hasEmptySlot:function(){return!!this.$slots.empty},hasHeaderSlot:function(){return!!this.$slots.header},hasFooterSlot:function(){return!!this.$slots.footer},isOpenedTop:function(){return"top"===this.dropdownPosition||"auto"===this.dropdownPosition&&!this.isListInViewportVertically},newIconRight:function(){return this.clearable&&this.newValue?"close-circle":this.iconRight},newIconRightClickable:function(){return!!this.clearable||this.iconRightClickable},contentStyle:function(){return{maxHeight:tt(this.maxHeight)}}},watch:{isActive:function(t){var e=this;"auto"===this.dropdownPosition&&(t?this.calcDropdownInViewportVertical():this.timeOutID=setTimeout((function(){e.calcDropdownInViewportVertical()}),100)),this.$nextTick((function(){e.$emit("active",t)}))},checkInfiniteScroll:function(t){if(!1!==(this.$refs.dropdown&&this.$refs.dropdown.querySelector(".dropdown-content"))){var e=this.$refs.dropdown.querySelector(".dropdown-content");!0!==t?e.removeEventListener("scroll",this.checkIfReachedTheEndOfScroll):e.addEventListener("scroll",this.checkIfReachedTheEndOfScroll)}},newValue:function(t){this.$emit("input",t);var e=this.getValue(this.selected);e&&e!==t&&this.setSelected(null,!1),!this.hasFocus||this.openOnFocus&&!t||(this.isActive=!!t)},value:function(t){this.newValue=t},data:function(){var t=this;if(this.keepFirst)this.$nextTick((function(){t.isActive?t.selectFirstOption(t.computedData):t.setHovered(null)}));else if(this.hovered){var e=this.getValue(this.hovered),n=this.computedData.map((function(t){return t.items})).reduce((function(t,e){return[].concat(D(t),D(e))}),[]);n.some((function(n){return t.getValue(n)===e}))||this.setHovered(null)}}},methods:{setHovered:function(t){void 0!==t&&(this.hovered=t)},setSelected:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(void 0!==t){if(this.selected=t,this.$emit("select",this.selected,r),null!==this.selected){if(this.clearOnSelect){var i=this.$refs.input;i.newValue="",i.$refs.input.value=""}else this.newValue=this.getValue(this.selected);this.setHovered(null)}n&&this.$nextTick((function(){e.isActive=!1})),this.checkValidity()}},selectFirstOption:function(t){var e=this;this.$nextTick((function(){var n=t.filter((function(t){return t.items&&t.items.length}));if(n.length){var r=n[0].items[0];e.setHovered(r)}else e.setHovered(null)}))},keydown:function(t){var e=t.key;if("Enter"===e&&t.preventDefault(),"Escape"!==e&&"Tab"!==e||(this.isActive=!1),this.confirmKeys.indexOf(e)>=0){","===e&&t.preventDefault();var n=!this.keepOpen||"Tab"===e;if(null===this.hovered)return void this.checkIfHeaderOrFooterSelected(t,null,n);this.setSelected(this.hovered,n,t)}},selectHeaderOrFoterByClick:function(t,e){this.checkIfHeaderOrFooterSelected(t,{origin:e})},checkIfHeaderOrFooterSelected:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.selectableHeader&&(this.headerHovered||e&&"header"===e.origin)&&(this.$emit("select-header",t),this.headerHovered=!1,e&&this.setHovered(null),n&&(this.isActive=!1)),this.selectableFooter&&(this.footerHovered||e&&"footer"===e.origin)&&(this.$emit("select-footer",t),this.footerHovered=!1,e&&this.setHovered(null),n&&(this.isActive=!1))},clickedOutside:function(t){var e=ot(this)?t.composedPath()[0]:t.target;!this.hasFocus&&this.whiteList.indexOf(e)<0&&(this.keepFirst&&this.hovered&&this.selectOnClickOutside?this.setSelected(this.hovered,!0):this.isActive=!1)},getValue:function(t){if(null!==t)return"undefined"!==typeof this.customFormatter?this.customFormatter(t):"object"===u(t)?U(t,this.field):t},checkIfReachedTheEndOfScroll:function(){var t=this.$refs.dropdown.querySelector(".dropdown-content"),e=this.hasFooterSlot?t.querySelectorAll("div.dropdown-footer")[0].clientHeight:0;t.clientHeight!==t.scrollHeight&&t.scrollTop+t.parentElement.clientHeight+e>=t.scrollHeight&&this.$emit("infinite-scroll")},calcDropdownInViewportVertical:function(){var t=this;this.$nextTick((function(){if(void 0!==t.$refs.dropdown){var e=t.$refs.dropdown.getBoundingClientRect();t.isListInViewportVertically=e.top>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight),t.appendToBody&&t.updateAppendToBody()}}))},keyArrows:function(t){var e="down"===t?1:-1;if(this.isActive){var n,r=this.computedData.map((function(t){return t.items})).reduce((function(t,e){return[].concat(D(t),D(e))}),[]);this.hasHeaderSlot&&this.selectableHeader&&r.unshift(void 0),this.hasFooterSlot&&this.selectableFooter&&r.push(void 0),n=this.headerHovered?0+e:this.footerHovered?r.length-1+e:r.indexOf(this.hovered)+e,n=n>r.length-1?r.length-1:n,n=n<0?0:n,this.footerHovered=!1,this.headerHovered=!1,this.setHovered(void 0!==r[n]?r[n]:null),this.hasFooterSlot&&this.selectableFooter&&n===r.length-1&&(this.footerHovered=!0),this.hasHeaderSlot&&this.selectableHeader&&0===n&&(this.headerHovered=!0);var i=this.$refs.dropdown.querySelector(".dropdown-content"),o="a.dropdown-item:not(.is-disabled)";this.hasHeaderSlot&&this.selectableHeader&&(o+=",div.dropdown-header"),this.hasFooterSlot&&this.selectableFooter&&(o+=",div.dropdown-footer");var a=i.querySelectorAll(o)[n];if(!a)return;var s=i.scrollTop,u=i.scrollTop+i.clientHeight-a.clientHeight;a.offsetTop<s?i.scrollTop=a.offsetTop:a.offsetTop>=u&&(i.scrollTop=a.offsetTop-i.clientHeight+a.clientHeight)}else this.isActive=!0},focused:function(t){this.getValue(this.selected)===this.newValue&&this.$el.querySelector("input").select(),this.openOnFocus&&(this.isActive=!0,this.keepFirst&&this.selectFirstOption(this.computedData)),this.hasFocus=!0,this.$emit("focus",t)},onBlur:function(t){this.hasFocus=!1,this.$emit("blur",t)},onInput:function(){var t=this.getValue(this.selected);t&&t===this.newValue||(this.$emit("typing",this.newValue),this.checkValidity())},rightIconClick:function(t){this.clearable?(this.newValue="",this.setSelected(null,!1),this.openOnFocus&&this.$refs.input.$el.focus()):this.$emit("icon-right-click",t)},checkValidity:function(){var t=this;this.useHtml5Validation&&this.$nextTick((function(){t.checkHtml5Validity()}))},updateAppendToBody:function(){var t=this.$refs.dropdown,e=this.$parent.$data._isTaginput?this.$parent.$el:this.$refs.input.$el;if(t&&e){var n=this.$data._bodyEl;n.classList.forEach((function(t){return n.classList.remove(t)})),n.classList.add("autocomplete"),n.classList.add("control"),this.expandend&&n.classList.add("is-expandend");var r=e.getBoundingClientRect(),i=r.top+window.scrollY,o=r.left+window.scrollX;this.isOpenedTop?i-=t.clientHeight:i+=e.clientHeight,this.style={position:"absolute",top:"".concat(i,"px"),left:"".concat(o,"px"),width:"".concat(e.clientWidth,"px"),maxWidth:"".concat(e.clientWidth,"px"),zIndex:"99"}}}},created:function(){"undefined"!==typeof window&&(document.addEventListener("click",this.clickedOutside),"auto"===this.dropdownPosition&&window.addEventListener("resize",this.calcDropdownInViewportVertical))},mounted:function(){if(this.checkInfiniteScroll&&this.$refs.dropdown&&this.$refs.dropdown.querySelector(".dropdown-content")){var t=this.$refs.dropdown.querySelector(".dropdown-content");t.addEventListener("scroll",this.checkIfReachedTheEndOfScroll)}this.appendToBody&&(this.$data._bodyEl=K(this.$refs.dropdown),this.updateAppendToBody())},beforeDestroy:function(){if("undefined"!==typeof window&&(document.removeEventListener("click",this.clickedOutside),"auto"===this.dropdownPosition&&window.removeEventListener("resize",this.calcDropdownInViewportVertical)),this.checkInfiniteScroll&&this.$refs.dropdown&&this.$refs.dropdown.querySelector(".dropdown-content")){var t=this.$refs.dropdown.querySelector(".dropdown-content");t.removeEventListener("scroll",this.checkIfReachedTheEndOfScroll)}this.appendToBody&&G(this.$data._bodyEl),clearTimeout(this.timeOutID)}};const qt=Ut;var Vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"autocomplete control",class:{"is-expanded":t.expanded}},[n("b-input",t._b({ref:"input",attrs:{type:t.type,size:t.size,loading:t.loading,rounded:t.rounded,icon:t.icon,"icon-right":t.newIconRight,"icon-right-clickable":t.newIconRightClickable,"icon-pack":t.iconPack,maxlength:t.maxlength,autocomplete:t.newAutocomplete,"use-html5-validation":!1,"aria-autocomplete":t.ariaAutocomplete},on:{input:t.onInput,focus:t.focused,blur:t.onBlur,"icon-right-click":t.rightIconClick,"icon-click":function(e){return t.$emit("icon-click",e)}},nativeOn:{keydown:[function(e){return t.keydown(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:(e.preventDefault(),t.keyArrows("up"))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:(e.preventDefault(),t.keyArrows("down"))}]},model:{value:t.newValue,callback:function(e){t.newValue=e},expression:"newValue"}},"b-input",t.$attrs,!1)),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive&&(!t.isEmpty||t.hasEmptySlot||t.hasHeaderSlot||t.hasFooterSlot),expression:"isActive && (!isEmpty || hasEmptySlot || hasHeaderSlot || hasFooterSlot)"}],ref:"dropdown",staticClass:"dropdown-menu",class:{"is-opened-top":t.isOpenedTop&&!t.appendToBody},style:t.style},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"dropdown-content",style:t.contentStyle},[t.hasHeaderSlot?n("div",{staticClass:"dropdown-item dropdown-header",class:{"is-hovered":t.headerHovered},attrs:{role:"button",tabindex:"0"},on:{click:function(e){return t.selectHeaderOrFoterByClick(e,"header")}}},[t._t("header")],2):t._e(),t._l(t.computedData,(function(e,r){return[e.group?n("div",{key:r+"group",staticClass:"dropdown-item"},[t.hasGroupSlot?t._t("group",null,{group:e.group,index:r}):n("span",{staticClass:"has-text-weight-bold"},[t._v(" "+t._s(e.group)+" ")])],2):t._e(),t._l(e.items,(function(e,i){return n("a",{key:r+":"+i,staticClass:"dropdown-item",class:{"is-hovered":e===t.hovered},attrs:{role:"button",tabindex:"0"},on:{click:function(n){return n.stopPropagation(),t.setSelected(e,!t.keepOpen,n)}}},[t.hasDefaultSlot?t._t("default",null,{option:e,index:i}):n("span",[t._v(" "+t._s(t.getValue(e,!0))+" ")])],2)}))]})),t.isEmpty&&t.hasEmptySlot?n("div",{staticClass:"dropdown-item is-disabled"},[t._t("empty")],2):t._e(),t.hasFooterSlot?n("div",{staticClass:"dropdown-item dropdown-footer",class:{"is-hovered":t.footerHovered},attrs:{role:"button",tabindex:"0"},on:{click:function(e){return t.selectHeaderOrFoterByClick(e,"footer")}}},[t._t("footer")],2):t._e()],2)])])],1)},Ht=[];const Wt=void 0,Yt=void 0,Gt=void 0,Kt=!1,Xt=pt({render:Vt,staticRenderFns:Ht},Wt,qt,Yt,Kt,Gt,!1,void 0,void 0,void 0);var Jt=Xt,Zt={install:function(t){mt(t,Jt)}};gt(Zt);var Qt={name:"BBreadcrumb",props:{align:{type:String,default:function(){return lt.defaultBreadcrumbAlign}},separator:{type:String,default:function(){return lt.defaultBreadcrumbSeparator}},size:{type:String,default:function(){return lt.defaultBreadcrumbSize}}},computed:{breadcrumbClasses:function(){return["breadcrumb",this.align,this.separator,this.size]}}};const te=Qt;var ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{class:t.breadcrumbClasses},[n("ul",[t._t("default")],2)])},ne=[];const re=void 0,ie=void 0,oe=void 0,ae=!1,se=pt({render:ee,staticRenderFns:ne},re,te,ie,ae,oe,!1,void 0,void 0,void 0);var ue=se,ce={name:"BBreadcrumbItem",inheritAttrs:!1,props:{tag:{type:String,default:function(){return lt.defaultBreadcrumbTag}},active:Boolean}};const le=ce;var fe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{class:{"is-active":t.active}},[n(t.tag,t._g(t._b({tag:"component"},"component",t.$attrs,!1),t.$listeners),[t._t("default")],2)],1)},he=[];const de=void 0,pe=void 0,ge=void 0,me=!1,ve=pt({render:fe,staticRenderFns:he},de,le,pe,me,ge,!1,void 0,void 0,void 0);var ye=ve,be={install:function(t){mt(t,ue),mt(t,ye)}};gt(be);var we={name:"BButton",components:h({},Ft.name,Ft),inheritAttrs:!1,props:{type:[String,Object],size:String,label:String,iconPack:String,iconLeft:String,iconRight:String,rounded:{type:Boolean,default:function(){return lt.defaultButtonRounded}},loading:Boolean,outlined:Boolean,expanded:Boolean,inverted:Boolean,focused:Boolean,active:Boolean,hovered:Boolean,selected:Boolean,nativeType:{type:String,default:"button",validator:function(t){return["button","submit","reset"].indexOf(t)>=0}},tag:{type:String,default:"button",validator:function(t){return lt.defaultLinkTags.indexOf(t)>=0}}},computed:{computedTag:function(){return void 0!==this.$attrs.disabled&&!1!==this.$attrs.disabled?"button":this.tag},iconSize:function(){return this.size&&"is-medium"!==this.size?"is-large"===this.size?"is-medium":this.size:"is-small"}}};const xe=we;var _e=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.computedTag,t._g(t._b({tag:"component",staticClass:"button",class:[t.size,t.type,{"is-rounded":t.rounded,"is-loading":t.loading,"is-outlined":t.outlined,"is-fullwidth":t.expanded,"is-inverted":t.inverted,"is-focused":t.focused,"is-active":t.active,"is-hovered":t.hovered,"is-selected":t.selected}],attrs:{type:["button","input"].includes(t.computedTag)?t.nativeType:void 0}},"component",t.$attrs,!1),t.$listeners),[t.iconLeft?n("b-icon",{attrs:{pack:t.iconPack,icon:t.iconLeft,size:t.iconSize}}):t._e(),t.label?n("span",[t._v(t._s(t.label))]):t.$slots.default?n("span",[t._t("default")],2):t._e(),t.iconRight?n("b-icon",{attrs:{pack:t.iconPack,icon:t.iconRight,size:t.iconSize}}):t._e()],1)},ke=[];const Ae=void 0,Se=void 0,Ce=void 0,Ee=!1,De=pt({render:_e,staticRenderFns:ke},Ae,xe,Se,Ee,Ce,!1,void 0,void 0,void 0);var Me=De,Te={install:function(t){mt(t,Me)}};gt(Te);var Fe=1,Oe=3,$e=Oe,Ne=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={provide:function(){return h({},"b"+t,this)}};return j(e,Fe)&&(n.data=function(){return{childItems:[]}},n.methods={_registerItem:function(t){this.childItems.push(t)},_unregisterItem:function(t){this.childItems=this.childItems.filter((function(e){return e!==t}))}},j(e,Oe)&&(n.watch={childItems:function(t){if(t.length>0&&this.$scopedSlots.default){var e=t[0].$vnode.tag,n=0,r=function r(i){var o,a=R(i);try{var s=function(){var i=o.value;if(i.tag===e){var a=t.find((function(t){return t.$vnode===i}));a&&(a.index=n++)}else if(i.tag){var s=i.componentInstance?i.componentInstance.$scopedSlots.default?i.componentInstance.$scopedSlots.default():i.componentInstance.$children:i.children;Array.isArray(s)&&s.length>0&&r(s.map((function(t){return t.$vnode})))}};for(a.s();!(o=a.n()).done;)s()}catch(u){a.e(u)}finally{a.f()}return!1};r(this.$scopedSlots.default())}}},n.computed={sortedItems:function(){return this.childItems.slice().sort((function(t,e){return t.index-e.index}))}})),n},Be=1,Re=2,Pe=Be,Ie=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={inject:{parent:{from:"b"+t,default:!1}},created:function(){if(this.parent)this.parent._registerItem&&this.parent._registerItem(this);else if(!j(e,Re))throw this.$destroy(),new Error("You should wrap "+this.$options.name+" in a "+t)},beforeDestroy:function(){this.parent&&this.parent._unregisterItem&&this.parent._unregisterItem(this)}};return j(e,Be)&&(n.data=function(){return{index:null}}),n},je={name:"BImage",props:{src:String,alt:String,srcFallback:String,webpFallback:{type:String,default:function(){return lt.defaultImageWebpFallback}},lazy:{type:Boolean,default:function(){return lt.defaultImageLazy}},responsive:{type:Boolean,default:function(){return lt.defaultImageResponsive}},ratio:{type:String,default:function(){return lt.defaultImageRatio}},placeholder:String,srcset:String,srcsetSizes:Array,srcsetFormatter:{type:Function,default:function(t,e,n){return"function"===typeof lt.defaultImageSrcsetFormatter?lt.defaultImageSrcsetFormatter(t,e):n.formatSrcset(t,e)}},rounded:{type:Boolean,default:!1},captionFirst:{type:Boolean,default:!1},customClass:String},data:function(){return{clientWidth:0,webpSupportVerified:!1,webpSupported:!1,useNativeLazy:!1,observer:null,inViewPort:!1,bulmaKnownRatio:["square","1by1","5by4","4by3","3by2","5by3","16by9","b2y1","3by1","4by5","3by4","2by3","3by5","9by16","1by2","1by3"],loaded:!1,failed:!1}},computed:{ratioPattern:function(){return new RegExp(/([0-9]+)by([0-9]+)/)},hasRatio:function(){return this.ratio&&this.ratioPattern.test(this.ratio)},figureClasses:function(){var t={image:this.responsive};return this.hasRatio&&this.bulmaKnownRatio.indexOf(this.ratio)>=0&&(t["is-".concat(this.ratio)]=!0),t},figureStyles:function(){if(this.hasRatio&&this.bulmaKnownRatio.indexOf(this.ratio)<0){var t=this.ratioPattern.exec(this.ratio);return{paddingTop:"".concat(t[2]/t[1]*100,"%")}}},imgClasses:function(){return h({"is-rounded":this.rounded,"has-ratio":this.hasRatio},this.customClass,!!this.customClass)},srcExt:function(){return this.getExt(this.src)},isWepb:function(){return"webp"===this.srcExt},computedSrc:function(){var t=this.src;return this.failed&&this.srcFallback&&(t=this.srcFallback),!this.webpSupported&&this.isWepb&&this.webpFallback?this.webpFallback.startsWith(".")?t.replace(/\.webp/gi,"".concat(this.webpFallback)):this.webpFallback:t},computedWidth:function(){if(this.responsive&&this.clientWidth>0)return this.clientWidth},computedNativeLazy:function(){if(this.lazy&&this.useNativeLazy)return"lazy"},isDisplayed:function(){return(this.webpSupportVerified||!this.isWepb)&&(!this.lazy||this.useNativeLazy||this.inViewPort)},placeholderExt:function(){if(this.placeholder)return this.getExt(this.placeholder)},isPlaceholderWepb:function(){if(this.placeholder)return"webp"===this.placeholderExt},computedPlaceholder:function(){return!this.webpSupported&&this.isPlaceholderWepb&&this.webpFallback&&this.webpFallback.startsWith(".")?this.placeholder.replace(/\.webp/gi,"".concat(this.webpFallback)):this.placeholder},isPlaceholderDisplayed:function(){return!this.loaded&&(this.$slots.placeholder||this.placeholder&&(this.webpSupportVerified||!this.isPlaceholderWepb))},computedSrcset:function(){var t=this;return this.srcset?!this.webpSupported&&this.isWepb&&this.webpFallback&&this.webpFallback.startsWith(".")?this.srcset.replace(/\.webp/gi,"".concat(this.webpFallback)):this.srcset:this.srcsetSizes&&Array.isArray(this.srcsetSizes)&&this.srcsetSizes.length>0?this.srcsetSizes.map((function(e){return"".concat(t.srcsetFormatter(t.computedSrc,e,t)," ").concat(e,"w")})).join(","):void 0},computedSizes:function(){if(this.computedSrcset&&this.computedWidth)return"".concat(this.computedWidth,"px")},isCaptionFirst:function(){return this.$slots.caption&&this.captionFirst},isCaptionLast:function(){return this.$slots.caption&&!this.captionFirst}},methods:{getExt:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t){var n=e?t.split("?")[0]:t;return n.split(".").pop()}return""},setWidth:function(){this.clientWidth=this.$el.clientWidth},formatSrcset:function(t,e){var n=this.getExt(t,!1),r=t.split(".").slice(0,-1).join(".");return"".concat(r,"-").concat(e,".").concat(n)},onLoad:function(t){this.loaded=!0,this.emit("load",t)},onError:function(t){this.emit("error",t),this.failed||(this.failed=!0)},emit:function(t,e){var n=e.target;this.$emit(t,e,n.currentSrc||n.src||this.computedSrc)}},created:function(){var t=this;if(this.isWepb&&it().then((function(e){t.webpSupportVerified=!0,t.webpSupported=e})),this.lazy){var e="undefined"!==typeof window&&"HTMLImageElement"in window&&"loading"in HTMLImageElement.prototype,n="undefined"!==typeof window&&"IntersectionObserver"in window;!e&&n?this.observer=new IntersectionObserver((function(e){var n=e[0],r=n.target,i=n.isIntersecting;i&&!t.inViewPort&&(t.inViewPort=!0,t.observer.unobserve(r))})):this.useNativeLazy=!0}},mounted:function(){this.lazy&&this.observer&&this.observer.observe(this.$el),this.setWidth(),"undefined"!==typeof window&&window.addEventListener("resize",this.setWidth)},beforeDestroy:function(){this.observer&&this.observer.disconnect(),"undefined"!==typeof window&&window.removeEventListener("resize",this.setWidth)}};const Le=je;var ze=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("figure",{staticClass:"b-image-wrapper",class:t.figureClasses,style:t.figureStyles},[t.isCaptionFirst?n("figcaption",[t._t("caption")],2):t._e(),n("transition",{attrs:{name:"fade"}},[t.isDisplayed?n("img",{class:t.imgClasses,attrs:{srcset:t.computedSrcset,src:t.computedSrc,alt:t.alt,width:t.computedWidth,sizes:t.computedSizes,loading:t.computedNativeLazy},on:{load:t.onLoad,error:t.onError}}):t._e()]),n("transition",{attrs:{name:"fade"}},[t.isPlaceholderDisplayed?t._t("placeholder",[n("img",{staticClass:"placeholder",class:t.imgClasses,attrs:{src:t.computedPlaceholder,alt:t.alt}})]):t._e()],2),t.isCaptionLast?n("figcaption",[t._t("caption")],2):t._e()],1)},Ue=[];const qe=void 0,Ve=void 0,He=void 0,We=!1,Ye=pt({render:ze,staticRenderFns:Ue},qe,Le,Ve,We,He,!1,void 0,void 0,void 0);var Ge=Ye,Ke={name:"BCarousel",components:h({},Ft.name,Ft),mixins:[Ne("carousel",$e)],props:{value:{type:Number,default:0},animated:{type:String,default:"slide"},interval:Number,hasDrag:{type:Boolean,default:!0},autoplay:{type:Boolean,default:!0},pauseHover:{type:Boolean,default:!0},pauseInfo:{type:Boolean,default:!0},pauseInfoType:{type:String,default:"is-white"},pauseText:{type:String,default:"Pause"},arrow:{type:Boolean,default:!0},arrowHover:{type:Boolean,default:!0},repeat:{type:Boolean,default:!0},iconPack:String,iconSize:String,iconPrev:{type:String,default:function(){return lt.defaultIconPrev}},iconNext:{type:String,default:function(){return lt.defaultIconNext}},indicator:{type:Boolean,default:!0},indicatorBackground:Boolean,indicatorCustom:Boolean,indicatorCustomSize:{type:String,default:"is-small"},indicatorInside:{type:Boolean,default:!0},indicatorMode:{type:String,default:"click"},indicatorPosition:{type:String,default:"is-bottom"},indicatorStyle:{type:String,default:"is-dots"},overlay:Boolean,progress:Boolean,progressType:{type:String,default:"is-primary"},withCarouselList:Boolean},data:function(){return{transition:"next",activeChild:this.value||0,isPause:!1,dragX:!1,timer:null}},computed:{indicatorClasses:function(){return[{"has-background":this.indicatorBackground,"has-custom":this.indicatorCustom,"is-inside":this.indicatorInside},this.indicatorCustom&&this.indicatorCustomSize,this.indicatorInside&&this.indicatorPosition]},hasPrev:function(){return this.repeat||0!==this.activeChild},hasNext:function(){return this.repeat||this.activeChild<this.childItems.length-1}},watch:{value:function(t){this.changeActive(t)},sortedItems:function(t){this.activeChild>=t.length&&this.activeChild>0&&this.changeActive(this.activeChild-1)},autoplay:function(t){t?this.startTimer():this.pauseTimer()},repeat:function(t){t&&this.startTimer()}},methods:{startTimer:function(){var t=this;this.autoplay&&!this.timer&&(this.isPause=!1,this.timer=setInterval((function(){!t.repeat&&t.activeChild>=t.childItems.length-1?t.pauseTimer():t.next()}),this.interval||lt.defaultCarouselInterval))},pauseTimer:function(){this.isPause=!0,this.timer&&(clearInterval(this.timer),this.timer=null)},restartTimer:function(){this.pauseTimer(),this.startTimer()},checkPause:function(){this.pauseHover&&this.autoplay&&this.pauseTimer()},changeActive:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.activeChild===t||isNaN(t)||(e=e||t-this.activeChild,t=this.repeat?L(t,this.childItems.length):z(t,0,this.childItems.length-1),this.transition=e>0?"prev":"next",this.activeChild=t,t!==this.value&&this.$emit("input",t),this.restartTimer(),this.$emit("change",t))},modeChange:function(t,e){if(this.indicatorMode===t)return this.changeActive(e)},prev:function(){this.changeActive(this.activeChild-1,-1)},next:function(){this.changeActive(this.activeChild+1,1)},dragStart:function(t){this.hasDrag&&t.target.draggable&&(this.dragX=t.touches?t.changedTouches[0].pageX:t.pageX,t.touches?this.pauseTimer():t.preventDefault())},dragEnd:function(t){if(!1!==this.dragX){var e=t.touches?t.changedTouches[0].pageX:t.pageX,n=e-this.dragX;Math.abs(n)>30?n<0?this.next():this.prev():(t.target.click(),this.sortedItems[this.activeChild].$emit("click"),this.$emit("click")),t.touches&&this.startTimer(),this.dragX=!1}}},mounted:function(){this.startTimer()},beforeDestroy:function(){this.pauseTimer()}};const Xe=Ke;var Je=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"carousel",class:{"is-overlay":t.overlay},on:{mouseenter:t.checkPause,mouseleave:t.startTimer}},[t.progress?n("progress",{staticClass:"progress",class:t.progressType,attrs:{max:t.childItems.length-1},domProps:{value:t.activeChild}},[t._v(" "+t._s(t.childItems.length-1)+" ")]):t._e(),n("div",{staticClass:"carousel-items",on:{mousedown:t.dragStart,mouseup:t.dragEnd,touchstart:function(e){return e.stopPropagation(),t.dragStart(e)},touchend:function(e){return e.stopPropagation(),t.dragEnd(e)}}},[t._t("default"),t.arrow?n("div",{staticClass:"carousel-arrow",class:{"is-hovered":t.arrowHover}},[n("b-icon",{directives:[{name:"show",rawName:"v-show",value:t.hasPrev,expression:"hasPrev"}],staticClass:"has-icons-left",attrs:{pack:t.iconPack,icon:t.iconPrev,size:t.iconSize,both:""},nativeOn:{click:function(e){return t.prev(e)}}}),n("b-icon",{directives:[{name:"show",rawName:"v-show",value:t.hasNext,expression:"hasNext"}],staticClass:"has-icons-right",attrs:{pack:t.iconPack,icon:t.iconNext,size:t.iconSize,both:""},nativeOn:{click:function(e){return t.next(e)}}})],1):t._e()],2),t.autoplay&&t.pauseHover&&t.pauseInfo&&t.isPause?n("div",{staticClass:"carousel-pause"},[n("span",{staticClass:"tag",class:t.pauseInfoType},[t._v(" "+t._s(t.pauseText)+" ")])]):t._e(),t.withCarouselList&&!t.indicator?[t._t("list",null,{active:t.activeChild,switch:t.changeActive})]:t._e(),t.indicator?n("div",{staticClass:"carousel-indicator",class:t.indicatorClasses},t._l(t.sortedItems,(function(e,r){return n("a",{key:e._uid,staticClass:"indicator-item",class:{"is-active":e.isActive},on:{mouseover:function(e){return t.modeChange("hover",r)},click:function(e){return t.modeChange("click",r)}}},[t._t("indicators",[n("span",{staticClass:"indicator-style",class:t.indicatorStyle})],{i:r})],2)})),0):t._e(),t.overlay?[t._t("overlay")]:t._e()],2)},Ze=[];const Qe=void 0,tn=void 0,en=void 0,nn=!1,rn=pt({render:Je,staticRenderFns:Ze},Qe,Xe,tn,nn,en,!1,void 0,void 0,void 0);var on=rn,an={name:"BCarouselItem",mixins:[Ie("carousel",Pe)],data:function(){return{transitionName:null}},computed:{transition:function(){return"fade"===this.parent.animated?"fade":this.parent.transition?"slide-"+this.parent.transition:void 0},isActive:function(){return this.parent.activeChild===this.index}}};const sn=an;var un=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:t.transition}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"carousel-item"},[t._t("default")],2)])},cn=[];const ln=void 0,fn=void 0,hn=void 0,dn=!1,pn=pt({render:un,staticRenderFns:cn},ln,sn,fn,dn,hn,!1,void 0,void 0,void 0);var gn=pn,mn={name:"BCarouselList",components:h(h({},Ft.name,Ft),Ge.name,Ge),props:{data:{type:Array,default:function(){return[]}},value:{type:Number,default:0},scrollValue:{type:Number,default:0},hasDrag:{type:Boolean,default:!0},hasGrayscale:Boolean,hasOpacity:Boolean,repeat:Boolean,itemsToShow:{type:Number,default:4},itemsToList:{type:Number,default:1},asIndicator:Boolean,arrow:{type:Boolean,default:!0},arrowHover:{type:Boolean,default:!0},iconPack:String,iconSize:String,iconPrev:{type:String,default:function(){return lt.defaultIconPrev}},iconNext:{type:String,default:function(){return lt.defaultIconNext}},breakpoints:{type:Object,default:function(){return{}}}},data:function(){return{activeItem:this.value,scrollIndex:this.asIndicator?this.scrollValue:this.value,delta:0,dragX:!1,hold:0,windowWidth:0,touch:!1,observer:null,refresh_:0}},computed:{dragging:function(){return!1!==this.dragX},listClass:function(){return[{"has-grayscale":this.settings.hasGrayscale,"has-opacity":this.settings.hasOpacity,"is-dragging":this.dragging}]},itemStyle:function(){return"width: ".concat(this.itemWidth,"px;")},translation:function(){return-z(this.delta+this.scrollIndex*this.itemWidth,0,(this.data.length-this.settings.itemsToShow)*this.itemWidth)},total:function(){return this.data.length-this.settings.itemsToShow},hasPrev:function(){return this.settings.repeat||this.scrollIndex>0},hasNext:function(){return this.settings.repeat||this.scrollIndex<this.total},breakpointKeys:function(){return Object.keys(this.breakpoints).sort((function(t,e){return e-t}))},settings:function(){var t=this,e=this.breakpointKeys.filter((function(e){if(t.windowWidth>=e)return!0}))[0];return e?o(o({},this.$props),this.breakpoints[e]):this.$props},itemWidth:function(){if(this.windowWidth){this.refresh_;var t=this.$el.getBoundingClientRect();return t.width/this.settings.itemsToShow}return 0}},watch:{value:function(t){this.switchTo(this.asIndicator?t-(this.itemsToShow-3)/2:t),this.activeItem!==t&&(this.activeItem=z(t,0,this.data.length-1))},scrollValue:function(t){this.switchTo(t)}},methods:{resized:function(){this.windowWidth=window.innerWidth},switchTo:function(t){t===this.scrollIndex||isNaN(t)||(this.settings.repeat&&(t=L(t,this.total+1)),t=z(t,0,this.total),this.scrollIndex=t,this.asIndicator||this.value===t?this.scrollIndex!==t&&this.$emit("updated:scroll",t):this.$emit("input",t))},next:function(){this.switchTo(this.scrollIndex+this.settings.itemsToList)},prev:function(){this.switchTo(this.scrollIndex-this.settings.itemsToList)},checkAsIndicator:function(t,e){if(this.asIndicator){var n=e.changedTouches?e.changedTouches[0].clientX:e.clientX;this.hold-Date.now()>2e3||Math.abs(this.dragX-n)>10||(this.dragX=!1,this.hold=0,e.preventDefault(),this.activeItem=t,this.$emit("switch",t))}},dragStart:function(t){this.dragging||!this.settings.hasDrag||0!==t.button&&"touchstart"!==t.type||(this.hold=Date.now(),this.touch=!!t.touches,this.dragX=this.touch?t.touches[0].clientX:t.clientX,window.addEventListener(this.touch?"touchmove":"mousemove",this.dragMove),window.addEventListener(this.touch?"touchend":"mouseup",this.dragEnd))},dragMove:function(t){if(this.dragging){var e=t.touches?(t.changedTouches[0]||t.touches[0]).clientX:t.clientX;this.delta=this.dragX-e,t.touches||t.preventDefault()}},dragEnd:function(){if(this.dragging||this.hold){if(this.hold){var t=I(this.delta),e=Math.round(Math.abs(this.delta/this.itemWidth)+.15);this.switchTo(this.scrollIndex+t*e)}this.delta=0,this.dragX=!1,window.removeEventListener(this.touch?"touchmove":"mousemove",this.dragMove),window.removeEventListener(this.touch?"touchend":"mouseup",this.dragEnd)}},refresh:function(){var t=this;this.$nextTick((function(){t.refresh_++}))}},mounted:function(){if("undefined"!==typeof window&&(window.ResizeObserver&&(this.observer=new ResizeObserver(this.refresh),this.observer.observe(this.$el)),window.addEventListener("resize",this.resized),document.addEventListener("animationend",this.refresh),document.addEventListener("transitionend",this.refresh),document.addEventListener("transitionstart",this.refresh),this.resized()),this.$attrs.config)throw new Error("The config prop was removed, you need to use v-bind instead")},beforeDestroy:function(){"undefined"!==typeof window&&(window.ResizeObserver&&this.observer.disconnect(),window.removeEventListener("resize",this.resized),document.removeEventListener("animationend",this.refresh),document.removeEventListener("transitionend",this.refresh),document.removeEventListener("transitionstart",this.refresh),this.dragEnd())}};const vn=mn;var yn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"carousel-list",class:{"has-shadow":t.scrollIndex>0},on:{mousedown:function(e){return e.preventDefault(),t.dragStart(e)},touchstart:t.dragStart}},[n("div",{staticClass:"carousel-slides",class:t.listClass,style:"transform:translateX("+t.translation+"px)"},t._l(t.data,(function(e,r){return n("div",{key:r,staticClass:"carousel-slide",class:{"is-active":t.asIndicator?t.activeItem===r:t.scrollIndex===r},style:t.itemStyle,on:{mouseup:function(e){return t.checkAsIndicator(r,e)},touchend:function(e){return t.checkAsIndicator(r,e)}}},[t._t("item",[n("b-image",t._b({attrs:{src:e.image}},"b-image",e,!1))],{index:r,active:t.activeItem,scroll:t.scrollIndex,list:e},e)],2)})),0),t.arrow?n("div",{staticClass:"carousel-arrow",class:{"is-hovered":t.settings.arrowHover}},[n("b-icon",{directives:[{name:"show",rawName:"v-show",value:t.hasPrev,expression:"hasPrev"}],staticClass:"has-icons-left",attrs:{pack:t.settings.iconPack,icon:t.settings.iconPrev,size:t.settings.iconSize,both:""},nativeOn:{click:function(e){return e.preventDefault(),t.prev(e)}}}),n("b-icon",{directives:[{name:"show",rawName:"v-show",value:t.hasNext,expression:"hasNext"}],staticClass:"has-icons-right",attrs:{pack:t.settings.iconPack,icon:t.settings.iconNext,size:t.settings.iconSize,both:""},nativeOn:{click:function(e){return e.preventDefault(),t.next(e)}}})],1):t._e()])},bn=[];const wn=void 0,xn=void 0,_n=void 0,kn=!1,An=pt({render:yn,staticRenderFns:bn},wn,vn,xn,kn,_n,!1,void 0,void 0,void 0);var Sn=An,Cn={install:function(t){mt(t,on),mt(t,gn),mt(t,Sn)}};gt(Cn);var En={props:{value:[String,Number,Boolean,Function,Object,Array],nativeValue:[String,Number,Boolean,Function,Object,Array],type:String,disabled:Boolean,required:Boolean,name:String,size:String},data:function(){return{newValue:this.value}},computed:{computedValue:{get:function(){return this.newValue},set:function(t){this.newValue=t,this.$emit("input",t)}}},watch:{value:function(t){this.newValue=t}},methods:{focus:function(){this.$refs.input.focus()}}},Dn={name:"BCheckbox",mixins:[En],props:{indeterminate:Boolean,ariaLabelledby:String,trueValue:{type:[String,Number,Boolean,Function,Object,Array],default:!0},falseValue:{type:[String,Number,Boolean,Function,Object,Array],default:!1},autocomplete:{type:String,default:"on"},inputId:{type:String,default:""}}};const Mn=Dn;var Tn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{ref:"label",staticClass:"b-checkbox checkbox",class:[t.size,{"is-disabled":t.disabled}],attrs:{disabled:t.disabled},on:{click:t.focus,keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.$refs.label.click())},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?null:(e.preventDefault(),t.$refs.label.click())}]}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.computedValue,expression:"computedValue"}],ref:"input",attrs:{id:t.inputId,type:"checkbox",autocomplete:t.autocomplete,disabled:t.disabled,required:t.required,name:t.name,"true-value":t.trueValue,"false-value":t.falseValue,"aria-labelledby":t.ariaLabelledby},domProps:{indeterminate:t.indeterminate,value:t.nativeValue,checked:Array.isArray(t.computedValue)?t._i(t.computedValue,t.nativeValue)>-1:t._q(t.computedValue,t.trueValue)},on:{click:function(t){t.stopPropagation()},change:function(e){var n=t.computedValue,r=e.target,i=r.checked?t.trueValue:t.falseValue;if(Array.isArray(n)){var o=t.nativeValue,a=t._i(n,o);r.checked?a<0&&(t.computedValue=n.concat([o])):a>-1&&(t.computedValue=n.slice(0,a).concat(n.slice(a+1)))}else t.computedValue=i}}}),n("span",{staticClass:"check",class:t.type}),n("span",{staticClass:"control-label",attrs:{id:t.ariaLabelledby}},[t._t("default")],2)])},Fn=[];const On=void 0,$n=void 0,Nn=void 0,Bn=!1,Rn=pt({render:Tn,staticRenderFns:Fn},On,Mn,$n,Bn,Nn,!1,void 0,void 0,void 0);var Pn=Rn,In={name:"BCheckboxButton",mixins:[En],props:{type:{type:String,default:"is-primary"},expanded:Boolean},data:function(){return{isFocused:!1}},computed:{checked:function(){return Array.isArray(this.newValue)?this.newValue.indexOf(this.nativeValue)>=0:this.newValue===this.nativeValue}}};const jn=In;var Ln=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"control",class:{"is-expanded":t.expanded}},[n("label",{ref:"label",staticClass:"b-checkbox checkbox button",class:[t.checked?t.type:null,t.size,{"is-disabled":t.disabled,"is-focused":t.isFocused}],attrs:{disabled:t.disabled},on:{click:t.focus,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.$refs.label.click())}}},[t._t("default"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.computedValue,expression:"computedValue"}],ref:"input",attrs:{type:"checkbox",disabled:t.disabled,required:t.required,name:t.name},domProps:{value:t.nativeValue,checked:Array.isArray(t.computedValue)?t._i(t.computedValue,t.nativeValue)>-1:t.computedValue},on:{click:function(t){t.stopPropagation()},focus:function(e){t.isFocused=!0},blur:function(e){t.isFocused=!1},change:function(e){var n=t.computedValue,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t.nativeValue,a=t._i(n,o);r.checked?a<0&&(t.computedValue=n.concat([o])):a>-1&&(t.computedValue=n.slice(0,a).concat(n.slice(a+1)))}else t.computedValue=i}}})],2)])},zn=[];const Un=void 0,qn=void 0,Vn=void 0,Hn=!1,Wn=pt({render:Ln,staticRenderFns:zn},Un,jn,qn,Hn,Vn,!1,void 0,void 0,void 0);var Yn=Wn,Gn={install:function(t){mt(t,Pn),mt(t,Yn)}};gt(Gn);var Kn={name:"BCollapse",model:{prop:"open",event:"update:open"},props:{open:{type:Boolean,default:!0},animation:{type:String,default:"fade"},ariaId:{type:String,default:""},position:{type:String,default:"is-top",validator:function(t){return["is-top","is-bottom"].indexOf(t)>-1}}},data:function(){return{isOpen:this.open}},watch:{open:function(t){this.isOpen=t}},methods:{toggle:function(){this.isOpen=!this.isOpen,this.$emit("update:open",this.isOpen),this.$emit(this.isOpen?"open":"close")}},render:function(t){var e=t("div",{staticClass:"collapse-trigger",on:{click:this.toggle}},this.$scopedSlots.trigger?[this.$scopedSlots.trigger({open:this.isOpen})]:[this.$slots.trigger]),n=t("transition",{props:{name:this.animation}},[t("div",{staticClass:"collapse-content",attrs:{id:this.ariaId},directives:[{name:"show",value:this.isOpen}]},this.$slots.default)]);return t("div",{staticClass:"collapse"},"is-top"===this.position?[e,n]:[n,e])}};const Xn=Kn,Jn=void 0,Zn=void 0,Qn=void 0,tr=void 0,er=pt({},Jn,Xn,Zn,tr,Qn,!1,void 0,void 0,void 0);var nr=er,rr={install:function(t){mt(t,nr)}};gt(rr);var ir,or="AM",ar="PM",sr="24",ur="12",cr=function(t,e){return e.dtf.format(t)},lr=function(t,e){if(t){var n=null;if(e.computedValue&&!isNaN(e.computedValue)?n=new Date(e.computedValue):(n=e.timeCreator(),n.setMilliseconds(0)),e.dtf.formatToParts&&"function"===typeof e.dtf.formatToParts){var r=e.dtf.formatToParts(n).map((function(t){return"literal"===t.type?t.value.replace(/ /g,"\\s?"):"dayPeriod"===t.type?"((?!=<".concat(t.type,">)(").concat(e.amString,"|").concat(e.pmString,"|").concat(or,"|").concat(ar,"|").concat(or.toLowerCase(),"|").concat(ar.toLowerCase(),")?)"):"((?!=<".concat(t.type,">)\\d+)")})).join(""),i=rt(r,t);if(i.hour=i.hour?parseInt(i.hour,10):null,i.minute=i.minute?parseInt(i.minute,10):null,i.second=i.second?parseInt(i.second,10):null,i.hour&&i.hour>=0&&i.hour<24&&i.minute&&i.minute>=0&&i.minute<59)return i.dayPeriod&&(i.dayPeriod.toLowerCase()===e.pmString.toLowerCase()||i.dayPeriod.toLowerCase()===ar.toLowerCase())&&i.hour<12&&(i.hour+=12),n.setHours(i.hour),n.setMinutes(i.minute),n.setSeconds(i.second||0),n}var o=!1;if(e.hourFormat===ur){var a=t.split(" ");t=a[0],o=a[1]===e.amString||a[1]===or}var s=t.split(":"),u=parseInt(s[0],10),c=parseInt(s[1],10),l=e.enableSeconds?parseInt(s[2],10):0;return isNaN(u)||u<0||u>23||e.hourFormat===ur&&(u<1||u>12)||isNaN(c)||c<0||c>59?null:(n.setSeconds(l),n.setMinutes(c),e.hourFormat===ur&&(o&&12===u?u=0:o||12===u||(u+=12)),n.setHours(u),new Date(n.getTime()))}return null},fr={mixins:[dt],inheritAttrs:!1,props:{value:Date,inline:Boolean,minTime:Date,maxTime:Date,placeholder:String,editable:Boolean,disabled:Boolean,hourFormat:{type:String,validator:function(t){return t===sr||t===ur}},incrementHours:{type:Number,default:1},incrementMinutes:{type:Number,default:1},incrementSeconds:{type:Number,default:1},timeFormatter:{type:Function,default:function(t,e){return"function"===typeof lt.defaultTimeFormatter?lt.defaultTimeFormatter(t):cr(t,e)}},timeParser:{type:Function,default:function(t,e){return"function"===typeof lt.defaultTimeParser?lt.defaultTimeParser(t):lr(t,e)}},mobileNative:{type:Boolean,default:function(){return lt.defaultTimepickerMobileNative}},mobileModal:{type:Boolean,default:function(){return lt.defaultTimepickerMobileModal}},timeCreator:{type:Function,default:function(){return"function"===typeof lt.defaultTimeCreator?lt.defaultTimeCreator():new Date}},position:String,unselectableTimes:Array,openOnFocus:Boolean,enableSeconds:Boolean,defaultMinutes:Number,defaultSeconds:Number,focusable:{type:Boolean,default:!0},tzOffset:{type:Number,default:0},appendToBody:Boolean,resetOnMeridianChange:{type:Boolean,default:!1}},data:function(){return{dateSelected:this.value,hoursSelected:null,minutesSelected:null,secondsSelected:null,meridienSelected:null,_elementRef:"input",AM:or,PM:ar,HOUR_FORMAT_24:sr,HOUR_FORMAT_12:ur}},computed:{computedValue:{get:function(){return this.dateSelected},set:function(t){this.dateSelected=t,this.$emit("input",this.dateSelected)}},localeOptions:function(){return new Intl.DateTimeFormat(this.locale,{hour:"numeric",minute:"numeric",second:this.enableSeconds?"numeric":void 0}).resolvedOptions()},dtf:function(){return new Intl.DateTimeFormat(this.locale,{hour:this.localeOptions.hour||"numeric",minute:this.localeOptions.minute||"numeric",second:this.enableSeconds?this.localeOptions.second||"numeric":void 0,hourCycle:this.isHourFormat24?"h23":"h12"})},newHourFormat:function(){return this.hourFormat||(this.localeOptions.hour12?ur:sr)},sampleTime:function(){var t=this.timeCreator();return t.setHours(10),t.setSeconds(0),t.setMinutes(0),t.setMilliseconds(0),t},hourLiteral:function(){if(this.dtf.formatToParts&&"function"===typeof this.dtf.formatToParts){var t=this.sampleTime,e=this.dtf.formatToParts(t),n=e.find((function(t,n){return n>0&&"hour"===e[n-1].type}));if(n)return n.value}return":"},minuteLiteral:function(){if(this.dtf.formatToParts&&"function"===typeof this.dtf.formatToParts){var t=this.sampleTime,e=this.dtf.formatToParts(t),n=e.find((function(t,n){return n>0&&"minute"===e[n-1].type}));if(n)return n.value}return":"},secondLiteral:function(){if(this.dtf.formatToParts&&"function"===typeof this.dtf.formatToParts){var t=this.sampleTime,e=this.dtf.formatToParts(t),n=e.find((function(t,n){return n>0&&"second"===e[n-1].type}));if(n)return n.value}},amString:function(){if(this.dtf.formatToParts&&"function"===typeof this.dtf.formatToParts){var t=this.sampleTime;t.setHours(10);var e=this.dtf.formatToParts(t).find((function(t){return"dayPeriod"===t.type}));if(e)return e.value}return or},pmString:function(){if(this.dtf.formatToParts&&"function"===typeof this.dtf.formatToParts){var t=this.sampleTime;t.setHours(20);var e=this.dtf.formatToParts(t).find((function(t){return"dayPeriod"===t.type}));if(e)return e.value}return ar},hours:function(){if(!this.incrementHours||this.incrementHours<1)throw new Error("Hour increment cannot be null or less than 1.");for(var t=[],e=this.isHourFormat24?24:12,n=0;n<e;n+=this.incrementHours){var r=n,i=r;this.isHourFormat24||(r=n+1,i=r,this.meridienSelected===this.amString?12===r&&(r=0):this.meridienSelected===this.pmString&&12!==r&&(r+=12)),t.push({label:this.formatNumber(i),value:r})}return t},minutes:function(){if(!this.incrementMinutes||this.incrementMinutes<1)throw new Error("Minute increment cannot be null or less than 1.");for(var t=[],e=0;e<60;e+=this.incrementMinutes)t.push({label:this.formatNumber(e,!0),value:e});return t},seconds:function(){if(!this.incrementSeconds||this.incrementSeconds<1)throw new Error("Second increment cannot be null or less than 1.");for(var t=[],e=0;e<60;e+=this.incrementSeconds)t.push({label:this.formatNumber(e,!0),value:e});return t},meridiens:function(){return[this.amString,this.pmString]},isMobile:function(){return this.mobileNative&&Y.any()},isHourFormat24:function(){return this.newHourFormat===sr}},watch:{hourFormat:function(){null!==this.hoursSelected&&(this.meridienSelected=this.hoursSelected>=12?this.pmString:this.amString)},locale:function(){this.value||(this.meridienSelected=this.amString)},value:{handler:function(t){this.updateInternalState(t),!this.isValid&&this.$refs.input.checkHtml5Validity()},immediate:!0}},methods:{onMeridienChange:function(t){null!==this.hoursSelected&&this.resetOnMeridianChange?(this.hoursSelected=null,this.minutesSelected=null,this.secondsSelected=null,this.computedValue=null):null!==this.hoursSelected&&(t===this.pmString?this.hoursSelected+=12:t===this.amString&&(this.hoursSelected-=12)),this.updateDateSelected(this.hoursSelected,this.minutesSelected,this.enableSeconds?this.secondsSelected:0,t)},onHoursChange:function(t){this.minutesSelected||"undefined"===typeof this.defaultMinutes||(this.minutesSelected=this.defaultMinutes),this.secondsSelected||"undefined"===typeof this.defaultSeconds||(this.secondsSelected=this.defaultSeconds),this.updateDateSelected(parseInt(t,10),this.minutesSelected,this.enableSeconds?this.secondsSelected:0,this.meridienSelected)},onMinutesChange:function(t){!this.secondsSelected&&this.defaultSeconds&&(this.secondsSelected=this.defaultSeconds),this.updateDateSelected(this.hoursSelected,parseInt(t,10),this.enableSeconds?this.secondsSelected:0,this.meridienSelected)},onSecondsChange:function(t){this.updateDateSelected(this.hoursSelected,this.minutesSelected,parseInt(t,10),this.meridienSelected)},updateDateSelected:function(t,e,n,r){if(null!=t&&null!=e&&(!this.isHourFormat24&&null!==r||this.isHourFormat24)){var i=null;this.computedValue&&!isNaN(this.computedValue)?i=new Date(this.computedValue):(i=this.timeCreator(),i.setMilliseconds(0)),i.setHours(t),i.setMinutes(e),i.setSeconds(n),isNaN(i.getTime())||(this.computedValue=new Date(i.getTime()))}},updateInternalState:function(t){t?(this.hoursSelected=t.getHours(),this.minutesSelected=t.getMinutes(),this.secondsSelected=t.getSeconds(),this.meridienSelected=t.getHours()>=12?this.pmString:this.amString):(this.hoursSelected=null,this.minutesSelected=null,this.secondsSelected=null,this.meridienSelected=this.amString),this.dateSelected=t},isHourDisabled:function(t){var e=this,n=!1;if(this.minTime){var r=this.minTime.getHours(),i=this.minutes.every((function(n){return e.isMinuteDisabledForHour(t,n.value)}));n=t<r||i}if(this.maxTime&&!n){var o=this.maxTime.getHours();n=t>o}if(this.unselectableTimes&&!n){var a=this.unselectableTimes.filter((function(n){return e.enableSeconds&&null!==e.secondsSelected?n.getHours()===t&&n.getMinutes()===e.minutesSelected&&n.getSeconds()===e.secondsSelected:null!==e.minutesSelected&&(n.getHours()===t&&n.getMinutes()===e.minutesSelected)}));n=a.length>0||this.minutes.every((function(n){return e.unselectableTimes.filter((function(e){return e.getHours()===t&&e.getMinutes()===n.value})).length>0}))}return n},isMinuteDisabledForHour:function(t,e){var n=!1;if(this.minTime){var r=this.minTime.getHours(),i=this.minTime.getMinutes();n=t===r&&e<i}if(this.maxTime&&!n){var o=this.maxTime.getHours(),a=this.maxTime.getMinutes();n=t===o&&e>a}return n},isMinuteDisabled:function(t){var e=this,n=!1;if(null!==this.hoursSelected&&(n=!!this.isHourDisabled(this.hoursSelected)||this.isMinuteDisabledForHour(this.hoursSelected,t),this.unselectableTimes&&!n)){var r=this.unselectableTimes.filter((function(n){return e.enableSeconds&&null!==e.secondsSelected?n.getHours()===e.hoursSelected&&n.getMinutes()===t&&n.getSeconds()===e.secondsSelected:n.getHours()===e.hoursSelected&&n.getMinutes()===t}));n=r.length>0}return n},isSecondDisabled:function(t){var e=this,n=!1;if(null!==this.minutesSelected){if(this.isMinuteDisabled(this.minutesSelected))n=!0;else{if(this.minTime){var r=this.minTime.getHours(),i=this.minTime.getMinutes(),o=this.minTime.getSeconds();n=this.hoursSelected===r&&this.minutesSelected===i&&t<o}if(this.maxTime&&!n){var a=this.maxTime.getHours(),s=this.maxTime.getMinutes(),u=this.maxTime.getSeconds();n=this.hoursSelected===a&&this.minutesSelected===s&&t>u}}if(this.unselectableTimes&&!n){var c=this.unselectableTimes.filter((function(n){return n.getHours()===e.hoursSelected&&n.getMinutes()===e.minutesSelected&&n.getSeconds()===t}));n=c.length>0}}return n},onChange:function(t){var e=this.timeParser(t,this);this.updateInternalState(e),e&&!isNaN(e)?this.computedValue=e:(this.computedValue=null,this.$refs.input.newValue=this.computedValue)},toggle:function(t){this.$refs.dropdown&&(this.$refs.dropdown.isActive="boolean"===typeof t?t:!this.$refs.dropdown.isActive)},close:function(){this.toggle(!1)},handleOnFocus:function(){this.onFocus(),this.openOnFocus&&this.toggle(!0)},formatHHMMSS:function(t){var e=new Date(t);if(t&&!isNaN(e)){var n=e.getHours(),r=e.getMinutes(),i=e.getSeconds();return this.formatNumber(n,!0)+":"+this.formatNumber(r,!0)+":"+this.formatNumber(i,!0)}return""},onChangeNativePicker:function(t){var e=t.target.value;if(e){var n=null;this.computedValue&&!isNaN(this.computedValue)?n=new Date(this.computedValue):(n=new Date,n.setMilliseconds(0));var r=e.split(":");n.setHours(parseInt(r[0],10)),n.setMinutes(parseInt(r[1],10)),n.setSeconds(r[2]?parseInt(r[2],10):0),this.computedValue=new Date(n.getTime())}else this.computedValue=null},formatNumber:function(t,e){return this.isHourFormat24||e?this.pad(t):t},pad:function(t){return(t<10?"0":"")+t},formatValue:function(t){return t&&!isNaN(t)?this.timeFormatter(t,this):null},keyPress:function(t){var e=t.key;this.$refs.dropdown&&this.$refs.dropdown.isActive&&("Escape"===e||"Esc"===e)&&this.toggle(!1)},onActiveChange:function(t){t||this.onBlur()}},created:function(){"undefined"!==typeof window&&document.addEventListener("keyup",this.keyPress)},beforeDestroy:function(){"undefined"!==typeof window&&document.removeEventListener("keyup",this.keyPress)}},hr=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e?t.querySelectorAll('*[tabindex="-1"]'):t.querySelectorAll('a[href]:not([tabindex="-1"]),\n                                     area[href],\n                                     input:not([disabled]),\n                                     select:not([disabled]),\n                                     textarea:not([disabled]),\n                                     button:not([disabled]),\n                                     iframe,\n                                     object,\n                                     embed,\n                                     *[tabindex]:not([tabindex="-1"]),\n                                     *[contenteditable]'):null},dr=function(t,e){var n=e.value,r=void 0===n||n;if(r){var i=hr(t),o=hr(t,!0);i&&i.length>0&&(ir=function(e){i=hr(t),o=hr(t,!0);var n=i[0],r=i[i.length-1];e.target===n&&e.shiftKey&&"Tab"===e.key?(e.preventDefault(),r.focus()):(e.target===r||Array.from(o).indexOf(e.target)>=0)&&!e.shiftKey&&"Tab"===e.key&&(e.preventDefault(),n.focus())},t.addEventListener("keydown",ir))}},pr=function(t){t.removeEventListener("keydown",ir)},gr={bind:dr,unbind:pr},mr=gr,vr=["escape","outside"],yr={name:"BDropdown",directives:{trapFocus:mr},mixins:[Ne("dropdown")],props:{value:{type:[String,Number,Boolean,Object,Array,Function],default:null},disabled:Boolean,inline:Boolean,scrollable:Boolean,maxHeight:{type:[String,Number],default:200},position:{type:String,validator:function(t){return["is-top-right","is-top-left","is-bottom-left","is-bottom-right"].indexOf(t)>-1}},triggers:{type:Array,default:function(){return["click"]}},mobileModal:{type:Boolean,default:function(){return lt.defaultDropdownMobileModal}},ariaRole:{type:String,validator:function(t){return["menu","list","dialog"].indexOf(t)>-1},default:null},animation:{type:String,default:"fade"},multiple:Boolean,trapFocus:{type:Boolean,default:function(){return lt.defaultTrapFocus}},closeOnClick:{type:Boolean,default:!0},canClose:{type:[Array,Boolean],default:!0},expanded:Boolean,appendToBody:Boolean,appendToBodyCopyParent:Boolean,triggerTabindex:{type:Number,default:0}},data:function(){return{selected:this.value,style:{},isActive:!1,isHoverable:!1,maybeTap:!1,isTouchEnabled:!1,_bodyEl:void 0,timeOutID:null,timeOutID2:null}},computed:{rootClasses:function(){return[this.position,{"is-disabled":this.disabled,"is-hoverable":this.hoverable,"is-inline":this.inline,"is-active":this.isActive||this.inline,"is-mobile-modal":this.isMobileModal,"is-expanded":this.expanded,"is-touch-enabled":this.isTouchEnabled}]},isMobileModal:function(){return this.mobileModal&&!this.inline},cancelOptions:function(){return"boolean"===typeof this.canClose?this.canClose?vr:[]:this.canClose},contentStyle:function(){return{maxHeight:this.scrollable?tt(this.maxHeight):null,overflow:this.scrollable?"auto":null}},hoverable:function(){return this.triggers.indexOf("hover")>=0}},watch:{value:function(t){this.selected=t},isActive:function(t){var e=this;this.$emit("active-change",t),t||(this.timeOutID=setTimeout((function(){e.isActive||(e.isTouchEnabled=!1)}),250)),this.handleScroll(),this.appendToBody&&this.$nextTick((function(){e.updateAppendToBody()}))},isHoverable:function(t){this.hoverable&&this.$emit("active-change",t)}},methods:{handleScroll:function(){"undefined"!==typeof window&&this.isMobileModal&&(this.isActive?document.documentElement.classList.add("is-clipped-touch"):document.documentElement.classList.remove("is-clipped-touch"))},selectItem:function(t){this.multiple?(this.selected?-1===this.selected.indexOf(t)?this.selected=[].concat(D(this.selected),[t]):this.selected=this.selected.filter((function(e){return e!==t})):this.selected=[t],this.$emit("change",this.selected)):this.selected!==t&&(this.selected=t,this.$emit("change",this.selected)),this.$emit("input",this.selected),this.multiple||(this.isActive=!this.closeOnClick,this.hoverable&&this.closeOnClick&&(this.isHoverable=!1))},isInWhiteList:function(t){if(t===this.$refs.dropdownMenu)return!0;if(t===this.$refs.trigger)return!0;if(void 0!==this.$refs.dropdownMenu){var e,n=this.$refs.dropdownMenu.querySelectorAll("*"),r=R(n);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(t===i)return!0}}catch(c){r.e(c)}finally{r.f()}}if(void 0!==this.$refs.trigger){var o,a=this.$refs.trigger.querySelectorAll("*"),s=R(a);try{for(s.s();!(o=s.n()).done;){var u=o.value;if(t===u)return!0}}catch(c){s.e(c)}finally{s.f()}}return!1},clickedOutside:function(t){if(!(this.cancelOptions.indexOf("outside")<0)&&!this.inline){var e=ot(this)?t.composedPath()[0]:t.target;this.isInWhiteList(e)||(this.isActive=!1)}},keyPress:function(t){var e=t.key;if(this.isActive&&("Escape"===e||"Esc"===e)){if(this.cancelOptions.indexOf("escape")<0)return;this.isActive=!1}},onClick:function(){-1===this.triggers.indexOf("hover")&&(this.triggers.indexOf("click")<0||this.toggle())},onContextMenu:function(){this.triggers.indexOf("contextmenu")<0||this.toggle()},onHover:function(){this.triggers.indexOf("hover")<0||this.isTouchEnabled||(this.isHoverable=!0)},onTouchStart:function(){this.maybeTap=!0},onTouchMove:function(){this.maybeTap=!1},onTouchEnd:function(t){-1!==this.triggers.indexOf("hover")&&this.maybeTap&&(t.preventDefault(),this.maybeTap=!1,this.isTouchEnabled=!0,this.toggle())},onFocus:function(){this.triggers.indexOf("focus")<0||this.toggle()},toggle:function(){var t=this;this.disabled||(this.isActive?this.isActive=!this.isActive:this.$nextTick((function(){var e=!t.isActive;t.isActive=e,t.timeOutID2=setTimeout((function(){return t.isActive=e}))})))},updateAppendToBody:function(){var t=this.$refs.dropdown,e=this.$refs.dropdownMenu,n=this.$refs.trigger;if(e&&n){var r=this.$data._bodyEl.children[0];if(r.classList.forEach((function(t){return r.classList.remove(t)})),r.classList.add("dropdown"),r.classList.add("dropdown-menu-animation"),this.$vnode&&this.$vnode.data&&this.$vnode.data.staticClass&&r.classList.add(this.$vnode.data.staticClass),this.rootClasses.forEach((function(t){if(t&&"object"===u(t))for(var e in t)t[e]&&r.classList.add(e)})),this.appendToBodyCopyParent){var i=this.$refs.dropdown.parentNode,o=this.$data._bodyEl;o.classList.forEach((function(t){return o.classList.remove(t)})),i.classList.forEach((function(t){o.classList.add(t)}))}var a=n.getBoundingClientRect(),s=a.top+window.scrollY,c=a.left+window.scrollX;!this.position||this.position.indexOf("bottom")>=0?s+=n.clientHeight:s-=e.clientHeight,this.position&&this.position.indexOf("left")>=0&&(c-=e.clientWidth-n.clientWidth),this.style={position:"absolute",top:"".concat(s,"px"),left:"".concat(c,"px"),zIndex:"99",width:this.expanded?"".concat(t.offsetWidth,"px"):void 0}}}},mounted:function(){this.appendToBody&&(this.$data._bodyEl=K(this.$refs.dropdownMenu),this.updateAppendToBody())},created:function(){"undefined"!==typeof window&&(document.addEventListener("click",this.clickedOutside),document.addEventListener("keyup",this.keyPress))},beforeDestroy:function(){"undefined"!==typeof window&&(document.removeEventListener("click",this.clickedOutside),document.removeEventListener("keyup",this.keyPress)),this.appendToBody&&G(this.$data._bodyEl),clearTimeout(this.timeOutID),clearTimeout(this.timeOutID2)}};const br=yr;var wr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"dropdown",staticClass:"dropdown dropdown-menu-animation",class:t.rootClasses,on:{mouseleave:function(e){t.isHoverable=!1}}},[t.inline?t._e():n("div",{ref:"trigger",staticClass:"dropdown-trigger",attrs:{tabindex:!t.disabled&&t.triggerTabindex,"aria-haspopup":"true"},on:{click:t.onClick,contextmenu:function(e){return e.preventDefault(),t.onContextMenu(e)},mouseenter:t.onHover,"!focus":function(e){return t.onFocus(e)},touchstart:t.onTouchStart,touchmove:t.onTouchMove,touchend:t.onTouchEnd}},[t._t("trigger",null,{active:t.isActive})],2),n("transition",{attrs:{name:t.animation}},[t.isMobileModal?n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"background",attrs:{"aria-hidden":!t.isActive}}):t._e()]),n("transition",{attrs:{name:t.animation}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.disabled&&(t.isActive||t.isHoverable)||t.inline,expression:"(!disabled && (isActive || isHoverable)) || inline"},{name:"trap-focus",rawName:"v-trap-focus",value:t.trapFocus,expression:"trapFocus"}],ref:"dropdownMenu",staticClass:"dropdown-menu",style:t.style,attrs:{"aria-hidden":!t.isActive}},[n("div",{staticClass:"dropdown-content",style:t.contentStyle,attrs:{role:t.ariaRole,"aria-modal":!t.inline}},[t._t("default")],2)])])],1)},xr=[];const _r=void 0,kr=void 0,Ar=void 0,Sr=!1,Cr=pt({render:wr,staticRenderFns:xr},_r,br,kr,Sr,Ar,!1,void 0,void 0,void 0);var Er=Cr,Dr={name:"BDropdownItem",mixins:[Ie("dropdown")],props:{value:{type:[String,Number,Boolean,Object,Array,Function],default:null},separator:Boolean,disabled:Boolean,custom:Boolean,focusable:{type:Boolean,default:!0},paddingless:Boolean,hasLink:Boolean,ariaRole:{type:String,default:""}},computed:{anchorClasses:function(){return{"is-disabled":this.parent.disabled||this.disabled,"is-paddingless":this.paddingless,"is-active":this.isActive}},itemClasses:function(){return{"dropdown-item":!this.hasLink,"is-disabled":this.disabled,"is-paddingless":this.paddingless,"is-active":this.isActive,"has-link":this.hasLink}},ariaRoleItem:function(){return"menuitem"===this.ariaRole||"listitem"===this.ariaRole?this.ariaRole:null},isClickable:function(){return!this.parent.disabled&&!this.separator&&!this.disabled&&!this.custom},isActive:function(){return null!==this.parent.selected&&(this.parent.multiple?this.parent.selected.indexOf(this.value)>=0:this.value===this.parent.selected)},isFocusable:function(){return!this.hasLink&&this.focusable}},methods:{selectItem:function(){this.isClickable&&(this.parent.selectItem(this.value),this.$emit("click"))}}};const Mr=Dr;var Tr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.separator?n("hr",{staticClass:"dropdown-divider"}):t.custom||t.hasLink?n("div",{class:t.itemClasses,attrs:{role:t.ariaRoleItem,tabindex:t.isFocusable?0:null},on:{click:t.selectItem}},[t._t("default")],2):n("a",{staticClass:"dropdown-item",class:t.anchorClasses,attrs:{role:t.ariaRoleItem,tabindex:t.isFocusable?0:null},on:{click:t.selectItem}},[t._t("default")],2)},Fr=[];const Or=void 0,$r=void 0,Nr=void 0,Br=!1,Rr=pt({render:Tr,staticRenderFns:Fr},Or,Mr,$r,Br,Nr,!1,void 0,void 0,void 0);var Pr=Rr,Ir={name:"BFieldBody",props:{message:{type:[String,Array]},type:{type:[String,Object]}},render:function(t){var e=this,n=!0;return t("div",{attrs:{class:"field-body"}},this.$slots.default.map((function(r){return r.tag?(n&&(i=e.message,n=!1),t("b-field",{attrs:{type:e.type,message:i}},[r])):r;var i})))}};const jr=Ir,Lr=void 0,zr=void 0,Ur=void 0,qr=void 0,Vr=pt({},Lr,jr,zr,qr,Ur,!1,void 0,void 0,void 0);var Hr=Vr,Wr={name:"BField",components:h({},Hr.name,Hr),provide:function(){return{BField:this}},inject:{parent:{from:"BField",default:!1}},props:{type:[String,Object],label:String,labelFor:String,message:[String,Array,Object],grouped:Boolean,groupMultiline:Boolean,position:String,expanded:Boolean,horizontal:Boolean,addons:{type:Boolean,default:!0},customClass:String,labelPosition:{type:String,default:function(){return lt.defaultFieldLabelPosition}}},data:function(){return{newType:this.type,newMessage:this.message,fieldLabelSize:null,_isField:!0}},computed:{rootClasses:function(){return[{"is-expanded":this.expanded,"is-horizontal":this.horizontal,"is-floating-in-label":this.hasLabel&&!this.horizontal&&"inside"===this.labelPosition,"is-floating-label":this.hasLabel&&!this.horizontal&&"on-border"===this.labelPosition},this.numberInputClasses]},innerFieldClasses:function(){return[this.fieldType(),this.newPosition,{"is-grouped-multiline":this.groupMultiline}]},hasInnerField:function(){return this.grouped||this.groupMultiline||this.hasAddons()},newPosition:function(){if(void 0!==this.position){var t=this.position.split("-");if(!(t.length<1)){var e=this.grouped?"is-grouped-":"has-addons-";return this.position?e+t[1]:void 0}}},formattedMessage:function(){if(this.parent&&this.parent.hasInnerField)return"";if("string"===typeof this.newMessage)return[this.newMessage];var t=[];if(Array.isArray(this.newMessage))this.newMessage.forEach((function(e){if("string"===typeof e)t.push(e);else for(var n in e)e[n]&&t.push(n)}));else for(var e in this.newMessage)this.newMessage[e]&&t.push(e);return t.filter((function(t){if(t)return t}))},hasLabel:function(){return this.label||this.$slots.label},hasMessage:function(){return(!this.parent||!this.parent.hasInnerField)&&this.newMessage||this.$slots.message},numberInputClasses:function(){if(this.$slots.default){var t=this.$slots.default.filter((function(t){return t.tag&&t.tag.toLowerCase().indexOf("numberinput")>=0}))[0];if(t){var e=["has-numberinput"],n=t.componentOptions.propsData.controlsPosition,r=t.componentOptions.propsData.size;return n&&e.push("has-numberinput-".concat(n)),r&&e.push("has-numberinput-".concat(r)),e}}return null}},watch:{type:function(t){this.newType=t},message:function(t){JSON.stringify(t)!==JSON.stringify(this.newMessage)&&(this.newMessage=t)},newMessage:function(t){this.parent&&this.parent.hasInnerField&&(this.parent.type||(this.parent.newType=this.newType),this.parent.message||(this.parent.newMessage=t))}},methods:{fieldType:function(){return this.grouped?"is-grouped":this.hasAddons()?"has-addons":void 0},hasAddons:function(){var t=0;return this.$slots.default&&(t=this.$slots.default.reduce((function(t,e){return e.tag?t+1:t}),0)),t>1&&this.addons&&!this.horizontal}},mounted:function(){if(this.horizontal){var t=this.$el.querySelectorAll(".input, .select, .button, .textarea, .b-slider");t.length>0&&(this.fieldLabelSize="is-normal")}}};const Yr=Wr;var Gr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"field",class:t.rootClasses},[t.horizontal?n("div",{staticClass:"field-label",class:[t.customClass,t.fieldLabelSize]},[t.hasLabel?n("label",{staticClass:"label",class:t.customClass,attrs:{for:t.labelFor}},[t.$slots.label?t._t("label"):[t._v(t._s(t.label))]],2):t._e()]):[t.hasLabel?n("label",{staticClass:"label",class:t.customClass,attrs:{for:t.labelFor}},[t.$slots.label?t._t("label"):[t._v(t._s(t.label))]],2):t._e()],t.horizontal?n("b-field-body",{attrs:{message:t.newMessage?t.formattedMessage:"",type:t.newType}},[t._t("default")],2):t.hasInnerField?n("div",{staticClass:"field-body"},[n("b-field",{class:t.innerFieldClasses,attrs:{addons:!1,type:t.type}},[t._t("default")],2)],1):[t._t("default")],t.hasMessage&&!t.horizontal?n("p",{staticClass:"help",class:t.newType},[t.$slots.message?t._t("message",null,{messages:t.formattedMessage}):[t._l(t.formattedMessage,(function(e,r){return[t._v(" "+t._s(e)+" "),r+1<t.formattedMessage.length?n("br",{key:r}):t._e()]}))]],2):t._e()],2)},Kr=[];const Xr=void 0,Jr=void 0,Zr=void 0,Qr=!1,ti=pt({render:Gr,staticRenderFns:Kr},Xr,Yr,Jr,Qr,Zr,!1,void 0,void 0,void 0);var ei=ti,ni=40,ri=5,ii={name:"BClockpickerFace",props:{pickerSize:Number,min:Number,max:Number,double:Boolean,value:Number,faceNumbers:Array,disabledValues:Function},data:function(){return{isDragging:!1,inputValue:this.value,prevAngle:720}},computed:{count:function(){return this.max-this.min+1},countPerRing:function(){return this.double?this.count/2:this.count},radius:function(){return this.pickerSize/2},outerRadius:function(){return this.radius-ri-ni/2},innerRadius:function(){return Math.max(.6*this.outerRadius,this.outerRadius-ri-ni)},degreesPerUnit:function(){return 360/this.countPerRing},degrees:function(){return this.degreesPerUnit*Math.PI/180},handRotateAngle:function(){var t=this.prevAngle;while(t<0)t+=360;var e=this.calcHandAngle(this.displayedValue),n=this.shortestDistanceDegrees(t,e),r=this.prevAngle+n;return r},handScale:function(){return this.calcHandScale(this.displayedValue)},handStyle:function(){return{transform:"rotate(".concat(this.handRotateAngle,"deg) scaleY(").concat(this.handScale,")"),transition:".3s cubic-bezier(.25,.8,.50,1)"}},displayedValue:function(){return null==this.inputValue?this.min:this.inputValue}},watch:{value:function(t){t!==this.inputValue&&(this.prevAngle=this.handRotateAngle),this.inputValue=t}},methods:{isDisabled:function(t){return this.disabledValues&&this.disabledValues(t)},euclidean:function(t,e){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)},shortestDistanceDegrees:function(t,e){var n=(e-t)%360,r=180-Math.abs(Math.abs(n)-180);return(n+360)%360<180?1*r:-1*r},coordToAngle:function(t,e){var n=2*Math.atan2(e.y-t.y-this.euclidean(t,e),e.x-t.x);return Math.abs(180*n/Math.PI)},getNumberTranslate:function(t){var e=this.getNumberCoords(t),n=e.x,r=e.y;return"translate(".concat(n,"px, ").concat(r,"px)")},getNumberCoords:function(t){var e=this.isInnerRing(t)?this.innerRadius:this.outerRadius;return{x:Math.round(e*Math.sin((t-this.min)*this.degrees)),y:Math.round(-e*Math.cos((t-this.min)*this.degrees))}},getFaceNumberClasses:function(t){return{active:t.value===this.displayedValue,disabled:this.isDisabled(t.value)}},isInnerRing:function(t){return this.double&&t-this.min>=this.countPerRing},calcHandAngle:function(t){var e=this.degreesPerUnit*(t-this.min);return this.isInnerRing(t)&&(e-=360),e},calcHandScale:function(t){return this.isInnerRing(t)?this.innerRadius/this.outerRadius:1},onMouseDown:function(t){t.preventDefault(),this.isDragging=!0,this.onDragMove(t)},onMouseUp:function(){this.isDragging=!1,this.isDisabled(this.inputValue)||this.$emit("change",this.inputValue)},onDragMove:function(t){if(t.preventDefault(),this.isDragging||"click"===t.type){var e=this.$refs.clock.getBoundingClientRect(),n=e.width,r=e.top,i=e.left,o="touches"in t?t.touches[0]:t,a=o.clientX,s=o.clientY,u={x:n/2,y:-n/2},c={x:a-i,y:r-s},l=Math.round(this.coordToAngle(u,c)+360)%360,f=this.double&&this.euclidean(u,c)<(this.outerRadius+this.innerRadius)/2-16,h=Math.round(l/this.degreesPerUnit)+this.min+(f?this.countPerRing:0);l>=360-this.degreesPerUnit/2&&(h=f?this.max:this.min),this.update(h)}},update:function(t){this.inputValue===t||this.isDisabled(t)||(this.prevAngle=this.handRotateAngle,this.inputValue=t,this.$emit("input",t))}}};const oi=ii;var ai=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-clockpicker-face",on:{mousedown:t.onMouseDown,mouseup:t.onMouseUp,mousemove:t.onDragMove,touchstart:t.onMouseDown,touchend:t.onMouseUp,touchmove:t.onDragMove}},[n("div",{ref:"clock",staticClass:"b-clockpicker-face-outer-ring"},[n("div",{staticClass:"b-clockpicker-face-hand",style:t.handStyle}),t._l(t.faceNumbers,(function(e,r){return n("span",{key:r,staticClass:"b-clockpicker-face-number",class:t.getFaceNumberClasses(e),style:{transform:t.getNumberTranslate(e.value)}},[n("span",[t._v(t._s(e.label))])])}))],2)])},si=[];const ui=void 0,ci=void 0,li=void 0,fi=!1,hi=pt({render:ai,staticRenderFns:si},ui,oi,ci,fi,li,!1,void 0,void 0,void 0);var di=hi,pi=12,gi={name:"BClockpicker",components:h(h(h(h(h(h({},di.name,di),zt.name,zt),ei.name,ei),Ft.name,Ft),Er.name,Er),Pr.name,Pr),mixins:[fr],props:{pickerSize:{type:Number,default:290},incrementMinutes:{type:Number,default:5},autoSwitch:{type:Boolean,default:!0},type:{type:String,default:"is-primary"},hoursLabel:{type:String,default:function(){return lt.defaultClockpickerHoursLabel||"Hours"}},minutesLabel:{type:String,default:function(){return lt.defaultClockpickerMinutesLabel||"Min"}}},data:function(){return{isSelectingHour:!0,isDragging:!1,_isClockpicker:!0}},computed:{hoursDisplay:function(){if(null==this.hoursSelected)return"--";if(this.isHourFormat24)return this.pad(this.hoursSelected);var t=this.hoursSelected;return this.meridienSelected===this.pmString&&(t-=12),0===t&&(t=12),t},minutesDisplay:function(){return null==this.minutesSelected?"--":this.pad(this.minutesSelected)},minFaceValue:function(){return this.isSelectingHour&&!this.isHourFormat24&&this.meridienSelected===this.pmString?12:0},maxFaceValue:function(){return this.isSelectingHour?this.isHourFormat24||this.meridienSelected!==this.amString?23:11:59},faceSize:function(){return this.pickerSize-2*pi},faceDisabledValues:function(){return this.isSelectingHour?this.isHourDisabled:this.isMinuteDisabled}},methods:{onClockInput:function(t){this.isSelectingHour?(this.hoursSelected=t,this.onHoursChange(t)):(this.minutesSelected=t,this.onMinutesChange(t))},onClockChange:function(t){this.autoSwitch&&this.isSelectingHour&&(this.isSelectingHour=!this.isSelectingHour)},onMeridienClick:function(t){this.meridienSelected!==t&&(this.meridienSelected=t,this.onMeridienChange(t))},onInputClick:function(t){this.$refs.dropdown.isActive&&t.stopPropagation()}}};const mi=gi;var vi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-clockpicker control",class:[t.size,t.type,{"is-expanded":t.expanded}]},[!t.isMobile||t.inline?n("b-dropdown",{ref:"dropdown",attrs:{position:t.position,disabled:t.disabled,inline:t.inline,"mobile-modal":t.mobileModal,"append-to-body":t.appendToBody,"append-to-body-copy-parent":""},on:{"active-change":t.onActiveChange},scopedSlots:t._u([t.inline?null:{key:"trigger",fn:function(){return[t._t("trigger",[n("b-input",t._b({ref:"input",attrs:{slot:"trigger",autocomplete:"off",value:t.formatValue(t.computedValue),placeholder:t.placeholder,size:t.size,icon:t.icon,"icon-pack":t.iconPack,loading:t.loading,disabled:t.disabled,readonly:!t.editable,rounded:t.rounded,"use-html5-validation":t.useHtml5Validation},on:{focus:t.handleOnFocus,blur:function(e){return t.checkHtml5Validity()}},nativeOn:{click:function(e){return t.onInputClick(e)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.toggle(!0)},change:function(e){return t.onChange(e.target.value)}},slot:"trigger"},"b-input",t.$attrs,!1))])]},proxy:!0}],null,!0)},[n("div",{staticClass:"card",attrs:{disabled:t.disabled,custom:""}},[t.inline?n("header",{staticClass:"card-header"},[n("div",{staticClass:"b-clockpicker-header card-header-title"},[n("div",{staticClass:"b-clockpicker-time"},[n("span",{staticClass:"b-clockpicker-btn",class:{active:t.isSelectingHour},on:{click:function(e){t.isSelectingHour=!0}}},[t._v(t._s(t.hoursDisplay))]),n("span",[t._v(t._s(t.hourLiteral))]),n("span",{staticClass:"b-clockpicker-btn",class:{active:!t.isSelectingHour},on:{click:function(e){t.isSelectingHour=!1}}},[t._v(t._s(t.minutesDisplay))])]),t.isHourFormat24?t._e():n("div",{staticClass:"b-clockpicker-period"},[n("div",{staticClass:"b-clockpicker-btn",class:{active:t.meridienSelected===t.amString||t.meridienSelected===t.AM},on:{click:function(e){return t.onMeridienClick(t.amString)}}},[t._v(t._s(t.amString))]),n("div",{staticClass:"b-clockpicker-btn",class:{active:t.meridienSelected===t.pmString||t.meridienSelected===t.PM},on:{click:function(e){return t.onMeridienClick(t.pmString)}}},[t._v(t._s(t.pmString))])])])]):t._e(),n("div",{staticClass:"card-content"},[n("div",{staticClass:"b-clockpicker-body",style:{width:t.faceSize+"px",height:t.faceSize+"px"}},[t.inline?t._e():n("div",{staticClass:"b-clockpicker-time"},[n("div",{staticClass:"b-clockpicker-btn",class:{active:t.isSelectingHour},on:{click:function(e){t.isSelectingHour=!0}}},[t._v(t._s(t.hoursLabel))]),n("span",{staticClass:"b-clockpicker-btn",class:{active:!t.isSelectingHour},on:{click:function(e){t.isSelectingHour=!1}}},[t._v(t._s(t.minutesLabel))])]),t.isHourFormat24||t.inline?t._e():n("div",{staticClass:"b-clockpicker-period"},[n("div",{staticClass:"b-clockpicker-btn",class:{active:t.meridienSelected===t.amString||t.meridienSelected===t.AM},on:{click:function(e){return t.onMeridienClick(t.amString)}}},[t._v(t._s(t.amString))]),n("div",{staticClass:"b-clockpicker-btn",class:{active:t.meridienSelected===t.pmString||t.meridienSelected===t.PM},on:{click:function(e){return t.onMeridienClick(t.pmString)}}},[t._v(t._s(t.pmString))])]),n("b-clockpicker-face",{attrs:{"picker-size":t.faceSize,min:t.minFaceValue,max:t.maxFaceValue,"face-numbers":t.isSelectingHour?t.hours:t.minutes,"disabled-values":t.faceDisabledValues,double:t.isSelectingHour&&t.isHourFormat24,value:t.isSelectingHour?t.hoursSelected:t.minutesSelected},on:{input:t.onClockInput,change:t.onClockChange}})],1)]),void 0!==t.$slots.default&&t.$slots.default.length?n("footer",{staticClass:"b-clockpicker-footer card-footer"},[t._t("default")],2):t._e()])]):n("b-input",t._b({ref:"input",attrs:{type:"time",autocomplete:"off",value:t.formatHHMMSS(t.computedValue),placeholder:t.placeholder,size:t.size,icon:t.icon,"icon-pack":t.iconPack,loading:t.loading,max:t.formatHHMMSS(t.maxTime),min:t.formatHHMMSS(t.minTime),disabled:t.disabled,readonly:!1,"use-html5-validation":t.useHtml5Validation},on:{focus:t.handleOnFocus,blur:function(e){t.onBlur()&&t.checkHtml5Validity()}},nativeOn:{click:function(e){return e.stopPropagation(),t.toggle(!0)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.toggle(!0)},change:function(e){return t.onChangeNativePicker(e)}}},"b-input",t.$attrs,!1))],1)},yi=[];const bi=void 0,wi=void 0,xi=void 0,_i=!1,ki=pt({render:vi,staticRenderFns:yi},bi,mi,wi,_i,xi,!1,void 0,void 0,void 0);var Ai=ki,Si={install:function(t){mt(t,Ai)}};gt(Si);var Ci={name:"BSelect",components:h({},Ft.name,Ft),mixins:[dt],inheritAttrs:!1,props:{value:{type:[String,Number,Boolean,Object,Array,Function,Date],default:null},placeholder:String,multiple:Boolean,nativeSize:[String,Number]},data:function(){return{selected:this.value,_elementRef:"select"}},computed:{computedValue:{get:function(){return this.selected},set:function(t){this.selected=t,this.$emit("input",t),!this.isValid&&this.checkHtml5Validity()}},spanClasses:function(){return[this.size,this.statusType,{"is-fullwidth":this.expanded,"is-loading":this.loading,"is-multiple":this.multiple,"is-rounded":this.rounded,"is-empty":null===this.selected}]}},watch:{value:function(t){this.selected=t,!this.isValid&&this.checkHtml5Validity()}}};const Ei=Ci;var Di=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"control",class:{"is-expanded":t.expanded,"has-icons-left":t.icon}},[n("span",{staticClass:"select",class:t.spanClasses},[n("select",t._b({directives:[{name:"model",rawName:"v-model",value:t.computedValue,expression:"computedValue"}],ref:"select",attrs:{multiple:t.multiple,size:t.nativeSize},on:{blur:function(e){t.$emit("blur",e)&&t.checkHtml5Validity()},focus:function(e){return t.$emit("focus",e)},change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.computedValue=e.target.multiple?n:n[0]}}},"select",t.$attrs,!1),[t.placeholder?[null==t.computedValue?n("option",{attrs:{disabled:"",hidden:""},domProps:{value:null}},[t._v(" "+t._s(t.placeholder)+" ")]):t._e()]:t._e(),t._t("default")],2)]),t.icon?n("b-icon",{staticClass:"is-left",attrs:{icon:t.icon,pack:t.iconPack,size:t.iconSize}}):t._e()],1)},Mi=[];const Ti=void 0,Fi=void 0,Oi=void 0,$i=!1,Ni=pt({render:Di,staticRenderFns:Mi},Ti,Ei,Fi,$i,Oi,!1,void 0,void 0,void 0);var Bi=Ni,Ri={name:"BTooltip",props:{active:{type:Boolean,default:!0},type:{type:String,default:function(){return lt.defaultTooltipType}},label:String,delay:{type:Number,default:function(){return lt.defaultTooltipDelay}},closeDelay:{type:Number,default:function(){return lt.defaultTooltipCloseDelay}},position:{type:String,default:"is-top",validator:function(t){return["is-top","is-bottom","is-left","is-right"].indexOf(t)>-1}},triggers:{type:Array,default:function(){return["hover"]}},always:Boolean,square:Boolean,dashed:Boolean,multilined:Boolean,size:{type:String,default:"is-medium"},appendToBody:Boolean,animated:{type:Boolean,default:!0},animation:{type:String,default:"fade"},contentClass:String,autoClose:{type:[Array,Boolean],default:!0}},data:function(){return{isActive:!1,triggerStyle:{},timer:null,_bodyEl:void 0,resizeObserver:void 0,resizeListener:void 0,timeOutID:null}},computed:{rootClasses:function(){return["b-tooltip",this.type,this.position,this.size,{"is-square":this.square,"is-always":this.always,"is-multiline":this.multilined,"is-dashed":this.dashed}]},newAnimation:function(){return this.animated?this.animation:void 0}},watch:{isActive:function(){this.$emit(this.isActive?"open":"close"),this.appendToBody&&this.updateAppendToBody()}},methods:{updateAppendToBody:function(){var t=this.$refs.tooltip,e=this.$refs.trigger;if(t&&e){var n=this.$data._bodyEl.children[0];n.classList.forEach((function(t){return n.classList.remove(t)})),this.$vnode&&this.$vnode.data&&this.$vnode.data.staticClass&&n.classList.add(this.$vnode.data.staticClass),this.rootClasses.forEach((function(t){if("object"===u(t))for(var e in t)t[e]&&n.classList.add(e);else n.classList.add(t)}));var r=e.getBoundingClientRect(),i=r.top+window.scrollY,o=r.left+window.scrollX;switch(n.style.position="absolute",this.position){case"is-top":n.style.width="".concat(e.clientWidth,"px"),n.style.height="0px",n.style.top="0px",n.style.left="0px";break;case"is-bottom":n.style.width="".concat(e.clientWidth,"px"),n.style.height="0px",n.style.top="".concat(e.clientHeight,"px"),n.style.left="0px";break;case"is-left":n.style.width="0px",n.style.height="".concat(e.clientHeight,"px"),n.style.top="0px",n.style.left="0px";break;case"is-right":n.style.width="0px",n.style.height="".concat(e.clientHeight,"px"),n.style.top="0px",n.style.left="".concat(e.clientWidth,"px");break}var a=this.$data._bodyEl;a.style.position="absolute",a.style.top="".concat(i,"px"),a.style.left="".concat(o,"px"),a.style.width="0px",a.style.zIndex=this.isActive||this.always?"99":"-1",this.triggerStyle={zIndex:this.isActive||this.always?"100":void 0}}},onClick:function(){var t=this;this.triggers.indexOf("click")<0||this.$nextTick((function(){t.timeOutID=setTimeout((function(){return t.open()}))}))},onHover:function(){this.triggers.indexOf("hover")<0||this.open()},onContextMenu:function(t){this.triggers.indexOf("contextmenu")<0||(t.preventDefault(),this.open())},onFocus:function(){this.triggers.indexOf("focus")<0||this.open()},open:function(){var t=this;this.delay?this.timer=setTimeout((function(){t.isActive=!0,t.timer=null}),this.delay):this.isActive=!0},close:function(){var t=this;"boolean"===typeof this.autoClose&&(this.autoClose&&this.timer&&clearTimeout(this.timer),this.closeDelay?this.timer=setTimeout((function(){t.isActive=!t.autoClose,t.timer=null}),this.closeDelay):this.isActive=!this.autoClose)},clickedOutside:function(t){if(this.isActive&&Array.isArray(this.autoClose)){if(this.autoClose.includes("outside")&&!this.isInWhiteList(t.target))return void(this.isActive=!1);this.autoClose.includes("inside")&&this.isInWhiteList(t.target)&&(this.isActive=!1)}},keyPress:function(t){var e=t.key;!this.isActive||"Escape"!==e&&"Esc"!==e||Array.isArray(this.autoClose)&&this.autoClose.indexOf("escape")>=0&&(this.isActive=!1)},isInWhiteList:function(t){if(t===this.$refs.content)return!0;if(void 0!==this.$refs.content){var e,n=this.$refs.content.querySelectorAll("*"),r=R(n);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(t===i)return!0}}catch(o){r.e(o)}finally{r.f()}}return!1}},mounted:function(){var t=this;if(this.appendToBody&&"undefined"!==typeof window){this.controller=new window.AbortController,this.$data._bodyEl=K(this.$refs.content),this.updateAppendToBody();var e=this.$el.closest(".animation-content");if(null!=e){var n=function n(){t.updateAppendToBody(),e.removeEventListener("transitionend",n)};e.addEventListener("transitionend",n,{signal:this.controller.signal})}this.resizeListener=function(){return t.updateAppendToBody()},window.addEventListener("resize",this.resizeListener),this.resizeObserver=new ResizeObserver(this.resizeListener),null!=this.$el.parentNode&&this.$el.parentNode.nodeType===Node.ELEMENT_NODE&&this.resizeObserver.observe(this.$el.parentNode)}},created:function(){"undefined"!==typeof window&&(document.addEventListener("click",this.clickedOutside),document.addEventListener("keyup",this.keyPress))},beforeDestroy:function(){"undefined"!==typeof window&&(document.removeEventListener("click",this.clickedOutside),document.removeEventListener("keyup",this.keyPress)),null!=this.resizeListener&&window.removeEventListener("resize",this.resizeListener),null!=this.resizeObserver&&this.resizeObserver.disconnect(),this.appendToBody&&G(this.$data._bodyEl),null!=this.controller&&this.controller.abort(),clearTimeout(this.timer),clearTimeout(this.timeOutID)}};const Pi=Ri;var Ii=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"tooltip",class:t.rootClasses},[n("transition",{attrs:{name:t.newAnimation}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.active&&(t.isActive||t.always),expression:"active && (isActive || always)"}],ref:"content",class:["tooltip-content",t.contentClass]},[t.label?[t._v(t._s(t.label))]:t.$slots.content?[t._t("content")]:t._e()],2)]),n("div",{ref:"trigger",staticClass:"tooltip-trigger",style:t.triggerStyle,on:{click:t.onClick,contextmenu:t.onContextMenu,mouseenter:t.onHover,"!focus":function(e){return t.onFocus(e)},"!blur":function(e){return t.close(e)},mouseleave:t.close}},[t._t("default")],2)],1)},ji=[];const Li=void 0,zi=void 0,Ui=void 0,qi=!1,Vi=pt({render:Ii,staticRenderFns:ji},Li,Pi,zi,qi,Ui,!1,void 0,void 0,void 0);var Hi=Vi,Wi=["red","green","blue","alpha"],Yi={transparent:"#00000000",black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",green:"#008000",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",orange:"#ffa500",aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",blanchedalmond:"#ffebcd",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",oldlace:"#fdf5e6",olivedrab:"#6b8e23",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",whitesmoke:"#f5f5f5",yellowgreen:"#9acd32",rebeccapurple:"#663399"},Gi=function(t){d(n,t);var e=A(n);function n(){return c(this,n),e.call(this,"ColorTypeError: type must be hex(a), rgb(a) or hsl(a)")}return f(n)}(b(Error)),Ki=function(t){function e(){var t=this;if(c(this,e),arguments.length>0)return e.parse.apply(e,arguments);this.$channels=new Uint8Array(Wi.length),Wi.forEach((function(e,n){Object.defineProperty(t,e,{get:function(){return t.$channels[n]},set:function(e){Number.isNaN(e/1)||(t.$channels[n]=Math.min(255,Math.max(0,e)))},enumerable:!0,configurable:!0})})),["hue","saturation","lightness"].forEach((function(e){var n=e.replace(/^./,(function(t){return t.toUpperCase()}));Object.defineProperty(t,e,{get:function(){return t["get".concat(n)]()},set:function(e){Number.isNaN(e/1)||t["set".concat(n)](e)},enumerable:!0,configurable:!0})}))}return f(e,[{key:"getHue",value:function(){var t=Array.from(this.$channels).map((function(t){return t/255})),e=C(t,3),n=e[0],r=e[1],i=e[2],o=[Math.min(n,r,i),Math.max(n,r,i)],a=o[0],s=o[1],u=s-a,c=0;if(0===u)return c;c=n===s?(r-i)/u%6:r===s?(i-n)/u+2:(n-r)/u+4,c*=60;while(c!==-1/0&&c<0)c+=360;return Math.round(c%360)}},{key:"setHue",value:function(t){for(var n=e.fromHSL(t,this.saturation,this.lightness,this.alpha/255),r=0;r<this.$channels.length;r++)this.$channels[r]=Number(n.$channels[r])}},{key:"getSaturation",value:function(){var t=Array.from(this.$channels).map((function(t){return t/255})),e=C(t,3),n=e[0],r=e[1],i=e[2],o=[Math.min(n,r,i),Math.max(n,r,i)],a=o[0],s=o[1],u=s-a;return 0!==u?Math.round(u/(1-Math.abs(2*this.lightness-1))*100)/100:0}},{key:"setSaturation",value:function(t){var n=this,r=e.fromHSL(this.hue,t,this.lightness,this.alpha/255);Wi.forEach((function(t,e){return n.$channels[e]=r.$channels[e]}))}},{key:"getLightness",value:function(){var t=Array.from(this.$channels).map((function(t){return t/255})),e=C(t,3),n=e[0],r=e[1],i=e[2],o=[Math.min(n,r,i),Math.max(n,r,i)],a=o[0],s=o[1];return Math.round((s+a)/2*100)/100}},{key:"setLightness",value:function(t){var n=this,r=e.fromHSL(this.hue,this.lightness,t,this.alpha/255);Wi.forEach((function(t,e){return n.$channels[e]=r.$channels[e]}))}},{key:"clone",value:function(){var t=this,n=new e;return Wi.forEach((function(e,r){return n.$channels[r]=t.$channels[r]})),n}},{key:"toString",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"hex";switch(String(e).toLowerCase()){case"hex":return"#"+Wi.slice(0,3).map((function(e){return t[e].toString(16).padStart(2,"0")})).join("");case"hexa":return"#"+Wi.map((function(e){return t[e].toString(16).padStart(2,"0")})).join("");case"rgb":return"rgb(".concat(this.red,", ").concat(this.green,", ").concat(this.blue,")");case"rgba":return"rgba(".concat(this.red,", ").concat(this.green,", ").concat(this.blue,", ").concat(Math.round(this.alpha/2.55)/100,")");case"hsl":return"hsl(".concat(Math.round(this.hue),"deg, ").concat(Math.round(100*this.saturation),"%, ").concat(Math.round(100*this.lightness),"%)");case"hsla":return"hsla(".concat(Math.round(this.hue),"deg, ").concat(Math.round(100*this.saturation),"%, ").concat(Math.round(100*this.lightness),"%, ").concat(Math.round(this.alpha/2.55)/100,")");default:throw new Gi}}},{key:t,get:function(){return this.toString("hex")}}],[{key:"parse",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if("object"===u(n[0]))return e.parseObject(n[0]);if(n.every((function(t){return!Number.isNaN(t/1)}))){var i=new e;if(n.length>3)i.red=n[0],i.green=n[1],i.blue=n[2],n[3]&&(i.alpha=n[3]);else if(1===n.length){var o=Number(n[0]);return e.parseIndex(o,o>Math.pow(2,24)?3:4)}}else if("string"===typeof n[0]){var a=null;if("string"===typeof Yi[n[0].toLowerCase()])return e.parseHex(Yi[n[0].toLowerCase()]);if(null!==(a=n[0].match(/^(#|&h|0x)?(([a-f0-9]{3,4}){1,2})$/i)))return e.parseHex(a[2]);if(null!==(a=n[0].match(/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(\s*,\s*(\d*\.?\d+))?\s*\)$/i))){var s=[a[1],a[2],a[3],"undefined"!==typeof a[5]?a[5]:1];return e.fromRGB.apply(e,D(s.map((function(t){return Number(t)}))))}if(n[0].match(/^(h(sl|wb)a?|lab|color|cmyk)\(/i))throw new Error("Color expression not implemented yet")}throw new Error("Invalid color expression")}},{key:"parseObject",value:function(t){var n=new e;return null===t||"object"!==u(t)?n:e.isColor(t)?t.clone():(Wi.forEach((function(e){Number.isNaN(t[e])||(n[e]=t[e])})),n)}},{key:"parseHex",value:function(t){if("string"!==typeof t)throw new Error("Hex expression must be a string");if(t=t.trim().replace(/^(0x|&h|#)/i,""),3!==t.length&&4!==t.length||(t=t.split("").map((function(t){return t.repeat(2)})).join("")),6!==t.length&&8!==t.length)throw new Error("Incorrect Hex expression length");var n=t.split(/(..)/).filter((function(t){return t})).map((function(t){return Number.parseInt(t,16)}));return"number"===typeof n[3]&&(n[3]/=255),e.fromRGB.apply(e,D(n))}},{key:"parseIndex",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=new e,i=0;i<4;i++)r[Wi[i]]=t>>8*(n-i)&&255;return r}},{key:"fromRGB",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if([t,n,r,i].some((function(t){return Number.isNaN(t/1)})))throw new Error("Invalid arguments");i*=255;var o=new e;return[t,n,r,i].forEach((function(t,e){o[Wi[e]]=t})),o}},{key:"fromHSL",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if([t,n,r,i].some((function(t){return Number.isNaN(t)})))throw new Error("Invalid arguments");while(t<0&&t!==-1/0)t+=360;t%=360,n=Math.max(0,Math.min(1,n)),r=Math.max(0,Math.min(1,r)),i=Math.max(0,Math.min(1,i));var o=(1-Math.abs(2*r-1))*n,a=o*(1-Math.abs(t/60%2-1)),s=r-o/2,u=t<60?[o,a,0]:t<120?[a,o,0]:t<180?[0,o,a]:t<240?[0,a,o]:t<300?[a,0,o]:[o,0,a],c=C(u,3),l=c[0],f=c[1],h=c[2];return e.fromRGB(255*(l+s),255*(f+s),255*(h+s),i)}},{key:"isColor",value:function(t){return t instanceof e}}]),e}(Symbol.toString),Xi=Ki,Ji=.86602540378,Zi=.5,Qi=0,to={name:"BColorpickerHSLRepresentationTriangle",props:{value:{type:Object,required:!0,validator:function(t){return"number"===typeof t.hue&&"number"===typeof t.saturation&&"number"===typeof t.lightness}},size:{type:Number,default:200},thickness:{type:Number,default:20}},data:function(){return{id:Qi++,hue:this.value.hue,saturation:this.value.saturation,lightness:this.value.lightness,captureMouse:!1,captureType:"hue",clientOffset:{cx:-1,cy:-1,width:0,height:0},cos30:Ji,sin30:Zi,debounce:0}},computed:{viewBox:function(){var t=this.size;return"0 0 ".concat(t," ").concat(t)},internalRadius:function(){return this.size/2-this.thickness},haloPath:function(){var t=this.size,e=this.thickness,n=t/2-2,r=n-e,i=t/2;return"M".concat(i-n," ").concat(i,"a").concat(n,"  ").concat(n,"  0 1 1 ").concat(2*n," 0")+"h".concat(-e)+"a".concat(-r,"  ").concat(r,"  0 1 0 ").concat(-2*r," 0")+"a".concat(r,"  ").concat(r,"  0 1 0 ").concat(2*r," 0")+"h".concat(e)+"a".concat(n,"  ").concat(n,"  0 1 1 ").concat(-2*n," 0z")},trianglePath:function(){var t=this.size,e=this.thickness,n=t-4,r=(n-2*e)/2;return"M0 ".concat(-r)+"L".concat(Ji*r," ").concat(Zi*r)+"H".concat(-Ji*r,"z")}},watch:{captureMouse:function(t,e){if(!1===e&&!1!==t){var n=this.$el.getBoundingClientRect();this.clientOffset.cx=n.x+n.width/2,this.clientOffset.cy=n.y+n.height/2,this.clientOffset.width=n.width,this.clientOffset.height=n.height}},value:{deep:!0,handler:function(t){var e=this,n=t.hue,r=t.saturation,i=t.lightness;window.clearTimeout(this.debounce),this.debounce=window.setTimeout((function(){i>=.03&&i<=.97&&r>0&&(e.hue=n),e.saturation=r,e.lightness=i}),200)}}},methods:{increaseHue:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.hue=(this.hue+t)%360},decreaseHue:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.hue=(360+this.hue-t)%360},increaseSaturation:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.01;this.saturation=Math.min(1,Math.max(0,this.saturation+t)),this.lightness=Math.min(.5+.5*(1-this.saturation),Math.max(.5-.5*(1-this.saturation),this.lightness))},decreaseSaturation:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.01;this.saturation=Math.min(1,Math.max(0,this.saturation-t)),this.lightness=Math.min(.5+.5*(1-this.saturation),Math.max(.5-.5*(1-this.saturation),this.lightness))},increaseLightness:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.01;this.lightness=Math.min(.5+.5*(1-this.saturation),Math.max(.5-.5*(1-this.saturation),this.lightness+t))},decreaseLightness:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.01;this.lightness=Math.min(.5+.5*(1-this.saturation),Math.max(.5-.5*(1-this.saturation),this.lightness-t))},hueKeyPress:function(t){var e=!1;switch(t.key){case"ArrowRight":case"ArrowUp":this.increaseHue(),e=!0;break;case"ArrowLeft":case"ArrowDown":this.decreaseHue(),e=!0;break;case"Home":this.increaseHue(360-this.hue),e=!0;break;case"End":this.decreaseHue(this.hue),e=!0;break;case"PageUp":this.increaseHue(60-this.hue%60),e=!0;break;case"PageDown":this.decreaseHue(60+this.hue%60),e=!0;break}e&&(t.preventDefault(),t.stopPropagation(),this.emitColor())},slKeyPress:function(t){var e=!1;switch(t.key){case"ArrowRight":this.decreaseLightness(),e=!0;break;case"ArrowUp":this.increaseSaturation(),e=!0;break;case"ArrowLeft":this.increaseLightness(),e=!0;break;case"ArrowDown":this.decreaseSaturation(),e=!0;break;case"Home":this.increaseLightness(1-this.lightness),e=!0;break;case"End":this.decreaseLightness(this.lightness),e=!0;break;case"PageUp":this.increaseSaturation(1-this.saturation),e=!0;break;case"PageDown":this.decreaseSaturation(this.saturation),e=!0;break}e&&(t.preventDefault(),t.stopPropagation(),this.emitColor())},clickHue:function(t){this.startMouseCapture(t),this.trackMouse(t),this.stopMouseCapture(t),this.$refs.hueCursor.focus()},clickSL:function(t){this.startMouseCapture(t),this.trackMouse(t),this.stopMouseCapture(t),this.$refs.slCursor.focus()},trackMouse:function(t){if(!1!==this.captureMouse){t.preventDefault(),t.stopPropagation();var e=0,n=0;if("undefined"!==typeof t.touches&&t.touches.length){var r=[t.touches[0].clientX,t.touches[0].clientY];e=r[0],n=r[1]}else{var i=[t.clientX,t.clientY];e=i[0],n=i[1]}var o=Math.atan2(n-this.clientOffset.cy,e-this.clientOffset.cx);if("sl"===this.captureType){var a=Math.sqrt(Math.pow(e-this.clientOffset.cx,2)+Math.pow(n-this.clientOffset.cy,2)),s=this.size/this.clientOffset.width,u=a*Math.cos(o-this.hue/180*Math.PI)*s,c=a*Math.sin(o-this.hue/180*Math.PI)*s,l=this.internalRadius,f=1-(Math.min(l*Zi,Math.max(-l,c))+l)/(l+l*Zi),h=(Math.min(l*Ji*(1-f),Math.max(-l*Ji*(1-f),u))+l*Ji)/(2*l*Ji);this.saturation=Math.round(1e3*f)/1e3,this.lightness=1-Math.round(1e3*h)/1e3}else this.hue=Math.round(o/Math.PI*180+90)%360;this.emitColor()}},startMouseCapture:function(t){t.stopPropagation(),this.captureMouse=!0,null!==t.target.closest(".colorpicker-triangle-slider-sl")?this.captureType="sl":this.captureType="hue"},stopMouseCapture:function(t){!1!==this.captureMouse&&(t.preventDefault(),t.stopPropagation(),this.$refs["sl"===this.captureType?"slCursor":"hueCursor"].focus()),this.captureMouse=!1},emitColor:function(){var t=this.hue,e=this.saturation,n=this.lightness;this.$emit("input",Xi.fromHSL(t,e,n)),window.clearTimeout(this.debounce)}},mounted:function(){window.addEventListener("mousemove",this.trackMouse),window.addEventListener("touchmove",this.trackMouse,{passive:!1}),window.addEventListener("mouseup",this.stopMouseCapture),window.addEventListener("touchend",this.stopMouseCapture)},beforeDestroy:function(){window.removeEventListener("mousemove",this.trackMouse),window.removeEventListener("touchmove",this.trackMouse),window.removeEventListener("mouseup",this.stopMouseCapture),window.removeEventListener("touchend",this.stopMouseCapture),clearTimeout(this.debounce)}};const eo=to;var no=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{staticClass:"b-colorpicker-triangle",attrs:{viewBox:t.viewBox}},[n("defs",[n("linearGradient",{attrs:{id:"cp-triangle-gradient-ligthness-"+t.id,x1:"0",y1:"0",x2:"1",y2:"0"}},[n("stop",{attrs:{offset:"0%","stop-color":"#fff"}}),n("stop",{attrs:{offset:"100%","stop-color":"#000"}})],1),n("linearGradient",{attrs:{id:"cp-triangle-gradient-saturation-"+t.id,x1:"0",y1:"0",x2:"0",y2:"1"}},[n("stop",{attrs:{offset:"0%","stop-color":"hsl("+t.hue+"deg, 100%, 50%)","stop-opacity":"1"}}),n("stop",{attrs:{offset:"100%","stop-color":"hsl("+t.hue+"deg, 100%, 50%)","stop-opacity":"0"}})],1),n("clipPath",{attrs:{id:"cp-triangle-clip-"+t.id}},[n("path",{attrs:{d:t.haloPath}})])],1),n("g",{staticClass:"colorpicker-triangle-slider-hue"},[n("foreignObject",{attrs:{x:0,y:0,width:t.size,height:t.size,"clip-path":"url(#cp-triangle-clip-"+t.id+")"}},[n("div",{staticClass:"colorpicker-triangle-hue",on:{click:t.clickHue,mousedown:function(e){return e.preventDefault(),t.startMouseCapture(e)},touchstart:function(e){return e.preventDefault(),t.startMouseCapture(e)}}})]),n("g",{style:"transform: rotate("+t.hue+"deg)"},[n("foreignObject",{attrs:{x:t.size/2-4,y:0,width:"8",height:t.thickness+4}},[n("div",{ref:"hueCursor",staticClass:"hue-range-thumb",style:"background-color: hsl("+t.hue+"deg, 100%, 50%)",attrs:{role:"slider",tabindex:"0","aria-label":"Hue","aria-valuemin":"0","aria-valuenow":t.hue,"aria-valuemax":"360"},on:{click:t.clickHue,keydown:t.hueKeyPress,mousedown:function(e){return e.preventDefault(),t.startMouseCapture(e)},touchstart:function(e){return e.preventDefault(),t.startMouseCapture(e)}}})])],1)],1),n("g",{staticClass:"colorpicker-triangle-slider-sl",style:"transform: rotate("+t.hue+"deg) translate(50%, 50%)",attrs:{role:"graphics-datagroup","aria-datascales":"lightness, saturation"}},[n("path",{attrs:{d:t.trianglePath,fill:"url(#cp-triangle-gradient-ligthness-"+t.id+")"}}),n("path",{staticStyle:{"mix-blend-mode":"overlay"},attrs:{d:t.trianglePath,fill:"url(#cp-triangle-gradient-saturation-"+t.id+")"},on:{click:t.clickSL,mousedown:function(e){return e.preventDefault(),t.startMouseCapture(e)},touchstart:function(e){return e.preventDefault(),t.startMouseCapture(e)}}}),n("foreignObject",{attrs:{x:(t.internalRadius-3)*t.cos30*(.5-t.lightness)*2-6,y:-t.internalRadius+(1-t.saturation)*(t.internalRadius-3)*1.5-3,width:"12",height:"12"}},[n("div",{ref:"slCursor",staticClass:"sl-range-thumb",style:{backgroundColor:"hsl("+t.hue+"deg, "+100*t.saturation+"%, "+100*t.lightness+"%)"},attrs:{tabindex:"0","aria-datavalues":100*t.saturation+"%, "+100*t.lightness+"%"},on:{click:t.clickSL,keydown:t.slKeyPress,mousedown:function(e){return e.preventDefault(),t.startMouseCapture(e)},touchstart:function(e){return e.preventDefault(),t.startMouseCapture(e)}}})])],1)])},ro=[];const io=void 0,oo=void 0,ao=void 0,so=!1,uo=pt({render:no,staticRenderFns:ro},io,eo,oo,so,ao,!1,void 0,void 0,void 0);var co,lo,fo,ho=uo,po=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=[];return t.forEach((function(t,e){i.push(t),n[e]&&i.push(Number.isNaN(n[e]/1)?n[e]:Math.round(10*n)/10)})),i.join("")},go={name:"BColorpickerHSLRepresentationSquare",props:{value:{type:Object,required:!0,validator:function(t){return"number"===typeof t.hue&&"number"===typeof t.saturation&&"number"===typeof t.lightness}},size:{type:Number,default:200},thickness:{type:Number,default:20}},data:function(){return{hue:this.value.hue,saturation:this.value.saturation,lightness:this.value.lightness,captureMouse:!1,captureType:"hue",clientOffset:{cx:-1,cy:-1,width:0,height:0},debounce:0}},computed:{hueThumbStyle:function(){var t=this.hue,e=this.size,n=this.thickness,r=e-n,i=e/2,o=(t+720+90)%360/180*Math.PI,a=1/Math.cos(Math.PI/4),s={x:-Math.min(1,Math.max(-1,a*Math.cos(o)))/2*r+i,y:-Math.min(1,Math.max(-1,a*Math.sin(o)))/2*r+i},u=s.x,c=s.y;return{background:"hsl(".concat(t,"deg, 100%, 50%)"),left:po(co||(co=S(["","px"])),u),top:po(lo||(lo=S(["","px"])),c),width:po(fo||(fo=S(["","px"])),n-2)}},slThumbStyle:function(){var t=this.hue,e=this.saturation,n=this.lightness;return e=Math.max(0,Math.min(1,e)),n=Math.max(0,Math.min(1,n)),{background:"hsl(".concat(t,"deg, ").concat(100*e,"%, ").concat(100*n,"%)"),left:"".concat(100*e,"%"),top:"".concat(100*(1-n),"%")}},SLBackground:function(){var t=this.hue;return"linear-gradient(90deg, hsl(".concat(t,"deg, 0%, 50%), hsl(").concat(t,"deg, 100%, 50%))")}},watch:{captureMouse:function(t,e){if(!1===e&&!1!==t){var n=this.$el.getBoundingClientRect();this.clientOffset.cx=n.x+n.width/2,this.clientOffset.cy=n.y+n.height/2,this.clientOffset.width=n.width,this.clientOffset.height=n.height}},value:{deep:!0,handler:function(t){var e=this,n=t.hue,r=t.saturation,i=t.lightness;window.clearTimeout(this.debounce),this.debounce=window.setTimeout((function(){e.hue=n,e.saturation=r,e.lightness=i}),200)}}},methods:{increaseHue:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.hue=(this.hue+t)%360},decreaseHue:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.hue=(360+this.hue-t)%360},increaseSaturation:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.01;this.saturation=Math.min(1,Math.max(0,this.saturation+t)),this.lightness=Math.min(.5+.5*(1-this.saturation),Math.max(.5-.5*(1-this.saturation),this.lightness))},decreaseSaturation:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.01;this.saturation=Math.min(1,Math.max(0,this.saturation-t)),this.lightness=Math.min(.5+.5*(1-this.saturation),Math.max(.5-.5*(1-this.saturation),this.lightness))},increaseLightness:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.01;this.lightness=Math.min(.5+.5*(1-this.saturation),Math.max(.5-.5*(1-this.saturation),this.lightness+t))},decreaseLightness:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.01;this.lightness=Math.min(.5+.5*(1-this.saturation),Math.max(.5-.5*(1-this.saturation),this.lightness-t))},hueKeyPress:function(t){var e=!1;switch(t.key){case"ArrowRight":case"ArrowUp":this.increaseHue(),e=!0;break;case"ArrowLeft":case"ArrowDown":this.decreaseHue(),e=!0;break;case"Home":this.increaseHue(360-this.hue),e=!0;break;case"End":this.decreaseHue(this.hue),e=!0;break;case"PageUp":this.increaseHue(60-this.hue%60),e=!0;break;case"PageDown":this.decreaseHue(60+this.hue%60),e=!0;break}e&&(t.preventDefault(),t.stopPropagation(),this.emitColor())},slKeyPress:function(t){var e=!1;switch(t.key){case"ArrowRight":this.increaseSaturation(),e=!0;break;case"ArrowUp":this.increaseLightness(),e=!0;break;case"ArrowLeft":this.decreaseSaturation(),e=!0;break;case"ArrowDown":this.decreaseLightness(),e=!0;break;case"Home":this.increaseLightness(1-this.lightness),e=!0;break;case"End":this.decreaseLightness(this.lightness),e=!0;break;case"PageUp":this.increaseSaturation(1-this.saturation),e=!0;break;case"PageDown":this.decreaseSaturation(this.saturation),e=!0;break}e&&(t.preventDefault(),t.stopPropagation(),this.emitColor())},startMouseCapture:function(t){t.stopPropagation(),this.captureMouse=!0,null!==t.target.closest(".colorpicker-square-slider-sl")?this.captureType="sl":this.captureType="hue"},stopMouseCapture:function(t){!1!==this.captureMouse&&(t.preventDefault(),t.stopPropagation(),this.$refs["sl"===this.captureType?"slCursor":"hueCursor"].focus()),this.captureMouse=!1},clickHue:function(t){this.startMouseCapture(t),this.trackMouse(t),this.stopMouseCapture(t),this.$refs.hueCursor.focus()},clickSL:function(t){this.startMouseCapture(t),this.trackMouse(t),this.stopMouseCapture(t),this.$refs.slCursor.focus()},trackMouse:function(t){if(!1!==this.captureMouse){t.preventDefault(),t.stopPropagation();var e=0,n=0;if("undefined"!==typeof t.touches&&t.touches.length){var r=[t.touches[0].clientX,t.touches[0].clientY];e=r[0],n=r[1]}else{var i=[t.clientX,t.clientY];e=i[0],n=i[1]}var o=Math.atan2(n-this.clientOffset.cy,e-this.clientOffset.cx);if("sl"===this.captureType){var a=(e-this.clientOffset.cx)/(this.clientOffset.width-2*this.thickness)+.5,s=(n-this.clientOffset.cy)/(this.clientOffset.height-2*this.thickness)+.5;this.saturation=Math.round(1e3*Math.min(1,Math.max(0,a)))/1e3,this.lightness=1-Math.round(1e3*Math.min(1,Math.max(0,s)))/1e3}else this.hue=Math.round(o/Math.PI*180+90)%360;this.emitColor()}},emitColor:function(){var t=this.hue,e=this.saturation,n=this.lightness;this.$emit("input",Xi.fromHSL(t,e,n)),window.clearTimeout(this.debounce)}},mounted:function(){window.addEventListener("mousemove",this.trackMouse),window.addEventListener("touchmove",this.trackMouse,{passive:!1}),window.addEventListener("mouseup",this.stopMouseCapture),window.addEventListener("touchend",this.stopMouseCapture)},beforeDestroy:function(){window.removeEventListener("mousemove",this.trackMouse),window.removeEventListener("touchmove",this.trackMouse),window.removeEventListener("mouseup",this.stopMouseCapture),window.removeEventListener("touchend",this.stopMouseCapture),clearTimeout(this.debounce)}};const mo=go;var vo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-colorpicker-square",style:{width:t.size+"px"}},[n("div",{staticClass:"colorpicker-square-slider-hue",on:{click:t.clickHue,mousedown:function(e){return e.preventDefault(),t.startMouseCapture(e)},touchstart:function(e){return e.preventDefault(),t.startMouseCapture(e)}}},[n("div",{ref:"hueCursor",staticClass:"hue-range-thumb",style:t.hueThumbStyle,attrs:{role:"slider",tabindex:"0","aria-label":"Hue","aria-valuemin":"0","aria-valuemax":"359"}})]),n("div",{staticClass:"colorpicker-square-slider-sl",style:{background:t.SLBackground,margin:t.thickness+"px"},attrs:{"aria-datascales":"lightness, saturation"},on:{click:t.clickSL,mousedown:function(e){return e.preventDefault(),t.startMouseCapture(e)},touchstart:function(e){return e.preventDefault(),t.startMouseCapture(e)}}},[n("div",{ref:"slCursor",staticClass:"sl-range-thumb",style:t.slThumbStyle,attrs:{role:"slider",tabindex:"0","aria-datavalues":100*t.saturation+"%, "+100*t.lightness+"%"},on:{click:t.clickSL,keydown:t.slKeyPress,mousedown:function(e){return e.preventDefault(),t.startMouseCapture(e)},touchstart:function(e){return e.preventDefault(),t.startMouseCapture(e)}}})])])},yo=[];const bo=void 0,wo=void 0,xo=void 0,_o=!1,ko=pt({render:vo,staticRenderFns:yo},bo,mo,wo,_o,xo,!1,void 0,void 0,void 0);var Ao=ko,So={name:"BColorpickerAlphaSlider",components:h({},Hi.name,Hi),props:{value:{type:Number,validator:function(t){return t>=0&&t<256}},color:[String,Object]},data:function(){var t=Xi.parse(this.color);return t.alpha=0,{startColor:t.toString("hex"),endColor:t.toString("hexa"),percent:Math.round(100*(1-this.value/255)),captureMouse:!1,clientOffset:{cx:-1,cy:-1,width:0,height:0}}},computed:{style:function(){return{backgroundImage:"linear-gradient(90deg, ".concat(this.startColor," 0%, ").concat(this.endColor," 100%),\n                    linear-gradient(45deg, #c7c7c7 25%, transparent 25%, transparent 75%, #c7c7c7 75%, #c7c7c7),\n                    linear-gradient(45deg, #c7c7c7 25%, transparent 25%, transparent 75%, #c7c7c7 75%, #c7c7c7)"),backgroundSize:"100% 100%, 1em 1em, 1em 1em",backgroundPosition:"0 0, .5em .5em, 0 0"}}},watch:{value:function(t,e){t!==e&&(this.percent=Math.round(100*(1-t/255)))},color:function(t){var e=Xi.parse(t);e.alpha=0,this.startColor=e.toString("hex"),this.endColor=e.toString("hexa")},captureMouse:function(t,e){if(!1===e&&!1!==t){var n=this.$el.getBoundingClientRect();this.clientOffset.cx=n.x+n.width/2,this.clientOffset.cy=n.y+n.height/2,this.clientOffset.width=n.width,this.clientOffset.height=n.height}}},methods:{increaseAlpha:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.percent=Math.max(0,Math.min(100,this.percent+t))},decreaseAlpha:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.01;this.increaseAlpha(-t)},alphaKeyPress:function(t){var e=!1;switch(t.key){case"ArrowRight":case"ArrowUp":this.increaseAlpha(),e=!0;break;case"ArrowLeft":case"ArrowDown":this.decreaseAlpha(),e=!0;break;case"Home":this.decreaseAlpha(this.percent),e=!0;break;case"End":this.increaseAlpha(100-this.percent),e=!0;break;case"PageUp":this.increaseAlpha(10-this.percent%10),e=!0;break;case"PageDown":this.decreaseAlpha(this.percent%10),e=!0;break}e&&(t.preventDefault(),t.stopPropagation(),this.emitAlpha())},clickAlpha:function(t){this.startMouseCapture(t),this.trackMouse(t),this.stopMouseCapture(t),this.$refs.alphaCursor.focus()},startMouseCapture:function(t){t.stopPropagation(),this.captureMouse=!0},trackMouse:function(t){if(!1!==this.captureMouse){t.preventDefault(),t.stopPropagation();var e=[0,0],n=e[0];if("undefined"!==typeof t.touches&&t.touches.length){var r=[t.touches[0].clientX];n=r[0]}else{var i=[t.clientX];n=i[0]}var o=.5+(this.clientOffset.cx-n)/this.clientOffset.width;this.percent=Math.round(100-100*Math.max(0,Math.min(1,o))),this.emitAlpha()}},stopMouseCapture:function(t){!1!==this.captureMouse&&(t.preventDefault(),t.stopPropagation(),this.$refs.alphaCursor.focus()),this.captureMouse=!1},emitAlpha:function(){this.$emit("input",255*(1-this.percent/100))}},mounted:function(){window.addEventListener("mousemove",this.trackMouse),window.addEventListener("touchmove",this.trackMouse,{passive:!1}),window.addEventListener("mouseup",this.stopMouseCapture),window.addEventListener("touchend",this.stopMouseCapture)},beforeDestroy:function(){window.removeEventListener("mousemove",this.trackMouse),window.removeEventListener("touchmove",this.trackMouse),window.removeEventListener("mouseup",this.stopMouseCapture),window.removeEventListener("touchend",this.stopMouseCapture)}};const Co=So;var Eo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-colorpicker-alpha-slider",style:t.style,on:{click:t.clickAlpha,keydown:t.alphaKeyPress,mousedown:t.startMouseCapture,touchstart:function(e){return e.preventDefault(),t.startMouseCapture(e)}}},[n("div",{ref:"alphaCursor",staticClass:"alpha-range-thumb",style:{left:t.percent+"%"},attrs:{role:"slider",tabindex:"0","aria-label":"Tranparency","aria-valuemin":"0","aria-valuenow":t.percent,"aria-valuemax":"100"}},[n("b-tooltip",{attrs:{label:t.percent+"%",always:t.captureMouse}})],1)])},Do=[];const Mo=void 0,To=void 0,Fo=void 0,Oo=!1,$o=pt({render:Eo,staticRenderFns:Do},Mo,Co,To,Oo,Fo,!1,void 0,void 0,void 0);var No=$o,Bo=function(t,e){return t.alpha<1?t.toString("hexa"):t.toString("hex")},Ro=function(t,e){return Xi.parse(t)},Po={name:"BColorpicker",components:h(h(h(h(h(h(h(h(h({},ho.name,ho),Ao.name,Ao),No.name,No),zt.name,zt),ei.name,ei),Bi.name,Bi),Ft.name,Ft),Er.name,Er),Pr.name,Pr),mixins:[dt],inheritAttrs:!1,provide:function(){return{$colorpicker:this}},props:{value:{type:[String,Object],validator:function(t){return"string"===typeof t||"object"===u(t)&&"number"===typeof t.red&&"number"===typeof t.green&&"number"===typeof t.blue}},representation:{type:String,default:"triangle",value:function(t){return["triangle","square"].some((function(e){return e===t}))}},inline:Boolean,disabled:Boolean,horizontalColorPicker:{type:Boolean,default:!1},colorFormatter:{type:Function,default:function(t,e){return"function"===typeof lt.defaultColorFormatter?lt.defaultColorFormatter(t):Bo(t)}},colorParser:{type:Function,default:function(t,e){return"function"===typeof lt.defaultColorParser?lt.defaultColorParser(t):Ro(t)}},alpha:{type:Boolean,default:!1},expanded:Boolean,position:String,mobileModal:{type:Boolean,default:function(){return lt.defaultDatepickerMobileModal}},focusable:{type:Boolean,default:!0},trapFocus:{type:Boolean,default:function(){return lt.defaultTrapFocus}},appendToBody:Boolean},data:function(){return{color:this.parseColor(this.value)}},computed:{computedValue:{set:function(t){this.color=this.parseColor(t)},get:function(){return this.color}},background:function(){if(this.alpha)return"linear-gradient(\n                    45deg,\n                    ".concat(this.computedValue.toString("hex")," 50%,\n                    ").concat(this.computedValue.toString("hexa")," 50%\n                )");var t=this.computedValue.toString("hex");return"linear-gradient(\n                    45deg,\n                    ".concat(t," 50%,\n                    ").concat(t," 50%\n                )")},triggerStyle:function(){var t=this.computedValue,e=t.red,n=t.green,r=t.blue,i=.299*e+.587*n+.114*r>186;return{backgroundColor:"#ffffff",backgroundImage:"\n                    ".concat(this.background,",\n                    linear-gradient(45deg, #c7c7c7 25%, transparent 25%, transparent 75%, #c7c7c7 75%, #c7c7c7),\n                    linear-gradient(45deg, #c7c7c7 25%, transparent 25%, transparent 75%, #c7c7c7 75%, #c7c7c7)\n                "),backgroundSize:"100% 100%, 16px 16px, 16px 16px",backgroundPosition:"0 0, 8px 8px, 0 0",color:i?"#000000":"#FFFFFF",textShadow:"0 0 2px ".concat(i?"#FFFFFFAA":"#000000AA")}},isMobile:function(){return this.mobileNative&&Y.any()},ariaRole:function(){if(!this.inline)return"dialog"}},watch:{value:function(t){this.computedValue=new Xi(t)}},methods:{parseColor:function(t){try{return this.colorParser(t)}catch(e){return new Xi}},updateColor:function(t){t.alpha=this.computedValue.alpha,this.computedValue=t,this.$emit("input",t)},updateAlpha:function(t){this.computedValue.alpha=t,this.$emit("input",this.computedValue)},updateRGB:function(){this.$emit("input",this.computedValue)},formatValue:function(t){return t?this.colorFormatter(t,this):null},togglePicker:function(t){if(this.$refs.dropdown){var e="boolean"===typeof t?t:!this.$refs.dropdown.isActive;(e||this.closeOnClick)&&(this.$refs.dropdown.isActive=e)}},handleOnFocus:function(t){this.onFocus(t),this.openOnFocus&&this.togglePicker(!0)},toggle:function(){if(this.mobileNative&&this.isMobile){var t=this.$refs.input.$refs.input;return t.focus(),void t.click()}this.$refs.dropdown.toggle()},onInputClick:function(t){this.$refs.dropdown.isActive&&t.stopPropagation()},keyPress:function(t){var e=t.key;this.$refs.dropdown&&this.$refs.dropdown.isActive&&("Escape"===e||"Esc"===e)&&this.togglePicker(!1)},onActiveChange:function(t){t||this.onBlur(),this.$emit("active-change",t)}}};const Io=Po;var jo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"colorpicker control",class:[t.size,{"is-expanded":t.expanded}]},[!t.isMobile||t.inline?n("b-dropdown",{ref:"dropdown",attrs:{position:t.position,expanded:t.expanded,disabled:t.disabled,inline:t.inline,"mobile-modal":t.mobileModal,"trap-focus":t.trapFocus,"aria-role":t.ariaRole,"append-to-body":t.appendToBody,"append-to-body-copy-parent":""},on:{"active-change":t.onActiveChange},scopedSlots:t._u([t.inline?null:{key:"trigger",fn:function(){return[t._t("trigger",[n("b-button",{style:t.triggerStyle,attrs:{expanded:t.expanded,disabled:t.disabled}},[n("span",{staticClass:"color-name"},[t._v(t._s(t.colorFormatter(t.computedValue)))])])])]},proxy:!0}],null,!0)},[n("b-dropdown-item",{class:{"dropdown-horizontal-colorpicker":t.horizontalColorPicker},attrs:{disabled:t.disabled,focusable:t.focusable,custom:""}},[n("div",[n("header",{staticClass:"colorpicker-header"},[void 0!==t.$slots.header&&t.$slots.header.length?[t._t("header")]:t._e()],2),n("div",{staticClass:"colorpicker-content"},["square"===t.representation?n("b-colorpicker-h-s-l-representation-square",{attrs:{value:t.computedValue},on:{input:t.updateColor}}):n("b-colorpicker-h-s-l-representation-triangle",{attrs:{value:t.computedValue},on:{input:t.updateColor}})],1)]),n("footer",{staticClass:"colorpicker-footer"},[t.alpha?n("b-colorpicker-alpha-slider",{attrs:{value:t.computedValue.alpha,color:t.computedValue},on:{input:t.updateAlpha}}):t._e(),t._t("footer",[n("b-field",{staticClass:"colorpicker-fields",attrs:{grouped:""}},[n("b-field",{attrs:{horizontal:"",label:"R"}},[n("b-input",{attrs:{type:"number",size:"is-small","aria-label":"Red"},on:{input:t.updateRGB},model:{value:t.computedValue.red,callback:function(e){t.$set(t.computedValue,"red",t._n(e))},expression:"computedValue.red"}})],1),n("b-field",{attrs:{horizontal:"",label:"G"}},[n("b-input",{attrs:{type:"number",size:"is-small","aria-label":"Green"},on:{input:t.updateRGB},model:{value:t.computedValue.green,callback:function(e){t.$set(t.computedValue,"green",t._n(e))},expression:"computedValue.green"}})],1),n("b-field",{attrs:{horizontal:"",label:"B"}},[n("b-input",{attrs:{type:"number",size:"is-small","aria-label":"Blue"},on:{input:t.updateRGB},model:{value:t.computedValue.blue,callback:function(e){t.$set(t.computedValue,"blue",t._n(e))},expression:"computedValue.blue"}})],1)],1)],{color:t.computedValue})],2)])],1):t._e()],1)},Lo=[];const zo=void 0,Uo=void 0,qo=void 0,Vo=!1,Ho=pt({render:jo,staticRenderFns:Lo},zo,Io,Uo,Vo,qo,!1,void 0,void 0,void 0);var Wo=Ho,Yo={install:function(t){mt(t,Wo)}};gt(Yo);var Go={name:"BDatepickerTableRow",inject:{$datepicker:{name:"$datepicker",default:!1}},props:{selectedDate:{type:[Date,Array]},hoveredDateRange:Array,day:{type:Number},week:{type:Array,required:!0},month:{type:Number,required:!0},minDate:Date,maxDate:Date,disabled:Boolean,unselectableDates:[Array,Function],unselectableDaysOfWeek:Array,selectableDates:[Array,Function],events:Array,indicators:String,dateCreator:Function,nearbyMonthDays:Boolean,nearbySelectableMonthDays:Boolean,showWeekNumber:Boolean,weekNumberClickable:Boolean,range:Boolean,multiple:Boolean,rulesForFirstWeek:Number,firstDayOfWeek:Number},watch:{day:function(t){var e=this,n="day-".concat(this.month,"-").concat(t);this.$nextTick((function(){e.$refs[n]&&e.$refs[n].length>0&&e.$refs[n][0]&&e.$refs[n][0].focus()}))}},methods:{firstWeekOffset:function(t,e,n){var r=7+e-n,i=new Date(t,0,r),o=(7+i.getDay()-e)%7;return-o+r-1},daysInYear:function(t){return this.isLeapYear(t)?366:365},isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getSetDayOfYear:function(t){return Math.round((t-new Date(t.getFullYear(),0,1))/864e5)+1},weeksInYear:function(t,e,n){var r=this.firstWeekOffset(t,e,n),i=this.firstWeekOffset(t+1,e,n);return(this.daysInYear(t)-r+i)/7},getWeekNumber:function(t){var e,n,r=this.firstDayOfWeek,i=this.rulesForFirstWeek,o=this.firstWeekOffset(t.getFullYear(),r,i),a=Math.floor((this.getSetDayOfYear(t)-o-1)/7)+1;return a<1?(n=t.getFullYear()-1,e=a+this.weeksInYear(n,r,i)):a>this.weeksInYear(t.getFullYear(),r,i)?(e=a-this.weeksInYear(t.getFullYear(),r,i),n=t.getFullYear()+1):(n=t.getFullYear(),e=a),{week:e,year:n}},clickWeekNumber:function(t){this.weekNumberClickable&&this.$datepicker.$emit("week-number-click",t.week,t.year)},selectableDate:function(t){var e=[];if(this.minDate&&e.push(t>=this.minDate),this.maxDate&&e.push(t<=this.maxDate),this.nearbyMonthDays&&!this.nearbySelectableMonthDays&&e.push(t.getMonth()===this.month),this.selectableDates)if("function"===typeof this.selectableDates){if(this.selectableDates(t))return!0;e.push(!1)}else for(var n=0;n<this.selectableDates.length;n++){var r=this.selectableDates[n];if(t.getDate()===r.getDate()&&t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth())return!0;e.push(!1)}if(this.unselectableDates)if("function"===typeof this.unselectableDates)e.push(!this.unselectableDates(t));else for(var i=0;i<this.unselectableDates.length;i++){var o=this.unselectableDates[i];e.push(t.getDate()!==o.getDate()||t.getFullYear()!==o.getFullYear()||t.getMonth()!==o.getMonth())}if(this.unselectableDaysOfWeek)for(var a=0;a<this.unselectableDaysOfWeek.length;a++){var s=this.unselectableDaysOfWeek[a];e.push(t.getDay()!==s)}return e.indexOf(!1)<0},emitChosenDate:function(t){this.disabled||this.selectableDate(t)&&this.$emit("select",t)},eventsDateMatch:function(t){if(!this.events||!this.events.length)return!1;for(var e=[],n=0;n<this.events.length;n++)this.events[n].date.getDay()===t.getDay()&&e.push(this.events[n]);return!!e.length&&e},classObject:function(t){function e(t,e,n){return!(!t||!e||n)&&(Array.isArray(e)?e.some((function(e){return t.getDate()===e.getDate()&&t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()})):t.getDate()===e.getDate()&&t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth())}function n(t,e,n){return!(!Array.isArray(e)||n)&&(t>e[0]&&t<e[1])}return h({"is-selected":e(t,this.selectedDate)||n(t,this.selectedDate,this.multiple),"is-first-selected":e(t,Array.isArray(this.selectedDate)&&this.selectedDate[0],this.multiple),"is-within-selected":n(t,this.selectedDate,this.multiple),"is-last-selected":e(t,Array.isArray(this.selectedDate)&&this.selectedDate[1],this.multiple),"is-within-hovered-range":this.hoveredDateRange&&2===this.hoveredDateRange.length&&(e(t,this.hoveredDateRange)||n(t,this.hoveredDateRange)),"is-first-hovered":e(t,Array.isArray(this.hoveredDateRange)&&this.hoveredDateRange[0]),"is-within-hovered":n(t,this.hoveredDateRange),"is-last-hovered":e(t,Array.isArray(this.hoveredDateRange)&&this.hoveredDateRange[1]),"is-today":e(t,this.dateCreator()),"is-selectable":this.selectableDate(t)&&!this.disabled,"is-unselectable":!this.selectableDate(t)||this.disabled,"is-invisible":!this.nearbyMonthDays&&t.getMonth()!==this.month,"is-nearby":this.nearbySelectableMonthDays&&t.getMonth()!==this.month,"has-event":this.eventsDateMatch(t)},this.indicators,this.eventsDateMatch(t))},setRangeHoverEndDate:function(t){this.range&&this.$emit("rangeHoverEndDate",t)},manageKeydown:function(t,e){var n=t.key,r=!0;switch(n){case"Tab":r=!1;break;case" ":case"Space":case"Spacebar":case"Enter":this.emitChosenDate(e);break;case"ArrowLeft":case"Left":this.changeFocus(e,-1);break;case"ArrowRight":case"Right":this.changeFocus(e,1);break;case"ArrowUp":case"Up":this.changeFocus(e,-7);break;case"ArrowDown":case"Down":this.changeFocus(e,7);break}r&&t.preventDefault()},changeFocus:function(t,e){var n=new Date(t.getTime());n.setDate(t.getDate()+e);while((!this.minDate||n>this.minDate)&&(!this.maxDate||n<this.maxDate)&&!this.selectableDate(n))n.setDate(n.getDate()+Math.sign(e));this.setRangeHoverEndDate(n),this.$emit("change-focus",n)}}};const Ko=Go;var Xo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"datepicker-row"},[t.showWeekNumber?n("a",{staticClass:"datepicker-cell is-week-number",class:{"is-clickable":t.weekNumberClickable},on:{click:function(e){e.preventDefault(),t.clickWeekNumber(t.getWeekNumber(t.week[6]))}}},[n("span",[t._v(t._s(t.getWeekNumber(t.week[6]).week))])]):t._e(),t._l(t.week,(function(e,r){return[t.selectableDate(e)&&!t.disabled?n("a",{key:r,ref:"day-"+e.getMonth()+"-"+e.getDate(),refInFor:!0,staticClass:"datepicker-cell",class:t.classObject(e),attrs:{role:"button",href:"#",disabled:t.disabled,tabindex:t.day===e.getDate()&&t.month===e.getMonth()?null:-1},on:{click:function(n){return n.preventDefault(),t.emitChosenDate(e)},mouseenter:function(n){return t.setRangeHoverEndDate(e)},keydown:function(n){return t.manageKeydown(n,e)}}},[n("span",[t._v(t._s(e.getDate()))]),t.eventsDateMatch(e)?n("div",{staticClass:"events"},t._l(t.eventsDateMatch(e),(function(t,e){return n("div",{key:e,staticClass:"event",class:t.type})})),0):t._e()]):n("div",{key:r,staticClass:"datepicker-cell",class:t.classObject(e)},[n("span",[t._v(t._s(e.getDate()))]),t.eventsDateMatch(e)?n("div",{staticClass:"events"},t._l(t.eventsDateMatch(e),(function(t,e){return n("div",{key:e,staticClass:"event",class:t.type})})),0):t._e()])]}))],2)},Jo=[];const Zo=void 0,Qo=void 0,ta=void 0,ea=!1,na=pt({render:Xo,staticRenderFns:Jo},Zo,Ko,Qo,ea,ta,!1,void 0,void 0,void 0);var ra=na,ia={name:"BDatepickerTable",components:h({},ra.name,ra),props:{value:{type:[Date,Array]},dayNames:Array,monthNames:Array,firstDayOfWeek:Number,events:Array,indicators:String,minDate:Date,maxDate:Date,focused:Object,disabled:Boolean,dateCreator:Function,unselectableDates:[Array,Function],unselectableDaysOfWeek:Array,selectableDates:[Array,Function],nearbyMonthDays:Boolean,nearbySelectableMonthDays:Boolean,showWeekNumber:Boolean,weekNumberClickable:Boolean,rulesForFirstWeek:Number,range:Boolean,multiple:Boolean},data:function(){return{selectedBeginDate:void 0,selectedEndDate:void 0,hoveredEndDate:void 0}},computed:{multipleSelectedDates:{get:function(){return this.multiple&&this.value?this.value:[]},set:function(t){this.$emit("input",t)}},visibleDayNames:function(){var t=[],e=this.firstDayOfWeek;while(t.length<this.dayNames.length){var n=this.dayNames[e%this.dayNames.length];t.push(n),e++}return this.showWeekNumber&&t.unshift(""),t},hasEvents:function(){return this.events&&this.events.length},eventsInThisMonth:function(){if(!this.events)return[];for(var t=[],e=0;e<this.events.length;e++){var n=this.events[e];n.hasOwnProperty("date")||(n={date:n}),n.hasOwnProperty("type")||(n.type="is-primary"),n.date.getMonth()===this.focused.month&&n.date.getFullYear()===this.focused.year&&t.push(n)}return t},weeksInThisMonth:function(){this.validateFocusedDay();var t=this.focused.month,e=this.focused.year,n=[],r=1;while(n.length<6){var i=this.weekBuilder(r,t,e);n.push(i),r+=7}return n},hoveredDateRange:function(){return this.range&&isNaN(this.selectedEndDate)?this.hoveredEndDate<this.selectedBeginDate?[this.hoveredEndDate,this.selectedBeginDate].filter(st):[this.selectedBeginDate,this.hoveredEndDate].filter(st):[]}},methods:{updateSelectedDate:function(t){this.range||this.multiple?this.range?this.handleSelectRangeDate(t):this.multiple&&this.handleSelectMultipleDates(t):this.$emit("input",t)},handleSelectRangeDate:function(t){this.selectedBeginDate&&this.selectedEndDate?(this.selectedBeginDate=t,this.selectedEndDate=void 0,this.$emit("range-start",t)):this.selectedBeginDate&&!this.selectedEndDate?(this.selectedBeginDate>t?(this.selectedEndDate=this.selectedBeginDate,this.selectedBeginDate=t):this.selectedEndDate=t,this.$emit("range-end",t),this.$emit("input",[this.selectedBeginDate,this.selectedEndDate])):(this.selectedBeginDate=t,this.$emit("range-start",t))},handleSelectMultipleDates:function(t){var e=this.multipleSelectedDates.filter((function(e){return e.getDate()===t.getDate()&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}));e.length?this.multipleSelectedDates=this.multipleSelectedDates.filter((function(e){return e.getDate()!==t.getDate()||e.getFullYear()!==t.getFullYear()||e.getMonth()!==t.getMonth()})):this.multipleSelectedDates=[].concat(D(this.multipleSelectedDates),[t])},weekBuilder:function(t,e,n){for(var r=new Date(n,e),i=[],o=new Date(n,e,t).getDay(),a=o>=this.firstDayOfWeek?o-this.firstDayOfWeek:7-this.firstDayOfWeek+o,s=1,u=0;u<a;u++)i.unshift(new Date(r.getFullYear(),r.getMonth(),t-s)),s++;i.push(new Date(n,e,t));var c=1;while(i.length<7)i.push(new Date(n,e,t+c)),c++;return i},validateFocusedDay:function(){var t=new Date(this.focused.year,this.focused.month,this.focused.day);if(!this.selectableDate(t)){var e=0,n=new Date(this.focused.year,this.focused.month+1,0).getDate(),r=null;while(!r&&++e<n){var i=new Date(this.focused.year,this.focused.month,e);if(this.selectableDate(i)){r=t;var o={day:i.getDate(),month:i.getMonth(),year:i.getFullYear()};this.$emit("update:focused",o)}}}},selectableDate:function(t){var e=[];if(this.minDate&&e.push(t>=this.minDate),this.maxDate&&e.push(t<=this.maxDate),this.nearbyMonthDays&&!this.nearbySelectableMonthDays&&e.push(t.getMonth()===this.focused.month),this.selectableDates)if("function"===typeof this.selectableDates){if(this.selectableDates(t))return!0;e.push(!1)}else for(var n=0;n<this.selectableDates.length;n++){var r=this.selectableDates[n];if(t.getDate()===r.getDate()&&t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth())return!0;e.push(!1)}if(this.unselectableDates)if("function"===typeof this.unselectableDates)e.push(!this.unselectableDates(t));else for(var i=0;i<this.unselectableDates.length;i++){var o=this.unselectableDates[i];e.push(t.getDate()!==o.getDate()||t.getFullYear()!==o.getFullYear()||t.getMonth()!==o.getMonth())}if(this.unselectableDaysOfWeek)for(var a=0;a<this.unselectableDaysOfWeek.length;a++){var s=this.unselectableDaysOfWeek[a];e.push(t.getDay()!==s)}return e.indexOf(!1)<0},eventsInThisWeek:function(t){return this.eventsInThisMonth.filter((function(e){var n=new Date(Date.parse(e.date));n.setHours(0,0,0,0);var r=n.getTime();return t.some((function(t){return t.getTime()===r}))}))},setRangeHoverEndDate:function(t){this.hoveredEndDate=t},changeFocus:function(t){var e={day:t.getDate(),month:t.getMonth(),year:t.getFullYear()};this.$emit("update:focused",e)}}};const oa=ia;var aa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"datepicker-table"},[n("header",{staticClass:"datepicker-header"},t._l(t.visibleDayNames,(function(e,r){return n("div",{key:r,staticClass:"datepicker-cell"},[n("span",[t._v(t._s(e))])])})),0),n("div",{staticClass:"datepicker-body",class:{"has-events":t.hasEvents}},t._l(t.weeksInThisMonth,(function(e,r){return n("b-datepicker-table-row",{key:r,attrs:{"selected-date":t.value,day:t.focused.day,week:e,month:t.focused.month,"min-date":t.minDate,"max-date":t.maxDate,disabled:t.disabled,"unselectable-dates":t.unselectableDates,"unselectable-days-of-week":t.unselectableDaysOfWeek,"selectable-dates":t.selectableDates,events:t.eventsInThisWeek(e),indicators:t.indicators,"date-creator":t.dateCreator,"nearby-month-days":t.nearbyMonthDays,"nearby-selectable-month-days":t.nearbySelectableMonthDays,"show-week-number":t.showWeekNumber,"week-number-clickable":t.weekNumberClickable,"first-day-of-week":t.firstDayOfWeek,"rules-for-first-week":t.rulesForFirstWeek,range:t.range,"hovered-date-range":t.hoveredDateRange,multiple:t.multiple},on:{select:t.updateSelectedDate,rangeHoverEndDate:t.setRangeHoverEndDate,"change-focus":t.changeFocus}})})),1)])},sa=[];const ua=void 0,ca=void 0,la=void 0,fa=!1,ha=pt({render:aa,staticRenderFns:sa},ua,oa,ca,fa,la,!1,void 0,void 0,void 0);var da=ha,pa={name:"BDatepickerMonth",props:{value:{type:[Date,Array]},monthNames:Array,events:Array,indicators:String,minDate:Date,maxDate:Date,focused:Object,disabled:Boolean,dateCreator:Function,unselectableDates:[Array,Function],unselectableDaysOfWeek:Array,selectableDates:[Array,Function],range:Boolean,multiple:Boolean},data:function(){return{selectedBeginDate:void 0,selectedEndDate:void 0,hoveredEndDate:void 0,multipleSelectedDates:this.multiple&&this.value?this.value:[]}},computed:{hasEvents:function(){return this.events&&this.events.length},eventsInThisYear:function(){if(!this.events)return[];for(var t=[],e=0;e<this.events.length;e++){var n=this.events[e];n.hasOwnProperty("date")||(n={date:n}),n.hasOwnProperty("type")||(n.type="is-primary"),n.date.getFullYear()===this.focused.year&&t.push(n)}return t},monthDates:function(){for(var t=this.focused.year,e=[],n=0;n<12;n++){var r=new Date(t,n,1);r.setHours(0,0,0,0),e.push(r)}return e},focusedMonth:function(){return this.focused.month},hoveredDateRange:function(){return this.range&&isNaN(this.selectedEndDate)?this.hoveredEndDate<this.selectedBeginDate?[this.hoveredEndDate,this.selectedBeginDate].filter(st):[this.selectedBeginDate,this.hoveredEndDate].filter(st):[]}},watch:{focusedMonth:function(t){var e=this,n="month-".concat(t);this.$refs[n]&&this.$refs[n].length>0&&this.$nextTick((function(){e.$refs[n][0]&&e.$refs[n][0].focus()}))}},methods:{selectMultipleDates:function(t){var e=this.multipleSelectedDates.filter((function(e){return e.getDate()===t.getDate()&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}));e.length?this.multipleSelectedDates=this.multipleSelectedDates.filter((function(e){return e.getDate()!==t.getDate()||e.getFullYear()!==t.getFullYear()||e.getMonth()!==t.getMonth()})):this.multipleSelectedDates.push(t),this.$emit("input",this.multipleSelectedDates)},selectableDate:function(t){var e=[];if(this.minDate&&e.push(t>=this.minDate),this.maxDate&&e.push(t<=this.maxDate),e.push(t.getFullYear()===this.focused.year),this.selectableDates)if("function"===typeof this.selectableDates){if(this.selectableDates(t))return!0;e.push(!1)}else for(var n=0;n<this.selectableDates.length;n++){var r=this.selectableDates[n];if(t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth())return!0;e.push(!1)}if(this.unselectableDates)if("function"===typeof this.unselectableDates)e.push(!this.unselectableDates(t));else for(var i=0;i<this.unselectableDates.length;i++){var o=this.unselectableDates[i];e.push(t.getFullYear()!==o.getFullYear()||t.getMonth()!==o.getMonth())}if(this.unselectableDaysOfWeek)for(var a=0;a<this.unselectableDaysOfWeek.length;a++){var s=this.unselectableDaysOfWeek[a];e.push(t.getDay()!==s)}return e.indexOf(!1)<0},eventsDateMatch:function(t){if(!this.eventsInThisYear.length)return!1;for(var e=[],n=0;n<this.eventsInThisYear.length;n++)this.eventsInThisYear[n].date.getMonth()===t.getMonth()&&e.push(this.events[n]);return!!e.length&&e},classObject:function(t){function e(t,e,n){return!(!t||!e||n)&&(Array.isArray(e)?e.some((function(e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()})):t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth())}function n(t,e,n){return!(!Array.isArray(e)||n)&&(t>e[0]&&t<e[1])}function r(t,e,n){return!(!Array.isArray(e)||!n)&&e.some((function(e){return t.getDate()===e.getDate()&&t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()}))}return{"is-selected":e(t,this.value,this.multiple)||n(t,this.value,this.multiple)||r(t,this.multipleSelectedDates,this.multiple),"is-first-selected":e(t,Array.isArray(this.value)&&this.value[0],this.multiple),"is-within-selected":n(t,this.value,this.multiple),"is-last-selected":e(t,Array.isArray(this.value)&&this.value[1],this.multiple),"is-within-hovered-range":this.hoveredDateRange&&2===this.hoveredDateRange.length&&(e(t,this.hoveredDateRange)||n(t,this.hoveredDateRange)),"is-first-hovered":e(t,Array.isArray(this.hoveredDateRange)&&this.hoveredDateRange[0]),"is-within-hovered":n(t,this.hoveredDateRange),"is-last-hovered":e(t,Array.isArray(this.hoveredDateRange)&&this.hoveredDateRange[1]),"is-today":e(t,this.dateCreator()),"is-selectable":this.selectableDate(t)&&!this.disabled,"is-unselectable":!this.selectableDate(t)||this.disabled}},manageKeydown:function(t,e){var n=t.key;switch(n){case" ":case"Space":case"Spacebar":case"Enter":this.updateSelectedDate(e);break;case"ArrowLeft":case"Left":this.changeFocus(e,-1);break;case"ArrowRight":case"Right":this.changeFocus(e,1);break;case"ArrowUp":case"Up":this.changeFocus(e,-3);break;case"ArrowDown":case"Down":this.changeFocus(e,3);break}},updateSelectedDate:function(t){this.range||this.multiple?this.range?this.handleSelectRangeDate(t):this.multiple&&this.selectMultipleDates(t):this.emitChosenDate(t)},emitChosenDate:function(t){this.disabled||(this.multiple?this.selectMultipleDates(t):this.selectableDate(t)&&this.$emit("input",t))},handleSelectRangeDate:function(t){this.disabled||(this.selectedBeginDate&&this.selectedEndDate?(this.selectedBeginDate=t,this.selectedEndDate=void 0,this.$emit("range-start",t)):this.selectedBeginDate&&!this.selectedEndDate?(this.selectedBeginDate>t?(this.selectedEndDate=this.selectedBeginDate,this.selectedBeginDate=t):this.selectedEndDate=t,this.$emit("range-end",t),this.$emit("input",[this.selectedBeginDate,this.selectedEndDate])):(this.selectedBeginDate=t,this.$emit("range-start",t)))},setRangeHoverEndDate:function(t){this.range&&(this.hoveredEndDate=t)},changeFocus:function(t,e){var n=t;n.setMonth(t.getMonth()+e),this.$emit("change-focus",n)}}};const ga=pa;var ma=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"datepicker-table"},[n("div",{staticClass:"datepicker-body",class:{"has-events":t.hasEvents}},[n("div",{staticClass:"datepicker-months"},[t._l(t.monthDates,(function(e,r){return[t.selectableDate(e)&&!t.disabled?n("a",{key:r,ref:"month-"+e.getMonth(),refInFor:!0,staticClass:"datepicker-cell",class:[t.classObject(e),{"has-event":t.eventsDateMatch(e)},t.indicators],attrs:{role:"button",href:"#",disabled:t.disabled,tabindex:t.focused.month===e.getMonth()?null:-1},on:{click:function(n){return n.preventDefault(),t.updateSelectedDate(e)},mouseenter:function(n){return t.setRangeHoverEndDate(e)},keydown:function(n){return n.preventDefault(),t.manageKeydown(n,e)}}},[t._v(" "+t._s(t.monthNames[e.getMonth()])+" "),t.eventsDateMatch(e)?n("div",{staticClass:"events"},t._l(t.eventsDateMatch(e),(function(t,e){return n("div",{key:e,staticClass:"event",class:t.type})})),0):t._e()]):n("div",{key:r,staticClass:"datepicker-cell",class:t.classObject(e)},[t._v(" "+t._s(t.monthNames[e.getMonth()])+" ")])]}))],2)])])},va=[];const ya=void 0,ba=void 0,wa=void 0,xa=!1,_a=pt({render:ma,staticRenderFns:va},ya,ga,ba,xa,wa,!1,void 0,void 0,void 0);var ka=_a,Aa=function(t,e){var n=Array.isArray(t)?t:[t],r=n.map((function(t){var n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),12);return e.isTypeMonth?e.dtfMonth.format(n):e.dtf.format(n)}));return e.multiple?r.join(", "):r.join(" - ")},Sa=function(t,e){if(e.dtf.formatToParts&&"function"===typeof e.dtf.formatToParts){var n=(e.isTypeMonth?e.dtfMonth:e.dtf).formatToParts(new Date(2e3,11,25)).map((function(t){return"literal"===t.type?t.value:"((?!=<".concat(t.type,">)\\d+)")})).join(""),r=rt(n,t);if(r.year&&4===r.year.length&&r.month&&r.month<=12){if(e.isTypeMonth)return new Date(r.year,r.month-1);if(r.day&&r.day<=31)return new Date(r.year,r.month-1,r.day,12)}}if(!e.isTypeMonth)return new Date(Date.parse(t));if(t){var i=t.split("/"),o=4===i[0].length?i[0]:i[1],a=2===i[0].length?i[0]:i[1];if(o&&a)return new Date(parseInt(o,10),parseInt(a-1,10),1,0,0,0,0)}return null},Ca={name:"BDatepicker",components:h(h(h(h(h(h(h(h({},da.name,da),ka.name,ka),zt.name,zt),ei.name,ei),Bi.name,Bi),Ft.name,Ft),Er.name,Er),Pr.name,Pr),mixins:[dt],inheritAttrs:!1,provide:function(){return{$datepicker:this}},props:{value:{type:[Date,Array]},dayNames:{type:Array,default:function(){if(Array.isArray(lt.defaultDayNames))return lt.defaultDayNames}},monthNames:{type:Array,default:function(){if(Array.isArray(lt.defaultMonthNames))return lt.defaultMonthNames}},firstDayOfWeek:{type:Number,default:function(){return"number"===typeof lt.defaultFirstDayOfWeek?lt.defaultFirstDayOfWeek:0}},inline:Boolean,minDate:Date,maxDate:Date,focusedDate:Date,placeholder:String,editable:Boolean,disabled:Boolean,horizontalTimePicker:Boolean,unselectableDates:[Array,Function],unselectableDaysOfWeek:{type:Array,default:function(){return lt.defaultUnselectableDaysOfWeek}},selectableDates:[Array,Function],dateFormatter:{type:Function,default:function(t,e){return"function"===typeof lt.defaultDateFormatter?lt.defaultDateFormatter(t):Aa(t,e)}},dateParser:{type:Function,default:function(t,e){return"function"===typeof lt.defaultDateParser?lt.defaultDateParser(t):Sa(t,e)}},dateCreator:{type:Function,default:function(){return"function"===typeof lt.defaultDateCreator?lt.defaultDateCreator():new Date}},mobileNative:{type:Boolean,default:function(){return lt.defaultDatepickerMobileNative}},position:String,iconRight:String,iconRightClickable:Boolean,events:Array,indicators:{type:String,default:"dots"},openOnFocus:Boolean,iconPrev:{type:String,default:function(){return lt.defaultIconPrev}},iconNext:{type:String,default:function(){return lt.defaultIconNext}},yearsRange:{type:Array,default:function(){return lt.defaultDatepickerYearsRange}},type:{type:String,validator:function(t){return["month"].indexOf(t)>=0}},nearbyMonthDays:{type:Boolean,default:function(){return lt.defaultDatepickerNearbyMonthDays}},nearbySelectableMonthDays:{type:Boolean,default:function(){return lt.defaultDatepickerNearbySelectableMonthDays}},showWeekNumber:{type:Boolean,default:function(){return lt.defaultDatepickerShowWeekNumber}},weekNumberClickable:{type:Boolean,default:function(){return lt.defaultDatepickerWeekNumberClickable}},rulesForFirstWeek:{type:Number,default:function(){return 4}},range:{type:Boolean,default:!1},closeOnClick:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},mobileModal:{type:Boolean,default:function(){return lt.defaultDatepickerMobileModal}},focusable:{type:Boolean,default:!0},trapFocus:{type:Boolean,default:function(){return lt.defaultTrapFocus}},appendToBody:Boolean,ariaNextLabel:String,ariaPreviousLabel:String},data:function(){var t=(Array.isArray(this.value)?this.value[0]:this.value)||this.focusedDate||this.dateCreator();return!this.value&&this.maxDate&&this.maxDate.getFullYear()<t.getFullYear()&&t.setFullYear(this.maxDate.getFullYear()),{dateSelected:this.value,focusedDateData:{day:t.getDate(),month:t.getMonth(),year:t.getFullYear()},_elementRef:"input",_isDatepicker:!0}},computed:{computedValue:{get:function(){return this.dateSelected},set:function(t){var e=this;this.updateInternalState(t),this.multiple||this.togglePicker(!1),this.$emit("input",t),this.useHtml5Validation&&this.$nextTick((function(){e.checkHtml5Validity()}))}},formattedValue:function(){return this.formatValue(this.computedValue)},localeOptions:function(){return new Intl.DateTimeFormat(this.locale,{year:"numeric",month:"numeric"}).resolvedOptions()},dtf:function(){return new Intl.DateTimeFormat(this.locale)},dtfMonth:function(){return new Intl.DateTimeFormat(this.locale,{year:this.localeOptions.year||"numeric",month:this.localeOptions.month||"2-digit"})},newMonthNames:function(){return Array.isArray(this.monthNames)?this.monthNames:et(this.locale)},newDayNames:function(){return Array.isArray(this.dayNames)?this.dayNames:nt(this.locale)},listOfMonths:function(){var t=0,e=12;return this.minDate&&this.focusedDateData.year===this.minDate.getFullYear()&&(t=this.minDate.getMonth()),this.maxDate&&this.focusedDateData.year===this.maxDate.getFullYear()&&(e=this.maxDate.getMonth()),this.newMonthNames.map((function(n,r){return{name:n,index:r,disabled:r<t||r>e}}))},listOfYears:function(){var t=this.focusedDateData.year+this.yearsRange[1];this.maxDate&&this.maxDate.getFullYear()<t&&(t=Math.max(this.maxDate.getFullYear(),this.focusedDateData.year));var e=this.focusedDateData.year+this.yearsRange[0];this.minDate&&this.minDate.getFullYear()>e&&(e=Math.min(this.minDate.getFullYear(),this.focusedDateData.year));for(var n=[],r=e;r<=t;r++)n.push(r);return n.reverse()},showPrev:function(){if(!this.minDate)return!1;if(this.isTypeMonth)return this.focusedDateData.year<=this.minDate.getFullYear();var t=new Date(this.focusedDateData.year,this.focusedDateData.month),e=new Date(this.minDate.getFullYear(),this.minDate.getMonth());return t<=e},showNext:function(){if(!this.maxDate)return!1;if(this.isTypeMonth)return this.focusedDateData.year>=this.maxDate.getFullYear();var t=new Date(this.focusedDateData.year,this.focusedDateData.month),e=new Date(this.maxDate.getFullYear(),this.maxDate.getMonth());return t>=e},isMobile:function(){return this.mobileNative&&Y.any()},isTypeMonth:function(){return"month"===this.type},ariaRole:function(){if(!this.inline)return"dialog"}},watch:{value:function(t){this.updateInternalState(t),this.multiple||this.togglePicker(!1)},focusedDate:function(t){t&&(this.focusedDateData={day:t.getDate(),month:t.getMonth(),year:t.getFullYear()})},"focusedDateData.month":function(t){this.$emit("change-month",t)},"focusedDateData.year":function(t){this.$emit("change-year",t)}},methods:{onChange:function(t){var e=this.dateParser(t,this);!e||isNaN(e)&&(!Array.isArray(e)||2!==e.length||isNaN(e[0])||isNaN(e[1]))?(this.computedValue=null,this.$refs.input&&(this.$refs.input.newValue=this.computedValue)):this.computedValue=e},formatValue:function(t){if(Array.isArray(t)){var e=Array.isArray(t)&&t.every((function(t){return!isNaN(t)}));return e?this.dateFormatter(D(t),this):null}return t&&!isNaN(t)?this.dateFormatter(t,this):null},prev:function(){this.disabled||(this.isTypeMonth?this.focusedDateData.year-=1:this.focusedDateData.month>0?this.focusedDateData.month-=1:(this.focusedDateData.month=11,this.focusedDateData.year-=1))},next:function(){this.disabled||(this.isTypeMonth?this.focusedDateData.year+=1:this.focusedDateData.month<11?this.focusedDateData.month+=1:(this.focusedDateData.month=0,this.focusedDateData.year+=1))},formatNative:function(t){return this.isTypeMonth?this.formatYYYYMM(t):this.formatYYYYMMDD(t)},formatYYYYMMDD:function(t){var e=new Date(t);if(t&&!isNaN(e)){var n=e.getFullYear(),r=e.getMonth()+1,i=e.getDate();return n+"-"+(r<10?"0":"")+r+"-"+(i<10?"0":"")+i}return""},formatYYYYMM:function(t){var e=new Date(t);if(t&&!isNaN(e)){var n=e.getFullYear(),r=e.getMonth()+1;return n+"-"+(r<10?"0":"")+r}return""},onChangeNativePicker:function(t){var e=t.target.value,n=e?e.split("-"):[];if(3===n.length){var r=parseInt(n[0],10),i=parseInt(n[1])-1,o=parseInt(n[2]);this.computedValue=new Date(r,i,o)}else this.computedValue=null},updateInternalState:function(t){if(this.dateSelected!==t){var e=Array.isArray(t),n=e?t.length?t[t.length-1]:this.dateCreator():t||this.dateCreator();(!e||e&&this.dateSelected&&t.length>this.dateSelected.length)&&(this.focusedDateData={day:n.getDate(),month:n.getMonth(),year:n.getFullYear()}),this.dateSelected=t}},togglePicker:function(t){if(this.$refs.dropdown){var e="boolean"===typeof t?t:!this.$refs.dropdown.isActive;(e||this.closeOnClick)&&(this.$refs.dropdown.isActive=e)}},handleOnFocus:function(t){this.onFocus(t),this.openOnFocus&&this.togglePicker(!0)},toggle:function(){if(this.mobileNative&&this.isMobile){var t=this.$refs.input.$refs.input;return t.focus(),void t.click()}this.$refs.dropdown.toggle()},onInputClick:function(t){this.$refs.dropdown.isActive&&t.stopPropagation()},keyPress:function(t){var e=t.key;this.$refs.dropdown&&this.$refs.dropdown.isActive&&("Escape"===e||"Esc"===e)&&this.togglePicker(!1)},onActiveChange:function(t){t||this.onBlur(),this.$emit("active-change",t)},changeFocus:function(t){this.focusedDateData={day:t.getDate(),month:t.getMonth(),year:t.getFullYear()}}},created:function(){"undefined"!==typeof window&&document.addEventListener("keyup",this.keyPress)},beforeDestroy:function(){"undefined"!==typeof window&&document.removeEventListener("keyup",this.keyPress)}};const Ea=Ca;var Da=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"datepicker control",class:[t.size,{"is-expanded":t.expanded}]},[!t.isMobile||t.inline?n("b-dropdown",{ref:"dropdown",attrs:{position:t.position,disabled:t.disabled,inline:t.inline,"mobile-modal":t.mobileModal,"trap-focus":t.trapFocus,"aria-role":t.ariaRole,"append-to-body":t.appendToBody,"append-to-body-copy-parent":"","trigger-tabindex":-1},on:{"active-change":t.onActiveChange},scopedSlots:t._u([t.inline?null:{key:"trigger",fn:function(e){return[t._t("trigger",[n("b-input",t._b({ref:"input",attrs:{autocomplete:"off",value:t.formattedValue,placeholder:t.placeholder,size:t.size,icon:t.icon,"icon-right":t.iconRight,"icon-right-clickable":t.iconRightClickable,"icon-pack":t.iconPack,rounded:t.rounded,loading:t.loading,disabled:t.disabled,readonly:!t.editable,"use-html5-validation":!1},on:{"icon-right-click":function(e){return t.$emit("icon-right-click",e)},focus:t.handleOnFocus},nativeOn:{click:function(e){return t.onInputClick(e)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.togglePicker(!0)},change:function(e){return t.onChange(e.target.value)}}},"b-input",t.$attrs,!1))],null,e)]}}],null,!0)},[n("b-dropdown-item",{class:{"dropdown-horizontal-timepicker":t.horizontalTimePicker},attrs:{disabled:t.disabled,focusable:t.focusable,custom:""}},[n("div",[n("header",{staticClass:"datepicker-header"},[void 0!==t.$slots.header&&t.$slots.header.length?[t._t("header")]:n("div",{staticClass:"pagination field is-centered",class:t.size},[n("a",{directives:[{name:"show",rawName:"v-show",value:!t.showPrev&&!t.disabled,expression:"!showPrev && !disabled"}],staticClass:"pagination-previous",attrs:{role:"button",href:"#",disabled:t.disabled,"aria-label":t.ariaPreviousLabel},on:{click:function(e){return e.preventDefault(),t.prev(e)},keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.prev(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?null:(e.preventDefault(),t.prev(e))}]}},[n("b-icon",{attrs:{icon:t.iconPrev,pack:t.iconPack,both:"",type:"is-primary is-clickable"}})],1),n("a",{directives:[{name:"show",rawName:"v-show",value:!t.showNext&&!t.disabled,expression:"!showNext && !disabled"}],staticClass:"pagination-next",attrs:{role:"button",href:"#",disabled:t.disabled,"aria-label":t.ariaNextLabel},on:{click:function(e){return e.preventDefault(),t.next(e)},keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.next(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?null:(e.preventDefault(),t.next(e))}]}},[n("b-icon",{attrs:{icon:t.iconNext,pack:t.iconPack,both:"",type:"is-primary is-clickable"}})],1),n("div",{staticClass:"pagination-list"},[n("b-field",[t.isTypeMonth?t._e():n("b-select",{attrs:{disabled:t.disabled,size:t.size},model:{value:t.focusedDateData.month,callback:function(e){t.$set(t.focusedDateData,"month",e)},expression:"focusedDateData.month"}},t._l(t.listOfMonths,(function(e){return n("option",{key:e.name,attrs:{disabled:e.disabled},domProps:{value:e.index}},[t._v(" "+t._s(e.name)+" ")])})),0),n("b-select",{attrs:{disabled:t.disabled,size:t.size},model:{value:t.focusedDateData.year,callback:function(e){t.$set(t.focusedDateData,"year",e)},expression:"focusedDateData.year"}},t._l(t.listOfYears,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])})),0)],1)],1)])],2),t.isTypeMonth?n("div",[n("b-datepicker-month",{attrs:{"month-names":t.newMonthNames,"min-date":t.minDate,"max-date":t.maxDate,focused:t.focusedDateData,disabled:t.disabled,"unselectable-dates":t.unselectableDates,"unselectable-days-of-week":t.unselectableDaysOfWeek,"selectable-dates":t.selectableDates,events:t.events,indicators:t.indicators,"date-creator":t.dateCreator,range:t.range,multiple:t.multiple},on:{"range-start":function(e){return t.$emit("range-start",e)},"range-end":function(e){return t.$emit("range-end",e)},close:function(e){return t.togglePicker(!1)},"change-focus":t.changeFocus,"update:focused":function(e){t.focusedDateData=e}},model:{value:t.computedValue,callback:function(e){t.computedValue=e},expression:"computedValue"}})],1):n("div",{staticClass:"datepicker-content",class:{"content-horizontal-timepicker":t.horizontalTimePicker}},[n("b-datepicker-table",{attrs:{"day-names":t.newDayNames,"month-names":t.newMonthNames,"first-day-of-week":t.firstDayOfWeek,"rules-for-first-week":t.rulesForFirstWeek,"min-date":t.minDate,"max-date":t.maxDate,focused:t.focusedDateData,disabled:t.disabled,"unselectable-dates":t.unselectableDates,"unselectable-days-of-week":t.unselectableDaysOfWeek,"selectable-dates":t.selectableDates,events:t.events,indicators:t.indicators,"date-creator":t.dateCreator,"type-month":t.isTypeMonth,"nearby-month-days":t.nearbyMonthDays,"nearby-selectable-month-days":t.nearbySelectableMonthDays,"show-week-number":t.showWeekNumber,"week-number-clickable":t.weekNumberClickable,range:t.range,multiple:t.multiple},on:{"range-start":function(e){return t.$emit("range-start",e)},"range-end":function(e){return t.$emit("range-end",e)},close:function(e){return t.togglePicker(!1)},"update:focused":function(e){t.focusedDateData=e}},model:{value:t.computedValue,callback:function(e){t.computedValue=e},expression:"computedValue"}})],1)]),void 0!==t.$slots.default&&t.$slots.default.length?n("footer",{staticClass:"datepicker-footer",class:{"footer-horizontal-timepicker":t.horizontalTimePicker}},[t._t("default")],2):t._e()])],1):n("b-input",t._b({ref:"input",attrs:{type:t.isTypeMonth?"month":"date",autocomplete:"off",value:t.formatNative(t.computedValue),placeholder:t.placeholder,size:t.size,icon:t.icon,"icon-pack":t.iconPack,rounded:t.rounded,loading:t.loading,max:t.formatNative(t.maxDate),min:t.formatNative(t.minDate),disabled:t.disabled,readonly:!1,"use-html5-validation":!1},on:{focus:t.onFocus,blur:t.onBlur},nativeOn:{change:function(e){return t.onChangeNativePicker(e)}}},"b-input",t.$attrs,!1))],1)},Ma=[];const Ta=void 0,Fa=void 0,Oa=void 0,$a=!1,Na=pt({render:Da,staticRenderFns:Ma},Ta,Ea,Fa,$a,Oa,!1,void 0,void 0,void 0);var Ba=Na,Ra={install:function(t){mt(t,Ba)}};gt(Ra);var Pa={name:"BTimepicker",components:h(h(h(h(h(h({},zt.name,zt),ei.name,ei),Bi.name,Bi),Ft.name,Ft),Er.name,Er),Pr.name,Pr),mixins:[fr],inheritAttrs:!1,data:function(){return{_isTimepicker:!0}},computed:{nativeStep:function(){if(this.enableSeconds)return"1"}}};const Ia=Pa;var ja=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"timepicker control",class:[t.size,{"is-expanded":t.expanded}]},[!t.isMobile||t.inline?n("b-dropdown",{ref:"dropdown",attrs:{position:t.position,disabled:t.disabled,inline:t.inline,"mobile-modal":t.mobileModal,"append-to-body":t.appendToBody,"append-to-body-copy-parent":""},on:{"active-change":t.onActiveChange},scopedSlots:t._u([t.inline?null:{key:"trigger",fn:function(){return[t._t("trigger",[n("b-input",t._b({ref:"input",attrs:{autocomplete:"off",value:t.formatValue(t.computedValue),placeholder:t.placeholder,size:t.size,icon:t.icon,"icon-pack":t.iconPack,loading:t.loading,disabled:t.disabled,readonly:!t.editable,rounded:t.rounded,"use-html5-validation":t.useHtml5Validation},on:{focus:t.handleOnFocus},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.toggle(!0)},change:function(e){return t.onChange(e.target.value)}}},"b-input",t.$attrs,!1))])]},proxy:!0}],null,!0)},[n("b-dropdown-item",{attrs:{disabled:t.disabled,focusable:t.focusable,custom:""}},[n("b-field",{attrs:{grouped:"",position:"is-centered"}},[n("b-select",{attrs:{disabled:t.disabled,placeholder:"00"},nativeOn:{change:function(e){return t.onHoursChange(e.target.value)}},model:{value:t.hoursSelected,callback:function(e){t.hoursSelected=e},expression:"hoursSelected"}},t._l(t.hours,(function(e){return n("option",{key:e.value,attrs:{disabled:t.isHourDisabled(e.value)},domProps:{value:e.value}},[t._v(" "+t._s(e.label)+" ")])})),0),n("span",{staticClass:"control is-colon"},[t._v(t._s(t.hourLiteral))]),n("b-select",{attrs:{disabled:t.disabled,placeholder:"00"},nativeOn:{change:function(e){return t.onMinutesChange(e.target.value)}},model:{value:t.minutesSelected,callback:function(e){t.minutesSelected=e},expression:"minutesSelected"}},t._l(t.minutes,(function(e){return n("option",{key:e.value,attrs:{disabled:t.isMinuteDisabled(e.value)},domProps:{value:e.value}},[t._v(" "+t._s(e.label)+" ")])})),0),t.enableSeconds?[n("span",{staticClass:"control is-colon"},[t._v(t._s(t.minuteLiteral))]),n("b-select",{attrs:{disabled:t.disabled,placeholder:"00"},nativeOn:{change:function(e){return t.onSecondsChange(e.target.value)}},model:{value:t.secondsSelected,callback:function(e){t.secondsSelected=e},expression:"secondsSelected"}},t._l(t.seconds,(function(e){return n("option",{key:e.value,attrs:{disabled:t.isSecondDisabled(e.value)},domProps:{value:e.value}},[t._v(" "+t._s(e.label)+" ")])})),0),n("span",{staticClass:"control is-colon"},[t._v(t._s(t.secondLiteral))])]:t._e(),t.isHourFormat24?t._e():n("b-select",{attrs:{disabled:t.disabled},nativeOn:{change:function(e){return t.onMeridienChange(e.target.value)}},model:{value:t.meridienSelected,callback:function(e){t.meridienSelected=e},expression:"meridienSelected"}},t._l(t.meridiens,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])})),0)],2),void 0!==t.$slots.default&&t.$slots.default.length?n("footer",{staticClass:"timepicker-footer"},[t._t("default")],2):t._e()],1)],1):n("b-input",t._b({ref:"input",attrs:{type:"time",step:t.nativeStep,autocomplete:"off",value:t.formatHHMMSS(t.computedValue),placeholder:t.placeholder,size:t.size,icon:t.icon,"icon-pack":t.iconPack,rounded:t.rounded,loading:t.loading,max:t.formatHHMMSS(t.maxTime),min:t.formatHHMMSS(t.minTime),disabled:t.disabled,readonly:!1,"use-html5-validation":t.useHtml5Validation},on:{focus:t.handleOnFocus,blur:function(e){t.onBlur()&&t.checkHtml5Validity()}},nativeOn:{change:function(e){return t.onChange(e.target.value)}}},"b-input",t.$attrs,!1))],1)},La=[];const za=void 0,Ua=void 0,qa=void 0,Va=!1,Ha=pt({render:ja,staticRenderFns:La},za,Ia,Ua,Va,qa,!1,void 0,void 0,void 0);var Wa=Ha,Ya="AM",Ga="PM",Ka={name:"BDatetimepicker",components:h(h({},Ba.name,Ba),Wa.name,Wa),mixins:[dt],inheritAttrs:!1,props:{value:{type:Date},editable:{type:Boolean,default:!1},placeholder:String,horizontalTimePicker:Boolean,disabled:Boolean,firstDayOfWeek:{type:Number,default:function(){return"number"===typeof lt.defaultFirstDayOfWeek?lt.defaultFirstDayOfWeek:0}},rulesForFirstWeek:{type:Number,default:function(){return 4}},icon:String,iconRight:String,iconRightClickable:Boolean,iconPack:String,inline:Boolean,openOnFocus:Boolean,position:String,mobileNative:{type:Boolean,default:!0},minDatetime:Date,maxDatetime:Date,nearbyMonthDays:{type:Boolean,default:lt.defaultDatepickerNearbyMonthDays},datetimeFormatter:{type:Function},datetimeParser:{type:Function},datetimeCreator:{type:Function,default:function(t){return"function"===typeof lt.defaultDatetimeCreator?lt.defaultDatetimeCreator(t):t}},datepicker:Object,timepicker:Object,tzOffset:{type:Number,default:0},focusable:{type:Boolean,default:!0},appendToBody:Boolean},data:function(){return{newValue:this.adjustValue(this.value)}},computed:{computedValue:{get:function(){return this.newValue},set:function(t){if(t){var e=new Date(t.getTime());this.newValue?t.getDate()===this.newValue.getDate()&&t.getMonth()===this.newValue.getMonth()&&t.getFullYear()===this.newValue.getFullYear()||0!==t.getHours()||0!==t.getMinutes()||0!==t.getSeconds()||e.setHours(this.newValue.getHours(),this.newValue.getMinutes(),this.newValue.getSeconds(),0):e=this.datetimeCreator(t),this.minDatetime&&e<this.adjustValue(this.minDatetime)?e=this.adjustValue(this.minDatetime):this.maxDatetime&&e>this.adjustValue(this.maxDatetime)&&(e=this.adjustValue(this.maxDatetime)),this.newValue=new Date(e.getTime())}else this.newValue=this.adjustValue(t);var n=this.adjustValue(this.newValue,!0);this.$emit("input",n)}},localeOptions:function(){return new Intl.DateTimeFormat(this.locale,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:this.enableSeconds()?"numeric":void 0}).resolvedOptions()},dtf:function(){return new Intl.DateTimeFormat(this.locale,{year:this.localeOptions.year||"numeric",month:this.localeOptions.month||"numeric",day:this.localeOptions.day||"numeric",hour:this.localeOptions.hour||"numeric",minute:this.localeOptions.minute||"numeric",second:this.enableSeconds()?this.localeOptions.second||"numeric":void 0,hourCycle:this.isHourFormat24()?"h23":"h12"})},isMobileNative:function(){return this.mobileNative&&0===this.tzOffset},isMobile:function(){return this.isMobileNative&&Y.any()},minDate:function(){if(!this.minDatetime)return this.datepicker?this.adjustValue(this.datepicker.minDate):null;var t=this.adjustValue(this.minDatetime);return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)},maxDate:function(){if(!this.maxDatetime)return this.datepicker?this.adjustValue(this.datepicker.maxDate):null;var t=this.adjustValue(this.maxDatetime);return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)},minTime:function(){if(!this.minDatetime||null===this.newValue||"undefined"===typeof this.newValue)return this.timepicker?this.adjustValue(this.timepicker.minTime):null;var t=this.adjustValue(this.minDatetime);return t.getFullYear()===this.newValue.getFullYear()&&t.getMonth()===this.newValue.getMonth()&&t.getDate()===this.newValue.getDate()?t:void 0},maxTime:function(){if(!this.maxDatetime||null===this.newValue||"undefined"===typeof this.newValue)return this.timepicker?this.adjustValue(this.timepicker.maxTime):null;var t=this.adjustValue(this.maxDatetime);return t.getFullYear()===this.newValue.getFullYear()&&t.getMonth()===this.newValue.getMonth()&&t.getDate()===this.newValue.getDate()?t:void 0},datepickerSize:function(){return this.datepicker&&this.datepicker.size?this.datepicker.size:this.size},timepickerSize:function(){return this.timepicker&&this.timepicker.size?this.timepicker.size:this.size},timepickerDisabled:function(){return this.timepicker&&this.timepicker.disabled?this.timepicker.disabled:this.disabled}},watch:{value:function(){this.newValue=this.adjustValue(this.value)},tzOffset:function(){this.newValue=this.adjustValue(this.value)}},methods:{enableSeconds:function(){return!!this.$refs.timepicker&&this.$refs.timepicker.enableSeconds},isHourFormat24:function(){return this.$refs.timepicker?this.$refs.timepicker.isHourFormat24:!this.localeOptions.hour12},adjustValue:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e?new Date(t.getTime()-6e4*this.tzOffset):new Date(t.getTime()+6e4*this.tzOffset):t},defaultDatetimeParser:function(t){if("function"===typeof this.datetimeParser)return this.datetimeParser(t);if("function"===typeof lt.defaultDatetimeParser)return lt.defaultDatetimeParser(t);if(this.dtf.formatToParts&&"function"===typeof this.dtf.formatToParts){var e=[Ya,Ga,Ya.toLowerCase(),Ga.toLowerCase()];this.$refs.timepicker&&(e.push(this.$refs.timepicker.amString),e.push(this.$refs.timepicker.pmString));var n=this.dtf.formatToParts(new Date),r=n.map((function(t,r){return"literal"===t.type?r+1<n.length&&"hour"===n[r+1].type?"[^\\d]+":t.value.replace(/ /g,"\\s?"):"dayPeriod"===t.type?"((?!=<".concat(t.type,">)(").concat(e.join("|"),")?)"):"((?!=<".concat(t.type,">)\\d+)")})).join(""),i=rt(r,t);if(i.year&&4===i.year.length&&i.month&&i.month<=12&&i.day&&i.day<=31&&i.hour&&i.hour>=0&&i.hour<24&&i.minute&&i.minute>=0&&i.minute<=59){var o=new Date(i.year,i.month-1,i.day,i.hour,i.minute,i.second||0);return o}}return new Date(Date.parse(t))},defaultDatetimeFormatter:function(t){return"function"===typeof this.datetimeFormatter?this.datetimeFormatter(t):"function"===typeof lt.defaultDatetimeFormatter?lt.defaultDatetimeFormatter(t):this.dtf.format(t)},onChangeNativePicker:function(t){var e=t.target.value,n=e?e.split(/\D/):[];if(n.length>=5){var r=parseInt(n[0],10),i=parseInt(n[1],10)-1,o=parseInt(n[2],10),a=parseInt(n[3],10),s=parseInt(n[4],10);this.computedValue=new Date(r,i,o,a,s)}else this.computedValue=null},onActiveChange:function(t){this.$emit("active-change",t)},formatNative:function(t){var e=new Date(t);if(t&&!isNaN(e)){var n=e.getFullYear(),r=e.getMonth()+1,i=e.getDate(),o=e.getHours(),a=e.getMinutes(),s=e.getSeconds();return n+"-"+(r<10?"0":"")+r+"-"+(i<10?"0":"")+i+"T"+(o<10?"0":"")+o+":"+(a<10?"0":"")+a+":"+(s<10?"0":"")+s}return""},toggle:function(){this.$refs.datepicker.toggle()}},mounted:function(){this.isMobile&&!this.inline||this.newValue&&this.$refs.datepicker.$forceUpdate()}};const Xa=Ka;var Ja=function(){var t=this,e=t.$createElement,n=t._self._c||e;return!t.isMobile||t.inline?n("b-datepicker",t._b({ref:"datepicker",attrs:{rounded:t.rounded,"open-on-focus":t.openOnFocus,position:t.position,loading:t.loading,inline:t.inline,editable:t.editable,expanded:t.expanded,"close-on-click":!1,"first-day-of-week":t.firstDayOfWeek,"rules-for-first-week":t.rulesForFirstWeek,"date-formatter":t.defaultDatetimeFormatter,"date-parser":t.defaultDatetimeParser,"min-date":t.minDate,"max-date":t.maxDate,"nearby-month-days":t.nearbyMonthDays,icon:t.icon,"icon-right":t.iconRight,"icon-right-clickable":t.iconRightClickable,"icon-pack":t.iconPack,size:t.datepickerSize,placeholder:t.placeholder,"horizontal-time-picker":t.horizontalTimePicker,range:!1,disabled:t.disabled,"mobile-native":t.isMobileNative,locale:t.locale,focusable:t.focusable,"append-to-body":t.appendToBody},on:{focus:t.onFocus,blur:t.onBlur,"active-change":t.onActiveChange,"icon-right-click":function(e){return t.$emit("icon-right-click")},"change-month":function(e){return t.$emit("change-month",e)},"change-year":function(e){return t.$emit("change-year",e)}},model:{value:t.computedValue,callback:function(e){t.computedValue=e},expression:"computedValue"}},"b-datepicker",t.datepicker,!1),[n("nav",{staticClass:"level is-mobile"},[void 0!==t.$slots.left?n("div",{staticClass:"level-item has-text-centered"},[t._t("left")],2):t._e(),n("div",{staticClass:"level-item has-text-centered"},[n("b-timepicker",t._b({ref:"timepicker",attrs:{inline:"",editable:t.editable,"min-time":t.minTime,"max-time":t.maxTime,size:t.timepickerSize,disabled:t.timepickerDisabled,focusable:t.focusable,"mobile-native":t.isMobileNative,locale:t.locale},model:{value:t.computedValue,callback:function(e){t.computedValue=e},expression:"computedValue"}},"b-timepicker",t.timepicker,!1))],1),void 0!==t.$slots.right?n("div",{staticClass:"level-item has-text-centered"},[t._t("right")],2):t._e()])]):n("b-input",t._b({ref:"input",attrs:{type:"datetime-local",autocomplete:"off",value:t.formatNative(t.computedValue),placeholder:t.placeholder,size:t.size,icon:t.icon,"icon-pack":t.iconPack,rounded:t.rounded,loading:t.loading,max:t.formatNative(t.maxDate),min:t.formatNative(t.minDate),disabled:t.disabled,readonly:!1,"use-html5-validation":t.useHtml5Validation},on:{focus:t.onFocus,blur:t.onBlur},nativeOn:{change:function(e){return t.onChangeNativePicker(e)}}},"b-input",t.$attrs,!1))},Za=[];const Qa=void 0,ts=void 0,es=void 0,ns=!1,rs=pt({render:Ja,staticRenderFns:Za},Qa,Xa,ts,ns,es,!1,void 0,void 0,void 0);var is=rs,os={install:function(t){mt(t,is)}};gt(os);var as={name:"BModal",directives:{trapFocus:mr},model:{prop:"active",event:"update:active"},props:{active:Boolean,component:[Object,Function,String],content:[String,Array],programmatic:Boolean,props:Object,events:Object,width:{type:[String,Number],default:960},hasModalCard:Boolean,animation:{type:String,default:"zoom-out"},canCancel:{type:[Array,Boolean],default:function(){return lt.defaultModalCanCancel}},onCancel:{type:Function,default:function(){}},scroll:{type:String,default:function(){return lt.defaultModalScroll?lt.defaultModalScroll:"clip"},validator:function(t){return["clip","keep"].indexOf(t)>=0}},fullScreen:Boolean,trapFocus:{type:Boolean,default:function(){return lt.defaultTrapFocus}},autoFocus:{type:Boolean,default:function(){return lt.defaultAutoFocus}},customClass:String,customContentClass:[String,Array,Object],ariaRole:{type:String,validator:function(t){return["dialog","alertdialog"].indexOf(t)>=0}},ariaModal:Boolean,ariaLabel:{type:String,validator:function(t){return Boolean(t)}},closeButtonAriaLabel:String,destroyOnHide:{type:Boolean,default:!0},renderOnMounted:{type:Boolean,default:!1}},data:function(){return{isActive:this.active||!1,savedScrollTop:null,newWidth:"number"===typeof this.width?this.width+"px":this.width,animating:!this.active,destroyed:!(this.active||this.renderOnMounted)}},computed:{cancelOptions:function(){return"boolean"===typeof this.canCancel?this.canCancel?lt.defaultModalCanCancel:[]:this.canCancel},showX:function(){return this.cancelOptions.indexOf("x")>=0},customStyle:function(){return this.fullScreen?null:{maxWidth:this.newWidth}}},watch:{active:function(t){this.isActive=t},isActive:function(t){var e=this;t&&(this.destroyed=!1),this.handleScroll(),this.$nextTick((function(){t&&e.$el&&e.$el.focus&&e.autoFocus&&e.$el.focus()}))}},methods:{handleScroll:function(){"undefined"!==typeof window&&("clip"!==this.scroll?(this.savedScrollTop=this.savedScrollTop?this.savedScrollTop:document.documentElement.scrollTop,this.isActive?document.body.classList.add("is-noscroll"):document.body.classList.remove("is-noscroll"),this.isActive?document.body.style.top="-".concat(this.savedScrollTop,"px"):(document.documentElement.scrollTop=this.savedScrollTop,document.body.style.top=null,this.savedScrollTop=null)):this.isActive?document.documentElement.classList.add("is-clipped"):document.documentElement.classList.remove("is-clipped"))},cancel:function(t){this.cancelOptions.indexOf(t)<0||(this.$emit("cancel",arguments),this.onCancel.apply(null,arguments),this.close())},close:function(){var t=this;this.$emit("close"),this.$emit("update:active",!1),this.programmatic&&(this.isActive=!1,setTimeout((function(){t.$destroy(),G(t.$el)}),150))},keyPress:function(t){var e=t.key;!this.isActive||"Escape"!==e&&"Esc"!==e||this.cancel("escape")},afterEnter:function(){this.animating=!1,this.$emit("after-enter")},beforeLeave:function(){this.animating=!0},afterLeave:function(){this.destroyOnHide&&(this.destroyed=!0),this.$emit("after-leave")}},created:function(){"undefined"!==typeof window&&document.addEventListener("keyup",this.keyPress)},beforeMount:function(){this.programmatic&&document.body.appendChild(this.$el)},mounted:function(){this.programmatic?this.isActive=!0:this.isActive&&this.handleScroll()},beforeDestroy:function(){if("undefined"!==typeof window){document.removeEventListener("keyup",this.keyPress),document.documentElement.classList.remove("is-clipped");var t=this.savedScrollTop?this.savedScrollTop:document.documentElement.scrollTop;document.body.classList.remove("is-noscroll"),document.documentElement.scrollTop=t,document.body.style.top=null}}};const ss=as;var us=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:t.animation},on:{"after-enter":t.afterEnter,"before-leave":t.beforeLeave,"after-leave":t.afterLeave}},[t.destroyed?t._e():n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"},{name:"trap-focus",rawName:"v-trap-focus",value:t.trapFocus,expression:"trapFocus"}],staticClass:"modal is-active",class:[{"is-full-screen":t.fullScreen},t.customClass],attrs:{tabindex:"-1",role:t.ariaRole,"aria-label":t.ariaLabel,"aria-modal":t.ariaModal}},[n("div",{staticClass:"modal-background",on:{click:function(e){return t.cancel("outside")}}}),n("div",{staticClass:"animation-content",class:[{"modal-content":!t.hasModalCard},t.customContentClass],style:t.customStyle},[t.component?n(t.component,t._g(t._b({tag:"component",attrs:{"can-cancel":t.canCancel},on:{close:t.close}},"component",t.props,!1),t.events)):t.content?[n("div",{domProps:{innerHTML:t._s(t.content)}})]:t._t("default",null,{canCancel:t.canCancel,close:t.close}),t.showX?n("button",{directives:[{name:"show",rawName:"v-show",value:!t.animating,expression:"!animating"}],staticClass:"modal-close is-large",attrs:{type:"button","aria-label":t.closeButtonAriaLabel},on:{click:function(e){return t.cancel("x")}}}):t._e()],2)])])},cs=[];const ls=void 0,fs=void 0,hs=void 0,ds=!1,ps=pt({render:us,staticRenderFns:cs},ls,ss,fs,ds,hs,!1,void 0,void 0,void 0);var gs=ps,ms={name:"BDialog",components:h(h({},Ft.name,Ft),Me.name,Me),directives:{trapFocus:mr},extends:gs,props:{title:String,message:[String,Array],icon:String,iconPack:String,hasIcon:Boolean,type:{type:String,default:"is-primary"},size:String,confirmText:{type:String,default:function(){return lt.defaultDialogConfirmText?lt.defaultDialogConfirmText:"OK"}},cancelText:{type:String,default:function(){return lt.defaultDialogCancelText?lt.defaultDialogCancelText:"Cancel"}},hasInput:Boolean,inputAttrs:{type:Object,default:function(){return{}}},onConfirm:{type:Function,default:function(){}},closeOnConfirm:{type:Boolean,default:!0},container:{type:String,default:function(){return lt.defaultContainerElement}},focusOn:{type:String,default:"confirm"},trapFocus:{type:Boolean,default:function(){return lt.defaultTrapFocus}},ariaRole:{type:String,validator:function(t){return["dialog","alertdialog"].indexOf(t)>=0}},ariaModal:Boolean},data:function(){var t=this.hasInput&&this.inputAttrs.value||"";return{prompt:t,isActive:!1,validationMessage:"",isCompositing:!1,isLoading:!1}},computed:{dialogClass:function(){return[this.size,{"has-custom-container":null!==this.container}]},iconByType:function(){switch(this.type){case"is-info":return"information";case"is-success":return"check-circle";case"is-warning":return"alert";case"is-danger":return"alert-circle";default:return null}},showCancel:function(){return this.cancelOptions.indexOf("button")>=0}},methods:{confirm:function(){var t=this;if(void 0!==this.$refs.input){if(this.isCompositing)return;if(!this.$refs.input.checkValidity())return this.validationMessage=this.$refs.input.validationMessage,void this.$nextTick((function(){return t.$refs.input.select()}))}this.$emit("confirm",this.prompt),this.onConfirm(this.prompt,this),this.closeOnConfirm&&this.close()},close:function(){var t=this;this.isActive=!1,this.isLoading=!1,setTimeout((function(){t.$destroy(),G(t.$el)}),150)},startLoading:function(){this.isLoading=!0},cancelLoading:function(){this.isLoading=!1}},beforeMount:function(){var t=this;"undefined"!==typeof window&&this.$nextTick((function(){var e=document.querySelector(t.container)||document.body;e.appendChild(t.$el)}))},mounted:function(){var t=this;this.isActive=!0,"undefined"===typeof this.inputAttrs.required&&this.$set(this.inputAttrs,"required",!0),this.$nextTick((function(){t.hasInput?t.$refs.input.focus():"cancel"===t.focusOn&&t.showCancel?t.$refs.cancelButton.$el.focus():t.$refs.confirmButton.$el.focus()}))}};const vs=ms;var ys=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:t.animation}},[t.isActive?n("div",{directives:[{name:"trap-focus",rawName:"v-trap-focus",value:t.trapFocus,expression:"trapFocus"}],staticClass:"dialog modal is-active",class:t.dialogClass,attrs:{role:t.ariaRole,"aria-modal":t.ariaModal}},[n("div",{staticClass:"modal-background",on:{click:function(e){return t.cancel("outside")}}}),n("div",{staticClass:"modal-card animation-content"},[t.title?n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title"},[t._v(t._s(t.title))])]):t._e(),n("section",{staticClass:"modal-card-body",class:{"is-titleless":!t.title,"is-flex":t.hasIcon}},[n("div",{staticClass:"media"},[t.hasIcon&&(t.icon||t.iconByType)?n("div",{staticClass:"media-left"},[n("b-icon",{attrs:{icon:t.icon?t.icon:t.iconByType,pack:t.iconPack,type:t.type,both:!t.icon,size:"is-large"}})],1):t._e(),n("div",{staticClass:"media-content"},[n("p",[t.$slots.default?[t._t("default")]:[n("div",{domProps:{innerHTML:t._s(t.message)}})]],2),t.hasInput?n("div",{staticClass:"field"},[n("div",{staticClass:"control"},["checkbox"===t.inputAttrs.type?n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.prompt,expression:"prompt"}],ref:"input",staticClass:"input",class:{"is-danger":t.validationMessage},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.prompt)?t._i(t.prompt,null)>-1:t.prompt},on:{compositionstart:function(e){t.isCompositing=!0},compositionend:function(e){t.isCompositing=!1},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.confirm(e)},change:function(e){var n=t.prompt,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=null,a=t._i(n,o);r.checked?a<0&&(t.prompt=n.concat([o])):a>-1&&(t.prompt=n.slice(0,a).concat(n.slice(a+1)))}else t.prompt=i}}},"input",t.inputAttrs,!1)):"radio"===t.inputAttrs.type?n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.prompt,expression:"prompt"}],ref:"input",staticClass:"input",class:{"is-danger":t.validationMessage},attrs:{type:"radio"},domProps:{checked:t._q(t.prompt,null)},on:{compositionstart:function(e){t.isCompositing=!0},compositionend:function(e){t.isCompositing=!1},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.confirm(e)},change:function(e){t.prompt=null}}},"input",t.inputAttrs,!1)):n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.prompt,expression:"prompt"}],ref:"input",staticClass:"input",class:{"is-danger":t.validationMessage},attrs:{type:t.inputAttrs.type},domProps:{value:t.prompt},on:{compositionstart:function(e){t.isCompositing=!0},compositionend:function(e){t.isCompositing=!1},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.confirm(e)},input:function(e){e.target.composing||(t.prompt=e.target.value)}}},"input",t.inputAttrs,!1))]),n("p",{staticClass:"help is-danger"},[t._v(t._s(t.validationMessage))])]):t._e()])])]),n("footer",{staticClass:"modal-card-foot"},[t.showCancel?n("b-button",{ref:"cancelButton",attrs:{disabled:t.isLoading},on:{click:function(e){return t.cancel("button")}}},[t._v(t._s(t.cancelText))]):t._e(),n("b-button",{ref:"confirmButton",attrs:{type:t.type,loading:t.isLoading},on:{click:t.confirm}},[t._v(t._s(t.confirmText))])],1)])]):t._e()])},bs=[];const ws=void 0,xs=void 0,_s=void 0,ks=!1,As=pt({render:ys,staticRenderFns:bs},ws,vs,xs,ks,_s,!1,void 0,void 0,void 0);var Ss,Cs=As;function Es(t){var e;Array.isArray(t.message)&&(e=t.message,delete t.message);var n="undefined"!==typeof window&&window.Vue?window.Vue:Ss||at,r=n.extend(Cs),i=new r({el:document.createElement("div"),propsData:t});return e&&(i.$slots.default=e,i.$forceUpdate()),lt.defaultProgrammaticPromise?new Promise((function(t){i.$on("confirm",(function(e){return t({result:e||!0,dialog:i})})),i.$on("cancel",(function(){return t({result:!1,dialog:i})}))})):i}var Ds={alert:function(t){"string"===typeof t&&(t={message:t});var e={canCancel:!1},n=W(e,t);return Es(n)},confirm:function(t){var e={},n=W(e,t);return Es(n)},prompt:function(t){var e={hasInput:!0},n=W(e,t);return Es(n)}},Ms={install:function(t){Ss=t,mt(t,Cs),vt(t,"dialog",Ds)}};gt(Ms);var Ts={install:function(t){mt(t,Er),mt(t,Pr)}};gt(Ts);var Fs={install:function(t){mt(t,ei)}};gt(Fs);var Os={install:function(t){mt(t,Ft)}};gt(Os);var $s={install:function(t){mt(t,Ge)}};gt($s);var Ns={install:function(t){mt(t,zt)}};gt(Ns);var Bs="undefined"===typeof window,Rs=Bs?Object:window.HTMLElement,Ps=Bs?Object:window.File,Is={name:"BLoading",model:{prop:"active",event:"update:active"},props:{active:Boolean,programmatic:Boolean,container:[Object,Function,Rs],isFullPage:{type:Boolean,default:!0},animation:{type:String,default:"fade"},canCancel:{type:Boolean,default:!1},onCancel:{type:Function,default:function(){}}},data:function(){return{isActive:this.active||!1,displayInFullPage:this.isFullPage}},watch:{active:function(t){this.isActive=t},isFullPage:function(t){this.displayInFullPage=t}},methods:{cancel:function(){this.canCancel&&this.isActive&&this.close()},close:function(){var t=this;this.onCancel.apply(null,arguments),this.$emit("close"),this.$emit("update:active",!1),this.programmatic&&(this.isActive=!1,setTimeout((function(){t.$destroy(),G(t.$el)}),150))},keyPress:function(t){var e=t.key;"Escape"!==e&&"Esc"!==e||this.cancel()}},created:function(){"undefined"!==typeof window&&document.addEventListener("keyup",this.keyPress)},beforeMount:function(){this.programmatic&&(this.container?(this.displayInFullPage=!1,this.$emit("update:is-full-page",!1),this.container.appendChild(this.$el)):document.body.appendChild(this.$el))},mounted:function(){this.programmatic&&(this.isActive=!0)},beforeDestroy:function(){"undefined"!==typeof window&&document.removeEventListener("keyup",this.keyPress)}};const js=Is;var Ls=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:t.animation}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"loading-overlay is-active",class:{"is-full-page":t.displayInFullPage}},[n("div",{staticClass:"loading-background",on:{click:t.cancel}}),t._t("default",[n("div",{staticClass:"loading-icon"})])],2)])},zs=[];const Us=void 0,qs=void 0,Vs=void 0,Hs=!1,Ws=pt({render:Ls,staticRenderFns:zs},Us,js,qs,Hs,Vs,!1,void 0,void 0,void 0);var Ys,Gs=Ws,Ks={open:function(t){var e={programmatic:!0},n=W(e,t),r="undefined"!==typeof window&&window.Vue?window.Vue:Ys||at,i=r.extend(Gs);return new i({el:document.createElement("div"),propsData:n})}},Xs={install:function(t){Ys=t,mt(t,Gs),vt(t,"loading",Ks)}};gt(Xs);var Js={name:"BMenu",props:{accordion:{type:Boolean,default:!0},activable:{type:Boolean,default:!0}},data:function(){return{_isMenu:!0}}};const Zs=Js;var Qs=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"menu"},[t._t("default")],2)},tu=[];const eu=void 0,nu=void 0,ru=void 0,iu=!1,ou=pt({render:Qs,staticRenderFns:tu},eu,Zs,nu,iu,ru,!1,void 0,void 0,void 0);var au=ou,su={name:"BMenuList",functional:!0,props:{label:String,icon:String,iconPack:String,ariaRole:{type:String,default:""},size:{type:String,default:"is-small"}},render:function(t,e){var n=null,r=e.slots();(e.props.label||r.label)&&(n=t("p",{attrs:{class:"menu-label"}},e.props.label?e.props.icon?[t("b-icon",{props:{icon:e.props.icon,pack:e.props.iconPack,size:e.props.size}}),t("span",{},e.props.label)]:e.props.label:r.label));var i=t("ul",{attrs:{class:"menu-list",role:"menu"===e.props.ariaRole?e.props.ariaRole:null}},r.default);return n?[n,i]:i}};const uu=su,cu=void 0,lu=void 0,fu=void 0,hu=void 0,du=pt({},cu,uu,lu,hu,fu,!1,void 0,void 0,void 0);var pu=du,gu={name:"BMenuItem",components:h({},Ft.name,Ft),inheritAttrs:!1,model:{prop:"active",event:"update:active"},props:{label:String,active:Boolean,expanded:Boolean,disabled:Boolean,iconPack:String,icon:String,animation:{type:String,default:"slide"},tag:{type:String,default:"a",validator:function(t){return lt.defaultLinkTags.indexOf(t)>=0}},ariaRole:{type:String,default:""},size:{type:String,default:"is-small"}},data:function(){return{newActive:this.active,newExpanded:this.expanded}},computed:{ariaRoleMenu:function(){return"menuitem"===this.ariaRole?this.ariaRole:null}},watch:{active:function(t){this.newActive=t},expanded:function(t){this.newExpanded=t}},methods:{onClick:function(t){if(!this.disabled){var e=this.getMenu();this.reset(this.$parent,e),this.newExpanded=this.$props.expanded||!this.newExpanded,this.$emit("update:expanded",this.newExpanded),e&&e.activable&&(this.newActive=!0,this.$emit("update:active",this.newActive))}},reset:function(t,e){var n=this,r=t.$children.filter((function(t){return t.name===n.name}));r.forEach((function(r){r!==n&&(n.reset(r,e),(!t.$data._isMenu||t.$data._isMenu&&t.accordion)&&(r.newExpanded=!1,r.$emit("update:expanded",r.newActive)),e&&e.activable&&(r.newActive=!1,r.$emit("update:active",r.newActive)))}))},getMenu:function(){var t=this.$parent;while(t&&!t.$data._isMenu)t=t.$parent;return t}}};const mu=gu;var vu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{attrs:{role:t.ariaRoleMenu}},[n(t.tag,t._g(t._b({tag:"component",class:{"is-active":t.newActive,"is-expanded":t.newExpanded,"is-disabled":t.disabled,"icon-text":t.icon},on:{click:function(e){return t.onClick(e)}}},"component",t.$attrs,!1),t.$listeners),[t.icon?n("b-icon",{attrs:{icon:t.icon,pack:t.iconPack,size:t.size}}):t._e(),t.label?n("span",[t._v(" "+t._s(t.label)+" ")]):t._t("label",null,{expanded:t.newExpanded,active:t.newActive})],2),t.$slots.default?[n("transition",{attrs:{name:t.animation}},[n("ul",{directives:[{name:"show",rawName:"v-show",value:t.newExpanded,expression:"newExpanded"}]},[t._t("default")],2)])]:t._e()],2)},yu=[];const bu=void 0,wu=void 0,xu=void 0,_u=!1,ku=pt({render:vu,staticRenderFns:yu},bu,mu,wu,_u,xu,!1,void 0,void 0,void 0);var Au=ku,Su={install:function(t){mt(t,au),mt(t,pu),mt(t,Au)}};gt(Su);var Cu={components:h({},Ft.name,Ft),model:{prop:"active",event:"update:active"},props:{active:{type:Boolean,default:!0},title:String,closable:{type:Boolean,default:!0},message:String,type:String,hasIcon:Boolean,size:String,icon:String,iconPack:String,iconSize:String,autoClose:{type:Boolean,default:!1},duration:{type:Number,default:2e3},progressBar:{type:Boolean,default:!1}},data:function(){return{isActive:this.active,remainingTime:this.duration/1e3,newIconSize:this.iconSize||this.size||"is-large"}},watch:{active:function(t){this.isActive=t},isActive:function(t){t?(this.setAutoClose(),this.setDurationProgress()):this.timer&&clearTimeout(this.timer)}},computed:{computedIcon:function(){if(this.icon)return this.icon;switch(this.type){case"is-info":return"information";case"is-success":return"check-circle";case"is-warning":return"alert";case"is-danger":return"alert-circle";default:return null}}},methods:{close:function(){this.isActive=!1,this.resetDurationProgress(),this.$emit("close"),this.$emit("update:active",!1)},click:function(){this.$emit("click")},setAutoClose:function(){var t=this;this.autoClose&&(this.timer=setTimeout((function(){t.isActive&&t.close()}),this.duration))},setDurationProgress:function(){var t=this;this.progressBar&&(this.$buefy.globalNoticeInterval=setInterval((function(){0!==t.remainingTime?t.remainingTime-=1:t.resetDurationProgress()}),1e3))},resetDurationProgress:function(){var t=this;setTimeout((function(){t.remainingTime=t.duration/1e3,clearInterval(t.$buefy.globalNoticeInterval)}),100)}},mounted:function(){this.setAutoClose()}},Eu={name:"BMessage",mixins:[Cu],props:{ariaCloseLabel:String}};const Du=Eu;var Mu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[n("article",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"message",class:[t.type,t.size]},[t.$slots.header||t.title?n("header",{staticClass:"message-header"},[t.$slots.header?n("div",[t._t("header")],2):t.title?n("p",[t._v(t._s(t.title))]):t._e(),t.closable?n("button",{staticClass:"delete",attrs:{type:"button","aria-label":t.ariaCloseLabel},on:{click:t.close}}):t._e()]):t._e(),t.$slots.default?n("section",{staticClass:"message-body"},[n("div",{staticClass:"media"},[t.computedIcon&&t.hasIcon?n("div",{staticClass:"media-left"},[n("b-icon",{class:t.type,attrs:{icon:t.computedIcon,pack:t.iconPack,both:"",size:t.newIconSize}})],1):t._e(),n("div",{staticClass:"media-content"},[t._t("default")],2)])]):t._e(),t.autoClose&&t.progressBar?n("b-progress",{staticClass:"auto-close-progress",attrs:{value:t.remainingTime-1,max:t.duration/1e3-1,type:t.type,rounded:!1}}):t._e()],1)])},Tu=[];const Fu=void 0,Ou=void 0,$u=void 0,Nu=!1,Bu=pt({render:Mu,staticRenderFns:Tu},Fu,Du,Ou,Nu,$u,!1,void 0,void 0,void 0);var Ru,Pu=Bu,Iu={install:function(t){mt(t,Pu)}};gt(Iu);var ju={open:function(t){var e;"string"===typeof t&&(t={content:t});var n,r={programmatic:!0};t.parent&&(e=t.parent,delete t.parent),Array.isArray(t.content)&&(n=t.content,delete t.content);var i=W(r,t),o="undefined"!==typeof window&&window.Vue?window.Vue:Ru||at,a=o.extend(gs),s=new a({parent:e,el:document.createElement("div"),propsData:i});return n&&(s.$slots.default=n,s.$forceUpdate()),s}},Lu={install:function(t){Ru=t,mt(t,gs),vt(t,"modal",ju)}};gt(Lu);var zu={props:{type:{type:String,default:"is-dark"},message:[String,Array],duration:Number,queue:{type:Boolean,default:void 0},indefinite:{type:Boolean,default:!1},pauseOnHover:{type:Boolean,default:!1},position:{type:String,default:"is-top",validator:function(t){return["is-top-right","is-top","is-top-left","is-bottom-right","is-bottom","is-bottom-left"].indexOf(t)>-1}},container:String},data:function(){return{isActive:!1,isPaused:!1,parentTop:null,parentBottom:null,newContainer:this.container||lt.defaultContainerElement}},computed:{correctParent:function(){switch(this.position){case"is-top-right":case"is-top":case"is-top-left":return this.parentTop;case"is-bottom-right":case"is-bottom":case"is-bottom-left":return this.parentBottom}},transition:function(){switch(this.position){case"is-top-right":case"is-top":case"is-top-left":return{enter:"fadeInDown",leave:"fadeOut"};case"is-bottom-right":case"is-bottom":case"is-bottom-left":return{enter:"fadeInUp",leave:"fadeOut"}}}},methods:{pause:function(){this.pauseOnHover&&!this.indefinite&&(this.isPaused=!0,clearInterval(this.$buefy.globalNoticeInterval))},removePause:function(){this.pauseOnHover&&!this.indefinite&&(this.isPaused=!1,this.close())},shouldQueue:function(){var t=void 0!==this.queue?this.queue:lt.defaultNoticeQueue;return!!t&&(this.parentTop.childElementCount>0||this.parentBottom.childElementCount>0)},click:function(){this.$emit("click")},close:function(){var t=this;this.isPaused||(clearTimeout(this.timer),this.isActive=!1,this.$emit("close"),setTimeout((function(){t.$destroy(),G(t.$el)}),150))},timeoutCallback:function(){return this.close()},showNotice:function(){var t=this;this.shouldQueue()&&(this.correctParent.innerHTML=""),this.correctParent.insertAdjacentElement("afterbegin",this.$el),this.isActive=!0,this.indefinite||(this.timer=setTimeout((function(){return t.timeoutCallback()}),this.newDuration))},setupContainer:function(){if(this.parentTop=document.querySelector((this.newContainer?this.newContainer:"body")+">.notices.is-top"),this.parentBottom=document.querySelector((this.newContainer?this.newContainer:"body")+">.notices.is-bottom"),!this.parentTop||!this.parentBottom){this.parentTop||(this.parentTop=document.createElement("div"),this.parentTop.className="notices is-top"),this.parentBottom||(this.parentBottom=document.createElement("div"),this.parentBottom.className="notices is-bottom");var t=document.querySelector(this.newContainer)||document.body;t.appendChild(this.parentTop),t.appendChild(this.parentBottom),this.newContainer&&(this.parentTop.classList.add("has-custom-container"),this.parentBottom.classList.add("has-custom-container"))}}},beforeMount:function(){this.setupContainer()},mounted:function(){this.showNotice()}},Uu={name:"BNotification",mixins:[Cu],props:{position:String,ariaCloseLabel:String,animation:{type:String,default:"fade"}}};const qu=Uu;var Vu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:t.animation}},[n("article",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"notification",class:[t.type,t.position],on:{click:t.click}},[t.closable?n("button",{staticClass:"delete",attrs:{type:"button","aria-label":t.ariaCloseLabel},on:{click:t.close}}):t._e(),t.$slots.default||t.message?n("div",{staticClass:"media"},[t.computedIcon&&t.hasIcon?n("div",{staticClass:"media-left"},[n("b-icon",{attrs:{icon:t.computedIcon,pack:t.iconPack,size:t.newIconSize,both:"","aria-hidden":""}})],1):t._e(),n("div",{staticClass:"media-content"},[t.$slots.default?[t._t("default")]:[n("p",{staticClass:"text",domProps:{innerHTML:t._s(t.message)}})]],2)]):t._e(),t.autoClose&&t.progressBar?n("b-progress",{staticClass:"auto-close-progress",attrs:{value:t.remainingTime-1,max:t.duration/1e3-1,type:t.type,rounded:!1}}):t._e()],1)])},Hu=[];const Wu=void 0,Yu=void 0,Gu=void 0,Ku=!1,Xu=pt({render:Vu,staticRenderFns:Hu},Wu,qu,Yu,Ku,Gu,!1,void 0,void 0,void 0);var Ju=Xu,Zu={name:"BNotificationNotice",mixins:[zu],data:function(){return{newDuration:this.duration||lt.defaultNotificationDuration}},methods:{close:function(){var t=this;this.isPaused||(clearTimeout(this.timer),this.$refs.notification.isActive=!1,this.$emit("close"),setTimeout((function(){t.$destroy(),G(t.$el)}),150))}}};const Qu=Zu;var tc=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-notification",t._b({ref:"notification",on:{click:t.click,close:t.close},nativeOn:{mouseenter:function(e){return t.pause(e)},mouseleave:function(e){return t.removePause(e)}}},"b-notification",t.$options.propsData,!1),[t._t("default")],2)},ec=[];const nc=void 0,rc=void 0,ic=void 0,oc=!1,ac=pt({render:tc,staticRenderFns:ec},nc,Qu,rc,oc,ic,!1,void 0,void 0,void 0);var sc,uc=ac,cc={open:function(t){var e;"string"===typeof t&&(t={message:t});var n,r={position:lt.defaultNotificationPosition||"is-top-right"};t.parent&&(e=t.parent,delete t.parent),Array.isArray(t.message)&&(n=t.message,delete t.message),t.active=!1;var i=W(r,t),o="undefined"!==typeof window&&window.Vue?window.Vue:sc||at,a=o.extend(uc),s=new a({parent:e,el:document.createElement("div"),propsData:i});return n&&(s.$slots.default=n,s.$forceUpdate()),s.$children[0].isActive=!0,s}},lc={install:function(t){sc=t,mt(t,Ju),vt(t,"notification",cc)}};gt(lc);var fc={name:"NavbarBurger",props:{isOpened:{type:Boolean,default:!1}}};const hc=fc;var dc=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",t._g({staticClass:"navbar-burger burger",class:{"is-active":t.isOpened},attrs:{role:"button","aria-label":"menu","aria-expanded":t.isOpened,tabindex:"0"}},t.$listeners),[n("span",{attrs:{"aria-hidden":"true"}}),n("span",{attrs:{"aria-hidden":"true"}}),n("span",{attrs:{"aria-hidden":"true"}})])},pc=[];const gc=void 0,mc=void 0,vc=void 0,yc=!1,bc=pt({render:dc,staticRenderFns:pc},gc,hc,mc,yc,vc,!1,void 0,void 0,void 0);var wc=bc,xc="undefined"!==typeof window&&("ontouchstart"in window||navigator.msMaxTouchPoints>0),_c=xc?["touchstart","click"]:["click"],kc=[];function Ac(t){var e="function"===typeof t;if(!e&&"object"!==u(t))throw new Error("v-click-outside: Binding value should be a function or an object, ".concat(u(t)," given"));return{handler:e?t:t.handler,middleware:t.middleware||function(t){return t},events:t.events||_c}}function Sc(t){var e=t.el,n=t.event,r=t.handler,i=t.middleware,o=n.target!==e&&!e.contains(n.target);o&&i(n,e)&&r(n,e)}function Cc(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.eventHandlers,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add";e.forEach((function(t){var e=t.event,r=t.handler;document["".concat(n,"EventListener")](e,r)}))}function Ec(t,e){var n=e.value,r=Ac(n),i=r.handler,o=r.middleware,a=r.events,s={el:t,eventHandlers:a.map((function(e){return{event:e,handler:function(e){return Sc({event:e,el:t,handler:i,middleware:o})}}}))};Cc(s,"add"),kc.push(s)}function Dc(t,e){var n=e.value,r=Ac(n),i=r.handler,o=r.middleware,a=r.events,s=kc.filter((function(e){return e.el===t}))[0];Cc(s,"remove"),s.eventHandlers=a.map((function(e){return{event:e,handler:function(e){return Sc({event:e,el:t,handler:i,middleware:o})}}})),Cc(s,"add")}function Mc(t){var e=kc.filter((function(e){return e.el===t}))[0];Cc(e,"remove")}var Tc={bind:Ec,update:Dc,unbind:Mc,instances:kc},Fc=Tc,Oc="is-fixed-top",$c="has-navbar-fixed-top",Nc="has-spaced-navbar-fixed-top",Bc="is-fixed-bottom",Rc="has-navbar-fixed-bottom",Pc="has-spaced-navbar-fixed-bottom",Ic="has-navbar-centered",jc=function(t){return!!t},Lc={name:"BNavbar",components:{NavbarBurger:wc},directives:{clickOutside:Fc},model:{prop:"active",event:"update:active"},props:{type:[String,Object],transparent:{type:Boolean,default:!1},fixedTop:{type:Boolean,default:!1},fixedBottom:{type:Boolean,default:!1},active:{type:Boolean,default:!1},centered:{type:Boolean,default:!1},wrapperClass:{type:[String,Array,Object]},closeOnClick:{type:Boolean,default:!0},mobileBurger:{type:Boolean,default:!0},spaced:Boolean,shadow:Boolean},data:function(){return{internalIsActive:this.active,_isNavBar:!0}},computed:{isOpened:function(){return this.internalIsActive},computedClasses:function(){return[this.type,h(h(h(h(h(h({},Oc,this.fixedTop),Bc,this.fixedBottom),Ic,this.centered),"is-spaced",this.spaced),"has-shadow",this.shadow),"is-transparent",this.transparent)]}},watch:{active:{handler:function(t){this.internalIsActive=t},immediate:!0},fixedTop:function(t){this.setBodyFixedTopClass(t)},bottomTop:function(t){this.setBodyFixedBottomClass(t)}},methods:{toggleActive:function(){this.internalIsActive=!this.internalIsActive,this.emitUpdateParentEvent()},closeMenu:function(){this.closeOnClick&&this.internalIsActive&&(this.internalIsActive=!1,this.emitUpdateParentEvent())},emitUpdateParentEvent:function(){this.$emit("update:active",this.internalIsActive)},setBodyClass:function(t){"undefined"!==typeof window&&document.body.classList.add(t)},removeBodyClass:function(t){"undefined"!==typeof window&&document.body.classList.remove(t)},checkIfFixedPropertiesAreColliding:function(){var t=this.fixedTop&&this.fixedBottom;if(t)throw new Error("You should choose if the BNavbar is fixed bottom or fixed top, but not both")},genNavbar:function(t){var e=[this.genNavbarBrandNode(t),this.genNavbarSlotsNode(t)];if(!jc(this.wrapperClass))return this.genNavbarSlots(t,e);var n=t("div",{class:this.wrapperClass},e);return this.genNavbarSlots(t,[n])},genNavbarSlots:function(t,e){return t("nav",{staticClass:"navbar",class:this.computedClasses,attrs:{role:"navigation","aria-label":"main navigation"},directives:[{name:"click-outside",value:this.closeMenu}]},e)},genNavbarBrandNode:function(t){return t("div",{class:"navbar-brand"},[this.$slots.brand,this.genBurgerNode(t)])},genBurgerNode:function(t){var e=this;if(this.mobileBurger){var n=t("navbar-burger",{props:{isOpened:this.isOpened},on:{click:this.toggleActive,keyup:function(t){13===t.keyCode&&e.toggleActive()}}}),r=!!this.$scopedSlots.burger;return r?this.$scopedSlots.burger({isOpened:this.isOpened,toggleActive:this.toggleActive}):n}},genNavbarSlotsNode:function(t){return t("div",{staticClass:"navbar-menu",class:{"is-active":this.isOpened}},[this.genMenuPosition(t,"start"),this.genMenuPosition(t,"end")])},genMenuPosition:function(t,e){return t("div",{staticClass:"navbar-".concat(e)},this.$slots[e])},setBodyFixedTopClass:function(t){this.checkIfFixedPropertiesAreColliding(),t?(this.setBodyClass($c),this.spaced&&this.setBodyClass(Nc)):(this.removeBodyClass($c),this.removeBodyClass(Nc))},setBodyFixedBottomClass:function(t){this.checkIfFixedPropertiesAreColliding(),t?(this.setBodyClass(Rc),this.spaced&&this.setBodyClass(Pc)):(this.removeBodyClass(Rc),this.removeBodyClass(Pc))}},beforeMount:function(){this.fixedTop&&this.setBodyFixedTopClass(!0),this.fixedBottom&&this.setBodyFixedBottomClass(!0)},beforeDestroy:function(){if(this.fixedTop){var t=this.spaced?Nc:$c;this.removeBodyClass(t)}else if(this.fixedBottom){var e=this.spaced?Pc:Rc;this.removeBodyClass(e)}},render:function(t,e){return this.genNavbar(t)}};const zc=Lc,Uc=void 0,qc=void 0,Vc=void 0,Hc=void 0,Wc=pt({},Uc,zc,qc,Hc,Vc,!1,void 0,void 0,void 0);var Yc=Wc,Gc=["div","span","input"],Kc={name:"BNavbarItem",inheritAttrs:!1,props:{tag:{type:String,default:"a"},active:Boolean},methods:{keyPress:function(t){var e=t.key;"Escape"!==e&&"Esc"!==e||this.closeMenuRecursive(this,["NavBar"])},handleClickEvent:function(t){var e=Gc.some((function(e){return e===t.target.localName}));if(!e){var n=this.closeMenuRecursive(this,["NavbarDropdown","NavBar"]);n&&n.$data._isNavbarDropdown&&this.closeMenuRecursive(n,["NavBar"])}},closeMenuRecursive:function(t,e){if(!t.$parent)return null;var n=e.reduce((function(e,n){return t.$parent.$data["_is".concat(n)]?(t.$parent.closeMenu(),t.$parent):e}),null);return n||this.closeMenuRecursive(t.$parent,e)}},mounted:function(){"undefined"!==typeof window&&(this.$el.addEventListener("click",this.handleClickEvent),document.addEventListener("keyup",this.keyPress))},beforeDestroy:function(){"undefined"!==typeof window&&(this.$el.removeEventListener("click",this.handleClickEvent),document.removeEventListener("keyup",this.keyPress))}};const Xc=Kc;var Jc=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.tag,t._g(t._b({tag:"component",staticClass:"navbar-item",class:{"is-active":t.active}},"component",t.$attrs,!1),t.$listeners),[t._t("default")],2)},Zc=[];const Qc=void 0,tl=void 0,el=void 0,nl=!1,rl=pt({render:Jc,staticRenderFns:Zc},Qc,Xc,tl,nl,el,!1,void 0,void 0,void 0);var il=rl,ol={name:"BNavbarDropdown",directives:{clickOutside:Fc},inheritAttrs:!1,props:{label:String,hoverable:Boolean,active:Boolean,right:Boolean,arrowless:Boolean,boxed:Boolean,closeOnClick:{type:Boolean,default:!0},collapsible:Boolean,tag:{type:String,default:"a"}},data:function(){return{newActive:this.active,isHoverable:this.hoverable,_isNavbarDropdown:!0}},watch:{active:function(t){this.newActive=t},newActive:function(t){this.$emit("active-change",t)}},methods:{toggleMenu:function(){this.newActive=!this.newActive},showMenu:function(){this.newActive=!0},closeMenu:function(){this.newActive=!this.closeOnClick,this.hoverable&&this.closeOnClick&&(this.isHoverable=!1)},checkHoverable:function(){this.hoverable&&(this.isHoverable=!0)}}};const al=ol;var sl=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeMenu,expression:"closeMenu"}],staticClass:"navbar-item has-dropdown",class:{"is-hoverable":t.isHoverable,"is-active":t.newActive},on:{mouseenter:t.checkHoverable}},[n(t.tag,t._g(t._b({tag:"component",staticClass:"navbar-link",class:{"is-arrowless":t.arrowless,"is-active":t.newActive&&t.collapsible},attrs:{"aria-haspopup":"true",tabindex:"0"},on:{click:function(e){return e.preventDefault(),t.toggleMenu(e)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.toggleMenu(e)}}},"component",t.$attrs,!1),t.$listeners),[t.label?[t._v(t._s(t.label))]:t._t("label")],2),n("div",{staticClass:"navbar-dropdown",class:{"is-right":t.right,"is-boxed":t.boxed,"is-hidden-touch":t.collapsible&&!t.newActive}},[t._t("default")],2)],1)},ul=[];const cl=void 0,ll=void 0,fl=void 0,hl=!1,dl=pt({render:sl,staticRenderFns:ul},cl,al,ll,hl,fl,!1,void 0,void 0,void 0);var pl=dl,gl={install:function(t){mt(t,Yc),mt(t,il),mt(t,pl)}};gt(gl);var ml={name:"BNumberinput",components:h(h({},Ft.name,Ft),zt.name,zt),mixins:[dt],inheritAttrs:!1,props:{value:Number,min:{type:[Number,String]},max:[Number,String],step:[Number,String],minStep:[Number,String],exponential:[Boolean,Number],disabled:Boolean,type:{type:String,default:"is-primary"},editable:{type:Boolean,default:!0},controls:{type:Boolean,default:!0},controlsAlignment:{type:String,default:"center",validator:function(t){return["left","right","center"].indexOf(t)>=0}},controlsRounded:{type:Boolean,default:!1},controlsPosition:String,placeholder:[Number,String],ariaMinusLabel:String,ariaPlusLabel:String,longPress:{type:Boolean,default:!0}},data:function(){return{newValue:this.value,newStep:this.step||1,newMinStep:this.minStep,timesPressed:1,_elementRef:"input"}},computed:{computedValue:{get:function(){return this.newValue},set:function(t){var e=this,n=0===Number(t)?0:Number(t)||null;""!==t&&void 0!==t&&null!==t||(n=null),this.newValue=n,null===n?this.$emit("input",n):isNaN(n)||"-0"===n||this.$emit("input",Number(n)),this.$nextTick((function(){e.$refs.input&&e.$refs.input.checkHtml5Validity()}))}},controlsLeft:function(){return this.controls&&"right"!==this.controlsAlignment?"left"===this.controlsAlignment?["minus","plus"]:["minus"]:[]},controlsRight:function(){return this.controls&&"left"!==this.controlsAlignment?"right"===this.controlsAlignment?["minus","plus"]:["plus"]:[]},fieldClasses:function(){return[{"has-addons":"compact"===this.controlsPosition},{"is-grouped":"compact"!==this.controlsPosition},{"is-expanded":this.expanded}]},buttonClasses:function(){return[this.type,this.size,{"is-rounded":this.controlsRounded}]},minNumber:function(){return"string"===typeof this.min?parseFloat(this.min):this.min},maxNumber:function(){return"string"===typeof this.max?parseFloat(this.max):this.max},stepNumber:function(){return"any"===this.newStep?1:"string"===typeof this.newStep?parseFloat(this.newStep):this.newStep},minStepNumber:function(){if("any"===this.newStep&&"undefined"===typeof this.newMinStep)return"any";var t="undefined"!==typeof this.newMinStep?this.newMinStep:this.newStep;return"string"===typeof t?parseFloat(t):t},disabledMin:function(){return this.computedValue-this.stepNumber<this.minNumber},disabledMax:function(){return this.computedValue+this.stepNumber>this.maxNumber},stepDecimals:function(){var t=this.minStepNumber.toString(),e=t.indexOf(".");return e>=0?t.substring(e+1).length:0}},watch:{value:{immediate:!0,handler:function(t){this.newValue=t}},step:function(t){this.newStep=t},minStep:function(t){this.newMinStep=t}},methods:{isDisabled:function(t){return this.disabled||("plus"===t?this.disabledMax:this.disabledMin)},decrement:function(){if(null===this.computedValue||"undefined"===typeof this.computedValue){if(null!==this.maxNumber&&"undefined"!==typeof this.maxNumber)return void(this.computedValue=this.maxNumber);this.computedValue=0}if("undefined"===typeof this.minNumber||this.computedValue-this.stepNumber>=this.minNumber){var t=this.computedValue-this.stepNumber;this.computedValue=parseFloat(t.toFixed(this.stepDecimals))}},increment:function(){if(null===this.computedValue||"undefined"===typeof this.computedValue||this.computedValue<this.minNumber){if(null!==this.minNumber&&"undefined"!==typeof this.minNumber)return void(this.computedValue=this.minNumber);this.computedValue=0}if("undefined"===typeof this.maxNumber||this.computedValue+this.stepNumber<=this.maxNumber){var t=this.computedValue+this.stepNumber;this.computedValue=parseFloat(t.toFixed(this.stepDecimals))}},onControlClick:function(t,e){0===t.detail&&"click"===t.type&&(e?this.increment():this.decrement())},longPressTick:function(t){var e=this;t?this.increment():this.decrement(),this.longPress&&(this._$intervalRef=setTimeout((function(){e.longPressTick(t)}),this.exponential?250/(this.exponential*this.timesPressed++):250))},onStartLongPress:function(t,e){0!==t.button&&"touchstart"!==t.type||(clearTimeout(this._$intervalRef),this.longPressTick(e))},onStopLongPress:function(){this._$intervalRef&&(this.timesPressed=1,clearTimeout(this._$intervalRef),this._$intervalRef=null)}},beforeDestroy:function(){clearTimeout(this._$intervalRef)}};const vl=ml;var yl=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-numberinput field",class:t.fieldClasses},[t._l(t.controlsLeft,(function(e){return n("p",{key:e,class:["control",e],on:{mouseup:t.onStopLongPress,mouseleave:t.onStopLongPress,touchend:t.onStopLongPress,touchcancel:t.onStopLongPress}},[n("button",{staticClass:"button",class:t.buttonClasses,attrs:{type:"button",disabled:t.isDisabled(e),"aria-label":"plus"===e?t.ariaPlusLabel:t.ariaMinusLabel},on:{mousedown:function(n){!t.isDisabled(e)&&t.onStartLongPress(n,"plus"===e)},touchstart:function(n){n.preventDefault(),!t.isDisabled(e)&&t.onStartLongPress(n,"plus"===e)},click:function(n){!t.isDisabled(e)&&t.onControlClick(n,"plus"===e)}}},[n("b-icon",{attrs:{both:"",icon:e,pack:t.iconPack,size:t.iconSize}})],1)])})),n("b-input",t._b({ref:"input",attrs:{type:"number",step:t.minStepNumber,max:t.max,min:t.min,size:t.size,disabled:t.disabled,readonly:!t.editable,loading:t.loading,rounded:t.rounded,icon:t.icon,"icon-pack":t.iconPack,autocomplete:t.autocomplete,expanded:t.expanded,placeholder:t.placeholder,"use-html5-validation":t.useHtml5Validation},on:{focus:function(e){return t.$emit("focus",e)},blur:function(e){return t.$emit("blur",e)}},model:{value:t.computedValue,callback:function(e){t.computedValue=e},expression:"computedValue"}},"b-input",t.$attrs,!1)),t._l(t.controlsRight,(function(e){return n("p",{key:e,class:["control",e],on:{mouseup:t.onStopLongPress,mouseleave:t.onStopLongPress,touchend:t.onStopLongPress,touchcancel:t.onStopLongPress}},[n("button",{staticClass:"button",class:t.buttonClasses,attrs:{type:"button",disabled:t.isDisabled(e),"aria-label":"plus"===e?t.ariaPlusLabel:t.ariaMinusLabel},on:{mousedown:function(n){!t.isDisabled(e)&&t.onStartLongPress(n,"plus"===e)},touchstart:function(n){n.preventDefault(),!t.isDisabled(e)&&t.onStartLongPress(n,"plus"===e)},click:function(n){!t.isDisabled(e)&&t.onControlClick(n,"plus"===e)}}},[n("b-icon",{attrs:{both:"",icon:e,pack:t.iconPack,size:t.iconSize}})],1)])}))],2)},bl=[];const wl=void 0,xl=void 0,_l=void 0,kl=!1,Al=pt({render:yl,staticRenderFns:bl},wl,vl,xl,kl,_l,!1,void 0,void 0,void 0);var Sl=Al,Cl={install:function(t){mt(t,Sl)}};gt(Cl);var El={name:"BPaginationButton",props:{page:{type:Object,required:!0},tag:{type:String,default:"a",validator:function(t){return lt.defaultLinkTags.indexOf(t)>=0}},disabled:{type:Boolean,default:!1}},computed:{href:function(){if("a"===this.tag)return"#"},isDisabled:function(){return this.disabled||this.page.disabled}}};const Dl=El;var Ml=function(){var t,e=this,n=e.$createElement,r=e._self._c||n;return r(e.tag,e._b({tag:"component",staticClass:"pagination-link",class:(t={"is-current":e.page.isCurrent},t[e.page.class]=!0,t),attrs:{role:"button",href:e.href,disabled:e.isDisabled,"aria-label":e.page["aria-label"],"aria-current":e.page.isCurrent},on:{click:function(t){return t.preventDefault(),e.page.click(t)}}},"component",e.$attrs,!1),[e._t("default",[e._v(e._s(e.page.number))])],2)},Tl=[];const Fl=void 0,Ol=void 0,$l=void 0,Nl=!1,Bl=pt({render:Ml,staticRenderFns:Tl},Fl,Dl,Ol,Nl,$l,!1,void 0,void 0,void 0);var Rl=Bl;function Pl(t,e,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||t.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,e),s&&t.apply(i,o)}}var Il={name:"BPagination",components:h(h({},Ft.name,Ft),Rl.name,Rl),model:{prop:"current",event:"update:current"},props:{total:[Number,String],perPage:{type:[Number,String],default:20},current:{type:[Number,String],default:1},rangeBefore:{type:[Number,String],default:1},rangeAfter:{type:[Number,String],default:1},size:String,simple:Boolean,rounded:Boolean,order:String,iconPack:String,iconPrev:{type:String,default:function(){return lt.defaultIconPrev}},iconNext:{type:String,default:function(){return lt.defaultIconNext}},ariaNextLabel:String,ariaPreviousLabel:String,ariaPageLabel:String,ariaCurrentLabel:String,pageInput:{type:Boolean,default:!1},pageInputPosition:String,debouncePageInput:[Number,String]},data:function(){return{inputValue:this.current}},computed:{rootClasses:function(){return[this.order,this.size,this.pageInputPosition,{"is-simple":this.simple,"is-rounded":this.rounded,"has-input":this.pageInput}]},beforeCurrent:function(){return parseInt(this.rangeBefore)},afterCurrent:function(){return parseInt(this.rangeAfter)},pageCount:function(){return Math.ceil(this.total/this.perPage)},firstItem:function(){var t=this.current*this.perPage-this.perPage+1;return t>=0?t:0},hasPrev:function(){return this.current>1},hasFirst:function(){return this.current>=2+this.beforeCurrent},hasFirstEllipsis:function(){return this.current>=this.beforeCurrent+4},hasLast:function(){return this.current<=this.pageCount-(1+this.afterCurrent)},hasLastEllipsis:function(){return this.current<this.pageCount-(2+this.afterCurrent)},hasNext:function(){return this.current<this.pageCount},pagesInRange:function(){if(!this.simple){var t=Math.max(1,this.current-this.beforeCurrent);t-1===2&&t--;var e=Math.min(this.current+this.afterCurrent,this.pageCount);this.pageCount-e===2&&e++;for(var n=[],r=t;r<=e;r++)n.push(this.getPage(r));return n}}},watch:{pageCount:function(t){this.current>t&&this.last()},current:function(t){this.inputValue=t},debouncePageInput:{handler:function(t){this.debounceHandlePageInput=Pl(this.handleOnInputPageChange,t)},immediate:!0}},methods:{prev:function(t){this.changePage(this.current-1,t)},next:function(t){this.changePage(this.current+1,t)},first:function(t){this.changePage(1,t)},last:function(t){this.changePage(this.pageCount,t)},changePage:function(t,e){this.current===t||t<1||t>this.pageCount||(this.$emit("update:current",t),this.$emit("change",t),e&&e.target&&this.$nextTick((function(){return e.target.focus()})))},getPage:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{number:t,isCurrent:this.current===t,click:function(n){return e.changePage(t,n)},input:function(t,n){return e.changePage(+n,t)},disabled:n.disabled||!1,class:n.class||"","aria-label":n["aria-label"]||this.getAriaPageLabel(t,this.current===t)}},getAriaPageLabel:function(t,e){return!this.ariaPageLabel||e&&this.ariaCurrentLabel?this.ariaPageLabel&&e&&this.ariaCurrentLabel?this.ariaCurrentLabel+", "+this.ariaPageLabel+" "+t+".":null:this.ariaPageLabel+" "+t+"."},handleOnInputPageChange:function(t){this.getPage(this.inputValue).input(t,this.inputValue)},handleOnInputDebounce:function(t){this.debouncePageInput?this.debounceHandlePageInput(t):this.handleOnInputPageChange(t)},handleOnKeyPress:function(t){var e=t.which||t.keyCode;return e>=48&&e<=57||t.preventDefault()},handleAllowableInputPageRange:function(t){+t.target.value>0&&+t.target.value<=this.pageCount?this.handleOnInputValue(t):(this.inputValue=1,this.inputValue="")},handleOnInputValue:function(t){var e=+t.target.value;this.inputValue=e,Number.isInteger(this.inputValue)?this.handleOnInputDebounce(t):this.inputValue=this.current}}};const jl=Il;var Ll=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"pagination",class:t.rootClasses},[t.$scopedSlots.previous?t._t("previous",[n("b-icon",{attrs:{icon:t.iconPrev,pack:t.iconPack,both:"","aria-hidden":"true"}})],{page:t.getPage(t.current-1,{disabled:!t.hasPrev,class:"pagination-previous","aria-label":t.ariaPreviousLabel})}):n("BPaginationButton",{staticClass:"pagination-previous",attrs:{disabled:!t.hasPrev,page:t.getPage(t.current-1),"aria-label":t.ariaPreviousLabel}},[n("b-icon",{attrs:{icon:t.iconPrev,pack:t.iconPack,both:"","aria-hidden":"true"}})],1),t.$scopedSlots.next?t._t("next",[n("b-icon",{attrs:{icon:t.iconNext,pack:t.iconPack,both:"","aria-hidden":"true"}})],{page:t.getPage(t.current+1,{disabled:!t.hasNext,class:"pagination-next","aria-label":t.ariaNextLabel})}):n("BPaginationButton",{staticClass:"pagination-next",attrs:{disabled:!t.hasNext,page:t.getPage(t.current+1),"aria-label":t.ariaNextLabel}},[n("b-icon",{attrs:{icon:t.iconNext,pack:t.iconPack,both:"","aria-hidden":"true"}})],1),n("div",{staticClass:"control pagination-input"},[t.pageInput?n("input",{staticClass:"input",attrs:{size:t.pageCount.toString().length,maxlength:t.pageCount.toString().length},domProps:{value:t.inputValue},on:{input:t.handleAllowableInputPageRange,keypress:t.handleOnKeyPress}}):t._e()]),t.simple?n("small",{staticClass:"info"},[1==t.perPage?[t._v(" "+t._s(t.firstItem)+" / "+t._s(t.total)+" ")]:[t._v(" "+t._s(t.firstItem)+"-"+t._s(Math.min(t.current*t.perPage,t.total))+" / "+t._s(t.total)+" ")]],2):n("ul",{staticClass:"pagination-list"},[t.hasFirst?n("li",[t.$scopedSlots.default?t._t("default",null,{page:t.getPage(1)}):n("BPaginationButton",{attrs:{page:t.getPage(1)}})],2):t._e(),t.hasFirstEllipsis?n("li",[n("span",{staticClass:"pagination-ellipsis"},[t._v("")])]):t._e(),t._l(t.pagesInRange,(function(e){return n("li",{key:e.number},[t.$scopedSlots.default?t._t("default",null,{page:e}):n("BPaginationButton",{attrs:{page:e}})],2)})),t.hasLastEllipsis?n("li",[n("span",{staticClass:"pagination-ellipsis"},[t._v("")])]):t._e(),t.hasLast?n("li",[t.$scopedSlots.default?t._t("default",null,{page:t.getPage(t.pageCount)}):n("BPaginationButton",{attrs:{page:t.getPage(t.pageCount)}})],2):t._e()],2)],2)},zl=[];const Ul=void 0,ql=void 0,Vl=void 0,Hl=!1,Wl=pt({render:Ll,staticRenderFns:zl},Ul,jl,ql,Hl,Vl,!1,void 0,void 0,void 0);var Yl=Wl,Gl={install:function(t){mt(t,Yl),mt(t,Rl)}};gt(Gl);var Kl={name:"BProgress",mixins:[Ne("progress")],props:{type:{type:[String,Object],default:"is-darkgrey"},size:String,rounded:{type:Boolean,default:!0},value:{type:Number,default:void 0},max:{type:Number,default:100},showValue:{type:Boolean,default:!1},format:{type:String,default:"raw",validator:function(t){return["raw","percent"].indexOf(t)>=0}},precision:{type:Number,default:2},keepTrailingZeroes:{type:Boolean,default:!1},locale:{type:[String,Array],default:function(){return lt.defaultLocale}}},computed:{isIndeterminate:function(){return void 0===this.value||null===this.value},newType:function(){return[this.size,this.type,{"is-more-than-half":this.value&&this.value>this.max/2}]},newValue:function(){return this.calculateValue(this.value)},isNative:function(){return void 0===this.$slots.bar},wrapperClasses:function(){return h({"is-not-native":!this.isNative},this.size,"string"===typeof this.size&&!this.isNative)}},watch:{isIndeterminate:function(t){var e=this;this.$nextTick((function(){e.$refs.progress&&(t?e.$refs.progress.removeAttribute("value"):e.$refs.progress.setAttribute("value",e.value))}))}},methods:{calculateValue:function(t){if(void 0!==t&&null!==t&&!isNaN(t)){var e=this.keepTrailingZeroes?this.precision:0,n=this.precision;return"percent"===this.format?new Intl.NumberFormat(this.locale,{style:"percent",minimumFractionDigits:e,maximumFractionDigits:n}).format(t/this.max):new Intl.NumberFormat(this.locale,{minimumFractionDigits:e,maximumFractionDigits:n}).format(t)}}}};const Xl=Kl;var Jl=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"progress-wrapper",class:[t.wrapperClasses,{"is-squared":!t.rounded}]},[t.isNative?n("progress",{ref:"progress",staticClass:"progress",class:[t.newType,{"is-squared":!t.rounded}],attrs:{max:t.max},domProps:{value:t.value}},[t._v(t._s(t.newValue))]):t._t("bar"),t.isNative&&t.showValue?n("p",{staticClass:"progress-value"},[t._t("default",[t._v(t._s(t.newValue))])],2):t._e()],2)},Zl=[];const Ql=void 0,tf=void 0,ef=void 0,nf=!1,rf=pt({render:Jl,staticRenderFns:Zl},Ql,Xl,tf,nf,ef,!1,void 0,void 0,void 0);var of=rf,af={name:"BProgressBar",mixins:[Ie("progress")],props:{type:{type:[String,Object],default:void 0},value:{type:Number,default:void 0},showValue:{type:Boolean,default:!1}},computed:{newType:function(){return[this.parent.size,this.type||this.parent.type]},newShowValue:function(){return this.showValue||this.parent.showValue},newValue:function(){return this.parent.calculateValue(this.value)},barWidth:function(){return"".concat(100*this.value/this.parent.max,"%")}}};const sf=af;var uf=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"progress-bar",class:t.newType,style:{width:t.barWidth},attrs:{role:"progressbar","aria-valuenow":t.value,"aria-valuemax":t.parent.max,"aria-valuemin":"0"}},[t.newShowValue?n("p",{staticClass:"progress-value"},[t._t("default",[t._v(t._s(t.newValue))])],2):t._e()])},cf=[];const lf=void 0,ff=void 0,hf=void 0,df=!1,pf=pt({render:uf,staticRenderFns:cf},lf,sf,ff,df,hf,!1,void 0,void 0,void 0);var gf=pf,mf={install:function(t){mt(t,of),mt(t,gf)}};gt(mf);var vf={name:"BRadio",mixins:[En]};const yf=vf;var bf=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{ref:"label",staticClass:"b-radio radio",class:[t.size,{"is-disabled":t.disabled}],attrs:{disabled:t.disabled},on:{click:t.focus,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.$refs.label.click())}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.computedValue,expression:"computedValue"}],ref:"input",attrs:{type:"radio",disabled:t.disabled,required:t.required,name:t.name},domProps:{value:t.nativeValue,checked:t._q(t.computedValue,t.nativeValue)},on:{click:function(t){t.stopPropagation()},change:function(e){t.computedValue=t.nativeValue}}}),n("span",{staticClass:"check",class:t.type}),n("span",{staticClass:"control-label"},[t._t("default")],2)])},wf=[];const xf=void 0,_f=void 0,kf=void 0,Af=!1,Sf=pt({render:bf,staticRenderFns:wf},xf,yf,_f,Af,kf,!1,void 0,void 0,void 0);var Cf=Sf,Ef={name:"BRadioButton",mixins:[En],props:{type:{type:String,default:"is-primary"},expanded:Boolean},data:function(){return{isFocused:!1}},computed:{isSelected:function(){return this.newValue===this.nativeValue},labelClass:function(){return[this.isSelected?this.type:null,this.size,{"is-selected":this.isSelected,"is-disabled":this.disabled,"is-focused":this.isFocused}]}}};const Df=Ef;var Mf=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"control",class:{"is-expanded":t.expanded}},[n("label",{ref:"label",staticClass:"b-radio radio button",class:t.labelClass,attrs:{disabled:t.disabled},on:{click:t.focus,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.$refs.label.click())}}},[t._t("default"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.computedValue,expression:"computedValue"}],ref:"input",attrs:{type:"radio",disabled:t.disabled,required:t.required,name:t.name},domProps:{value:t.nativeValue,checked:t._q(t.computedValue,t.nativeValue)},on:{click:function(t){t.stopPropagation()},focus:function(e){t.isFocused=!0},blur:function(e){t.isFocused=!1},change:function(e){t.computedValue=t.nativeValue}}})],2)])},Tf=[];const Ff=void 0,Of=void 0,$f=void 0,Nf=!1,Bf=pt({render:Mf,staticRenderFns:Tf},Ff,Df,Of,Nf,$f,!1,void 0,void 0,void 0);var Rf=Bf,Pf={install:function(t){mt(t,Cf),mt(t,Rf)}};gt(Pf);var If={name:"BRate",components:h({},Ft.name,Ft),props:{value:{type:Number,default:0},max:{type:Number,default:5},icon:{type:String,default:"star"},iconPack:String,size:String,spaced:Boolean,rtl:Boolean,disabled:Boolean,showScore:Boolean,showText:Boolean,customText:String,texts:Array,locale:{type:[String,Array],default:function(){return lt.defaultLocale}}},data:function(){return{newValue:this.value,hoverValue:0}},computed:{halfStyle:function(){return"width:".concat(this.valueDecimal,"%")},showMe:function(){var t="";return this.showScore?(t=this.disabled?this.value:this.newValue,t=0===t?"":new Intl.NumberFormat(this.locale).format(this.value)):this.showText&&(t=this.texts[Math.ceil(this.newValue)-1]),t},valueDecimal:function(){return 100*this.value-100*Math.floor(this.value)}},watch:{value:function(t){this.newValue=t}},methods:{resetNewValue:function(){this.disabled||(this.hoverValue=0)},previewRate:function(t,e){this.disabled||(this.hoverValue=t,e.stopPropagation())},confirmValue:function(t){this.disabled||(this.newValue=t,this.$emit("change",this.newValue),this.$emit("input",this.newValue))},checkHalf:function(t){var e=this.disabled&&this.valueDecimal>0&&t-1<this.value&&t>this.value;return e},rateClass:function(t){var e="",n=0!==this.hoverValue?this.hoverValue:this.newValue;return t<=n?e="set-on":this.disabled&&Math.ceil(this.value)===t&&(e="set-half"),e}}};const jf=If;var Lf=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rate",class:{"is-disabled":t.disabled,"is-spaced":t.spaced,"is-rtl":t.rtl}},[t._l(t.max,(function(e,r){return n("div",{key:r,staticClass:"rate-item",class:t.rateClass(e),on:{mousemove:function(n){return t.previewRate(e,n)},mouseleave:t.resetNewValue,click:function(n){return n.preventDefault(),t.confirmValue(e)}}},[n("b-icon",{attrs:{pack:t.iconPack,icon:t.icon,size:t.size}}),t.checkHalf(e)?n("b-icon",{staticClass:"is-half",style:t.halfStyle,attrs:{pack:t.iconPack,icon:t.icon,size:t.size}}):t._e()],1)})),t.showText||t.showScore||t.customText?n("div",{staticClass:"rate-text",class:t.size},[n("span",[t._v(t._s(t.showMe))]),t.customText&&!t.showText?n("span",[t._v(t._s(t.customText))]):t._e()]):t._e()],2)},zf=[];const Uf=void 0,qf=void 0,Vf=void 0,Hf=!1,Wf=pt({render:Lf,staticRenderFns:zf},Uf,jf,qf,Hf,Vf,!1,void 0,void 0,void 0);var Yf=Wf,Gf={install:function(t){mt(t,Yf)}};gt(Gf);var Kf={install:function(t){mt(t,Bi)}};gt(Kf);var Xf={name:"BSkeleton",functional:!0,props:{active:{type:Boolean,default:!0},animated:{type:Boolean,default:!0},width:[Number,String],height:[Number,String],circle:Boolean,rounded:{type:Boolean,default:!0},count:{type:Number,default:1},position:{type:String,default:"",validator:function(t){return["","is-centered","is-right"].indexOf(t)>-1}},size:String},render:function(t,e){if(e.props.active){for(var n=[],r=e.props.width,i=e.props.height,o=0;o<e.props.count;o++)n.push(t("div",{staticClass:"b-skeleton-item",class:{"is-rounded":e.props.rounded},key:o,style:{height:void 0===i?null:isNaN(i)?i:i+"px",width:void 0===r?null:isNaN(r)?r:r+"px",borderRadius:e.props.circle?"50%":null}}));return t("div",{staticClass:"b-skeleton",class:[e.props.size,e.props.position,{"is-animated":e.props.animated}]},n)}}};const Jf=Xf,Zf=void 0,Qf=void 0,th=void 0,eh=void 0,nh=pt({},Zf,Jf,Qf,eh,th,!1,void 0,void 0,void 0);var rh=nh,ih={install:function(t){mt(t,rh)}};gt(ih);var oh={name:"BSidebar",model:{prop:"open",event:"update:open"},props:{open:Boolean,type:[String,Object],overlay:Boolean,position:{type:String,default:"fixed",validator:function(t){return["fixed","absolute","static"].indexOf(t)>=0}},fullheight:Boolean,fullwidth:Boolean,right:Boolean,mobile:{type:String},reduce:Boolean,expandOnHover:Boolean,expandOnHoverFixed:Boolean,delay:{type:Number,default:function(){return lt.defaultSidebarDelay}},canCancel:{type:[Array,Boolean],default:function(){return["escape","outside"]}},onCancel:{type:Function,default:function(){}},scroll:{type:String,default:function(){return lt.defaultModalScroll?lt.defaultModalScroll:"clip"},validator:function(t){return["clip","keep"].indexOf(t)>=0}}},data:function(){return{isOpen:this.open,isDelayOver:!1,transitionName:null,animating:!0,savedScrollTop:null,hasLeaved:!1}},computed:{rootClasses:function(){return[this.type,{"is-fixed":this.isFixed,"is-static":this.isStatic,"is-absolute":this.isAbsolute,"is-fullheight":this.fullheight,"is-fullwidth":this.fullwidth,"is-right":this.right,"is-mini":this.reduce&&!this.isDelayOver,"is-mini-expand":this.expandOnHover||this.isDelayOver,"is-mini-expand-fixed":this.expandOnHover&&this.expandOnHoverFixed||this.isDelayOver,"is-mini-delayed":null!==this.delay,"is-mini-mobile":"reduce"===this.mobile,"is-hidden-mobile":"hide"===this.mobile,"is-fullwidth-mobile":"fullwidth"===this.mobile}]},cancelOptions:function(){return"boolean"===typeof this.canCancel?this.canCancel?["escape","outside"]:[]:this.canCancel},isStatic:function(){return"static"===this.position},isFixed:function(){return"fixed"===this.position},isAbsolute:function(){return"absolute"===this.position}},watch:{open:{handler:function(t){this.isOpen=t,this.overlay&&this.handleScroll();var e=this.right?!t:t;this.transitionName=e?"slide-next":"slide-prev"},immediate:!0}},methods:{keyPress:function(t){var e=t.key;this.isFixed&&(!this.isOpen||"Escape"!==e&&"Esc"!==e||this.cancel("escape"))},cancel:function(t){this.cancelOptions.indexOf(t)<0||this.isStatic||(this.onCancel.apply(null,arguments),this.close())},close:function(){this.isOpen=!1,this.$emit("close"),this.$emit("update:open",!1)},clickedOutside:function(t){this.isFixed&&this.isOpen&&!this.animating&&(t.composedPath().includes(this.$refs.sidebarContent)||this.cancel("outside"))},beforeEnter:function(){this.animating=!0},afterEnter:function(){this.animating=!1},handleScroll:function(){"undefined"!==typeof window&&("clip"!==this.scroll?(this.savedScrollTop=this.savedScrollTop?this.savedScrollTop:document.documentElement.scrollTop,this.open?document.body.classList.add("is-noscroll"):document.body.classList.remove("is-noscroll"),this.open?document.body.style.top="-".concat(this.savedScrollTop,"px"):(document.documentElement.scrollTop=this.savedScrollTop,document.body.style.top=null,this.savedScrollTop=null)):this.open?document.documentElement.classList.add("is-clipped"):document.documentElement.classList.remove("is-clipped"))},onHover:function(){var t=this;this.delay?(this.hasLeaved=!1,this.timer=setTimeout((function(){t.hasLeaved||(t.isDelayOver=!0),t.timer=null}),this.delay)):this.isDelayOver=!1},onHoverLeave:function(){this.hasLeaved=!0,this.timer=null,this.isDelayOver=!1},clickedCloseButton:function(){this.isFixed&&this.isOpen&&this.fullwidth&&this.cancel("outside")}},created:function(){"undefined"!==typeof window&&(document.addEventListener("keyup",this.keyPress),document.addEventListener("click",this.clickedOutside))},mounted:function(){"undefined"!==typeof window&&this.isFixed&&document.body.appendChild(this.$el),this.overlay&&this.open&&this.handleScroll()},beforeDestroy:function(){if("undefined"!==typeof window&&(document.removeEventListener("keyup",this.keyPress),document.removeEventListener("click",this.clickedOutside),this.overlay)){document.documentElement.classList.remove("is-clipped");var t=this.savedScrollTop?this.savedScrollTop:document.documentElement.scrollTop;document.body.classList.remove("is-noscroll"),document.documentElement.scrollTop=t,document.body.style.top=null}this.isFixed&&G(this.$el),clearTimeout(this.timer)}};const ah=oh;var sh=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-sidebar"},[t.overlay&&t.isOpen?n("div",{staticClass:"sidebar-background"}):t._e(),n("transition",{attrs:{name:t.transitionName},on:{"before-enter":t.beforeEnter,"after-enter":t.afterEnter}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],ref:"sidebarContent",staticClass:"sidebar-content",class:t.rootClasses,on:{mouseenter:t.onHover,mouseleave:t.onHoverLeave}},[t.fullwidth?n("button",{staticClass:"modal-close is-large sidebar-close",attrs:{type:"button","aria-label":"Close"},on:{click:t.clickedCloseButton}}):t._e(),t._t("default")],2)])],1)},uh=[];const ch=void 0,lh=void 0,fh=void 0,hh=!1,dh=pt({render:sh,staticRenderFns:uh},ch,ah,lh,hh,fh,!1,void 0,void 0,void 0);var ph=dh,gh={install:function(t){mt(t,ph)}};gt(gh);var mh={name:"BSliderThumb",components:h({},Hi.name,Hi),inheritAttrs:!1,props:{value:{type:Number,default:0},type:{type:String,default:""},tooltip:{type:Boolean,default:!0},indicator:{type:Boolean,default:!1},customFormatter:Function,format:{type:String,default:"raw",validator:function(t){return["raw","percent"].indexOf(t)>=0}},locale:{type:[String,Array],default:function(){return lt.defaultLocale}},tooltipAlways:{type:Boolean,default:!1}},data:function(){return{isFocused:!1,dragging:!1,startX:0,startPosition:0,newPosition:null,oldValue:this.value}},computed:{disabled:function(){return this.$parent.disabled},max:function(){return this.$parent.max},min:function(){return this.$parent.min},step:function(){return this.$parent.step},precision:function(){return this.$parent.precision},currentPosition:function(){return"".concat((this.value-this.min)/(this.max-this.min)*100,"%")},wrapperStyle:function(){return{left:this.currentPosition}},formattedValue:function(){return"undefined"!==typeof this.customFormatter?this.customFormatter(this.value):"percent"===this.format?new Intl.NumberFormat(this.locale,{style:"percent"}).format((this.value-this.min)/(this.max-this.min)):new Intl.NumberFormat(this.locale).format(this.value)}},methods:{onFocus:function(){this.isFocused=!0},onBlur:function(){this.isFocused=!1},onButtonDown:function(t){this.disabled||(t.preventDefault(),this.onDragStart(t),"undefined"!==typeof window&&(document.addEventListener("mousemove",this.onDragging),document.addEventListener("touchmove",this.onDragging),document.addEventListener("mouseup",this.onDragEnd),document.addEventListener("touchend",this.onDragEnd),document.addEventListener("contextmenu",this.onDragEnd)))},onLeftKeyDown:function(){this.disabled||this.value===this.min||(this.newPosition=parseFloat(this.currentPosition)-this.step/(this.max-this.min)*100,this.setPosition(this.newPosition),this.$parent.emitValue("change"))},onRightKeyDown:function(){this.disabled||this.value===this.max||(this.newPosition=parseFloat(this.currentPosition)+this.step/(this.max-this.min)*100,this.setPosition(this.newPosition),this.$parent.emitValue("change"))},onHomeKeyDown:function(){this.disabled||this.value===this.min||(this.newPosition=0,this.setPosition(this.newPosition),this.$parent.emitValue("change"))},onEndKeyDown:function(){this.disabled||this.value===this.max||(this.newPosition=100,this.setPosition(this.newPosition),this.$parent.emitValue("change"))},onDragStart:function(t){this.dragging=!0,this.$emit("dragstart"),"touchstart"===t.type&&(t.clientX=t.touches[0].clientX),this.startX=t.clientX,this.startPosition=parseFloat(this.currentPosition),this.newPosition=this.startPosition},onDragging:function(t){if(this.dragging){"touchmove"===t.type&&(t.clientX=t.touches[0].clientX);var e=(t.clientX-this.startX)/this.$parent.sliderSize()*100;this.newPosition=this.startPosition+e,this.setPosition(this.newPosition)}},onDragEnd:function(){this.dragging=!1,this.$emit("dragend"),this.value!==this.oldValue&&this.$parent.emitValue("change"),this.setPosition(this.newPosition),"undefined"!==typeof window&&(document.removeEventListener("mousemove",this.onDragging),document.removeEventListener("touchmove",this.onDragging),document.removeEventListener("mouseup",this.onDragEnd),document.removeEventListener("touchend",this.onDragEnd),document.removeEventListener("contextmenu",this.onDragEnd))},setPosition:function(t){if(null!==t&&!isNaN(t)){t<0?t=0:t>100&&(t=100);var e=100/((this.max-this.min)/this.step),n=Math.round(t/e),r=n*e/100*(this.max-this.min)+this.min;r=parseFloat(r.toFixed(this.precision)),this.$emit("input",r),this.dragging||r===this.oldValue||(this.oldValue=r)}}},beforeDestroy:function(){document.removeEventListener("mousemove",this.onDragging),document.removeEventListener("touchmove",this.onDragging),document.removeEventListener("mouseup",this.onDragEnd),document.removeEventListener("touchend",this.onDragEnd),document.removeEventListener("contextmenu",this.onDragEnd)}};const vh=mh;var yh=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-slider-thumb-wrapper",class:{"is-dragging":t.dragging,"has-indicator":t.indicator},style:t.wrapperStyle},[n("b-tooltip",{attrs:{label:t.formattedValue,type:t.type,always:t.dragging||t.isFocused||t.tooltipAlways,active:!t.disabled&&t.tooltip}},[n("div",t._b({staticClass:"b-slider-thumb",attrs:{tabindex:!t.disabled&&0},on:{mousedown:t.onButtonDown,touchstart:t.onButtonDown,focus:t.onFocus,blur:t.onBlur,keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:(e.preventDefault(),t.onLeftKeyDown(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])||"button"in e&&2!==e.button?null:(e.preventDefault(),t.onRightKeyDown(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:(e.preventDefault(),t.onLeftKeyDown(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:(e.preventDefault(),t.onRightKeyDown(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"home",void 0,e.key,void 0)?null:(e.preventDefault(),t.onHomeKeyDown(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"end",void 0,e.key,void 0)?null:(e.preventDefault(),t.onEndKeyDown(e))}]}},"div",t.$attrs,!1),[t.indicator?n("span",[t._v(t._s(t.formattedValue))]):t._e()])])],1)},bh=[];const wh=void 0,xh=void 0,_h=void 0,kh=!1,Ah=pt({render:yh,staticRenderFns:bh},wh,vh,xh,kh,_h,!1,void 0,void 0,void 0);var Sh=Ah,Ch={name:"BSliderTick",props:{value:{type:Number,default:0}},computed:{position:function(){var t=(this.value-this.$parent.min)/(this.$parent.max-this.$parent.min)*100;return t>=0&&t<=100?t:0},hidden:function(){return this.value===this.$parent.min||this.value===this.$parent.max}},methods:{getTickStyle:function(t){return{left:t+"%"}}},created:function(){if(!this.$parent.$data._isSlider)throw this.$destroy(),new Error("You should wrap bSliderTick on a bSlider")}};const Eh=Ch;var Dh=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-slider-tick",class:{"is-tick-hidden":t.hidden},style:t.getTickStyle(t.position)},[t.$slots.default?n("span",{staticClass:"b-slider-tick-label"},[t._t("default")],2):t._e()])},Mh=[];const Th=void 0,Fh=void 0,Oh=void 0,$h=!1,Nh=pt({render:Dh,staticRenderFns:Mh},Th,Eh,Fh,$h,Oh,!1,void 0,void 0,void 0);var Bh=Nh,Rh={name:"BSlider",components:h(h({},Sh.name,Sh),Bh.name,Bh),props:{value:{type:[Number,Array],default:0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},type:{type:String,default:"is-primary"},size:String,ticks:{type:Boolean,default:!1},tooltip:{type:Boolean,default:!0},tooltipType:String,rounded:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},customFormatter:Function,ariaLabel:[String,Array],biggerSliderFocus:{type:Boolean,default:!1},indicator:{type:Boolean,default:!1},format:{type:String,default:"raw",validator:function(t){return["raw","percent"].indexOf(t)>=0}},locale:{type:[String,Array],default:function(){return lt.defaultLocale}},tooltipAlways:{type:Boolean,default:!1}},data:function(){return{value1:null,value2:null,dragging:!1,isRange:!1,_isSlider:!0,timeOutID:null}},computed:{newTooltipType:function(){return this.tooltipType?this.tooltipType:this.type},tickValues:function(){if(!this.ticks||this.min>this.max||0===this.step)return[];for(var t=[],e=this.min+this.step;e<this.max;e+=this.step)t.push(e);return t},minValue:function(){return Math.min(this.value1,this.value2)},maxValue:function(){return Math.max(this.value1,this.value2)},barSize:function(){return this.isRange?"".concat(100*(this.maxValue-this.minValue)/(this.max-this.min),"%"):"".concat(100*(this.value1-this.min)/(this.max-this.min),"%")},barStart:function(){return this.isRange?"".concat(100*(this.minValue-this.min)/(this.max-this.min),"%"):"0%"},precision:function(){var t=[this.min,this.max,this.step].map((function(t){var e=(""+t).split(".")[1];return e?e.length:0}));return Math.max.apply(Math,D(t))},barStyle:function(){return{width:this.barSize,left:this.barStart}},rootClasses:function(){return{"is-rounded":this.rounded,"is-dragging":this.dragging,"is-disabled":this.disabled,"slider-focus":this.biggerSliderFocus}}},watch:{value:function(t){this.setValues(t)},value1:function(){this.onInternalValueUpdate()},value2:function(){this.onInternalValueUpdate()},min:function(){this.setValues(this.value)},max:function(){this.setValues(this.value)}},methods:{setValues:function(t){if(!(this.min>this.max))if(Array.isArray(t)){this.isRange=!0;var e="number"!==typeof t[0]||isNaN(t[0])?this.min:z(t[0],this.min,this.max),n="number"!==typeof t[1]||isNaN(t[1])?this.max:z(t[1],this.min,this.max);this.value1=this.isThumbReversed?n:e,this.value2=this.isThumbReversed?e:n}else this.isRange=!1,this.value1=isNaN(t)?this.min:z(t,this.min,this.max),this.value2=null},onInternalValueUpdate:function(){this.isRange&&(this.isThumbReversed=this.value1>this.value2),this.lazy&&this.dragging||this.emitValue("input"),this.dragging&&this.emitValue("dragging")},sliderSize:function(){return this.$refs.slider.getBoundingClientRect().width},onSliderClick:function(t){if(!this.disabled&&!this.isTrackClickDisabled){var e=this.$refs.slider.getBoundingClientRect().left,n=(t.clientX-e)/this.sliderSize()*100,r=this.min+n*(this.max-this.min)/100,i=Math.abs(r-this.value1);if(this.isRange){var o=Math.abs(r-this.value2);if(i<=o){if(i<this.step/2)return;this.$refs["button1"].setPosition(n)}else{if(o<this.step/2)return;this.$refs["button2"].setPosition(n)}}else{if(i<this.step/2)return;this.$refs.button1.setPosition(n)}this.emitValue("change")}},onDragStart:function(){this.dragging=!0,this.$emit("dragstart")},onDragEnd:function(){var t=this;this.isTrackClickDisabled=!0,this.timeOutID=setTimeout((function(){t.isTrackClickDisabled=!1}),0),this.dragging=!1,this.$emit("dragend"),this.lazy&&this.emitValue("input")},emitValue:function(t){this.$emit(t,this.isRange?[this.minValue,this.maxValue]:this.value1)}},created:function(){this.isThumbReversed=!1,this.isTrackClickDisabled=!1,this.setValues(this.value)},beforeDestroy:function(){clearTimeout(this.timeOutID)}};const Ph=Rh;var Ih=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-slider",class:[t.size,t.type,t.rootClasses],on:{click:t.onSliderClick}},[n("div",{ref:"slider",staticClass:"b-slider-track"},[n("div",{staticClass:"b-slider-fill",style:t.barStyle}),t.ticks?t._l(t.tickValues,(function(t,e){return n("b-slider-tick",{key:e,attrs:{value:t}})})):t._e(),t._t("default"),n("b-slider-thumb",{ref:"button1",attrs:{"tooltip-always":t.tooltipAlways,type:t.newTooltipType,tooltip:t.tooltip,"custom-formatter":t.customFormatter,indicator:t.indicator,format:t.format,locale:t.locale,role:"slider","aria-valuenow":t.value1,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-orientation":"horizontal","aria-label":Array.isArray(t.ariaLabel)?t.ariaLabel[0]:t.ariaLabel,"aria-disabled":t.disabled},on:{dragstart:t.onDragStart,dragend:t.onDragEnd},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}}),t.isRange?n("b-slider-thumb",{ref:"button2",attrs:{"tooltip-always":t.tooltipAlways,type:t.newTooltipType,tooltip:t.tooltip,"custom-formatter":t.customFormatter,indicator:t.indicator,format:t.format,locale:t.locale,role:"slider","aria-valuenow":t.value2,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-orientation":"horizontal","aria-label":Array.isArray(t.ariaLabel)?t.ariaLabel[1]:"","aria-disabled":t.disabled},on:{dragstart:t.onDragStart,dragend:t.onDragEnd},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}}):t._e()],2)])},jh=[];const Lh=void 0,zh=void 0,Uh=void 0,qh=!1,Vh=pt({render:Ih,staticRenderFns:jh},Lh,Ph,zh,qh,Uh,!1,void 0,void 0,void 0);var Hh=Vh,Wh={install:function(t){mt(t,Hh),mt(t,Bh)}};gt(Wh);var Yh={name:"BSnackbar",mixins:[zu],props:{actionText:{type:String,default:"OK"},onAction:{type:Function,default:function(){}},cancelText:{type:null|String,default:null}},data:function(){return{newDuration:this.duration||lt.defaultSnackbarDuration}},methods:{action:function(){this.onAction(),this.close()}}};const Gh=Yh;var Kh=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{"enter-active-class":t.transition.enter,"leave-active-class":t.transition.leave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"snackbar",class:[t.type,t.position],attrs:{role:t.actionText?"alertdialog":"alert"},on:{mouseenter:t.pause,mouseleave:t.removePause}},[t.$slots.default?[t._t("default")]:[n("div",{staticClass:"text",domProps:{innerHTML:t._s(t.message)}})],t.cancelText?n("div",{staticClass:"action is-light is-cancel",on:{click:t.close}},[n("button",{staticClass:"button"},[t._v(t._s(t.cancelText))])]):t._e(),t.actionText?n("div",{staticClass:"action",class:t.type,on:{click:t.action}},[n("button",{staticClass:"button"},[t._v(t._s(t.actionText))])]):t._e()],2)])},Xh=[];const Jh=void 0,Zh=void 0,Qh=void 0,td=!1,ed=pt({render:Kh,staticRenderFns:Xh},Jh,Gh,Zh,td,Qh,!1,void 0,void 0,void 0);var nd,rd=ed,id={open:function(t){var e;"string"===typeof t&&(t={message:t});var n,r={type:"is-success",position:lt.defaultSnackbarPosition||"is-bottom-right",queue:!0};t.parent&&(e=t.parent,delete t.parent),Array.isArray(t.message)&&(n=t.message,delete t.message);var i=W(r,t),o="undefined"!==typeof window&&window.Vue?window.Vue:nd||at,a=o.extend(rd),s=new a({parent:e,el:document.createElement("div"),propsData:i});return n&&(s.$slots.default=n,s.$forceUpdate()),s}},od={install:function(t){nd=t,vt(t,"snackbar",id)}};gt(od);var ad={name:"BSlotComponent",props:{component:{type:Object,required:!0},name:{type:String,default:"default"},scoped:{type:Boolean},props:{type:Object},tag:{type:String,default:"div"},event:{type:String,default:"hook:updated"}},methods:{refresh:function(){this.$forceUpdate()}},created:function(){X(this.component)&&this.component.$on(this.event,this.refresh)},beforeDestroy:function(){X(this.component)&&this.component.$off(this.event,this.refresh)},render:function(t){if(X(this.component))return t(this.tag,{},this.scoped?this.component.$scopedSlots[this.name](this.props):this.component.$slots[this.name])}},sd=function(t){return{mixins:[Ne(t,$e)],components:h(h({},Ft.name,Ft),ad.name,ad),props:{value:{type:[String,Number],default:void 0},size:String,animated:{type:Boolean,default:!0},animation:String,animateInitially:Boolean,vertical:{type:Boolean,default:!1},position:String,destroyOnHide:{type:Boolean,default:!1}},data:function(){return{activeId:this.value,defaultSlots:[],contentHeight:0,isTransitioning:!1}},mounted:function(){if("number"===typeof this.value){var t=z(this.value,0,this.items.length-1);this.activeId=this.items[t].value}else this.activeId=this.value},computed:{activeItem:function(){var t=this;return void 0===this.activeId?this.items[0]:null===this.activeId?null:this.childItems.find((function(e){return e.value===t.activeId}))},items:function(){return this.sortedItems}},watch:{value:function(t){"number"===typeof t?(t=z(t,0,this.items.length-1),this.activeId=this.items[t].value):this.activeId=t},activeId:function(t,e){var n=void 0!==e&&null!==e?this.childItems.find((function(t){return t.value===e})):null;n&&this.activeItem&&(n.deactivate(this.activeItem.index),this.activeItem.activate(n.index)),t=this.activeItem?"number"===typeof this.value?this.items.indexOf(this.activeItem):this.activeItem.value:void 0,t!==this.value&&this.$emit("input",t)}},methods:{childClick:function(t){this.activeId=t.value},getNextItemIdx:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=null,r=t+1;r<this.items.length;r++){var i=this.items[r];if(i.visible&&(!e||e&&!i.disabled)){n=r;break}}return n},getPrevItemIdx:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=null,r=t-1;r>=0;r--){var i=this.items[r];if(i.visible&&(!e||e&&!i.disabled)){n=r;break}}return n}}}},ud=function(t){return{mixins:[Ie(t,Pe)],props:{label:String,icon:String,iconPack:String,visible:{type:Boolean,default:!0},value:{type:String,default:function(){return this._uid.toString()}},headerClass:{type:[String,Array,Object],default:null}},data:function(){return{transitionName:null,elementClass:"item",elementRole:null}},computed:{isActive:function(){return this.parent.activeItem===this}},methods:{activate:function(t){this.transitionName=this.index<t?this.parent.vertical?"slide-down":"slide-next":this.parent.vertical?"slide-up":"slide-prev"},deactivate:function(t){this.transitionName=t<this.index?this.parent.vertical?"slide-down":"slide-next":this.parent.vertical?"slide-up":"slide-prev"}},render:function(t){var e=this;if(!this.parent.destroyOnHide||this.isActive&&this.visible){var n=t("div",{directives:[{name:"show",value:this.isActive&&this.visible}],staticClass:this.elementClass,attrs:{role:this.elementRole,id:"".concat(this.value,"-content"),"aria-labelledby":this.elementRole?"".concat(this.value,"-label"):null,tabindex:this.isActive?0:-1}},this.$slots.default);return this.parent.animated?t("transition",{props:{name:this.parent.animation||this.transitionName,appear:!0===this.parent.animateInitially||void 0},on:{"before-enter":function(){e.parent.isTransitioning=!0},"after-enter":function(){e.parent.isTransitioning=!1}}},[n]):n}}}},cd={name:"BSteps",components:h({},Ft.name,Ft),mixins:[sd("step")],props:{type:[String,Object],iconPack:String,iconPrev:{type:String,default:function(){return lt.defaultIconPrev}},iconNext:{type:String,default:function(){return lt.defaultIconNext}},hasNavigation:{type:Boolean,default:!0},labelPosition:{type:String,validator:function(t){return["bottom","right","left"].indexOf(t)>-1},default:"bottom"},rounded:{type:Boolean,default:!0},mobileMode:{type:String,validator:function(t){return["minimalist","compact"].indexOf(t)>-1},default:"minimalist"},ariaNextLabel:String,ariaPreviousLabel:String},computed:{activeItem:function(){var t=this;return this.childItems.filter((function(e){return e.value===t.activeId}))[0]||this.items[0]},wrapperClasses:function(){return[this.size,h({"is-vertical":this.vertical},this.position,this.position&&this.vertical)]},mainClasses:function(){return[this.type,h({"has-label-right":"right"===this.labelPosition,"has-label-left":"left"===this.labelPosition,"is-animated":this.animated,"is-rounded":this.rounded},"mobile-".concat(this.mobileMode),null!==this.mobileMode)]},hasPrev:function(){return null!==this.prevItemIdx},nextItemIdx:function(){var t=this.activeItem?this.items.indexOf(this.activeItem):0;return this.getNextItemIdx(t)},nextItem:function(){var t=null;return null!==this.nextItemIdx&&(t=this.items[this.nextItemIdx]),t},prevItemIdx:function(){if(!this.activeItem)return null;var t=this.items.indexOf(this.activeItem);return this.getPrevItemIdx(t)},prevItem:function(){if(!this.activeItem)return null;var t=null;return null!==this.prevItemIdx&&(t=this.items[this.prevItemIdx]),t},hasNext:function(){return null!==this.nextItemIdx},navigationProps:function(){return{previous:{disabled:!this.hasPrev,action:this.prev},next:{disabled:!this.hasNext,action:this.next}}}},methods:{isItemClickable:function(t){return void 0===t.clickable?t.index<this.activeItem.index:t.clickable},prev:function(){this.hasPrev&&(this.activeId=this.prevItem.value)},next:function(){this.hasNext&&(this.activeId=this.nextItem.value)}}};const ld=cd;var fd=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-steps",class:t.wrapperClasses},[n("nav",{staticClass:"steps",class:t.mainClasses},[n("ul",{staticClass:"step-items"},t._l(t.items,(function(e){return n("li",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"childItem.visible"}],key:e.value,staticClass:"step-item",class:[e.type||t.type,e.headerClass,{"is-active":e.isActive,"is-previous":t.activeItem.index>e.index}]},[n("a",{staticClass:"step-link",class:{"is-clickable":t.isItemClickable(e)},on:{click:function(n){t.isItemClickable(e)&&t.childClick(e)}}},[n("div",{staticClass:"step-marker"},[e.icon?n("b-icon",{attrs:{icon:e.icon,pack:e.iconPack,size:t.size}}):e.step?n("span",[t._v(t._s(e.step))]):t._e()],1),n("div",{staticClass:"step-details"},[n("span",{staticClass:"step-title"},[t._v(t._s(e.label))])])])])})),0)]),n("section",{staticClass:"step-content",class:{"is-transitioning":t.isTransitioning}},[t._t("default")],2),t._t("navigation",[t.hasNavigation?n("nav",{staticClass:"step-navigation"},[n("a",{staticClass:"pagination-previous",attrs:{role:"button",disabled:t.navigationProps.previous.disabled,"aria-label":t.ariaPreviousLabel},on:{click:function(e){return e.preventDefault(),t.navigationProps.previous.action(e)}}},[n("b-icon",{attrs:{icon:t.iconPrev,pack:t.iconPack,both:"","aria-hidden":"true"}})],1),n("a",{staticClass:"pagination-next",attrs:{role:"button",disabled:t.navigationProps.next.disabled,"aria-label":t.ariaNextLabel},on:{click:function(e){return e.preventDefault(),t.navigationProps.next.action(e)}}},[n("b-icon",{attrs:{icon:t.iconNext,pack:t.iconPack,both:"","aria-hidden":"true"}})],1)]):t._e()],{previous:t.navigationProps.previous,next:t.navigationProps.next})],2)},hd=[];const dd=void 0,pd=void 0,gd=void 0,md=!1,vd=pt({render:fd,staticRenderFns:hd},dd,ld,pd,md,gd,!1,void 0,void 0,void 0);var yd=vd,bd={name:"BStepItem",mixins:[ud("step")],props:{step:[String,Number],type:[String,Object],clickable:{type:Boolean,default:void 0}},data:function(){return{elementClass:"step-item"}}};const wd=bd,xd=void 0,_d=void 0,kd=void 0,Ad=void 0,Sd=pt({},xd,wd,_d,Ad,kd,!1,void 0,void 0,void 0);var Cd=Sd,Ed={install:function(t){mt(t,yd),mt(t,Cd)}};gt(Ed);var Dd={name:"BSwitch",props:{value:[String,Number,Boolean,Function,Object,Array,Date],nativeValue:[String,Number,Boolean,Function,Object,Array,Date],disabled:Boolean,type:String,passiveType:String,name:String,required:Boolean,size:String,ariaLabelledby:String,trueValue:{type:[String,Number,Boolean,Function,Object,Array,Date],default:!0},falseValue:{type:[String,Number,Boolean,Function,Object,Array,Date],default:!1},rounded:{type:Boolean,default:function(){return lt.defaultSwitchRounded}},outlined:{type:Boolean,default:!1},leftLabel:{type:Boolean,default:!1}},data:function(){return{newValue:this.value,isMouseDown:!1}},computed:{computedValue:{get:function(){return this.newValue},set:function(t){this.newValue=t,this.$emit("input",t)}},newClass:function(){return[this.size,{"is-disabled":this.disabled,"is-rounded":this.rounded,"is-outlined":this.outlined,"has-left-label":this.leftLabel}]},checkClasses:function(){return[{"is-elastic":this.isMouseDown&&!this.disabled},this.passiveType&&"".concat(this.passiveType,"-passive"),this.type]},showControlLabel:function(){return!!this.$slots.default}},watch:{value:function(t){this.newValue=t}},methods:{focus:function(){this.$refs.input.focus()}}};const Md=Dd;var Td=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{ref:"label",staticClass:"switch",class:t.newClass,attrs:{disabled:t.disabled},on:{click:t.focus,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.$refs.label.click())},mousedown:function(e){t.isMouseDown=!0},mouseup:function(e){t.isMouseDown=!1},mouseout:function(e){t.isMouseDown=!1},blur:function(e){t.isMouseDown=!1}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.computedValue,expression:"computedValue"}],ref:"input",attrs:{type:"checkbox",disabled:t.disabled,name:t.name,required:t.required,"true-value":t.trueValue,"false-value":t.falseValue,"aria-labelledby":t.ariaLabelledby},domProps:{value:t.nativeValue,checked:Array.isArray(t.computedValue)?t._i(t.computedValue,t.nativeValue)>-1:t._q(t.computedValue,t.trueValue)},on:{click:function(t){t.stopPropagation()},change:function(e){var n=t.computedValue,r=e.target,i=r.checked?t.trueValue:t.falseValue;if(Array.isArray(n)){var o=t.nativeValue,a=t._i(n,o);r.checked?a<0&&(t.computedValue=n.concat([o])):a>-1&&(t.computedValue=n.slice(0,a).concat(n.slice(a+1)))}else t.computedValue=i}}}),n("span",{staticClass:"check",class:t.checkClasses}),t.showControlLabel?n("span",{staticClass:"control-label",attrs:{id:t.ariaLabelledby}},[t._t("default")],2):t._e()])},Fd=[];const Od=void 0,$d=void 0,Nd=void 0,Bd=!1,Rd=pt({render:Td,staticRenderFns:Fd},Od,Md,$d,Bd,Nd,!1,void 0,void 0,void 0);var Pd=Rd,Id={install:function(t){mt(t,Pd)}};gt(Id);var jd={name:"BTableMobileSort",components:h(h({},Bi.name,Bi),Ft.name,Ft),props:{currentSortColumn:Object,sortMultipleData:Array,isAsc:Boolean,columns:Array,placeholder:String,iconPack:String,sortIcon:{type:String,default:"arrow-up"},sortIconSize:{type:String,default:"is-small"},sortMultiple:{type:Boolean,default:!1}},data:function(){return{sortMultipleSelect:"",mobileSort:this.currentSortColumn,defaultEvent:{shiftKey:!0,altKey:!0,ctrlKey:!0},ignoreSort:!1}},computed:{showPlaceholder:function(){var t=this;return!this.columns||!this.columns.some((function(e){return e===t.mobileSort}))}},watch:{sortMultipleSelect:function(t){this.ignoreSort?this.ignoreSort=!1:this.$emit("sort",t,this.defaultEvent)},mobileSort:function(t){this.currentSortColumn!==t&&this.$emit("sort",t,this.defaultEvent)},currentSortColumn:function(t){this.mobileSort=t}},methods:{removePriority:function(){var t=this;this.$emit("removePriority",this.sortMultipleSelect),this.ignoreSort=!0;var e=this.sortMultipleData.filter((function(e){return e.field!==t.sortMultipleSelect.field})).map((function(t){return t.field}));this.sortMultipleSelect=this.columns.filter((function(t){return e.includes(t.field)}))[0]},getSortingObjectOfColumn:function(t){return this.sortMultipleData.filter((function(e){return e.field===t.field}))[0]},columnIsDesc:function(t){var e=this.getSortingObjectOfColumn(t);return!e||!(!e.order||"desc"!==e.order)},getLabel:function(t){var e=this.getSortingObjectOfColumn(t);return e?t.label+"("+(this.sortMultipleData.indexOf(e)+1)+")":t.label},sort:function(){this.$emit("sort",this.sortMultiple?this.sortMultipleSelect:this.mobileSort,this.defaultEvent)}}};const Ld=jd;var zd=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"field table-mobile-sort"},[n("div",{staticClass:"field has-addons"},[t.sortMultiple?n("b-select",{attrs:{expanded:""},model:{value:t.sortMultipleSelect,callback:function(e){t.sortMultipleSelect=e},expression:"sortMultipleSelect"}},t._l(t.columns,(function(e,r){return e.sortable?n("option",{key:r,domProps:{value:e}},[t._v(" "+t._s(t.getLabel(e))+" "),t.getSortingObjectOfColumn(e)?[t.columnIsDesc(e)?[t._v("  ")]:[t._v("  ")]]:t._e()],2):t._e()})),0):n("b-select",{attrs:{expanded:""},model:{value:t.mobileSort,callback:function(e){t.mobileSort=e},expression:"mobileSort"}},[t.placeholder?[n("option",{directives:[{name:"show",rawName:"v-show",value:t.showPlaceholder,expression:"showPlaceholder"}],attrs:{selected:"",disabled:"",hidden:""},domProps:{value:{}}},[t._v(" "+t._s(t.placeholder)+" ")])]:t._e(),t._l(t.columns,(function(e,r){return e.sortable?n("option",{key:r,domProps:{value:e}},[t._v(" "+t._s(e.label)+" ")]):t._e()}))],2),n("div",{staticClass:"control"},[t.sortMultiple&&t.sortMultipleData.length>0?[n("button",{staticClass:"button is-primary",on:{click:t.sort}},[n("b-icon",{class:{"is-desc":t.columnIsDesc(t.sortMultipleSelect)},attrs:{icon:t.sortIcon,pack:t.iconPack,size:t.sortIconSize,both:""}})],1),n("button",{staticClass:"button is-primary",on:{click:t.removePriority}},[n("b-icon",{attrs:{icon:"delete",size:t.sortIconSize,both:""}})],1)]:t.sortMultiple?t._e():n("button",{staticClass:"button is-primary",on:{click:t.sort}},[n("b-icon",{directives:[{name:"show",rawName:"v-show",value:t.currentSortColumn===t.mobileSort,expression:"currentSortColumn === mobileSort"}],class:{"is-desc":!t.isAsc},attrs:{icon:t.sortIcon,pack:t.iconPack,size:t.sortIconSize,both:""}})],1)],2)],1)])},Ud=[];const qd=void 0,Vd=void 0,Hd=void 0,Wd=!1,Yd=pt({render:zd,staticRenderFns:Ud},qd,Ld,Vd,Wd,Hd,!1,void 0,void 0,void 0);var Gd=Yd,Kd={name:"BTableColumn",inject:{$table:{name:"$table",default:!1}},props:{label:String,customKey:[String,Number],field:String,meta:[String,Number,Boolean,Function,Object,Array],width:[Number,String],numeric:Boolean,centered:Boolean,searchable:Boolean,sortable:Boolean,visible:{type:Boolean,default:!0},subheading:[String,Number],customSort:Function,customSearch:Function,sticky:Boolean,headerSelectable:Boolean,headerClass:String,cellClass:String,thAttrs:{type:Function,default:function(){return{}}},tdAttrs:{type:Function,default:function(){return{}}}},data:function(){return{newKey:this.customKey||this.label,_isTableColumn:!0}},computed:{thClasses:function(){var t=this.thAttrs(this),e=[this.headerClass,{"is-sortable":this.sortable,"is-sticky":this.sticky,"is-unselectable":this.isHeaderUnSelectable}];return t&&t.class&&e.push(t.class),e},thStyle:function(){var t=this.thAttrs(this),e=[this.style];return t&&t.style&&e.push(t.style),e},thWrapStyle:function(){var t=tt(this.width);return null==t||t.trim().endsWith("%")?{}:{width:t}},rootClasses:function(){return[this.cellClass,{"has-text-right":this.numeric&&!this.centered,"has-text-centered":this.centered,"is-sticky":this.sticky}]},style:function(){return{width:tt(this.width)}},hasDefaultSlot:function(){return!!this.$scopedSlots.default},isHeaderUnSelectable:function(){return!this.headerSelectable&&this.sortable}},methods:{getRootClasses:function(t){var e=this.tdAttrs(t,this),n=[this.rootClasses];return e&&e.class&&n.push(e.class),n},getRootStyle:function(t){var e=this.tdAttrs(t,this),n=[];return e&&e.style&&n.push(e.style),n}},created:function(){if(!this.$table)throw this.$destroy(),new Error("You should wrap bTableColumn on a bTable");this.$table.refreshSlots()},beforeDestroy:function(){this.$table.refreshSlots()},render:function(t){return null}};const Xd=Kd,Jd=void 0,Zd=void 0,Qd=void 0,tp=void 0,ep=pt({},Jd,Xd,Zd,tp,Qd,!1,void 0,void 0,void 0);var np=ep,rp={name:"BTablePagination",components:h({},Yl.name,Yl),props:{paginated:Boolean,total:[Number,String],perPage:[Number,String],currentPage:[Number,String],paginationSimple:Boolean,paginationSize:String,rounded:Boolean,iconPack:String,ariaNextLabel:String,ariaPreviousLabel:String,ariaPageLabel:String,ariaCurrentLabel:String,pageInput:Boolean,paginationOrder:String,pageInputPosition:String,debouncePageInput:[Number,String]},data:function(){return{newCurrentPage:this.currentPage}},watch:{currentPage:function(t){this.newCurrentPage=t}},methods:{pageChanged:function(t){this.newCurrentPage=t>0?t:1,this.$emit("update:currentPage",this.newCurrentPage),this.$emit("page-change",this.newCurrentPage)}}};const ip=rp;var op=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"top level"},[n("div",{staticClass:"level-left"},[t._t("default")],2),n("div",{staticClass:"level-right"},[t.paginated?n("div",{staticClass:"level-item"},[n("b-pagination",{attrs:{"icon-pack":t.iconPack,total:t.total,"per-page":t.perPage,simple:t.paginationSimple,size:t.paginationSize,current:t.newCurrentPage,rounded:t.rounded,"aria-next-label":t.ariaNextLabel,"aria-previous-label":t.ariaPreviousLabel,"aria-page-label":t.ariaPageLabel,"aria-current-label":t.ariaCurrentLabel,"page-input":t.pageInput,order:t.paginationOrder,"page-input-position":t.pageInputPosition,"debounce-page-input":t.debouncePageInput},on:{change:t.pageChanged}})],1):t._e()])])},ap=[];const sp=void 0,up=void 0,cp=void 0,lp=!1,fp=pt({render:op,staticRenderFns:ap},sp,ip,up,lp,cp,!1,void 0,void 0,void 0);var hp=fp,dp={name:"BTable",components:h(h(h(h(h(h(h(h({},Pn.name,Pn),Ft.name,Ft),zt.name,zt),Gs.name,Gs),ad.name,ad),Gd.name,Gd),np.name,np),hp.name,hp),inheritAttrs:!1,provide:function(){return{$table:this}},props:{data:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},bordered:Boolean,striped:Boolean,narrowed:Boolean,hoverable:Boolean,loading:Boolean,detailed:Boolean,checkable:Boolean,headerCheckable:{type:Boolean,default:!0},checkboxType:{type:String,default:"is-primary"},checkboxPosition:{type:String,default:"left",validator:function(t){return["left","right"].indexOf(t)>=0}},stickyCheckbox:{type:Boolean,default:!1},selected:Object,isRowSelectable:{type:Function,default:function(){return!0}},focusable:Boolean,customIsChecked:Function,isRowCheckable:{type:Function,default:function(){return!0}},checkedRows:{type:Array,default:function(){return[]}},mobileCards:{type:Boolean,default:!0},defaultSort:[String,Array],defaultSortDirection:{type:String,default:"asc"},sortIcon:{type:String,default:"arrow-up"},sortIconSize:{type:String,default:"is-small"},sortMultiple:{type:Boolean,default:!1},sortMultipleData:{type:Array,default:function(){return[]}},sortMultipleKey:{type:String,default:null},paginated:Boolean,currentPage:{type:Number,default:1},perPage:{type:[Number,String],default:20},showDetailIcon:{type:Boolean,default:!0},detailIcon:{type:String,default:"chevron-right"},paginationPosition:{type:String,default:"bottom",validator:function(t){return["bottom","top","both"].indexOf(t)>=0}},paginationRounded:Boolean,backendSorting:Boolean,backendFiltering:Boolean,rowClass:{type:Function,default:function(){return""}},openedDetailed:{type:Array,default:function(){return[]}},hasDetailedVisible:{type:Function,default:function(){return!0}},detailKey:{type:String,default:""},detailTransition:{type:String,default:""},customDetailRow:{type:Boolean,default:!1},backendPagination:Boolean,total:{type:[Number,String],default:0},iconPack:String,mobileSortPlaceholder:String,customRowKey:String,draggable:{type:Boolean,default:!1},draggableColumn:{type:Boolean,default:!1},scrollable:Boolean,ariaNextLabel:String,ariaPreviousLabel:String,ariaPageLabel:String,ariaCurrentLabel:String,stickyHeader:Boolean,height:[Number,String],filtersEvent:{type:String,default:""},cardLayout:Boolean,showHeader:{type:Boolean,default:!0},debounceSearch:Number,caption:String,showCaption:{type:Boolean,default:!0},pageInput:{type:Boolean,default:!1},paginationOrder:String,pageInputPosition:String,debouncePageInput:[Number,String]},data:function(){return{sortMultipleDataLocal:[],getValueByPath:U,visibleDetailRows:this.openedDetailed,newData:this.data,newDataTotal:this.backendPagination?this.total:this.data.length,newCheckedRows:D(this.checkedRows),lastCheckedRowIndex:null,newCurrentPage:this.currentPage,currentSortColumn:{},isAsc:!0,filters:{},defaultSlots:[],firstTimeSort:!0,_isTable:!0,isDraggingRow:!1,isDraggingColumn:!1,_selectedRow:null,mayBeTouchDragging:!1,touchDragoverTarget:null,_draggedCellEl:void 0,draggedCellContent:""}},computed:{sortMultipleDataComputed:function(){return this.backendSorting?this.sortMultipleData:this.sortMultipleDataLocal},tableClasses:function(){return{"is-bordered":this.bordered,"is-striped":this.striped,"is-narrow":this.narrowed,"is-hoverable":(this.hoverable||this.focusable)&&this.visibleData.length}},tableWrapperClasses:function(){return{"has-mobile-cards":this.mobileCards,"has-sticky-header":this.stickyHeader,"is-card-list":this.cardLayout,"table-container":this.isScrollable}},tableStyle:function(){return{height:tt(this.height)}},touchDraggedCellClasses:function(){return{"has-mobile-cards":this.mobileCards}},visibleData:function(){if(!this.paginated)return this.newData;var t=this.newCurrentPage,e=this.perPage;if(this.newData.length<=e)return this.newData;var n=(t-1)*e,r=parseInt(n,10)+parseInt(e,10);return this.newData.slice(n,r)},visibleColumns:function(){return this.newColumns?this.newColumns.filter((function(t){return t.visible||void 0===t.visible})):this.newColumns},isAllChecked:function(){var t=this,e=this.visibleData.filter((function(e){return t.isRowCheckable(e)}));if(0===e.length)return!1;var n=e.some((function(e){return q(t.newCheckedRows,e,t.customIsChecked)<0}));return!n},isAllUncheckable:function(){var t=this,e=this.visibleData.filter((function(e){return t.isRowCheckable(e)}));return 0===e.length},hasSortablenewColumns:function(){return this.newColumns.some((function(t){return t.sortable}))},hasSearchablenewColumns:function(){return this.newColumns.some((function(t){return t.searchable}))},hasCustomSubheadings:function(){return!(!this.$scopedSlots||!this.$scopedSlots.subheading)||this.newColumns.some((function(t){return t.subheading||t.$scopedSlots&&t.$scopedSlots.subheading}))},columnCount:function(){var t=this.visibleColumns.length;return t+=this.checkable?1:0,t+=this.detailed&&this.showDetailIcon?1:0,t},showDetailRowIcon:function(){return this.detailed&&this.showDetailIcon},isScrollable:function(){return!!this.scrollable||!!this.newColumns&&this.newColumns.some((function(t){return t.sticky}))},newColumns:function(){var t=this;return this.columns&&this.columns.length?this.columns.map((function(e){var n=at.extend(np),r=new n({parent:t,propsData:e});return r.$scopedSlots={default:function(t){var n=r.$createElement("span",{domProps:{innerHTML:U(t.row,e.field)}});return[n]}},r})):this.defaultSlots.filter((function(t){return t.componentInstance&&t.componentInstance.$data&&t.componentInstance.$data._isTableColumn})).map((function(t){return t.componentInstance}))},canDragRow:function(){return this.draggable&&!this.isDraggingColumn},canDragColumn:function(){return this.draggableColumn&&!this.isDraggingRow}},watch:{data:function(t){var e=this;this.newData=t,this.backendFiltering||(this.newData=t.filter((function(t){return e.isRowFiltered(t)}))),this.backendSorting||this.sort(this.currentSortColumn,!0),this.backendPagination||(this.newDataTotal=this.newData.length)},total:function(t){this.backendPagination&&(this.newDataTotal=t)},currentPage:function(t){this.newCurrentPage=t},newCurrentPage:function(t){this.$emit("update:currentPage",t)},checkedRows:function(t){this.newCheckedRows=D(t)},debounceSearch:{handler:function(t){this.debouncedHandleFiltersChange=Pl(this.handleFiltersChange,t)},immediate:!0},filters:{handler:function(t){this.debounceSearch?this.debouncedHandleFiltersChange(t):this.handleFiltersChange(t)},deep:!0},openedDetailed:function(t){this.visibleDetailRows=t}},methods:{onFiltersEvent:function(t){this.$emit("filters-event-".concat(this.filtersEvent),{event:t,filters:this.filters})},handleFiltersChange:function(t){var e=this;this.backendFiltering?this.$emit("filters-change",t):(this.newData=this.data.filter((function(t){return e.isRowFiltered(t)})),this.backendPagination||(this.newDataTotal=this.newData.length),this.backendSorting||(this.sortMultiple&&this.sortMultipleDataLocal&&this.sortMultipleDataLocal.length>0?this.doSortMultiColumn():Object.keys(this.currentSortColumn).length>0&&this.doSortSingleColumn(this.currentSortColumn)))},findIndexOfSortData:function(t){var e=this.sortMultipleDataComputed.filter((function(e){return e.field===t.field}))[0];return this.sortMultipleDataComputed.indexOf(e)+1},removeSortingPriority:function(t){this.backendSorting?this.$emit("sorting-priority-removed",t.field):(this.sortMultipleDataLocal=this.sortMultipleDataLocal.filter((function(e){return e.field!==t.field})),0===this.sortMultipleDataLocal.length?this.resetMultiSorting():this.newData=Q(this.newData,this.sortMultipleDataLocal))},resetMultiSorting:function(){this.sortMultipleDataLocal=[],this.currentSortColumn={},this.newData=this.data},sortBy:function(t,e,n,r){var i=[];return i=n&&"function"===typeof n?D(t).sort((function(t,e){return n(t,e,r)})):D(t).sort((function(t,n){var i=U(t,e),o=U(n,e);return"boolean"===typeof i&&"boolean"===typeof o?r?i-o:o-i:!ut(o)&&ut(i)?r?1:-1:!ut(i)&&ut(o)?r?-1:1:i===o?0:(i="string"===typeof i?i.toUpperCase():i,o="string"===typeof o?o.toUpperCase():o,r?i>o?1:-1:i>o?-1:1)})),i},sortMultiColumn:function(t){if(this.currentSortColumn={},!this.backendSorting){var e=this.sortMultipleDataLocal.filter((function(e){return e.field===t.field}))[0];e?e.order="desc"===e.order?"asc":"desc":this.sortMultipleDataLocal.push({field:t.field,order:t.isAsc,customSort:t.customSort}),this.doSortMultiColumn()}},doSortMultiColumn:function(){this.newData=Q(this.newData,this.sortMultipleDataLocal)},sort:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t&&t.sortable&&(!this.backendSorting&&this.sortMultiple&&(this.sortMultipleKey&&n[this.sortMultipleKey]||!this.sortMultipleKey)?e?this.doSortMultiColumn():this.sortMultiColumn(t):(this.sortMultiple&&(this.sortMultipleDataLocal=[]),e||(this.isAsc=t===this.currentSortColumn?!this.isAsc:"desc"!==this.defaultSortDirection.toLowerCase()),this.firstTimeSort||this.$emit("sort",t.field,this.isAsc?"asc":"desc",n),this.backendSorting||this.doSortSingleColumn(t),this.currentSortColumn=t))},doSortSingleColumn:function(t){this.newData=this.sortBy(this.newData,t.field,t.customSort,this.isAsc)},isRowSelected:function(t,e){return!!e&&(this.customRowKey?t[this.customRowKey]===e[this.customRowKey]:t===e)},isRowChecked:function(t){return q(this.newCheckedRows,t,this.customIsChecked)>=0},removeCheckedRow:function(t){var e=q(this.newCheckedRows,t,this.customIsChecked);e>=0&&this.newCheckedRows.splice(e,1)},checkAll:function(){var t=this,e=this.isAllChecked;this.visibleData.forEach((function(n){t.isRowCheckable(n)&&t.removeCheckedRow(n),e||t.isRowCheckable(n)&&t.newCheckedRows.push(n)})),this.$emit("check",this.newCheckedRows),this.$emit("check-all",this.newCheckedRows),this.$emit("update:checkedRows",this.newCheckedRows)},checkRow:function(t,e,n){if(this.isRowCheckable(t)){var r=this.lastCheckedRowIndex;this.lastCheckedRowIndex=e,n.shiftKey&&null!==r&&e!==r?this.shiftCheckRow(t,e,r):this.isRowChecked(t)?this.removeCheckedRow(t):this.newCheckedRows.push(t),this.$emit("check",this.newCheckedRows,t),this.$emit("update:checkedRows",this.newCheckedRows)}},shiftCheckRow:function(t,e,n){var r=this,i=this.visibleData.slice(Math.min(e,n),Math.max(e,n)+1),o=!this.isRowChecked(t);i.forEach((function(t){r.removeCheckedRow(t),o&&r.isRowCheckable(t)&&r.newCheckedRows.push(t)}))},selectRow:function(t,e){this.$emit("click",t),this._selectedRow=t,this.selected!==t&&this.isRowSelectable(t)&&(this.$emit("select",t,this.selected),this.$emit("update:selected",t))},toggleDetails:function(t){var e=this.isVisibleDetailRow(t);e?(this.closeDetailRow(t),this.$emit("details-close",t)):(this.openDetailRow(t),this.$emit("details-open",t)),this.$emit("update:openedDetailed",this.visibleDetailRows)},openDetailRow:function(t){var e=this.handleDetailKey(t);this.visibleDetailRows.push(e)},closeDetailRow:function(t){var e=this.handleDetailKey(t),n=this.visibleDetailRows.indexOf(e);n>=0&&this.visibleDetailRows.splice(n,1)},isVisibleDetailRow:function(t){var e=this.handleDetailKey(t);return this.visibleDetailRows.indexOf(e)>=0},isActiveDetailRow:function(t){return this.detailed&&!this.customDetailRow&&this.isVisibleDetailRow(t)},isActiveCustomDetailRow:function(t){return this.detailed&&this.customDetailRow&&this.isVisibleDetailRow(t)},isRowFiltered:function(t){var e,n=this,r=function(e){if(!n.filters[e])return 0;var r=n.filters[e],i=n.newColumns.filter((function(t){return t.field===e}))[0];if(i&&i.customSearch&&"function"===typeof i.customSearch){if(!i.customSearch(t,r))return{v:!1}}else{var o=n.getValueByPath(t,e);if(null==o)return{v:!1};if(Number.isInteger(o)){if(o!==Number(r))return{v:!1}}else{var a=new RegExp(J(r),"i");if(Array.isArray(o)){var s=o.some((function(t){return a.test(Z(t))||a.test(t)}));if(!s)return{v:!1}}else if(!a.test(Z(o))&&!a.test(o))return{v:!1}}}};for(var i in this.filters)if(e=r(i),0!==e&&e)return e.v;return!0},handleDetailKey:function(t){var e=this.detailKey;return e.length&&t?t[e]:t},checkPredefinedDetailedRows:function(){var t=this.openedDetailed.length>0;if(t&&!this.detailKey.length)throw new Error('If you set a predefined opened-detailed, you must provide a unique key using the prop "detail-key"')},checkSort:function(){if(this.newColumns.length&&this.firstTimeSort)this.initSort(),this.firstTimeSort=!1;else if(this.newColumns.length&&Object.keys(this.currentSortColumn).length>0)for(var t=0;t<this.newColumns.length;t++)if(this.newColumns[t].field===this.currentSortColumn.field){this.currentSortColumn=this.newColumns[t];break}},hasCustomFooterSlot:function(){if(this.$slots.footer.length>1)return!0;var t=this.$slots.footer[0].tag;return"th"===t||"td"===t},hasBottomLeftSlot:function(){return"undefined"!==typeof this.$slots["bottom-left"]},pressedArrow:function(t){if(this.visibleData.length){var e=this.visibleData.indexOf(this.selected)+t;e=e<0?0:e>this.visibleData.length-1?this.visibleData.length-1:e;var n=this.visibleData[e];if(this.isRowSelectable(n))this.selectRow(n);else{var r=null;if(t>0)for(var i=e;i<this.visibleData.length&&null===r;i++)this.isRowSelectable(this.visibleData[i])&&(r=i);else for(var o=e;o>=0&&null===r;o--)this.isRowSelectable(this.visibleData[o])&&(r=o);r>=0&&this.selectRow(this.visibleData[r])}}},focus:function(){this.focusable&&this.$el.querySelector("table").focus()},initSort:function(){var t=this;if(this.sortMultiple&&this.sortMultipleData)this.sortMultipleData.forEach((function(e){t.sortMultiColumn(e)}));else{if(!this.defaultSort)return;var e="",n=this.defaultSortDirection;Array.isArray(this.defaultSort)?(e=this.defaultSort[0],this.defaultSort[1]&&(n=this.defaultSort[1])):e=this.defaultSort;var r=this.newColumns.filter((function(t){return t.field===e}))[0];r&&(this.isAsc="desc"!==n.toLowerCase(),this.sort(r,!0))}},handleDragStart:function(t,e,n){this.canDragRow&&(this.isDraggingRow=!0,this.$emit("dragstart",{event:t,row:e,index:n}))},handleDragEnd:function(t,e,n){this.canDragRow&&(this.isDraggingRow=!1,this.$emit("dragend",{event:t,row:e,index:n}))},handleDrop:function(t,e,n){this.canDragRow&&this.$emit("drop",{event:t,row:e,index:n})},handleDragOver:function(t,e,n){this.canDragRow&&this.$emit("dragover",{event:t,row:e,index:n})},handleDragLeave:function(t,e,n){this.canDragRow&&this.$emit("dragleave",{event:t,row:e,index:n})},emitEventForRow:function(t,e,n){return this.$listeners[t]?this.$emit(t,n,e):null},handleColumnDragStart:function(t,e,n){this.canDragColumn&&(this.isDraggingColumn=!0,this.$emit("columndragstart",{event:t,column:e,index:n}))},handleColumnDragEnd:function(t,e,n){this.canDragColumn&&(this.isDraggingColumn=!1,this.$emit("columndragend",{event:t,column:e,index:n}))},handleColumnDrop:function(t,e,n){this.canDragColumn&&this.$emit("columndrop",{event:t,column:e,index:n})},handleColumnDragOver:function(t,e,n){this.canDragColumn&&this.$emit("columndragover",{event:t,column:e,index:n})},handleColumnDragLeave:function(t,e,n){this.canDragColumn&&this.$emit("columndragleave",{event:t,column:e,index:n})},handleTouchStart:function(t,e,n){this.canDragRow&&(this.isDraggingColumn||this._selectedRow===e&&(t.preventDefault(),this.mayBeTouchDragging=!0))},handleTouchMove:function(t,e,n){if(this.canDragRow&&this.mayBeTouchDragging){if(!this.isDraggingRow){var r=t.target.closest("tr");this.draggedCellContent=r?'<table class="table"><tr>'.concat(r.innerHTML,"</tr></table>"):t.target.innerHTML,this.$refs.draggedCell.style.width="".concat(r?r.offsetWidth:t.target.offsetWidth,"px"),t.target.dispatchEvent(ct(t,{type:"dragstart"}))}var i=t.touches[0],o=document.elementFromPoint(i.clientX,i.clientY);null!=o?o!==this.touchDragoverTarget&&(null!=this.touchDragoverTarget&&this.touchDragoverTarget.dispatchEvent(ct(t,{type:"dragleave",target:this.touchDragoverTarget})),this.touchDragoverTarget=o,o.dispatchEvent(ct(t,{type:"dragover",target:o}))):null!=this.touchDragoverTarget&&(this.touchDragoverTarget.dispatchEvent(ct(t,{type:"dragleave",target:this.touchDragoverTarget})),this.touchDragoverTarget=null),this.updateDraggedCell(i)}},handleTouchEnd:function(t,e,n){if(this.canDragRow){if(this.isDraggingRow){var r=t.changedTouches[0],i=document.elementFromPoint(r.clientX,r.clientY);null!=i&&i.dispatchEvent(ct(t,{type:"drop",target:i})),t.target.dispatchEvent(ct(t,{type:"dragend"})),this._selectedRow=null}this.mayBeTouchDragging=!1}},handleColumnTouchStart:function(t,e,n){this.canDragColumn&&(this.isDraggingRow||(t.preventDefault(),this.mayBeTouchDragging=!0))},handleColumnTouchMove:function(t,e,n){if(this.canDragColumn&&this.mayBeTouchDragging){this.isDraggingColumn||(this.draggedCellContent=t.target.innerHTML,this.$refs.draggedCell.style.width="".concat(t.target.offsetWidth,"px"),t.target.dispatchEvent(ct(t,{type:"dragstart"})));var r=t.touches[0],i=document.elementFromPoint(r.clientX,r.clientY);null!=i?i!==this.touchDragoverTarget&&(null!=this.touchDragoverTarget&&this.touchDragoverTarget.dispatchEvent(ct(t,{type:"dragleave",target:this.touchDragoverTarget})),this.touchDragoverTarget=i,i.dispatchEvent(ct(t,{type:"dragover",target:i}))):null!=this.touchDragoverTarget&&(this.touchDragoverTarget.dispatchEvent(ct(t,{type:"dragleave",target:this.touchDragoverTarget})),this.touchDragoverTarget=null),this.updateDraggedCell(r)}},handleColumnTouchEnd:function(t,e,n){if(this.canDragColumn){if(this.isDraggingColumn){var r=t.changedTouches[0],i=document.elementFromPoint(r.clientX,r.clientY);null!=i&&i.dispatchEvent(ct(t,{type:"drop",target:i})),t.target.dispatchEvent(ct(t,{type:"dragend"}))}this.mayBeTouchDragging=!1}},updateDraggedCell:function(t){var e=t.clientX,n=t.clientY,r=this.$refs.draggedCell.getBoundingClientRect(),i=n+window.scrollY-r.height/2,o=e+window.scrollX-r.width/2;this.$refs.draggedCell.style.top="calc(".concat(i,"px)"),this.$refs.draggedCell.style.left="calc(".concat(o,"px)")},refreshSlots:function(){this.defaultSlots=this.$slots.default||[]}},mounted:function(){function t(t){t&&null==this.$data._draggedCellEl&&(this.$data._draggedCellEl=K(this.$refs.draggedCell))}this.refreshSlots(),this.checkPredefinedDetailedRows(),this.checkSort(),this.$watch("draggable",t,{immediate:!0}),this.$watch("draggableColumn",t,{immediate:!0})},beforeDestroy:function(){this.$data._draggedCellEl&&G(this.$data._draggedCellEl)}};const pp=dp;var gp=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-table"},[t._t("default"),t.mobileCards&&t.hasSortablenewColumns?n("b-table-mobile-sort",{attrs:{"current-sort-column":t.currentSortColumn,"sort-multiple":t.sortMultiple,"sort-multiple-data":t.sortMultipleDataComputed,"is-asc":t.isAsc,columns:t.newColumns,placeholder:t.mobileSortPlaceholder,"icon-pack":t.iconPack,"sort-icon":t.sortIcon,"sort-icon-size":t.sortIconSize},on:{sort:function(e,n){return t.sort(e,null,n)},removePriority:function(e){return t.removeSortingPriority(e)}}}):t._e(),!t.paginated||"top"!==t.paginationPosition&&"both"!==t.paginationPosition?t._e():[t._t("pagination",[n("b-table-pagination",t._b({attrs:{"per-page":t.perPage,paginated:t.paginated,rounded:t.paginationRounded,"icon-pack":t.iconPack,total:t.newDataTotal,"current-page":t.newCurrentPage,"aria-next-label":t.ariaNextLabel,"aria-previous-label":t.ariaPreviousLabel,"aria-page-label":t.ariaPageLabel,"aria-current-label":t.ariaCurrentLabel,"page-input":t.pageInput,"pagination-order":t.paginationOrder,"page-input-position":t.pageInputPosition,"debounce-page-input":t.debouncePageInput},on:{"update:currentPage":function(e){t.newCurrentPage=e},"update:current-page":function(e){t.newCurrentPage=e},"page-change":function(e){return t.$emit("page-change",e)}}},"b-table-pagination",t.$attrs,!1),[t._t("top-left")],2)])],n("div",{staticClass:"table-wrapper",class:t.tableWrapperClasses,style:t.tableStyle},[n("table",{staticClass:"table",class:t.tableClasses,attrs:{tabindex:!!t.focusable&&0},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])||e.target!==e.currentTarget?null:(e.preventDefault(),t.pressedArrow(-1))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])||e.target!==e.currentTarget?null:(e.preventDefault(),t.pressedArrow(1))}]}},[t.caption?n("caption",{directives:[{name:"show",rawName:"v-show",value:t.showCaption,expression:"showCaption"}]},[t._v(t._s(t.caption))]):t._e(),t.newColumns.length&&t.showHeader?n("thead",[n("tr",[t.showDetailRowIcon?n("th",{attrs:{width:"40px"}}):t._e(),t.checkable&&"left"===t.checkboxPosition?n("th",{class:["checkbox-cell",{"is-sticky":t.stickyCheckbox}]},[t.headerCheckable?[t._t("check-all",[n("b-checkbox",{attrs:{autocomplete:"off",value:t.isAllChecked,type:t.checkboxType,disabled:t.isAllUncheckable},nativeOn:{change:function(e){return t.checkAll(e)}}})],{isAllChecked:t.isAllChecked,isAllUncheckable:t.isAllUncheckable,checkAll:t.checkAll})]:t._e()],2):t._e(),t._l(t.visibleColumns,(function(e,r){return n("th",t._b({key:e.newKey+":"+r+"header",class:[e.thClasses,{"is-current-sort":!t.sortMultiple&&t.currentSortColumn===e}],style:e.thStyle,attrs:{draggable:t.canDragColumn},on:{click:function(n){return n.stopPropagation(),t.sort(e,null,n)},dragstart:function(n){return t.handleColumnDragStart(n,e,r)},dragend:function(n){return t.handleColumnDragEnd(n,e,r)},drop:function(n){return t.handleColumnDrop(n,e,r)},dragover:function(n){return t.handleColumnDragOver(n,e,r)},dragleave:function(n){return t.handleColumnDragLeave(n,e,r)},touchstart:function(n){return t.handleColumnTouchStart(n,e,r)},touchmove:function(n){return t.handleColumnTouchMove(n,e,r)},touchend:function(n){return t.handleColumnTouchEnd(n,e,r)}}},"th",e.thAttrs(e),!1),[n("div",{staticClass:"th-wrap is-relative",class:{"is-numeric":e.numeric,"is-centered":e.centered},style:e.thWrapStyle},[e.$scopedSlots&&e.$scopedSlots.header?[n("b-slot-component",{attrs:{component:e,scoped:"",name:"header",tag:"span",props:{column:e,index:r}}})]:[t._v(" "+t._s(e.label)+" "),t.sortMultiple&&t.sortMultipleDataComputed&&t.sortMultipleDataComputed.length>0&&t.sortMultipleDataComputed.filter((function(t){return t.field===e.field})).length>0?[n("span",{staticClass:"multi-sort-icons"},[n("b-icon",{class:{"is-desc":"desc"===t.sortMultipleDataComputed.filter((function(t){return t.field===e.field}))[0].order},attrs:{icon:t.sortIcon,pack:t.iconPack,both:"",size:t.sortIconSize}}),t._v(" "+t._s(t.findIndexOfSortData(e))+" "),n("button",{staticClass:"delete is-small multi-sort-cancel-icon",attrs:{type:"button"},on:{click:function(n){return n.stopPropagation(),t.removeSortingPriority(e)}}})],1)]:n("b-icon",{staticClass:"sort-icon",class:{"is-desc":!t.isAsc,"is-invisible":t.currentSortColumn!==e},attrs:{icon:t.sortIcon,pack:t.iconPack,both:"",size:t.sortIconSize}})]],2)])})),t.checkable&&"right"===t.checkboxPosition?n("th",{class:["checkbox-cell",{"is-sticky":t.stickyCheckbox}]},[t.headerCheckable?[t._t("check-all",[n("b-checkbox",{attrs:{autocomplete:"off",value:t.isAllChecked,type:t.checkboxType,disabled:t.isAllUncheckable},nativeOn:{change:function(e){return t.checkAll(e)}}})],{isAllChecked:t.isAllChecked,isAllUncheckable:t.isAllUncheckable,checkAll:t.checkAll})]:t._e()],2):t._e()],2),t.hasCustomSubheadings?n("tr",{staticClass:"is-subheading"},[t.showDetailRowIcon?n("th",{attrs:{width:"40px"}}):t._e(),t.checkable&&"left"===t.checkboxPosition?n("th"):t._e(),t._l(t.visibleColumns,(function(e,r){return n("th",{key:e.newKey+":"+r+"subheading",style:e.style},[n("div",{staticClass:"th-wrap",class:{"is-numeric":e.numeric,"is-centered":e.centered},style:e.thWrapStyle},[e.$scopedSlots&&e.$scopedSlots.subheading?[n("b-slot-component",{attrs:{component:e,scoped:"",name:"subheading",tag:"span",props:{column:e,index:r}}})]:[t._v(t._s(e.subheading))]],2)])})),t.checkable&&"right"===t.checkboxPosition?n("th"):t._e()],2):t._e(),t.hasSearchablenewColumns?n("tr",[t.showDetailRowIcon?n("th",{attrs:{width:"40px"}}):t._e(),t.checkable&&"left"===t.checkboxPosition?n("th"):t._e(),t._l(t.visibleColumns,(function(e,r){return n("th",t._b({key:e.newKey+":"+r+"searchable",class:{"is-sticky":e.sticky},style:e.thStyle},"th",e.thAttrs(e),!1),[n("div",{staticClass:"th-wrap",style:e.thWrapStyle},[e.searchable?[e.$scopedSlots&&e.$scopedSlots.searchable?[n("b-slot-component",{attrs:{component:e,scoped:!0,name:"searchable",tag:"span",props:{column:e,filters:t.filters}}})]:n("b-input",{attrs:{type:e.numeric?"number":"text"},nativeOn:t._d({},[t.filtersEvent,function(e){return t.onFiltersEvent(e)}]),model:{value:t.filters[e.field],callback:function(n){t.$set(t.filters,e.field,n)},expression:"filters[column.field]"}})]:t._e()],2)])})),t.checkable&&"right"===t.checkboxPosition?n("th"):t._e()],2):t._e()]):t._e(),n("tbody",[t._l(t.visibleData,(function(e,r){return[n("tr",{key:t.customRowKey?e[t.customRowKey]:r,class:[t.rowClass(e,r),{"is-selected":t.isRowSelected(e,t.selected),"is-checked":t.isRowChecked(e)}],attrs:{draggable:t.canDragRow},on:{click:function(n){return t.selectRow(e)},dblclick:function(n){return t.$emit("dblclick",e)},mouseenter:function(n){return t.emitEventForRow("mouseenter",n,e)},mouseleave:function(n){return t.emitEventForRow("mouseleave",n,e)},contextmenu:function(n){return t.$emit("contextmenu",e,n)},dragstart:function(n){return t.handleDragStart(n,e,r)},dragend:function(n){return t.handleDragEnd(n,e,r)},drop:function(n){return t.handleDrop(n,e,r)},dragover:function(n){return t.handleDragOver(n,e,r)},dragleave:function(n){return t.handleDragLeave(n,e,r)},touchstart:function(n){return t.handleTouchStart(n,e,r)},touchmove:function(n){return t.handleTouchMove(n,e,r)},touchend:function(n){return t.handleTouchEnd(n,e,r)}}},[t.showDetailRowIcon?n("td",{staticClass:"chevron-cell"},[t.hasDetailedVisible(e)?n("a",{attrs:{role:"button"},on:{click:function(n){return n.stopPropagation(),t.toggleDetails(e)}}},[n("b-icon",{class:{"is-expanded":t.isVisibleDetailRow(e)},attrs:{icon:t.detailIcon,pack:t.iconPack,both:""}})],1):t._e()]):t._e(),t.checkable&&"left"===t.checkboxPosition?n("td",{class:["checkbox-cell",{"is-sticky":t.stickyCheckbox}]},[n("b-checkbox",{attrs:{autocomplete:"off",value:t.isRowChecked(e),type:t.checkboxType,disabled:!t.isRowCheckable(e)},nativeOn:{click:function(n){return n.preventDefault(),n.stopPropagation(),t.checkRow(e,r,n)}}})],1):t._e(),t._l(t.visibleColumns,(function(i,o){return[i.$scopedSlots&&i.$scopedSlots.default?[n("b-slot-component",t._b({key:i.newKey+":"+r+":"+o,class:i.getRootClasses(e),style:i.getRootStyle(e),attrs:{component:i,scoped:"",name:"default",tag:"td","data-label":i.label,props:{row:e,column:i,index:r,colindex:o,toggleDetails:t.toggleDetails,isActiveDetailRow:t.isActiveDetailRow}},nativeOn:{click:function(n){return t.$emit("cellclick",e,i,r,o)}}},"b-slot-component",i.tdAttrs(e,i),!1))]:t._e()]})),t.checkable&&"right"===t.checkboxPosition?n("td",{class:["checkbox-cell",{"is-sticky":t.stickyCheckbox}]},[n("b-checkbox",{attrs:{autocomplete:"off",value:t.isRowChecked(e),type:t.checkboxType,disabled:!t.isRowCheckable(e)},nativeOn:{click:function(n){return n.preventDefault(),n.stopPropagation(),t.checkRow(e,r,n)}}})],1):t._e()],2),n("transition",{key:(t.customRowKey?e[t.customRowKey]:r)+"detail",attrs:{name:t.detailTransition}},[t.isActiveDetailRow(e)?n("tr",{staticClass:"detail"},[n("td",{attrs:{colspan:t.columnCount}},[n("div",{staticClass:"detail-container"},[t._t("detail",null,{row:e,index:r})],2)])]):t._e()]),t.isActiveCustomDetailRow(e)?t._t("detail",null,{row:e,index:r}):t._e()]})),t.visibleData.length?t._e():n("tr",{staticClass:"is-empty"},[n("td",{attrs:{colspan:t.columnCount}},[t._t("empty")],2)])],2),void 0!==t.$slots.footer?n("tfoot",[n("tr",{staticClass:"table-footer"},[t.hasCustomFooterSlot()?t._t("footer"):n("th",{attrs:{colspan:t.columnCount}},[t._t("footer")],2)],2)]):t._e()]),t.loading?[t._t("loading",[n("b-loading",{attrs:{"is-full-page":!1,active:t.loading},on:{"update:active":function(e){t.loading=e}}})])]:t._e()],2),t.checkable&&t.hasBottomLeftSlot()||t.paginated&&("bottom"===t.paginationPosition||"both"===t.paginationPosition)?[t._t("pagination",[n("b-table-pagination",t._b({attrs:{"per-page":t.perPage,paginated:t.paginated,rounded:t.paginationRounded,"icon-pack":t.iconPack,total:t.newDataTotal,"current-page":t.newCurrentPage,"aria-next-label":t.ariaNextLabel,"aria-previous-label":t.ariaPreviousLabel,"aria-page-label":t.ariaPageLabel,"aria-current-label":t.ariaCurrentLabel,"page-input":t.pageInput,"pagination-order":t.paginationOrder,"page-input-position":t.pageInputPosition,"debounce-page-input":t.debouncePageInput},on:{"update:currentPage":function(e){t.newCurrentPage=e},"update:current-page":function(e){t.newCurrentPage=e},"page-change":function(e){return t.$emit("page-change",e)}}},"b-table-pagination",t.$attrs,!1),[t._t("bottom-left")],2)])]:t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:t.mayBeTouchDragging&&(t.isDraggingRow||t.isDraggingColumn),expression:"mayBeTouchDragging && (isDraggingRow || isDraggingColumn)"}],ref:"draggedCell",staticClass:"touch-dragged-cell",class:t.touchDraggedCellClasses,domProps:{innerHTML:t._s(t.draggedCellContent)}})],2)},mp=[];const vp=void 0,yp=void 0,bp=void 0,wp=!1,xp=pt({render:gp,staticRenderFns:mp},vp,pp,yp,wp,bp,!1,void 0,void 0,void 0);var _p=xp,kp={install:function(t){"undefined"===typeof at&&ht(t),mt(t,_p),mt(t,np)}};gt(kp);var Ap={name:"BTabs",mixins:[sd("tab")],props:{expanded:{type:Boolean,default:function(){return lt.defaultTabsExpanded}},type:{type:[String,Object],default:function(){return lt.defaultTabsType}},animated:{type:Boolean,default:function(){return lt.defaultTabsAnimated}},multiline:Boolean},data:function(){return{currentFocus:this.value}},computed:{mainClasses:function(){return h({"is-fullwidth":this.expanded,"is-vertical":this.vertical,"is-multiline":this.multiline},this.position,this.position&&this.vertical)},navClasses:function(){return[this.type,this.size,h(h(h({},this.position,this.position&&!this.vertical),"is-fullwidth",this.expanded),"is-toggle","is-toggle-rounded"===this.type)]}},methods:{giveFocusToTab:function(t){t.$el&&t.$el.focus?t.$el.focus():t.focus&&t.focus()},manageTablistKeydown:function(t){var e=t.key;switch(e){case this.vertical?"ArrowUp":"ArrowLeft":case this.vertical?"Up":"Left":var n=this.getPrevItemIdx(this.currentFocus,!0);null===n&&(n=this.getPrevItemIdx(this.items.length,!0)),null!==n&&this.$refs.tabLink&&n<this.$refs.tabLink.length&&!this.items[n].disabled&&this.giveFocusToTab(this.$refs.tabLink[n]),t.preventDefault();break;case this.vertical?"ArrowDown":"ArrowRight":case this.vertical?"Down":"Right":var r=this.getNextItemIdx(this.currentFocus,!0);null===r&&(r=this.getNextItemIdx(-1,!0)),null!==r&&this.$refs.tabLink&&r<this.$refs.tabLink.length&&!this.items[r].disabled&&this.giveFocusToTab(this.$refs.tabLink[r]),t.preventDefault();break}},manageTabKeydown:function(t,e){var n=t.key;switch(n){case" ":case"Space":case"Spacebar":case"Enter":this.childClick(e),t.preventDefault();break}}}};const Sp=Ap;var Cp=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-tabs",class:t.mainClasses},[n("nav",{staticClass:"tabs",class:t.navClasses,on:{keydown:t.manageTablistKeydown}},[t._t("start"),n("ul",{attrs:{"aria-orientation":t.vertical?"vertical":"horizontal",role:"tablist"}},t._l(t.items,(function(e,r){return n("li",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"childItem.visible"}],key:e.value,class:[e.headerClass,{"is-active":e.isActive,"is-disabled":e.disabled}],attrs:{role:"tab","aria-controls":e.value+"-content","aria-selected":""+e.isActive}},[e.$scopedSlots.header?n("b-slot-component",{ref:"tabLink",refInFor:!0,attrs:{component:e,name:"header",tag:"a",id:e.value+"-label",tabindex:e.isActive?0:-1},on:{keydown:function(n){return t.manageTabKeydown(n,e)}},nativeOn:{focus:function(e){t.currentFocus=r},click:function(n){return t.childClick(e)}}}):n("a",{ref:"tabLink",refInFor:!0,attrs:{id:e.value+"-label",tabindex:e.isActive?0:-1},on:{focus:function(e){t.currentFocus=r},click:function(n){return t.childClick(e)},keydown:function(n){return t.manageTabKeydown(n,e)}}},[e.icon?n("b-icon",{attrs:{icon:e.icon,pack:e.iconPack,size:t.size}}):t._e(),n("span",[t._v(t._s(e.label))])],1)],1)})),0),t._t("end")],2),n("section",{staticClass:"tab-content",class:{"is-transitioning":t.isTransitioning}},[t._t("default")],2)])},Ep=[];const Dp=void 0,Mp=void 0,Tp=void 0,Fp=!1,Op=pt({render:Cp,staticRenderFns:Ep},Dp,Sp,Mp,Fp,Tp,!1,void 0,void 0,void 0);var $p=Op,Np={name:"BTabItem",mixins:[ud("tab")],props:{disabled:Boolean},data:function(){return{elementClass:"tab-item",elementRole:"tabpanel"}}};const Bp=Np,Rp=void 0,Pp=void 0,Ip=void 0,jp=void 0,Lp=pt({},Rp,Bp,Pp,jp,Ip,!1,void 0,void 0,void 0);var zp=Lp,Up={install:function(t){mt(t,$p),mt(t,zp)}};gt(Up);var qp={name:"BTag",props:{attached:Boolean,closable:Boolean,type:[String,Object],size:String,rounded:Boolean,disabled:Boolean,ellipsis:Boolean,tabstop:{type:Boolean,default:!0},ariaCloseLabel:String,icon:String,iconType:String,iconPack:String,closeType:String,closeIcon:String,closeIconPack:String,closeIconType:String},methods:{close:function(t){this.disabled||this.$emit("close",t)},click:function(t){this.disabled||this.$emit("click",t)}}};const Vp=qp;var Hp=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.attached&&t.closable?n("div",{staticClass:"tags has-addons inline-tags"},[n("span",{staticClass:"tag",class:[t.type,t.size,{"is-rounded":t.rounded}]},[t.icon?n("b-icon",{attrs:{icon:t.icon,size:t.size,type:t.iconType,pack:t.iconPack}}):t._e(),n("span",{class:{"has-ellipsis":t.ellipsis},on:{click:t.click}},[t._t("default")],2)],1),n("a",{staticClass:"tag",class:[t.size,t.closeType,{"is-rounded":t.rounded},t.closeIcon?"has-delete-icon":"is-delete"],attrs:{role:"button","aria-label":t.ariaCloseLabel,tabindex:!!t.tabstop&&0,disabled:t.disabled},on:{click:t.close,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:(e.preventDefault(),t.close(e))}}},[t.closeIcon?n("b-icon",{attrs:{"custom-class":"",icon:t.closeIcon,size:t.size,type:t.closeIconType,pack:t.closeIconPack}}):t._e()],1)]):n("span",{staticClass:"tag",class:[t.type,t.size,{"is-rounded":t.rounded}]},[t.icon?n("b-icon",{attrs:{icon:t.icon,size:t.size,type:t.iconType,pack:t.iconPack}}):t._e(),n("span",{class:{"has-ellipsis":t.ellipsis},on:{click:t.click}},[t._t("default")],2),t.closable?n("a",{staticClass:"delete is-small",class:t.closeType,attrs:{role:"button","aria-label":t.ariaCloseLabel,disabled:t.disabled,tabindex:!!t.tabstop&&0},on:{click:t.close,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:(e.preventDefault(),t.close(e))}}}):t._e()],1)},Wp=[];const Yp=void 0,Gp=void 0,Kp=void 0,Xp=!1,Jp=pt({render:Hp,staticRenderFns:Wp},Yp,Vp,Gp,Xp,Kp,!1,void 0,void 0,void 0);var Zp=Jp,Qp={name:"BTaglist",props:{attached:Boolean}};const tg=Qp;var eg=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tags",class:{"has-addons":t.attached}},[t._t("default")],2)},ng=[];const rg=void 0,ig=void 0,og=void 0,ag=!1,sg=pt({render:eg,staticRenderFns:ng},rg,tg,ig,ag,og,!1,void 0,void 0,void 0);var ug=sg,cg={install:function(t){mt(t,Zp),mt(t,ug)}};gt(cg);var lg=["input"],fg={name:"BTaginput",components:h(h({},Jt.name,Jt),Zp.name,Zp),mixins:[dt],inheritAttrs:!1,props:{value:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}},type:String,closeType:String,rounded:{type:Boolean,default:!1},attached:{type:Boolean,default:!1},maxtags:{type:[Number,String],required:!1},hasCounter:{type:Boolean,default:function(){return lt.defaultTaginputHasCounter}},field:{type:String,default:"value"},autocomplete:Boolean,groupField:String,groupOptions:String,nativeAutocomplete:String,openOnFocus:Boolean,keepOpen:{type:Boolean,default:!0},keepFirst:Boolean,disabled:Boolean,ellipsis:Boolean,closable:{type:Boolean,default:!0},ariaCloseLabel:String,confirmKeys:{type:Array,default:function(){return[",","Tab","Enter"]}},removeOnKeys:{type:Array,default:function(){return["Backspace"]}},allowNew:Boolean,onPasteSeparators:{type:Array,default:function(){return[","]}},beforeAdding:{type:Function,default:function(){return!0}},allowDuplicates:{type:Boolean,default:!1},checkInfiniteScroll:{type:Boolean,default:!1},createTag:{type:Function,default:function(t){return t}},appendToBody:Boolean},data:function(){return{tags:Array.isArray(this.value)?this.value.slice(0):this.value||[],newTag:"",isComposing:!1,_elementRef:"autocomplete",_isTaginput:!0,requestID:null}},computed:{listeners:function(){var t=this.$listeners;t.input;var e=x(t,lg);return e},rootClasses:function(){return{"is-expanded":this.expanded}},containerClasses:function(){return{"is-focused":this.isFocused,"is-focusable":this.hasInput}},valueLength:function(){return this.newTag.trim().length},hasDefaultSlot:function(){return!!this.$scopedSlots.default},hasEmptySlot:function(){return!!this.$slots.empty},hasHeaderSlot:function(){return!!this.$slots.header},hasFooterSlot:function(){return!!this.$slots.footer},hasInput:function(){return null==this.maxtags||1===this.maxtags||this.tagsLength<this.maxtags},tagsLength:function(){return this.tags.length},separatorsAsRegExp:function(){var t=this.onPasteSeparators;return t.length?new RegExp(t.map((function(t){return t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):null})).join("|"),"g"):null}},watch:{value:function(t){this.tags=Array.isArray(t)?t.slice(0):t||[]},hasInput:function(){this.hasInput||this.onBlur()}},methods:{addTag:function(t){var e=this,n=t||this.newTag.trim();if(n){if(!this.autocomplete){var r=this.separatorsAsRegExp;if(r&&n.match(r))return void n.split(r).map((function(t){return t.trim()})).filter((function(t){return 0!==t.length})).map(this.addTag)}var i=!!this.allowDuplicates||-1===this.tags.indexOf(n);i&&this.beforeAdding(n)&&(1===this.maxtags&&(this.tags=[]),this.tags.push(this.createTag(n)),this.$emit("input",this.tags),this.$emit("add",n)),this.requestID=requestAnimationFrame((function(){e.newTag="",e.$emit("typing","")}))}},getNormalizedTagText:function(t){return"object"===u(t)&&(t=U(t,this.field)),"".concat(t)},customOnBlur:function(t){this.autocomplete||this.addTag(),this.onBlur(t)},onSelect:function(t){var e=this;t&&(this.addTag(t),this.$nextTick((function(){e.newTag=""})))},removeTag:function(t,e){var n=this.tags.splice(t,1)[0];return this.$emit("input",this.tags),this.$emit("remove",n),e&&e.stopPropagation(),this.openOnFocus&&this.$refs.autocomplete&&this.$refs.autocomplete.focus(),n},removeLastTag:function(){this.tagsLength>0&&this.removeTag(this.tagsLength-1)},keydown:function(t){var e=t.key;if(-1===this.removeOnKeys.indexOf(e)||this.newTag.length||this.removeLastTag(),(!this.autocomplete||this.allowNew)&&this.confirmKeys.indexOf(e)>=0){if("Tab"!==e&&t.preventDefault(),"Enter"===e&&this.isComposing)return;this.addTag()}},onTyping:function(t){this.$emit("typing",t.trim())},emitInfiniteScroll:function(){this.$emit("infinite-scroll")}},beforeDestroy:function(){cancelAnimationFrame(this.requestID)}};const hg=fg;var dg=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"taginput control",class:t.rootClasses},[n("div",{staticClass:"taginput-container",class:[t.statusType,t.size,t.containerClasses],attrs:{disabled:t.disabled},on:{click:function(e){t.hasInput&&t.focus(e)}}},[t._t("selected",t._l(t.tags,(function(e,r){return n("b-tag",{key:t.getNormalizedTagText(e)+r,attrs:{type:t.type,"close-type":t.closeType,size:t.size,rounded:t.rounded,attached:t.attached,tabstop:!1,disabled:t.disabled,ellipsis:t.ellipsis,closable:t.closable,"aria-close-label":t.ariaCloseLabel,title:t.ellipsis&&t.getNormalizedTagText(e)},on:{close:function(e){return t.removeTag(r,e)}}},[t._t("tag",[t._v(" "+t._s(t.getNormalizedTagText(e))+" ")],{tag:e})],2)})),{tags:t.tags}),t.hasInput?n("b-autocomplete",t._g(t._b({ref:"autocomplete",attrs:{data:t.data,field:t.field,icon:t.icon,"icon-pack":t.iconPack,maxlength:t.maxlength,"has-counter":!1,size:t.size,disabled:t.disabled,loading:t.loading,autocomplete:t.nativeAutocomplete,"open-on-focus":t.openOnFocus,"keep-open":t.keepOpen,"keep-first":t.keepFirst,"group-field":t.groupField,"group-options":t.groupOptions,"use-html5-validation":t.useHtml5Validation,"check-infinite-scroll":t.checkInfiniteScroll,"append-to-body":t.appendToBody,"confirm-keys":t.confirmKeys},on:{typing:t.onTyping,focus:t.onFocus,blur:t.customOnBlur,select:t.onSelect,"infinite-scroll":t.emitInfiniteScroll},nativeOn:{keydown:function(e){return t.keydown(e)},compositionstart:function(e){t.isComposing=!0},compositionend:function(e){t.isComposing=!1}},scopedSlots:t._u([t.hasHeaderSlot?{key:"header",fn:function(){return[t._t("header")]},proxy:!0}:null,t.hasDefaultSlot?{key:"default",fn:function(e){return[t._t("default",null,{option:e.option,index:e.index})]}}:null,t.hasEmptySlot?{key:"empty",fn:function(){return[t._t("empty")]},proxy:!0}:null,t.hasFooterSlot?{key:"footer",fn:function(){return[t._t("footer")]},proxy:!0}:null],null,!0),model:{value:t.newTag,callback:function(e){t.newTag=e},expression:"newTag"}},"b-autocomplete",t.$attrs,!1),t.listeners)):t._e()],2),t.hasCounter&&(t.maxtags||t.maxlength)?n("small",{staticClass:"help counter"},[t.maxlength&&t.valueLength>0?[t._v(" "+t._s(t.valueLength)+" / "+t._s(t.maxlength)+" ")]:t.maxtags?[t._v(" "+t._s(t.tagsLength)+" / "+t._s(t.maxtags)+" ")]:t._e()],2):t._e()])},pg=[];const gg=void 0,mg=void 0,vg=void 0,yg=!1,bg=pt({render:dg,staticRenderFns:pg},gg,hg,mg,yg,vg,!1,void 0,void 0,void 0);var wg=bg,xg={install:function(t){mt(t,wg)}};gt(xg);var _g={install:function(t){mt(t,Wa)}};gt(_g);var kg={name:"BToast",mixins:[zu],data:function(){return{newDuration:this.duration||lt.defaultToastDuration}}};const Ag=kg;var Sg=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{"enter-active-class":t.transition.enter,"leave-active-class":t.transition.leave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"toast",class:[t.type,t.position],attrs:{"aria-hidden":!t.isActive,role:"alert"},on:{mouseenter:t.pause,mouseleave:t.removePause}},[t.$slots.default?[t._t("default")]:[n("div",{domProps:{innerHTML:t._s(t.message)}})]],2)])},Cg=[];const Eg=void 0,Dg=void 0,Mg=void 0,Tg=!1,Fg=pt({render:Sg,staticRenderFns:Cg},Eg,Ag,Dg,Tg,Mg,!1,void 0,void 0,void 0);var Og,$g=Fg,Ng={open:function(t){var e;"string"===typeof t&&(t={message:t});var n,r={position:lt.defaultToastPosition||"is-top"};t.parent&&(e=t.parent,delete t.parent),Array.isArray(t.message)&&(n=t.message,delete t.message);var i=W(r,t),o="undefined"!==typeof window&&window.Vue?window.Vue:Og||at,a=o.extend($g),s=new a({parent:e,el:document.createElement("div"),propsData:i});return n&&(s.$slots.default=n,s.$forceUpdate()),s}},Bg={install:function(t){Og=t,vt(t,"toast",Ng)}};gt(Bg);var Rg={install:function(t){mt(t,Hi)}};gt(Rg);var Pg={name:"BUpload",mixins:[dt],inheritAttrs:!1,props:{value:{type:[Object,Function,Ps,Array]},multiple:Boolean,disabled:Boolean,accept:String,dragDrop:Boolean,type:{type:String,default:"is-primary"},native:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1}},data:function(){return{newValue:this.value,dragDropFocus:!1,_elementRef:"input"}},watch:{value:function(t){this.newValue=t,(!t||Array.isArray(t)&&0===t.length)&&(this.$refs.input.value=null),!this.isValid&&!this.dragDrop&&this.checkHtml5Validity()}},methods:{onFileChange:function(t){if(!this.disabled&&!this.loading){this.dragDrop&&this.updateDragDropFocus(!1);var e=t.target.files||t.dataTransfer.files;if(0===e.length){if(!this.newValue)return;this.native&&(this.newValue=null)}else if(this.multiple){var n=!1;!this.native&&this.newValue||(this.newValue=[],n=!0);for(var r=0;r<e.length;r++){var i=e[r];this.checkType(i)&&(this.newValue.push(i),n=!0)}if(!n)return}else{if(this.dragDrop&&1!==e.length)return;var o=e[0];if(this.checkType(o))this.newValue=o;else{if(!this.newValue)return this.clearInput(),void this.checkHtml5Validity();this.newValue=null,this.clearInput()}}this.$emit("input",this.newValue),!this.dragDrop&&this.checkHtml5Validity()}},clearInput:function(){this.$refs.input.value=null},updateDragDropFocus:function(t){this.disabled||this.loading||(this.dragDropFocus=t)},checkType:function(t){if(!this.accept)return!0;var e=this.accept.split(",");if(0===e.length)return!0;for(var n=!1,r=0;r<e.length&&!n;r++){var i=e[r].trim();if(i)if("."===i.substring(0,1)){var o=t.name.toLowerCase().slice(-i.length);o===i.toLowerCase()&&(n=!0)}else t.type.match(i)&&(n=!0)}return n||this.$emit("invalid"),n}}};const Ig=Pg;var jg=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"upload control",class:{"is-expanded":t.expanded,"is-rounded":t.rounded}},[t.dragDrop?n("div",{staticClass:"upload-draggable",class:[t.type,{"is-loading":t.loading,"is-disabled":t.disabled,"is-hovered":t.dragDropFocus,"is-expanded":t.expanded}],on:{dragover:function(e){return e.preventDefault(),t.updateDragDropFocus(!0)},dragleave:function(e){return e.preventDefault(),t.updateDragDropFocus(!1)},dragenter:function(e){return e.preventDefault(),t.updateDragDropFocus(!0)},drop:function(e){return e.preventDefault(),t.onFileChange(e)}}},[t._t("default")],2):[t._t("default")],n("input",t._b({ref:"input",attrs:{type:"file",multiple:t.multiple,accept:t.accept,disabled:t.disabled},on:{change:t.onFileChange}},"input",t.$attrs,!1))],2)},Lg=[];const zg=void 0,Ug=void 0,qg=void 0,Vg=!1,Hg=pt({render:jg,staticRenderFns:Lg},zg,Ig,Ug,Vg,qg,!1,void 0,void 0,void 0);var Wg=Hg,Yg={install:function(t){mt(t,Wg)}};gt(Yg);var Gg={getOptions:function(){return lt},setOptions:function(t){ft(W(lt,t,!0))}},Kg=Object.freeze({__proto__:null,Autocomplete:Zt,Breadcrumb:be,Button:Te,Carousel:Cn,Checkbox:Gn,Clockpicker:Si,Collapse:rr,Colorpicker:Yo,Datepicker:Ra,Datetimepicker:os,Dialog:Ms,Dropdown:Ts,Field:Fs,Icon:Os,Image:$s,Input:Ns,Loading:Xs,Menu:Su,Message:Iu,Modal:Lu,Navbar:gl,Notification:lc,Numberinput:Cl,Pagination:Gl,Progress:mf,Radio:Pf,Rate:Gf,Select:Kf,Skeleton:ih,Sidebar:gh,Slider:Wh,Snackbar:od,Steps:Ed,Switch:Id,Table:kp,Tabs:Up,Tag:cg,Taginput:xg,Timepicker:_g,Toast:Bg,Tooltip:Rg,Upload:Yg}),Xg={install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var n in ht(t),ft(W(lt,e,!0)),Kg)t.use(Kg[n]);vt(t,"config",Gg),t.prototype.$buefy.globalNoticeInterval=null}};gt(Xg)},5721:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=a;var r=n(5685),i=o(r);function o(t){return t&&t.__esModule?t:{default:t}}function a(t){return(0,i.default)(t)}t.exports=e["default"]},4014:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r;var n=/-webkit-|-moz-|-ms-/;function r(t){return"string"===typeof t&&n.test(t)}t.exports=e["default"]},6914:function(t,e,n){"use strict";function r(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function i(t){return t=r(Math.abs(t)),t?t[1]:NaN}function o(t,e){return function(n,r){var i=n.length,o=[],a=0,s=t[0],u=0;while(i>0&&s>0){if(u+s+1>r&&(s=Math.max(1,r-u)),o.push(n.substring(i-=s,i+s)),(u+=s+1)>r)break;s=t[a=(a+1)%t.length]}return o.reverse().join(e)}}function a(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}n.r(e),n.d(e,{format:function(){return v},formatDefaultLocale:function(){return x},formatLocale:function(){return w},formatPrefix:function(){return y},formatSpecifier:function(){return c},precisionFixed:function(){return _},precisionPrefix:function(){return k},precisionRound:function(){return A}});var s,u=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function c(t){return new l(t)}function l(t){if(!(e=u.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}function f(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(i>0){if(!+t[r])break t;i=0}break}return i>0?t.slice(0,i)+t.slice(e+1):t}function h(t,e){var n=r(t,e);if(!n)return t+"";var i=n[0],o=n[1],a=o-(s=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,u=i.length;return a===u?i:a>u?i+new Array(a-u+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+r(t,Math.max(0,e+a-1))[0]}function d(t,e){var n=r(t,e);if(!n)return t+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}c.prototype=l.prototype,l.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var p={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return d(100*t,e)},r:d,s:h,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function g(t){return t}var m,v,y,b=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function w(t){var e=t.grouping&&t.thousands?o(t.grouping,t.thousands):g,n=t.currency,r=t.decimal,u=t.numerals?a(t.numerals):g,l=t.percent||"%";function h(t){t=c(t);var i=t.fill,o=t.align,a=t.sign,h=t.symbol,d=t.zero,g=t.width,m=t.comma,v=t.precision,y=t.trim,w=t.type;"n"===w?(m=!0,w="g"):p[w]||(null==v&&(v=12),y=!0,w="g"),(d||"0"===i&&"="===o)&&(d=!0,i="0",o="=");var x="$"===h?n[0]:"#"===h&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",_="$"===h?n[1]:/[%p]/.test(w)?l:"",k=p[w],A=/[defgprs%]/.test(w);function S(t){var n,c,l,h=x,p=_;if("c"===w)p=k(t)+p,t="";else{t=+t;var S=t<0;if(t=k(Math.abs(t),v),y&&(t=f(t)),S&&0===+t&&(S=!1),h=(S?"("===a?a:"-":"-"===a||"("===a?"":a)+h,p=("s"===w?b[8+s/3]:"")+p+(S&&"("===a?")":""),A){n=-1,c=t.length;while(++n<c)if(l=t.charCodeAt(n),48>l||l>57){p=(46===l?r+t.slice(n+1):t.slice(n))+p,t=t.slice(0,n);break}}}m&&!d&&(t=e(t,1/0));var C=h.length+t.length+p.length,E=C<g?new Array(g-C+1).join(i):"";switch(m&&d&&(t=e(E+t,E.length?g-p.length:1/0),E=""),o){case"<":t=h+t+p+E;break;case"=":t=h+E+t+p;break;case"^":t=E.slice(0,C=E.length>>1)+h+t+p+E.slice(C);break;default:t=E+h+t+p;break}return u(t)}return v=null==v?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),S.toString=function(){return t+""},S}function d(t,e){var n=h((t=c(t),t.type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(i(e)/3))),o=Math.pow(10,-r),a=b[8+r/3];return function(t){return n(o*t)+a}}return{format:h,formatPrefix:d}}function x(t){return m=w(t),v=m.format,y=m.formatPrefix,m}function _(t){return Math.max(0,-i(Math.abs(t)))}function k(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(i(e)/3)))-i(Math.abs(t)))}function A(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,i(e)-i(t))+1}x({decimal:".",thousands:",",grouping:[3],currency:["$",""]})},9615:function(t,e,n){"use strict";n.r(e),n.d(e,{clientPoint:function(){return ne},create:function(){return Jt},creator:function(){return u},customEvent:function(){return zt},event:function(){return $t},local:function(){return Qt},matcher:function(){return y},mouse:function(){return re},namespace:function(){return o},namespaces:function(){return i},select:function(){return Xt},selectAll:function(){return ie},selection:function(){return Kt},selector:function(){return l},selectorAll:function(){return d},style:function(){return J},touch:function(){return oe},touches:function(){return ae},window:function(){return W}});var r="http://www.w3.org/1999/xhtml",i={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function o(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),i.hasOwnProperty(e)?{space:i[e],local:t}:t}function a(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===r&&e.documentElement.namespaceURI===r?e.createElement(t):e.createElementNS(n,t)}}function s(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function u(t){var e=o(t);return(e.local?s:a)(e)}function c(){}function l(t){return null==t?c:function(){return this.querySelector(t)}}function f(t){"function"!==typeof t&&(t=l(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,c=r[i]=new Array(u),f=0;f<u;++f)(o=s[f])&&(a=t.call(o,o.__data__,f,s))&&("__data__"in o&&(a.__data__=o.__data__),c[f]=a);return new Yt(r,this._parents)}function h(){return[]}function d(t){return null==t?h:function(){return this.querySelectorAll(t)}}function p(t){"function"!==typeof t&&(t=d(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,c=0;c<u;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new Yt(r,i)}var g=function(t){return function(){return this.matches(t)}};if("undefined"!==typeof document){var m=document.documentElement;if(!m.matches){var v=m.webkitMatchesSelector||m.msMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector;g=function(t){return function(){return v.call(this,t)}}}}var y=g;function b(t){"function"!==typeof t&&(t=y(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new Yt(r,this._parents)}function w(t){return new Array(t.length)}function x(){return new Yt(this._enter||this._groups.map(w),this._parents)}function _(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function k(t){return function(){return t}}_.prototype={constructor:_,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var A="$";function S(t,e,n,r,i,o){for(var a,s=0,u=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new _(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function C(t,e,n,r,i,o,a){var s,u,c,l={},f=e.length,h=o.length,d=new Array(f);for(s=0;s<f;++s)(u=e[s])&&(d[s]=c=A+a.call(u,u.__data__,s,e),c in l?i[s]=u:l[c]=u);for(s=0;s<h;++s)c=A+a.call(t,o[s],s,o),(u=l[c])?(r[s]=u,u.__data__=o[s],l[c]=null):n[s]=new _(t,o[s]);for(s=0;s<f;++s)(u=e[s])&&l[d[s]]===u&&(i[s]=u)}function E(t,e){if(!t)return d=new Array(this.size()),c=-1,this.each((function(t){d[++c]=t})),d;var n=e?C:S,r=this._parents,i=this._groups;"function"!==typeof t&&(t=k(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),c=0;c<o;++c){var l=r[c],f=i[c],h=f.length,d=t.call(l,l&&l.__data__,c,r),p=d.length,g=s[c]=new Array(p),m=a[c]=new Array(p),v=u[c]=new Array(h);n(l,f,g,m,v,d,e);for(var y,b,w=0,x=0;w<p;++w)if(y=g[w]){w>=x&&(x=w+1);while(!(b=m[x])&&++x<p);y._next=b||null}}return a=new Yt(a,r),a._enter=s,a._exit=u,a}function D(){return new Yt(this._exit||this._groups.map(w),this._parents)}function M(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],f=c.length,h=a[s]=new Array(f),d=0;d<f;++d)(u=c[d]||l[d])&&(h[d]=u);for(;s<r;++s)a[s]=e[s];return new Yt(a,this._parents)}function T(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this}function F(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=O);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,c=i[o]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(e)}return new Yt(i,this._parents).order()}function O(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function $(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function N(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t}function B(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function R(){var t=0;return this.each((function(){++t})),t}function P(){return!this.node()}function I(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this}function j(t){return function(){this.removeAttribute(t)}}function L(t){return function(){this.removeAttributeNS(t.space,t.local)}}function z(t,e){return function(){this.setAttribute(t,e)}}function U(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function q(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function V(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function H(t,e){var n=o(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?L:j:"function"===typeof e?n.local?V:q:n.local?U:z)(n,e))}function W(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Y(t){return function(){this.style.removeProperty(t)}}function G(t,e,n){return function(){this.style.setProperty(t,e,n)}}function K(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function X(t,e,n){return arguments.length>1?this.each((null==e?Y:"function"===typeof e?K:G)(t,e,null==n?"":n)):J(this.node(),t)}function J(t,e){return t.style.getPropertyValue(e)||W(t).getComputedStyle(t,null).getPropertyValue(e)}function Z(t){return function(){delete this[t]}}function Q(t,e){return function(){this[t]=e}}function tt(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function et(t,e){return arguments.length>1?this.each((null==e?Z:"function"===typeof e?tt:Q)(t,e)):this.node()[t]}function nt(t){return t.trim().split(/^|\s+/)}function rt(t){return t.classList||new it(t)}function it(t){this._node=t,this._names=nt(t.getAttribute("class")||"")}function ot(t,e){var n=rt(t),r=-1,i=e.length;while(++r<i)n.add(e[r])}function at(t,e){var n=rt(t),r=-1,i=e.length;while(++r<i)n.remove(e[r])}function st(t){return function(){ot(this,t)}}function ut(t){return function(){at(this,t)}}function ct(t,e){return function(){(e.apply(this,arguments)?ot:at)(this,t)}}function lt(t,e){var n=nt(t+"");if(arguments.length<2){var r=rt(this.node()),i=-1,o=n.length;while(++i<o)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof e?ct:e?st:ut)(n,e))}function ft(){this.textContent=""}function ht(t){return function(){this.textContent=t}}function dt(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function pt(t){return arguments.length?this.each(null==t?ft:("function"===typeof t?dt:ht)(t)):this.node().textContent}function gt(){this.innerHTML=""}function mt(t){return function(){this.innerHTML=t}}function vt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function yt(t){return arguments.length?this.each(null==t?gt:("function"===typeof t?vt:mt)(t)):this.node().innerHTML}function bt(){this.nextSibling&&this.parentNode.appendChild(this)}function wt(){return this.each(bt)}function xt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _t(){return this.each(xt)}function kt(t){var e="function"===typeof t?t:u(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))}function At(){return null}function St(t,e){var n="function"===typeof t?t:u(t),r=null==e?At:"function"===typeof e?e:l(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))}function Ct(){var t=this.parentNode;t&&t.removeChild(this)}function Et(){return this.each(Ct)}function Dt(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Mt(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function Tt(t){return this.select(t?Mt:Dt)}function Ft(t){return arguments.length?this.property("__data__",t):this.node().__data__}it.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Ot={},$t=null;if("undefined"!==typeof document){var Nt=document.documentElement;"onmouseenter"in Nt||(Ot={mouseenter:"mouseover",mouseleave:"mouseout"})}function Bt(t,e,n){return t=Rt(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function Rt(t,e,n){return function(r){var i=$t;$t=r;try{t.call(this,this.__data__,e,n)}finally{$t=i}}}function Pt(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function It(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function jt(t,e,n){var r=Ot.hasOwnProperty(t.type)?Bt:Rt;return function(i,o,a){var s,u=this.__on,c=r(e,o,a);if(u)for(var l=0,f=u.length;l<f;++l)if((s=u[l]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(s):this.__on=[s]}}function Lt(t,e,n){var r,i,o=Pt(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?jt:It,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value}function zt(t,e,n,r){var i=$t;t.sourceEvent=$t,$t=t;try{return e.apply(n,r)}finally{$t=i}}function Ut(t,e,n){var r=W(t),i=r.CustomEvent;"function"===typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function qt(t,e){return function(){return Ut(this,t,e)}}function Vt(t,e){return function(){return Ut(this,t,e.apply(this,arguments))}}function Ht(t,e){return this.each(("function"===typeof e?Vt:qt)(t,e))}var Wt=[null];function Yt(t,e){this._groups=t,this._parents=e}function Gt(){return new Yt([[document.documentElement]],Wt)}Yt.prototype=Gt.prototype={constructor:Yt,select:f,selectAll:p,filter:b,data:E,enter:x,exit:D,merge:M,order:T,sort:F,call:$,nodes:N,node:B,size:R,empty:P,each:I,attr:H,style:X,property:et,classed:lt,text:pt,html:yt,raise:wt,lower:_t,append:kt,insert:St,remove:Et,clone:Tt,datum:Ft,on:Lt,dispatch:Ht};var Kt=Gt;function Xt(t){return"string"===typeof t?new Yt([[document.querySelector(t)]],[document.documentElement]):new Yt([[t]],Wt)}function Jt(t){return Xt(u(t).call(document.documentElement))}var Zt=0;function Qt(){return new te}function te(){this._="@"+(++Zt).toString(36)}function ee(){var t,e=$t;while(t=e.sourceEvent)e=t;return e}function ne(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function re(t){var e=ee();return e.changedTouches&&(e=e.changedTouches[0]),ne(t,e)}function ie(t){return"string"===typeof t?new Yt([document.querySelectorAll(t)],[document.documentElement]):new Yt([null==t?[]:t],Wt)}function oe(t,e,n){arguments.length<3&&(n=e,e=ee().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return ne(t,r);return null}function ae(t,e){null==e&&(e=ee().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=ne(t,e[n]);return i}te.prototype=Qt.prototype={constructor:te,get:function(t){var e=this._;while(!(e in t))if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}}},2017:function(t){"use strict";t.exports=function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;0!==i--;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!==i--;){var a=o[i];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}},2492:function(t){"use strict";t.exports=function(t,e){e||(e={}),"function"===typeof e&&(e={cmp:e});var n="boolean"===typeof e.cycles&&e.cycles,r=e.cmp&&function(t){return function(e){return function(n,r){var i={key:n,value:e[n]},o={key:r,value:e[r]};return t(i,o)}}}(e.cmp),i=[];return function t(e){if(e&&e.toJSON&&"function"===typeof e.toJSON&&(e=e.toJSON()),void 0!==e){if("number"==typeof e)return isFinite(e)?""+e:"null";if("object"!==typeof e)return JSON.stringify(e);var o,a;if(Array.isArray(e)){for(a="[",o=0;o<e.length;o++)o&&(a+=","),a+=t(e[o])||"null";return a+"]"}if(null===e)return"null";if(-1!==i.indexOf(e)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=i.push(e)-1,u=Object.keys(e).sort(r&&r(e));for(a="",o=0;o<u.length;o++){var c=u[o],l=t(e[c]);l&&(a&&(a+=","),a+=JSON.stringify(c)+":"+l)}return i.splice(s,1),"{"+a+"}"}}(t)}},8748:function(t){"use strict";var e=/-(.)/g;function n(t){return t.replace(e,(function(t,e){return e.toUpperCase()}))}t.exports=n},480:function(t,e,n){"use strict";var r=n(8748),i=/^-ms-/;function o(t){return r(t.replace(i,"ms-"))}t.exports=o},9395:function(t){"use strict";function e(t){return function(){return t}}var n=function(){};n.thatReturns=e,n.thatReturnsFalse=e(!1),n.thatReturnsTrue=e(!0),n.thatReturnsNull=e(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(t){return t},t.exports=n},3998:function(t){"use strict";var e=/([A-Z])/g;function n(t){return t.replace(e,"-$1").toLowerCase()}t.exports=n},1254:function(t,e,n){"use strict";var r=n(3998),i=/^ms-/;function o(t){return r(t).replace(i,"-ms-")}t.exports=o},4793:function(t){"use strict";function e(t){var e={};return function(n){return e.hasOwnProperty(n)||(e[n]=t.call(this,n)),e[n]}}t.exports=e},4594:function(t,e,n){"use strict";var r=n(9395),i=r;t.exports=i},2208:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowStart:!0,gridRowEnd:!0,gridColumn:!0,gridColumnStart:!0,gridColumnEnd:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function r(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}var i=["Webkit","ms","Moz","O"];Object.keys(n).forEach((function(t){i.forEach((function(e){n[r(e,t)]=n[t]}))}));var o={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},a={isUnitlessNumber:n,shorthandPropertyExpansions:o};e["default"]=a},1104:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2208),i=a(r),o=n(4594);a(o);function a(t){return t&&t.__esModule?t:{default:t}}var s=i.default.isUnitlessNumber;function u(t,e,n){var r=null==e||"boolean"===typeof e||""===e;if(r)return"";var i=isNaN(e);if(i||0===e||s.hasOwnProperty(t)&&s[t])return""+e;"string"===typeof e&&(e=e.trim());return e+"px"}e["default"]=u},6050:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.processStyleName=void 0,e.createMarkupForStyles=d;var r=n(480),i=(f(r),n(1104)),o=f(i),a=n(1254),s=f(a),u=n(4793),c=f(u),l=n(4594);f(l);function f(t){return t&&t.__esModule?t:{default:t}}var h=e.processStyleName=(0,c.default)(s.default);function d(t,e){var n="";for(var r in t){var i=0===r.indexOf("--");if(t.hasOwnProperty(r)&&"label"!==r){var a=t[r];0,null!=a&&(i?n+=r+":"+a+";":(n+=h(r)+":",n+=(0,o.default)(r,a,e)+";"))}}return n||null}},5960:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function r(t){return null===t||void 0===t||!1===t||"object"===("undefined"===typeof t?"undefined":n(t))&&0===Object.keys(t).length}function i(t){if(r(t))return null;if("object"!==("undefined"===typeof t?"undefined":n(t)))return t;for(var e={},i=Object.keys(t),o=!1,s=0;s<i.length;s++){var u=t[i[s]],c=a(u);null!==c&&c===u||(o=!0),null!==c&&(e[i[s]]=c)}return 0===Object.keys(e).length?null:o?e:t}function o(t){var e=!1,n=[];return t.forEach((function(t){var r=a(t);null!==r&&r===t||(e=!0),null!==r&&n.push(r)})),0==n.length?null:e?n:t}function a(t){return Array.isArray(t)?o(t):i(t)}e["default"]=a},2493:function(t,e){"use strict";function n(t,e){var n=1540483477,a=24,s=e^t.length,u=t.length,c=0;while(u>=4){var l=r(t,c);l=o(l,n),l^=l>>>a,l=o(l,n),s=o(s,n),s^=l,c+=4,u-=4}switch(u){case 3:s^=i(t,c),s^=t.charCodeAt(c+2)<<16,s=o(s,n);break;case 2:s^=i(t,c),s=o(s,n);break;case 1:s^=t.charCodeAt(c),s=o(s,n);break}return s^=s>>>13,s=o(s,n),s^=s>>>15,s>>>0}function r(t,e){return t.charCodeAt(e++)+(t.charCodeAt(e++)<<8)+(t.charCodeAt(e++)<<16)+(t.charCodeAt(e)<<24)}function i(t,e){return t.charCodeAt(e++)+(t.charCodeAt(e++)<<8)}function o(t,e){t|=0,e|=0;var n=65535&t,r=t>>>16,i=n*e+((r*e&65535)<<16)|0;return i}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},8205:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compose=e.merge=e.$=e.style=e.presets=e.keyframes=e.fontFace=e.insertGlobal=e.insertRule=e.plugins=e.styleSheet=void 0,e.speedy=m,e.simulations=A,e.simulate=S,e.cssLabels=E,e.isLikeRule=T,e.idFor=F,e.css=at,e.rehydrate=ct,e.flush=lt,e.select=ht,e.parent=dt,e.media=pt,e.pseudo=gt,e.active=mt,e.any=vt,e.checked=yt,e.disabled=bt,e.empty=wt,e.enabled=xt,e._default=_t,e.first=kt,e.firstChild=At,e.firstOfType=St,e.fullscreen=Ct,e.focus=Et,e.hover=Dt,e.indeterminate=Mt,e.inRange=Tt,e.invalid=Ft,e.lastChild=Ot,e.lastOfType=$t,e.left=Nt,e.link=Bt,e.onlyChild=Rt,e.onlyOfType=Pt,e.optional=It,e.outOfRange=jt,e.readOnly=Lt,e.readWrite=zt,e.required=Ut,e.right=qt,e.root=Vt,e.scope=Ht,e.target=Wt,e.valid=Yt,e.visited=Gt,e.dir=Kt,e.lang=Xt,e.not=Jt,e.nthChild=Zt,e.nthLastChild=Qt,e.nthLastOfType=te,e.nthOfType=ee,e.after=ne,e.before=re,e.firstLetter=ie,e.firstLine=oe,e.selection=ae,e.backdrop=se,e.placeholder=ue,e.cssFor=ce,e.attribsFor=le;var r=n(5228),i=h(r),o=n(6314),a=n(6050),s=n(5960),u=h(s),c=n(7769),l=n(2493),f=h(l);function h(t){return t&&t.__esModule?t:{default:t}}function d(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=e.styleSheet=new o.StyleSheet;function m(t){return g.speedy(t)}g.inject();var v=e.plugins=g.plugins=new c.PluginSet([c.prefixes,c.contentWrap,c.fallbacks]);v.media=new c.PluginSet,v.fontFace=new c.PluginSet,v.keyframes=new c.PluginSet([c.prefixes,c.fallbacks]);var y=!1,b=!1,w="undefined"!==typeof window,x=y,_=!1,k=!1;function A(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];x=!!t}function S(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e=(0,u.default)(e),e?x?e.reduce((function(t,e){return t["data-simulate-"+D(e)]="",t}),{}):(_||(console.warn("can't simulate without once calling simulations(true)"),_=!0),y||b||k||(console.warn("don't use simulation outside dev"),k=!0),{}):{}}var C=y;function E(t){C=!!t}function D(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.toLowerCase().replace(/[^a-z0-9]/g,e)}function M(t){var e=JSON.stringify(t),n=(0,f.default)(e).toString(36);return t.label&&t.label.length>0&&y?D(t.label.join("."),"-")+"-"+n:n}function T(t){var e=Object.keys(t).filter((function(t){return"toString"!==t}));return 1===e.length&&!!/data\-css\-([a-zA-Z0-9\-_]+)/.exec(e[0])}function F(t){var e=Object.keys(t).filter((function(t){return"toString"!==t}));if(1!==e.length)throw new Error("not a rule");var n=/data\-css\-([a-zA-Z0-9\-_]+)/,r=n.exec(e[0]);if(!r)throw new Error("not a rule");return r[1]}var O=/[(),]|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g;function $(t){if(-1===t.indexOf(","))return[t];var e,n=[],r=[],i=0;while(e=O.exec(t))switch(e[0]){case"(":i++;break;case")":i--;break;case",":if(i)break;n.push(e.index)}for(e=n.length;e--;)r.unshift(t.slice(n[e]+1)),t=t.slice(0,n[e]);return r.unshift(t),r}function N(t,e){if(!t)return e.replace(/\&/g,"");if(!e)return".css-"+t+",[data-css-"+t+"]";var n=$(e).map((function(e){return e.indexOf("&")>=0?[e.replace(/\&/gm,".css-"+t),e.replace(/\&/gm,"[data-css-"+t+"]")].join(","):".css-"+t+e+",[data-css-"+t+"]"+e})).join(",");return x&&/^\&\:/.exec(e)&&!/\s/.exec(e)&&(n+=",.css-"+t+"[data-simulate-"+D(e)+"],[data-css-"+t+"][data-simulate-"+D(e)+"]"),n}function B(t){var e=t.selector,n=t.style,r=v.transform({selector:e,style:n});return r.selector+"{"+(0,a.createMarkupForStyles)(r.style)+"}"}function R(t){var e=void 0,n=void 0,r=void 0,i=void 0;return Object.keys(t).forEach((function(o){o.indexOf("&")>=0?(n=n||{},n[o]=t[o]):0===o.indexOf("@media")?(r=r||{},r[o]=R(t[o])):0===o.indexOf("@supports")?(i=i||{},i[o]=R(t[o])):"label"===o?t.label.length>0&&(e=e||{},e.label=C?t.label.join("."):""):(e=e||{},e[o]=t[o])})),{plain:e,selects:n,medias:r,supports:i}}function P(t,e){var n=[],r=e.plain,i=e.selects,o=e.medias,a=e.supports;return r&&n.push(B({style:r,selector:N(t)})),i&&Object.keys(i).forEach((function(e){return n.push(B({style:i[e],selector:N(t,e)}))})),o&&Object.keys(o).forEach((function(e){return n.push(e+"{"+P(t,o[e]).join("")+"}")})),a&&Object.keys(a).forEach((function(e){return n.push(e+"{"+P(t,a[e]).join("")+"}")})),n}var I=g.inserted={};function j(t){if(!I[t.id]){I[t.id]=!0;var e=R(t.style),n=P(t.id,e);I[t.id]=!!w||n,n.forEach((function(t){return g.insert(t)}))}}var L=g.registered={};function z(t){L[t.id]||(L[t.id]=t)}function U(t){if(T(t)){var e=L[F(t)];if(null==e)throw new Error("[glamor] an unexpected rule cache miss occurred. This is probably a sign of multiple glamor instances in your app. See https://github.com/threepointone/glamor/issues/79");return e}return t}var q={};function V(t){if(z(t),j(t),q[t.id])return q[t.id];var e=p({},"data-css-"+t.id,C&&t.label||"");return Object.defineProperty(e,"toString",{enumerable:!1,value:function(){return"css-"+t.id}}),q[t.id]=e,e}function H(t){for(var e=[":",".","[",">"," "],n=!1,r=t.charAt(0),i=0;i<e.length;i++)if(r===e[i]){n=!0;break}return n||t.indexOf("&")>=0}function W(t,e){var n=$(t).map((function(t){return t.indexOf("&")>=0?t:"&"+t})),r=$(e).map((function(t){return t.indexOf("&")>=0?t:"&"+t}));return r.reduce((function(t,e){return t.concat(n.map((function(t){return e.replace(/\&/g,t)})))}),[]).join(",")}function Y(t,e){return t?"@media "+t.substring(6)+" and "+e.substring(6):e}function G(t){return 0===t.indexOf("@media")}function K(t){return 0===t.indexOf("@supports")}function X(t,e){return t?"@supports "+t.substring(9)+" and "+e.substring(9):e}function J(t){for(var e=[],n=0;n<t.length;n++)e=Array.isArray(t[n])?e.concat(J(t[n])):e.concat(t[n]);return e}var Z={"::placeholder":["::-webkit-input-placeholder","::-moz-placeholder","::-ms-input-placeholder"],":fullscreen":[":-webkit-full-screen",":-moz-full-screen",":-ms-fullscreen"]};function Q(t,e){var n=e.selector,r=void 0===n?"":n,i=e.mq,o=void 0===i?"":i,a=e.supp,s=void 0===a?"":a,c=e.src,l=void 0===c?{}:c;Array.isArray(l)||(l=[l]),l=J(l),l.forEach((function(e){if(T(e)){var n=U(e);if("css"!==n.type)throw new Error("cannot merge this rule");e=n.style}e=(0,u.default)(e),e&&e.composes&&Q(t,{selector:r,mq:o,supp:s,src:e.composes}),Object.keys(e||{}).forEach((function(n){if(H(n))Z[n]&&Z[n].forEach((function(i){return Q(t,{selector:W(r,i),mq:o,supp:s,src:e[n]})})),Q(t,{selector:W(r,n),mq:o,supp:s,src:e[n]});else if(G(n))Q(t,{selector:r,mq:Y(o,n),supp:s,src:e[n]});else if(K(n))Q(t,{selector:r,mq:o,supp:X(s,n),src:e[n]});else if("composes"===n);else{var i=t;s&&(i[s]=i[s]||{},i=i[s]),o&&(i[o]=i[o]||{},i=i[o]),r&&(i[r]=i[r]||{},i=i[r]),"label"===n?C&&(t.label=t.label.concat(e.label)):i[n]=e[n]}}))}))}function tt(t){var e={label:[]};Q(e,{src:t});var n={id:M(e),style:e,label:C?e.label.join("."):"",type:"css"};return V(n)}var et={};Object.defineProperty(et,"toString",{enumerable:!1,value:function(){return"css-nil"}});var nt="undefined"!==typeof WeakMap?[et,new WeakMap,new WeakMap,new WeakMap]:[et],rt=!1;function it(t){return function(e){if(nt[e.length]){var n=nt[e.length],r=0;while(r<e.length-1)n.has(e[r])||n.set(e[r],new WeakMap),n=n.get(e[r]),r++;if(n.has(e[e.length-1])){var i=n.get(e[r]);if(L[i.toString().substring(4)])return i}}var o=t(e);if(nt[e.length]){var a=0,s=nt[e.length];while(a<e.length-1)s=s.get(e[a]),a++;try{s.set(e[a],o)}catch(c){var u;if(y&&!rt)rt=!0,(u=console).warn.apply(u,["failed setting the WeakMap cache for args:"].concat(d(e))),console.warn("this should NOT happen, please file a bug on the github repo.")}}return o}}var ot="undefined"!==typeof WeakMap?it(tt):tt;function at(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e[0]&&e[0].length&&e[0].raw)throw new Error("you forgot to include glamor/babel in your babel plugins.");return e=(0,u.default)(e),e?ot(e):et}at.insert=function(t){var e={id:M(t),css:t,type:"raw"};z(e),I[e.id]||(g.insert(e.css),I[e.id]=!!w||[e.css])};e.insertRule=at.insert;at.global=function(t,e){if(e=(0,u.default)(e),e)return at.insert(B({selector:t,style:e}))};e.insertGlobal=at.global;function st(t){if(!I[t.id]){var e=Object.keys(t.keyframes).map((function(e){var n=v.keyframes.transform({id:t.id,name:e,style:t.keyframes[e]});return n.name+"{"+(0,a.createMarkupForStyles)(n.style)+"}"})).join(""),n=["-webkit-","-moz-","-o-",""].map((function(n){return"@"+n+"keyframes "+t.name+"_"+t.id+"{"+e+"}"}));n.forEach((function(t){return g.insert(t)})),I[t.id]=!!w||n}}at.keyframes=function(t,e){e||(e=t,t="animation"),e=(0,u.default)(e)||{};var n={id:M({name:t,kfs:e}),type:"keyframes",name:t,keyframes:e};return z(n),st(n),t+"_"+n.id},at.fontFace=function(t){t=(0,u.default)(t);var e={id:M(t),type:"font-face",font:t};return z(e),ut(e),t.fontFamily};e.fontFace=at.fontFace,e.keyframes=at.keyframes;function ut(t){if(!I[t.id]){var e="@font-face{"+(0,a.createMarkupForStyles)(t.font)+"}";g.insert(e),I[t.id]=!!w||[e]}}function ct(t){(0,i.default)(I,t.reduce((function(t,e){return t[e]=!0,t}),{}))}function lt(){I=g.inserted={},L=g.registered={},q={},g.flush(),g.inject()}e.presets={mobile:"(min-width: 400px)",Mobile:"@media (min-width: 400px)",phablet:"(min-width: 550px)",Phablet:"@media (min-width: 550px)",tablet:"(min-width: 750px)",Tablet:"@media (min-width: 750px)",desktop:"(min-width: 1000px)",Desktop:"@media (min-width: 1000px)",hd:"(min-width: 1200px)",Hd:"@media (min-width: 1200px)"};var ft=e.style=at;function ht(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t?at(p({},t,n)):ft(n)}e.$=ht;function dt(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return at(p({},t+" &",n))}e.merge=at,e.compose=at;function pt(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return at(p({},"@media "+t,n))}function gt(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return at(p({},t,n))}function mt(t){return gt(":active",t)}function vt(t){return gt(":any",t)}function yt(t){return gt(":checked",t)}function bt(t){return gt(":disabled",t)}function wt(t){return gt(":empty",t)}function xt(t){return gt(":enabled",t)}function _t(t){return gt(":default",t)}function kt(t){return gt(":first",t)}function At(t){return gt(":first-child",t)}function St(t){return gt(":first-of-type",t)}function Ct(t){return gt(":fullscreen",t)}function Et(t){return gt(":focus",t)}function Dt(t){return gt(":hover",t)}function Mt(t){return gt(":indeterminate",t)}function Tt(t){return gt(":in-range",t)}function Ft(t){return gt(":invalid",t)}function Ot(t){return gt(":last-child",t)}function $t(t){return gt(":last-of-type",t)}function Nt(t){return gt(":left",t)}function Bt(t){return gt(":link",t)}function Rt(t){return gt(":only-child",t)}function Pt(t){return gt(":only-of-type",t)}function It(t){return gt(":optional",t)}function jt(t){return gt(":out-of-range",t)}function Lt(t){return gt(":read-only",t)}function zt(t){return gt(":read-write",t)}function Ut(t){return gt(":required",t)}function qt(t){return gt(":right",t)}function Vt(t){return gt(":root",t)}function Ht(t){return gt(":scope",t)}function Wt(t){return gt(":target",t)}function Yt(t){return gt(":valid",t)}function Gt(t){return gt(":visited",t)}function Kt(t,e){return gt(":dir("+t+")",e)}function Xt(t,e){return gt(":lang("+t+")",e)}function Jt(t,e){var n=t.split(",").map((function(t){return t.trim()})).map((function(t){return":not("+t+")"}));return 1===n.length?gt(":not("+t+")",e):ht(n.join(""),e)}function Zt(t,e){return gt(":nth-child("+t+")",e)}function Qt(t,e){return gt(":nth-last-child("+t+")",e)}function te(t,e){return gt(":nth-last-of-type("+t+")",e)}function ee(t,e){return gt(":nth-of-type("+t+")",e)}function ne(t){return gt("::after",t)}function re(t){return gt("::before",t)}function ie(t){return gt("::first-letter",t)}function oe(t){return gt("::first-line",t)}function ae(t){return gt("::selection",t)}function se(t){return gt("::backdrop",t)}function ue(t){return at({"::placeholder":t})}function ce(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e=(0,u.default)(e),e?e.map((function(t){var e={label:[]};return Q(e,{src:t}),P(M(e),R(e)).join("")})).join(""):""}function le(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];e=(0,u.default)(e);var r=e?e.map((function(t){F(t);var e=Object.keys(t)[0],n=t[e];return e+'="'+(n||"")+'"'})).join(" "):"";return r}},7769:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.PluginSet=f,e.fallbacks=h,e.contentWrap=p,e.prefixes=g;var i=n(5228),o=c(i),a=n(6050),s=n(9654),u=c(s);function c(t){return t&&t.__esModule?t:{default:t}}var l=function(t){return"development"===t||!t}("production");function f(t){this.fns=t||[]}function h(t){var e=Object.keys(t.style).map((function(e){return Array.isArray(t.style[e])})).indexOf(!0)>=0;if(e){var n=t.style,r=Object.keys(n).reduce((function(t,e){return t[e]=Array.isArray(n[e])?n[e].join("; "+(0,a.processStyleName)(e)+": "):n[e],t}),{});return(0,o.default)({},t,{style:r})}return t}(0,o.default)(f.prototype,{add:function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach((function(e){t.fns.indexOf(e)>=0?l&&console.warn("adding the same plugin again, ignoring"):t.fns=[e].concat(t.fns)}))},remove:function(t){this.fns=this.fns.filter((function(e){return e!==t}))},clear:function(){this.fns=[]},transform:function(t){return this.fns.reduce((function(t,e){return e(t)}),t)}});var d=["normal","none","counter","open-quote","close-quote","no-open-quote","no-close-quote","initial","inherit"];function p(t){if(t.style.content){var e=t.style.content;return d.indexOf(e)>=0||/^(attr|calc|counters?|url)\(/.test(e)?t:e.charAt(0)!==e.charAt(e.length-1)||'"'!==e.charAt(0)&&"'"!==e.charAt(0)?r({},t,{style:r({},t.style,{content:'"'+e+'"'})}):t}return t}function g(t){return(0,o.default)({},t,{style:(0,u.default)(r({},t.style))})}},9654:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=O;var r=n(113),i=M(r),o=n(4397),a=M(o),s=n(6127),u=M(s),c=n(1244),l=M(c),f=n(3038),h=M(f),d=n(436),p=M(d),g=n(1421),m=M(g),v=n(807),y=M(v),b=n(5086),w=M(b),x=n(7637),_=M(x),k=n(8877),A=M(k),S=n(4796),C=M(S),E=n(5309),D=M(E);function M(t){return t&&t.__esModule?t:{default:t}}var T=[h.default,l.default,p.default,y.default,w.default,_.default,A.default,C.default,D.default,m.default],F=i.default.prefixMap;function O(t){for(var e in t){var n=t[e],r=(0,u.default)(T,e,n,t,F);r&&(t[e]=r),(0,a.default)(F,e,t)}return t}},6314:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StyleSheet=p;var r=n(5228),i=o(r);function o(t){return t&&t.__esModule?t:{default:t}}function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function s(t){return t[t.length-1]}function u(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}var c="undefined"!==typeof window,l=!1,f=!1,h=function(){if(c){var t=document.createElement("div");return t.innerHTML="\x3c!--[if lt IE 10]><i></i><![endif]--\x3e",1===t.getElementsByTagName("i").length}}();function d(){var t=document.createElement("style");return t.type="text/css",t.setAttribute("data-glamor",""),t.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(t),t}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.speedy,n=void 0===e?!l&&!f:e,r=t.maxLength,i=void 0===r?c&&h?4e3:65e3:r;this.isSpeedy=n,this.sheet=void 0,this.tags=[],this.maxLength=i,this.ctr=0}(0,i.default)(p.prototype,{getSheet:function(){return u(s(this.tags))},inject:function(){var t=this;if(this.injected)throw new Error("already injected stylesheet!");c?this.tags[0]=d():this.sheet={cssRules:[],insertRule:function(e){t.sheet.cssRules.push({cssText:e})}},this.injected=!0},speedy:function(t){if(0!==this.ctr)throw new Error("cannot change speedy mode after inserting any rule to sheet. Either call speedy("+t+") earlier in your app, or call flush() before speedy("+t+")");this.isSpeedy=!!t},_insert:function(t){try{var e=this.getSheet();e.insertRule(t,-1!==t.indexOf("@import")?0:e.cssRules.length)}catch(n){l&&console.warn("whoops, illegal rule inserted",t)}},insert:function(t){if(c)if(this.isSpeedy&&this.getSheet().insertRule)this._insert(t);else if(-1!==t.indexOf("@import")){var e=s(this.tags);e.insertBefore(document.createTextNode(t),e.firstChild)}else s(this.tags).appendChild(document.createTextNode(t));else this.sheet.insertRule(t,-1!==t.indexOf("@import")?0:this.sheet.cssRules.length);return this.ctr++,c&&this.ctr%this.maxLength===0&&this.tags.push(d()),this.ctr-1},delete:function(t){return this.replace(t,"")},flush:function(){c?(this.tags.forEach((function(t){return t.parentNode.removeChild(t)})),this.tags=[],this.sheet=null,this.ctr=0):this.sheet.cssRules=[],this.injected=!1},rules:function(){if(!c)return this.sheet.cssRules;var t=[];return this.tags.forEach((function(e){return t.splice.apply(t,[t.length,0].concat(a(Array.from(u(e).cssRules))))})),t}})},5685:function(t,e,n){"use strict";n.r(e);var r=/[A-Z]/g,i=/^ms-/,o={};function a(t){return"-"+t.toLowerCase()}function s(t){if(o.hasOwnProperty(t))return o[t];var e=t.replace(r,a);return o[t]=i.test(e)?"-"+e:e}e["default"]=s},3038:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=s;var r=n(4014),i=o(r);function o(t){return t&&t.__esModule?t:{default:t}}var a=["-webkit-",""];function s(t,e){if("string"===typeof e&&!(0,i.default)(e)&&e.indexOf("cross-fade(")>-1)return a.map((function(t){return e.replace(/cross-fade\(/g,t+"cross-fade(")}))}t.exports=e["default"]},1244:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var n=["-webkit-","-moz-",""],r={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};function i(t,e){if("cursor"===t&&r.hasOwnProperty(e))return n.map((function(t){return t+e}))}t.exports=e["default"]},436:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=s;var r=n(4014),i=o(r);function o(t){return t&&t.__esModule?t:{default:t}}var a=["-webkit-",""];function s(t,e){if("string"===typeof e&&!(0,i.default)(e)&&e.indexOf("filter(")>-1)return a.map((function(t){return e.replace(/filter\(/g,t+"filter(")}))}t.exports=e["default"]},1421:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r;var n={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]};function r(t,e){if("display"===t&&n.hasOwnProperty(e))return n[e]}t.exports=e["default"]},807:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var n={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},r={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"};function i(t,e,i){"flexDirection"===t&&"string"===typeof e&&(e.indexOf("column")>-1?i.WebkitBoxOrient="vertical":i.WebkitBoxOrient="horizontal",e.indexOf("reverse")>-1?i.WebkitBoxDirection="reverse":i.WebkitBoxDirection="normal"),r.hasOwnProperty(t)&&(i[r[t]]=n[e]||e)}t.exports=e["default"]},5086:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=u;var r=n(4014),i=o(r);function o(t){return t&&t.__esModule?t:{default:t}}var a=["-webkit-","-moz-",""],s=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;function u(t,e){if("string"===typeof e&&!(0,i.default)(e)&&s.test(e))return a.map((function(t){return t+e}))}t.exports=e["default"]},7637:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=s;var r=n(4014),i=o(r);function o(t){return t&&t.__esModule?t:{default:t}}var a=["-webkit-",""];function s(t,e){if("string"===typeof e&&!(0,i.default)(e)&&e.indexOf("image-set(")>-1)return a.map((function(t){return e.replace(/image-set\(/g,t+"image-set(")}))}t.exports=e["default"]},8877:function(t,e){"use strict";function n(t,e){if("position"===t&&"sticky"===e)return["-webkit-sticky","sticky"]}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n,t.exports=e["default"]},4796:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var n=["-webkit-","-moz-",""],r={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},i={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};function o(t,e){if(r.hasOwnProperty(t)&&i.hasOwnProperty(e))return n.map((function(t){return t+e}))}t.exports=e["default"]},5309:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=d;var r=n(5721),i=c(r),o=n(4014),a=c(o),s=n(7479),u=c(s);function c(t){return t&&t.__esModule?t:{default:t}}var l={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},f={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};function h(t,e){if((0,a.default)(t))return t;for(var n=t.split(/,(?![^()]*(?:\([^()]*\))?\))/g),r=0,o=n.length;r<o;++r){var s=n[r],u=[s];for(var c in e){var l=(0,i.default)(c);if(s.indexOf(l)>-1&&"order"!==l)for(var h=e[c],d=0,p=h.length;d<p;++d)u.unshift(s.replace(l,f[h[d]]+l))}n[r]=u.join(",")}return n.join(",")}function d(t,e,n,r){if("string"===typeof e&&l.hasOwnProperty(t)){var i=h(e,r),o=i.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(t){return!/-moz-|-ms-/.test(t)})).join(",");if(t.indexOf("Webkit")>-1)return o;var a=i.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(t){return!/-webkit-|-ms-/.test(t)})).join(",");return t.indexOf("Moz")>-1?a:(n["Webkit"+(0,u.default)(t)]=o,n["Moz"+(0,u.default)(t)]=a,i)}}t.exports=e["default"]},113:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=["Webkit"],r=["Moz"],i=["ms"],o=["Webkit","Moz"],a=["Webkit","ms"],s=["Webkit","Moz","ms"];e["default"]={plugins:[],prefixMap:{appearance:o,userSelect:s,textEmphasisPosition:n,textEmphasis:n,textEmphasisStyle:n,textEmphasisColor:n,boxDecorationBreak:n,clipPath:n,maskImage:n,maskMode:n,maskRepeat:n,maskPosition:n,maskClip:n,maskOrigin:n,maskSize:n,maskComposite:n,mask:n,maskBorderSource:n,maskBorderMode:n,maskBorderSlice:n,maskBorderWidth:n,maskBorderOutset:n,maskBorderRepeat:n,maskBorder:n,maskType:n,textDecorationStyle:n,textDecorationSkip:n,textDecorationLine:n,textDecorationColor:n,filter:n,fontFeatureSettings:n,breakAfter:s,breakBefore:s,breakInside:s,columnCount:o,columnFill:o,columnGap:o,columnRule:o,columnRuleColor:o,columnRuleStyle:o,columnRuleWidth:o,columns:o,columnSpan:o,columnWidth:o,writingMode:a,flex:n,flexBasis:n,flexDirection:n,flexGrow:n,flexFlow:n,flexShrink:n,flexWrap:n,alignContent:n,alignItems:n,alignSelf:n,justifyContent:n,order:n,transform:n,transformOrigin:n,transformOriginX:n,transformOriginY:n,backfaceVisibility:n,perspective:n,perspectiveOrigin:n,transformStyle:n,transformOriginZ:n,animation:n,animationDelay:n,animationDirection:n,animationFillMode:n,animationDuration:n,animationIterationCount:n,animationName:n,animationPlayState:n,animationTimingFunction:n,backdropFilter:n,fontKerning:n,scrollSnapType:a,scrollSnapPointsX:a,scrollSnapPointsY:a,scrollSnapDestination:a,scrollSnapCoordinate:a,shapeImageThreshold:n,shapeImageMargin:n,shapeImageOutside:n,hyphens:s,flowInto:a,flowFrom:a,regionFragment:a,textAlignLast:r,tabSize:r,wrapFlow:i,wrapThrough:i,wrapMargin:i,gridTemplateColumns:i,gridTemplateRows:i,gridTemplateAreas:i,gridTemplate:i,gridAutoColumns:i,gridAutoRows:i,gridAutoFlow:i,grid:i,gridRowStart:i,gridColumnStart:i,gridRowEnd:i,gridRow:i,gridColumn:i,gridColumnEnd:i,gridColumnGap:i,gridRowGap:i,gridArea:i,gridGap:i,textSizeAdjust:a,borderImage:n,borderImageOutset:n,borderImageRepeat:n,borderImageSlice:n,borderImageSource:n,borderImageWidth:n,transitionDelay:n,transitionDuration:n,transitionProperty:n,transitionTimingFunction:n}},t.exports=e["default"]},7479:function(t,e){"use strict";function n(t){return t.charAt(0).toUpperCase()+t.slice(1)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n,t.exports=e["default"]},4397:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=a;var r=n(7479),i=o(r);function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e,n){if(t.hasOwnProperty(e))for(var r=t[e],o=0,a=r.length;o<a;++o)n[r[o]+(0,i.default)(e)]=n[e]}t.exports=e["default"]},6127:function(t,e){"use strict";function n(t,e,n,r,i){for(var o=0,a=t.length;o<a;++o){var s=t[o](e,n,r,i);if(s)return s}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n,t.exports=e["default"]},788:function(t,e,n){"use strict";n.r(e),n.d(e,{isAnyArray:function(){return i}});const r=Object.prototype.toString;function i(t){const e=r.call(t);return e.endsWith("Array]")&&!e.includes("Big")}},6572:function(t){(function(e,n){t.exports=n()})(0,(function(){var t=function(t,e){var n=Array.prototype.concat,r=Array.prototype.slice,i=Object.prototype.toString;function o(e,n){var r=e>n?e:n;return t.pow(10,17-~~(t.log(r>0?r:-r)*t.LOG10E))}var a=Array.isArray||function(t){return"[object Array]"===i.call(t)};function s(t){return"[object Function]"===i.call(t)}function u(t){return"number"===typeof t&&t-t===0}function c(t){return n.apply([],t)}function l(){return new l._init(arguments)}function f(){return 0}function h(){return 1}function d(t,e){return t===e?1:0}l.fn=l.prototype,l._init=function(t){if(a(t[0]))if(a(t[0][0])){s(t[1])&&(t[0]=l.map(t[0],t[1]));for(var e=0;e<t[0].length;e++)this[e]=t[0][e];this.length=t[0].length}else this[0]=s(t[1])?l.map(t[0],t[1]):t[0],this.length=1;else if(u(t[0]))this[0]=l.seq.apply(null,t),this.length=1;else{if(t[0]instanceof l)return l(t[0].toArray());this[0]=[],this.length=1}return this},l._init.prototype=l.prototype,l._init.constructor=l,l.utils={calcRdx:o,isArray:a,isFunction:s,isNumber:u,toVector:c},l._random_fn=t.random,l.setRandom=function(t){if("function"!==typeof t)throw new TypeError("fn is not a function");l._random_fn=t},l.extend=function(t){var e,n;if(1===arguments.length){for(n in t)l[n]=t[n];return this}for(e=1;e<arguments.length;e++)for(n in arguments[e])t[n]=arguments[e][n];return t},l.rows=function(t){return t.length||1},l.cols=function(t){return t[0].length||1},l.dimensions=function(t){return{rows:l.rows(t),cols:l.cols(t)}},l.row=function(t,e){return a(e)?e.map((function(e){return l.row(t,e)})):t[e]},l.rowa=function(t,e){return l.row(t,e)},l.col=function(t,e){if(a(e)){var n=l.arange(t.length).map((function(){return new Array(e.length)}));return e.forEach((function(e,r){l.arange(t.length).forEach((function(i){n[i][r]=t[i][e]}))})),n}for(var r=new Array(t.length),i=0;i<t.length;i++)r[i]=[t[i][e]];return r},l.cola=function(t,e){return l.col(t,e).map((function(t){return t[0]}))},l.diag=function(t){for(var e=l.rows(t),n=new Array(e),r=0;r<e;r++)n[r]=[t[r][r]];return n},l.antidiag=function(t){for(var e=l.rows(t)-1,n=new Array(e),r=0;e>=0;e--,r++)n[r]=[t[r][e]];return n},l.transpose=function(t){var e,n,r,i,o,s=[];for(a(t[0])||(t=[t]),n=t.length,r=t[0].length,o=0;o<r;o++){for(e=new Array(n),i=0;i<n;i++)e[i]=t[i][o];s.push(e)}return 1===s.length?s[0]:s},l.map=function(t,e,n){var r,i,o,s,u;for(a(t[0])||(t=[t]),i=t.length,o=t[0].length,s=n?t:new Array(i),r=0;r<i;r++)for(s[r]||(s[r]=new Array(o)),u=0;u<o;u++)s[r][u]=e(t[r][u],r,u);return 1===s.length?s[0]:s},l.cumreduce=function(t,e,n){var r,i,o,s,u;for(a(t[0])||(t=[t]),i=t.length,o=t[0].length,s=n?t:new Array(i),r=0;r<i;r++)for(s[r]||(s[r]=new Array(o)),o>0&&(s[r][0]=t[r][0]),u=1;u<o;u++)s[r][u]=e(s[r][u-1],t[r][u]);return 1===s.length?s[0]:s},l.alter=function(t,e){return l.map(t,e,!0)},l.create=function(t,e,n){var r,i,o=new Array(t);for(s(e)&&(n=e,e=t),r=0;r<t;r++)for(o[r]=new Array(e),i=0;i<e;i++)o[r][i]=n(r,i);return o},l.zeros=function(t,e){return u(e)||(e=t),l.create(t,e,f)},l.ones=function(t,e){return u(e)||(e=t),l.create(t,e,h)},l.rand=function(t,e){return u(e)||(e=t),l.create(t,e,l._random_fn)},l.identity=function(t,e){return u(e)||(e=t),l.create(t,e,d)},l.symmetric=function(t){var e,n,r=t.length;if(t.length!==t[0].length)return!1;for(e=0;e<r;e++)for(n=0;n<r;n++)if(t[n][e]!==t[e][n])return!1;return!0},l.clear=function(t){return l.alter(t,f)},l.seq=function(t,e,n,r){s(r)||(r=!1);var i,a=[],u=o(t,e),c=(e*u-t*u)/((n-1)*u),l=t;for(i=0;l<=e&&i<n;i++,l=(t*u+c*u*i)/u)a.push(r?r(l,i):l);return a},l.arange=function(t,n,r){var i,o=[];if(r=r||1,n===e&&(n=t,t=0),t===n||0===r)return[];if(t<n&&r<0)return[];if(t>n&&r>0)return[];if(r>0)for(i=t;i<n;i+=r)o.push(i);else for(i=t;i>n;i+=r)o.push(i);return o},l.slice=function(){function t(t,n,r,i){var o,a=[],s=t.length;if(n===e&&r===e&&i===e)return l.copy(t);if(n=n||0,r=r||t.length,n=n>=0?n:s+n,r=r>=0?r:s+r,i=i||1,n===r||0===i)return[];if(n<r&&i<0)return[];if(n>r&&i>0)return[];if(i>0)for(o=n;o<r;o+=i)a.push(t[o]);else for(o=n;o>r;o+=i)a.push(t[o]);return a}function n(e,n){var r,i;if(n=n||{},u(n.row)){if(u(n.col))return e[n.row][n.col];var o=l.rowa(e,n.row);return r=n.col||{},t(o,r.start,r.end,r.step)}if(u(n.col)){var a=l.cola(e,n.col);return i=n.row||{},t(a,i.start,i.end,i.step)}i=n.row||{},r=n.col||{};var s=t(e,i.start,i.end,i.step);return s.map((function(e){return t(e,r.start,r.end,r.step)}))}return n}(),l.sliceAssign=function(n,r,i){var o,a;if(u(r.row)){if(u(r.col))return n[r.row][r.col]=i;r.col=r.col||{},r.col.start=r.col.start||0,r.col.end=r.col.end||n[0].length,r.col.step=r.col.step||1,o=l.arange(r.col.start,t.min(n.length,r.col.end),r.col.step);var s=r.row;return o.forEach((function(t,e){n[s][t]=i[e]})),n}if(u(r.col)){r.row=r.row||{},r.row.start=r.row.start||0,r.row.end=r.row.end||n.length,r.row.step=r.row.step||1,a=l.arange(r.row.start,t.min(n[0].length,r.row.end),r.row.step);var c=r.col;return a.forEach((function(t,e){n[t][c]=i[e]})),n}return i[0].length===e&&(i=[i]),r.row.start=r.row.start||0,r.row.end=r.row.end||n.length,r.row.step=r.row.step||1,r.col.start=r.col.start||0,r.col.end=r.col.end||n[0].length,r.col.step=r.col.step||1,a=l.arange(r.row.start,t.min(n.length,r.row.end),r.row.step),o=l.arange(r.col.start,t.min(n[0].length,r.col.end),r.col.step),a.forEach((function(t,e){o.forEach((function(r,o){n[t][r]=i[e][o]}))})),n},l.diagonal=function(t){var e=l.zeros(t.length,t.length);return t.forEach((function(t,n){e[n][n]=t})),e},l.copy=function(t){return t.map((function(t){return u(t)?t:t.map((function(t){return t}))}))};var p=l.prototype;return p.length=0,p.push=Array.prototype.push,p.sort=Array.prototype.sort,p.splice=Array.prototype.splice,p.slice=Array.prototype.slice,p.toArray=function(){return this.length>1?r.call(this):r.call(this)[0]},p.map=function(t,e){return l(l.map(this,t,e))},p.cumreduce=function(t,e){return l(l.cumreduce(this,t,e))},p.alter=function(t){return l.alter(this,t),this},function(t){for(var e=0;e<t.length;e++)(function(t){p[t]=function(e){var n,r=this;return e?(setTimeout((function(){e.call(r,p[t].call(r))})),this):(n=l[t](this),a(n)?l(n):n)}})(t[e])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(t){for(var e=0;e<t.length;e++)(function(t){p[t]=function(e,n){var r=this;return n?(setTimeout((function(){n.call(r,p[t].call(r,e))})),this):l(l[t](this,e))}})(t[e])}("row col".split(" ")),function(t){for(var e=0;e<t.length;e++)(function(t){p[t]=function(){return l(l[t].apply(null,arguments))}})(t[e])}("create zeros ones rand identity".split(" ")),l}(Math);return function(t,e){var n=t.utils.isFunction;function r(t,e){return t-e}function i(t,n,r){return e.max(n,e.min(t,r))}t.sum=function(t){var e=0,n=t.length;while(--n>=0)e+=t[n];return e},t.sumsqrd=function(t){var e=0,n=t.length;while(--n>=0)e+=t[n]*t[n];return e},t.sumsqerr=function(e){var n,r=t.mean(e),i=0,o=e.length;while(--o>=0)n=e[o]-r,i+=n*n;return i},t.sumrow=function(t){var e=0,n=t.length;while(--n>=0)e+=t[n];return e},t.product=function(t){var e=1,n=t.length;while(--n>=0)e*=t[n];return e},t.min=function(t){var e=t[0],n=0;while(++n<t.length)t[n]<e&&(e=t[n]);return e},t.max=function(t){var e=t[0],n=0;while(++n<t.length)t[n]>e&&(e=t[n]);return e},t.unique=function(t){for(var e={},n=[],r=0;r<t.length;r++)e[t[r]]||(e[t[r]]=!0,n.push(t[r]));return n},t.mean=function(e){return t.sum(e)/e.length},t.meansqerr=function(e){return t.sumsqerr(e)/e.length},t.geomean=function(n){var r=n.map(e.log),i=t.mean(r);return e.exp(i)},t.median=function(t){var e=t.length,n=t.slice().sort(r);return 1&e?n[e/2|0]:(n[e/2-1]+n[e/2])/2},t.cumsum=function(e){return t.cumreduce(e,(function(t,e){return t+e}))},t.cumprod=function(e){return t.cumreduce(e,(function(t,e){return t*e}))},t.diff=function(t){var e,n=[],r=t.length;for(e=1;e<r;e++)n.push(t[e]-t[e-1]);return n},t.rank=function(t){var e,n=[],i={};for(e=0;e<t.length;e++){var o=t[e];i[o]?i[o]++:(i[o]=1,n.push(o))}var a=n.sort(r),s={},u=1;for(e=0;e<a.length;e++){o=a[e];var c=i[o],l=u,f=u+c-1,h=(l+f)/2;s[o]=h,u+=c}return t.map((function(t){return s[t]}))},t.mode=function(t){var e,n=t.length,i=t.slice().sort(r),o=1,a=0,s=0,u=[];for(e=0;e<n;e++)i[e]===i[e+1]?o++:(o>a?(u=[i[e]],a=o,s=0):o===a&&(u.push(i[e]),s++),o=1);return 0===s?u[0]:u},t.range=function(e){return t.max(e)-t.min(e)},t.variance=function(e,n){return t.sumsqerr(e)/(e.length-(n?1:0))},t.pooledvariance=function(e){var n=e.reduce((function(e,n){return e+t.sumsqerr(n)}),0),r=e.reduce((function(t,e){return t+e.length}),0);return n/(r-e.length)},t.deviation=function(e){for(var n=t.mean(e),r=e.length,i=new Array(r),o=0;o<r;o++)i[o]=e[o]-n;return i},t.stdev=function(n,r){return e.sqrt(t.variance(n,r))},t.pooledstdev=function(n){return e.sqrt(t.pooledvariance(n))},t.meandev=function(n){for(var r=t.mean(n),i=[],o=n.length-1;o>=0;o--)i.push(e.abs(n[o]-r));return t.mean(i)},t.meddev=function(n){for(var r=t.median(n),i=[],o=n.length-1;o>=0;o--)i.push(e.abs(n[o]-r));return t.median(i)},t.coeffvar=function(e){return t.stdev(e)/t.mean(e)},t.quartiles=function(t){var n=t.length,i=t.slice().sort(r);return[i[e.round(n/4)-1],i[e.round(n/2)-1],i[e.round(3*n/4)-1]]},t.quantiles=function(t,n,o,a){var s,u,c,l,f,h,d=t.slice().sort(r),p=[n.length],g=t.length;for("undefined"===typeof o&&(o=3/8),"undefined"===typeof a&&(a=3/8),s=0;s<n.length;s++)u=n[s],c=o+u*(1-o-a),l=g*u+c,f=e.floor(i(l,1,g-1)),h=i(l-f,0,1),p[s]=(1-h)*d[f-1]+h*d[f];return p},t.percentile=function(t,e,n){var i=t.slice().sort(r),o=e*(i.length+(n?1:-1))+(n?0:1),a=parseInt(o),s=o-a;return a+1<i.length?i[a-1]+s*(i[a]-i[a-1]):i[a-1]},t.percentileOfScore=function(t,e,n){var r,i,o=0,a=t.length,s=!1;for("strict"===n&&(s=!0),i=0;i<a;i++)r=t[i],(s&&r<e||!s&&r<=e)&&o++;return o/a},t.histogram=function(n,r){r=r||4;var i,o=t.min(n),a=(t.max(n)-o)/r,s=n.length,u=[];for(i=0;i<r;i++)u[i]=0;for(i=0;i<s;i++)u[e.min(e.floor((n[i]-o)/a),r-1)]+=1;return u},t.covariance=function(e,n){var r,i=t.mean(e),o=t.mean(n),a=e.length,s=new Array(a);for(r=0;r<a;r++)s[r]=(e[r]-i)*(n[r]-o);return t.sum(s)/(a-1)},t.corrcoeff=function(e,n){return t.covariance(e,n)/t.stdev(e,1)/t.stdev(n,1)},t.spearmancoeff=function(e,n){return e=t.rank(e),n=t.rank(n),t.corrcoeff(e,n)},t.stanMoment=function(n,r){for(var i=t.mean(n),o=t.stdev(n),a=n.length,s=0,u=0;u<a;u++)s+=e.pow((n[u]-i)/o,r);return s/n.length},t.skewness=function(e){return t.stanMoment(e,3)},t.kurtosis=function(e){return t.stanMoment(e,4)-3};var o=t.prototype;(function(e){for(var r=0;r<e.length;r++)(function(e){o[e]=function(r,i){var a=[],s=0,u=this;if(n(r)&&(i=r,r=!1),i)return setTimeout((function(){i.call(u,o[e].call(u,r))})),this;if(this.length>1){for(u=!0===r?this:this.transpose();s<u.length;s++)a[s]=t[e](u[s]);return a}return t[e](this[0],r)}})(e[r])})("cumsum cumprod".split(" ")),function(e){for(var r=0;r<e.length;r++)(function(e){o[e]=function(r,i){var a=[],s=0,u=this;if(n(r)&&(i=r,r=!1),i)return setTimeout((function(){i.call(u,o[e].call(u,r))})),this;if(this.length>1){for("sumrow"!==e&&(u=!0===r?this:this.transpose());s<u.length;s++)a[s]=t[e](u[s]);return!0===r?t[e](t.utils.toVector(a)):a}return t[e](this[0],r)}})(e[r])}("sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr geomean median diff rank mode range variance deviation stdev meandev meddev coeffvar quartiles histogram skewness kurtosis".split(" ")),function(e){for(var r=0;r<e.length;r++)(function(e){o[e]=function(){var r,i=[],a=0,s=this,u=Array.prototype.slice.call(arguments);if(n(u[u.length-1])){r=u[u.length-1];var c=u.slice(0,u.length-1);return setTimeout((function(){r.call(s,o[e].apply(s,c))})),this}r=void 0;var l=function(n){return t[e].apply(s,[n].concat(u))};if(this.length>1){for(s=s.transpose();a<s.length;a++)i[a]=l(s[a]);return i}return l(this[0])}})(e[r])}("quantiles percentileOfScore".split(" "))}(t,Math),function(t,e){t.gammaln=function(t){var n,r,i,o=0,a=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],s=1.000000000190015;for(i=(r=n=t)+5.5,i-=(n+.5)*e.log(i);o<6;o++)s+=a[o]/++r;return e.log(2.5066282746310007*s/n)-i},t.loggam=function(t){var n,r,i,o,a,s,u,c=[.08333333333333333,-.002777777777777778,.0007936507936507937,-.0005952380952380952,.0008417508417508418,-.001917526917526918,.00641025641025641,-.02955065359477124,.1796443723688307,-1.3924322169059];if(n=t,u=0,1==t||2==t)return 0;for(t<=7&&(u=e.floor(7-t),n=t+u),r=1/(n*n),i=2*e.PI,a=c[9],s=8;s>=0;s--)a*=r,a+=c[s];if(o=a/n+.5*e.log(i)+(n-.5)*e.log(n)-n,t<=7)for(s=1;s<=u;s++)o-=e.log(n-1),n-=1;return o},t.gammafn=function(t){var n,r,i,o,a=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],s=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],u=!1,c=0,l=0,f=0,h=t;if(t>171.6243769536076)return 1/0;if(h<=0){if(o=h%1+36e-17,!o)return 1/0;u=(1&h?-1:1)*e.PI/e.sin(e.PI*o),h=1-h}for(i=h,r=h<1?h++:(h-=c=(0|h)-1)-1,n=0;n<8;++n)f=(f+a[n])*r,l=l*r+s[n];if(o=f/l+1,i<h)o/=i;else if(i>h)for(n=0;n<c;++n)o*=h,h++;return u&&(o=u/o),o},t.gammap=function(e,n){return t.lowRegGamma(e,n)*t.gammafn(e)},t.lowRegGamma=function(n,r){var i,o=t.gammaln(n),a=n,s=1/n,u=s,c=r+1-n,l=1/1e-30,f=1/c,h=f,d=1,p=-~(8.5*e.log(n>=1?n:1/n)+.4*n+17);if(r<0||n<=0)return NaN;if(r<n+1){for(;d<=p;d++)s+=u*=r/++a;return s*e.exp(-r+n*e.log(r)-o)}for(;d<=p;d++)i=-d*(d-n),c+=2,f=i*f+c,l=c+i/l,f=1/f,h*=f*l;return 1-h*e.exp(-r+n*e.log(r)-o)},t.factorialln=function(e){return e<0?NaN:t.gammaln(e+1)},t.factorial=function(e){return e<0?NaN:t.gammafn(e+1)},t.combination=function(n,r){return n>170||r>170?e.exp(t.combinationln(n,r)):t.factorial(n)/t.factorial(r)/t.factorial(n-r)},t.combinationln=function(e,n){return t.factorialln(e)-t.factorialln(n)-t.factorialln(e-n)},t.permutation=function(e,n){return t.factorial(e)/t.factorial(e-n)},t.betafn=function(n,r){if(!(n<=0||r<=0))return n+r>170?e.exp(t.betaln(n,r)):t.gammafn(n)*t.gammafn(r)/t.gammafn(n+r)},t.betaln=function(e,n){return t.gammaln(e)+t.gammaln(n)-t.gammaln(e+n)},t.betacf=function(t,n,r){var i,o,a,s,u=1e-30,c=1,l=n+r,f=n+1,h=n-1,d=1,p=1-l*t/f;for(e.abs(p)<u&&(p=u),p=1/p,s=p;c<=100;c++)if(i=2*c,o=c*(r-c)*t/((h+i)*(n+i)),p=1+o*p,e.abs(p)<u&&(p=u),d=1+o/d,e.abs(d)<u&&(d=u),p=1/p,s*=p*d,o=-(n+c)*(l+c)*t/((n+i)*(f+i)),p=1+o*p,e.abs(p)<u&&(p=u),d=1+o/d,e.abs(d)<u&&(d=u),p=1/p,a=p*d,s*=a,e.abs(a-1)<3e-7)break;return s},t.gammapinv=function(n,r){var i,o,a,s,u,c,l,f=0,h=r-1,d=1e-8,p=t.gammaln(r);if(n>=1)return e.max(100,r+100*e.sqrt(r));if(n<=0)return 0;for(r>1?(c=e.log(h),l=e.exp(h*(c-1)-p),u=n<.5?n:1-n,a=e.sqrt(-2*e.log(u)),i=(2.30753+.27061*a)/(1+a*(.99229+.04481*a))-a,n<.5&&(i=-i),i=e.max(.001,r*e.pow(1-1/(9*r)-i/(3*e.sqrt(r)),3))):(a=1-r*(.253+.12*r),i=n<a?e.pow(n/a,1/r):1-e.log(1-(n-a)/(1-a)));f<12;f++){if(i<=0)return 0;if(o=t.lowRegGamma(r,i)-n,a=r>1?l*e.exp(-(i-h)+h*(e.log(i)-c)):e.exp(-i+h*e.log(i)-p),s=o/a,i-=a=s/(1-.5*e.min(1,s*((r-1)/i-1))),i<=0&&(i=.5*(i+a)),e.abs(a)<d*i)break}return i},t.erf=function(t){var n,r,i,o,a=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,1.5626441722e-8,-8.5238095915e-8,6.529054439e-9,5.059343495e-9,-9.91364156e-10,-2.27365122e-10,96467911e-18,2394038e-18,-6886027e-18,894487e-18,313092e-18,-112708e-18,381e-18,7106e-18,-1523e-18,-94e-18,121e-18,-28e-18],s=a.length-1,u=!1,c=0,l=0;for(t<0&&(t=-t,u=!0),n=2/(2+t),r=4*n-2;s>0;s--)i=c,c=r*c-l+a[s],l=i;return o=n*e.exp(-t*t+.5*(a[0]+r*c)-l),u?o-1:1-o},t.erfc=function(e){return 1-t.erf(e)},t.erfcinv=function(n){var r,i,o,a,s=0;if(n>=2)return-100;if(n<=0)return 100;for(a=n<1?n:2-n,o=e.sqrt(-2*e.log(a/2)),r=-.70711*((2.30753+.27061*o)/(1+o*(.99229+.04481*o))-o);s<2;s++)i=t.erfc(r)-a,r+=i/(1.1283791670955126*e.exp(-r*r)-r*i);return n<1?r:-r},t.ibetainv=function(n,r,i){var o,a,s,u,c,l,f,h,d,p,g,m=1e-8,v=r-1,y=i-1,b=0;if(n<=0)return 0;if(n>=1)return 1;for(r>=1&&i>=1?(s=n<.5?n:1-n,u=e.sqrt(-2*e.log(s)),f=(2.30753+.27061*u)/(1+u*(.99229+.04481*u))-u,n<.5&&(f=-f),h=(f*f-3)/6,d=2/(1/(2*r-1)+1/(2*i-1)),p=f*e.sqrt(h+d)/d-(1/(2*i-1)-1/(2*r-1))*(h+5/6-2/(3*d)),f=r/(r+i*e.exp(2*p))):(o=e.log(r/(r+i)),a=e.log(i/(r+i)),u=e.exp(r*o)/r,c=e.exp(i*a)/i,p=u+c,f=n<u/p?e.pow(r*p*n,1/r):1-e.pow(i*p*(1-n),1/i)),g=-t.gammaln(r)-t.gammaln(i)+t.gammaln(r+i);b<10;b++){if(0===f||1===f)return f;if(l=t.ibeta(f,r,i)-n,u=e.exp(v*e.log(f)+y*e.log(1-f)+g),c=l/u,f-=u=c/(1-.5*e.min(1,c*(v/f-y/(1-f)))),f<=0&&(f=.5*(f+u)),f>=1&&(f=.5*(f+u+1)),e.abs(u)<m*f&&b>0)break}return f},t.ibeta=function(n,r,i){var o=0===n||1===n?0:e.exp(t.gammaln(r+i)-t.gammaln(r)-t.gammaln(i)+r*e.log(n)+i*e.log(1-n));return!(n<0||n>1)&&(n<(r+1)/(r+i+2)?o*t.betacf(n,r,i)/r:1-o*t.betacf(1-n,i,r)/i)},t.randn=function(n,r){var i,o,a,s,u;if(r||(r=n),n)return t.create(n,r,(function(){return t.randn()}));do{i=t._random_fn(),o=1.7156*(t._random_fn()-.5),a=i-.449871,s=e.abs(o)+.386595,u=a*a+s*(.196*s-.25472*a)}while(u>.27597&&(u>.27846||o*o>-4*e.log(i)*i*i));return o/i},t.randg=function(n,r,i){var o,a,s,u,c,l,f=n;if(i||(i=r),n||(n=1),r)return l=t.zeros(r,i),l.alter((function(){return t.randg(n)})),l;n<1&&(n+=1),o=n-1/3,a=1/e.sqrt(9*o);do{do{c=t.randn(),u=1+a*c}while(u<=0);u*=u*u,s=t._random_fn()}while(s>1-.331*e.pow(c,4)&&e.log(s)>.5*c*c+o*(1-u+e.log(u)));if(n==f)return o*u;do{s=t._random_fn()}while(0===s);return e.pow(s,1/f)*o*u},function(e){for(var n=0;n<e.length;n++)(function(e){t.fn[e]=function(){return t(t.map(this,(function(n){return t[e](n)})))}})(e[n])}("gammaln gammafn factorial factorialln".split(" ")),function(e){for(var n=0;n<e.length;n++)(function(e){t.fn[e]=function(){return t(t[e].apply(null,arguments))}})(e[n])}("randn".split(" "))}(t,Math),function(t,e){function n(t,n,r,i){var o,a=0,s=1,u=1,c=1,l=0,f=0;while(e.abs((u-f)/u)>i)f=u,o=-(n+l)*(n+r+l)*t/(n+2*l)/(n+2*l+1),a=u+o*a,s=c+o*s,l+=1,o=l*(r-l)*t/(n+2*l-1)/(n+2*l),u=a+o*u,c=s+o*c,a/=c,s/=c,u/=c,c=1;return u/n}function r(t){return t/e.abs(t)}function i(n,r,i){var o=12,a=6,s=-30,u=-50,c=60,l=8,f=3,h=2,d=3,p=[.9815606342467192,.9041172563704749,.7699026741943047,.5873179542866175,.3678314989981802,.1252334085114689],g=[.04717533638651183,.10693932599531843,.16007832854334622,.20316742672306592,.2334925365383548,.24914704581340277],m=.5*n;if(m>=l)return 1;var v,y=2*t.normal.cdf(m,0,1,1,0)-1;y=y>=e.exp(u/i)?e.pow(y,i):0,v=n>f?h:d;for(var b=m,w=(l-m)/v,x=b+w,_=0,k=i-1,A=1;A<=v;A++){for(var S=0,C=.5*(x+b),E=.5*(x-b),D=1;D<=o;D++){var M,T;a<D?(M=o-D+1,T=p[M-1]):(M=D,T=-p[M-1]);var F=E*T,O=C+F,$=O*O;if($>c)break;var N=2*t.normal.cdf(O,0,1,1,0),B=2*t.normal.cdf(O,n,1,1,0),R=.5*N-.5*B;R>=e.exp(s/k)&&(R=g[M-1]*e.exp(-.5*$)*e.pow(R,k),S+=R)}S*=2*E*i/e.sqrt(2*e.PI),_+=S,b=x,x+=w}return y+=_,y<=e.exp(s/r)?0:(y=e.pow(y,r),y>=1?1:y)}function o(t,n,r){var i=.322232421088,o=.099348462606,a=-1,s=.588581570495,u=-.342242088547,c=.531103462366,l=-.204231210125,f=.10353775285,h=-453642210148e-16,d=.0038560700634,p=.8832,g=.2368,m=1.214,v=1.208,y=1.4142,b=120,w=.5-.5*t,x=e.sqrt(e.log(1/(w*w))),_=x+((((x*h+l)*x+u)*x+a)*x+i)/((((x*d+f)*x+c)*x+s)*x+o);r<b&&(_+=(_*_*_+_)/r/4);var k=p-g*_;return r<b&&(k+=-m/r+v*_/r),_*(k*e.log(n-1)+y)}(function(e){for(var n=0;n<e.length;n++)(function(e){t[e]=function t(e,n,r){return this instanceof t?(this._a=e,this._b=n,this._c=r,this):new t(e,n,r)},t.fn[e]=function(n,r,i){var o=t[e](n,r,i);return o.data=this,o},t[e].prototype.sample=function(n){var r=this._a,i=this._b,o=this._c;return n?t.alter(n,(function(){return t[e].sample(r,i,o)})):t[e].sample(r,i,o)},function(n){for(var r=0;r<n.length;r++)(function(n){t[e].prototype[n]=function(r){var i=this._a,o=this._b,a=this._c;return r||0===r||(r=this.data),"number"!==typeof r?t.fn.map.call(r,(function(r){return t[e][n](r,i,o,a)})):t[e][n](r,i,o,a)}})(n[r])}("pdf cdf inv".split(" ")),function(n){for(var r=0;r<n.length;r++)(function(n){t[e].prototype[n]=function(){return t[e][n](this._a,this._b,this._c)}})(n[r])}("mean median mode variance".split(" "))})(e[n])})("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy laplace lognormal noncentralt normal pareto studentt weibull uniform binomial negbin hypgeom poisson triangular tukey arcsine".split(" ")),t.extend(t.beta,{pdf:function(n,r,i){return n>1||n<0?0:1==r&&1==i?1:r<512&&i<512?e.pow(n,r-1)*e.pow(1-n,i-1)/t.betafn(r,i):e.exp((r-1)*e.log(n)+(i-1)*e.log(1-n)-t.betaln(r,i))},cdf:function(e,n,r){return e>1||e<0?1*(e>1):t.ibeta(e,n,r)},inv:function(e,n,r){return t.ibetainv(e,n,r)},mean:function(t,e){return t/(t+e)},median:function(e,n){return t.ibetainv(.5,e,n)},mode:function(t,e){return(t-1)/(t+e-2)},sample:function(e,n){var r=t.randg(e);return r/(r+t.randg(n))},variance:function(t,n){return t*n/(e.pow(t+n,2)*(t+n+1))}}),t.extend(t.centralF,{pdf:function(n,r,i){var o,a,s;return n<0?0:r<=2?0===n&&r<2?1/0:0===n&&2===r?1:1/t.betafn(r/2,i/2)*e.pow(r/i,r/2)*e.pow(n,r/2-1)*e.pow(1+r/i*n,-(r+i)/2):(o=r*n/(i+n*r),a=i/(i+n*r),s=r*a/2,s*t.binomial.pdf((r-2)/2,(r+i-2)/2,o))},cdf:function(e,n,r){return e<0?0:t.ibeta(n*e/(n*e+r),n/2,r/2)},inv:function(e,n,r){return r/(n*(1/t.ibetainv(e,n/2,r/2)-1))},mean:function(t,e){return e>2?e/(e-2):void 0},mode:function(t,e){return t>2?e*(t-2)/(t*(e+2)):void 0},sample:function(e,n){var r=2*t.randg(e/2),i=2*t.randg(n/2);return r/e/(i/n)},variance:function(t,e){if(!(e<=4))return 2*e*e*(t+e-2)/(t*(e-2)*(e-2)*(e-4))}}),t.extend(t.cauchy,{pdf:function(t,n,r){return r<0?0:r/(e.pow(t-n,2)+e.pow(r,2))/e.PI},cdf:function(t,n,r){return e.atan((t-n)/r)/e.PI+.5},inv:function(t,n,r){return n+r*e.tan(e.PI*(t-.5))},median:function(t){return t},mode:function(t){return t},sample:function(n,r){return t.randn()*e.sqrt(1/(2*t.randg(.5)))*r+n}}),t.extend(t.chisquare,{pdf:function(n,r){return n<0?0:0===n&&2===r?.5:e.exp((r/2-1)*e.log(n)-n/2-r/2*e.log(2)-t.gammaln(r/2))},cdf:function(e,n){return e<0?0:t.lowRegGamma(n/2,e/2)},inv:function(e,n){return 2*t.gammapinv(e,.5*n)},mean:function(t){return t},median:function(t){return t*e.pow(1-2/(9*t),3)},mode:function(t){return t-2>0?t-2:0},sample:function(e){return 2*t.randg(e/2)},variance:function(t){return 2*t}}),t.extend(t.exponential,{pdf:function(t,n){return t<0?0:n*e.exp(-n*t)},cdf:function(t,n){return t<0?0:1-e.exp(-n*t)},inv:function(t,n){return-e.log(1-t)/n},mean:function(t){return 1/t},median:function(t){return 1/t*e.log(2)},mode:function(){return 0},sample:function(n){return-1/n*e.log(t._random_fn())},variance:function(t){return e.pow(t,-2)}}),t.extend(t.gamma,{pdf:function(n,r,i){return n<0?0:0===n&&1===r?1/i:e.exp((r-1)*e.log(n)-n/i-t.gammaln(r)-r*e.log(i))},cdf:function(e,n,r){return e<0?0:t.lowRegGamma(n,e/r)},inv:function(e,n,r){return t.gammapinv(e,n)*r},mean:function(t,e){return t*e},mode:function(t,e){if(t>1)return(t-1)*e},sample:function(e,n){return t.randg(e)*n},variance:function(t,e){return t*e*e}}),t.extend(t.invgamma,{pdf:function(n,r,i){return n<=0?0:e.exp(-(r+1)*e.log(n)-i/n-t.gammaln(r)+r*e.log(i))},cdf:function(e,n,r){return e<=0?0:1-t.lowRegGamma(n,r/e)},inv:function(e,n,r){return r/t.gammapinv(1-e,n)},mean:function(t,e){return t>1?e/(t-1):void 0},mode:function(t,e){return e/(t+1)},sample:function(e,n){return n/t.randg(e)},variance:function(t,e){if(!(t<=2))return e*e/((t-1)*(t-1)*(t-2))}}),t.extend(t.kumaraswamy,{pdf:function(t,n,r){return 0===t&&1===n?r:1===t&&1===r?n:e.exp(e.log(n)+e.log(r)+(n-1)*e.log(t)+(r-1)*e.log(1-e.pow(t,n)))},cdf:function(t,n,r){return t<0?0:t>1?1:1-e.pow(1-e.pow(t,n),r)},inv:function(t,n,r){return e.pow(1-e.pow(1-t,1/r),1/n)},mean:function(e,n){return n*t.gammafn(1+1/e)*t.gammafn(n)/t.gammafn(1+1/e+n)},median:function(t,n){return e.pow(1-e.pow(2,-1/n),1/t)},mode:function(t,n){if(t>=1&&n>=1&&1!==t&&1!==n)return e.pow((t-1)/(t*n-1),1/t)},variance:function(){throw new Error("variance not yet implemented")}}),t.extend(t.lognormal,{pdf:function(t,n,r){return t<=0?0:e.exp(-e.log(t)-.5*e.log(2*e.PI)-e.log(r)-e.pow(e.log(t)-n,2)/(2*r*r))},cdf:function(n,r,i){return n<0?0:.5+.5*t.erf((e.log(n)-r)/e.sqrt(2*i*i))},inv:function(n,r,i){return e.exp(-1.4142135623730951*i*t.erfcinv(2*n)+r)},mean:function(t,n){return e.exp(t+n*n/2)},median:function(t){return e.exp(t)},mode:function(t,n){return e.exp(t-n*n)},sample:function(n,r){return e.exp(t.randn()*r+n)},variance:function(t,n){return(e.exp(n*n)-1)*e.exp(2*t+n*n)}}),t.extend(t.noncentralt,{pdf:function(n,r,i){var o=1e-14;return e.abs(i)<o?t.studentt.pdf(n,r):e.abs(n)<o?e.exp(t.gammaln((r+1)/2)-i*i/2-.5*e.log(e.PI*r)-t.gammaln(r/2)):r/n*(t.noncentralt.cdf(n*e.sqrt(1+2/r),r+2,i)-t.noncentralt.cdf(n,r,i))},cdf:function(n,r,i){var o=1e-14,a=200;if(e.abs(i)<o)return t.studentt.cdf(n,r);var s=!1;n<0&&(s=!0,i=-i);var u=t.normal.cdf(-i,0,1),c=o+1,l=c,f=n*n/(n*n+r),h=0,d=e.exp(-i*i/2),p=e.exp(-i*i/2-.5*e.log(2)-t.gammaln(1.5))*i;while(h<a||l>o||c>o)l=c,h>0&&(d*=i*i/(2*h),p*=i*i/(2*(h+.5))),c=d*t.beta.cdf(f,h+.5,r/2)+p*t.beta.cdf(f,h+1,r/2),u+=.5*c,h++;return s?1-u:u}}),t.extend(t.normal,{pdf:function(t,n,r){return e.exp(-.5*e.log(2*e.PI)-e.log(r)-e.pow(t-n,2)/(2*r*r))},cdf:function(n,r,i){return.5*(1+t.erf((n-r)/e.sqrt(2*i*i)))},inv:function(e,n,r){return-1.4142135623730951*r*t.erfcinv(2*e)+n},mean:function(t){return t},median:function(t){return t},mode:function(t){return t},sample:function(e,n){return t.randn()*n+e},variance:function(t,e){return e*e}}),t.extend(t.pareto,{pdf:function(t,n,r){return t<n?0:r*e.pow(n,r)/e.pow(t,r+1)},cdf:function(t,n,r){return t<n?0:1-e.pow(n/t,r)},inv:function(t,n,r){return n/e.pow(1-t,1/r)},mean:function(t,n){if(!(n<=1))return n*e.pow(t,n)/(n-1)},median:function(t,n){return t*(n*e.SQRT2)},mode:function(t){return t},variance:function(t,n){if(!(n<=2))return t*t*n/(e.pow(n-1,2)*(n-2))}}),t.extend(t.studentt,{pdf:function(n,r){return r=r>1e100?1e100:r,1/(e.sqrt(r)*t.betafn(.5,r/2))*e.pow(1+n*n/r,-(r+1)/2)},cdf:function(n,r){var i=r/2;return t.ibeta((n+e.sqrt(n*n+r))/(2*e.sqrt(n*n+r)),i,i)},inv:function(n,r){var i=t.ibetainv(2*e.min(n,1-n),.5*r,.5);return i=e.sqrt(r*(1-i)/i),n>.5?i:-i},mean:function(t){return t>1?0:void 0},median:function(){return 0},mode:function(){return 0},sample:function(n){return t.randn()*e.sqrt(n/(2*t.randg(n/2)))},variance:function(t){return t>2?t/(t-2):t>1?1/0:void 0}}),t.extend(t.weibull,{pdf:function(t,n,r){return t<0||n<0||r<0?0:r/n*e.pow(t/n,r-1)*e.exp(-e.pow(t/n,r))},cdf:function(t,n,r){return t<0?0:1-e.exp(-e.pow(t/n,r))},inv:function(t,n,r){return n*e.pow(-e.log(1-t),1/r)},mean:function(e,n){return e*t.gammafn(1+1/n)},median:function(t,n){return t*e.pow(e.log(2),1/n)},mode:function(t,n){return n<=1?0:t*e.pow((n-1)/n,1/n)},sample:function(n,r){return n*e.pow(-e.log(t._random_fn()),1/r)},variance:function(n,r){return n*n*t.gammafn(1+2/r)-e.pow(t.weibull.mean(n,r),2)}}),t.extend(t.uniform,{pdf:function(t,e,n){return t<e||t>n?0:1/(n-e)},cdf:function(t,e,n){return t<e?0:t<n?(t-e)/(n-e):1},inv:function(t,e,n){return e+t*(n-e)},mean:function(t,e){return.5*(t+e)},median:function(e,n){return t.mean(e,n)},mode:function(){throw new Error("mode is not yet implemented")},sample:function(e,n){return e/2+n/2+(n/2-e/2)*(2*t._random_fn()-1)},variance:function(t,n){return e.pow(n-t,2)/12}}),t.extend(t.binomial,{pdf:function(n,r,i){return 0===i||1===i?r*i===n?1:0:t.combination(r,n)*e.pow(i,n)*e.pow(1-i,r-n)},cdf:function(r,i,o){var a,s=1e-10;if(r<0)return 0;if(r>=i)return 1;if(o<0||o>1||i<=0)return NaN;r=e.floor(r);var u=o,c=r+1,l=i-r,f=c+l,h=e.exp(t.gammaln(f)-t.gammaln(l)-t.gammaln(c)+c*e.log(u)+l*e.log(1-u));return a=u<(c+1)/(f+2)?h*n(u,c,l,s):1-h*n(1-u,l,c,s),e.round(1/s*(1-a))/(1/s)}}),t.extend(t.negbin,{pdf:function(n,r,i){return n===n>>>0&&(n<0?0:t.combination(n+r-1,r-1)*e.pow(1-i,n)*e.pow(i,r))},cdf:function(e,n,r){var i=0,o=0;if(e<0)return 0;for(;o<=e;o++)i+=t.negbin.pdf(o,n,r);return i}}),t.extend(t.hypgeom,{pdf:function(n,r,i,o){if(n!==n|0)return!1;if(n<0||n<i-(r-o))return 0;if(n>o||n>i)return 0;if(2*i>r)return 2*o>r?t.hypgeom.pdf(r-i-o+n,r,r-i,r-o):t.hypgeom.pdf(o-n,r,r-i,o);if(2*o>r)return t.hypgeom.pdf(i-n,r,i,r-o);if(i<o)return t.hypgeom.pdf(n,r,o,i);for(var a=1,s=0,u=0;u<n;u++){while(a>1&&s<o)a*=1-i/(r-s),s++;a*=(o-u)*(i-u)/((u+1)*(r-i-o+u+1))}for(;s<o;s++)a*=1-i/(r-s);return e.min(1,e.max(0,a))},cdf:function(n,r,i,o){if(n<0||n<i-(r-o))return 0;if(n>=o||n>=i)return 1;if(2*i>r)return 2*o>r?t.hypgeom.cdf(r-i-o+n,r,r-i,r-o):1-t.hypgeom.cdf(o-n-1,r,r-i,o);if(2*o>r)return 1-t.hypgeom.cdf(i-n-1,r,i,r-o);if(i<o)return t.hypgeom.cdf(n,r,o,i);for(var a=1,s=1,u=0,c=0;c<n;c++){while(a>1&&u<o){var l=1-i/(r-u);s*=l,a*=l,u++}s*=(o-c)*(i-c)/((c+1)*(r-i-o+c+1)),a+=s}for(;u<o;u++)a*=1-i/(r-u);return e.min(1,e.max(0,a))}}),t.extend(t.poisson,{pdf:function(n,r){return r<0||n%1!==0||n<0?0:e.pow(r,n)*e.exp(-r)/t.factorial(n)},cdf:function(e,n){var r=[],i=0;if(e<0)return 0;for(;i<=e;i++)r.push(t.poisson.pdf(i,n));return t.sum(r)},mean:function(t){return t},variance:function(t){return t},sampleSmall:function(n){var r=1,i=0,o=e.exp(-n);do{i++,r*=t._random_fn()}while(r>o);return i-1},sampleLarge:function(n){var r,i,o,a,s,u,c,l,f,h,d=n;a=e.sqrt(d),s=e.log(d),c=.931+2.53*a,u=.02483*c-.059,l=1.1239+1.1328/(c-3.4),f=.9277-3.6224/(c-2);while(1){if(i=e.random()-.5,o=e.random(),h=.5-e.abs(i),r=e.floor((2*u/h+c)*i+d+.43),h>=.07&&o<=f)return r;if(!(r<0||h<.013&&o>h)&&e.log(o)+e.log(l)-e.log(u/(h*h)+c)<=r*s-d-t.loggam(r+1))return r}},sample:function(t){return t<10?this.sampleSmall(t):this.sampleLarge(t)}}),t.extend(t.triangular,{pdf:function(t,e,n,r){return n<=e||r<e||r>n?NaN:t<e||t>n?0:t<r?2*(t-e)/((n-e)*(r-e)):t===r?2/(n-e):2*(n-t)/((n-e)*(n-r))},cdf:function(t,n,r,i){return r<=n||i<n||i>r?NaN:t<=n?0:t>=r?1:t<=i?e.pow(t-n,2)/((r-n)*(i-n)):1-e.pow(r-t,2)/((r-n)*(r-i))},inv:function(t,n,r,i){return r<=n||i<n||i>r?NaN:t<=(i-n)/(r-n)?n+(r-n)*e.sqrt(t*((i-n)/(r-n))):n+(r-n)*(1-e.sqrt((1-t)*(1-(i-n)/(r-n))))},mean:function(t,e,n){return(t+e+n)/3},median:function(t,n,r){return r<=(t+n)/2?n-e.sqrt((n-t)*(n-r))/e.sqrt(2):r>(t+n)/2?t+e.sqrt((n-t)*(r-t))/e.sqrt(2):void 0},mode:function(t,e,n){return n},sample:function(n,r,i){var o=t._random_fn();return o<(i-n)/(r-n)?n+e.sqrt(o*(r-n)*(i-n)):r-e.sqrt((1-o)*(r-n)*(r-i))},variance:function(t,e,n){return(t*t+e*e+n*n-t*e-t*n-e*n)/18}}),t.extend(t.arcsine,{pdf:function(t,n,r){return r<=n?NaN:t<=n||t>=r?0:2/e.PI*e.pow(e.pow(r-n,2)-e.pow(2*t-n-r,2),-.5)},cdf:function(t,n,r){return t<n?0:t<r?2/e.PI*e.asin(e.sqrt((t-n)/(r-n))):1},inv:function(t,n,r){return n+(.5-.5*e.cos(e.PI*t))*(r-n)},mean:function(t,e){return e<=t?NaN:(t+e)/2},median:function(t,e){return e<=t?NaN:(t+e)/2},mode:function(){throw new Error("mode is not yet implemented")},sample:function(n,r){return(n+r)/2+(r-n)/2*e.sin(2*e.PI*t.uniform.sample(0,1))},variance:function(t,n){return n<=t?NaN:e.pow(n-t,2)/8}}),t.extend(t.laplace,{pdf:function(t,n,r){return r<=0?0:e.exp(-e.abs(t-n)/r)/(2*r)},cdf:function(t,n,r){return r<=0?0:t<n?.5*e.exp((t-n)/r):1-.5*e.exp(-(t-n)/r)},mean:function(t){return t},median:function(t){return t},mode:function(t){return t},variance:function(t,e){return 2*e*e},sample:function(n,i){var o=t._random_fn()-.5;return n-i*r(o)*e.log(1-2*e.abs(o))}}),t.extend(t.tukey,{cdf:function(n,r,o){var a=1,s=r,u=16,c=8,l=-30,f=1e-14,h=100,d=800,p=5e3,g=25e3,m=1,v=.5,y=.25,b=.125,w=[.9894009349916499,.9445750230732326,.8656312023878318,.755404408355003,.6178762444026438,.45801677765722737,.2816035507792589,.09501250983763744],x=[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685];if(n<=0)return 0;if(o<2||a<1||s<2)return NaN;if(!Number.isFinite(n))return 1;if(o>g)return i(n,a,s);var _,k=.5*o,A=k*e.log(o)-o*e.log(2)-t.gammaln(k),S=k-1,C=.25*o;_=o<=h?m:o<=d?v:o<=p?y:b,A+=e.log(_);for(var E=0,D=1;D<=50;D++){for(var M=0,T=(2*D-1)*_,F=1;F<=u;F++){var O,$,N;if(c<F?(O=F-c-1,$=A+S*e.log(T+w[O]*_)-(w[O]*_+T)*C):(O=F-1,$=A+S*e.log(T-w[O]*_)+(w[O]*_-T)*C),$>=l){N=c<F?n*e.sqrt(.5*(w[O]*_+T)):n*e.sqrt(.5*(-w[O]*_+T));var B=i(N,a,s),R=B*x[O]*e.exp($);M+=R}}if(D*_>=1&&M<=f)break;E+=M}if(M>f)throw new Error("tukey.cdf failed to converge");return E>1&&(E=1),E},inv:function(n,r,i){var a=1,s=r,u=1e-4,c=50;if(i<2||a<1||s<2)return NaN;if(n<0||n>1)return NaN;if(0===n)return 0;if(1===n)return 1/0;var l,f=o(n,s,i),h=t.tukey.cdf(f,r,i)-n;l=h>0?e.max(0,f-1):f+1;for(var d,p=t.tukey.cdf(l,r,i)-n,g=1;g<c;g++){d=l-p*(l-f)/(p-h),h=p,f=l,d<0&&(d=0,p=-n),p=t.tukey.cdf(d,r,i)-n,l=d;var m=e.abs(l-f);if(m<u)return d}throw new Error("tukey.inv failed to converge")}})}(t,Math),function(t,e){var n=Array.prototype.push,r=t.utils.isArray;function i(e){return r(e)||e instanceof t}t.extend({add:function(e,n){return i(n)?(i(n[0])||(n=[n]),t.map(e,(function(t,e,r){return t+n[e][r]}))):t.map(e,(function(t){return t+n}))},subtract:function(e,n){return i(n)?(i(n[0])||(n=[n]),t.map(e,(function(t,e,r){return t-n[e][r]||0}))):t.map(e,(function(t){return t-n}))},divide:function(e,n){return i(n)?(i(n[0])||(n=[n]),t.multiply(e,t.inv(n))):t.map(e,(function(t){return t/n}))},multiply:function(e,n){var r,o,a,s,u,c,l,f;if(void 0===e.length&&void 0===n.length)return e*n;if(u=e.length,c=e[0].length,l=t.zeros(u,a=i(n)?n[0].length:c),f=0,i(n)){for(;f<a;f++)for(r=0;r<u;r++){for(s=0,o=0;o<c;o++)s+=e[r][o]*n[o][f];l[r][f]=s}return 1===u&&1===f?l[0][0]:l}return t.map(e,(function(t){return t*n}))},outer:function(e,n){return t.multiply(e.map((function(t){return[t]})),[n])},dot:function(e,n){i(e[0])||(e=[e]),i(n[0])||(n=[n]);for(var r,o,a=1===e[0].length&&1!==e.length?t.transpose(e):e,s=1===n[0].length&&1!==n.length?t.transpose(n):n,u=[],c=0,l=a.length,f=a[0].length;c<l;c++){for(u[c]=[],r=0,o=0;o<f;o++)r+=a[c][o]*s[c][o];u[c]=r}return 1===u.length?u[0]:u},pow:function(n,r){return t.map(n,(function(t){return e.pow(t,r)}))},exp:function(n){return t.map(n,(function(t){return e.exp(t)}))},log:function(n){return t.map(n,(function(t){return e.log(t)}))},abs:function(n){return t.map(n,(function(t){return e.abs(t)}))},norm:function(t,n){var r=0,o=0;for(isNaN(n)&&(n=2),i(t[0])&&(t=t[0]);o<t.length;o++)r+=e.pow(e.abs(t[o]),n);return e.pow(r,1/n)},angle:function(n,r){return e.acos(t.dot(n,r)/(t.norm(n)*t.norm(r)))},aug:function(t,e){var r,i=[];for(r=0;r<t.length;r++)i.push(t[r].slice());for(r=0;r<i.length;r++)n.apply(i[r],e[r]);return i},inv:function(e){for(var n,r=e.length,i=e[0].length,o=t.identity(r,i),a=t.gauss_jordan(e,o),s=[],u=0;u<r;u++)for(s[u]=[],n=i;n<a[0].length;n++)s[u][n-i]=a[u][n];return s},det:function t(e){if(2===e.length)return e[0][0]*e[1][1]-e[0][1]*e[1][0];for(var n=0,r=0;r<e.length;r++){for(var i=[],o=1;o<e.length;o++){i[o-1]=[];for(var a=0;a<e.length;a++)a<r?i[o-1][a]=e[o][a]:a>r&&(i[o-1][a-1]=e[o][a])}var s=r%2?-1:1;n+=t(i)*e[0][r]*s}return n},gauss_elimination:function(n,r){var i,o,a,s,u=0,c=0,l=n.length,f=n[0].length,h=1,d=0,p=[];for(n=t.aug(n,r),i=n[0].length,u=0;u<l;u++){for(o=n[u][u],c=u,s=u+1;s<f;s++)o<e.abs(n[s][u])&&(o=n[s][u],c=s);if(c!=u)for(s=0;s<i;s++)a=n[u][s],n[u][s]=n[c][s],n[c][s]=a;for(c=u+1;c<l;c++)for(h=n[c][u]/n[u][u],s=u;s<i;s++)n[c][s]=n[c][s]-h*n[u][s]}for(u=l-1;u>=0;u--){for(d=0,c=u+1;c<=l-1;c++)d+=p[c]*n[u][c];p[u]=(n[u][i-1]-d)/n[u][u]}return p},gauss_jordan:function(n,r){var i,o,a,s=t.aug(n,r),u=s.length,c=s[0].length,l=0;for(o=0;o<u;o++){var f=o;for(a=o+1;a<u;a++)e.abs(s[a][o])>e.abs(s[f][o])&&(f=a);var h=s[o];for(s[o]=s[f],s[f]=h,a=o+1;a<u;a++)for(l=s[a][o]/s[o][o],i=o;i<c;i++)s[a][i]-=s[o][i]*l}for(o=u-1;o>=0;o--){for(l=s[o][o],a=0;a<o;a++)for(i=c-1;i>o-1;i--)s[a][i]-=s[o][i]*s[a][o]/l;for(s[o][o]/=l,i=u;i<c;i++)s[o][i]/=l}return s},triaUpSolve:function(e,n){var r,i=e[0].length,o=t.zeros(1,i)[0],a=!1;return void 0!=n[0].length&&(n=n.map((function(t){return t[0]})),a=!0),t.arange(i-1,-1,-1).forEach((function(a){r=t.arange(a+1,i).map((function(t){return o[t]*e[a][t]})),o[a]=(n[a]-t.sum(r))/e[a][a]})),a?o.map((function(t){return[t]})):o},triaLowSolve:function(e,n){var r,i=e[0].length,o=t.zeros(1,i)[0],a=!1;return void 0!=n[0].length&&(n=n.map((function(t){return t[0]})),a=!0),t.arange(i).forEach((function(i){r=t.arange(i).map((function(t){return e[i][t]*o[t]})),o[i]=(n[i]-t.sum(r))/e[i][i]})),a?o.map((function(t){return[t]})):o},lu:function(e){var n,r=e.length,i=t.identity(r),o=t.zeros(e.length,e[0].length);return t.arange(r).forEach((function(t){o[0][t]=e[0][t]})),t.arange(1,r).forEach((function(a){t.arange(a).forEach((function(r){n=t.arange(r).map((function(t){return i[a][t]*o[t][r]})),i[a][r]=(e[a][r]-t.sum(n))/o[r][r]})),t.arange(a,r).forEach((function(r){n=t.arange(a).map((function(t){return i[a][t]*o[t][r]})),o[a][r]=e[n.length][r]-t.sum(n)}))})),[i,o]},cholesky:function(n){var r,i=n.length,o=t.zeros(n.length,n[0].length);return t.arange(i).forEach((function(a){r=t.arange(a).map((function(t){return e.pow(o[a][t],2)})),o[a][a]=e.sqrt(n[a][a]-t.sum(r)),t.arange(a+1,i).forEach((function(e){r=t.arange(a).map((function(t){return o[a][t]*o[e][t]})),o[e][a]=(n[a][e]-t.sum(r))/o[a][a]}))})),o},gauss_jacobi:function(n,r,i,o){for(var a,s,u,c,l=0,f=0,h=n.length,d=[],p=[],g=[];l<h;l++)for(d[l]=[],p[l]=[],g[l]=[],f=0;f<h;f++)l>f?(d[l][f]=n[l][f],p[l][f]=g[l][f]=0):l<f?(p[l][f]=n[l][f],d[l][f]=g[l][f]=0):(g[l][f]=n[l][f],d[l][f]=p[l][f]=0);u=t.multiply(t.multiply(t.inv(g),t.add(d,p)),-1),s=t.multiply(t.inv(g),r),a=i,c=t.add(t.multiply(u,i),s),l=2;while(e.abs(t.norm(t.subtract(c,a)))>o)a=c,c=t.add(t.multiply(u,a),s),l++;return c},gauss_seidel:function(n,r,i,o){for(var a,s,u,c,l,f=0,h=n.length,d=[],p=[],g=[];f<h;f++)for(d[f]=[],p[f]=[],g[f]=[],a=0;a<h;a++)f>a?(d[f][a]=n[f][a],p[f][a]=g[f][a]=0):f<a?(p[f][a]=n[f][a],d[f][a]=g[f][a]=0):(g[f][a]=n[f][a],d[f][a]=p[f][a]=0);c=t.multiply(t.multiply(t.inv(t.add(g,d)),p),-1),u=t.multiply(t.inv(t.add(g,d)),r),s=i,l=t.add(t.multiply(c,i),u),f=2;while(e.abs(t.norm(t.subtract(l,s)))>o)s=l,l=t.add(t.multiply(c,s),u),f+=1;return l},SOR:function(n,r,i,o,a){for(var s,u,c,l,f,h=0,d=n.length,p=[],g=[],m=[];h<d;h++)for(p[h]=[],g[h]=[],m[h]=[],s=0;s<d;s++)h>s?(p[h][s]=n[h][s],g[h][s]=m[h][s]=0):h<s?(g[h][s]=n[h][s],p[h][s]=m[h][s]=0):(m[h][s]=n[h][s],p[h][s]=g[h][s]=0);l=t.multiply(t.inv(t.add(m,t.multiply(p,a))),t.subtract(t.multiply(m,1-a),t.multiply(g,a))),c=t.multiply(t.multiply(t.inv(t.add(m,t.multiply(p,a))),r),a),u=i,f=t.add(t.multiply(l,i),c),h=2;while(e.abs(t.norm(t.subtract(f,u)))>o)u=f,f=t.add(t.multiply(l,u),c),h++;return f},householder:function(n){for(var r,i,o,a,s,u=n.length,c=n[0].length,l=0,f=[],h=[];l<u-1;l++){for(r=0,a=l+1;a<c;a++)r+=n[a][l]*n[a][l];for(s=n[l+1][l]>0?-1:1,r=s*e.sqrt(r),i=e.sqrt((r*r-n[l+1][l]*r)/2),f=t.zeros(u,1),f[l+1][0]=(n[l+1][l]-r)/(2*i),o=l+2;o<u;o++)f[o][0]=n[o][l]/(2*i);h=t.subtract(t.identity(u,c),t.multiply(t.multiply(f,t.transpose(f)),2)),n=t.multiply(h,t.multiply(n,h))}return n},QR:function(){var n=t.sum,r=t.arange;function i(i){var o,a,s,u=i.length,c=i[0].length,l=t.zeros(c,c);for(i=t.copy(i),a=0;a<c;a++){for(l[a][a]=e.sqrt(n(r(u).map((function(t){return i[t][a]*i[t][a]})))),o=0;o<u;o++)i[o][a]=i[o][a]/l[a][a];for(s=a+1;s<c;s++)for(l[a][s]=n(r(u).map((function(t){return i[t][a]*i[t][s]}))),o=0;o<u;o++)i[o][s]=i[o][s]-i[o][a]*l[a][s]}return[i,l]}return i}(),lstsq:function(){function e(e){e=t.copy(e);var n=e.length,r=t.identity(n);return t.arange(n-1,-1,-1).forEach((function(n){t.sliceAssign(r,{row:n},t.divide(t.slice(r,{row:n}),e[n][n])),t.sliceAssign(e,{row:n},t.divide(t.slice(e,{row:n}),e[n][n])),t.arange(n).forEach((function(i){var o=t.multiply(e[i][n],-1),a=t.slice(e,{row:i}),s=t.multiply(t.slice(e,{row:n}),o);t.sliceAssign(e,{row:i},t.add(a,s));var u=t.slice(r,{row:i}),c=t.multiply(t.slice(r,{row:n}),o);t.sliceAssign(r,{row:i},t.add(u,c))}))})),r}function n(n,r){var i=!1;void 0===r[0].length&&(r=r.map((function(t){return[t]})),i=!0);var o=t.QR(n),a=o[0],s=o[1],u=n[0].length,c=t.slice(a,{col:{end:u}}),l=t.slice(s,{row:{end:u}}),f=e(l),h=t.transpose(c);void 0===h[0].length&&(h=[h]);var d=t.multiply(t.multiply(f,h),r);return void 0===d.length&&(d=[[d]]),i?d.map((function(t){return t[0]})):d}return n}(),jacobi:function(n){var r,i,o,a,s,u,c,l,f=1,h=n.length,d=t.identity(h,h),p=[];while(1===f){for(u=n[0][1],a=0,s=1,i=0;i<h;i++)for(o=0;o<h;o++)i!=o&&u<e.abs(n[i][o])&&(u=e.abs(n[i][o]),a=i,s=o);for(c=n[a][a]===n[s][s]?n[a][s]>0?e.PI/4:-e.PI/4:e.atan(2*n[a][s]/(n[a][a]-n[s][s]))/2,l=t.identity(h,h),l[a][a]=e.cos(c),l[a][s]=-e.sin(c),l[s][a]=e.sin(c),l[s][s]=e.cos(c),d=t.multiply(d,l),r=t.multiply(t.multiply(t.inv(l),n),l),n=r,f=0,i=1;i<h;i++)for(o=1;o<h;o++)i!=o&&e.abs(n[i][o])>.001&&(f=1)}for(i=0;i<h;i++)p.push(n[i][i]);return[d,p]},rungekutta:function(t,e,n,r,i,o){var a,s,u,c,l;if(2===o)while(r<=n)a=e*t(r,i),s=e*t(r+e,i+a),u=i+(a+s)/2,i=u,r+=e;if(4===o)while(r<=n)a=e*t(r,i),s=e*t(r+e/2,i+a/2),c=e*t(r+e/2,i+s/2),l=e*t(r+e,i+c),u=i+(a+2*s+2*c+l)/6,i=u,r+=e;return i},romberg:function(t,n,r,i){var o,a,s,u,c,l=0,f=(r-n)/2,h=[],d=[],p=[];while(l<i/2){for(c=t(n),s=n,u=0;s<=r;s+=f,u++)h[u]=s;for(o=h.length,s=1;s<o-1;s++)c+=(s%2!==0?4:2)*t(h[s]);c=f/3*(c+t(r)),p[l]=c,f/=2,l++}a=p.length,o=1;while(1!==a){for(s=0;s<a-1;s++)d[s]=(e.pow(4,o)*p[s+1]-p[s])/(e.pow(4,o)-1);a=d.length,p=d,d=[],o++}return p},richardson:function(t,n,r,i){function o(t,e){for(var n,r=0,i=t.length;r<i;r++)t[r]===e&&(n=r);return n}var a,s,u,c,l,f=e.abs(r-t[o(t,r)+1]),h=0,d=[],p=[];while(i>=f)a=o(t,r+i),s=o(t,r),d[h]=(n[a]-2*n[s]+n[2*s-a])/(i*i),i/=2,h++;c=d.length,u=1;while(1!=c){for(l=0;l<c-1;l++)p[l]=(e.pow(4,u)*d[l+1]-d[l])/(e.pow(4,u)-1);c=p.length,d=p,p=[],u++}return d},simpson:function(t,e,n,r){for(var i,o=(n-e)/r,a=t(e),s=[],u=e,c=0,l=1;u<=n;u+=o,c++)s[c]=u;for(i=s.length;l<i-1;l++)a+=(l%2!==0?4:2)*t(s[l]);return o/3*(a+t(n))},hermite:function(t,e,n,r){for(var i,o=t.length,a=0,s=0,u=[],c=[],l=[],f=[];s<o;s++){for(u[s]=1,i=0;i<o;i++)s!=i&&(u[s]*=(r-t[i])/(t[s]-t[i]));for(c[s]=0,i=0;i<o;i++)s!=i&&(c[s]+=1/(t[s]-t[i]));l[s]=(1-2*(r-t[s])*c[s])*(u[s]*u[s]),f[s]=(r-t[s])*(u[s]*u[s]),a+=l[s]*e[s]+f[s]*n[s]}return a},lagrange:function(t,e,n){for(var r,i,o=0,a=0,s=t.length;a<s;a++){for(i=e[a],r=0;r<s;r++)a!=r&&(i*=(n-t[r])/(t[a]-t[r]));o+=i}return o},cubic_spline:function(e,n,r){for(var i,o=e.length,a=0,s=[],u=[],c=[],l=[],f=[],h=[],d=[];a<o-1;a++)f[a]=e[a+1]-e[a];for(c[0]=0,a=1;a<o-1;a++)c[a]=3/f[a]*(n[a+1]-n[a])-3/f[a-1]*(n[a]-n[a-1]);for(a=1;a<o-1;a++)s[a]=[],u[a]=[],s[a][a-1]=f[a-1],s[a][a]=2*(f[a-1]+f[a]),s[a][a+1]=f[a],u[a][0]=c[a];for(l=t.multiply(t.inv(s),u),i=0;i<o-1;i++)h[i]=(n[i+1]-n[i])/f[i]-f[i]*(l[i+1][0]+2*l[i][0])/3,d[i]=(l[i+1][0]-l[i][0])/(3*f[i]);for(i=0;i<o;i++)if(e[i]>r)break;return i-=1,n[i]+(r-e[i])*h[i]+t.sq(r-e[i])*l[i]+(r-e[i])*t.sq(r-e[i])*d[i]},gauss_quadrature:function(){throw new Error("gauss_quadrature not yet implemented")},PCA:function(e){var n,r,i=e.length,o=e[0].length,a=0,s=[],u=[],c=[],l=[],f=[],h=[],d=[],p=[],g=[],m=[];for(a=0;a<i;a++)s[a]=t.sum(e[a])/o;for(a=0;a<o;a++)for(d[a]=[],n=0;n<i;n++)d[a][n]=e[n][a]-s[n];for(d=t.transpose(d),a=0;a<i;a++)for(p[a]=[],n=0;n<i;n++)p[a][n]=t.dot([d[a]],[d[n]])/(o-1);for(c=t.jacobi(p),g=c[0],u=c[1],m=t.transpose(g),a=0;a<u.length;a++)for(n=a;n<u.length;n++)u[a]<u[n]&&(r=u[a],u[a]=u[n],u[n]=r,l=m[a],m[a]=m[n],m[n]=l);for(h=t.transpose(d),a=0;a<i;a++)for(f[a]=[],n=0;n<h.length;n++)f[a][n]=t.dot([m[a]],[h[n]]);return[e,u,m,f]}}),function(e){for(var n=0;n<e.length;n++)(function(e){t.fn[e]=function(n,r){var i=this;return r?(setTimeout((function(){r.call(i,t.fn[e].call(i,n))}),15),this):"number"===typeof t[e](this,n)?t[e](this,n):t(t[e](this,n))}})(e[n])}("add divide multiply subtract dot pow exp log abs norm angle".split(" "))}(t,Math),function(t,e){var n=[].slice,r=t.utils.isNumber,i=t.utils.isArray;function o(t,n,r,i){if(t>1||r>1||t<=0||r<=0)throw new Error("Proportions should be greater than 0 and less than 1");var o=(t*n+r*i)/(n+i),a=e.sqrt(o*(1-o)*(1/n+1/i));return(t-r)/a}t.extend({zscore:function(){var e=n.call(arguments);return r(e[1])?(e[0]-e[1])/e[2]:(e[0]-t.mean(e[1]))/t.stdev(e[1],e[2])},ztest:function(){var r,o=n.call(arguments);return i(o[1])?(r=t.zscore(o[0],o[1],o[3]),1===o[2]?t.normal.cdf(-e.abs(r),0,1):2*t.normal.cdf(-e.abs(r),0,1)):o.length>2?(r=t.zscore(o[0],o[1],o[2]),1===o[3]?t.normal.cdf(-e.abs(r),0,1):2*t.normal.cdf(-e.abs(r),0,1)):(r=o[0],1===o[1]?t.normal.cdf(-e.abs(r),0,1):2*t.normal.cdf(-e.abs(r),0,1))}}),t.extend(t.fn,{zscore:function(t,e){return(t-this.mean())/this.stdev(e)},ztest:function(n,r,i){var o=e.abs(this.zscore(n,i));return 1===r?t.normal.cdf(-o,0,1):2*t.normal.cdf(-o,0,1)}}),t.extend({tscore:function(){var r=n.call(arguments);return 4===r.length?(r[0]-r[1])/(r[2]/e.sqrt(r[3])):(r[0]-t.mean(r[1]))/(t.stdev(r[1],!0)/e.sqrt(r[1].length))},ttest:function(){var i,o=n.call(arguments);return 5===o.length?(i=e.abs(t.tscore(o[0],o[1],o[2],o[3])),1===o[4]?t.studentt.cdf(-i,o[3]-1):2*t.studentt.cdf(-i,o[3]-1)):r(o[1])?(i=e.abs(o[0]),1==o[2]?t.studentt.cdf(-i,o[1]-1):2*t.studentt.cdf(-i,o[1]-1)):(i=e.abs(t.tscore(o[0],o[1])),1==o[2]?t.studentt.cdf(-i,o[1].length-1):2*t.studentt.cdf(-i,o[1].length-1))}}),t.extend(t.fn,{tscore:function(t){return(t-this.mean())/(this.stdev(!0)/e.sqrt(this.cols()))},ttest:function(n,r){return 1===r?1-t.studentt.cdf(e.abs(this.tscore(n)),this.cols()-1):2*t.studentt.cdf(-e.abs(this.tscore(n)),this.cols()-1)}}),t.extend({anovafscore:function(){var r,i,o,a,s,u,c,l,f=n.call(arguments);if(1===f.length){for(s=new Array(f[0].length),c=0;c<f[0].length;c++)s[c]=f[0][c];f=s}for(i=new Array,c=0;c<f.length;c++)i=i.concat(f[c]);for(o=t.mean(i),r=0,c=0;c<f.length;c++)r+=f[c].length*e.pow(t.mean(f[c])-o,2);for(r/=f.length-1,u=0,c=0;c<f.length;c++)for(a=t.mean(f[c]),l=0;l<f[c].length;l++)u+=e.pow(f[c][l]-a,2);return u/=i.length-f.length,r/u},anovaftest:function(){var e,i,o,a,s=n.call(arguments);if(r(s[0]))return 1-t.centralF.cdf(s[0],s[1],s[2]);var u=t.anovafscore(s);for(e=s.length-1,o=0,a=0;a<s.length;a++)o+=s[a].length;return i=o-e-1,1-t.centralF.cdf(u,e,i)},ftest:function(e,n,r){return 1-t.centralF.cdf(e,n,r)}}),t.extend(t.fn,{anovafscore:function(){return t.anovafscore(this.toArray())},anovaftes:function(){var e,n=0;for(e=0;e<this.length;e++)n+=this[e].length;return t.ftest(this.anovafscore(),this.length-1,n-this.length)}}),t.extend({qscore:function(){var i,o,a,s,u,c=n.call(arguments);return r(c[0])?(i=c[0],o=c[1],a=c[2],s=c[3],u=c[4]):(i=t.mean(c[0]),o=t.mean(c[1]),a=c[0].length,s=c[1].length,u=c[2]),e.abs(i-o)/(u*e.sqrt((1/a+1/s)/2))},qtest:function(){var e,r=n.call(arguments);3===r.length?(e=r[0],r=r.slice(1)):7===r.length?(e=t.qscore(r[0],r[1],r[2],r[3],r[4]),r=r.slice(5)):(e=t.qscore(r[0],r[1],r[2]),r=r.slice(3));var i=r[0],o=r[1];return 1-t.tukey.cdf(e,o,i-o)},tukeyhsd:function(e){for(var n=t.pooledstdev(e),r=e.map((function(e){return t.mean(e)})),i=e.reduce((function(t,e){return t+e.length}),0),o=[],a=0;a<e.length;++a)for(var s=a+1;s<e.length;++s){var u=t.qtest(r[a],r[s],e[a].length,e[s].length,n,i,e.length);o.push([[a,s],u])}return o}}),t.extend({normalci:function(){var r,i=n.call(arguments),o=new Array(2);return r=4===i.length?e.abs(t.normal.inv(i[1]/2,0,1)*i[2]/e.sqrt(i[3])):e.abs(t.normal.inv(i[1]/2,0,1)*t.stdev(i[2])/e.sqrt(i[2].length)),o[0]=i[0]-r,o[1]=i[0]+r,o},tci:function(){var r,i=n.call(arguments),o=new Array(2);return r=4===i.length?e.abs(t.studentt.inv(i[1]/2,i[3]-1)*i[2]/e.sqrt(i[3])):e.abs(t.studentt.inv(i[1]/2,i[2].length-1)*t.stdev(i[2],!0)/e.sqrt(i[2].length)),o[0]=i[0]-r,o[1]=i[0]+r,o},significant:function(t,e){return t<e}}),t.extend(t.fn,{normalci:function(e,n){return t.normalci(e,n,this.toArray())},tci:function(e,n){return t.tci(e,n,this.toArray())}}),t.extend(t.fn,{oneSidedDifferenceOfProportions:function(e,n,r,i){var a=o(e,n,r,i);return t.ztest(a,1)},twoSidedDifferenceOfProportions:function(e,n,r,i){var a=o(e,n,r,i);return t.ztest(a,2)}})}(t,Math),t.models=function(){function e(e){var r=e[0].length,i=t.arange(r).map((function(i){var o=t.arange(r).filter((function(t){return t!==i}));return n(t.col(e,i).map((function(t){return t[0]})),t.col(e,o))}));return i}function n(e,n){var r=e.length,i=n[0].length-1,o=r-i-1,a=t.lstsq(n,e),s=t.multiply(n,a.map((function(t){return[t]}))).map((function(t){return t[0]})),u=t.subtract(e,s),c=t.mean(e),l=t.sum(s.map((function(t){return Math.pow(t-c,2)}))),f=t.sum(e.map((function(t,e){return Math.pow(t-s[e],2)}))),h=l+f,d=l/h;return{exog:n,endog:e,nobs:r,df_model:i,df_resid:o,coef:a,predict:s,resid:u,ybar:c,SST:h,SSE:l,SSR:f,R2:d}}function r(n){var r=e(n.exog),i=Math.sqrt(n.SSR/n.df_resid),o=r.map((function(t){var e=t.SST,n=t.R2;return i/Math.sqrt(e*(1-n))})),a=n.coef.map((function(t,e){return(t-0)/o[e]})),s=a.map((function(e){var r=t.studentt.cdf(e,n.df_resid);return 2*(r>.5?1-r:r)})),u=t.studentt.inv(.975,n.df_resid),c=n.coef.map((function(t,e){var n=u*o[e];return[t-n,t+n]}));return{se:o,t:a,p:s,sigmaHat:i,interval95:c}}function i(e){var n=e.R2/e.df_model/((1-e.R2)/e.df_resid),r=function(e,n,r){return t.beta.cdf(e/(r/n+e),n/2,r/2)},i=1-r(n,e.df_model,e.df_resid);return{F_statistic:n,pvalue:i}}function o(t,e){var o=n(t,e),a=r(o),s=i(o),u=1-(1-o.R2)*((o.nobs-1)/o.df_resid);return o.t=a,o.f=s,o.adjust_R2=u,o}return{ols:o}}(),t.extend({buildxmatrix:function(){for(var e=new Array(arguments.length),n=0;n<arguments.length;n++){var r=[1];e[n]=r.concat(arguments[n])}return t(e)},builddxmatrix:function(){for(var e=new Array(arguments[0].length),n=0;n<arguments[0].length;n++){var r=[1];e[n]=r.concat(arguments[0][n])}return t(e)},buildjxmatrix:function(e){for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return t.builddxmatrix(n)},buildymatrix:function(e){return t(e).transpose()},buildjymatrix:function(t){return t.transpose()},matrixmult:function(e,n){var r,i,o,a,s;if(e.cols()==n.rows()){if(n.rows()>1){for(a=[],r=0;r<e.rows();r++)for(a[r]=[],i=0;i<n.cols();i++){for(s=0,o=0;o<e.cols();o++)s+=e.toArray()[r][o]*n.toArray()[o][i];a[r][i]=s}return t(a)}for(a=[],r=0;r<e.rows();r++)for(a[r]=[],i=0;i<n.cols();i++){for(s=0,o=0;o<e.cols();o++)s+=e.toArray()[r][o]*n.toArray()[i];a[r][i]=s}return t(a)}},regress:function(e,n){var r=t.xtranspxinv(e),i=e.transpose(),o=t.matrixmult(t(r),i);return t.matrixmult(o,n)},regresst:function(e,n,r){var i=t.regress(e,n),o={anova:{}},a=t.jMatYBar(e,i);o.yBar=a;var s=n.mean();o.anova.residuals=t.residuals(n,a),o.anova.ssr=t.ssr(a,s),o.anova.msr=o.anova.ssr/(e[0].length-1),o.anova.sse=t.sse(n,a),o.anova.mse=o.anova.sse/(n.length-(e[0].length-1)-1),o.anova.sst=t.sst(n,s),o.anova.mst=o.anova.sst/(n.length-1),o.anova.r2=1-o.anova.sse/o.anova.sst,o.anova.r2<0&&(o.anova.r2=0),o.anova.fratio=o.anova.msr/o.anova.mse,o.anova.pvalue=t.anovaftest(o.anova.fratio,e[0].length-1,n.length-(e[0].length-1)-1),o.anova.rmse=Math.sqrt(o.anova.mse),o.anova.r2adj=1-o.anova.mse/o.anova.mst,o.anova.r2adj<0&&(o.anova.r2adj=0),o.stats=new Array(e[0].length);for(var u,c,l,f=t.xtranspxinv(e),h=0;h<i.length;h++)u=Math.sqrt(o.anova.mse*Math.abs(f[h][h])),c=Math.abs(i[h]/u),l=t.ttest(c,n.length-e[0].length-1,r),o.stats[h]=[i[h],u,c,l];return o.regress=i,o},xtranspx:function(e){return t.matrixmult(e.transpose(),e)},xtranspxinv:function(e){var n=t.matrixmult(e.transpose(),e),r=t.inv(n);return r},jMatYBar:function(e,n){var r=t.matrixmult(e,n);return new t(r)},residuals:function(e,n){return t.matrixsubtract(e,n)},ssr:function(t,e){for(var n=0,r=0;r<t.length;r++)n+=Math.pow(t[r]-e,2);return n},sse:function(t,e){for(var n=0,r=0;r<t.length;r++)n+=Math.pow(t[r]-e[r],2);return n},sst:function(t,e){for(var n=0,r=0;r<t.length;r++)n+=Math.pow(t[r]-e,2);return n},matrixsubtract:function(e,n){for(var r=new Array(e.length),i=0;i<e.length;i++){r[i]=new Array(e[i].length);for(var o=0;o<e[i].length;o++)r[i][o]=e[i][o]-n[i][o]}return t(r)}}),t.jStat=t,t}))},8570:function(t){t.exports=n;var e=null;try{e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(E){}function n(t,e,n){this.low=0|t,this.high=0|e,this.unsigned=!!n}function r(t){return!0===(t&&t["__isLong__"])}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var i={},o={};function a(t,e){var n,r,a;return e?(t>>>=0,(a=0<=t&&t<256)&&(r=o[t],r)?r:(n=u(t,(0|t)<0?-1:0,!0),a&&(o[t]=n),n)):(t|=0,(a=-128<=t&&t<128)&&(r=i[t],r)?r:(n=u(t,t<0?-1:0,!1),a&&(i[t]=n),n))}function s(t,e){if(isNaN(t))return e?b:y;if(e){if(t<0)return b;if(t>=g)return A}else{if(t<=-m)return S;if(t+1>=m)return k}return t<0?s(-t,e).neg():u(t%p|0,t/p|0,e)}function u(t,e,r){return new n(t,e,r)}n.fromInt=a,n.fromNumber=s,n.fromBits=u;var c=Math.pow;function l(t,e,n){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return y;if("number"===typeof e?(n=e,e=!1):e=!!e,n=n||10,n<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return l(t.substring(1),e,n).neg();for(var i=s(c(n,8)),o=y,a=0;a<t.length;a+=8){var u=Math.min(8,t.length-a),f=parseInt(t.substring(a,a+u),n);if(u<8){var h=s(c(n,u));o=o.mul(h).add(s(f))}else o=o.mul(i),o=o.add(s(f))}return o.unsigned=e,o}function f(t,e){return"number"===typeof t?s(t,e):"string"===typeof t?l(t,e):u(t.low,t.high,"boolean"===typeof e?e:t.unsigned)}n.fromString=l,n.fromValue=f;var h=65536,d=1<<24,p=h*h,g=p*p,m=g/2,v=a(d),y=a(0);n.ZERO=y;var b=a(0,!0);n.UZERO=b;var w=a(1);n.ONE=w;var x=a(1,!0);n.UONE=x;var _=a(-1);n.NEG_ONE=_;var k=u(-1,2147483647,!1);n.MAX_VALUE=k;var A=u(-1,-1,!0);n.MAX_UNSIGNED_VALUE=A;var S=u(0,-2147483648,!1);n.MIN_VALUE=S;var C=n.prototype;C.toInt=function(){return this.unsigned?this.low>>>0:this.low},C.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},C.toString=function(t){if(t=t||10,t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var e=s(t),n=this.div(e),r=n.mul(e).sub(this);return n.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}var i=s(c(t,6),this.unsigned),o=this,a="";while(1){var u=o.div(i),l=o.sub(u.mul(i)).toInt()>>>0,f=l.toString(t);if(o=u,o.isZero())return f+a;while(f.length<6)f="0"+f;a=""+f+a}},C.getHighBits=function(){return this.high},C.getHighBitsUnsigned=function(){return this.high>>>0},C.getLowBits=function(){return this.low},C.getLowBitsUnsigned=function(){return this.low>>>0},C.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0;e--)if(0!=(t&1<<e))break;return 0!=this.high?e+33:e+1},C.isZero=function(){return 0===this.high&&0===this.low},C.eqz=C.isZero,C.isNegative=function(){return!this.unsigned&&this.high<0},C.isPositive=function(){return this.unsigned||this.high>=0},C.isOdd=function(){return 1===(1&this.low)},C.isEven=function(){return 0===(1&this.low)},C.equals=function(t){return r(t)||(t=f(t)),(this.unsigned===t.unsigned||this.high>>>31!==1||t.high>>>31!==1)&&(this.high===t.high&&this.low===t.low)},C.eq=C.equals,C.notEquals=function(t){return!this.eq(t)},C.neq=C.notEquals,C.ne=C.notEquals,C.lessThan=function(t){return this.comp(t)<0},C.lt=C.lessThan,C.lessThanOrEqual=function(t){return this.comp(t)<=0},C.lte=C.lessThanOrEqual,C.le=C.lessThanOrEqual,C.greaterThan=function(t){return this.comp(t)>0},C.gt=C.greaterThan,C.greaterThanOrEqual=function(t){return this.comp(t)>=0},C.gte=C.greaterThanOrEqual,C.ge=C.greaterThanOrEqual,C.compare=function(t){if(r(t)||(t=f(t)),this.eq(t))return 0;var e=this.isNegative(),n=t.isNegative();return e&&!n?-1:!e&&n?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},C.comp=C.compare,C.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(w)},C.neg=C.negate,C.add=function(t){r(t)||(t=f(t));var e=this.high>>>16,n=65535&this.high,i=this.low>>>16,o=65535&this.low,a=t.high>>>16,s=65535&t.high,c=t.low>>>16,l=65535&t.low,h=0,d=0,p=0,g=0;return g+=o+l,p+=g>>>16,g&=65535,p+=i+c,d+=p>>>16,p&=65535,d+=n+s,h+=d>>>16,d&=65535,h+=e+a,h&=65535,u(p<<16|g,h<<16|d,this.unsigned)},C.subtract=function(t){return r(t)||(t=f(t)),this.add(t.neg())},C.sub=C.subtract,C.multiply=function(t){if(this.isZero())return y;if(r(t)||(t=f(t)),e){var n=e.mul(this.low,this.high,t.low,t.high);return u(n,e.get_high(),this.unsigned)}if(t.isZero())return y;if(this.eq(S))return t.isOdd()?S:y;if(t.eq(S))return this.isOdd()?S:y;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(v)&&t.lt(v))return s(this.toNumber()*t.toNumber(),this.unsigned);var i=this.high>>>16,o=65535&this.high,a=this.low>>>16,c=65535&this.low,l=t.high>>>16,h=65535&t.high,d=t.low>>>16,p=65535&t.low,g=0,m=0,b=0,w=0;return w+=c*p,b+=w>>>16,w&=65535,b+=a*p,m+=b>>>16,b&=65535,b+=c*d,m+=b>>>16,b&=65535,m+=o*p,g+=m>>>16,m&=65535,m+=a*d,g+=m>>>16,m&=65535,m+=c*h,g+=m>>>16,m&=65535,g+=i*p+o*d+a*h+c*l,g&=65535,u(b<<16|w,g<<16|m,this.unsigned)},C.mul=C.multiply,C.divide=function(t){if(r(t)||(t=f(t)),t.isZero())throw Error("division by zero");if(e){if(!this.unsigned&&-2147483648===this.high&&-1===t.low&&-1===t.high)return this;var n=(this.unsigned?e.div_u:e.div_s)(this.low,this.high,t.low,t.high);return u(n,e.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?b:y;var i,o,a;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return b;if(t.gt(this.shru(1)))return x;a=b}else{if(this.eq(S)){if(t.eq(w)||t.eq(_))return S;if(t.eq(S))return w;var l=this.shr(1);return i=l.div(t).shl(1),i.eq(y)?t.isNegative()?w:_:(o=this.sub(t.mul(i)),a=i.add(o.div(t)),a)}if(t.eq(S))return this.unsigned?b:y;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();a=y}o=this;while(o.gte(t)){i=Math.max(1,Math.floor(o.toNumber()/t.toNumber()));var h=Math.ceil(Math.log(i)/Math.LN2),d=h<=48?1:c(2,h-48),p=s(i),g=p.mul(t);while(g.isNegative()||g.gt(o))i-=d,p=s(i,this.unsigned),g=p.mul(t);p.isZero()&&(p=w),a=a.add(p),o=o.sub(g)}return a},C.div=C.divide,C.modulo=function(t){if(r(t)||(t=f(t)),e){var n=(this.unsigned?e.rem_u:e.rem_s)(this.low,this.high,t.low,t.high);return u(n,e.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))},C.mod=C.modulo,C.rem=C.modulo,C.not=function(){return u(~this.low,~this.high,this.unsigned)},C.and=function(t){return r(t)||(t=f(t)),u(this.low&t.low,this.high&t.high,this.unsigned)},C.or=function(t){return r(t)||(t=f(t)),u(this.low|t.low,this.high|t.high,this.unsigned)},C.xor=function(t){return r(t)||(t=f(t)),u(this.low^t.low,this.high^t.high,this.unsigned)},C.shiftLeft=function(t){return r(t)&&(t=t.toInt()),0===(t&=63)?this:t<32?u(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):u(0,this.low<<t-32,this.unsigned)},C.shl=C.shiftLeft,C.shiftRight=function(t){return r(t)&&(t=t.toInt()),0===(t&=63)?this:t<32?u(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):u(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},C.shr=C.shiftRight,C.shiftRightUnsigned=function(t){if(r(t)&&(t=t.toInt()),t&=63,0===t)return this;var e=this.high;if(t<32){var n=this.low;return u(n>>>t|e<<32-t,e>>>t,this.unsigned)}return u(32===t?e:e>>>t-32,0,this.unsigned)},C.shru=C.shiftRightUnsigned,C.shr_u=C.shiftRightUnsigned,C.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},C.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},C.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},C.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},C.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,e>>>24,e>>>16&255,e>>>8&255,255&e]},n.fromBytes=function(t,e,r){return r?n.fromBytesLE(t,e):n.fromBytesBE(t,e)},n.fromBytesLE=function(t,e){return new n(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,e)},n.fromBytesBE=function(t,e){return new n(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],e)}},1203:function(){},5826:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return a}});var r=n(788);function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,r.isAnyArray)(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var n=e.fromIndex,i=void 0===n?0:n,o=e.toIndex,a=void 0===o?t.length:o;if(i<0||i>=t.length||!Number.isInteger(i))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=i||a>t.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=t[i],u=i+1;u<a;u++)t[u]>s&&(s=t[u]);return s}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,r.isAnyArray)(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var n=e.fromIndex,i=void 0===n?0:n,o=e.toIndex,a=void 0===o?t.length:o;if(i<0||i>=t.length||!Number.isInteger(i))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=i||a>t.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=t[i],u=i+1;u<a;u++)t[u]<s&&(s=t[u]);return s}function a(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,r.isAnyArray)(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");if(void 0!==n.output){if(!(0,r.isAnyArray)(n.output))throw new TypeError("output option must be an array if specified");e=n.output}else e=new Array(t.length);var a=o(t),s=i(t);if(a===s)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var u=n.min,c=void 0===u?n.autoMinMax?a:0:u,l=n.max,f=void 0===l?n.autoMinMax?s:1:l;if(c>=f)throw new RangeError("min option must be smaller than max option");for(var h=(f-c)/(s-a),d=0;d<t.length;d++)e[d]=(t[d]-a)*h+c;return e}},673:function(t,e,n){"use strict";var r=n(788),i=n(5826);const o=" ".repeat(2),a=" ".repeat(4);function s(){return u(this)}function u(t,e={}){const{maxRows:n=15,maxColumns:r=10,maxNumSize:i=8,padMinus:s="auto"}=e;return`${t.constructor.name} {\n${o}[\n${a}${c(t,n,r,i,s)}\n${o}]\n${o}rows: ${t.rows}\n${o}columns: ${t.columns}\n}`}function c(t,e,n,r,i){const{rows:o,columns:s}=t,u=Math.min(o,e),c=Math.min(s,n),f=[];if("auto"===i){i=!1;t:for(let e=0;e<u;e++)for(let n=0;n<c;n++)if(t.get(e,n)<0){i=!0;break t}}for(let a=0;a<u;a++){let e=[];for(let n=0;n<c;n++)e.push(l(t.get(a,n),r,i));f.push(`${e.join(" ")}`)}return c!==s&&(f[f.length-1]+=` ... ${s-n} more columns`),u!==o&&f.push(`... ${o-e} more rows`),f.join(`\n${a}`)}function l(t,e,n){return(t>=0&&n?` ${f(t,e-1)}`:f(t,e)).padEnd(e)}function f(t,e){let n=t.toString();if(n.length<=e)return n;let r=t.toFixed(e);if(r.length>e&&(r=t.toFixed(Math.max(0,e-(r.length-e)))),r.length<=e&&!r.startsWith("0.000")&&!r.startsWith("-0.000"))return r;let i=t.toExponential(e);return i.length>e&&(i=t.toExponential(Math.max(0,e-(i.length-e)))),i.slice(0)}function h(t,e){t.prototype.add=function(t){return"number"===typeof t?this.addS(t):this.addM(t)},t.prototype.addS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t);return this},t.prototype.addM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t.get(e,n));return this},t.add=function(t,n){const r=new e(t);return r.add(n)},t.prototype.sub=function(t){return"number"===typeof t?this.subS(t):this.subM(t)},t.prototype.subS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t);return this},t.prototype.subM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t.get(e,n));return this},t.sub=function(t,n){const r=new e(t);return r.sub(n)},t.prototype.subtract=t.prototype.sub,t.prototype.subtractS=t.prototype.subS,t.prototype.subtractM=t.prototype.subM,t.subtract=t.sub,t.prototype.mul=function(t){return"number"===typeof t?this.mulS(t):this.mulM(t)},t.prototype.mulS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this},t.prototype.mulM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t.get(e,n));return this},t.mul=function(t,n){const r=new e(t);return r.mul(n)},t.prototype.multiply=t.prototype.mul,t.prototype.multiplyS=t.prototype.mulS,t.prototype.multiplyM=t.prototype.mulM,t.multiply=t.mul,t.prototype.div=function(t){return"number"===typeof t?this.divS(t):this.divM(t)},t.prototype.divS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t);return this},t.prototype.divM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t.get(e,n));return this},t.div=function(t,n){const r=new e(t);return r.div(n)},t.prototype.divide=t.prototype.div,t.prototype.divideS=t.prototype.divS,t.prototype.divideM=t.prototype.divM,t.divide=t.div,t.prototype.mod=function(t){return"number"===typeof t?this.modS(t):this.modM(t)},t.prototype.modS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)%t);return this},t.prototype.modM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)%t.get(e,n));return this},t.mod=function(t,n){const r=new e(t);return r.mod(n)},t.prototype.modulus=t.prototype.mod,t.prototype.modulusS=t.prototype.modS,t.prototype.modulusM=t.prototype.modM,t.modulus=t.mod,t.prototype.and=function(t){return"number"===typeof t?this.andS(t):this.andM(t)},t.prototype.andS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)&t);return this},t.prototype.andM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)&t.get(e,n));return this},t.and=function(t,n){const r=new e(t);return r.and(n)},t.prototype.or=function(t){return"number"===typeof t?this.orS(t):this.orM(t)},t.prototype.orS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)|t);return this},t.prototype.orM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)|t.get(e,n));return this},t.or=function(t,n){const r=new e(t);return r.or(n)},t.prototype.xor=function(t){return"number"===typeof t?this.xorS(t):this.xorM(t)},t.prototype.xorS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)^t);return this},t.prototype.xorM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)^t.get(e,n));return this},t.xor=function(t,n){const r=new e(t);return r.xor(n)},t.prototype.leftShift=function(t){return"number"===typeof t?this.leftShiftS(t):this.leftShiftM(t)},t.prototype.leftShiftS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)<<t);return this},t.prototype.leftShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)<<t.get(e,n));return this},t.leftShift=function(t,n){const r=new e(t);return r.leftShift(n)},t.prototype.signPropagatingRightShift=function(t){return"number"===typeof t?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},t.prototype.signPropagatingRightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>t);return this},t.prototype.signPropagatingRightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>t.get(e,n));return this},t.signPropagatingRightShift=function(t,n){const r=new e(t);return r.signPropagatingRightShift(n)},t.prototype.rightShift=function(t){return"number"===typeof t?this.rightShiftS(t):this.rightShiftM(t)},t.prototype.rightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>>t);return this},t.prototype.rightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>>t.get(e,n));return this},t.rightShift=function(t,n){const r=new e(t);return r.rightShift(n)},t.prototype.zeroFillRightShift=t.prototype.rightShift,t.prototype.zeroFillRightShiftS=t.prototype.rightShiftS,t.prototype.zeroFillRightShiftM=t.prototype.rightShiftM,t.zeroFillRightShift=t.rightShift,t.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,~this.get(t,e));return this},t.not=function(t){const n=new e(t);return n.not()},t.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.abs(this.get(t,e)));return this},t.abs=function(t){const n=new e(t);return n.abs()},t.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acos(this.get(t,e)));return this},t.acos=function(t){const n=new e(t);return n.acos()},t.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acosh(this.get(t,e)));return this},t.acosh=function(t){const n=new e(t);return n.acosh()},t.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asin(this.get(t,e)));return this},t.asin=function(t){const n=new e(t);return n.asin()},t.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asinh(this.get(t,e)));return this},t.asinh=function(t){const n=new e(t);return n.asinh()},t.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atan(this.get(t,e)));return this},t.atan=function(t){const n=new e(t);return n.atan()},t.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atanh(this.get(t,e)));return this},t.atanh=function(t){const n=new e(t);return n.atanh()},t.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cbrt(this.get(t,e)));return this},t.cbrt=function(t){const n=new e(t);return n.cbrt()},t.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.ceil(this.get(t,e)));return this},t.ceil=function(t){const n=new e(t);return n.ceil()},t.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.clz32(this.get(t,e)));return this},t.clz32=function(t){const n=new e(t);return n.clz32()},t.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cos(this.get(t,e)));return this},t.cos=function(t){const n=new e(t);return n.cos()},t.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cosh(this.get(t,e)));return this},t.cosh=function(t){const n=new e(t);return n.cosh()},t.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.exp(this.get(t,e)));return this},t.exp=function(t){const n=new e(t);return n.exp()},t.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.expm1(this.get(t,e)));return this},t.expm1=function(t){const n=new e(t);return n.expm1()},t.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.floor(this.get(t,e)));return this},t.floor=function(t){const n=new e(t);return n.floor()},t.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.fround(this.get(t,e)));return this},t.fround=function(t){const n=new e(t);return n.fround()},t.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log(this.get(t,e)));return this},t.log=function(t){const n=new e(t);return n.log()},t.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log1p(this.get(t,e)));return this},t.log1p=function(t){const n=new e(t);return n.log1p()},t.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log10(this.get(t,e)));return this},t.log10=function(t){const n=new e(t);return n.log10()},t.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log2(this.get(t,e)));return this},t.log2=function(t){const n=new e(t);return n.log2()},t.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.round(this.get(t,e)));return this},t.round=function(t){const n=new e(t);return n.round()},t.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sign(this.get(t,e)));return this},t.sign=function(t){const n=new e(t);return n.sign()},t.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sin(this.get(t,e)));return this},t.sin=function(t){const n=new e(t);return n.sin()},t.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sinh(this.get(t,e)));return this},t.sinh=function(t){const n=new e(t);return n.sinh()},t.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sqrt(this.get(t,e)));return this},t.sqrt=function(t){const n=new e(t);return n.sqrt()},t.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tan(this.get(t,e)));return this},t.tan=function(t){const n=new e(t);return n.tan()},t.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tanh(this.get(t,e)));return this},t.tanh=function(t){const n=new e(t);return n.tanh()},t.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.trunc(this.get(t,e)));return this},t.trunc=function(t){const n=new e(t);return n.trunc()},t.pow=function(t,n){const r=new e(t);return r.pow(n)},t.prototype.pow=function(t){return"number"===typeof t?this.powS(t):this.powM(t)},t.prototype.powS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)**t);return this},t.prototype.powM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)**t.get(e,n));return this}}function d(t,e,n){let r=n?t.rows:t.rows-1;if(e<0||e>r)throw new RangeError("Row index out of range")}function p(t,e,n){let r=n?t.columns:t.columns-1;if(e<0||e>r)throw new RangeError("Column index out of range")}function g(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function m(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function v(t,e){if(!r.isAnyArray(e))throw new TypeError("row indices must be an array");for(let n=0;n<e.length;n++)if(e[n]<0||e[n]>=t.rows)throw new RangeError("row indices are out of range")}function y(t,e){if(!r.isAnyArray(e))throw new TypeError("column indices must be an array");for(let n=0;n<e.length;n++)if(e[n]<0||e[n]>=t.columns)throw new RangeError("column indices are out of range")}function b(t,e,n,r,i){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(x("startRow",e),x("endRow",n),x("startColumn",r),x("endColumn",i),e>n||r>i||e<0||e>=t.rows||n<0||n>=t.rows||r<0||r>=t.columns||i<0||i>=t.columns)throw new RangeError("Submatrix indices are out of range")}function w(t,e=0){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function x(t,e){if("number"!==typeof e)throw new TypeError(`${t} must be a number`)}function _(t){if(t.isEmpty())throw new Error("Empty matrix has no elements to index")}function k(t){let e=w(t.rows);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[n]+=t.get(n,r);return e}function A(t){let e=w(t.columns);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[r]+=t.get(n,r);return e}function S(t){let e=0;for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)e+=t.get(n,r);return e}function C(t){let e=w(t.rows,1);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[n]*=t.get(n,r);return e}function E(t){let e=w(t.columns,1);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[r]*=t.get(n,r);return e}function D(t){let e=1;for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)e*=t.get(n,r);return e}function M(t,e,n){const r=t.rows,i=t.columns,o=[];for(let a=0;a<r;a++){let r=0,s=0,u=0;for(let e=0;e<i;e++)u=t.get(a,e)-n[a],r+=u,s+=u*u;e?o.push((s-r*r/i)/(i-1)):o.push((s-r*r/i)/i)}return o}function T(t,e,n){const r=t.rows,i=t.columns,o=[];for(let a=0;a<i;a++){let i=0,s=0,u=0;for(let e=0;e<r;e++)u=t.get(e,a)-n[a],i+=u,s+=u*u;e?o.push((s-i*i/r)/(r-1)):o.push((s-i*i/r)/r)}return o}function F(t,e,n){const r=t.rows,i=t.columns,o=r*i;let a=0,s=0,u=0;for(let c=0;c<r;c++)for(let e=0;e<i;e++)u=t.get(c,e)-n,a+=u,s+=u*u;return e?(s-a*a/o)/(o-1):(s-a*a/o)/o}function O(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e[n])}function $(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e[r])}function N(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e)}function B(t){const e=[];for(let n=0;n<t.rows;n++){let r=0;for(let e=0;e<t.columns;e++)r+=t.get(n,e)**2/(t.columns-1);e.push(Math.sqrt(r))}return e}function R(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e[n])}function P(t){const e=[];for(let n=0;n<t.columns;n++){let r=0;for(let e=0;e<t.rows;e++)r+=t.get(e,n)**2/(t.rows-1);e.push(Math.sqrt(r))}return e}function I(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e[r])}function j(t){const e=t.size-1;let n=0;for(let r=0;r<t.columns;r++)for(let i=0;i<t.rows;i++)n+=t.get(i,r)**2/e;return Math.sqrt(n)}function L(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e)}class z{static from1DArray(t,e,n){let r=t*e;if(r!==n.length)throw new RangeError("data length does not match given dimensions");let i=new V(t,e);for(let o=0;o<t;o++)for(let t=0;t<e;t++)i.set(o,t,n[o*e+t]);return i}static rowVector(t){let e=new V(1,t.length);for(let n=0;n<t.length;n++)e.set(0,n,t[n]);return e}static columnVector(t){let e=new V(t.length,1);for(let n=0;n<t.length;n++)e.set(n,0,t[n]);return e}static zeros(t,e){return new V(t,e)}static ones(t,e){return new V(t,e).fill(1)}static rand(t,e,n={}){if("object"!==typeof n)throw new TypeError("options must be an object");const{random:r=Math.random}=n;let i=new V(t,e);for(let o=0;o<t;o++)for(let t=0;t<e;t++)i.set(o,t,r());return i}static randInt(t,e,n={}){if("object"!==typeof n)throw new TypeError("options must be an object");const{min:r=0,max:i=1e3,random:o=Math.random}=n;if(!Number.isInteger(r))throw new TypeError("min must be an integer");if(!Number.isInteger(i))throw new TypeError("max must be an integer");if(r>=i)throw new RangeError("min must be smaller than max");let a=i-r,s=new V(t,e);for(let u=0;u<t;u++)for(let t=0;t<e;t++){let e=r+Math.round(o()*a);s.set(u,t,e)}return s}static eye(t,e,n){void 0===e&&(e=t),void 0===n&&(n=1);let r=Math.min(t,e),i=this.zeros(t,e);for(let o=0;o<r;o++)i.set(o,o,n);return i}static diag(t,e,n){let r=t.length;void 0===e&&(e=r),void 0===n&&(n=e);let i=Math.min(r,e,n),o=this.zeros(e,n);for(let a=0;a<i;a++)o.set(a,a,t[a]);return o}static min(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let n=t.rows,r=t.columns,i=new V(n,r);for(let o=0;o<n;o++)for(let n=0;n<r;n++)i.set(o,n,Math.min(t.get(o,n),e.get(o,n)));return i}static max(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let n=t.rows,r=t.columns,i=new this(n,r);for(let o=0;o<n;o++)for(let n=0;n<r;n++)i.set(o,n,Math.max(t.get(o,n),e.get(o,n)));return i}static checkMatrix(t){return z.isMatrix(t)?t:new V(t)}static isMatrix(t){return null!=t&&"Matrix"===t.klass}get size(){return this.rows*this.columns}apply(t){if("function"!==typeof t)throw new TypeError("callback must be a function");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.call(this,e,n);return this}to1DArray(){let t=[];for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.push(this.get(e,n));return t}to2DArray(){let t=[];for(let e=0;e<this.rows;e++){t.push([]);for(let n=0;n<this.columns;n++)t[e].push(this.get(e,n))}return t}toJSON(){return this.to2DArray()}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isEmpty(){return 0===this.rows||0===this.columns}isSymmetric(){if(this.isSquare()){for(let t=0;t<this.rows;t++)for(let e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let t=0;t<this.rows;t++)if(0!==this.get(t,t))return!1;return!0}isEchelonForm(){let t=0,e=0,n=-1,r=!0,i=!1;while(t<this.rows&&r){e=0,i=!1;while(e<this.columns&&!1===i)0===this.get(t,e)?e++:1===this.get(t,e)&&e>n?(i=!0,n=e):(r=!1,i=!0);t++}return r}isReducedEchelonForm(){let t=0,e=0,n=-1,r=!0,i=!1;while(t<this.rows&&r){e=0,i=!1;while(e<this.columns&&!1===i)0===this.get(t,e)?e++:1===this.get(t,e)&&e>n?(i=!0,n=e):(r=!1,i=!0);for(let n=e+1;n<this.rows;n++)0!==this.get(t,n)&&(r=!1);t++}return r}echelonForm(){let t=this.clone(),e=0,n=0;while(e<t.rows&&n<t.columns){let r=e;for(let i=e;i<t.rows;i++)t.get(i,n)>t.get(r,n)&&(r=i);if(0===t.get(r,n))n++;else{t.swapRows(e,r);let i=t.get(e,n);for(let r=n;r<t.columns;r++)t.set(e,r,t.get(e,r)/i);for(let r=e+1;r<t.rows;r++){let i=t.get(r,n)/t.get(e,n);t.set(r,n,0);for(let o=n+1;o<t.columns;o++)t.set(r,o,t.get(r,o)-t.get(e,o)*i)}e++,n++}}return t}reducedEchelonForm(){let t=this.echelonForm(),e=t.columns,n=t.rows,r=n-1;while(r>=0)if(0===t.maxRow(r))r--;else{let i=0,o=!1;while(i<n&&!1===o)1===t.get(r,i)?o=!0:i++;for(let n=0;n<r;n++){let o=t.get(n,i);for(let a=i;a<e;a++){let e=t.get(n,a)-o*t.get(r,a);t.set(n,a,e)}}r--}return t}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(t={}){if("object"!==typeof t)throw new TypeError("options must be an object");const{rows:e=1,columns:n=1}=t;if(!Number.isInteger(e)||e<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(n)||n<=0)throw new TypeError("columns must be a positive integer");let r=new V(this.rows*e,this.columns*n);for(let i=0;i<e;i++)for(let t=0;t<n;t++)r.setSubMatrix(this,this.rows*i,this.columns*t);return r}fill(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,t);return this}neg(){return this.mulS(-1)}getRow(t){d(this,t);let e=[];for(let n=0;n<this.columns;n++)e.push(this.get(t,n));return e}getRowVector(t){return V.rowVector(this.getRow(t))}setRow(t,e){d(this,t),e=g(this,e);for(let n=0;n<this.columns;n++)this.set(t,n,e[n]);return this}swapRows(t,e){d(this,t),d(this,e);for(let n=0;n<this.columns;n++){let r=this.get(t,n);this.set(t,n,this.get(e,n)),this.set(e,n,r)}return this}getColumn(t){p(this,t);let e=[];for(let n=0;n<this.rows;n++)e.push(this.get(n,t));return e}getColumnVector(t){return V.columnVector(this.getColumn(t))}setColumn(t,e){p(this,t),e=m(this,e);for(let n=0;n<this.rows;n++)this.set(n,t,e[n]);return this}swapColumns(t,e){p(this,t),p(this,e);for(let n=0;n<this.rows;n++){let r=this.get(n,t);this.set(n,t,this.get(n,e)),this.set(n,e,r)}return this}addRowVector(t){t=g(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[n]);return this}subRowVector(t){t=g(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[n]);return this}mulRowVector(t){t=g(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[n]);return this}divRowVector(t){t=g(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[n]);return this}addColumnVector(t){t=m(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[e]);return this}subColumnVector(t){t=m(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[e]);return this}mulColumnVector(t){t=m(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[e]);return this}divColumnVector(t){t=m(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[e]);return this}mulRow(t,e){d(this,t);for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this}mulColumn(t,e){p(this,t);for(let n=0;n<this.rows;n++)this.set(n,t,this.get(n,t)*e);return this}max(t){if(this.isEmpty())return NaN;switch(t){case"row":{const t=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)>t[e]&&(t[e]=this.get(e,n));return t}case"column":{const t=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)>t[n]&&(t[n]=this.get(e,n));return t}case void 0:{let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}default:throw new Error(`invalid option: ${t}`)}}maxIndex(){_(this);let t=this.get(0,0),e=[0,0];for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.get(n,r)>t&&(t=this.get(n,r),e[0]=n,e[1]=r);return e}min(t){if(this.isEmpty())return NaN;switch(t){case"row":{const t=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)<t[e]&&(t[e]=this.get(e,n));return t}case"column":{const t=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)<t[n]&&(t[n]=this.get(e,n));return t}case void 0:{let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}default:throw new Error(`invalid option: ${t}`)}}minIndex(){_(this);let t=this.get(0,0),e=[0,0];for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.get(n,r)<t&&(t=this.get(n,r),e[0]=n,e[1]=r);return e}maxRow(t){if(d(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}maxRowIndex(t){d(this,t),_(this);let e=this.get(t,0),n=[t,0];for(let r=1;r<this.columns;r++)this.get(t,r)>e&&(e=this.get(t,r),n[1]=r);return n}minRow(t){if(d(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}minRowIndex(t){d(this,t),_(this);let e=this.get(t,0),n=[t,0];for(let r=1;r<this.columns;r++)this.get(t,r)<e&&(e=this.get(t,r),n[1]=r);return n}maxColumn(t){if(p(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t));return e}maxColumnIndex(t){p(this,t),_(this);let e=this.get(0,t),n=[0,t];for(let r=1;r<this.rows;r++)this.get(r,t)>e&&(e=this.get(r,t),n[0]=r);return n}minColumn(t){if(p(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t));return e}minColumnIndex(t){p(this,t),_(this);let e=this.get(0,t),n=[0,t];for(let r=1;r<this.rows;r++)this.get(r,t)<e&&(e=this.get(r,t),n[0]=r);return n}diag(){let t=Math.min(this.rows,this.columns),e=[];for(let n=0;n<t;n++)e.push(this.get(n,n));return e}norm(t="frobenius"){switch(t){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${t}`)}}cumulativeSum(){let t=0;for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t+=this.get(e,n),this.set(e,n,t);return this}dot(t){z.isMatrix(t)&&(t=t.to1DArray());let e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");let n=0;for(let r=0;r<e.length;r++)n+=e[r]*t[r];return n}mmul(t){t=V.checkMatrix(t);let e=this.rows,n=this.columns,r=t.columns,i=new V(e,r),o=new Float64Array(n);for(let a=0;a<r;a++){for(let e=0;e<n;e++)o[e]=t.get(e,a);for(let t=0;t<e;t++){let e=0;for(let r=0;r<n;r++)e+=this.get(t,r)*o[r];i.set(t,a,e)}}return i}strassen2x2(t){t=V.checkMatrix(t);let e=new V(2,2);const n=this.get(0,0),r=t.get(0,0),i=this.get(0,1),o=t.get(0,1),a=this.get(1,0),s=t.get(1,0),u=this.get(1,1),c=t.get(1,1),l=(n+u)*(r+c),f=(a+u)*r,h=n*(o-c),d=u*(s-r),p=(n+i)*c,g=(a-n)*(r+o),m=(i-u)*(s+c),v=l+d-p+m,y=h+p,b=f+d,w=l-f+h+g;return e.set(0,0,v),e.set(0,1,y),e.set(1,0,b),e.set(1,1,w),e}strassen3x3(t){t=V.checkMatrix(t);let e=new V(3,3);const n=this.get(0,0),r=this.get(0,1),i=this.get(0,2),o=this.get(1,0),a=this.get(1,1),s=this.get(1,2),u=this.get(2,0),c=this.get(2,1),l=this.get(2,2),f=t.get(0,0),h=t.get(0,1),d=t.get(0,2),p=t.get(1,0),g=t.get(1,1),m=t.get(1,2),v=t.get(2,0),y=t.get(2,1),b=t.get(2,2),w=(n+r+i-o-a-c-l)*g,x=(n-o)*(-h+g),_=a*(-f+h+p-g-m-v+b),k=(-n+o+a)*(f-h+g),A=(o+a)*(-f+h),S=n*f,C=(-n+u+c)*(f-d+m),E=(-n+u)*(d-m),D=(u+c)*(-f+d),M=(n+r+i-a-s-u-c)*m,T=c*(-f+d+p-g-m-v+y),F=(-i+c+l)*(g+v-y),O=(i-l)*(g-y),$=i*v,N=(c+l)*(-v+y),B=(-i+a+s)*(m+v-b),R=(i-s)*(m-b),P=(a+s)*(-v+b),I=r*p,j=s*y,L=o*d,z=u*h,U=l*b,q=S+$+I,H=w+k+A+S+F+$+N,W=S+C+D+M+$+B+P,Y=x+_+k+S+$+B+R,G=x+k+A+S+j,K=$+B+R+P+L,X=S+C+E+T+F+O+$,J=F+O+$+N+z,Z=S+C+E+D+U;return e.set(0,0,q),e.set(0,1,H),e.set(0,2,W),e.set(1,0,Y),e.set(1,1,G),e.set(1,2,K),e.set(2,0,X),e.set(2,1,J),e.set(2,2,Z),e}mmulStrassen(t){t=V.checkMatrix(t);let e=this.clone(),n=e.rows,r=e.columns,i=t.rows,o=t.columns;function a(t,e,n){let r=t.rows,i=t.columns;if(r===e&&i===n)return t;{let r=z.zeros(e,n);return r=r.setSubMatrix(t,0,0),r}}r!==i&&console.warn(`Multiplying ${n} x ${r} and ${i} x ${o} matrix: dimensions do not match.`);let s=Math.max(n,i),u=Math.max(r,o);function c(t,e,n,r){if(n<=512||r<=512)return t.mmul(e);n%2===1&&r%2===1?(t=a(t,n+1,r+1),e=a(e,n+1,r+1)):n%2===1?(t=a(t,n+1,r),e=a(e,n+1,r)):r%2===1&&(t=a(t,n,r+1),e=a(e,n,r+1));let i=parseInt(t.rows/2,10),o=parseInt(t.columns/2,10),s=t.subMatrix(0,i-1,0,o-1),u=e.subMatrix(0,i-1,0,o-1),l=t.subMatrix(0,i-1,o,t.columns-1),f=e.subMatrix(0,i-1,o,e.columns-1),h=t.subMatrix(i,t.rows-1,0,o-1),d=e.subMatrix(i,e.rows-1,0,o-1),p=t.subMatrix(i,t.rows-1,o,t.columns-1),g=e.subMatrix(i,e.rows-1,o,e.columns-1),m=c(z.add(s,p),z.add(u,g),i,o),v=c(z.add(h,p),u,i,o),y=c(s,z.sub(f,g),i,o),b=c(p,z.sub(d,u),i,o),w=c(z.add(s,l),g,i,o),x=c(z.sub(h,s),z.add(u,f),i,o),_=c(z.sub(l,p),z.add(d,g),i,o),k=z.add(m,b);k.sub(w),k.add(_);let A=z.add(y,w),S=z.add(v,b),C=z.sub(m,v);C.add(y),C.add(x);let E=z.zeros(2*k.rows,2*k.columns);return E=E.setSubMatrix(k,0,0),E=E.setSubMatrix(A,k.rows,0),E=E.setSubMatrix(S,0,k.columns),E=E.setSubMatrix(C,k.rows,k.columns),E.subMatrix(0,n-1,0,r-1)}return e=a(e,s,u),t=a(t,s,u),c(e,t,s,u)}scaleRows(t={}){if("object"!==typeof t)throw new TypeError("options must be an object");const{min:e=0,max:n=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(e>=n)throw new RangeError("min must be smaller than max");let r=new V(this.rows,this.columns);for(let o=0;o<this.rows;o++){const t=this.getRow(o);t.length>0&&i(t,{min:e,max:n,output:t}),r.setRow(o,t)}return r}scaleColumns(t={}){if("object"!==typeof t)throw new TypeError("options must be an object");const{min:e=0,max:n=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(e>=n)throw new RangeError("min must be smaller than max");let r=new V(this.rows,this.columns);for(let o=0;o<this.columns;o++){const t=this.getColumn(o);t.length&&i(t,{min:e,max:n,output:t}),r.setColumn(o,t)}return r}flipRows(){const t=Math.ceil(this.columns/2);for(let e=0;e<this.rows;e++)for(let n=0;n<t;n++){let t=this.get(e,n),r=this.get(e,this.columns-1-n);this.set(e,n,r),this.set(e,this.columns-1-n,t)}return this}flipColumns(){const t=Math.ceil(this.rows/2);for(let e=0;e<this.columns;e++)for(let n=0;n<t;n++){let t=this.get(n,e),r=this.get(this.rows-1-n,e);this.set(n,e,r),this.set(this.rows-1-n,e,t)}return this}kroneckerProduct(t){t=V.checkMatrix(t);let e=this.rows,n=this.columns,r=t.rows,i=t.columns,o=new V(e*r,n*i);for(let a=0;a<e;a++)for(let e=0;e<n;e++)for(let n=0;n<r;n++)for(let s=0;s<i;s++)o.set(r*a+n,i*e+s,this.get(a,e)*t.get(n,s));return o}kroneckerSum(t){if(t=V.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let e=this.rows,n=t.rows,r=this.kroneckerProduct(V.eye(n,n)),i=V.eye(e,e).kroneckerProduct(t);return r.add(i)}transpose(){let t=new V(this.columns,this.rows);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.set(n,e,this.get(e,n));return t}sortRows(t=U){for(let e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}sortColumns(t=U){for(let e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}subMatrix(t,e,n,r){b(this,t,e,n,r);let i=new V(e-t+1,r-n+1);for(let o=t;o<=e;o++)for(let e=n;e<=r;e++)i.set(o-t,e-n,this.get(o,e));return i}subMatrixRow(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=this.columns-1),e>n||e<0||e>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");let r=new V(t.length,n-e+1);for(let i=0;i<t.length;i++)for(let o=e;o<=n;o++){if(t[i]<0||t[i]>=this.rows)throw new RangeError(`Row index out of range: ${t[i]}`);r.set(i,o-e,this.get(t[i],o))}return r}subMatrixColumn(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=this.rows-1),e>n||e<0||e>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");let r=new V(n-e+1,t.length);for(let i=0;i<t.length;i++)for(let o=e;o<=n;o++){if(t[i]<0||t[i]>=this.columns)throw new RangeError(`Column index out of range: ${t[i]}`);r.set(o-e,i,this.get(o,t[i]))}return r}setSubMatrix(t,e,n){if(t=V.checkMatrix(t),t.isEmpty())return this;let r=e+t.rows-1,i=n+t.columns-1;b(this,e,r,n,i);for(let o=0;o<t.rows;o++)for(let r=0;r<t.columns;r++)this.set(e+o,n+r,t.get(o,r));return this}selection(t,e){v(this,t),y(this,e);let n=new V(t.length,e.length);for(let r=0;r<t.length;r++){let i=t[r];for(let t=0;t<e.length;t++){let o=e[t];n.set(r,t,this.get(i,o))}}return n}trace(){let t=Math.min(this.rows,this.columns),e=0;for(let n=0;n<t;n++)e+=this.get(n,n);return e}clone(){return this.constructor.copy(this,new V(this.rows,this.columns))}static copy(t,e){for(const[n,r,i]of t.entries())e.set(n,r,i);return e}sum(t){switch(t){case"row":return k(this);case"column":return A(this);case void 0:return S(this);default:throw new Error(`invalid option: ${t}`)}}product(t){switch(t){case"row":return C(this);case"column":return E(this);case void 0:return D(this);default:throw new Error(`invalid option: ${t}`)}}mean(t){const e=this.sum(t);switch(t){case"row":for(let t=0;t<this.rows;t++)e[t]/=this.columns;return e;case"column":for(let t=0;t<this.columns;t++)e[t]/=this.rows;return e;case void 0:return e/this.size;default:throw new Error(`invalid option: ${t}`)}}variance(t,e={}){if("object"===typeof t&&(e=t,t=void 0),"object"!==typeof e)throw new TypeError("options must be an object");const{unbiased:n=!0,mean:i=this.mean(t)}=e;if("boolean"!==typeof n)throw new TypeError("unbiased must be a boolean");switch(t){case"row":if(!r.isAnyArray(i))throw new TypeError("mean must be an array");return M(this,n,i);case"column":if(!r.isAnyArray(i))throw new TypeError("mean must be an array");return T(this,n,i);case void 0:if("number"!==typeof i)throw new TypeError("mean must be a number");return F(this,n,i);default:throw new Error(`invalid option: ${t}`)}}standardDeviation(t,e){"object"===typeof t&&(e=t,t=void 0);const n=this.variance(t,e);if(void 0===t)return Math.sqrt(n);for(let r=0;r<n.length;r++)n[r]=Math.sqrt(n[r]);return n}center(t,e={}){if("object"===typeof t&&(e=t,t=void 0),"object"!==typeof e)throw new TypeError("options must be an object");const{center:n=this.mean(t)}=e;switch(t){case"row":if(!r.isAnyArray(n))throw new TypeError("center must be an array");return O(this,n),this;case"column":if(!r.isAnyArray(n))throw new TypeError("center must be an array");return $(this,n),this;case void 0:if("number"!==typeof n)throw new TypeError("center must be a number");return N(this,n),this;default:throw new Error(`invalid option: ${t}`)}}scale(t,e={}){if("object"===typeof t&&(e=t,t=void 0),"object"!==typeof e)throw new TypeError("options must be an object");let n=e.scale;switch(t){case"row":if(void 0===n)n=B(this);else if(!r.isAnyArray(n))throw new TypeError("scale must be an array");return R(this,n),this;case"column":if(void 0===n)n=P(this);else if(!r.isAnyArray(n))throw new TypeError("scale must be an array");return I(this,n),this;case void 0:if(void 0===n)n=j(this);else if("number"!==typeof n)throw new TypeError("scale must be a number");return L(this,n),this;default:throw new Error(`invalid option: ${t}`)}}toString(t){return u(this,t)}[Symbol.iterator](){return this.entries()}*entries(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)yield[t,e,this.get(t,e)]}*values(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)yield this.get(t,e)}}function U(t,e){return t-e}function q(t){return t.every((t=>"number"===typeof t))}z.prototype.klass="Matrix","undefined"!==typeof Symbol&&(z.prototype[Symbol.for("nodejs.util.inspect.custom")]=s),z.random=z.rand,z.randomInt=z.randInt,z.diagonal=z.diag,z.prototype.diagonal=z.prototype.diag,z.identity=z.eye,z.prototype.negate=z.prototype.neg,z.prototype.tensorProduct=z.prototype.kroneckerProduct;class V extends z{data;#t(t,e){if(this.data=[],!(Number.isInteger(e)&&e>=0))throw new TypeError("nColumns must be a positive integer");for(let n=0;n<t;n++)this.data.push(new Float64Array(e));this.rows=t,this.columns=e}constructor(t,e){if(super(),V.isMatrix(t))this.#t(t.rows,t.columns),V.copy(t,this);else if(Number.isInteger(t)&&t>=0)this.#t(t,e);else{if(!r.isAnyArray(t))throw new TypeError("First argument must be a positive number or an array");{const n=t;if(t=n.length,e=t?n[0].length:0,"number"!==typeof e)throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let r=0;r<t;r++){if(n[r].length!==e)throw new RangeError("Inconsistent array dimensions");if(!q(n[r]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(n[r]))}this.rows=t,this.columns=e}}}set(t,e,n){return this.data[t][e]=n,this}get(t,e){return this.data[t][e]}removeRow(t){return d(this,t),this.data.splice(t,1),this.rows-=1,this}addRow(t,e){return void 0===e&&(e=t,t=this.rows),d(this,t,!0),e=Float64Array.from(g(this,e)),this.data.splice(t,0,e),this.rows+=1,this}removeColumn(t){p(this,t);for(let e=0;e<this.rows;e++){const n=new Float64Array(this.columns-1);for(let r=0;r<t;r++)n[r]=this.data[e][r];for(let r=t+1;r<this.columns;r++)n[r-1]=this.data[e][r];this.data[e]=n}return this.columns-=1,this}addColumn(t,e){"undefined"===typeof e&&(e=t,t=this.columns),p(this,t,!0),e=m(this,e);for(let n=0;n<this.rows;n++){const r=new Float64Array(this.columns+1);let i=0;for(;i<t;i++)r[i]=this.data[n][i];for(r[i++]=e[n];i<this.columns+1;i++)r[i]=this.data[n][i-1];this.data[n]=r}return this.columns+=1,this}}h(z,V);class H extends z{#e;get size(){return this.#e.size}get rows(){return this.#e.rows}get columns(){return this.#e.columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(t){return V.isMatrix(t)&&"SymmetricMatrix"===t.klassType}static zeros(t){return new this(t)}static ones(t){return new this(t).fill(1)}constructor(t){if(super(),V.isMatrix(t)){if(!t.isSymmetric())throw new TypeError("not symmetric data");this.#e=V.copy(t,new V(t.rows,t.rows))}else if(Number.isInteger(t)&&t>=0)this.#e=new V(t,t);else if(this.#e=new V(t),!this.isSymmetric())throw new TypeError("not symmetric data")}clone(){const t=new H(this.diagonalSize);for(const[e,n,r]of this.upperRightEntries())t.set(e,n,r);return t}toMatrix(){return new V(this)}get(t,e){return this.#e.get(t,e)}set(t,e,n){return this.#e.set(t,e,n),this.#e.set(e,t,n),this}removeCross(t){return this.#e.removeRow(t),this.#e.removeColumn(t),this}addCross(t,e){void 0===e&&(e=t,t=this.diagonalSize);const n=e.slice();return n.splice(t,1),this.#e.addRow(t,n),this.#e.addColumn(t,e),this}applyMask(t){if(t.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const e=[];for(const[n,r]of t.entries())r||e.push(n);e.reverse();for(const n of e)this.removeCross(n);return this}toCompact(){const{diagonalSize:t}=this,e=new Array(t*(t+1)/2);for(let n=0,r=0,i=0;i<e.length;i++)e[i]=this.get(r,n),++n>=t&&(n=++r);return e}static fromCompact(t){const e=t.length,n=(Math.sqrt(8*e+1)-1)/2;if(!Number.isInteger(n))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(t)}`);const r=new H(n);for(let i=0,o=0,a=0;a<e;a++)r.set(i,o,t[a]),++i>=n&&(i=++o);return r}*upperRightEntries(){for(let t=0,e=0;t<this.diagonalSize;void 0){const n=this.get(t,e);yield[t,e,n],++e>=this.diagonalSize&&(e=++t)}}*upperRightValues(){for(let t=0,e=0;t<this.diagonalSize;void 0){const n=this.get(t,e);yield n,++e>=this.diagonalSize&&(e=++t)}}}H.prototype.klassType="SymmetricMatrix";class W extends H{static isDistanceMatrix(t){return H.isSymmetricMatrix(t)&&"DistanceMatrix"===t.klassSubType}constructor(t){if(super(t),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(t,e,n){return t===e&&(n=0),super.set(t,e,n)}addCross(t,e){return void 0===e&&(e=t,t=this.diagonalSize),e=e.slice(),e[t]=0,super.addCross(t,e)}toSymmetricMatrix(){return new H(this)}clone(){const t=new W(this.diagonalSize);for(const[e,n,r]of this.upperRightEntries())e!==n&&t.set(e,n,r);return t}toCompact(){const{diagonalSize:t}=this,e=(t-1)*t/2,n=new Array(e);for(let r=1,i=0,o=0;o<n.length;o++)n[o]=this.get(i,r),++r>=t&&(r=1+ ++i);return n}static fromCompact(t){const e=t.length;if(0===e)return new this(0);const n=(Math.sqrt(8*e+1)+1)/2;if(!Number.isInteger(n))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(t)}`);const r=new this(n);for(let i=1,o=0,a=0;a<e;a++)r.set(i,o,t[a]),++i>=n&&(i=1+ ++o);return r}}W.prototype.klassSubType="DistanceMatrix";class Y extends z{constructor(t,e,n){super(),this.matrix=t,this.rows=e,this.columns=n}}class G extends Y{constructor(t,e){p(t,e),super(t,t.rows,1),this.column=e}set(t,e,n){return this.matrix.set(t,this.column,n),this}get(t){return this.matrix.get(t,this.column)}}class K extends Y{constructor(t,e){y(t,e),super(t,t.rows,e.length),this.columnIndices=e}set(t,e,n){return this.matrix.set(t,this.columnIndices[e],n),this}get(t,e){return this.matrix.get(t,this.columnIndices[e])}}class X extends Y{constructor(t){super(t,t.rows,t.columns)}set(t,e,n){return this.matrix.set(t,this.columns-e-1,n),this}get(t,e){return this.matrix.get(t,this.columns-e-1)}}class J extends Y{constructor(t){super(t,t.rows,t.columns)}set(t,e,n){return this.matrix.set(this.rows-t-1,e,n),this}get(t,e){return this.matrix.get(this.rows-t-1,e)}}class Z extends Y{constructor(t,e){d(t,e),super(t,1,t.columns),this.row=e}set(t,e,n){return this.matrix.set(this.row,e,n),this}get(t,e){return this.matrix.get(this.row,e)}}class Q extends Y{constructor(t,e){v(t,e),super(t,e.length,t.columns),this.rowIndices=e}set(t,e,n){return this.matrix.set(this.rowIndices[t],e,n),this}get(t,e){return this.matrix.get(this.rowIndices[t],e)}}class tt extends Y{constructor(t,e,n){v(t,e),y(t,n),super(t,e.length,n.length),this.rowIndices=e,this.columnIndices=n}set(t,e,n){return this.matrix.set(this.rowIndices[t],this.columnIndices[e],n),this}get(t,e){return this.matrix.get(this.rowIndices[t],this.columnIndices[e])}}class et extends Y{constructor(t,e,n,r,i){b(t,e,n,r,i),super(t,n-e+1,i-r+1),this.startRow=e,this.startColumn=r}set(t,e,n){return this.matrix.set(this.startRow+t,this.startColumn+e,n),this}get(t,e){return this.matrix.get(this.startRow+t,this.startColumn+e)}}class nt extends Y{constructor(t){super(t,t.columns,t.rows)}set(t,e,n){return this.matrix.set(e,t,n),this}get(t,e){return this.matrix.get(e,t)}}class rt extends z{constructor(t,e={}){const{rows:n=1}=e;if(t.length%n!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=n,this.columns=t.length/n,this.data=t}set(t,e,n){let r=this._calculateIndex(t,e);return this.data[r]=n,this}get(t,e){let n=this._calculateIndex(t,e);return this.data[n]}_calculateIndex(t,e){return t*this.columns+e}}class it extends z{constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,e,n){return this.data[t][e]=n,this}get(t,e){return this.data[t][e]}}function ot(t,e){if(r.isAnyArray(t))return t[0]&&r.isAnyArray(t[0])?new it(t):new rt(t,e);throw new Error("the argument is not an array")}class at{constructor(t){t=it.checkMatrix(t);let e,n,r,i,o,a,s,u,c,l=t.clone(),f=l.rows,h=l.columns,d=new Float64Array(f),p=1;for(e=0;e<f;e++)d[e]=e;for(u=new Float64Array(f),n=0;n<h;n++){for(e=0;e<f;e++)u[e]=l.get(e,n);for(e=0;e<f;e++){for(c=Math.min(e,n),o=0,r=0;r<c;r++)o+=l.get(e,r)*u[r];u[e]-=o,l.set(e,n,u[e])}for(i=n,e=n+1;e<f;e++)Math.abs(u[e])>Math.abs(u[i])&&(i=e);if(i!==n){for(r=0;r<h;r++)a=l.get(i,r),l.set(i,r,l.get(n,r)),l.set(n,r,a);s=d[i],d[i]=d[n],d[n]=s,p=-p}if(n<f&&0!==l.get(n,n))for(e=n+1;e<f;e++)l.set(e,n,l.get(e,n)/l.get(n,n))}this.LU=l,this.pivotVector=d,this.pivotSign=p}isSingular(){let t=this.LU,e=t.columns;for(let n=0;n<e;n++)if(0===t.get(n,n))return!0;return!1}solve(t){t=V.checkMatrix(t);let e=this.LU,n=e.rows;if(n!==t.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let r,i,o,a=t.columns,s=t.subMatrixRow(this.pivotVector,0,a-1),u=e.columns;for(o=0;o<u;o++)for(r=o+1;r<u;r++)for(i=0;i<a;i++)s.set(r,i,s.get(r,i)-s.get(o,i)*e.get(r,o));for(o=u-1;o>=0;o--){for(i=0;i<a;i++)s.set(o,i,s.get(o,i)/e.get(o,o));for(r=0;r<o;r++)for(i=0;i<a;i++)s.set(r,i,s.get(r,i)-s.get(o,i)*e.get(r,o))}return s}get determinant(){let t=this.LU;if(!t.isSquare())throw new Error("Matrix must be square");let e=this.pivotSign,n=t.columns;for(let r=0;r<n;r++)e*=t.get(r,r);return e}get lowerTriangularMatrix(){let t=this.LU,e=t.rows,n=t.columns,r=new V(e,n);for(let i=0;i<e;i++)for(let e=0;e<n;e++)i>e?r.set(i,e,t.get(i,e)):i===e?r.set(i,e,1):r.set(i,e,0);return r}get upperTriangularMatrix(){let t=this.LU,e=t.rows,n=t.columns,r=new V(e,n);for(let i=0;i<e;i++)for(let e=0;e<n;e++)i<=e?r.set(i,e,t.get(i,e)):r.set(i,e,0);return r}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function st(t,e){let n=0;return Math.abs(t)>Math.abs(e)?(n=e/t,Math.abs(t)*Math.sqrt(1+n*n)):0!==e?(n=t/e,Math.abs(e)*Math.sqrt(1+n*n)):0}class ut{constructor(t){t=it.checkMatrix(t);let e,n,r,i,o=t.clone(),a=t.rows,s=t.columns,u=new Float64Array(s);for(r=0;r<s;r++){let t=0;for(e=r;e<a;e++)t=st(t,o.get(e,r));if(0!==t){for(o.get(r,r)<0&&(t=-t),e=r;e<a;e++)o.set(e,r,o.get(e,r)/t);for(o.set(r,r,o.get(r,r)+1),n=r+1;n<s;n++){for(i=0,e=r;e<a;e++)i+=o.get(e,r)*o.get(e,n);for(i=-i/o.get(r,r),e=r;e<a;e++)o.set(e,n,o.get(e,n)+i*o.get(e,r))}}u[r]=-t}this.QR=o,this.Rdiag=u}solve(t){t=V.checkMatrix(t);let e=this.QR,n=e.rows;if(t.rows!==n)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let r,i,o,a,s=t.columns,u=t.clone(),c=e.columns;for(o=0;o<c;o++)for(i=0;i<s;i++){for(a=0,r=o;r<n;r++)a+=e.get(r,o)*u.get(r,i);for(a=-a/e.get(o,o),r=o;r<n;r++)u.set(r,i,u.get(r,i)+a*e.get(r,o))}for(o=c-1;o>=0;o--){for(i=0;i<s;i++)u.set(o,i,u.get(o,i)/this.Rdiag[o]);for(r=0;r<o;r++)for(i=0;i<s;i++)u.set(r,i,u.get(r,i)-u.get(o,i)*e.get(r,o))}return u.subMatrix(0,c-1,0,s-1)}isFullRank(){let t=this.QR.columns;for(let e=0;e<t;e++)if(0===this.Rdiag[e])return!1;return!0}get upperTriangularMatrix(){let t,e,n=this.QR,r=n.columns,i=new V(r,r);for(t=0;t<r;t++)for(e=0;e<r;e++)t<e?i.set(t,e,n.get(t,e)):t===e?i.set(t,e,this.Rdiag[t]):i.set(t,e,0);return i}get orthogonalMatrix(){let t,e,n,r,i=this.QR,o=i.rows,a=i.columns,s=new V(o,a);for(n=a-1;n>=0;n--){for(t=0;t<o;t++)s.set(t,n,0);for(s.set(n,n,1),e=n;e<a;e++)if(0!==i.get(n,n)){for(r=0,t=n;t<o;t++)r+=i.get(t,n)*s.get(t,e);for(r=-r/i.get(n,n),t=n;t<o;t++)s.set(t,e,s.get(t,e)+r*i.get(t,n))}}return s}}class ct{constructor(t,e={}){if(t=it.checkMatrix(t),t.isEmpty())throw new Error("Matrix must be non-empty");let n=t.rows,r=t.columns;const{computeLeftSingularVectors:i=!0,computeRightSingularVectors:o=!0,autoTranspose:a=!1}=e;let s,u=Boolean(i),c=Boolean(o),l=!1;if(n<r)if(a){s=t.transpose(),n=s.rows,r=s.columns,l=!0;let e=u;u=c,c=e}else s=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else s=t.clone();let f=Math.min(n,r),h=Math.min(n+1,r),d=new Float64Array(h),p=new V(n,f),g=new V(r,r),m=new Float64Array(r),v=new Float64Array(n),y=new Float64Array(h);for(let S=0;S<h;S++)y[S]=S;let b=Math.min(n-1,r),w=Math.max(0,Math.min(r-2,n)),x=Math.max(b,w);for(let S=0;S<x;S++){if(S<b){d[S]=0;for(let t=S;t<n;t++)d[S]=st(d[S],s.get(t,S));if(0!==d[S]){s.get(S,S)<0&&(d[S]=-d[S]);for(let t=S;t<n;t++)s.set(t,S,s.get(t,S)/d[S]);s.set(S,S,s.get(S,S)+1)}d[S]=-d[S]}for(let t=S+1;t<r;t++){if(S<b&&0!==d[S]){let e=0;for(let r=S;r<n;r++)e+=s.get(r,S)*s.get(r,t);e=-e/s.get(S,S);for(let r=S;r<n;r++)s.set(r,t,s.get(r,t)+e*s.get(r,S))}m[t]=s.get(S,t)}if(u&&S<b)for(let t=S;t<n;t++)p.set(t,S,s.get(t,S));if(S<w){m[S]=0;for(let t=S+1;t<r;t++)m[S]=st(m[S],m[t]);if(0!==m[S]){m[S+1]<0&&(m[S]=0-m[S]);for(let t=S+1;t<r;t++)m[t]/=m[S];m[S+1]+=1}if(m[S]=-m[S],S+1<n&&0!==m[S]){for(let t=S+1;t<n;t++)v[t]=0;for(let t=S+1;t<n;t++)for(let e=S+1;e<r;e++)v[t]+=m[e]*s.get(t,e);for(let t=S+1;t<r;t++){let e=-m[t]/m[S+1];for(let r=S+1;r<n;r++)s.set(r,t,s.get(r,t)+e*v[r])}}if(c)for(let t=S+1;t<r;t++)g.set(t,S,m[t])}}let _=Math.min(r,n+1);if(b<r&&(d[b]=s.get(b,b)),n<_&&(d[_-1]=0),w+1<_&&(m[w]=s.get(w,_-1)),m[_-1]=0,u){for(let t=b;t<f;t++){for(let e=0;e<n;e++)p.set(e,t,0);p.set(t,t,1)}for(let t=b-1;t>=0;t--)if(0!==d[t]){for(let e=t+1;e<f;e++){let r=0;for(let i=t;i<n;i++)r+=p.get(i,t)*p.get(i,e);r=-r/p.get(t,t);for(let i=t;i<n;i++)p.set(i,e,p.get(i,e)+r*p.get(i,t))}for(let e=t;e<n;e++)p.set(e,t,-p.get(e,t));p.set(t,t,1+p.get(t,t));for(let e=0;e<t-1;e++)p.set(e,t,0)}else{for(let e=0;e<n;e++)p.set(e,t,0);p.set(t,t,1)}}if(c)for(let S=r-1;S>=0;S--){if(S<w&&0!==m[S])for(let t=S+1;t<r;t++){let e=0;for(let n=S+1;n<r;n++)e+=g.get(n,S)*g.get(n,t);e=-e/g.get(S+1,S);for(let n=S+1;n<r;n++)g.set(n,t,g.get(n,t)+e*g.get(n,S))}for(let t=0;t<r;t++)g.set(t,S,0);g.set(S,S,1)}let k=_-1,A=Number.EPSILON;while(_>0){let t,e;for(t=_-2;t>=-1;t--){if(-1===t)break;const e=Number.MIN_VALUE+A*Math.abs(d[t]+Math.abs(d[t+1]));if(Math.abs(m[t])<=e||Number.isNaN(m[t])){m[t]=0;break}}if(t===_-2)e=4;else{let n;for(n=_-1;n>=t;n--){if(n===t)break;let e=(n!==_?Math.abs(m[n]):0)+(n!==t+1?Math.abs(m[n-1]):0);if(Math.abs(d[n])<=A*e){d[n]=0;break}}n===t?e=3:n===_-1?e=1:(e=2,t=n)}switch(t++,e){case 1:{let e=m[_-2];m[_-2]=0;for(let n=_-2;n>=t;n--){let i=st(d[n],e),o=d[n]/i,a=e/i;if(d[n]=i,n!==t&&(e=-a*m[n-1],m[n-1]=o*m[n-1]),c)for(let t=0;t<r;t++)i=o*g.get(t,n)+a*g.get(t,_-1),g.set(t,_-1,-a*g.get(t,n)+o*g.get(t,_-1)),g.set(t,n,i)}break}case 2:{let e=m[t-1];m[t-1]=0;for(let r=t;r<_;r++){let i=st(d[r],e),o=d[r]/i,a=e/i;if(d[r]=i,e=-a*m[r],m[r]=o*m[r],u)for(let e=0;e<n;e++)i=o*p.get(e,r)+a*p.get(e,t-1),p.set(e,t-1,-a*p.get(e,r)+o*p.get(e,t-1)),p.set(e,r,i)}break}case 3:{const e=Math.max(Math.abs(d[_-1]),Math.abs(d[_-2]),Math.abs(m[_-2]),Math.abs(d[t]),Math.abs(m[t])),i=d[_-1]/e,o=d[_-2]/e,a=m[_-2]/e,s=d[t]/e,l=m[t]/e,f=((o+i)*(o-i)+a*a)/2,h=i*a*(i*a);let v=0;0===f&&0===h||(v=f<0?0-Math.sqrt(f*f+h):Math.sqrt(f*f+h),v=h/(f+v));let y=(s+i)*(s-i)+v,b=s*l;for(let w=t;w<_-1;w++){let e=st(y,b);0===e&&(e=Number.MIN_VALUE);let i=y/e,o=b/e;if(w!==t&&(m[w-1]=e),y=i*d[w]+o*m[w],m[w]=i*m[w]-o*d[w],b=o*d[w+1],d[w+1]=i*d[w+1],c)for(let t=0;t<r;t++)e=i*g.get(t,w)+o*g.get(t,w+1),g.set(t,w+1,-o*g.get(t,w)+i*g.get(t,w+1)),g.set(t,w,e);if(e=st(y,b),0===e&&(e=Number.MIN_VALUE),i=y/e,o=b/e,d[w]=e,y=i*m[w]+o*d[w+1],d[w+1]=-o*m[w]+i*d[w+1],b=o*m[w+1],m[w+1]=i*m[w+1],u&&w<n-1)for(let t=0;t<n;t++)e=i*p.get(t,w)+o*p.get(t,w+1),p.set(t,w+1,-o*p.get(t,w)+i*p.get(t,w+1)),p.set(t,w,e)}m[_-2]=y;break}case 4:if(d[t]<=0&&(d[t]=d[t]<0?-d[t]:0,c))for(let e=0;e<=k;e++)g.set(e,t,-g.get(e,t));while(t<k){if(d[t]>=d[t+1])break;let e=d[t];if(d[t]=d[t+1],d[t+1]=e,c&&t<r-1)for(let n=0;n<r;n++)e=g.get(n,t+1),g.set(n,t+1,g.get(n,t)),g.set(n,t,e);if(u&&t<n-1)for(let r=0;r<n;r++)e=p.get(r,t+1),p.set(r,t+1,p.get(r,t)),p.set(r,t,e);t++}_--;break}}if(l){let t=g;g=p,p=t}this.m=n,this.n=r,this.s=d,this.U=p,this.V=g}solve(t){let e=t,n=this.threshold,r=this.s.length,i=V.zeros(r,r);for(let f=0;f<r;f++)Math.abs(this.s[f])<=n?i.set(f,f,0):i.set(f,f,1/this.s[f]);let o=this.U,a=this.rightSingularVectors,s=a.mmul(i),u=a.rows,c=o.rows,l=V.zeros(u,c);for(let f=0;f<u;f++)for(let t=0;t<c;t++){let e=0;for(let n=0;n<r;n++)e+=s.get(f,n)*o.get(t,n);l.set(f,t,e)}return l.mmul(e)}solveForDiagonal(t){return this.solve(V.diag(t))}inverse(){let t=this.V,e=this.threshold,n=t.rows,r=t.columns,i=new V(n,this.s.length);for(let c=0;c<n;c++)for(let n=0;n<r;n++)Math.abs(this.s[n])>e&&i.set(c,n,t.get(c,n)/this.s[n]);let o=this.U,a=o.rows,s=o.columns,u=new V(n,a);for(let c=0;c<n;c++)for(let t=0;t<a;t++){let e=0;for(let n=0;n<s;n++)e+=i.get(c,n)*o.get(t,n);u.set(c,t,e)}return u}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,n=this.s;for(let r=0,i=n.length;r<i;r++)n[r]>t&&e++;return e}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return V.diag(this.s)}}function lt(t,e=!1){return t=it.checkMatrix(t),e?new ct(t).inverse():ft(t,V.eye(t.rows))}function ft(t,e,n=!1){return t=it.checkMatrix(t),e=it.checkMatrix(e),n?new ct(t).solve(e):t.isSquare()?new at(t).solve(e):new ut(t).solve(e)}function ht(t){if(t=V.checkMatrix(t),t.isSquare()){if(0===t.columns)return 1;let e,n,r,i;if(2===t.columns)return e=t.get(0,0),n=t.get(0,1),r=t.get(1,0),i=t.get(1,1),e*i-n*r;if(3===t.columns){let i,o,a;return i=new tt(t,[1,2],[1,2]),o=new tt(t,[1,2],[0,2]),a=new tt(t,[1,2],[0,1]),e=t.get(0,0),n=t.get(0,1),r=t.get(0,2),e*ht(i)-n*ht(o)+r*ht(a)}return new at(t).determinant}throw Error("determinant can only be calculated for a square matrix")}function dt(t,e){let n=[];for(let r=0;r<t;r++)r!==e&&n.push(r);return n}function pt(t,e,n,r=1e-9,i=1e-9){if(t>i)return new Array(e.rows+1).fill(0);{let t=e.addRow(n,[0]);for(let e=0;e<t.rows;e++)Math.abs(t.get(e,0))<r&&t.set(e,0,0);return t.to1DArray()}}function gt(t,e={}){const{thresholdValue:n=1e-9,thresholdError:r=1e-9}=e;t=V.checkMatrix(t);let i=t.rows,o=new V(i,i);for(let a=0;a<i;a++){let e=V.columnVector(t.getRow(a)),s=t.subMatrixRow(dt(i,a)).transpose(),u=new ct(s),c=u.solve(e),l=V.sub(e,s.mmul(c)).abs().max();o.setRow(a,pt(l,c,a,n,r))}return o}function mt(t,e=Number.EPSILON){if(t=V.checkMatrix(t),t.isEmpty())return t.transpose();let n=new ct(t,{autoTranspose:!0}),r=n.leftSingularVectors,i=n.rightSingularVectors,o=n.diagonal;for(let a=0;a<o.length;a++)Math.abs(o[a])>e?o[a]=1/o[a]:o[a]=0;return i.mmul(V.diag(o).mmul(r.transpose()))}function vt(t,e=t,n={}){t=new V(t);let i=!1;if("object"!==typeof e||V.isMatrix(e)||r.isAnyArray(e)?e=new V(e):(n=e,e=t,i=!0),t.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:o=!0}=n;o&&(t=t.center("column"),i||(e=e.center("column")));const a=t.transpose().mmul(e);for(let r=0;r<a.rows;r++)for(let e=0;e<a.columns;e++)a.set(r,e,a.get(r,e)*(1/(t.rows-1)));return a}function yt(t,e=t,n={}){t=new V(t);let i=!1;if("object"!==typeof e||V.isMatrix(e)||r.isAnyArray(e)?e=new V(e):(n=e,e=t,i=!0),t.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:o=!0,scale:a=!0}=n;o&&(t.center("column"),i||e.center("column")),a&&(t.scale("column"),i||e.scale("column"));const s=t.standardDeviation("column",{unbiased:!0}),u=i?s:e.standardDeviation("column",{unbiased:!0}),c=t.transpose().mmul(e);for(let r=0;r<c.rows;r++)for(let e=0;e<c.columns;e++)c.set(r,e,c.get(r,e)*(1/(s[r]*u[e]))*(1/(t.rows-1)));return c}class bt{constructor(t,e={}){const{assumeSymmetric:n=!1}=e;if(t=it.checkMatrix(t),!t.isSquare())throw new Error("Matrix is not a square matrix");if(t.isEmpty())throw new Error("Matrix must be non-empty");let r,i,o=t.columns,a=new V(o,o),s=new Float64Array(o),u=new Float64Array(o),c=t,l=!1;if(l=!!n||t.isSymmetric(),l){for(r=0;r<o;r++)for(i=0;i<o;i++)a.set(r,i,c.get(r,i));wt(o,u,s,a),xt(o,u,s,a)}else{let t=new V(o,o),e=new Float64Array(o);for(i=0;i<o;i++)for(r=0;r<o;r++)t.set(r,i,c.get(r,i));_t(o,t,e,a),kt(o,u,s,a,t)}this.n=o,this.e=u,this.d=s,this.V=a}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let t,e,n=this.n,r=this.e,i=this.d,o=new V(n,n);for(t=0;t<n;t++){for(e=0;e<n;e++)o.set(t,e,0);o.set(t,t,i[t]),r[t]>0?o.set(t,t+1,r[t]):r[t]<0&&o.set(t,t-1,r[t])}return o}}function wt(t,e,n,r){let i,o,a,s,u,c,l,f;for(u=0;u<t;u++)n[u]=r.get(t-1,u);for(s=t-1;s>0;s--){for(f=0,a=0,c=0;c<s;c++)f+=Math.abs(n[c]);if(0===f)for(e[s]=n[s-1],u=0;u<s;u++)n[u]=r.get(s-1,u),r.set(s,u,0),r.set(u,s,0);else{for(c=0;c<s;c++)n[c]/=f,a+=n[c]*n[c];for(i=n[s-1],o=Math.sqrt(a),i>0&&(o=-o),e[s]=f*o,a-=i*o,n[s-1]=i-o,u=0;u<s;u++)e[u]=0;for(u=0;u<s;u++){for(i=n[u],r.set(u,s,i),o=e[u]+r.get(u,u)*i,c=u+1;c<=s-1;c++)o+=r.get(c,u)*n[c],e[c]+=r.get(c,u)*i;e[u]=o}for(i=0,u=0;u<s;u++)e[u]/=a,i+=e[u]*n[u];for(l=i/(a+a),u=0;u<s;u++)e[u]-=l*n[u];for(u=0;u<s;u++){for(i=n[u],o=e[u],c=u;c<=s-1;c++)r.set(c,u,r.get(c,u)-(i*e[c]+o*n[c]));n[u]=r.get(s-1,u),r.set(s,u,0)}}n[s]=a}for(s=0;s<t-1;s++){if(r.set(t-1,s,r.get(s,s)),r.set(s,s,1),a=n[s+1],0!==a){for(c=0;c<=s;c++)n[c]=r.get(c,s+1)/a;for(u=0;u<=s;u++){for(o=0,c=0;c<=s;c++)o+=r.get(c,s+1)*r.get(c,u);for(c=0;c<=s;c++)r.set(c,u,r.get(c,u)-o*n[c])}}for(c=0;c<=s;c++)r.set(c,s+1,0)}for(u=0;u<t;u++)n[u]=r.get(t-1,u),r.set(t-1,u,0);r.set(t-1,t-1,1),e[0]=0}function xt(t,e,n,r){let i,o,a,s,u,c,l,f,h,d,p,g,m,v,y,b;for(a=1;a<t;a++)e[a-1]=e[a];e[t-1]=0;let w=0,x=0,_=Number.EPSILON;for(c=0;c<t;c++){x=Math.max(x,Math.abs(n[c])+Math.abs(e[c])),l=c;while(l<t){if(Math.abs(e[l])<=_*x)break;l++}if(l>c)do{for(i=n[c],f=(n[c+1]-i)/(2*e[c]),h=st(f,1),f<0&&(h=-h),n[c]=e[c]/(f+h),n[c+1]=e[c]*(f+h),d=n[c+1],o=i-n[c],a=c+2;a<t;a++)n[a]-=o;for(w+=o,f=n[l],p=1,g=p,m=p,v=e[c+1],y=0,b=0,a=l-1;a>=c;a--)for(m=g,g=p,b=y,i=p*e[a],o=p*f,h=st(f,e[a]),e[a+1]=y*h,y=e[a]/h,p=f/h,f=p*n[a]-y*i,n[a+1]=o+y*(p*i+y*n[a]),u=0;u<t;u++)o=r.get(u,a+1),r.set(u,a+1,y*r.get(u,a)+p*o),r.set(u,a,p*r.get(u,a)-y*o);f=-y*b*m*v*e[c]/d,e[c]=y*f,n[c]=p*f}while(Math.abs(e[c])>_*x);n[c]=n[c]+w,e[c]=0}for(a=0;a<t-1;a++){for(u=a,f=n[a],s=a+1;s<t;s++)n[s]<f&&(u=s,f=n[s]);if(u!==a)for(n[u]=n[a],n[a]=f,s=0;s<t;s++)f=r.get(s,a),r.set(s,a,r.get(s,u)),r.set(s,u,f)}}function _t(t,e,n,r){let i,o,a,s,u,c,l,f=0,h=t-1;for(c=f+1;c<=h-1;c++){for(l=0,s=c;s<=h;s++)l+=Math.abs(e.get(s,c-1));if(0!==l){for(a=0,s=h;s>=c;s--)n[s]=e.get(s,c-1)/l,a+=n[s]*n[s];for(o=Math.sqrt(a),n[c]>0&&(o=-o),a-=n[c]*o,n[c]=n[c]-o,u=c;u<t;u++){for(i=0,s=h;s>=c;s--)i+=n[s]*e.get(s,u);for(i/=a,s=c;s<=h;s++)e.set(s,u,e.get(s,u)-i*n[s])}for(s=0;s<=h;s++){for(i=0,u=h;u>=c;u--)i+=n[u]*e.get(s,u);for(i/=a,u=c;u<=h;u++)e.set(s,u,e.get(s,u)-i*n[u])}n[c]=l*n[c],e.set(c,c-1,l*o)}}for(s=0;s<t;s++)for(u=0;u<t;u++)r.set(s,u,s===u?1:0);for(c=h-1;c>=f+1;c--)if(0!==e.get(c,c-1)){for(s=c+1;s<=h;s++)n[s]=e.get(s,c-1);for(u=c;u<=h;u++){for(o=0,s=c;s<=h;s++)o+=n[s]*r.get(s,u);for(o=o/n[c]/e.get(c,c-1),s=c;s<=h;s++)r.set(s,u,r.get(s,u)+o*n[s])}}}function kt(t,e,n,r,i){let o,a,s,u,c,l,f,h,d,p,g,m,v,y,b,w=t-1,x=0,_=t-1,k=Number.EPSILON,A=0,S=0,C=0,E=0,D=0,M=0,T=0,F=0;for(o=0;o<t;o++)for((o<x||o>_)&&(n[o]=i.get(o,o),e[o]=0),a=Math.max(o-1,0);a<t;a++)S+=Math.abs(i.get(o,a));while(w>=x){u=w;while(u>x){if(M=Math.abs(i.get(u-1,u-1))+Math.abs(i.get(u,u)),0===M&&(M=S),Math.abs(i.get(u,u-1))<k*M)break;u--}if(u===w)i.set(w,w,i.get(w,w)+A),n[w]=i.get(w,w),e[w]=0,w--,F=0;else if(u===w-1){if(f=i.get(w,w-1)*i.get(w-1,w),C=(i.get(w-1,w-1)-i.get(w,w))/2,E=C*C+f,T=Math.sqrt(Math.abs(E)),i.set(w,w,i.get(w,w)+A),i.set(w-1,w-1,i.get(w-1,w-1)+A),h=i.get(w,w),E>=0){for(T=C>=0?C+T:C-T,n[w-1]=h+T,n[w]=n[w-1],0!==T&&(n[w]=h-f/T),e[w-1]=0,e[w]=0,h=i.get(w,w-1),M=Math.abs(h)+Math.abs(T),C=h/M,E=T/M,D=Math.sqrt(C*C+E*E),C/=D,E/=D,a=w-1;a<t;a++)T=i.get(w-1,a),i.set(w-1,a,E*T+C*i.get(w,a)),i.set(w,a,E*i.get(w,a)-C*T);for(o=0;o<=w;o++)T=i.get(o,w-1),i.set(o,w-1,E*T+C*i.get(o,w)),i.set(o,w,E*i.get(o,w)-C*T);for(o=x;o<=_;o++)T=r.get(o,w-1),r.set(o,w-1,E*T+C*r.get(o,w)),r.set(o,w,E*r.get(o,w)-C*T)}else n[w-1]=h+C,n[w]=h+C,e[w-1]=T,e[w]=-T;w-=2,F=0}else{if(h=i.get(w,w),d=0,f=0,u<w&&(d=i.get(w-1,w-1),f=i.get(w,w-1)*i.get(w-1,w)),10===F){for(A+=h,o=x;o<=w;o++)i.set(o,o,i.get(o,o)-h);M=Math.abs(i.get(w,w-1))+Math.abs(i.get(w-1,w-2)),h=d=.75*M,f=-.4375*M*M}if(30===F&&(M=(d-h)/2,M=M*M+f,M>0)){for(M=Math.sqrt(M),d<h&&(M=-M),M=h-f/((d-h)/2+M),o=x;o<=w;o++)i.set(o,o,i.get(o,o)-M);A+=M,h=d=f=.964}F+=1,c=w-2;while(c>=u){if(T=i.get(c,c),D=h-T,M=d-T,C=(D*M-f)/i.get(c+1,c)+i.get(c,c+1),E=i.get(c+1,c+1)-T-D-M,D=i.get(c+2,c+1),M=Math.abs(C)+Math.abs(E)+Math.abs(D),C/=M,E/=M,D/=M,c===u)break;if(Math.abs(i.get(c,c-1))*(Math.abs(E)+Math.abs(D))<k*(Math.abs(C)*(Math.abs(i.get(c-1,c-1))+Math.abs(T)+Math.abs(i.get(c+1,c+1)))))break;c--}for(o=c+2;o<=w;o++)i.set(o,o-2,0),o>c+2&&i.set(o,o-3,0);for(s=c;s<=w-1;s++){if(y=s!==w-1,s!==c&&(C=i.get(s,s-1),E=i.get(s+1,s-1),D=y?i.get(s+2,s-1):0,h=Math.abs(C)+Math.abs(E)+Math.abs(D),0!==h&&(C/=h,E/=h,D/=h)),0===h)break;if(M=Math.sqrt(C*C+E*E+D*D),C<0&&(M=-M),0!==M){for(s!==c?i.set(s,s-1,-M*h):u!==c&&i.set(s,s-1,-i.get(s,s-1)),C+=M,h=C/M,d=E/M,T=D/M,E/=C,D/=C,a=s;a<t;a++)C=i.get(s,a)+E*i.get(s+1,a),y&&(C+=D*i.get(s+2,a),i.set(s+2,a,i.get(s+2,a)-C*T)),i.set(s,a,i.get(s,a)-C*h),i.set(s+1,a,i.get(s+1,a)-C*d);for(o=0;o<=Math.min(w,s+3);o++)C=h*i.get(o,s)+d*i.get(o,s+1),y&&(C+=T*i.get(o,s+2),i.set(o,s+2,i.get(o,s+2)-C*D)),i.set(o,s,i.get(o,s)-C),i.set(o,s+1,i.get(o,s+1)-C*E);for(o=x;o<=_;o++)C=h*r.get(o,s)+d*r.get(o,s+1),y&&(C+=T*r.get(o,s+2),r.set(o,s+2,r.get(o,s+2)-C*D)),r.set(o,s,r.get(o,s)-C),r.set(o,s+1,r.get(o,s+1)-C*E)}}}}if(0!==S){for(w=t-1;w>=0;w--)if(C=n[w],E=e[w],0===E)for(u=w,i.set(w,w,1),o=w-1;o>=0;o--){for(f=i.get(o,o)-C,D=0,a=u;a<=w;a++)D+=i.get(o,a)*i.get(a,w);if(e[o]<0)T=f,M=D;else if(u=o,0===e[o]?i.set(o,w,0!==f?-D/f:-D/(k*S)):(h=i.get(o,o+1),d=i.get(o+1,o),E=(n[o]-C)*(n[o]-C)+e[o]*e[o],l=(h*M-T*D)/E,i.set(o,w,l),i.set(o+1,w,Math.abs(h)>Math.abs(T)?(-D-f*l)/h:(-M-d*l)/T)),l=Math.abs(i.get(o,w)),k*l*l>1)for(a=o;a<=w;a++)i.set(a,w,i.get(a,w)/l)}else if(E<0)for(u=w-1,Math.abs(i.get(w,w-1))>Math.abs(i.get(w-1,w))?(i.set(w-1,w-1,E/i.get(w,w-1)),i.set(w-1,w,-(i.get(w,w)-C)/i.get(w,w-1))):(b=At(0,-i.get(w-1,w),i.get(w-1,w-1)-C,E),i.set(w-1,w-1,b[0]),i.set(w-1,w,b[1])),i.set(w,w-1,0),i.set(w,w,1),o=w-2;o>=0;o--){for(p=0,g=0,a=u;a<=w;a++)p+=i.get(o,a)*i.get(a,w-1),g+=i.get(o,a)*i.get(a,w);if(f=i.get(o,o)-C,e[o]<0)T=f,D=p,M=g;else if(u=o,0===e[o]?(b=At(-p,-g,f,E),i.set(o,w-1,b[0]),i.set(o,w,b[1])):(h=i.get(o,o+1),d=i.get(o+1,o),m=(n[o]-C)*(n[o]-C)+e[o]*e[o]-E*E,v=2*(n[o]-C)*E,0===m&&0===v&&(m=k*S*(Math.abs(f)+Math.abs(E)+Math.abs(h)+Math.abs(d)+Math.abs(T))),b=At(h*D-T*p+E*g,h*M-T*g-E*p,m,v),i.set(o,w-1,b[0]),i.set(o,w,b[1]),Math.abs(h)>Math.abs(T)+Math.abs(E)?(i.set(o+1,w-1,(-p-f*i.get(o,w-1)+E*i.get(o,w))/h),i.set(o+1,w,(-g-f*i.get(o,w)-E*i.get(o,w-1))/h)):(b=At(-D-d*i.get(o,w-1),-M-d*i.get(o,w),T,E),i.set(o+1,w-1,b[0]),i.set(o+1,w,b[1]))),l=Math.max(Math.abs(i.get(o,w-1)),Math.abs(i.get(o,w))),k*l*l>1)for(a=o;a<=w;a++)i.set(a,w-1,i.get(a,w-1)/l),i.set(a,w,i.get(a,w)/l)}for(o=0;o<t;o++)if(o<x||o>_)for(a=o;a<t;a++)r.set(o,a,i.get(o,a));for(a=t-1;a>=x;a--)for(o=x;o<=_;o++){for(T=0,s=x;s<=Math.min(a,_);s++)T+=r.get(o,s)*i.get(s,a);r.set(o,a,T)}}}function At(t,e,n,r){let i,o;return Math.abs(n)>Math.abs(r)?(i=r/n,o=n+i*r,[(t+i*e)/o,(e-i*t)/o]):(i=n/r,o=r+i*n,[(i*t+e)/o,(i*e-t)/o])}class St{constructor(t){if(t=it.checkMatrix(t),!t.isSymmetric())throw new Error("Matrix is not symmetric");let e,n,r,i=t,o=i.rows,a=new V(o,o),s=!0;for(n=0;n<o;n++){let t=0;for(r=0;r<n;r++){let o=0;for(e=0;e<r;e++)o+=a.get(r,e)*a.get(n,e);o=(i.get(n,r)-o)/a.get(r,r),a.set(n,r,o),t+=o*o}for(t=i.get(n,n)-t,s&=t>0,a.set(n,n,Math.sqrt(Math.max(t,0))),r=n+1;r<o;r++)a.set(n,r,0)}this.L=a,this.positiveDefinite=Boolean(s)}isPositiveDefinite(){return this.positiveDefinite}solve(t){t=it.checkMatrix(t);let e=this.L,n=e.rows;if(t.rows!==n)throw new Error("Matrix dimensions do not match");if(!1===this.isPositiveDefinite())throw new Error("Matrix is not positive definite");let r,i,o,a=t.columns,s=t.clone();for(o=0;o<n;o++)for(i=0;i<a;i++){for(r=0;r<o;r++)s.set(o,i,s.get(o,i)-s.get(r,i)*e.get(o,r));s.set(o,i,s.get(o,i)/e.get(o,o))}for(o=n-1;o>=0;o--)for(i=0;i<a;i++){for(r=o+1;r<n;r++)s.set(o,i,s.get(o,i)-s.get(r,i)*e.get(r,o));s.set(o,i,s.get(o,i)/e.get(o,o))}return s}get lowerTriangularMatrix(){return this.L}}class Ct{constructor(t,e={}){t=it.checkMatrix(t);let{Y:n}=e;const{scaleScores:i=!1,maxIterations:o=1e3,terminationCriteria:a=1e-10}=e;let s;if(n){if(n=r.isAnyArray(n)&&"number"===typeof n[0]?V.columnVector(n):it.checkMatrix(n),n.rows!==t.rows)throw new Error("Y should have the same number of rows as X");s=n.getColumnVector(0)}else s=t.getColumnVector(0);let u,c,l,f,h=1;for(let r=0;r<o&&h>a;r++)l=t.transpose().mmul(s).div(s.transpose().mmul(s).get(0,0)),l=l.div(l.norm()),u=t.mmul(l).div(l.transpose().mmul(l).get(0,0)),r>0&&(h=u.clone().sub(f).pow(2).sum()),f=u.clone(),n?(c=n.transpose().mmul(u).div(u.transpose().mmul(u).get(0,0)),c=c.div(c.norm()),s=n.mmul(c).div(c.transpose().mmul(c).get(0,0))):s=u;if(n){let e=t.transpose().mmul(u).div(u.transpose().mmul(u).get(0,0));e=e.div(e.norm());let r=t.clone().sub(u.clone().mmul(e.transpose())),i=s.transpose().mmul(u).div(u.transpose().mmul(u).get(0,0)),o=n.clone().sub(u.clone().mulS(i.get(0,0)).mmul(c.transpose()));this.t=u,this.p=e.transpose(),this.w=l.transpose(),this.q=c,this.u=s,this.s=u.transpose().mmul(u),this.xResidual=r,this.yResidual=o,this.betas=i}else this.w=l.transpose(),this.s=u.transpose().mmul(u).sqrt(),this.t=i?u.clone().div(this.s.get(0,0)):u,this.xResidual=t.sub(u.mmul(l.transpose()))}}e.y3=z,e.jy=St,e.oN=St,e.Hc=W,e.cg=bt,e.hj=bt,e.LU=at,e.Tb=at,e.uq=V,e.Zm=K,e.Dq=G,e.__=X,e.q0=J,e.lh=Q,e.pI=Z,e.zC=tt,e.zg=et,e.g6=nt,e.OL=Ct,e.ks=Ct,e.QR=ut,e.jp=ut,e.mk=ct,e.W2=ct,e.l=H,e.KY=rt,e.dv=it,e.BR=yt,e.Wu=vt,e.a4=ht,e.DI=lt,e.Jo=gt,e.Zi=mt,e.kH=ft,e.LV=ot},5228:function(t){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function o(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map((function(t){return e[t]}));if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(o){return!1}}t.exports=o()?Object.assign:function(t,o){for(var a,s,u=i(t),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]),a)n.call(a,l)&&(u[l]=a[l]);if(e){s=e(a);for(var f=0;f<s.length;f++)r.call(a,s[f])&&(u[s[f]]=a[s[f]])}}return u}},4809:function(t,e){var n,r,i;
/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/!function(o,a){r=[],n=a,i="function"===typeof n?n.apply(e,r):n,void 0===i||(t.exports=i)}(0,(function t(){"use strict";var e="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{},n=!e.document&&!!e.postMessage,r=e.IS_PAPA_WORKER||!1,i={},o=0,a={parse:function(n,r){var s=(r=r||{}).dynamicTyping||!1;if(x(s)&&(r.dynamicTypingFunction=s,s={}),r.dynamicTyping=s,r.transform=!!x(r.transform)&&r.transform,r.worker&&a.WORKERS_SUPPORTED){var u=function(){if(!a.WORKERS_SUPPORTED)return!1;var n,r,s=(n=e.URL||e.webkitURL||null,r=t.toString(),a.BLOB_URL||(a.BLOB_URL=n.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",r,")();"],{type:"text/javascript"})))),u=new e.Worker(s);return u.onmessage=m,u.id=o++,i[u.id]=u}();return u.userStep=r.step,u.userChunk=r.chunk,u.userComplete=r.complete,u.userError=r.error,r.step=x(r.step),r.chunk=x(r.chunk),r.complete=x(r.complete),r.error=x(r.error),delete r.worker,void u.postMessage({input:n,config:r,workerId:u.id})}var d=null;return a.NODE_STREAM_INPUT,"string"==typeof n?(n=function(t){return 65279===t.charCodeAt(0)?t.slice(1):t}(n),d=r.download?new c(r):new f(r)):!0===n.readable&&x(n.read)&&x(n.on)?d=new h(r):(e.File&&n instanceof File||n instanceof Object)&&(d=new l(r)),d.stream(n)},unparse:function(t,e){var n=!1,r=!0,i=",",o="\r\n",s='"',u=s+s,c=!1,l=null,f=!1;!function(){if("object"==typeof e){if("string"!=typeof e.delimiter||a.BAD_DELIMITERS.filter((function(t){return-1!==e.delimiter.indexOf(t)})).length||(i=e.delimiter),("boolean"==typeof e.quotes||"function"==typeof e.quotes||Array.isArray(e.quotes))&&(n=e.quotes),"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(c=e.skipEmptyLines),"string"==typeof e.newline&&(o=e.newline),"string"==typeof e.quoteChar&&(s=e.quoteChar),"boolean"==typeof e.header&&(r=e.header),Array.isArray(e.columns)){if(0===e.columns.length)throw new Error("Option columns is empty");l=e.columns}void 0!==e.escapeChar&&(u=e.escapeChar+s),("boolean"==typeof e.escapeFormulae||e.escapeFormulae instanceof RegExp)&&(f=e.escapeFormulae instanceof RegExp?e.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var h=new RegExp(p(s),"g");if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return d(null,t,c);if("object"==typeof t[0])return d(l||Object.keys(t[0]),t,c)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields||l),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:"object"==typeof t.data[0]?Object.keys(t.data[0]):[]),Array.isArray(t.data[0])||"object"==typeof t.data[0]||(t.data=[t.data])),d(t.fields||[],t.data||[],c);throw new Error("Unable to serialize unrecognized input");function d(t,e,n){var a="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var s=Array.isArray(t)&&0<t.length,u=!Array.isArray(e[0]);if(s&&r){for(var c=0;c<t.length;c++)0<c&&(a+=i),a+=g(t[c],c);0<e.length&&(a+=o)}for(var l=0;l<e.length;l++){var f=s?t.length:e[l].length,h=!1,d=s?0===Object.keys(e[l]).length:0===e[l].length;if(n&&!s&&(h="greedy"===n?""===e[l].join("").trim():1===e[l].length&&0===e[l][0].length),"greedy"===n&&s){for(var p=[],m=0;m<f;m++){var v=u?t[m]:m;p.push(e[l][v])}h=""===p.join("").trim()}if(!h){for(var y=0;y<f;y++){0<y&&!d&&(a+=i);var b=s&&u?t[y]:y;a+=g(e[l][b],y)}l<e.length-1&&(!n||0<f&&!d)&&(a+=o)}}return a}function g(t,e){if(null==t)return"";if(t.constructor===Date)return JSON.stringify(t).slice(1,25);var r=!1;f&&"string"==typeof t&&f.test(t)&&(t="'"+t,r=!0);var o=t.toString().replace(h,u);return(r=r||!0===n||"function"==typeof n&&n(t,e)||Array.isArray(n)&&n[e]||function(t,e){for(var n=0;n<e.length;n++)if(-1<t.indexOf(e[n]))return!0;return!1}(o,a.BAD_DELIMITERS)||-1<o.indexOf(i)||" "===o.charAt(0)||" "===o.charAt(o.length-1))?s+o+s:o}}};if(a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\ufeff",a.BAD_DELIMITERS=["\r","\n",'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!n&&!!e.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=g,a.ParserHandle=d,a.NetworkStreamer=c,a.FileStreamer=l,a.StringStreamer=f,a.ReadableStreamStreamer=h,e.jQuery){var s=e.jQuery;s.fn.parse=function(t){var n=t.config||{},r=[];return this.each((function(t){if("INPUT"!==s(this).prop("tagName").toUpperCase()||"file"!==s(this).attr("type").toLowerCase()||!e.FileReader||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)r.push({file:this.files[i],inputElem:this,instanceConfig:s.extend({},n)})})),i(),this;function i(){if(0!==r.length){var e,n,i,u,c=r[0];if(x(t.before)){var l=t.before(c.file,c.inputElem);if("object"==typeof l){if("abort"===l.action)return e="AbortError",n=c.file,i=c.inputElem,u=l.reason,void(x(t.error)&&t.error({name:e},n,i,u));if("skip"===l.action)return void o();"object"==typeof l.config&&(c.instanceConfig=s.extend(c.instanceConfig,l.config))}else if("skip"===l)return void o()}var f=c.instanceConfig.complete;c.instanceConfig.complete=function(t){x(f)&&f(t,c.file,c.inputElem),o()},a.parse(c.file,c.instanceConfig)}else x(t.complete)&&t.complete()}function o(){r.splice(0,1),i()}}}function u(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=b(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new d(e),(this._handle.streamer=this)._config=e}.call(this,t),this.parseChunk=function(t,n){if(this.isFirstChunk&&x(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(t);void 0!==i&&(t=i)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+t;this._partialLine="";var s=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var u=s.meta.cursor;this._finished||(this._partialLine=o.substring(u-this._baseIndex),this._baseIndex=u),s&&s.data&&(this._rowCount+=s.data.length);var c=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)e.postMessage({results:s,workerId:a.WORKER_ID,finished:c});else if(x(this._config.chunk)&&!n){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);s=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!c||!x(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),c||s&&s.meta.paused||this._nextChunk(),s}this._halted=!0},this._sendError=function(t){x(this._config.error)?this._config.error(t):r&&this._config.error&&e.postMessage({workerId:a.WORKER_ID,error:t,finished:!1})}}function c(t){var e;(t=t||{}).chunkSize||(t.chunkSize=a.RemoteChunkSize),u.call(this,t),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),n||(e.onload=w(this._chunkLoaded,this),e.onerror=w(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var r in t)e.setRequestHeader(r,t[r])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+i)}try{e.send(this._config.downloadRequestBody)}catch(t){this._chunkError(t.message)}n&&0===e.status&&this._chunkError()}},this._chunkLoaded=function(){4===e.readyState&&(e.status<200||400<=e.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:e.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(t){var e=t.getResponseHeader("Content-Range");return null===e?-1:parseInt(e.substring(e.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(t){var n=e.statusText||t;this._sendError(new Error(n))}}function l(t){var e,n;(t=t||{}).chunkSize||(t.chunkSize=a.LocalChunkSize),u.call(this,t);var r="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,r?((e=new FileReader).onload=w(this._chunkLoaded,this),e.onerror=w(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var i=Math.min(this._start+this._config.chunkSize,this._input.size);t=n.call(t,this._start,i)}var o=e.readAsText(t,this._config.encoding);r||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function f(t){var e;u.call(this,t=t||{}),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t,n=this._config.chunkSize;return n?(t=e.substring(0,n),e=e.substring(n)):(t=e,e=""),this._finished=!e,this.parseChunk(t)}}}function h(t){u.call(this,t=t||{});var e=[],n=!0,r=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===e.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):n=!0},this._streamData=w((function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(t){this._streamError(t)}}),this),this._streamError=w((function(t){this._streamCleanUp(),this._sendError(t)}),this),this._streamEnd=w((function(){this._streamCleanUp(),r=!0,this._streamData("")}),this),this._streamCleanUp=w((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function d(t){var e,n,r,i=Math.pow(2,53),o=-i,s=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,u=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,c=this,l=0,f=0,h=!1,d=!1,m=[],v={data:[],errors:[],meta:{}};if(x(t.step)){var y=t.step;t.step=function(e){if(v=e,k())_();else{if(_(),0===v.data.length)return;l+=e.data.length,t.preview&&l>t.preview?n.abort():(v.data=v.data[0],y(v,c))}}}function w(e){return"greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function _(){return v&&r&&(S("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),r=!1),t.skipEmptyLines&&(v.data=v.data.filter((function(t){return!w(t)}))),k()&&function(){if(v)if(Array.isArray(v.data[0])){for(var e=0;k()&&e<v.data.length;e++)v.data[e].forEach(n);v.data.splice(0,1)}else v.data.forEach(n);function n(e,n){x(t.transformHeader)&&(e=t.transformHeader(e,n)),m.push(e)}}(),function(){if(!v||!t.header&&!t.dynamicTyping&&!t.transform)return v;function e(e,n){var r,i=t.header?{}:[];for(r=0;r<e.length;r++){var o=r,a=e[r];t.header&&(o=r>=m.length?"__parsed_extra":m[r]),t.transform&&(a=t.transform(a,o)),a=A(o,a),"__parsed_extra"===o?(i[o]=i[o]||[],i[o].push(a)):i[o]=a}return t.header&&(r>m.length?S("FieldMismatch","TooManyFields","Too many fields: expected "+m.length+" fields but parsed "+r,f+n):r<m.length&&S("FieldMismatch","TooFewFields","Too few fields: expected "+m.length+" fields but parsed "+r,f+n)),i}var n=1;return!v.data.length||Array.isArray(v.data[0])?(v.data=v.data.map(e),n=v.data.length):v.data=e(v.data,0),t.header&&v.meta&&(v.meta.fields=m),f+=n,v}()}function k(){return t.header&&0===m.length}function A(e,n){return r=e,t.dynamicTypingFunction&&void 0===t.dynamicTyping[r]&&(t.dynamicTyping[r]=t.dynamicTypingFunction(r)),!0===(t.dynamicTyping[r]||t.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(t){if(s.test(t)){var e=parseFloat(t);if(o<e&&e<i)return!0}return!1}(n)?parseFloat(n):u.test(n)?new Date(n):""===n?null:n):n;var r}function S(t,e,n,r){var i={type:t,code:e,message:n};void 0!==r&&(i.row=r),v.errors.push(i)}this.parse=function(i,o,s){var u=t.quoteChar||'"';if(t.newline||(t.newline=function(t,e){t=t.substring(0,1048576);var n=new RegExp(p(e)+"([^]*?)"+p(e),"gm"),r=(t=t.replace(n,"")).split("\r"),i=t.split("\n"),o=1<i.length&&i[0].length<r[0].length;if(1===r.length||o)return"\n";for(var a=0,s=0;s<r.length;s++)"\n"===r[s][0]&&a++;return a>=r.length/2?"\r\n":"\r"}(i,u)),r=!1,t.delimiter)x(t.delimiter)&&(t.delimiter=t.delimiter(i),v.meta.delimiter=t.delimiter);else{var c=function(e,n,r,i,o){var s,u,c,l;o=o||[",","\t","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var f=0;f<o.length;f++){var h=o[f],d=0,p=0,m=0;c=void 0;for(var v=new g({comments:i,delimiter:h,newline:n,preview:10}).parse(e),y=0;y<v.data.length;y++)if(r&&w(v.data[y]))m++;else{var b=v.data[y].length;p+=b,void 0!==c?0<b&&(d+=Math.abs(b-c),c=b):c=b}0<v.data.length&&(p/=v.data.length-m),(void 0===u||d<=u)&&(void 0===l||l<p)&&1.99<p&&(u=d,s=h,l=p)}return{successful:!!(t.delimiter=s),bestDelimiter:s}}(i,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);c.successful?t.delimiter=c.bestDelimiter:(r=!0,t.delimiter=a.DefaultDelimiter),v.meta.delimiter=t.delimiter}var l=b(t);return t.preview&&t.header&&l.preview++,e=i,n=new g(l),v=n.parse(e,o,s),_(),h?{meta:{paused:!0}}:v||{meta:{paused:!1}}},this.paused=function(){return h},this.pause=function(){h=!0,n.abort(),e=x(t.chunk)?"":e.substring(n.getCharIndex())},this.resume=function(){c.streamer._halted?(h=!1,c.streamer.parseChunk(e,!0)):setTimeout(c.resume,3)},this.aborted=function(){return d},this.abort=function(){d=!0,n.abort(),v.meta.aborted=!0,x(t.complete)&&t.complete(v),e=""}}function p(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(t){var e,n=(t=t||{}).delimiter,r=t.newline,i=t.comments,o=t.step,s=t.preview,u=t.fastMode,c=e=void 0===t.quoteChar||null===t.quoteChar?'"':t.quoteChar;if(void 0!==t.escapeChar&&(c=t.escapeChar),("string"!=typeof n||-1<a.BAD_DELIMITERS.indexOf(n))&&(n=","),i===n)throw new Error("Comment character same as delimiter");!0===i?i="#":("string"!=typeof i||-1<a.BAD_DELIMITERS.indexOf(i))&&(i=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var l=0,f=!1;this.parse=function(a,h,d){if("string"!=typeof a)throw new Error("Input must be a string");var g=a.length,m=n.length,v=r.length,y=i.length,b=x(o),w=[],_=[],k=[],A=l=0;if(!a)return W();if(t.header&&!h){var S=a.split(r)[0].split(n),C=[],E={},D=!1;for(var M in S){var T=S[M];x(t.transformHeader)&&(T=t.transformHeader(T,M));var F=T,O=E[T]||0;for(0<O&&(D=!0,F=T+"_"+O),E[T]=O+1;C.includes(F);)F=F+"_"+O;C.push(F)}if(D){var $=a.split(r);$[0]=C.join(n),a=$.join(r)}}if(u||!1!==u&&-1===a.indexOf(e)){for(var N=a.split(r),B=0;B<N.length;B++){if(k=N[B],l+=k.length,B!==N.length-1)l+=r.length;else if(d)return W();if(!i||k.substring(0,y)!==i){if(b){if(w=[],U(k.split(n)),Y(),f)return W()}else U(k.split(n));if(s&&s<=B)return w=w.slice(0,s),W(!0)}}return W()}for(var R=a.indexOf(n,l),P=a.indexOf(r,l),I=new RegExp(p(c)+p(e),"g"),j=a.indexOf(e,l);;)if(a[l]!==e)if(i&&0===k.length&&a.substring(l,l+y)===i){if(-1===P)return W();l=P+v,P=a.indexOf(r,l),R=a.indexOf(n,l)}else if(-1!==R&&(R<P||-1===P))k.push(a.substring(l,R)),l=R+m,R=a.indexOf(n,l);else{if(-1===P)break;if(k.push(a.substring(l,P)),H(P+v),b&&(Y(),f))return W();if(s&&w.length>=s)return W(!0)}else for(j=l,l++;;){if(-1===(j=a.indexOf(e,j+1)))return d||_.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:w.length,index:l}),V();if(j===g-1)return V(a.substring(l,j).replace(I,e));if(e!==c||a[j+1]!==c){if(e===c||0===j||a[j-1]!==c){-1!==R&&R<j+1&&(R=a.indexOf(n,j+1)),-1!==P&&P<j+1&&(P=a.indexOf(r,j+1));var L=q(-1===P?R:Math.min(R,P));if(a.substr(j+1+L,m)===n){k.push(a.substring(l,j).replace(I,e)),a[l=j+1+L+m]!==e&&(j=a.indexOf(e,l)),R=a.indexOf(n,l),P=a.indexOf(r,l);break}var z=q(P);if(a.substring(j+1+z,j+1+z+v)===r){if(k.push(a.substring(l,j).replace(I,e)),H(j+1+z+v),R=a.indexOf(n,l),j=a.indexOf(e,l),b&&(Y(),f))return W();if(s&&w.length>=s)return W(!0);break}_.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:w.length,index:l}),j++}}else j++}return V();function U(t){w.push(t),A=l}function q(t){var e=0;if(-1!==t){var n=a.substring(j+1,t);n&&""===n.trim()&&(e=n.length)}return e}function V(t){return d||(void 0===t&&(t=a.substring(l)),k.push(t),l=g,U(k),b&&Y()),W()}function H(t){l=t,U(k),k=[],P=a.indexOf(r,l)}function W(t){return{data:w,errors:_,meta:{delimiter:n,linebreak:r,aborted:f,truncated:!!t,cursor:A+(h||0)}}}function Y(){o(W()),w=[],_=[]}},this.abort=function(){f=!0},this.getCharIndex=function(){return l}}function m(t){var e=t.data,n=i[e.workerId],r=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var o={abort:function(){r=!0,v(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(x(n.userStep)){for(var a=0;a<e.results.data.length&&(n.userStep({data:e.results.data[a],errors:e.results.errors,meta:e.results.meta},o),!r);a++);delete e.results}else x(n.userChunk)&&(n.userChunk(e.results,o,e.file),delete e.results)}e.finished&&!r&&v(e.workerId,e.results)}function v(t,e){var n=i[t];x(n.userComplete)&&n.userComplete(e),n.terminate(),delete i[t]}function y(){throw new Error("Not implemented.")}function b(t){if("object"!=typeof t||null===t)return t;var e=Array.isArray(t)?[]:{};for(var n in t)e[n]=b(t[n]);return e}function w(t,e){return function(){t.apply(e,arguments)}}function x(t){return"function"==typeof t}return r&&(e.onmessage=function(t){var n=t.data;if(void 0===a.WORKER_ID&&n&&(a.WORKER_ID=n.workerId),"string"==typeof n.input)e.postMessage({workerId:a.WORKER_ID,results:a.parse(n.input,n.config),finished:!0});else if(e.File&&n.input instanceof File||n.input instanceof Object){var r=a.parse(n.input,n.config);r&&e.postMessage({workerId:a.WORKER_ID,results:r,finished:!0})}}),(c.prototype=Object.create(u.prototype)).constructor=c,(l.prototype=Object.create(u.prototype)).constructor=l,(f.prototype=Object.create(f.prototype)).constructor=f,(h.prototype=Object.create(u.prototype)).constructor=h,a}))},5237:function(t,e,n){"use strict";function r(){}n.r(e),n.d(e,{Component:function(){return U},cloneElement:function(){return l},createElement:function(){return s},h:function(){return s},options:function(){return i},render:function(){return q},rerender:function(){return p}});var i={},o=[],a=[];function s(t,e){var n,s,u,c,l=a;for(c=arguments.length;c-- >2;)o.push(arguments[c]);e&&null!=e.children&&(o.length||o.push(e.children),delete e.children);while(o.length)if((s=o.pop())&&void 0!==s.pop)for(c=s.length;c--;)o.push(s[c]);else"boolean"===typeof s&&(s=null),(u="function"!==typeof t)&&(null==s?s="":"number"===typeof s?s=String(s):"string"!==typeof s&&(u=!1)),u&&n?l[l.length-1]+=s:l===a?l=[s]:l.push(s),n=u;var f=new r;return f.nodeName=t,f.children=l,f.attributes=null==e?void 0:e,f.key=null==e?void 0:e.key,void 0!==i.vnode&&i.vnode(f),f}function u(t,e){for(var n in e)t[n]=e[n];return t}var c="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function l(t,e){return s(t.nodeName,u(u({},t.attributes),e),arguments.length>2?[].slice.call(arguments,2):t.children)}var f=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,h=[];function d(t){!t._dirty&&(t._dirty=!0)&&1==h.push(t)&&(i.debounceRendering||c)(p)}function p(){var t,e=h;h=[];while(t=e.pop())t._dirty&&j(t)}function g(t,e,n){return"string"===typeof e||"number"===typeof e?void 0!==t.splitText:"string"===typeof e.nodeName?!t._componentConstructor&&m(t,e.nodeName):n||t._componentConstructor===e.nodeName}function m(t,e){return t.normalizedNodeName===e||t.nodeName.toLowerCase()===e.toLowerCase()}function v(t){var e=u({},t.attributes);e.children=t.children;var n=t.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===e[r]&&(e[r]=n[r]);return e}function y(t,e){var n=e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);return n.normalizedNodeName=t,n}function b(t){var e=t.parentNode;e&&e.removeChild(t)}function w(t,e,n,r,i){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)n&&n(null),r&&r(t);else if("class"!==e||i)if("style"===e){if(r&&"string"!==typeof r&&"string"!==typeof n||(t.style.cssText=r||""),r&&"object"===typeof r){if("string"!==typeof n)for(var o in n)o in r||(t.style[o]="");for(var o in r)t.style[o]="number"===typeof r[o]&&!1===f.test(o)?r[o]+"px":r[o]}}else if("dangerouslySetInnerHTML"===e)r&&(t.innerHTML=r.__html||"");else if("o"==e[0]&&"n"==e[1]){var a=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),r?n||t.addEventListener(e,_,a):t.removeEventListener(e,_,a),(t._listeners||(t._listeners={}))[e]=r}else if("list"!==e&&"type"!==e&&!i&&e in t)x(t,e,null==r?"":r),null!=r&&!1!==r||t.removeAttribute(e);else{var s=i&&e!==(e=e.replace(/^xlink:?/,""));null==r||!1===r?s?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"function"!==typeof r&&(s?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),r):t.setAttribute(e,r))}else t.className=r||""}function x(t,e,n){try{t[e]=n}catch(r){}}function _(t){return this._listeners[t.type](i.event&&i.event(t)||t)}var k=[],A=0,S=!1,C=!1;function E(){var t;while(t=k.pop())i.afterMount&&i.afterMount(t),t.componentDidMount&&t.componentDidMount()}function D(t,e,n,r,i,o){A++||(S=null!=i&&void 0!==i.ownerSVGElement,C=null!=t&&!("__preactattr_"in t));var a=M(t,e,n,r,o);return i&&a.parentNode!==i&&i.appendChild(a),--A||(C=!1,o||E()),a}function M(t,e,n,r,i){var o=t,a=S;if(null!=e&&"boolean"!==typeof e||(e=""),"string"===typeof e||"number"===typeof e)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||i)?t.nodeValue!=e&&(t.nodeValue=e):(o=document.createTextNode(e),t&&(t.parentNode&&t.parentNode.replaceChild(o,t),F(t,!0))),o["__preactattr_"]=!0,o;var s=e.nodeName;if("function"===typeof s)return L(t,e,n,r);if(S="svg"===s||"foreignObject"!==s&&S,s=String(s),(!t||!m(t,s))&&(o=y(s,S),t)){while(t.firstChild)o.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(o,t),F(t,!0)}var u=o.firstChild,c=o["__preactattr_"],l=e.children;if(null==c){c=o["__preactattr_"]={};for(var f=o.attributes,h=f.length;h--;)c[f[h].name]=f[h].value}return!C&&l&&1===l.length&&"string"===typeof l[0]&&null!=u&&void 0!==u.splitText&&null==u.nextSibling?u.nodeValue!=l[0]&&(u.nodeValue=l[0]):(l&&l.length||null!=u)&&T(o,l,n,r,C||null!=c.dangerouslySetInnerHTML),$(o,e.attributes,c),S=a,o}function T(t,e,n,r,i){var o,a,s,u,c,l=t.childNodes,f=[],h={},d=0,p=0,m=l.length,v=0,y=e?e.length:0;if(0!==m)for(var w=0;w<m;w++){var x=l[w],_=x["__preactattr_"],k=y&&_?x._component?x._component.__key:_.key:null;null!=k?(d++,h[k]=x):(_||(void 0!==x.splitText?!i||x.nodeValue.trim():i))&&(f[v++]=x)}if(0!==y)for(w=0;w<y;w++){u=e[w],c=null;k=u.key;if(null!=k)d&&void 0!==h[k]&&(c=h[k],h[k]=void 0,d--);else if(!c&&p<v)for(o=p;o<v;o++)if(void 0!==f[o]&&g(a=f[o],u,i)){c=a,f[o]=void 0,o===v-1&&v--,o===p&&p++;break}c=M(c,u,n,r),s=l[w],c&&c!==t&&c!==s&&(null==s?t.appendChild(c):c===s.nextSibling?b(s):t.insertBefore(c,s))}if(d)for(var w in h)void 0!==h[w]&&F(h[w],!1);while(p<=v)void 0!==(c=f[v--])&&F(c,!1)}function F(t,e){var n=t._component;n?z(n):(null!=t["__preactattr_"]&&t["__preactattr_"].ref&&t["__preactattr_"].ref(null),!1!==e&&null!=t["__preactattr_"]||b(t),O(t))}function O(t){t=t.lastChild;while(t){var e=t.previousSibling;F(t,!0),t=e}}function $(t,e,n){var r;for(r in n)e&&null!=e[r]||null==n[r]||w(t,r,n[r],n[r]=void 0,S);for(r in e)"children"===r||"innerHTML"===r||r in n&&e[r]===("value"===r||"checked"===r?t[r]:n[r])||w(t,r,n[r],n[r]=e[r],S)}var N={};function B(t){var e=t.constructor.name;(N[e]||(N[e]=[])).push(t)}function R(t,e,n){var r,i=N[t.name];if(t.prototype&&t.prototype.render?(r=new t(e,n),U.call(r,e,n)):(r=new U(e,n),r.constructor=t,r.render=P),i)for(var o=i.length;o--;)if(i[o].constructor===t){r.nextBase=i[o].nextBase,i.splice(o,1);break}return r}function P(t,e,n){return this.constructor(t,n)}function I(t,e,n,r,o){t._disable||(t._disable=!0,(t.__ref=e.ref)&&delete e.ref,(t.__key=e.key)&&delete e.key,!t.base||o?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,r),r&&r!==t.context&&(t.prevContext||(t.prevContext=t.context),t.context=r),t.prevProps||(t.prevProps=t.props),t.props=e,t._disable=!1,0!==n&&(1!==n&&!1===i.syncComponentUpdates&&t.base?d(t):j(t,1,o)),t.__ref&&t.__ref(t))}function j(t,e,n,r){if(!t._disable){var o,a,s,c=t.props,l=t.state,f=t.context,h=t.prevProps||c,d=t.prevState||l,p=t.prevContext||f,g=t.base,m=t.nextBase,y=g||m,b=t._component,w=!1;if(g&&(t.props=h,t.state=d,t.context=p,2!==e&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(c,l,f)?w=!0:t.componentWillUpdate&&t.componentWillUpdate(c,l,f),t.props=c,t.state=l,t.context=f),t.prevProps=t.prevState=t.prevContext=t.nextBase=null,t._dirty=!1,!w){o=t.render(c,l,f),t.getChildContext&&(f=u(u({},f),t.getChildContext()));var x,_,S=o&&o.nodeName;if("function"===typeof S){var C=v(o);a=b,a&&a.constructor===S&&C.key==a.__key?I(a,C,1,f,!1):(x=a,t._component=a=R(S,C,f),a.nextBase=a.nextBase||m,a._parentComponent=t,I(a,C,0,f,!1),j(a,1,n,!0)),_=a.base}else s=y,x=b,x&&(s=t._component=null),(y||1===e)&&(s&&(s._component=null),_=D(s,o,f,n||!g,y&&y.parentNode,!0));if(y&&_!==y&&a!==b){var M=y.parentNode;M&&_!==M&&(M.replaceChild(_,y),x||(y._component=null,F(y,!1)))}if(x&&z(x),t.base=_,_&&!r){var T=t,O=t;while(O=O._parentComponent)(T=O).base=_;_._component=T,_._componentConstructor=T.constructor}}if(!g||n?k.unshift(t):w||(t.componentDidUpdate&&t.componentDidUpdate(h,d,p),i.afterUpdate&&i.afterUpdate(t)),null!=t._renderCallbacks)while(t._renderCallbacks.length)t._renderCallbacks.pop().call(t);A||r||E()}}function L(t,e,n,r){var i=t&&t._component,o=i,a=t,s=i&&t._componentConstructor===e.nodeName,u=s,c=v(e);while(i&&!u&&(i=i._parentComponent))u=i.constructor===e.nodeName;return i&&u&&(!r||i._component)?(I(i,c,3,n,r),t=i.base):(o&&!s&&(z(o),t=a=null),i=R(e.nodeName,c,n),t&&!i.nextBase&&(i.nextBase=t,a=null),I(i,c,1,n,r),t=i.base,a&&t!==a&&(a._component=null,F(a,!1))),t}function z(t){i.beforeUnmount&&i.beforeUnmount(t);var e=t.base;t._disable=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var n=t._component;n?z(n):e&&(e["__preactattr_"]&&e["__preactattr_"].ref&&e["__preactattr_"].ref(null),t.nextBase=e,b(e),B(t),O(e)),t.__ref&&t.__ref(null)}function U(t,e){this._dirty=!0,this.context=e,this.props=t,this.state=this.state||{}}function q(t,e,n){return D(n,t,{},!1,e,!1)}u(U.prototype,{setState:function(t,e){var n=this.state;this.prevState||(this.prevState=u({},n)),u(n,"function"===typeof t?t(n,this.props):t),e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),d(this)},forceUpdate:function(t){t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),j(this,2)},render:function(){}});var V={h:s,createElement:s,cloneElement:l,Component:U,render:q,rerender:p,options:i};e["default"]=V},7391:function(t,e,n){var r=n(7180),i=n(3181),o=n(3031),a=n(9067),s=n(6833),u=n(6098),c=n(4801);c.alea=r,c.xor128=i,c.xorwow=o,c.xorshift7=a,c.xor4096=s,c.tychei=u,t.exports=c},7180:function(t,e,n){var r;t=n.nmd(t),function(t,i,o){function a(t){var e=this,n=c();e.next=function(){var t=2091639*e.s0+2.3283064365386963e-10*e.c;return e.s0=e.s1,e.s1=e.s2,e.s2=t-(e.c=0|t)},e.c=1,e.s0=n(" "),e.s1=n(" "),e.s2=n(" "),e.s0-=n(t),e.s0<0&&(e.s0+=1),e.s1-=n(t),e.s1<0&&(e.s1+=1),e.s2-=n(t),e.s2<0&&(e.s2+=1),n=null}function s(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function u(t,e){var n=new a(t),r=e&&e.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}function c(){var t=4022871197,e=function(e){e=String(e);for(var n=0;n<e.length;n++){t+=e.charCodeAt(n);var r=.02519603282416938*t;t=r>>>0,r-=t,r*=t,t=r>>>0,r-=t,t+=4294967296*r}return 2.3283064365386963e-10*(t>>>0)};return e}i&&i.exports?i.exports=u:n.amdD&&n.amdO?(r=function(){return u}.call(e,n,e,i),void 0===r||(i.exports=r)):this.alea=u}(0,t,n.amdD)},6098:function(t,e,n){var r;t=n.nmd(t),function(t,i,o){function a(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,r=e.d,i=e.a;return t=t<<25^t>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-r|0,e.d=r<<16^n>>>16^i,e.a=i-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var r=0;r<n.length+20;r++)e.b^=0|n.charCodeAt(r),e.next()}function s(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function u(t,e){var n=new a(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=n.next()>>>11,e=(n.next()>>>0)/4294967296,r=(t+e)/(1<<21)}while(0===r);return r},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?(r=function(){return u}.call(e,n,e,i),void 0===r||(i.exports=r)):this.tychei=u}(0,t,n.amdD)},3181:function(t,e,n){var r;t=n.nmd(t),function(t,i,o){function a(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),e.next()}function s(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function u(t,e){var n=new a(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=n.next()>>>11,e=(n.next()>>>0)/4294967296,r=(t+e)/(1<<21)}while(0===r);return r},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?(r=function(){return u}.call(e,n,e,i),void 0===r||(i.exports=r)):this.xor128=u}(0,t,n.amdD)},6833:function(t,e,n){var r;t=n.nmd(t),function(t,i,o){function a(t){var e=this;function n(t,e){var n,r,i,o,a,s=[],u=128;for(e===(0|e)?(r=e,e=null):(e+="\0",r=0,u=Math.max(u,e.length)),i=0,o=-32;o<u;++o)e&&(r^=e.charCodeAt((o+32)%e.length)),0===o&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(a=a+1640531527|0,n=s[127&o]^=r+a,i=0==n?i+1:0);for(i>=128&&(s[127&(e&&e.length||0)]=-1),i=127,o=512;o>0;--o)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;t.w=a,t.X=s,t.i=i}e.next=function(){var t,n,r=e.w,i=e.X,o=e.i;return e.w=r=r+1640531527|0,n=i[o+34&127],t=i[o=o+1&127],n^=n<<13,t^=t<<17,n^=n>>>15,t^=t>>>12,n=i[o]=n^t,e.i=o,n+(r^r>>>16)|0},n(e,t)}function s(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function u(t,e){null==t&&(t=+new Date);var n=new a(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=n.next()>>>11,e=(n.next()>>>0)/4294967296,r=(t+e)/(1<<21)}while(0===r);return r},i.int32=n.next,i.quick=i,r&&(r.X&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?(r=function(){return u}.call(e,n,e,i),void 0===r||(i.exports=r)):this.xor4096=u}(0,t,n.amdD)},9067:function(t,e,n){var r;t=n.nmd(t),function(t,i,o){function a(t){var e=this;function n(t,e){var n,r=[];if(e===(0|e))r[0]=e;else for(e=""+e,n=0;n<e.length;++n)r[7&n]=r[7&n]<<15^e.charCodeAt(n)+r[n+1&7]<<13;while(r.length<8)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],t.x=r,t.i=0,n=256;n>0;--n)t.next()}e.next=function(){var t,n,r=e.x,i=e.i;return t=r[i],t^=t>>>7,n=t^t<<24,t=r[i+1&7],n^=t^t>>>10,t=r[i+3&7],n^=t^t>>>3,t=r[i+4&7],n^=t^t<<7,t=r[i+7&7],t^=t<<13,n^=t^t<<9,r[i]=n,e.i=i+1&7,n},n(e,t)}function s(t,e){return e.x=t.x.slice(),e.i=t.i,e}function u(t,e){null==t&&(t=+new Date);var n=new a(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=n.next()>>>11,e=(n.next()>>>0)/4294967296,r=(t+e)/(1<<21)}while(0===r);return r},i.int32=n.next,i.quick=i,r&&(r.x&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?(r=function(){return u}.call(e,n,e,i),void 0===r||(i.exports=r)):this.xorshift7=u}(0,t,n.amdD)},3031:function(t,e,n){var r;t=n.nmd(t),function(t,i,o){function a(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),r==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function s(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function u(t,e){var n=new a(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=n.next()>>>11,e=(n.next()>>>0)/4294967296,r=(t+e)/(1<<21)}while(0===r);return r},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?(r=function(){return u}.call(e,n,e,i),void 0===r||(i.exports=r)):this.xorwow=u}(0,t,n.amdD)},4801:function(t,e,n){var r;(function(i,o,a){var s,u=256,c=6,l=52,f="random",h=a.pow(u,c),d=a.pow(2,l),p=2*d,g=u-1;function m(t,e,n){var r=[];e=1==e?{entropy:!0}:e||{};var i=w(b(e.entropy?[t,_(o)]:null==t?x():t,3),r),s=new v(r),l=function(){var t=s.g(c),e=h,n=0;while(t<d)t=(t+n)*u,e*=u,n=s.g(1);while(t>=p)t/=2,e/=2,n>>>=1;return(t+n)/e};return l.int32=function(){return 0|s.g(4)},l.quick=function(){return s.g(4)/4294967296},l.double=l,w(_(s.S),o),(e.pass||n||function(t,e,n,r){return r&&(r.S&&y(r,s),t.state=function(){return y(s,{})}),n?(a[f]=t,e):t})(l,i,"global"in e?e.global:this==a,e.state)}function v(t){var e,n=t.length,r=this,i=0,o=r.i=r.j=0,a=r.S=[];n||(t=[n++]);while(i<u)a[i]=i++;for(i=0;i<u;i++)a[i]=a[o=g&o+t[i%n]+(e=a[i])],a[o]=e;(r.g=function(t){var e,n=0,i=r.i,o=r.j,a=r.S;while(t--)e=a[i=g&i+1],n=n*u+a[g&(a[i]=a[o=g&o+e])+(a[o]=e)];return r.i=i,r.j=o,n})(u)}function y(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function b(t,e){var n,r=[],i=typeof t;if(e&&"object"==i)for(n in t)try{r.push(b(t[n],e-1))}catch(o){}return r.length?r:"string"==i?t:t+"\0"}function w(t,e){var n,r=t+"",i=0;while(i<r.length)e[g&i]=g&(n^=19*e[g&i])+r.charCodeAt(i++);return _(e)}function x(){try{var t;return s&&(t=s.randomBytes)?t=t(u):(t=new Uint8Array(u),(i.crypto||i.msCrypto).getRandomValues(t)),_(t)}catch(r){var e=i.navigator,n=e&&e.plugins;return[+new Date,i,n,i.screen,_(o)]}}function _(t){return String.fromCharCode.apply(0,t)}if(w(a.random(),o),t.exports){t.exports=m;try{s=n(1234)}catch(k){}}else r=function(){return m}.call(e,n,e,t),void 0===r||(t.exports=r)})("undefined"!==typeof self?self:this,[],Math)},9520:function(t,e,n){"use strict";n.r(e),n.d(e,{DEFAULT_ACTIONS:function(){return uWt},default:function(){return SWt},guessMode:function(){return vWt},vega:function(){return oWt},vegaLite:function(){return aWt}});var r={};n.r(r),n.d(r,{JsonPatchError:function(){return O},_areEquals:function(){return U},applyOperation:function(){return P},applyPatch:function(){return I},applyReducer:function(){return j},deepClone:function(){return $},getValueByPointer:function(){return R},validate:function(){return z},validator:function(){return L}});var i={};n.r(i),n.d(i,{compare:function(){return Q},generate:function(){return J},observe:function(){return X},unobserve:function(){return K}});var o={};n.r(o),n.d(o,{aggregate:function(){return gh},bin:function(){return vh},collect:function(){return bh},compare:function(){return wh},countpattern:function(){return _h},cross:function(){return Ah},density:function(){return Fh},dotbin:function(){return Ih},expression:function(){return Lh},extent:function(){return Uh},facet:function(){return Vh},field:function(){return Hh},filter:function(){return Yh},flatten:function(){return Gh},fold:function(){return Kh},formula:function(){return Xh},generate:function(){return Jh},impute:function(){return td},joinaggregate:function(){return id},kde:function(){return od},key:function(){return ad},load:function(){return ud},lookup:function(){return fd},multiextent:function(){return hd},multivalues:function(){return pd},params:function(){return md},pivot:function(){return vd},prefacet:function(){return xd},project:function(){return _d},proxy:function(){return Ad},quantile:function(){return Sd},relay:function(){return Ed},sample:function(){return Dd},sequence:function(){return Md},sieve:function(){return Td},subflow:function(){return qh},timeunit:function(){return Fd},tupleindex:function(){return $d},values:function(){return Nd},window:function(){return Ud}});var a={};n.r(a),n.d(a,{interpolate:function(){return xw},interpolateArray:function(){return lw},interpolateBasis:function(){return ew},interpolateBasisClosed:function(){return nw},interpolateCubehelix:function(){return $_.A},interpolateCubehelixLong:function(){return $_.w},interpolateDate:function(){return hw},interpolateDiscrete:function(){return qx},interpolateHcl:function(){return F_},interpolateHclLong:function(){return O_},interpolateHsl:function(){return a_},interpolateHslLong:function(){return s_},interpolateHue:function(){return Vx},interpolateLab:function(){return M_},interpolateNumber:function(){return dw},interpolateNumberArray:function(){return uw},interpolateObject:function(){return pw},interpolateRgb:function(){return iw},interpolateRgbBasis:function(){return aw},interpolateRgbBasisClosed:function(){return sw},interpolateRound:function(){return _w},interpolateString:function(){return bw},interpolateTransformCss:function(){return Zx},interpolateTransformSvg:function(){return Qx},interpolateZoom:function(){return i_},piecewise:function(){return Ax},quantize:function(){return N_}});var s={};n.r(s),n.d(s,{bound:function(){return oF},identifier:function(){return uF},mark:function(){return lF},overlap:function(){return hF},render:function(){return wF},viewlayout:function(){return XF}});var u={};n.r(u),n.d(u,{interpolate:function(){return JR},interpolateArray:function(){return zR},interpolateBasis:function(){return ER},interpolateBasisClosed:function(){return DR},interpolateCubehelix:function(){return eI},interpolateCubehelixLong:function(){return nI},interpolateDate:function(){return qR},interpolateDiscrete:function(){return ZR},interpolateHcl:function(){return zP},interpolateHclLong:function(){return UP},interpolateHsl:function(){return mP},interpolateHslLong:function(){return vP},interpolateHue:function(){return QR},interpolateLab:function(){return jP},interpolateNumber:function(){return VR},interpolateNumberArray:function(){return jR},interpolateObject:function(){return HR},interpolateRgb:function(){return BR},interpolateRgbBasis:function(){return PR},interpolateRgbBasisClosed:function(){return IR},interpolateRound:function(){return tP},interpolateString:function(){return XR},interpolateTransformCss:function(){return uP},interpolateTransformSvg:function(){return cP},interpolateZoom:function(){return pP},piecewise:function(){return rI},quantize:function(){return iI}});var c={};n.r(c),n.d(c,{axisticks:function(){return IL},datajoin:function(){return jL},encode:function(){return UL},legendentries:function(){return qL},linkpath:function(){return GL},pie:function(){return uz},scale:function(){return dz},sortitems:function(){return Cz},stack:function(){return Fz}});var l={};n.r(l),n.d(l,{contour:function(){return TW},geojson:function(){return NW},geopath:function(){return BW},geopoint:function(){return PW},geoshape:function(){return IW},graticule:function(){return LW},heatmap:function(){return zW},isocontour:function(){return vW},kde2d:function(){return CW},projection:function(){return WW}});var f={};n.r(f),n.d(f,{force:function(){return bG}});var h={};n.r(h),n.d(h,{nest:function(){return QK},pack:function(){return sX},partition:function(){return cX},stratify:function(){return lX},tree:function(){return dX},treelinks:function(){return pX},treemap:function(){return vX}});var d={};n.r(d),n.d(d,{label:function(){return O4}});var p={};n.r(p),n.d(p,{loess:function(){return N4},regression:function(){return P4}});var g={};n.r(g),n.d(g,{voronoi:function(){return f9}});var m={};n.r(m),n.d(m,{wordcloud:function(){return vet}});var v={};n.r(v),n.d(v,{crossfilter:function(){return Tet},resolvefilter:function(){return Fet}});var y={};n.r(y),n.d(y,{Bounds:function(){return X0},CanvasHandler:function(){return m5},CanvasRenderer:function(){return S5},DATE:function(){return Ul},DAY:function(){return ql},DAYOFYEAR:function(){return Vl},Dataflow:function(){return du},Debug:function(){return kt},Error:function(){return wt},EventStream:function(){return xs},Gradient:function(){return FQ},GroupItem:function(){return Z0},HOURS:function(){return Hl},Handler:function(){return H3},Info:function(){return _t},Item:function(){return J0},MILLISECONDS:function(){return Gl},MINUTES:function(){return Wl},MONTH:function(){return Ll},Marks:function(){return D3},MultiPulse:function(){return Js},None:function(){return bt},Operator:function(){return ms},Parameters:function(){return ls},Pulse:function(){return Ys},QUARTER:function(){return jl},RenderType:function(){return T6},Renderer:function(){return Y3},ResourceLoader:function(){return Q0},SECONDS:function(){return Yl},SVGHandler:function(){return M5},SVGRenderer:function(){return s6},SVGStringRenderer:function(){return A6},Scenegraph:function(){return R3},TIME_UNITS:function(){return Kl},Transform:function(){return gu},View:function(){return Eht},WEEK:function(){return zl},Warn:function(){return xt},YEAR:function(){return Il},accessor:function(){return rt},accessorFields:function(){return ot},accessorName:function(){return it},array:function(){return Xt},ascending:function(){return ee},bandwidthNRD:function(){return Nu},bin:function(){return Bu},bootstrapCI:function(){return Iu},boundClip:function(){return j6},boundContext:function(){return x1},boundItem:function(){return M3},boundMark:function(){return F3},boundStroke:function(){return n1},changeset:function(){return us},clampRange:function(){return Jt},codegenExpression:function(){return Swt},compare:function(){return te},constant:function(){return oe},cumulativeLogNormal:function(){return ec},cumulativeNormal:function(){return Gu},cumulativeUniform:function(){return sc},dayofyear:function(){return nf},debounce:function(){return ae},defaultLocale:function(){return qZ},definition:function(){return vu},densityLogNormal:function(){return tc},densityNormal:function(){return Yu},densityUniform:function(){return ac},domChild:function(){return L3},domClear:function(){return z3},domCreate:function(){return I3},domFind:function(){return j3},dotbin:function(){return ju},error:function(){return ct},expressionFunction:function(){return Jct},extend:function(){return se},extent:function(){return ue},extentIndex:function(){return ce},falsy:function(){return vt},fastmap:function(){return de},field:function(){return ft},flush:function(){return pe},font:function(){return m3},fontFamily:function(){return g3},fontSize:function(){return s3},format:function(){return bQ},formatLocale:function(){return BZ},formats:function(){return wQ},hasOwnProperty:function(){return fe},id:function(){return ht},identity:function(){return dt},inferType:function(){return lQ},inferTypes:function(){return fQ},ingest:function(){return ns},inherits:function(){return ge},inrange:function(){return me},interpolate:function(){return tj},interpolateColors:function(){return JI},interpolateRange:function(){return XI},intersect:function(){return $6},intersectBoxLine:function(){return O1},intersectPath:function(){return D1},intersectPoint:function(){return M1},intersectRule:function(){return F1},isArray:function(){return St},isBoolean:function(){return ve},isDate:function(){return ye},isFunction:function(){return Zt},isIterable:function(){return be},isNumber:function(){return we},isObject:function(){return Ct},isRegExp:function(){return xe},isString:function(){return _e},isTuple:function(){return Qa},key:function(){return ke},lerp:function(){return Ae},lineHeight:function(){return u3},loader:function(){return AQ},locale:function(){return UZ},logger:function(){return At},lruCache:function(){return Ce},markup:function(){return Q5},merge:function(){return Ee},mergeConfig:function(){return Dt},multiLineOffset:function(){return f3},one:function(){return gt},pad:function(){return Me},panLinear:function(){return jt},panLog:function(){return Lt},panPow:function(){return zt},panSymlog:function(){return Ut},parse:function(){return pyt},parseExpression:function(){return xwt},parseSelector:function(){return jwt},pathCurves:function(){return $Q},pathEqual:function(){return U6},pathParse:function(){return RQ},pathRectangle:function(){return c0},pathRender:function(){return KQ},pathSymbols:function(){return QQ},pathTrail:function(){return l0},peek:function(){return Ft},point:function(){return q3},projection:function(){return _H},quantileLogNormal:function(){return nc},quantileNormal:function(){return Ku},quantileUniform:function(){return uc},quantiles:function(){return Ou},quantizeInterpolator:function(){return ZI},quarter:function(){return Gt},quartiles:function(){return $u},random:function(){return Ru},randomInteger:function(){return Uu},randomKDE:function(){return Zu},randomLCG:function(){return zu},randomLogNormal:function(){return rc},randomMixture:function(){return ic},randomNormal:function(){return Ju},randomUniform:function(){return cc},read:function(){return _Q},regressionExp:function(){return mc},regressionLinear:function(){return pc},regressionLoess:function(){return Ac},regressionLog:function(){return gc},regressionPoly:function(){return bc},regressionPow:function(){return vc},regressionQuad:function(){return yc},renderModule:function(){return O6},repeat:function(){return De},resetDefaultLocale:function(){return VZ},resetSVGClipId:function(){return G0},resetSVGDefIds:function(){return V6},responseType:function(){return xQ},runtimeContext:function(){return Qlt},sampleCurve:function(){return Mc},sampleLogNormal:function(){return Qu},sampleNormal:function(){return Wu},sampleUniform:function(){return oc},scale:function(){return jI},sceneEqual:function(){return z6},sceneFromJSON:function(){return N3},scenePickVisit:function(){return V1},sceneToJSON:function(){return $3},sceneVisit:function(){return q1},sceneZOrder:function(){return U1},scheme:function(){return sj},serializeXML:function(){return t6},setRandom:function(){return Pu},span:function(){return Te},splitAccessPath:function(){return lt},stringValue:function(){return Fe},textMetrics:function(){return e3},timeBin:function(){return Xf},timeFloor:function(){return wf},timeFormatLocale:function(){return LZ},timeInterval:function(){return Cf},timeOffset:function(){return Mf},timeSequence:function(){return Of},timeUnitSpecifier:function(){return Ql},timeUnits:function(){return Jl},toBoolean:function(){return Oe},toDate:function(){return Ne},toNumber:function(){return Ot},toSet:function(){return Re},toString:function(){return Be},transform:function(){return yu},transforms:function(){return mu},truncate:function(){return Pe},truthy:function(){return mt},tupleid:function(){return ts},typeParsers:function(){return sQ},utcFloor:function(){return kf},utcInterval:function(){return Ef},utcOffset:function(){return Tf},utcSequence:function(){return $f},utcdayofyear:function(){return cf},utcquarter:function(){return Kt},utcweek:function(){return lf},version:function(){return lxt},visitArray:function(){return Ie},week:function(){return rf},writeConfig:function(){return Mt},zero:function(){return pt},zoomLinear:function(){return Vt},zoomLog:function(){return Ht},zoomPow:function(){return Wt},zoomSymlog:function(){return Yt}});var b={};n.r(b),n.d(b,{compile:function(){return kqt},extractTransforms:function(){return Dqt},normalize:function(){return zOt},version:function(){return Mqt}});var w={};n.r(w),n.d(w,{carbong10:function(){return yHt},carbong100:function(){return wHt},carbong90:function(){return bHt},carbonwhite:function(){return vHt},dark:function(){return Qqt},excel:function(){return eVt},fivethirtyeight:function(){return uVt},ggplot2:function(){return lVt},googlecharts:function(){return LVt},latimes:function(){return xVt},powerbi:function(){return cHt},quartz:function(){return AVt},urbaninstitute:function(){return RVt},version:function(){return xHt},vox:function(){return CVt}});
/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */
var x=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_=Object.prototype.hasOwnProperty;function k(t,e){return _.call(t,e)}function A(t){if(Array.isArray(t)){for(var e=new Array(t.length),n=0;n<e.length;n++)e[n]=""+n;return e}if(Object.keys)return Object.keys(t);var r=[];for(var i in t)k(t,i)&&r.push(i);return r}function S(t){switch(typeof t){case"object":return JSON.parse(JSON.stringify(t));case"undefined":return null;default:return t}}function C(t){var e,n=0,r=t.length;while(n<r){if(e=t.charCodeAt(n),!(e>=48&&e<=57))return!1;n++}return!0}function E(t){return-1===t.indexOf("/")&&-1===t.indexOf("~")?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function D(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function M(t){if(void 0===t)return!0;if(t)if(Array.isArray(t)){for(var e=0,n=t.length;e<n;e++)if(M(t[e]))return!0}else if("object"===typeof t)for(var r=A(t),i=r.length,o=0;o<i;o++)if(M(t[r[o]]))return!0;return!1}function T(t,e){var n=[t];for(var r in e){var i="object"===typeof e[r]?JSON.stringify(e[r],null,2):e[r];"undefined"!==typeof i&&n.push(r+": "+i)}return n.join("\n")}var F=function(t){function e(e,n,r,i,o){var a=this.constructor,s=t.call(this,T(e,{name:n,index:r,operation:i,tree:o}))||this;return s.name=n,s.index=r,s.operation=i,s.tree=o,Object.setPrototypeOf(s,a.prototype),s.message=T(e,{name:n,index:r,operation:i,tree:o}),s}return x(e,t),e}(Error),O=F,$=S,N={add:function(t,e,n){return t[e]=this.value,{newDocument:n}},remove:function(t,e,n){var r=t[e];return delete t[e],{newDocument:n,removed:r}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:function(t,e,n){var r=R(n,this.path);r&&(r=S(r));var i=P(n,{op:"remove",path:this.from}).removed;return P(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(t,e,n){var r=R(n,this.from);return P(n,{op:"add",path:this.path,value:S(r)}),{newDocument:n}},test:function(t,e,n){return{newDocument:n,test:U(t[e],this.value)}},_get:function(t,e,n){return this.value=t[e],{newDocument:n}}},B={add:function(t,e,n){return C(e)?t.splice(e,0,this.value):t[e]=this.value,{newDocument:n,index:e}},remove:function(t,e,n){var r=t.splice(e,1);return{newDocument:n,removed:r[0]}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:N.move,copy:N.copy,test:N.test,_get:N._get};function R(t,e){if(""==e)return t;var n={op:"_get",path:e};return P(t,n),n.value}function P(t,e,n,r,i,o){if(void 0===n&&(n=!1),void 0===r&&(r=!0),void 0===i&&(i=!0),void 0===o&&(o=0),n&&("function"==typeof n?n(e,0,t,e.path):L(e,0)),""===e.path){var a={newDocument:t};if("add"===e.op)return a.newDocument=e.value,a;if("replace"===e.op)return a.newDocument=e.value,a.removed=t,a;if("move"===e.op||"copy"===e.op)return a.newDocument=R(t,e.from),"move"===e.op&&(a.removed=t),a;if("test"===e.op){if(a.test=U(t,e.value),!1===a.test)throw new O("Test operation failed","TEST_OPERATION_FAILED",o,e,t);return a.newDocument=t,a}if("remove"===e.op)return a.removed=t,a.newDocument=null,a;if("_get"===e.op)return e.value=t,a;if(n)throw new O("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,e,t);return a}r||(t=S(t));var s=e.path||"",u=s.split("/"),c=t,l=1,f=u.length,h=void 0,d=void 0,p=void 0;p="function"==typeof n?n:L;while(1){if(d=u[l],d&&-1!=d.indexOf("~")&&(d=D(d)),i&&("__proto__"==d||"prototype"==d&&l>0&&"constructor"==u[l-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&void 0===h&&(void 0===c[d]?h=u.slice(0,l).join("/"):l==f-1&&(h=e.path),void 0!==h&&p(e,0,t,h)),l++,Array.isArray(c)){if("-"===d)d=c.length;else{if(n&&!C(d))throw new O("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,e,t);C(d)&&(d=~~d)}if(l>=f){if(n&&"add"===e.op&&d>c.length)throw new O("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,e,t);a=B[e.op].call(e,c,d,t);if(!1===a.test)throw new O("Test operation failed","TEST_OPERATION_FAILED",o,e,t);return a}}else if(l>=f){a=N[e.op].call(e,c,d,t);if(!1===a.test)throw new O("Test operation failed","TEST_OPERATION_FAILED",o,e,t);return a}if(c=c[d],n&&l<f&&(!c||"object"!==typeof c))throw new O("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,e,t)}}function I(t,e,n,r,i){if(void 0===r&&(r=!0),void 0===i&&(i=!0),n&&!Array.isArray(e))throw new O("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(t=S(t));for(var o=new Array(e.length),a=0,s=e.length;a<s;a++)o[a]=P(t,e[a],n,!0,i,a),t=o[a].newDocument;return o.newDocument=t,o}function j(t,e,n){var r=P(t,e);if(!1===r.test)throw new O("Test operation failed","TEST_OPERATION_FAILED",n,e,t);return r.newDocument}function L(t,e,n,r){if("object"!==typeof t||null===t||Array.isArray(t))throw new O("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,t,n);if(!N[t.op])throw new O("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,t,n);if("string"!==typeof t.path)throw new O("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,t,n);if(0!==t.path.indexOf("/")&&t.path.length>0)throw new O('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,t,n);if(("move"===t.op||"copy"===t.op)&&"string"!==typeof t.from)throw new O("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,t,n);if(("add"===t.op||"replace"===t.op||"test"===t.op)&&void 0===t.value)throw new O("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,t,n);if(("add"===t.op||"replace"===t.op||"test"===t.op)&&M(t.value))throw new O("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,t,n);if(n)if("add"==t.op){var i=t.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new O("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,t,n)}else if("replace"===t.op||"remove"===t.op||"_get"===t.op){if(t.path!==r)throw new O("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,t,n)}else if("move"===t.op||"copy"===t.op){var a={op:"_get",path:t.from,value:void 0},s=z([a],n);if(s&&"OPERATION_PATH_UNRESOLVABLE"===s.name)throw new O("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,t,n)}}function z(t,e,n){try{if(!Array.isArray(t))throw new O("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)I(S(e),S(t),n||!0);else{n=n||L;for(var r=0;r<t.length;r++)n(t[r],r,e,void 0)}}catch(Tqt){if(Tqt instanceof O)return Tqt;throw Tqt}}function U(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var n,r,i,o=Array.isArray(t),a=Array.isArray(e);if(o&&a){if(r=t.length,r!=e.length)return!1;for(n=r;0!==n--;)if(!U(t[n],e[n]))return!1;return!0}if(o!=a)return!1;var s=Object.keys(t);if(r=s.length,r!==Object.keys(e).length)return!1;for(n=r;0!==n--;)if(!e.hasOwnProperty(s[n]))return!1;for(n=r;0!==n--;)if(i=s[n],!U(t[i],e[i]))return!1;return!0}return t!==t&&e!==e}
/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */
var q=new WeakMap,V=function(){function t(t){this.observers=new Map,this.obj=t}return t}(),H=function(){function t(t,e){this.callback=t,this.observer=e}return t}();function W(t){return q.get(t)}function Y(t,e){return t.observers.get(e)}function G(t,e){t.observers.delete(e.callback)}function K(t,e){e.unobserve()}function X(t,e){var n,r=[],i=W(t);if(i){var o=Y(i,e);n=o&&o.observer}else i=new V(t),q.set(t,i);if(n)return n;if(n={},i.value=S(t),e){n.callback=e,n.next=null;var a=function(){J(n)},s=function(){clearTimeout(n.next),n.next=setTimeout(a)};"undefined"!==typeof window&&(window.addEventListener("mouseup",s),window.addEventListener("keyup",s),window.addEventListener("mousedown",s),window.addEventListener("keydown",s),window.addEventListener("change",s))}return n.patches=r,n.object=t,n.unobserve=function(){J(n),clearTimeout(n.next),G(i,n),"undefined"!==typeof window&&(window.removeEventListener("mouseup",s),window.removeEventListener("keyup",s),window.removeEventListener("mousedown",s),window.removeEventListener("keydown",s),window.removeEventListener("change",s))},i.observers.set(e,new H(e,n)),n}function J(t,e){void 0===e&&(e=!1);var n=q.get(t.object);Z(n.value,t.object,t.patches,"",e),t.patches.length&&I(n.value,t.patches);var r=t.patches;return r.length>0&&(t.patches=[],t.callback&&t.callback(r)),r}function Z(t,e,n,r,i){if(e!==t){"function"===typeof e.toJSON&&(e=e.toJSON());for(var o=A(e),a=A(t),s=!1,u=a.length-1;u>=0;u--){var c=a[u],l=t[c];if(!k(e,c)||void 0===e[c]&&void 0!==l&&!1===Array.isArray(e))Array.isArray(t)===Array.isArray(e)?(i&&n.push({op:"test",path:r+"/"+E(c),value:S(l)}),n.push({op:"remove",path:r+"/"+E(c)}),s=!0):(i&&n.push({op:"test",path:r,value:t}),n.push({op:"replace",path:r,value:e}),!0);else{var f=e[c];"object"==typeof l&&null!=l&&"object"==typeof f&&null!=f&&Array.isArray(l)===Array.isArray(f)?Z(l,f,n,r+"/"+E(c),i):l!==f&&(i&&n.push({op:"test",path:r+"/"+E(c),value:S(l)}),n.push({op:"replace",path:r+"/"+E(c),value:S(f)}))}}if(s||o.length!=a.length)for(u=0;u<o.length;u++){c=o[u];k(t,c)||void 0===e[c]||n.push({op:"add",path:r+"/"+E(c),value:S(e[c])})}}}function Q(t,e,n){void 0===n&&(n=!1);var r=[];return Z(t,e,r,"",n),r}Object.assign({},r,i,{JsonPatchError:F,deepClone:S,escapePathComponent:E,unescapePathComponent:D});var tt=n(8487),et=n.n(tt),nt=n(6392);function rt(t,e,n){return t.fields=e||[],t.fname=n,t}function it(t){return null==t?null:t.fname}function ot(t){return null==t?null:t.fields}function at(t){return 1===t.length?st(t[0]):ut(t)}const st=t=>function(e){return e[t]},ut=t=>{const e=t.length;return function(n){for(let r=0;r<e;++r)n=n[t[r]];return n}};function ct(t){throw Error(t)}function lt(t){const e=[],n=t.length;let r,i,o,a=null,s=0,u="";function c(){e.push(u+t.substring(r,i)),u="",r=i+1}for(t+="",r=i=0;i<n;++i)if(o=t[i],"\\"===o)u+=t.substring(r,i),u+=t.substring(++i,++i),r=i;else if(o===a)c(),a=null,s=-1;else{if(a)continue;r===s&&'"'===o||r===s&&"'"===o?(r=i+1,a=o):"."!==o||s?"["===o?(i>r&&c(),s=r=i+1):"]"===o&&(s||ct("Access path missing open bracket: "+t),s>0&&c(),s=0,r=i+1):i>r?c():r=i+1}return s&&ct("Access path missing closing bracket: "+t),a&&ct("Access path missing closing quote: "+t),i>r&&(i++,c()),e}function ft(t,e,n){const r=lt(t);return t=1===r.length?r[0]:t,rt((n&&n.get||at)(r),[t],e||t)}const ht=ft("id"),dt=rt((t=>t),[],"identity"),pt=rt((()=>0),[],"zero"),gt=rt((()=>1),[],"one"),mt=rt((()=>!0),[],"true"),vt=rt((()=>!1),[],"false");function yt(t,e,n){const r=[e].concat([].slice.call(n));console[t].apply(console,r)}const bt=0,wt=1,xt=2,_t=3,kt=4;function At(t,e){let n=t||bt;return{level(t){return arguments.length?(n=+t,this):n},error(){return n>=wt&&yt(e||"error","ERROR",arguments),this},warn(){return n>=xt&&yt(e||"warn","WARN",arguments),this},info(){return n>=_t&&yt(e||"log","INFO",arguments),this},debug(){return n>=kt&&yt(e||"log","DEBUG",arguments),this}}}var St=Array.isArray;function Ct(t){return t===Object(t)}const Et=t=>"__proto__"!==t;function Dt(...t){return t.reduce(((t,e)=>{for(const n in e)if("signals"===n)t.signals=Tt(t.signals,e.signals);else{const r="legend"===n?{layout:1}:"style"===n||null;Mt(t,n,e[n],r)}return t}),{})}function Mt(t,e,n,r){if(!Et(e))return;let i,o;if(Ct(n)&&!St(n))for(i in o=Ct(t[e])?t[e]:t[e]={},n)r&&(!0===r||r[i])?Mt(o,i,n[i]):Et(i)&&(o[i]=n[i]);else t[e]=n}function Tt(t,e){if(null==t)return e;const n={},r=[];function i(t){n[t.name]||(n[t.name]=1,r.push(t))}return e.forEach(i),t.forEach(i),r}function Ft(t){return t[t.length-1]}function Ot(t){return null==t||""===t?null:+t}const $t=t=>e=>t*Math.exp(e),Nt=t=>e=>Math.log(t*e),Bt=t=>e=>Math.sign(e)*Math.log1p(Math.abs(e/t)),Rt=t=>e=>Math.sign(e)*Math.expm1(Math.abs(e))*t,Pt=t=>e=>e<0?-Math.pow(-e,t):Math.pow(e,t);function It(t,e,n,r){const i=n(t[0]),o=n(Ft(t)),a=(o-i)*e;return[r(i-a),r(o-a)]}function jt(t,e){return It(t,e,Ot,dt)}function Lt(t,e){var n=Math.sign(t[0]);return It(t,e,Nt(n),$t(n))}function zt(t,e,n){return It(t,e,Pt(n),Pt(1/n))}function Ut(t,e,n){return It(t,e,Bt(n),Rt(n))}function qt(t,e,n,r,i){const o=r(t[0]),a=r(Ft(t)),s=null!=e?r(e):(o+a)/2;return[i(s+(o-s)*n),i(s+(a-s)*n)]}function Vt(t,e,n){return qt(t,e,n,Ot,dt)}function Ht(t,e,n){const r=Math.sign(t[0]);return qt(t,e,n,Nt(r),$t(r))}function Wt(t,e,n,r){return qt(t,e,n,Pt(r),Pt(1/r))}function Yt(t,e,n,r){return qt(t,e,n,Bt(r),Rt(r))}function Gt(t){return 1+~~(new Date(t).getMonth()/3)}function Kt(t){return 1+~~(new Date(t).getUTCMonth()/3)}function Xt(t){return null!=t?St(t)?t:[t]:[]}function Jt(t,e,n){let r,i=t[0],o=t[1];return o<i&&(r=o,o=i,i=r),r=o-i,r>=n-e?[e,n]:[i=Math.min(Math.max(i,e),n-r),i+r]}function Zt(t){return"function"===typeof t}const Qt="descending";function te(t,e,n){n=n||{},e=Xt(e)||[];const r=[],i=[],o={},a=n.comparator||ne;return Xt(t).forEach(((t,a)=>{null!=t&&(r.push(e[a]===Qt?-1:1),i.push(t=Zt(t)?t:ft(t,null,n)),(ot(t)||[]).forEach((t=>o[t]=1)))})),0===i.length?null:rt(a(i,r),Object.keys(o))}const ee=(t,e)=>(t<e||null==t)&&null!=e?-1:(t>e||null==e)&&null!=t?1:(e=e instanceof Date?+e:e,(t=t instanceof Date?+t:t)!==t&&e===e?-1:e!==e&&t===t?1:0),ne=(t,e)=>1===t.length?re(t[0],e[0]):ie(t,e,t.length),re=(t,e)=>function(n,r){return ee(t(n),t(r))*e},ie=(t,e,n)=>(e.push(0),function(r,i){let o,a=0,s=-1;while(0===a&&++s<n)o=t[s],a=ee(o(r),o(i));return a*e[s]});function oe(t){return Zt(t)?t:()=>t}function ae(t,e){let n;return r=>{n&&clearTimeout(n),n=setTimeout((()=>(e(r),n=null)),t)}}function se(t){for(let e,n,r=1,i=arguments.length;r<i;++r)for(n in e=arguments[r],e)t[n]=e[n];return t}function ue(t,e){let n,r,i,o,a=0;if(t&&(n=t.length))if(null==e){for(r=t[a];a<n&&(null==r||r!==r);r=t[++a]);for(i=o=r;a<n;++a)r=t[a],null!=r&&(r<i&&(i=r),r>o&&(o=r))}else{for(r=e(t[a]);a<n&&(null==r||r!==r);r=e(t[++a]));for(i=o=r;a<n;++a)r=e(t[a]),null!=r&&(r<i&&(i=r),r>o&&(o=r))}return[i,o]}function ce(t,e){const n=t.length;let r,i,o,a,s,u=-1;if(null==e){while(++u<n)if(i=t[u],null!=i&&i>=i){r=o=i;break}if(u===n)return[-1,-1];a=s=u;while(++u<n)i=t[u],null!=i&&(r>i&&(r=i,a=u),o<i&&(o=i,s=u))}else{while(++u<n)if(i=e(t[u],u,t),null!=i&&i>=i){r=o=i;break}if(u===n)return[-1,-1];a=s=u;while(++u<n)i=e(t[u],u,t),null!=i&&(r>i&&(r=i,a=u),o<i&&(o=i,s=u))}return[a,s]}const le=Object.prototype.hasOwnProperty;function fe(t,e){return le.call(t,e)}const he={};function de(t){let e,n={};function r(t){return fe(n,t)&&n[t]!==he}const i={size:0,empty:0,object:n,has:r,get(t){return r(t)?n[t]:void 0},set(t,e){return r(t)||(++i.size,n[t]===he&&--i.empty),n[t]=e,this},delete(t){return r(t)&&(--i.size,++i.empty,n[t]=he),this},clear(){i.size=i.empty=0,i.object=n={}},test(t){return arguments.length?(e=t,i):e},clean(){const t={};let r=0;for(const i in n){const o=n[i];o===he||e&&e(o)||(t[i]=o,++r)}i.size=r,i.empty=0,i.object=n=t}};return t&&Object.keys(t).forEach((e=>{i.set(e,t[e])})),i}function pe(t,e,n,r,i,o){if(!n&&0!==n)return o;const a=+n;let s,u=t[0],c=Ft(t);c<u&&(s=u,u=c,c=s),s=Math.abs(e-u);const l=Math.abs(c-e);return s<l&&s<=a?r:l<=a?i:o}function ge(t,e,n){const r=t.prototype=Object.create(e.prototype);return Object.defineProperty(r,"constructor",{value:t,writable:!0,enumerable:!0,configurable:!0}),se(r,n)}function me(t,e,n,r){let i,o=e[0],a=e[e.length-1];return o>a&&(i=o,o=a,a=i),n=void 0===n||n,r=void 0===r||r,(n?o<=t:o<t)&&(r?t<=a:t<a)}function ve(t){return"boolean"===typeof t}function ye(t){return"[object Date]"===Object.prototype.toString.call(t)}function be(t){return t&&Zt(t[Symbol.iterator])}function we(t){return"number"===typeof t}function xe(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function _e(t){return"string"===typeof t}function ke(t,e,n){t&&(t=e?Xt(t).map((t=>t.replace(/\\(.)/g,"$1"))):Xt(t));const r=t&&t.length,i=n&&n.get||at,o=t=>i(e?[t]:lt(t));let a;if(r)if(1===r){const e=o(t[0]);a=function(t){return""+e(t)}}else{const e=t.map(o);a=function(t){let n=""+e[0](t),i=0;while(++i<r)n+="|"+e[i](t);return n}}else a=function(){return""};return rt(a,t,"key")}function Ae(t,e){const n=t[0],r=Ft(t),i=+e;return i?1===i?r:n+i*(r-n):n}const Se=1e4;function Ce(t){let e,n,r;t=+t||Se;const i=()=>{e={},n={},r=0},o=(i,o)=>(++r>t&&(n=e,e={},r=1),e[i]=o);return i(),{clear:i,has:t=>fe(e,t)||fe(n,t),get:t=>fe(e,t)?e[t]:fe(n,t)?o(t,n[t]):void 0,set:(t,n)=>fe(e,t)?e[t]=n:o(t,n)}}function Ee(t,e,n,r){const i=e.length,o=n.length;if(!o)return e;if(!i)return n;const a=r||new e.constructor(i+o);let s=0,u=0,c=0;for(;s<i&&u<o;++c)a[c]=t(e[s],n[u])>0?n[u++]:e[s++];for(;s<i;++s,++c)a[c]=e[s];for(;u<o;++u,++c)a[c]=n[u];return a}function De(t,e){let n="";while(--e>=0)n+=t;return n}function Me(t,e,n,r){const i=n||" ",o=t+"",a=e-o.length;return a<=0?o:"left"===r?De(i,a)+o:"center"===r?De(i,~~(a/2))+o+De(i,Math.ceil(a/2)):o+De(i,a)}function Te(t){return t&&Ft(t)-t[0]||0}function Fe(t){return St(t)?"["+t.map(Fe)+"]":Ct(t)||_e(t)?JSON.stringify(t).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):t}function Oe(t){return null==t||""===t?null:!(!t||"false"===t||"0"===t)&&!!t}const $e=t=>we(t)||ye(t)?t:Date.parse(t);function Ne(t,e){return e=e||$e,null==t||""===t?null:e(t)}function Be(t){return null==t||""===t?null:t+""}function Re(t){const e={},n=t.length;for(let r=0;r<n;++r)e[t[r]]=!0;return e}function Pe(t,e,n,r){const i=null!=r?r:"",o=t+"",a=o.length,s=Math.max(0,e-i.length);return a<=e?o:"left"===n?i+o.slice(a-s):"center"===n?o.slice(0,Math.ceil(s/2))+i+o.slice(a-~~(s/2)):o.slice(0,s)+i}function Ie(t,e,n){if(t)if(e){const r=t.length;for(let i=0;i<r;++i){const r=e(t[i]);r&&n(r,i,t)}}else t.forEach(n)}function je(t,e,n){return t.fields=e||[],t.fname=n,t}function Le(t){return 1===t.length?ze(t[0]):Ue(t)}const ze=t=>function(e){return e[t]},Ue=t=>{const e=t.length;return function(n){for(let r=0;r<e;++r)n=n[t[r]];return n}};function qe(t){throw Error(t)}function Ve(t){const e=[],n=t.length;let r,i,o,a=null,s=0,u="";function c(){e.push(u+t.substring(r,i)),u="",r=i+1}for(t+="",r=i=0;i<n;++i)if(o=t[i],"\\"===o)u+=t.substring(r,i++),r=i;else if(o===a)c(),a=null,s=-1;else{if(a)continue;r===s&&'"'===o||r===s&&"'"===o?(r=i+1,a=o):"."!==o||s?"["===o?(i>r&&c(),s=r=i+1):"]"===o&&(s||qe("Access path missing open bracket: "+t),s>0&&c(),s=0,r=i+1):i>r?c():r=i+1}return s&&qe("Access path missing closing bracket: "+t),a&&qe("Access path missing closing quote: "+t),i>r&&(i++,c()),e}function He(t,e,n){const r=Ve(t);return t=1===r.length?r[0]:t,je((n&&n.get||Le)(r),[t],e||t)}const We=He("id"),Ye=je((t=>t),[],"identity"),Ge=(je((()=>0),[],"zero"),je((()=>1),[],"one"),je((()=>!0),[],"true"));je((()=>!1),[],"false");function Ke(t,e,n){const r=[e].concat([].slice.call(n));console[t].apply(console,r)}const Xe=0,Je=1,Ze=2,Qe=3,tn=4;function en(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ke,r=t||Xe;return{level(t){return arguments.length?(r=+t,this):r},error(){return r>=Je&&n(e||"error","ERROR",arguments),this},warn(){return r>=Ze&&n(e||"warn","WARN",arguments),this},info(){return r>=Qe&&n(e||"log","INFO",arguments),this},debug(){return r>=tn&&n(e||"log","DEBUG",arguments),this}}}var nn=Array.isArray;function rn(t){return t===Object(t)}function on(t){return null==t||""===t?null:+t}function an(t){return null!=t?nn(t)?t:[t]:[]}function sn(t){return"function"===typeof t}function un(t){return sn(t)?t:()=>t}function cn(t,e){let n;return r=>{n&&clearTimeout(n),n=setTimeout((()=>(e(r),n=null)),t)}}function ln(t){for(let e,n,r=1,i=arguments.length;r<i;++r)for(n in e=arguments[r],e)t[n]=e[n];return t}const fn=Object.prototype.hasOwnProperty;function hn(t,e){return fn.call(t,e)}function dn(t,e,n){const r=t.prototype=Object.create(e.prototype);return Object.defineProperty(r,"constructor",{value:t,writable:!0,enumerable:!0,configurable:!0}),ln(r,n)}function pn(t){return"[object Date]"===Object.prototype.toString.call(t)}function gn(t){return t&&sn(t[Symbol.iterator])}function mn(t){return"number"===typeof t}function vn(t){return"string"===typeof t}function yn(t){return nn(t)?"["+t.map(yn)+"]":rn(t)||vn(t)?JSON.stringify(t).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):t}function bn(t){return null==t||""===t?null:!(!t||"false"===t||"0"===t)&&!!t}const wn=t=>mn(t)||pn(t)?t:Date.parse(t);function xn(t,e){return e=e||wn,null==t||""===t?null:e(t)}function _n(t){return null==t||""===t?null:t+""}function kn(t,e,n){if(t)if(e){const r=t.length;for(let i=0;i<r;++i){const r=e(t[i]);r&&n(r,i,t)}}else t.forEach(n)}var An={},Sn={},Cn=34,En=10,Dn=13;function Mn(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function Tn(t,e){var n=Mn(t);return function(r,i){return e(n(r),i,t)}}function Fn(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function On(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function $n(t){return t<0?"-"+On(-t,6):t>9999?"+"+On(t,6):On(t,4)}function Nn(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":$n(t.getUTCFullYear(),4)+"-"+On(t.getUTCMonth()+1,2)+"-"+On(t.getUTCDate(),2)+(i?"T"+On(e,2)+":"+On(n,2)+":"+On(r,2)+"."+On(i,3)+"Z":r?"T"+On(e,2)+":"+On(n,2)+":"+On(r,2)+"Z":n||e?"T"+On(e,2)+":"+On(n,2)+"Z":"")}function Bn(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var n,r,o=i(t,(function(t,i){if(n)return n(t,i-1);r=t,n=e?Tn(t,e):Mn(t)}));return o.columns=r||[],o}function i(t,e){var r,i=[],o=t.length,a=0,s=0,u=o<=0,c=!1;function l(){if(u)return Sn;if(c)return c=!1,An;var e,r,i=a;if(t.charCodeAt(i)===Cn){while(a++<o&&t.charCodeAt(a)!==Cn||t.charCodeAt(++a)===Cn);return(e=a)>=o?u=!0:(r=t.charCodeAt(a++))===En?c=!0:r===Dn&&(c=!0,t.charCodeAt(a)===En&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}while(a<o){if((r=t.charCodeAt(e=a++))===En)c=!0;else if(r===Dn)c=!0,t.charCodeAt(a)===En&&++a;else if(r!==n)continue;return t.slice(i,e)}return u=!0,t.slice(i,o)}t.charCodeAt(o-1)===En&&--o,t.charCodeAt(o-1)===Dn&&--o;while((r=l())!==Sn){var f=[];while(r!==An&&r!==Sn)f.push(r),r=l();e&&null==(f=e(f,s++))||i.push(f)}return i}function o(e,n){return e.map((function(e){return n.map((function(t){return l(e[t])})).join(t)}))}function a(e,n){return null==n&&(n=Fn(e)),[n.map(l).join(t)].concat(o(e,n)).join("\n")}function s(t,e){return null==e&&(e=Fn(t)),o(t,e).join("\n")}function u(t){return t.map(c).join("\n")}function c(e){return e.map(l).join(t)}function l(t){return null==t?"":t instanceof Date?Nn(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:r,parseRows:i,format:a,formatBody:s,formatRows:u,formatRow:c,formatValue:l}}function Rn(t,e){var n,r=t.length,i=r-e;while(i<--r)n=t[i],t[i++]=t[r],t[r]=n}function Pn(t){return t}function In(t){if(null==t)return Pn;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,s){s||(e=n=0);var u=2,c=t.length,l=new Array(c);l[0]=(e+=t[0])*r+o,l[1]=(n+=t[1])*i+a;while(u<c)l[u]=t[u],++u;return l}}function jn(t,e){return"string"===typeof e&&(e=t.objects[e]),"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map((function(e){return Ln(t,e)}))}:Ln(t,e)}function Ln(t,e){var n=e.id,r=e.bbox,i=null==e.properties?{}:e.properties,o=zn(t,e);return null==n&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function zn(t,e){var n=In(t.transform),r=t.arcs;function i(t,e){e.length&&e.pop();for(var i=r[t<0?~t:t],o=0,a=i.length;o<a;++o)e.push(n(i[o],o));t<0&&Rn(e,a)}function o(t){return n(t)}function a(t){for(var e=[],n=0,r=t.length;n<r;++n)i(t[n],e);return e.length<2&&e.push(e[0]),e}function s(t){var e=a(t);while(e.length<4)e.push(e[0]);return e}function u(t){return t.map(s)}function c(t){var e,n=t.type;switch(n){case"GeometryCollection":return{type:n,geometries:t.geometries.map(c)};case"Point":e=o(t.coordinates);break;case"MultiPoint":e=t.coordinates.map(o);break;case"LineString":e=a(t.arcs);break;case"MultiLineString":e=t.arcs.map(a);break;case"Polygon":e=u(t.arcs);break;case"MultiPolygon":e=t.arcs.map(u);break;default:return null}return{type:n,coordinates:e}}return c(e)}function Un(t,e){var n={},r={},i={},o=[],a=-1;function s(e){var n,r=t.arcs[e<0?~e:e],i=r[0];return t.transform?(n=[0,0],r.forEach((function(t){n[0]+=t[0],n[1]+=t[1]}))):n=r[r.length-1],e<0?[n,i]:[i,n]}function u(t,e){for(var r in t){var i=t[r];delete e[i.start],delete i.start,delete i.end,i.forEach((function(t){n[t<0?~t:t]=1})),o.push(i)}}return e.forEach((function(n,r){var i,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=e[++a],e[a]=n,e[r]=i)})),e.forEach((function(t){var e,n,o=s(t),a=o[0],u=o[1];if(e=i[a])if(delete i[e.end],e.push(t),e.end=u,n=r[u]){delete r[n.start];var c=n===e?e:e.concat(n);r[c.start=e.start]=i[c.end=n.end]=c}else r[e.start]=i[e.end]=e;else if(e=r[u])if(delete r[e.start],e.unshift(t),e.start=a,n=i[a]){delete i[n.end];var l=n===e?e:n.concat(e);r[l.start=n.start]=i[l.end=e.end]=l}else r[e.start]=i[e.end]=e;else e=[t],r[e.start=a]=i[e.end=u]=e})),u(i,r),u(r,i),e.forEach((function(t){n[t<0?~t:t]||o.push([t])})),o}function qn(t){return zn(t,Vn.apply(this,arguments))}function Vn(t,e,n){var r,i,o;if(arguments.length>1)r=Hn(t,e,n);else for(i=0,r=new Array(o=t.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:Un(t,r)}}function Hn(t,e,n){var r,i=[],o=[];function a(t){var e=t<0?~t:t;(o[e]||(o[e]=[])).push({i:t,g:r})}function s(t){t.forEach(a)}function u(t){t.forEach(s)}function c(t){t.forEach(u)}function l(t){switch(r=t,t.type){case"GeometryCollection":t.geometries.forEach(l);break;case"LineString":s(t.arcs);break;case"MultiLineString":case"Polygon":u(t.arcs);break;case"MultiPolygon":c(t.arcs);break}}return l(e),o.forEach(null==n?function(t){i.push(t[0].i)}:function(t){n(t[0].g,t[t.length-1].g)&&i.push(t[0].i)}),i}const Wn=Math.sqrt(50),Yn=Math.sqrt(10),Gn=Math.sqrt(2);function Kn(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Wn?10:o>=Yn?5:o>=Gn?2:1;let s,u,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(t*c),u=Math.round(e*c),s/c<t&&++s,u/c>e&&--u,c=-c):(c=Math.pow(10,i)*a,s=Math.round(t/c),u=Math.round(e/c),s*c<t&&++s,u*c>e&&--u),u<s&&.5<=n&&n<2?Kn(t,e,2*n):[s,u,c]}function Xn(t,e,n){return e=+e,t=+t,n=+n,Kn(t,e,n)[2]}function Jn(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Xn(e,t,n):Xn(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}var Zn,Qn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tr(t){if(!(e=Qn.exec(t)))throw new Error("invalid format: "+t);var e;return new er({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function er(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function nr(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function rr(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ir(t){return t=rr(Math.abs(t)),t?t[1]:NaN}function or(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ir(e)/3)))-ir(Math.abs(t)))}function ar(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ir(e)-ir(t))+1}function sr(t){return Math.max(0,-ir(Math.abs(t)))}function ur(t,e){return function(n,r){var i=n.length,o=[],a=0,s=t[0],u=0;while(i>0&&s>0){if(u+s+1>r&&(s=Math.max(1,r-u)),o.push(n.substring(i-=s,i+s)),(u+=s+1)>r)break;s=t[a=(a+1)%t.length]}return o.reverse().join(e)}}function cr(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}function lr(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(e+1):t}function fr(t,e){var n=rr(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Zn=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+rr(t,Math.max(0,e+o-1))[0]}function hr(t,e){var n=rr(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}tr.prototype=er.prototype,er.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var dr={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:nr,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>hr(100*t,e),r:hr,s:fr,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function pr(t){return t}var gr,mr,vr,yr=Array.prototype.map,br=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function wr(t){var e=void 0===t.grouping||void 0===t.thousands?pr:ur(yr.call(t.grouping,Number),t.thousands+""),n=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",i=void 0===t.decimal?".":t.decimal+"",o=void 0===t.numerals?pr:cr(yr.call(t.numerals,String)),a=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function c(t){t=tr(t);var c=t.fill,l=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,g=t.comma,m=t.precision,v=t.trim,y=t.type;"n"===y?(g=!0,y="g"):dr[y]||(void 0===m&&(m=12),v=!0,y="g"),(d||"0"===c&&"="===l)&&(d=!0,c="0",l="=");var b="$"===h?n:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===h?r:/[%p]/.test(y)?a:"",x=dr[y],_=/[defgprs%]/.test(y);function k(t){var n,r,a,h=b,k=w;if("c"===y)k=x(t)+k,t="";else{t=+t;var A=t<0||1/t<0;if(t=isNaN(t)?u:x(Math.abs(t),m),v&&(t=lr(t)),A&&0===+t&&"+"!==f&&(A=!1),h=(A?"("===f?f:s:"-"===f||"("===f?"":f)+h,k=("s"===y?br[8+Zn/3]:"")+k+(A&&"("===f?")":""),_){n=-1,r=t.length;while(++n<r)if(a=t.charCodeAt(n),48>a||a>57){k=(46===a?i+t.slice(n+1):t.slice(n))+k,t=t.slice(0,n);break}}}g&&!d&&(t=e(t,1/0));var S=h.length+t.length+k.length,C=S<p?new Array(p-S+1).join(c):"";switch(g&&d&&(t=e(C+t,C.length?p-k.length:1/0),C=""),l){case"<":t=h+t+k+C;break;case"=":t=h+C+t+k;break;case"^":t=C.slice(0,S=C.length>>1)+h+t+k+C.slice(S);break;default:t=C+h+t+k;break}return o(t)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return t+""},k}function l(t,e){var n=c((t=tr(t),t.type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(ir(e)/3))),i=Math.pow(10,-r),o=br[8+r/3];return function(t){return n(i*t)+o}}return{format:c,formatPrefix:l}}function xr(t){return gr=wr(t),mr=gr.format,vr=gr.formatPrefix,gr}xr({thousands:",",grouping:[3],currency:["$",""]});const _r=new Date,kr=new Date;function Ar(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=e=>(t(e=new Date(+e)),e),i.ceil=n=>(t(n=new Date(n-1)),e(n,1),t(n),n),i.round=t=>{const e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=(t,n)=>(e(t=new Date(+t),null==n?1:Math.floor(n)),t),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return a;let s;do{a.push(s=new Date(+n)),e(n,o),t(n)}while(s<n&&n<r);return a},i.filter=n=>Ar((e=>{if(e>=e)while(t(e),!n(e))e.setTime(e-1)}),((t,r)=>{if(t>=t)if(r<0)while(++r<=0)while(e(t,-1),!n(t));else while(--r>=0)while(e(t,1),!n(t));})),n&&(i.count=(e,r)=>(_r.setTime(+e),kr.setTime(+r),t(_r),t(kr),Math.floor(n(_r,kr))),i.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?e=>r(e)%t===0:e=>i.count(0,e)%t===0):i:null)),i}const Sr=1e3,Cr=60*Sr,Er=60*Cr,Dr=24*Er,Mr=7*Dr,Tr=Ar((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Cr)/Dr),(t=>t.getDate()-1)),Fr=(Tr.range,Ar((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/Dr),(t=>t.getUTCDate()-1))),Or=(Fr.range,Ar((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/Dr),(t=>Math.floor(t/Dr))));Or.range;function $r(t){return Ar((e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),((t,e)=>{t.setDate(t.getDate()+7*e)}),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Cr)/Mr))}const Nr=$r(0),Br=$r(1),Rr=$r(2),Pr=$r(3),Ir=$r(4),jr=$r(5),Lr=$r(6);Nr.range,Br.range,Rr.range,Pr.range,Ir.range,jr.range,Lr.range;function zr(t){return Ar((e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)}),((t,e)=>(e-t)/Mr))}const Ur=zr(0),qr=zr(1),Vr=zr(2),Hr=zr(3),Wr=zr(4),Yr=zr(5),Gr=zr(6),Kr=(Ur.range,qr.range,Vr.range,Hr.range,Wr.range,Yr.range,Gr.range,Ar((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,e)=>{t.setFullYear(t.getFullYear()+e)}),((t,e)=>e.getFullYear()-t.getFullYear()),(t=>t.getFullYear())));Kr.every=t=>isFinite(t=Math.floor(t))&&t>0?Ar((e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,n)=>{e.setFullYear(e.getFullYear()+n*t)})):null;Kr.range;const Xr=Ar((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)}),((t,e)=>e.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));Xr.every=t=>isFinite(t=Math.floor(t))&&t>0?Ar((e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null;Xr.range;const Jr=Ar((t=>{t.setDate(1),t.setHours(0,0,0,0)}),((t,e)=>{t.setMonth(t.getMonth()+e)}),((t,e)=>e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())),(t=>t.getMonth())),Zr=(Jr.range,Ar((t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)}),((t,e)=>e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())),(t=>t.getUTCMonth()))),Qr=(Zr.range,Ar((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Sr-t.getMinutes()*Cr)}),((t,e)=>{t.setTime(+t+e*Er)}),((t,e)=>(e-t)/Er),(t=>t.getHours()))),ti=(Qr.range,Ar((t=>{t.setUTCMinutes(0,0,0)}),((t,e)=>{t.setTime(+t+e*Er)}),((t,e)=>(e-t)/Er),(t=>t.getUTCHours()))),ei=(ti.range,Ar((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Sr)}),((t,e)=>{t.setTime(+t+e*Cr)}),((t,e)=>(e-t)/Cr),(t=>t.getMinutes()))),ni=(ei.range,Ar((t=>{t.setUTCSeconds(0,0)}),((t,e)=>{t.setTime(+t+e*Cr)}),((t,e)=>(e-t)/Cr),(t=>t.getUTCMinutes()))),ri=(ni.range,Ar((t=>{t.setTime(t-t.getMilliseconds())}),((t,e)=>{t.setTime(+t+e*Sr)}),((t,e)=>(e-t)/Sr),(t=>t.getUTCSeconds()))),ii=(ri.range,Ar((()=>{}),((t,e)=>{t.setTime(+t+e)}),((t,e)=>e-t)));ii.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?Ar((e=>{e.setTime(Math.floor(e/t)*t)}),((e,n)=>{e.setTime(+e+n*t)}),((e,n)=>(n-e)/t)):ii:null);ii.range;const oi="year",ai="quarter",si="month",ui="week",ci="date",li="day",fi="dayofyear",hi="hours",di="minutes",pi="seconds",gi="milliseconds",mi=[oi,ai,si,ui,ci,li,fi,hi,di,pi,gi];mi.reduce(((t,e,n)=>(t[e]=1+n,t)),{});new Date;const vi={[oi]:Kr,[ai]:Jr.every(3),[si]:Jr,[ui]:Nr,[ci]:Tr,[li]:Tr,[fi]:Tr,[hi]:Qr,[di]:ei,[pi]:ri,[gi]:ii},yi={[oi]:Xr,[ai]:Zr.every(3),[si]:Zr,[ui]:Ur,[ci]:Fr,[li]:Fr,[fi]:Fr,[hi]:ti,[di]:ni,[pi]:ri,[gi]:ii};function bi(t){return vi[t]}function wi(t){return yi[t]}const xi=[oi,si,ci,hi,di,pi,gi],_i=xi.slice(0,-1),ki=_i.slice(0,-1),Ai=ki.slice(0,-1);Ai.slice(0,-1);function Si(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ci(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ei(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Di(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,c=Li(i),l=zi(i),f=Li(o),h=zi(o),d=Li(a),p=zi(a),g=Li(s),m=zi(s),v=Li(u),y=zi(u),b={a:$,A:N,b:B,B:R,c:null,d:uo,e:uo,f:po,g:So,G:Eo,H:co,I:lo,j:fo,L:ho,m:go,M:mo,p:P,q:I,Q:Xo,s:Jo,S:vo,u:yo,U:bo,V:xo,w:_o,W:ko,x:null,X:null,y:Ao,Y:Co,Z:Do,"%":Ko},w={a:j,A:L,b:z,B:U,c:null,d:Mo,e:Mo,f:No,g:Ho,G:Yo,H:To,I:Fo,j:Oo,L:$o,m:Bo,M:Ro,p:q,q:V,Q:Xo,s:Jo,S:Po,u:Io,U:jo,V:zo,w:Uo,W:qo,x:null,X:null,y:Vo,Y:Wo,Z:Go,"%":Ko},x={a:C,A:E,b:D,B:M,c:T,d:Zi,e:Zi,f:io,g:Gi,G:Yi,H:to,I:to,j:Qi,L:ro,m:Ji,M:eo,p:S,q:Xi,Q:ao,s:so,S:no,u:qi,U:Vi,V:Hi,w:Ui,W:Wi,x:F,X:O,y:Gi,Y:Yi,Z:Ki,"%":oo};function _(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,c=t.length;n instanceof Date||(n=new Date(+n));while(++s<c)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=Ni[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function k(t,e){return function(n){var r,i,o=Ei(1900,void 0,1),a=A(o,t,n+="",0);if(a!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=Ci(Ei(o.y,0,1)),i=r.getUTCDay(),r=i>4||0===i?qr.ceil(r):qr(r),r=Fr.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(r=Si(Ei(o.y,0,1)),i=r.getDay(),r=i>4||0===i?Br.ceil(r):Br(r),r=Tr.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Ci(Ei(o.y,0,1)).getUTCDay():Si(Ei(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Ci(o)):Si(o)}}function A(t,e,n,r){var i,o,a=0,s=e.length,u=n.length;while(a<s){if(r>=u)return-1;if(i=e.charCodeAt(a++),37===i){if(i=e.charAt(a++),o=x[i in Ni?e.charAt(a++):i],!o||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function S(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=l.get(r[0].toLowerCase()),n+r[0].length):-1}function C(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1}function E(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h.get(r[0].toLowerCase()),n+r[0].length):-1}function D(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1}function M(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m.get(r[0].toLowerCase()),n+r[0].length):-1}function T(t,n,r){return A(t,e,n,r)}function F(t,e,r){return A(t,n,e,r)}function O(t,e,n){return A(t,r,e,n)}function $(t){return a[t.getDay()]}function N(t){return o[t.getDay()]}function B(t){return u[t.getMonth()]}function R(t){return s[t.getMonth()]}function P(t){return i[+(t.getHours()>=12)]}function I(t){return 1+~~(t.getMonth()/3)}function j(t){return a[t.getUTCDay()]}function L(t){return o[t.getUTCDay()]}function z(t){return u[t.getUTCMonth()]}function U(t){return s[t.getUTCMonth()]}function q(t){return i[+(t.getUTCHours()>=12)]}function V(t){return 1+~~(t.getUTCMonth()/3)}return b.x=_(n,b),b.X=_(r,b),b.c=_(e,b),w.x=_(n,w),w.X=_(r,w),w.c=_(e,w),{format:function(t){var e=_(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=_(t+="",w);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t+="",!0);return e.toString=function(){return t},e}}}var Mi,Ti,Fi,Oi,$i,Ni={"-":"",_:" ",0:"0"},Bi=/^\s*\d+/,Ri=/^%/,Pi=/[\\^$*+?|[\]().{}]/g;function Ii(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function ji(t){return t.replace(Pi,"\\$&")}function Li(t){return new RegExp("^(?:"+t.map(ji).join("|")+")","i")}function zi(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function Ui(t,e,n){var r=Bi.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function qi(t,e,n){var r=Bi.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Vi(t,e,n){var r=Bi.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Hi(t,e,n){var r=Bi.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Wi(t,e,n){var r=Bi.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Yi(t,e,n){var r=Bi.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Gi(t,e,n){var r=Bi.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ki(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Xi(t,e,n){var r=Bi.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Ji(t,e,n){var r=Bi.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Zi(t,e,n){var r=Bi.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Qi(t,e,n){var r=Bi.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function to(t,e,n){var r=Bi.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function eo(t,e,n){var r=Bi.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function no(t,e,n){var r=Bi.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ro(t,e,n){var r=Bi.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function io(t,e,n){var r=Bi.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function oo(t,e,n){var r=Ri.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ao(t,e,n){var r=Bi.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function so(t,e,n){var r=Bi.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function uo(t,e){return Ii(t.getDate(),e,2)}function co(t,e){return Ii(t.getHours(),e,2)}function lo(t,e){return Ii(t.getHours()%12||12,e,2)}function fo(t,e){return Ii(1+Tr.count(Kr(t),t),e,3)}function ho(t,e){return Ii(t.getMilliseconds(),e,3)}function po(t,e){return ho(t,e)+"000"}function go(t,e){return Ii(t.getMonth()+1,e,2)}function mo(t,e){return Ii(t.getMinutes(),e,2)}function vo(t,e){return Ii(t.getSeconds(),e,2)}function yo(t){var e=t.getDay();return 0===e?7:e}function bo(t,e){return Ii(Nr.count(Kr(t)-1,t),e,2)}function wo(t){var e=t.getDay();return e>=4||0===e?Ir(t):Ir.ceil(t)}function xo(t,e){return t=wo(t),Ii(Ir.count(Kr(t),t)+(4===Kr(t).getDay()),e,2)}function _o(t){return t.getDay()}function ko(t,e){return Ii(Br.count(Kr(t)-1,t),e,2)}function Ao(t,e){return Ii(t.getFullYear()%100,e,2)}function So(t,e){return t=wo(t),Ii(t.getFullYear()%100,e,2)}function Co(t,e){return Ii(t.getFullYear()%1e4,e,4)}function Eo(t,e){var n=t.getDay();return t=n>=4||0===n?Ir(t):Ir.ceil(t),Ii(t.getFullYear()%1e4,e,4)}function Do(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ii(e/60|0,"0",2)+Ii(e%60,"0",2)}function Mo(t,e){return Ii(t.getUTCDate(),e,2)}function To(t,e){return Ii(t.getUTCHours(),e,2)}function Fo(t,e){return Ii(t.getUTCHours()%12||12,e,2)}function Oo(t,e){return Ii(1+Fr.count(Xr(t),t),e,3)}function $o(t,e){return Ii(t.getUTCMilliseconds(),e,3)}function No(t,e){return $o(t,e)+"000"}function Bo(t,e){return Ii(t.getUTCMonth()+1,e,2)}function Ro(t,e){return Ii(t.getUTCMinutes(),e,2)}function Po(t,e){return Ii(t.getUTCSeconds(),e,2)}function Io(t){var e=t.getUTCDay();return 0===e?7:e}function jo(t,e){return Ii(Ur.count(Xr(t)-1,t),e,2)}function Lo(t){var e=t.getUTCDay();return e>=4||0===e?Wr(t):Wr.ceil(t)}function zo(t,e){return t=Lo(t),Ii(Wr.count(Xr(t),t)+(4===Xr(t).getUTCDay()),e,2)}function Uo(t){return t.getUTCDay()}function qo(t,e){return Ii(qr.count(Xr(t)-1,t),e,2)}function Vo(t,e){return Ii(t.getUTCFullYear()%100,e,2)}function Ho(t,e){return t=Lo(t),Ii(t.getUTCFullYear()%100,e,2)}function Wo(t,e){return Ii(t.getUTCFullYear()%1e4,e,4)}function Yo(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Wr(t):Wr.ceil(t),Ii(t.getUTCFullYear()%1e4,e,4)}function Go(){return"+0000"}function Ko(){return"%"}function Xo(t){return+t}function Jo(t){return Math.floor(+t/1e3)}function Zo(t){return Mi=Di(t),Ti=Mi.format,Fi=Mi.parse,Oi=Mi.utcFormat,$i=Mi.utcParse,Mi}function Qo(t){const e={};return n=>e[n]||(e[n]=t(n))}function ta(t,e){return n=>{const r=t(n),i=r.indexOf(e);if(i<0)return r;let o=ea(r,i);const a=o<r.length?r.slice(o):"";while(--o>i)if("0"!==r[o]){++o;break}return r.slice(0,o)+a}}function ea(t,e){let n,r=t.lastIndexOf("e");if(r>0)return r;for(r=t.length;--r>e;)if(n=t.charCodeAt(r),n>=48&&n<=57)return r+1}function na(t){const e=Qo(t.format),n=t.formatPrefix;return{format:e,formatPrefix:n,formatFloat(t){const n=tr(t||",");if(null==n.precision){switch(n.precision=12,n.type){case"%":n.precision-=2;break;case"e":n.precision-=1;break}return ta(e(n),e(".1f")(1)[1])}return e(n)},formatSpan(t,r,i,o){o=tr(null==o?",f":o);const a=Jn(t,r,i),s=Math.max(Math.abs(t),Math.abs(r));let u;if(null==o.precision)switch(o.type){case"s":return isNaN(u=or(a,s))||(o.precision=u),n(o,s);case"":case"e":case"g":case"p":case"r":isNaN(u=ar(a,s))||(o.precision=u-("e"===o.type));break;case"f":case"%":isNaN(u=sr(a))||(o.precision=u-2*("%"===o.type));break}return e(o)}}}let ra,ia;function oa(){return ra=na({format:mr,formatPrefix:vr})}function aa(t){return na(wr(t))}function sa(t){return arguments.length?ra=aa(t):ra}function ua(t,e,n){n=n||{},rn(n)||qe(`Invalid time multi-format specifier: ${n}`);const r=e(pi),i=e(di),o=e(hi),a=e(ci),s=e(ui),u=e(si),c=e(ai),l=e(oi),f=t(n[gi]||".%L"),h=t(n[pi]||":%S"),d=t(n[di]||"%I:%M"),p=t(n[hi]||"%I %p"),g=t(n[ci]||n[li]||"%a %d"),m=t(n[ui]||"%b %d"),v=t(n[si]||"%B"),y=t(n[ai]||"%B"),b=t(n[oi]||"%Y");return t=>(r(t)<t?f:i(t)<t?h:o(t)<t?d:a(t)<t?p:u(t)<t?s(t)<t?g:m:l(t)<t?c(t)<t?v:y:b)(t)}function ca(t){const e=Qo(t.format),n=Qo(t.utcFormat);return{timeFormat:t=>vn(t)?e(t):ua(e,bi,t),utcFormat:t=>vn(t)?n(t):ua(n,wi,t),timeParse:Qo(t.parse),utcParse:Qo(t.utcParse)}}function la(){return ia=ca({format:Ti,parse:Fi,utcFormat:Oi,utcParse:$i})}function fa(t){return ca(Di(t))}function ha(t){return arguments.length?ia=fa(t):ia}Zo({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),oa(),la();const da=(t,e)=>ln({},t,e);function pa(t,e){const n=arguments.length;return n&&2!==n&&qe("defaultLocale expects either zero or two arguments."),n?da(sa(t),ha(e)):da(sa(),ha())}const ga=/^(data:|([A-Za-z]+:)?\/\/)/,ma=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,va=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,ya="file://";function ba(t,e){return n=>({options:n||{},sanitize:xa,load:wa,fileAccess:!!e,file:_a(e),http:Aa(t)})}async function wa(t,e){const n=await this.sanitize(t,e),r=n.href;return n.localFile?this.file(r):this.http(r,e)}async function xa(t,e){e=ln({},this.options,e);const n=this.fileAccess,r={href:null};let i,o,a;const s=ma.test(t.replace(va,""));null!=t&&"string"===typeof t&&s||qe("Sanitize failure, invalid URI: "+yn(t));const u=ga.test(t);return(a=e.baseURL)&&!u&&(t.startsWith("/")||a.endsWith("/")||(t="/"+t),t=a+t),o=(i=t.startsWith(ya))||"file"===e.mode||"http"!==e.mode&&!u&&n,i?t=t.slice(ya.length):t.startsWith("//")&&("file"===e.defaultProtocol?(t=t.slice(2),o=!0):t=(e.defaultProtocol||"http")+":"+t),Object.defineProperty(r,"localFile",{value:!!o}),r.href=t,e.target&&(r.target=e.target+""),e.rel&&(r.rel=e.rel+""),"image"===e.context&&e.crossOrigin&&(r.crossOrigin=e.crossOrigin+""),r}function _a(t){return t?e=>new Promise(((n,r)=>{t.readFile(e,((t,e)=>{t?r(t):n(e)}))})):ka}async function ka(){qe("No file system access.")}function Aa(t){return t?async function(e,n){const r=ln({},this.options.http,n),i=n&&n.response,o=await t(e,r);return o.ok?sn(o[i])?o[i]():o.text():qe(o.status+""+o.statusText)}:Sa}async function Sa(){qe("No HTTP fetch method available.")}const Ca=t=>null!=t&&t===t,Ea=t=>"true"===t||"false"===t||!0===t||!1===t,Da=t=>!Number.isNaN(Date.parse(t)),Ma=t=>!Number.isNaN(+t)&&!(t instanceof Date),Ta=t=>Ma(t)&&Number.isInteger(+t),Fa={boolean:bn,integer:on,number:on,date:xn,string:_n,unknown:Ye},Oa=[Ea,Ta,Ma,Da],$a=["boolean","integer","number","date"];function Na(t,e){if(!t||!t.length)return"unknown";const n=t.length,r=Oa.length,i=Oa.map(((t,e)=>e+1));for(let o,a,s=0,u=0;s<n;++s)for(a=e?t[s][e]:t[s],o=0;o<r;++o)if(i[o]&&Ca(a)&&!Oa[o](a)&&(i[o]=0,++u,u===Oa.length))return"string";return $a[i.reduce(((t,e)=>0===t?e:t),0)-1]}function Ba(t,e){return e.reduce(((e,n)=>(e[n]=Na(t,n),e)),{})}function Ra(t){const e=function(e,n){const r={delimiter:t};return Pa(e,n?ln(n,r):r)};return e.responseType="text",e}function Pa(t,e){return e.header&&(t=e.header.map(yn).join(e.delimiter)+"\n"+t),Bn(e.delimiter).parse(t+"")}function Ia(t){return!("function"!==typeof Buffer||!sn(Buffer.isBuffer))&&Buffer.isBuffer(t)}function ja(t,e){const n=e&&e.property?He(e.property):Ye;return rn(t)&&!Ia(t)?La(n(t),e):n(JSON.parse(t))}function La(t,e){return!nn(t)&&gn(t)&&(t=[...t]),e&&e.copy?JSON.parse(JSON.stringify(t)):t}Pa.responseType="text",ja.responseType="json";const za={interior:(t,e)=>t!==e,exterior:(t,e)=>t===e};function Ua(t,e){let n,r,i,o;return t=ja(t,e),e&&e.feature?(n=jn,i=e.feature):e&&e.mesh?(n=qn,i=e.mesh,o=za[e.filter]):qe("Missing TopoJSON feature or mesh parameter."),r=(r=t.objects[i])?n(t,r,o):qe("Invalid TopoJSON object: "+i),r&&r.features||[r]}Ua.responseType="json";const qa={dsv:Pa,csv:Ra(","),tsv:Ra("\t"),json:ja,topojson:Ua};function Va(t,e){return arguments.length>1?(qa[t]=e,this):hn(qa,t)?qa[t]:null}function Ha(t){const e=Va(t);return e&&e.responseType||"text"}function Wa(t,e,n,r){e=e||{};const i=Va(e.type||"json");return i||qe("Unknown data format type: "+e.type),t=i(t,e),e.parse&&Ya(t,e.parse,n,r),hn(t,"columns")&&delete t.columns,t}function Ya(t,e,n,r){if(!t.length)return;const i=ha();n=n||i.timeParse,r=r||i.utcParse;let o,a,s,u,c,l,f=t.columns||Object.keys(t[0]);"auto"===e&&(e=Ba(t,f)),f=Object.keys(e);const h=f.map((t=>{const i=e[t];let o,a;if(i&&(i.startsWith("date:")||i.startsWith("utc:"))){o=i.split(/:(.+)?/,2),a=o[1],("'"===a[0]&&"'"===a[a.length-1]||'"'===a[0]&&'"'===a[a.length-1])&&(a=a.slice(1,-1));const t="utc"===o[0]?r:n;return t(a)}if(!Fa[i])throw Error("Illegal format pattern: "+t+":"+i);return Fa[i]}));for(s=0,c=t.length,l=f.length;s<c;++s)for(o=t[s],u=0;u<l;++u)a=f[u],o[a]=h[u](o[a])}const Ga=ba("undefined"!==typeof fetch&&fetch,null);function Ka(t){const e=t||Ye,n=[],r={};return n.add=t=>{const i=e(t);return r[i]||(r[i]=1,n.push(t)),n},n.remove=t=>{const i=e(t);if(r[i]){r[i]=0;const e=n.indexOf(t);e>=0&&n.splice(e,1)}return n},n}async function Xa(t,e){try{await e(t)}catch(n){t.error(n)}}const Ja=Symbol("vega_id");let Za=1;function Qa(t){return!(!t||!ts(t))}function ts(t){return t[Ja]}function es(t,e){return t[Ja]=e,t}function ns(t){const e=t===Object(t)?t:{data:t};return ts(e)?e:es(e,Za++)}function rs(t){return is(t,ns({}))}function is(t,e){for(const n in t)e[n]=t[n];return e}function os(t,e){return es(e,ts(t))}function as(t,e){return t?e?(n,r)=>t(n,r)||ts(e(n))-ts(e(r)):(e,n)=>t(e,n)||ts(e)-ts(n):null}function ss(t){return t&&t.constructor===us}function us(){const t=[],e=[],n=[],r=[],i=[];let o=null,a=!1;return{constructor:us,insert(e){const n=an(e),r=n.length;for(let i=0;i<r;++i)t.push(n[i]);return this},remove(t){const n=sn(t)?r:e,i=an(t),o=i.length;for(let e=0;e<o;++e)n.push(i[e]);return this},modify(t,e,r){const o={field:e,value:un(r)};return sn(t)?(o.filter=t,i.push(o)):(o.tuple=t,n.push(o)),this},encode(t,e){return sn(t)?i.push({filter:t,field:e}):n.push({tuple:t,field:e}),this},clean(t){return o=t,this},reflow(){return a=!0,this},pulse(s,u){const c={},l={};let f,h,d,p,g,m;for(f=0,h=u.length;f<h;++f)c[ts(u[f])]=1;for(f=0,h=e.length;f<h;++f)g=e[f],c[ts(g)]=-1;for(f=0,h=r.length;f<h;++f)p=r[f],u.forEach((t=>{p(t)&&(c[ts(t)]=-1)}));for(f=0,h=t.length;f<h;++f)g=t[f],m=ts(g),c[m]?c[m]=1:s.add.push(ns(t[f]));for(f=0,h=u.length;f<h;++f)g=u[f],c[ts(g)]<0&&s.rem.push(g);function v(t,e,n){n?t[e]=n(t):s.encode=e,a||(l[ts(t)]=t)}for(f=0,h=n.length;f<h;++f)d=n[f],g=d.tuple,p=d.field,m=c[ts(g)],m>0&&(v(g,p,d.value),s.modifies(p));for(f=0,h=i.length;f<h;++f)d=i[f],p=d.filter,u.forEach((t=>{p(t)&&c[ts(t)]>0&&v(t,d.field,d.value)})),s.modifies(d.field);if(a)s.mod=e.length||r.length?u.filter((t=>c[ts(t)]>0)):u.slice();else for(m in l)s.mod.push(l[m]);return(o||null==o&&(e.length||r.length))&&s.clean(!0),s}}}const cs="_:mod:_";function ls(){Object.defineProperty(this,cs,{writable:!0,value:{}})}ls.prototype={set(t,e,n,r){const i=this,o=i[t],a=i[cs];return null!=e&&e>=0?(o[e]!==n||r)&&(o[e]=n,a[e+":"+t]=-1,a[t]=-1):(o!==n||r)&&(i[t]=n,a[t]=nn(n)?1+n.length:-1),i},modified(t,e){const n=this[cs];if(!arguments.length){for(const t in n)if(n[t])return!0;return!1}if(nn(t)){for(let e=0;e<t.length;++e)if(n[t[e]])return!0;return!1}return null!=e&&e>=0?e+1<n[t]||!!n[e+":"+t]:!!n[t]},clear(){return this[cs]={},this}};let fs=0;const hs="pulse",ds=new ls,ps=1,gs=2;function ms(t,e,n,r){this.id=++fs,this.value=t,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,e&&(this._update=e),n&&this.parameters(n,r)}function vs(t){return function(e){const n=this.flags;return 0===arguments.length?!!(n&t):(this.flags=e?n|t:n&~t,this)}}function ys(t,e,n,r){let i,o=1;return t instanceof ms?i=t:t&&t.prototype instanceof ms?i=new t:sn(t)?i=new ms(null,t):(o=0,i=new ms(t,e)),this.rank(i),o&&(r=n,n=e),n&&this.connect(i,i.parameters(n,r)),this.touch(i),i}function bs(t,e){const n=t.rank,r=e.length;for(let i=0;i<r;++i)if(n<e[i].rank)return void this.rerank(t)}ms.prototype={targets(){return this._targets||(this._targets=Ka(We))},set(t){return this.value!==t?(this.value=t,1):0},skip:vs(ps),modified:vs(gs),parameters(t,e,n){e=!1!==e;const r=this._argval=this._argval||new ls,i=this._argops=this._argops||[],o=[];let a,s,u,c;const l=(t,n,a)=>{a instanceof ms?(a!==this&&(e&&a.targets().add(this),o.push(a)),i.push({op:a,name:t,index:n})):r.set(t,n,a)};for(a in t)if(s=t[a],a===hs)an(s).forEach((t=>{t instanceof ms?t!==this&&(t.targets().add(this),o.push(t)):qe("Pulse parameters must be operator instances.")})),this.source=s;else if(nn(s))for(r.set(a,-1,Array(u=s.length)),c=0;c<u;++c)l(a,c,s[c]);else l(a,-1,s);return this.marshall().clear(),n&&(i.initonly=!0),o},marshall(t){const e=this._argval||ds,n=this._argops;let r,i,o,a;if(n){const s=n.length;for(i=0;i<s;++i)r=n[i],o=r.op,a=o.modified()&&o.stamp===t,e.set(r.name,r.index,o.value,a);if(n.initonly){for(i=0;i<s;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return e},detach(){const t=this._argops;let e,n,r,i;if(t)for(e=0,n=t.length;e<n;++e)r=t[e],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(t){const e=this._update;if(e){const n=this.marshall(t.stamp),r=e.call(this,n,t);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return t.StopPropagation}},run(t){if(t.stamp<this.stamp)return t.StopPropagation;let e;return this.skip()?(this.skip(!1),e=0):e=this.evaluate(t),this.pulse=e||t}};let ws=0;function xs(t,e,n){this.id=++ws,this.value=null,n&&(this.receive=n),t&&(this._filter=t),e&&(this._apply=e)}function _s(t,e,n){return new xs(t,e,n)}function ks(t,e,n,r){const i=this,o=_s(n,r),a=function(t){t.dataflow=i;try{o.receive(t)}catch(e){i.error(e)}finally{i.run()}};let s;s="string"===typeof t&&"undefined"!==typeof document?document.querySelectorAll(t):an(t);const u=s.length;for(let c=0;c<u;++c)s[c].addEventListener(e,a);return o}function As(t,e){const n=this.locale();return Wa(t,e,n.timeParse,n.utcParse)}function Ss(t,e,n){return e=this.parse(e,n),this.pulse(t,this.changeset().insert(e))}async function Cs(t,e){const n=this;let r,i=0;try{r=await n.loader().load(t,{context:"dataflow",response:Ha(e&&e.type)});try{r=n.parse(r,e)}catch(o){i=-2,n.warn("Data ingestion failed",t,o)}}catch(o){i=-1,n.warn("Loading failed",t,o)}return{data:r,status:i}}async function Es(t,e,n){const r=this,i=r._pending||Ds(r);i.requests+=1;const o=await r.request(e,n);return r.pulse(t,r.changeset().remove(Ge).insert(o.data||[])),i.done(),o}function Ds(t){let e;const n=new Promise((t=>e=t));return n.requests=0,n.done=()=>{0===--n.requests&&(t._pending=null,e(t))},t._pending=n}xs.prototype={_filter:Ge,_apply:Ye,targets(){return this._targets||(this._targets=Ka(We))},consume(t){return arguments.length?(this._consume=!!t,this):!!this._consume},receive(t){if(this._filter(t)){const e=this.value=this._apply(t),n=this._targets,r=n?n.length:0;for(let t=0;t<r;++t)n[t].receive(e);this._consume&&(t.preventDefault(),t.stopPropagation())}},filter(t){const e=_s(t);return this.targets().add(e),e},apply(t){const e=_s(null,t);return this.targets().add(e),e},merge(){const t=_s();this.targets().add(t);for(let e=0,n=arguments.length;e<n;++e)arguments[e].targets().add(t);return t},throttle(t){let e=-1;return this.filter((()=>{const n=Date.now();return n-e>t?(e=n,1):0}))},debounce(t){const e=_s();return this.targets().add(_s(null,null,cn(t,(t=>{const n=t.dataflow;e.receive(t),n&&n.run&&n.run()})))),e},between(t,e){let n=!1;return t.targets().add(_s(null,null,(()=>n=!0))),e.targets().add(_s(null,null,(()=>n=!1))),this.filter((()=>n))},detach(){this._filter=Ge,this._targets=null}};const Ms={skip:!0};function Ts(t,e,n,r,i){const o=t instanceof ms?Os:Fs;return o(this,t,e,n,r,i),this}function Fs(t,e,n,r,i,o){const a=ln({},o,Ms);let s,u;sn(n)||(n=un(n)),void 0===r?s=e=>t.touch(n(e)):sn(r)?(u=new ms(null,r,i,!1),s=e=>{u.evaluate(e);const r=n(e),i=u.value;ss(i)?t.pulse(r,i,o):t.update(r,i,a)}):s=e=>t.update(n(e),r,a),e.apply(s)}function Os(t,e,n,r,i,o){if(void 0===r)e.targets().add(n);else{const a=o||{},s=new ms(null,$s(n,r),i,!1);s.modified(a.force),s.rank=e.rank,e.targets().add(s),n&&(s.skip(!0),s.value=n.value,s.targets().add(n),t.connect(n,[s]))}}function $s(t,e){return e=sn(e)?e:un(e),t?function(n,r){const i=e(n,r);return t.skip()||(t.skip(i!==this.value).value=i),i}:e}function Ns(t){t.rank=++this._rank}function Bs(t){const e=[t];let n,r,i;while(e.length)if(this.rank(n=e.pop()),r=n._targets)for(i=r.length;--i>=0;)e.push(n=r[i]),n===t&&qe("Cycle detected in dataflow graph.")}const Rs={},Ps=1,Is=2,js=4,Ls=Ps|Is,zs=Ps|js,Us=Ps|Is|js,qs=8,Vs=16,Hs=32,Ws=64;function Ys(t,e,n){this.dataflow=t,this.stamp=null==e?-1:e,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function Gs(t,e){const n=[];return kn(t,e,(t=>n.push(t))),n}function Ks(t,e){const n={};return t.visit(e,(t=>{n[ts(t)]=1})),t=>n[ts(t)]?null:t}function Xs(t,e){return t?(n,r)=>t(n,r)&&e(n,r):e}function Js(t,e,n,r){const i=this;let o=0;this.dataflow=t,this.stamp=e,this.fields=null,this.encode=r||null,this.pulses=n;for(const a of n)if(a.stamp===e){if(a.fields){const t=i.fields||(i.fields={});for(const e in a.fields)t[e]=1}a.changed(i.ADD)&&(o|=i.ADD),a.changed(i.REM)&&(o|=i.REM),a.changed(i.MOD)&&(o|=i.MOD)}this.changes=o}async function Zs(t,e,n){const r=this,i=[];if(r._pulse)return nu(r);if(r._pending&&await r._pending,e&&await Xa(r,e),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const o=++r._clock;r._pulse=new Ys(r,o,t),r._touched.forEach((t=>r._enqueue(t,!0))),r._touched=Ka(We);let a,s,u,c=0;try{while(r._heap.size()>0)a=r._heap.pop(),a.rank===a.qrank?(s=a.run(r._getPulse(a,t)),s.then?s=await s:s.async&&(i.push(s.async),s=Rs),s!==Rs&&a._targets&&a._targets.forEach((t=>r._enqueue(t))),++c):r._enqueue(a,!0)}catch(l){r._heap.clear(),u=l}if(r._input={},r._pulse=null,r.debug(`Pulse ${o}: ${c} operators`),u&&(r._postrun=[],r.error(u)),r._postrun.length){const t=r._postrun.sort(((t,e)=>e.priority-t.priority));r._postrun=[];for(let e=0;e<t.length;++e)await Xa(r,t[e].callback)}return n&&await Xa(r,n),i.length&&Promise.all(i).then((t=>r.runAsync(null,(()=>{t.forEach((t=>{try{t(r)}catch(l){r.error(l)}}))})))),r}async function Qs(t,e,n){while(this._running)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(t,e,n)).then(r,r),this._running}function tu(t,e,n){return this._pulse?nu(this):(this.evaluate(t,e,n),this)}function eu(t,e,n){if(this._pulse||e)this._postrun.push({priority:n||0,callback:t});else try{t(this)}catch(r){this.error(r)}}function nu(t){return t.error("Dataflow already running. Use runAsync() to chain invocations."),t}function ru(t,e){const n=t.stamp<this._clock;n&&(t.stamp=this._clock),(n||e)&&(t.qrank=t.rank,this._heap.push(t))}function iu(t,e){const n=t.source,r=this._clock;return n&&nn(n)?new Js(this,r,n.map((t=>t.pulse)),e):this._input[t.id]||ou(this._pulse,n&&n.pulse)}function ou(t,e){return e&&e.stamp===t.stamp?e:(t=t.fork(),e&&e!==Rs&&(t.source=e.source),t)}Ys.prototype={StopPropagation:Rs,ADD:Ps,REM:Is,MOD:js,ADD_REM:Ls,ADD_MOD:zs,ALL:Us,REFLOW:qs,SOURCE:Vs,NO_SOURCE:Hs,NO_FIELDS:Ws,fork(t){return new Ys(this.dataflow).init(this,t)},clone(){const t=this.fork(Us);return t.add=t.add.slice(),t.rem=t.rem.slice(),t.mod=t.mod.slice(),t.source&&(t.source=t.source.slice()),t.materialize(Us|Vs)},addAll(){let t=this;const e=!t.source||t.add===t.rem||!t.rem.length&&t.source.length===t.add.length;return e||(t=new Ys(this.dataflow).init(this),t.add=t.source,t.rem=[]),t},init(t,e){const n=this;return n.stamp=t.stamp,n.encode=t.encode,!t.fields||e&Ws||(n.fields=t.fields),e&Ps?(n.addF=t.addF,n.add=t.add):(n.addF=null,n.add=[]),e&Is?(n.remF=t.remF,n.rem=t.rem):(n.remF=null,n.rem=[]),e&js?(n.modF=t.modF,n.mod=t.mod):(n.modF=null,n.mod=[]),e&Hs?(n.srcF=null,n.source=null):(n.srcF=t.srcF,n.source=t.source,t.cleans&&(n.cleans=t.cleans)),n},runAfter(t){this.dataflow.runAfter(t)},changed(t){const e=t||Us;return e&Ps&&this.add.length||e&Is&&this.rem.length||e&js&&this.mod.length},reflow(t){if(t)return this.fork(Us).reflow();const e=this.add.length,n=this.source&&this.source.length;return n&&n!==e&&(this.mod=this.source,e&&this.filter(js,Ks(this,Ps))),this},clean(t){return arguments.length?(this.cleans=!!t,this):this.cleans},modifies(t){const e=this.fields||(this.fields={});return nn(t)?t.forEach((t=>e[t]=!0)):e[t]=!0,this},modified(t,e){const n=this.fields;return!(!e&&!this.mod.length||!n)&&(arguments.length?nn(t)?t.some((t=>n[t])):n[t]:!!n)},filter(t,e){const n=this;return t&Ps&&(n.addF=Xs(n.addF,e)),t&Is&&(n.remF=Xs(n.remF,e)),t&js&&(n.modF=Xs(n.modF,e)),t&Vs&&(n.srcF=Xs(n.srcF,e)),n},materialize(t){t=t||Us;const e=this;return t&Ps&&e.addF&&(e.add=Gs(e.add,e.addF),e.addF=null),t&Is&&e.remF&&(e.rem=Gs(e.rem,e.remF),e.remF=null),t&js&&e.modF&&(e.mod=Gs(e.mod,e.modF),e.modF=null),t&Vs&&e.srcF&&(e.source=e.source.filter(e.srcF),e.srcF=null),e},visit(t,e){const n=this,r=e;if(t&Vs)return kn(n.source,n.srcF,r),n;t&Ps&&kn(n.add,n.addF,r),t&Is&&kn(n.rem,n.remF,r),t&js&&kn(n.mod,n.modF,r);const i=n.source;if(t&qs&&i){const t=n.add.length+n.mod.length;t===i.length||kn(i,t?Ks(n,zs):n.srcF,r)}return n}},dn(Js,Ys,{fork(t){const e=new Ys(this.dataflow).init(this,t&this.NO_FIELDS);return void 0!==t&&(t&e.ADD&&this.visit(e.ADD,(t=>e.add.push(t))),t&e.REM&&this.visit(e.REM,(t=>e.rem.push(t))),t&e.MOD&&this.visit(e.MOD,(t=>e.mod.push(t)))),e},changed(t){return this.changes&t},modified(t){const e=this,n=e.fields;return n&&e.changes&e.MOD?nn(t)?t.some((t=>n[t])):n[t]:0},filter(){qe("MultiPulse does not support filtering.")},materialize(){qe("MultiPulse does not support materialization.")},visit(t,e){const n=this,r=n.pulses,i=r.length;let o=0;if(t&n.SOURCE)for(;o<i;++o)r[o].visit(t,e);else for(;o<i;++o)r[o].stamp===n.stamp&&r[o].visit(t,e);return n}});const au={skip:!1,force:!1};function su(t,e){const n=e||au;return this._pulse?this._enqueue(t):this._touched.add(t),n.skip&&t.skip(!0),this}function uu(t,e,n){const r=n||au;return(t.set(e)||r.force)&&this.touch(t,r),this}function cu(t,e,n){this.touch(t,n||au);const r=new Ys(this,this._clock+(this._pulse?0:1)),i=t.pulse&&t.pulse.source||[];return r.target=t,this._input[t.id]=e.pulse(r,i),this}function lu(t){let e=[];return{clear:()=>e=[],size:()=>e.length,peek:()=>e[0],push:n=>(e.push(n),fu(e,0,e.length-1,t)),pop:()=>{const n=e.pop();let r;return e.length?(r=e[0],e[0]=n,hu(e,0,t)):r=n,r}}}function fu(t,e,n,r){let i,o;const a=t[n];while(n>e){if(o=n-1>>1,i=t[o],!(r(a,i)<0))break;t[n]=i,n=o}return t[n]=a}function hu(t,e,n){const r=e,i=t.length,o=t[e];let a,s=1+(e<<1);while(s<i)a=s+1,a<i&&n(t[s],t[a])>=0&&(s=a),t[e]=t[s],e=s,s=1+(e<<1);return t[e]=o,fu(t,r,e,n)}function du(){this.logger(en()),this.logLevel(Je),this._clock=0,this._rank=0,this._locale=pa();try{this._loader=Ga()}catch(Tqt){}this._touched=Ka(We),this._input={},this._pulse=null,this._heap=lu(((t,e)=>t.qrank-e.qrank)),this._postrun=[]}function pu(t){return function(){return this._log[t].apply(this,arguments)}}function gu(t,e){ms.call(this,t,null,e)}du.prototype={stamp(){return this._clock},loader(t){return arguments.length?(this._loader=t,this):this._loader},locale(t){return arguments.length?(this._locale=t,this):this._locale},logger(t){return arguments.length?(this._log=t,this):this._log},error:pu("error"),warn:pu("warn"),info:pu("info"),debug:pu("debug"),logLevel:pu("level"),cleanThreshold:1e4,add:ys,connect:bs,rank:Ns,rerank:Bs,pulse:cu,touch:su,update:uu,changeset:us,ingest:Ss,parse:As,preload:Es,request:Cs,events:ks,on:Ts,evaluate:Zs,run:tu,runAsync:Qs,runAfter:eu,_enqueue:ru,_getPulse:iu},dn(gu,ms,{run(t){if(t.stamp<this.stamp)return t.StopPropagation;let e;return this.skip()?this.skip(!1):e=this.evaluate(t),e=e||t,e.then?e=e.then((t=>this.pulse=t)):e!==t.StopPropagation&&(this.pulse=e),e},evaluate(t){const e=this.marshall(t.stamp),n=this.transform(e,t);return e.clear(),n},transform(){}});const mu={};function vu(t){const e=yu(t);return e&&e.Definition||null}function yu(t){return t=t&&t.toLowerCase(),hn(mu,t)?mu[t]:null}function bu(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function wu(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function xu(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function _u(t,e,n=0,r=t.length-1,i=bu){while(r>n){if(r-n>600){const o=r-n+1,a=e-n+1,s=Math.log(o),u=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*u*(o-u)/o)*(a-o/2<0?-1:1),l=Math.max(n,Math.floor(e-a*u/o+c)),f=Math.min(r,Math.floor(e+(o-a)*u/o+c));_u(t,e,l,f,i)}const o=t[e];let a=n,s=r;ku(t,n,e),i(t[r],o)>0&&ku(t,n,r);while(a<s){ku(t,a,s),++a,--s;while(i(t[a],o)<0)++a;while(i(t[s],o)>0)--s}0===i(t[n],o)?ku(t,n,s):(++s,ku(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function ku(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Au(t){return null===t?NaN:+t}function*Su(t,e){if(void 0===e)for(let n of t)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}function Cu(t,e,n){if(t=Float64Array.from(Su(t,n)),r=t.length){if((e=+e)<=0||r<2)return xu(t);if(e>=1)return wu(t);var r,i=(r-1)*e,o=Math.floor(i),a=wu(_u(t,o).subarray(0,o+1)),s=xu(t.subarray(o+1));return a+(s-a)*(i-o)}}function Eu(t,e,n=Au){if(r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function Du(t,e){let n,r=0,i=0,o=0;if(void 0===e)for(let a of t)null!=a&&(a=+a)>=a&&(n=a-i,i+=n/++r,o+=n*(a-i));else{let a=-1;for(let s of t)null!=(s=e(s,++a,t))&&(s=+s)>=s&&(n=s-i,i+=n/++r,o+=n*(s-i))}if(r>1)return o/(r-1)}function Mu(t,e){const n=Du(t,e);return n?Math.sqrt(n):n}function Tu(t,e){return Cu(t,.5,e)}function*Fu(t,e){if(null==e)for(let n of t)null!=n&&""!==n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)r=e(r,++n,t),null!=r&&""!==r&&(r=+r)>=r&&(yield r)}}function Ou(t,e,n){const r=Float64Array.from(Fu(t,n));return r.sort(bu),e.map((t=>Eu(r,t)))}function $u(t,e){return Ou(t,[.25,.5,.75],e)}function Nu(t,e){const n=t.length,r=Mu(t,e),i=$u(t,e),o=(i[2]-i[0])/1.34,a=Math.min(r,o)||r||Math.abs(i[0])||1;return 1.06*a*Math.pow(n,-.2)}function Bu(t){const e=t.maxbins||20,n=t.base||10,r=Math.log(n),i=t.divide||[5,2];let o,a,s,u,c,l,f=t.extent[0],h=t.extent[1];const d=t.span||h-f||Math.abs(f)||1;if(t.step)o=t.step;else if(t.steps){for(u=d/e,c=0,l=t.steps.length;c<l&&t.steps[c]<u;++c);o=t.steps[Math.max(0,c-1)]}else{a=Math.ceil(Math.log(e)/r),s=t.minstep||0,o=Math.max(s,Math.pow(n,Math.round(Math.log(d)/r)-a));while(Math.ceil(d/o)>e)o*=n;for(c=0,l=i.length;c<l;++c)u=o/i[c],u>=s&&d/u<=e&&(o=u)}u=Math.log(o);const p=u>=0?0:1+~~(-u/r),g=Math.pow(n,-p-1);return(t.nice||void 0===t.nice)&&(u=Math.floor(f/o+g)*o,f=f<u?u-o:u,h=Math.ceil(h/o)*o),{start:f,stop:h===f?f+o:h,step:o}}var Ru=Math.random;function Pu(t){Ru=t}function Iu(t,e,n,r){if(!t.length)return[void 0,void 0];const i=Float64Array.from(Fu(t,r)),o=i.length,a=e;let s,u,c,l;for(c=0,l=Array(a);c<a;++c){for(s=0,u=0;u<o;++u)s+=i[~~(Ru()*o)];l[c]=s/o}return l.sort(bu),[Cu(l,n/2),Cu(l,1-n/2)]}function ju(t,e,n,r){r=r||(t=>t);const i=t.length,o=new Float64Array(i);let a,s=0,u=1,c=r(t[0]),l=c,f=c+e;for(;u<i;++u){if(a=r(t[u]),a>=f){for(l=(c+l)/2;s<u;++s)o[s]=l;f=a+e,c=a}l=a}for(l=(c+l)/2;s<u;++s)o[s]=l;return n?Lu(o,e+e/4):o}function Lu(t,e){const n=t.length;let r,i,o=0,a=1;while(t[o]===t[a])++a;while(a<n){r=a+1;while(t[a]===t[r])++r;if(t[a]-t[a-1]<e){i=a+(o+r-a-a>>1);while(i<a)t[i++]=t[a];while(i>a)t[i--]=t[o]}o=a,a=r}return t}function zu(t){return function(){return t=(1103515245*t+12345)%2147483647,t/2147483647}}function Uu(t,e){let n,r,i;null==e&&(e=t,t=0);const o={min(t){return arguments.length?(n=t||0,i=r-n,o):n},max(t){return arguments.length?(r=t||0,i=r-n,o):r},sample(){return n+Math.floor(i*Ru())},pdf(t){return t===Math.floor(t)&&t>=n&&t<r?1/i:0},cdf(t){const e=Math.floor(t);return e<n?0:e>=r?1:(e-n+1)/i},icdf(t){return t>=0&&t<=1?n-1+Math.floor(t*i):NaN}};return o.min(t).max(e)}const qu=Math.sqrt(2*Math.PI),Vu=Math.SQRT2;let Hu=NaN;function Wu(t,e){t=t||0,e=null==e?1:e;let n,r,i=0,o=0;if(Hu===Hu)i=Hu,Hu=NaN;else{do{i=2*Ru()-1,o=2*Ru()-1,n=i*i+o*o}while(0===n||n>1);r=Math.sqrt(-2*Math.log(n)/n),i*=r,Hu=o*r}return t+i*e}function Yu(t,e,n){n=null==n?1:n;const r=(t-(e||0))/n;return Math.exp(-.5*r*r)/(n*qu)}function Gu(t,e,n){e=e||0,n=null==n?1:n;const r=(t-e)/n,i=Math.abs(r);let o;if(i>37)o=0;else{const t=Math.exp(-i*i/2);let e;i<7.07106781186547?(e=.0352624965998911*i+.700383064443688,e=e*i+6.37396220353165,e=e*i+33.912866078383,e=e*i+112.079291497871,e=e*i+221.213596169931,e=e*i+220.206867912376,o=t*e,e=.0883883476483184*i+1.75566716318264,e=e*i+16.064177579207,e=e*i+86.7807322029461,e=e*i+296.564248779674,e=e*i+637.333633378831,e=e*i+793.826512519948,e=e*i+440.413735824752,o/=e):(e=i+.65,e=i+4/e,e=i+3/e,e=i+2/e,e=i+1/e,o=t/e/2.506628274631)}return r>0?1-o:o}function Ku(t,e,n){return t<0||t>1?NaN:(e||0)+(null==n?1:n)*Vu*Xu(2*t-1)}function Xu(t){let e,n=-Math.log((1-t)*(1+t));return n<6.25?(n-=3.125,e=-364441206401782e-35,e=e*n-16850591381820166e-35,e=128584807152564e-32+e*n,e=11157877678025181e-33+e*n,e=e*n-1333171662854621e-31,e=20972767875968562e-33+e*n,e=6637638134358324e-30+e*n,e=e*n-4054566272975207e-29,e=e*n-8151934197605472e-29,e=26335093153082323e-28+e*n,e=e*n-12975133253453532e-27,e=e*n-5415412054294628e-26,e=1.0512122733215323e-9+e*n,e=e*n-4.112633980346984e-9,e=e*n-2.9070369957882005e-8,e=4.2347877827932404e-7+e*n,e=e*n-13654692000834679e-22,e=e*n-13882523362786469e-21,e=.00018673420803405714+e*n,e=e*n-.000740702534166267,e=e*n-.006033670871430149,e=.24015818242558962+e*n,e=1.6536545626831027+e*n):n<16?(n=Math.sqrt(n)-3.25,e=2.2137376921775787e-9,e=9.075656193888539e-8+e*n,e=e*n-2.7517406297064545e-7,e=1.8239629214389228e-8+e*n,e=15027403968909828e-22+e*n,e=e*n-4013867526981546e-21,e=29234449089955446e-22+e*n,e=12475304481671779e-21+e*n,e=e*n-47318229009055734e-21,e=6828485145957318e-20+e*n,e=24031110387097894e-21+e*n,e=e*n-.0003550375203628475,e=.0009532893797373805+e*n,e=e*n-.0016882755560235047,e=.002491442096107851+e*n,e=e*n-.003751208507569241,e=.005370914553590064+e*n,e=1.0052589676941592+e*n,e=3.0838856104922208+e*n):Number.isFinite(n)?(n=Math.sqrt(n)-5,e=-27109920616438573e-27,e=e*n-2.555641816996525e-10,e=1.5076572693500548e-9+e*n,e=e*n-3.789465440126737e-9,e=7.61570120807834e-9+e*n,e=e*n-1.496002662714924e-8,e=2.914795345090108e-8+e*n,e=e*n-6.771199775845234e-8,e=2.2900482228026655e-7+e*n,e=e*n-9.9298272942317e-7,e=4526062597223154e-21+e*n,e=e*n-1968177810553167e-20,e=7599527703001776e-20+e*n,e=e*n-.00021503011930044477,e=e*n-.00013871931833623122,e=1.0103004648645344+e*n,e=4.849906401408584+e*n):e=1/0,e*t}function Ju(t,e){let n,r;const i={mean(t){return arguments.length?(n=t||0,i):n},stdev(t){return arguments.length?(r=null==t?1:t,i):r},sample:()=>Wu(n,r),pdf:t=>Yu(t,n,r),cdf:t=>Gu(t,n,r),icdf:t=>Ku(t,n,r)};return i.mean(t).stdev(e)}function Zu(t,e){const n=Ju();let r=0;const i={data(n){return arguments.length?(t=n,r=n?n.length:0,i.bandwidth(e)):t},bandwidth(n){return arguments.length?(e=n,!e&&t&&(e=Nu(t)),i):e},sample(){return t[~~(Ru()*r)]+e*n.sample()},pdf(i){let o=0,a=0;for(;a<r;++a)o+=n.pdf((i-t[a])/e);return o/e/r},cdf(i){let o=0,a=0;for(;a<r;++a)o+=n.cdf((i-t[a])/e);return o/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(t)}function Qu(t,e){return t=t||0,e=null==e?1:e,Math.exp(t+Wu()*e)}function tc(t,e,n){if(t<=0)return 0;e=e||0,n=null==n?1:n;const r=(Math.log(t)-e)/n;return Math.exp(-.5*r*r)/(n*qu*t)}function ec(t,e,n){return Gu(Math.log(t),e,n)}function nc(t,e,n){return Math.exp(Ku(t,e,n))}function rc(t,e){let n,r;const i={mean(t){return arguments.length?(n=t||0,i):n},stdev(t){return arguments.length?(r=null==t?1:t,i):r},sample:()=>Qu(n,r),pdf:t=>tc(t,n,r),cdf:t=>ec(t,n,r),icdf:t=>nc(t,n,r)};return i.mean(t).stdev(e)}function ic(t,e){let n,r=0;function i(t){const e=[];let n,i=0;for(n=0;n<r;++n)i+=e[n]=null==t[n]?1:+t[n];for(n=0;n<r;++n)e[n]/=i;return e}const o={weights(t){return arguments.length?(n=i(e=t||[]),o):e},distributions(n){return arguments.length?(n?(r=n.length,t=n):(r=0,t=[]),o.weights(e)):t},sample(){const e=Ru();let i=t[r-1],o=n[0],a=0;for(;a<r-1;o+=n[++a])if(e<o){i=t[a];break}return i.sample()},pdf(e){let i=0,o=0;for(;o<r;++o)i+=n[o]*t[o].pdf(e);return i},cdf(e){let i=0,o=0;for(;o<r;++o)i+=n[o]*t[o].cdf(e);return i},icdf(){throw Error("Mixture icdf not supported.")}};return o.distributions(t).weights(e)}function oc(t,e){return null==e&&(e=null==t?1:t,t=0),t+(e-t)*Ru()}function ac(t,e,n){return null==n&&(n=null==e?1:e,e=0),t>=e&&t<=n?1/(n-e):0}function sc(t,e,n){return null==n&&(n=null==e?1:e,e=0),t<e?0:t>n?1:(t-e)/(n-e)}function uc(t,e,n){return null==n&&(n=null==e?1:e,e=0),t>=0&&t<=1?e+t*(n-e):NaN}function cc(t,e){let n,r;const i={min(t){return arguments.length?(n=t||0,i):n},max(t){return arguments.length?(r=null==t?1:t,i):r},sample:()=>oc(n,r),pdf:t=>ac(t,n,r),cdf:t=>sc(t,n,r),icdf:t=>uc(t,n,r)};return null==e&&(e=null==t?1:t,t=0),i.min(t).max(e)}function lc(t,e,n,r){const i=r-t*t,o=Math.abs(i)<1e-24?0:(n-t*e)/i,a=e-o*t;return[a,o]}function fc(t,e,n,r){t=t.filter((t=>{let r=e(t),i=n(t);return null!=r&&(r=+r)>=r&&null!=i&&(i=+i)>=i})),r&&t.sort(((t,n)=>e(t)-e(n)));const i=t.length,o=new Float64Array(i),a=new Float64Array(i);let s,u,c,l=0,f=0,h=0;for(c of t)o[l]=s=+e(c),a[l]=u=+n(c),++l,f+=(s-f)/l,h+=(u-h)/l;for(l=0;l<i;++l)o[l]-=f,a[l]-=h;return[o,a,f,h]}function hc(t,e,n,r){let i,o,a=-1;for(const s of t)i=e(s),o=n(s),null!=i&&(i=+i)>=i&&null!=o&&(o=+o)>=o&&r(i,o,++a)}function dc(t,e,n,r,i){let o=0,a=0;return hc(t,e,n,((t,e)=>{const n=e-i(t),s=e-r;o+=n*n,a+=s*s})),1-o/a}function pc(t,e,n){let r=0,i=0,o=0,a=0,s=0;hc(t,e,n,((t,e)=>{++s,r+=(t-r)/s,i+=(e-i)/s,o+=(t*e-o)/s,a+=(t*t-a)/s}));const u=lc(r,i,o,a),c=t=>u[0]+u[1]*t;return{coef:u,predict:c,rSquared:dc(t,e,n,i,c)}}function gc(t,e,n){let r=0,i=0,o=0,a=0,s=0;hc(t,e,n,((t,e)=>{++s,t=Math.log(t),r+=(t-r)/s,i+=(e-i)/s,o+=(t*e-o)/s,a+=(t*t-a)/s}));const u=lc(r,i,o,a),c=t=>u[0]+u[1]*Math.log(t);return{coef:u,predict:c,rSquared:dc(t,e,n,i,c)}}function mc(t,e,n){const[r,i,o,a]=fc(t,e,n);let s,u,c,l=0,f=0,h=0,d=0,p=0;hc(t,e,n,((t,e)=>{s=r[p++],u=Math.log(e),c=s*e,l+=(e*u-l)/p,f+=(c-f)/p,h+=(c*u-h)/p,d+=(s*c-d)/p}));const[g,m]=lc(f/a,l/a,h/a,d/a),v=t=>Math.exp(g+m*(t-o));return{coef:[Math.exp(g-m*o),m],predict:v,rSquared:dc(t,e,n,a,v)}}function vc(t,e,n){let r=0,i=0,o=0,a=0,s=0,u=0;hc(t,e,n,((t,e)=>{const n=Math.log(t),c=Math.log(e);++u,r+=(n-r)/u,i+=(c-i)/u,o+=(n*c-o)/u,a+=(n*n-a)/u,s+=(e-s)/u}));const c=lc(r,i,o,a),l=t=>c[0]*Math.pow(t,c[1]);return c[0]=Math.exp(c[0]),{coef:c,predict:l,rSquared:dc(t,e,n,s,l)}}function yc(t,e,n){const[r,i,o,a]=fc(t,e,n),s=r.length;let u,c,l,f,h=0,d=0,p=0,g=0,m=0;for(u=0;u<s;)c=r[u],l=i[u++],f=c*c,h+=(f-h)/u,d+=(f*c-d)/u,p+=(f*f-p)/u,g+=(c*l-g)/u,m+=(f*l-m)/u;const v=p-h*h,y=h*v-d*d,b=(m*h-g*d)/y,w=(g*v-m*d)/y,x=-b*h,_=t=>(t-=o,b*t*t+w*t+x+a);return{coef:[x-w*o+b*o*o+a,w-2*b*o,b],predict:_,rSquared:dc(t,e,n,a,_)}}function bc(t,e,n,r){if(1===r)return pc(t,e,n);if(2===r)return yc(t,e,n);const[i,o,a,s]=fc(t,e,n),u=i.length,c=[],l=[],f=r+1;let h,d,p,g,m;for(h=0;h<f;++h){for(p=0,g=0;p<u;++p)g+=Math.pow(i[p],h)*o[p];for(c.push(g),m=new Float64Array(f),d=0;d<f;++d){for(p=0,g=0;p<u;++p)g+=Math.pow(i[p],h+d);m[d]=g}l.push(m)}l.push(c);const v=xc(l),y=t=>{t-=a;let e=s+v[0]+v[1]*t+v[2]*t*t;for(h=3;h<f;++h)e+=v[h]*Math.pow(t,h);return e};return{coef:wc(f,v,-a,s),predict:y,rSquared:dc(t,e,n,s,y)}}function wc(t,e,n,r){const i=Array(t);let o,a,s,u;for(o=0;o<t;++o)i[o]=0;for(o=t-1;o>=0;--o)for(s=e[o],u=1,i[o]+=s,a=1;a<=o;++a)u*=(o+1-a)/a,i[o-a]+=s*Math.pow(n,a)*u;return i[0]+=r,i}function xc(t){const e=t.length-1,n=[];let r,i,o,a,s;for(r=0;r<e;++r){for(a=r,i=r+1;i<e;++i)Math.abs(t[r][i])>Math.abs(t[r][a])&&(a=i);for(o=r;o<e+1;++o)s=t[o][r],t[o][r]=t[o][a],t[o][a]=s;for(i=r+1;i<e;++i)for(o=e;o>=r;o--)t[o][i]-=t[o][r]*t[r][i]/t[r][r]}for(i=e-1;i>=0;--i){for(s=0,o=i+1;o<e;++o)s+=t[o][i]*n[o];n[i]=(t[e][i]-s)/t[i][i]}return n}const _c=2,kc=1e-12;function Ac(t,e,n,r){const[i,o,a,s]=fc(t,e,n,!0),u=i.length,c=Math.max(2,~~(r*u)),l=new Float64Array(u),f=new Float64Array(u),h=new Float64Array(u).fill(1);for(let d=-1;++d<=_c;){const t=[0,c-1];for(let n=0;n<u;++n){const e=i[n],r=t[0],a=t[1],s=e-i[r]>i[a]-e?r:a;let u=0,c=0,d=0,p=0,g=0;const m=1/Math.abs(i[s]-e||1);for(let t=r;t<=a;++t){const n=i[t],r=o[t],a=Sc(Math.abs(e-n)*m)*h[t],s=n*a;u+=a,c+=s,d+=r*a,p+=r*s,g+=n*s}const[v,y]=lc(c/u,d/u,p/u,g/u);l[n]=v+y*e,f[n]=Math.abs(o[n]-l[n]),Cc(i,n+1,t)}if(d===_c)break;const e=Tu(f);if(Math.abs(e)<kc)break;for(let n,r,i=0;i<u;++i)n=f[i]/(6*e),h[i]=n>=1?kc:(r=1-n*n)*r}return Ec(i,l,a,s)}function Sc(t){return(t=1-t*t*t)*t*t}function Cc(t,e,n){const r=t[e];let i=n[0],o=n[1]+1;if(!(o>=t.length))while(e>i&&t[o]-r<=r-t[i])n[0]=++i,n[1]=o,++o}function Ec(t,e,n,r){const i=t.length,o=[];let a,s=0,u=0,c=[];for(;s<i;++s)a=t[s]+n,c[0]===a?c[1]+=(e[s]-c[1])/++u:(u=0,c[1]+=r,c=[a,e[s]],o.push(c));return c[1]+=r,o}const Dc=.5*Math.PI/180;function Mc(t,e,n,r){n=n||25,r=Math.max(n,r||200);const i=e=>[e,t(e)],o=e[0],a=e[1],s=a-o,u=s/r,c=[i(o)],l=[];if(n===r){for(let t=1;t<r;++t)c.push(i(o+t/n*s));return c.push(i(a)),c}l.push(i(a));for(let g=n;--g>0;)l.push(i(o+g/n*s));let f=c[0],h=l[l.length-1];const d=1/s,p=Tc(f[1],l);while(h){const t=i((f[0]+h[0])/2),e=t[0]-f[0]>=u;e&&Fc(f,t,h,d,p)>Dc?l.push(t):(f=h,c.push(h),l.pop()),h=l[l.length-1]}return c}function Tc(t,e){let n=t,r=t;const i=e.length;for(let o=0;o<i;++o){const t=e[o][1];t<n&&(n=t),t>r&&(r=t)}return 1/(r-n)}function Fc(t,e,n,r,i){const o=Math.atan2(i*(n[1]-t[1]),r*(n[0]-t[0])),a=Math.atan2(i*(e[1]-t[1]),r*(e[0]-t[0]));return Math.abs(o-a)}function Oc(t,e){let n=0,r=0;if(void 0===e)for(let i of t)null!=i&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function $c(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);while(++r<i)o[r]=t+r*n;return o}function Nc(t){let e=t,n=t;function r(t,e,r,i){null==r&&(r=0),null==i&&(i=t.length);while(r<i){const o=r+i>>>1;n(t[o],e)<0?r=o+1:i=o}return r}function i(t,e,r,i){null==r&&(r=0),null==i&&(i=t.length);while(r<i){const o=r+i>>>1;n(t[o],e)>0?i=o:r=o+1}return r}function o(t,n,i,o){null==i&&(i=0),null==o&&(o=t.length);const a=r(t,n,i,o-1);return a>i&&e(t[a-1],n)>-e(t[a],n)?a-1:a}return 1===t.length&&(e=(e,n)=>t(e)-n,n=Bc(t)),{left:r,center:o,right:i}}function Bc(t){return(e,n)=>bu(t(e),n)}var Rc=new Date,Pc=new Date;function Ic(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return Ic((function(e){if(e>=e)while(t(e),!n(e))e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)while(++r<=0)while(e(t,-1),!n(t));else while(--r>=0)while(e(t,1),!n(t));}))},n&&(i.count=function(e,r){return Rc.setTime(+e),Pc.setTime(+r),t(Rc),t(Pc),Math.floor(n(Rc,Pc))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t===0}:function(e){return i.count(0,e)%t===0}):i:null}),i}const jc=1e3,Lc=60*jc,zc=60*Lc,Uc=24*zc,qc=7*Uc,Vc=30*Uc,Hc=365*Uc;var Wc=Ic((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Lc)/Uc),(t=>t.getDate()-1)),Yc=Wc;Wc.range;function Gc(t){return Ic((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Lc)/qc}))}var Kc=Gc(0),Xc=Gc(1),Jc=Gc(2),Zc=Gc(3),Qc=Gc(4),tl=Gc(5),el=Gc(6),nl=(Kc.range,Xc.range,Jc.range,Zc.range,Qc.range,tl.range,el.range,Ic((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/Uc}),(function(t){return t.getUTCDate()-1}))),rl=nl;nl.range;function il(t){return Ic((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/qc}))}var ol=il(0),al=il(1),sl=il(2),ul=il(3),cl=il(4),ll=il(5),fl=il(6),hl=(ol.range,al.range,sl.range,ul.range,cl.range,ll.range,fl.range,Ic((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()})));hl.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ic((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var dl=hl,pl=(hl.range,Ic((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}))),gl=pl,ml=(pl.range,Ic((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*jc-t.getMinutes()*Lc)}),(function(t,e){t.setTime(+t+e*zc)}),(function(t,e){return(e-t)/zc}),(function(t){return t.getHours()}))),vl=ml,yl=(ml.range,Ic((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*jc)}),(function(t,e){t.setTime(+t+e*Lc)}),(function(t,e){return(e-t)/Lc}),(function(t){return t.getMinutes()}))),bl=yl,wl=(yl.range,Ic((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*jc)}),(function(t,e){return(e-t)/jc}),(function(t){return t.getUTCSeconds()}))),xl=wl,_l=(wl.range,Ic((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t})));_l.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Ic((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):_l:null};var kl=_l,Al=(_l.range,Ic((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));Al.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ic((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var Sl=Al,Cl=(Al.range,Ic((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}))),El=Cl,Dl=(Cl.range,Ic((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*zc)}),(function(t,e){return(e-t)/zc}),(function(t){return t.getUTCHours()}))),Ml=Dl,Tl=(Dl.range,Ic((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*Lc)}),(function(t,e){return(e-t)/Lc}),(function(t){return t.getUTCMinutes()}))),Fl=Tl,Ol=(Tl.range,Math.sqrt(50)),$l=Math.sqrt(10),Nl=Math.sqrt(2);function Bl(t,e,n){var r,i,o,a,s=-1;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=Rl(t,e,n))||!isFinite(a))return[];if(a>0){let n=Math.round(t/a),r=Math.round(e/a);n*a<t&&++n,r*a>e&&--r,o=new Array(i=r-n+1);while(++s<i)o[s]=(n+s)*a}else{a=-a;let n=Math.round(t*a),r=Math.round(e*a);n/a<t&&++n,r/a>e&&--r,o=new Array(i=r-n+1);while(++s<i)o[s]=(n+s)/a}return r&&o.reverse(),o}function Rl(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Ol?10:o>=$l?5:o>=Nl?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Ol?10:o>=$l?5:o>=Nl?2:1)}function Pl(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Ol?i*=10:o>=$l?i*=5:o>=Nl&&(i*=2),e<t?-i:i}const Il="year",jl="quarter",Ll="month",zl="week",Ul="date",ql="day",Vl="dayofyear",Hl="hours",Wl="minutes",Yl="seconds",Gl="milliseconds",Kl=[Il,jl,Ll,zl,Ul,ql,Vl,Hl,Wl,Yl,Gl],Xl=Kl.reduce(((t,e,n)=>(t[e]=1+n,t)),{});function Jl(t){const e=Xt(t).slice(),n={};e.length||ct("Missing time unit."),e.forEach((t=>{fe(Xl,t)?n[t]=1:ct("Invalid time unit: ".concat(t,"."))}));const r=(n[zl]||n[ql]?1:0)+(n[jl]||n[Ll]||n[Ul]?1:0)+(n[Vl]?1:0);return r>1&&ct("Incompatible time units: ".concat(t)),e.sort(((t,e)=>Xl[t]-Xl[e])),e}const Zl={[Il]:"%Y ",[jl]:"Q%q ",[Ll]:"%b ",[Ul]:"%d ",[zl]:"W%U ",[ql]:"%a ",[Vl]:"%j ",[Hl]:"%H:00",[Wl]:"00:%M",[Yl]:":%S",[Gl]:".%L",["".concat(Il,"-").concat(Ll)]:"%Y-%m ",["".concat(Il,"-").concat(Ll,"-").concat(Ul)]:"%Y-%m-%d ",["".concat(Hl,"-").concat(Wl)]:"%H:%M"};function Ql(t,e){const n=se({},Zl,e),r=Jl(t),i=r.length;let o,a,s="",u=0;for(u=0;u<i;)for(o=r.length;o>u;--o)if(a=r.slice(u,o).join("-"),null!=n[a]){s+=n[a],u=o;break}return s.trim()}const tf=new Date;function ef(t){return tf.setFullYear(t),tf.setMonth(0),tf.setDate(1),tf.setHours(0,0,0,0),tf}function nf(t){return of(new Date(t))}function rf(t){return af(new Date(t))}function of(t){return Yc.count(ef(t.getFullYear())-1,t)}function af(t){return Kc.count(ef(t.getFullYear())-1,t)}function sf(t){return ef(t).getDay()}function uf(t,e,n,r,i,o,a){if(0<=t&&t<100){const s=new Date(-1,e,n,r,i,o,a);return s.setFullYear(t),s}return new Date(t,e,n,r,i,o,a)}function cf(t){return ff(new Date(t))}function lf(t){return hf(new Date(t))}function ff(t){const e=Date.UTC(t.getUTCFullYear(),0,1);return rl.count(e-1,t)}function hf(t){const e=Date.UTC(t.getUTCFullYear(),0,1);return ol.count(e-1,t)}function df(t){return tf.setTime(Date.UTC(t,0,1)),tf.getUTCDay()}function pf(t,e,n,r,i,o,a){if(0<=t&&t<100){const t=new Date(Date.UTC(-1,e,n,r,i,o,a));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(t,e,n,r,i,o,a))}function gf(t,e,n,r,i){const o=e||1,a=Ft(t),s=(t,e,i)=>(i=i||t,mf(n[i],r[i],t===a&&o,e)),u=new Date,c=Re(t),l=c[Il]?s(Il):oe(2012),f=c[Ll]?s(Ll):c[jl]?s(jl):pt,h=c[zl]&&c[ql]?s(ql,1,zl+ql):c[zl]?s(zl,1):c[ql]?s(ql,1):c[Ul]?s(Ul,1):c[Vl]?s(Vl,1):gt,d=c[Hl]?s(Hl):pt,p=c[Wl]?s(Wl):pt,g=c[Yl]?s(Yl):pt,m=c[Gl]?s(Gl):pt;return function(t){u.setTime(+t);const e=l(u);return i(e,f(u),h(u,e),d(u),p(u),g(u),m(u))}}function mf(t,e,n,r){const i=n<=1?t:r?(e,i)=>r+n*Math.floor((t(e,i)-r)/n):(e,r)=>n*Math.floor(t(e,r)/n);return e?(t,n)=>e(i(t,n),n):i}function vf(t,e,n){return e+7*t-(n+6)%7}const yf={[Il]:t=>t.getFullYear(),[jl]:t=>Math.floor(t.getMonth()/3),[Ll]:t=>t.getMonth(),[Ul]:t=>t.getDate(),[Hl]:t=>t.getHours(),[Wl]:t=>t.getMinutes(),[Yl]:t=>t.getSeconds(),[Gl]:t=>t.getMilliseconds(),[Vl]:t=>of(t),[zl]:t=>af(t),[zl+ql]:(t,e)=>vf(af(t),t.getDay(),sf(e)),[ql]:(t,e)=>vf(1,t.getDay(),sf(e))},bf={[jl]:t=>3*t,[zl]:(t,e)=>vf(t,0,sf(e))};function wf(t,e){return gf(t,e||1,yf,bf,uf)}const xf={[Il]:t=>t.getUTCFullYear(),[jl]:t=>Math.floor(t.getUTCMonth()/3),[Ll]:t=>t.getUTCMonth(),[Ul]:t=>t.getUTCDate(),[Hl]:t=>t.getUTCHours(),[Wl]:t=>t.getUTCMinutes(),[Yl]:t=>t.getUTCSeconds(),[Gl]:t=>t.getUTCMilliseconds(),[Vl]:t=>ff(t),[zl]:t=>hf(t),[ql]:(t,e)=>vf(1,t.getUTCDay(),df(e)),[zl+ql]:(t,e)=>vf(hf(t),t.getUTCDay(),df(e))},_f={[jl]:t=>3*t,[zl]:(t,e)=>vf(t,0,df(e))};function kf(t,e){return gf(t,e||1,xf,_f,pf)}const Af={[Il]:dl,[jl]:gl.every(3),[Ll]:gl,[zl]:Kc,[Ul]:Yc,[ql]:Yc,[Vl]:Yc,[Hl]:vl,[Wl]:bl,[Yl]:xl,[Gl]:kl},Sf={[Il]:Sl,[jl]:El.every(3),[Ll]:El,[zl]:ol,[Ul]:rl,[ql]:rl,[Vl]:rl,[Hl]:Ml,[Wl]:Fl,[Yl]:xl,[Gl]:kl};function Cf(t){return Af[t]}function Ef(t){return Sf[t]}function Df(t,e,n){return t?t.offset(e,n):void 0}function Mf(t,e,n){return Df(Cf(t),e,n)}function Tf(t,e,n){return Df(Ef(t),e,n)}function Ff(t,e,n,r){return t?t.range(e,n,r):void 0}function Of(t,e,n,r){return Ff(Cf(t),e,n,r)}function $f(t,e,n,r){return Ff(Ef(t),e,n,r)}const Nf=1e3,Bf=60*Nf,Rf=60*Bf,Pf=24*Rf,If=7*Pf,jf=30*Pf,Lf=365*Pf,zf=[Il,Ll,Ul,Hl,Wl,Yl,Gl],Uf=zf.slice(0,-1),qf=Uf.slice(0,-1),Vf=qf.slice(0,-1),Hf=Vf.slice(0,-1),Wf=[Il,zl],Yf=[Il,Ll],Gf=[Il],Kf=[[Uf,1,Nf],[Uf,5,5*Nf],[Uf,15,15*Nf],[Uf,30,30*Nf],[qf,1,Bf],[qf,5,5*Bf],[qf,15,15*Bf],[qf,30,30*Bf],[Vf,1,Rf],[Vf,3,3*Rf],[Vf,6,6*Rf],[Vf,12,12*Rf],[Hf,1,Pf],[Wf,1,If],[Yf,1,jf],[Yf,3,3*jf],[Gf,1,Lf]];function Xf(t){const e=t.extent,n=t.maxbins||40,r=Math.abs(Te(e))/n;let i,o,a=Nc((t=>t[2])).right(Kf,r);return a===Kf.length?(i=Gf,o=Pl(e[0]/Lf,e[1]/Lf,n)):a?(a=Kf[r/Kf[a-1][2]<Kf[a][2]/r?a-1:a],i=a[0],o=a[1]):(i=zf,o=Math.max(Pl(e[0],e[1],n),1)),{units:i,step:o}}function Jf(t){return e=>{const n=t.length;let r=1,i=String(t[0](e));for(;r<n;++r)i+="|"+t[r](e);return i}}function Zf(t){return t&&t.length?1===t.length?t[0]:Jf(t):function(){return""}}function Qf(t,e,n){return n||t+(e?"_"+e:"")}const th=()=>{},eh={init:th,add:th,rem:th,idx:0},nh={values:{init:t=>t.cell.store=!0,value:t=>t.cell.data.values(),idx:-1},count:{value:t=>t.cell.num},__count__:{value:t=>t.missing+t.valid},missing:{value:t=>t.missing},valid:{value:t=>t.valid},sum:{init:t=>t.sum=0,value:t=>t.sum,add:(t,e)=>t.sum+=+e,rem:(t,e)=>t.sum-=e},product:{init:t=>t.product=1,value:t=>t.valid?t.product:void 0,add:(t,e)=>t.product*=e,rem:(t,e)=>t.product/=e},mean:{init:t=>t.mean=0,value:t=>t.valid?t.mean:void 0,add:(t,e)=>(t.mean_d=e-t.mean,t.mean+=t.mean_d/t.valid),rem:(t,e)=>(t.mean_d=e-t.mean,t.mean-=t.valid?t.mean_d/t.valid:t.mean)},average:{value:t=>t.valid?t.mean:void 0,req:["mean"],idx:1},variance:{init:t=>t.dev=0,value:t=>t.valid>1?t.dev/(t.valid-1):void 0,add:(t,e)=>t.dev+=t.mean_d*(e-t.mean),rem:(t,e)=>t.dev-=t.mean_d*(e-t.mean),req:["mean"],idx:1},variancep:{value:t=>t.valid>1?t.dev/t.valid:void 0,req:["variance"],idx:2},stdev:{value:t=>t.valid>1?Math.sqrt(t.dev/(t.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:t=>t.valid>1?Math.sqrt(t.dev/t.valid):void 0,req:["variance"],idx:2},stderr:{value:t=>t.valid>1?Math.sqrt(t.dev/(t.valid*(t.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:t=>t.cell.data.distinct(t.get),req:["values"],idx:3},ci0:{value:t=>t.cell.data.ci0(t.get),req:["values"],idx:3},ci1:{value:t=>t.cell.data.ci1(t.get),req:["values"],idx:3},median:{value:t=>t.cell.data.q2(t.get),req:["values"],idx:3},q1:{value:t=>t.cell.data.q1(t.get),req:["values"],idx:3},q3:{value:t=>t.cell.data.q3(t.get),req:["values"],idx:3},min:{init:t=>t.min=void 0,value:t=>t.min=Number.isNaN(t.min)?t.cell.data.min(t.get):t.min,add:(t,e)=>{(e<t.min||void 0===t.min)&&(t.min=e)},rem:(t,e)=>{e<=t.min&&(t.min=NaN)},req:["values"],idx:4},max:{init:t=>t.max=void 0,value:t=>t.max=Number.isNaN(t.max)?t.cell.data.max(t.get):t.max,add:(t,e)=>{(e>t.max||void 0===t.max)&&(t.max=e)},rem:(t,e)=>{e>=t.max&&(t.max=NaN)},req:["values"],idx:4},argmin:{init:t=>t.argmin=void 0,value:t=>t.argmin||t.cell.data.argmin(t.get),add:(t,e,n)=>{e<t.min&&(t.argmin=n)},rem:(t,e)=>{e<=t.min&&(t.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:t=>t.argmax=void 0,value:t=>t.argmax||t.cell.data.argmax(t.get),add:(t,e,n)=>{e>t.max&&(t.argmax=n)},rem:(t,e)=>{e>=t.max&&(t.argmax=void 0)},req:["max","values"],idx:3}},rh=Object.keys(nh);function ih(t,e){return n=>se({name:t,out:n||t},eh,e)}function oh(t,e){return nh[t](e)}function ah(t,e){return t.idx-e.idx}function sh(t){const e={};t.forEach((t=>e[t.name]=t));const n=t=>{t.req&&t.req.forEach((t=>{e[t]||n(e[t]=nh[t]())}))};return t.forEach(n),Object.values(e).sort(ah)}function uh(){this.valid=0,this.missing=0,this._ops.forEach((t=>t.init(this)))}function ch(t,e){null!=t&&""!==t?t===t&&(++this.valid,this._ops.forEach((n=>n.add(this,t,e)))):++this.missing}function lh(t,e){null!=t&&""!==t?t===t&&(--this.valid,this._ops.forEach((n=>n.rem(this,t,e)))):--this.missing}function fh(t){return this._out.forEach((e=>t[e.out]=e.value(this))),t}function hh(t,e){const n=e||dt,r=sh(t),i=t.slice().sort(ah);function o(t){this._ops=r,this._out=i,this.cell=t,this.init()}return o.prototype.init=uh,o.prototype.add=ch,o.prototype.rem=lh,o.prototype.set=fh,o.prototype.get=n,o.fields=t.map((t=>t.out)),o}function dh(t){this._key=t?ft(t):ts,this.reset()}rh.forEach((t=>{nh[t]=ih(t,nh[t])}));const ph=dh.prototype;function gh(t){gu.call(this,null,t),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}ph.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},ph.add=function(t){this._add.push(t)},ph.rem=function(t){this._rem.push(t)},ph.values=function(){if(this._get=null,0===this._rem.length)return this._add;const t=this._add,e=this._rem,n=this._key,r=t.length,i=e.length,o=Array(r-i),a={};let s,u,c;for(s=0;s<i;++s)a[n(e[s])]=1;for(s=0,u=0;s<r;++s)a[n(c=t[s])]?a[n(c)]=0:o[u++]=c;return this._rem=[],this._add=o},ph.distinct=function(t){const e=this.values(),n={};let r,i=e.length,o=0;while(--i>=0)r=t(e[i])+"",fe(n,r)||(n[r]=1,++o);return o},ph.extent=function(t){if(this._get!==t||!this._ext){const e=this.values(),n=ce(e,t);this._ext=[e[n[0]],e[n[1]]],this._get=t}return this._ext},ph.argmin=function(t){return this.extent(t)[0]||{}},ph.argmax=function(t){return this.extent(t)[1]||{}},ph.min=function(t){const e=this.extent(t)[0];return null!=e?t(e):void 0},ph.max=function(t){const e=this.extent(t)[1];return null!=e?t(e):void 0},ph.quartile=function(t){return this._get===t&&this._q||(this._q=$u(this.values(),t),this._get=t),this._q},ph.q1=function(t){return this.quartile(t)[0]},ph.q2=function(t){return this.quartile(t)[1]},ph.q3=function(t){return this.quartile(t)[2]},ph.ci=function(t){return this._get===t&&this._ci||(this._ci=Iu(this.values(),1e3,.05,t),this._get=t),this._ci},ph.ci0=function(t){return this.ci(t)[0]},ph.ci1=function(t){return this.ci(t)[1]},gh.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:rh},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]},ge(gh,gu,{transform(t,e){const n=this,r=e.fork(e.NO_SOURCE|e.NO_FIELDS),i=t.modified();return n.stamp=r.stamp,n.value&&(i||e.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(t):{},e.visit(e.SOURCE,(t=>n.add(t)))):(n.value=n.value||n.init(t),e.visit(e.REM,(t=>n.rem(t))),e.visit(e.ADD,(t=>n.add(t)))),r.modifies(n._outputs),n._drop=!1!==t.drop,t.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),e.clean()&&n._drop&&r.clean(!0).runAfter((()=>this.clean())),n.changes(r)},cross(){const t=this,e=t.value,n=t._dnames,r=n.map((()=>({}))),i=n.length;function o(t){let e,o,a,s;for(e in t)for(a=t[e].tuple,o=0;o<i;++o)r[o][s=a[n[o]]]=s}function a(o,s,u){const c=n[u],l=r[u++];for(const n in l){const r=o?o+"|"+n:n;s[c]=l[n],u<i?a(r,s,u):e[r]||t.cell(r,s)}}o(t._prev),o(e),a("",{},0)},init(t){const e=this._inputs=[],n=this._outputs=[],r={};function i(t){const n=Xt(ot(t)),i=n.length;let o,a=0;for(;a<i;++a)r[o=n[a]]||(r[o]=1,e.push(o))}this._dims=Xt(t.groupby),this._dnames=this._dims.map((t=>{const e=it(t);return i(t),n.push(e),e})),this.cellkey=t.key?t.key:Zf(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const o=t.fields||[null],a=t.ops||["count"],s=t.as||[],u=o.length,c={};let l,f,h,d,p,g;for(u!==a.length&&ct("Unmatched number of fields and aggregate ops."),g=0;g<u;++g)l=o[g],f=a[g],null==l&&"count"!==f&&ct("Null aggregate field specified."),d=it(l),p=Qf(f,d,s[g]),n.push(p),"count"!==f?(h=c[d],h||(i(l),h=c[d]=[],h.field=l,this._measures.push(h)),"count"!==f&&(this._countOnly=!1),h.push(oh(f,p))):this._counts.push(p);return this._measures=this._measures.map((t=>hh(t,t.field))),{}},cellkey:Zf(),cell(t,e){let n=this.value[t];return n?0===n.num&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[t]=this.newcell(t,e),this._adds[this._alen++]=n),n},newcell(t,e){const n={key:t,num:0,agg:null,tuple:this.newtuple(e,this._prev&&this._prev[t]),stamp:this.stamp,store:!1};if(!this._countOnly){const t=this._measures,e=t.length;n.agg=Array(e);for(let r=0;r<e;++r)n.agg[r]=new t[r](n)}return n.store&&(n.data=new dh),n},newtuple(t,e){const n=this._dnames,r=this._dims,i=r.length,o={};for(let a=0;a<i;++a)o[n[a]]=r[a](t);return e?os(e.tuple,o):ns(o)},clean(){const t=this.value;for(const e in t)0===t[e].num&&delete t[e]},add(t){const e=this.cellkey(t),n=this.cell(e,t);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(t);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].add(r[i].get(t),t)},rem(t){const e=this.cellkey(t),n=this.cell(e,t);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(t);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].rem(r[i].get(t),t)},celltuple(t){const e=t.tuple,n=this._counts;t.store&&t.data.values();for(let r=0,i=n.length;r<i;++r)e[n[r]]=t.num;if(!this._countOnly){const n=t.agg;for(let t=0,r=n.length;t<r;++t)n[t].set(e)}return e},changes(t){const e=this._adds,n=this._mods,r=this._prev,i=this._drop,o=t.add,a=t.rem,s=t.mod;let u,c,l,f;if(r)for(c in r)u=r[c],i&&!u.num||a.push(u.tuple);for(l=0,f=this._alen;l<f;++l)o.push(this.celltuple(e[l])),e[l]=null;for(l=0,f=this._mlen;l<f;++l)u=n[l],(0===u.num&&i?a:s).push(this.celltuple(u)),n[l]=null;return this._alen=this._mlen=0,this._prev=null,t}});const mh=1e-14;function vh(t){gu.call(this,null,t)}function yh(t,e,n){const r=t;let i=e||[],o=n||[],a={},s=0;return{add:t=>o.push(t),remove:t=>a[r(t)]=++s,size:()=>i.length,data:(t,e)=>(s&&(i=i.filter((t=>!a[r(t)])),a={},s=0),e&&t&&i.sort(t),o.length&&(i=t?Ee(t,i,o.sort(t)):i.concat(o),o=[]),i)}}function bh(t){gu.call(this,[],t)}function wh(t){ms.call(this,null,xh,t)}function xh(t){return this.value&&!t.modified()?this.value:te(t.fields,t.orders)}function _h(t){gu.call(this,null,t)}function kh(t,e,n){switch(e){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase();break}return t.match(n)}function Ah(t){gu.call(this,null,t)}function Sh(t,e,n,r){for(var i,o,a=[],s={},u=t.length,c=0;c<u;++c)for(s[e]=o=t[c],i=0;i<u;++i)s[n]=t[i],r(s)&&(a.push(ns(s)),s={},s[e]=o);return a}vh.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]},ge(vh,gu,{transform(t,e){const n=!1!==t.interval,r=this._bins(t),i=r.start,o=r.step,a=t.as||["bin0","bin1"],s=a[0],u=a[1];let c;return t.modified()?(e=e.reflow(!0),c=e.SOURCE):c=e.modified(ot(t.field))?e.ADD_MOD:e.ADD,e.visit(c,n?t=>{const e=r(t);t[s]=e,t[u]=null==e?null:i+o*(1+(e-i)/o)}:t=>t[s]=r(t)),e.modifies(n?a:s)},_bins(t){if(this.value&&!t.modified())return this.value;const e=t.field,n=Bu(t),r=n.step;let i,o,a=n.start,s=a+Math.ceil((n.stop-a)/r)*r;null!=(i=t.anchor)&&(o=i-(a+r*Math.floor((i-a)/r)),a+=o,s+=o);const u=function(t){let n=Ot(e(t));return null==n?null:n<a?-1/0:n>s?1/0:(n=Math.max(a,Math.min(n,s-r)),a+r*Math.floor(mh+(n-a)/r))};return u.start=a,u.stop=n.stop,u.step=r,this.value=rt(u,ot(e),t.name||"bin_"+it(e))}}),bh.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},ge(bh,gu,{transform(t,e){const n=e.fork(e.ALL),r=yh(ts,this.value,n.materialize(n.ADD).add),i=t.sort,o=e.changed()||i&&(t.modified("sort")||e.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(o),this.value=n.source=r.data(as(i),o),e.source&&e.source.root&&(this.value.root=e.source.root),n}}),ge(wh,ms),_h.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]},ge(_h,gu,{transform(t,e){const n=e=>n=>{for(var r,i=kh(s(n),t.case,o)||[],u=0,c=i.length;u<c;++u)a.test(r=i[u])||e(r)},r=this._parameterCheck(t,e),i=this._counts,o=this._match,a=this._stop,s=t.field,u=t.as||["text","count"],c=n((t=>i[t]=1+(i[t]||0))),l=n((t=>i[t]-=1));return r?e.visit(e.SOURCE,c):(e.visit(e.ADD,c),e.visit(e.REM,l)),this._finish(e,u)},_parameterCheck(t,e){let n=!1;return!t.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(t.stopwords||"")+"$","i"),n=!0),!t.modified("pattern")&&this._match||(this._match=new RegExp(t.pattern||"[\\w']+","g"),n=!0),(t.modified("field")||e.modified(t.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(t,e){const n=this._counts,r=this._tuples||(this._tuples={}),i=e[0],o=e[1],a=t.fork(t.NO_SOURCE|t.NO_FIELDS);let s,u,c;for(s in n)u=r[s],c=n[s]||0,!u&&c?(r[s]=u=ns({}),u[i]=s,u[o]=c,a.add.push(u)):0===c?(u&&a.rem.push(u),n[s]=null,r[s]=null):u[o]!==c&&(u[o]=c,a.mod.push(u));return a.modifies(e)}}),Ah.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},ge(Ah,gu,{transform(t,e){const n=e.fork(e.NO_SOURCE),r=t.as||["a","b"],i=r[0],o=r[1],a=!this.value||e.changed(e.ADD_REM)||t.modified("as")||t.modified("filter");let s=this.value;return a?(s&&(n.rem=s),s=e.materialize(e.SOURCE).source,n.add=this.value=Sh(s,i,o,t.filter||mt)):n.mod=s,n.source=this.value,n.modifies(r)}});const Ch={kde:Zu,mixture:ic,normal:Ju,lognormal:rc,uniform:cc},Eh="distributions",Dh="function",Mh="field";function Th(t,e){const n=t[Dh];fe(Ch,n)||ct("Unknown distribution function: "+n);const r=Ch[n]();for(const i in t)i===Mh?r.data((t.from||e()).map(t[i])):i===Eh?r[i](t[i].map((t=>Th(t,e)))):typeof r[i]===Dh&&r[i](t[i]);return r}function Fh(t){gu.call(this,null,t)}const Oh=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],$h={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:Oh},{name:"weights",type:"number",array:!0}]};function Nh(t){return()=>t.materialize(t.SOURCE).source}function Bh(t,e){return t?t.map(((t,n)=>e[n]||it(t))):null}function Rh(t,e,n){const r=[],i=t=>t(u);let o,a,s,u,c,l;if(null==e)r.push(t.map(n));else for(o={},a=0,s=t.length;a<s;++a)u=t[a],c=e.map(i),l=o[c],l||(o[c]=l=[],l.dims=c,r.push(l)),l.push(n(u));return r}Fh.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:Oh.concat($h)},{name:"as",type:"string",array:!0,default:["value","density"]}]},ge(Fh,gu,{transform(t,e){const n=e.fork(e.NO_SOURCE|e.NO_FIELDS);if(!this.value||e.changed()||t.modified()){const r=Th(t.distribution,Nh(e)),i=t.steps||t.minsteps||25,o=t.steps||t.maxsteps||200;let a=t.method||"pdf";"pdf"!==a&&"cdf"!==a&&ct("Invalid density method: "+a),t.extent||r.data||ct("Missing density extent parameter."),a=r[a];const s=t.as||["value","density"],u=t.extent||ue(r.data()),c=Mc(a,u,i,o).map((t=>{const e={};return e[s[0]]=t[0],e[s[1]]=t[1],ns(e)}));this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n}});const Ph="bin";function Ih(t){gu.call(this,null,t)}Ih.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:Ph}]};const jh=(t,e)=>Te(ue(t,e))/30;function Lh(t){ms.call(this,null,zh,t),this.modified(!0)}function zh(t){const e=t.expr;return this.value&&!t.modified("expr")?this.value:rt((n=>e(n,t)),ot(e),it(e))}function Uh(t){gu.call(this,[void 0,void 0],t)}function qh(t,e){ms.call(this,t),this.parent=e,this.count=0}function Vh(t){gu.call(this,{},t),this._keys=de();const e=this._targets=[];e.active=0,e.forEach=t=>{for(let n=0,r=e.active;n<r;++n)t(e[n],n,e)}}function Hh(t){ms.call(this,null,Wh,t)}function Wh(t){return this.value&&!t.modified()?this.value:St(t.name)?Xt(t.name).map((t=>ft(t))):ft(t.name,t.as)}function Yh(t){gu.call(this,de(),t)}function Gh(t){gu.call(this,[],t)}function Kh(t){gu.call(this,[],t)}function Xh(t){gu.call(this,null,t)}function Jh(t){gu.call(this,[],t)}ge(Ih,gu,{transform(t,e){if(this.value&&!t.modified()&&!e.changed())return e;const n=e.materialize(e.SOURCE).source,r=Rh(e.source,t.groupby,dt),i=t.smooth||!1,o=t.field,a=t.step||jh(n,o),s=as(((t,e)=>o(t)-o(e))),u=t.as||Ph,c=r.length;let l,f=1/0,h=-1/0,d=0;for(;d<c;++d){const t=r[d].sort(s);l=-1;for(const e of ju(t,a,i,o))e<f&&(f=e),e>h&&(h=e),t[++l][u]=e}return this.value={start:f,stop:h,step:a},e.reflow(!0).modifies(u)}}),ge(Lh,ms),Uh.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},ge(Uh,gu,{transform(t,e){const n=this.value,r=t.field,i=e.changed()||e.modified(r.fields)||t.modified("field");let o=n[0],a=n[1];if((i||null==o)&&(o=1/0,a=-1/0),e.visit(i?e.SOURCE:e.ADD,(t=>{const e=Ot(r(t));null!=e&&(e<o&&(o=e),e>a&&(a=e))})),!Number.isFinite(o)||!Number.isFinite(a)){let t=it(r);t&&(t=` for field "${t}"`),e.dataflow.warn(`Infinite extent${t}: [${o}, ${a}]`),o=a=void 0}this.value=[o,a]}}),ge(qh,ms,{connect(t){return this.detachSubflow=t.detachSubflow,this.targets().add(t),t.source=this},add(t){this.count+=1,this.value.add.push(t)},rem(t){this.count-=1,this.value.rem.push(t)},mod(t){this.value.mod.push(t)},init(t){this.value.init(t,t.NO_SOURCE)},evaluate(){return this.value}}),ge(Vh,gu,{activate(t){this._targets[this._targets.active++]=t},subflow(t,e,n,r){const i=this.value;let o,a,s=fe(i,t)&&i[t];return s?s.value.stamp<n.stamp&&(s.init(n),this.activate(s)):(a=r||(a=this._group[t])&&a.tuple,o=n.dataflow,s=new qh(n.fork(n.NO_SOURCE),this),o.add(s).connect(e(o,t,a)),i[t]=s,this.activate(s)),s},clean(){const t=this.value;let e=0;for(const n in t)if(0===t[n].count){const r=t[n].detachSubflow;r&&r(),delete t[n],++e}if(e){const t=this._targets.filter((t=>t&&t.count>0));this.initTargets(t)}},initTargets(t){const e=this._targets,n=e.length,r=t?t.length:0;let i=0;for(;i<r;++i)e[i]=t[i];for(;i<n&&null!=e[i];++i)e[i]=null;e.active=r},transform(t,e){const n=e.dataflow,r=t.key,i=t.subflow,o=this._keys,a=t.modified("key"),s=t=>this.subflow(t,i,e);return this._group=t.group||{},this.initTargets(),e.visit(e.REM,(t=>{const e=ts(t),n=o.get(e);void 0!==n&&(o.delete(e),s(n).rem(t))})),e.visit(e.ADD,(t=>{const e=r(t);o.set(ts(t),e),s(e).add(t)})),a||e.modified(r.fields)?e.visit(e.MOD,(t=>{const e=ts(t),n=o.get(e),i=r(t);n===i?s(i).mod(t):(o.set(e,i),s(n).rem(t),s(i).add(t))})):e.changed(e.MOD)&&e.visit(e.MOD,(t=>{s(o.get(ts(t))).mod(t)})),a&&e.visit(e.REFLOW,(t=>{const e=ts(t),n=o.get(e),i=r(t);n!==i&&(o.set(e,i),s(n).rem(t),s(i).add(t))})),e.clean()?n.runAfter((()=>{this.clean(),o.clean()})):o.empty>n.cleanThreshold&&n.runAfter(o.clean),e}}),ge(Hh,ms),Yh.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},ge(Yh,gu,{transform(t,e){const n=e.dataflow,r=this.value,i=e.fork(),o=i.add,a=i.rem,s=i.mod,u=t.expr;let c=!0;function l(e){const n=ts(e),i=u(e,t),l=r.get(n);i&&l?(r.delete(n),o.push(e)):i||l?c&&i&&!l&&s.push(e):(r.set(n,1),a.push(e))}return e.visit(e.REM,(t=>{const e=ts(t);r.has(e)?r.delete(e):a.push(t)})),e.visit(e.ADD,(e=>{u(e,t)?o.push(e):r.set(ts(e),1)})),e.visit(e.MOD,l),t.modified()&&(c=!1,e.visit(e.REFLOW,l)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}}),Gh.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},ge(Gh,gu,{transform(t,e){const n=e.fork(e.NO_SOURCE),r=t.fields,i=Bh(r,t.as||[]),o=t.index||null,a=i.length;return n.rem=this.value,e.visit(e.SOURCE,(t=>{const e=r.map((e=>e(t))),s=e.reduce(((t,e)=>Math.max(t,e.length)),0);let u,c,l,f=0;for(;f<s;++f){for(c=rs(t),u=0;u<a;++u)c[i[u]]=null==(l=e[u][f])?null:l;o&&(c[o]=f),n.add.push(c)}})),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(i)}}),Kh.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},ge(Kh,gu,{transform(t,e){const n=e.fork(e.NO_SOURCE),r=t.fields,i=r.map(it),o=t.as||["key","value"],a=o[0],s=o[1],u=r.length;return n.rem=this.value,e.visit(e.SOURCE,(t=>{for(let e,o=0;o<u;++o)e=rs(t),e[a]=i[o],e[s]=r[o](t),n.add.push(e)})),this.value=n.source=n.add,n.modifies(o)}}),Xh.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},ge(Xh,gu,{transform(t,e){const n=t.expr,r=t.as,i=t.modified(),o=t.initonly?e.ADD:i?e.SOURCE:e.modified(n.fields)||e.modified(r)?e.ADD_MOD:e.ADD;return i&&(e=e.materialize().reflow(!0)),t.initonly||e.modifies(r),e.visit(o,(e=>e[r]=n(e,t)))}}),ge(Jh,gu,{transform(t,e){const n=e.fork(e.ALL),r=t.generator;let i,o,a,s=this.value,u=t.size-s.length;if(u>0){for(i=[];--u>=0;)i.push(a=ns(r(t))),s.push(a);n.add=n.add.length?n.materialize(n.ADD).add.concat(i):i}else o=s.slice(0,-u),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(o):o,s=s.slice(-u);return n.source=this.value=s,n}});const Zh={value:"value",median:Tu,mean:Oc,min:xu,max:wu},Qh=[];function td(t){gu.call(this,[],t)}function ed(t){var e,n=t.method||Zh.value;if(null!=Zh[n])return n===Zh.value?(e=void 0!==t.value?t.value:0,()=>e):Zh[n];ct("Unrecognized imputation method: "+n)}function nd(t){const e=t.field;return t=>t?e(t):NaN}function rd(t,e,n,r){var i,o,a,s,u,c,l,f,h=t=>t(f),d=[],p=r?r.slice():[],g={},m={};for(p.forEach(((t,e)=>g[t]=e+1)),s=0,l=t.length;s<l;++s)f=t[s],c=n(f),u=g[c]||(g[c]=p.push(c)),o=(i=e?e.map(h):Qh)+"",(a=m[o])||(a=m[o]=[],d.push(a),a.values=i),a[u-1]=f;return d.domain=p,d}function id(t){gh.call(this,t)}function od(t){gu.call(this,null,t)}function ad(t){ms.call(this,null,sd,t)}function sd(t){return this.value&&!t.modified()?this.value:ke(t.fields,t.flat)}function ud(t){gu.call(this,[],t),this._pending=null}function cd(t){return t.modified("async")&&!(t.modified("values")||t.modified("url")||t.modified("format"))}function ld(t,e,n){n.forEach(ns);const r=e.fork(e.NO_FIELDS&e.NO_SOURCE);return r.rem=t.value,t.value=r.source=r.add=n,t._pending=null,r.rem.length&&r.clean(!0),r}function fd(t){gu.call(this,{},t)}function hd(t){ms.call(this,null,dd,t)}function dd(t){if(this.value&&!t.modified())return this.value;const e=t.extents,n=e.length;let r,i,o=1/0,a=-1/0;for(r=0;r<n;++r)i=e[r],i[0]<o&&(o=i[0]),i[1]>a&&(a=i[1]);return[o,a]}function pd(t){ms.call(this,null,gd,t)}function gd(t){return this.value&&!t.modified()?this.value:t.values.reduce(((t,e)=>t.concat(e)),[])}function md(t){gu.call(this,null,t)}function vd(t){gh.call(this,t)}function yd(t,e){const n=t.field,r=t.value,i=("count"===t.op?"__count__":t.op)||"sum",o=ot(n).concat(ot(r)),a=wd(n,t.limit||0,e);return e.changed()&&t.set("__pivot__",null,null,!0),{key:t.key,groupby:t.groupby,ops:a.map((()=>i)),fields:a.map((t=>bd(t,n,r,o))),as:a.map((t=>t+"")),modified:t.modified.bind(t)}}function bd(t,e,n,r){return rt((r=>e(r)===t?n(r):NaN),r,t+"")}function wd(t,e,n){const r={},i=[];return n.visit(n.SOURCE,(e=>{const n=t(e);r[n]||(r[n]=1,i.push(n))})),i.sort(ee),e?i.slice(0,e):i}function xd(t){Vh.call(this,t)}function _d(t){gu.call(this,null,t)}function kd(t,e,n,r){for(let i=0,o=n.length;i<o;++i)e[r[i]]=n[i](t);return e}function Ad(t){gu.call(this,null,t)}function Sd(t){gu.call(this,null,t)}td.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},ge(td,gu,{transform(t,e){var n,r,i,o,a,s,u,c,l,f,h=e.fork(e.ALL),d=ed(t),p=nd(t),g=it(t.field),m=it(t.key),v=(t.groupby||[]).map(it),y=rd(e.source,t.groupby,t.key,t.keyvals),b=[],w=this.value,x=y.domain.length;for(a=0,c=y.length;a<c;++a)for(n=y[a],i=n.values,r=NaN,u=0;u<x;++u)if(null==n[u]){for(o=y.domain[u],f={_impute:!0},s=0,l=i.length;s<l;++s)f[v[s]]=i[s];f[m]=o,f[g]=Number.isNaN(r)?r=d(n,p):r,b.push(ns(f))}return b.length&&(h.add=h.materialize(h.ADD).add.concat(b)),w.length&&(h.rem=h.materialize(h.REM).rem.concat(w)),this.value=b,h}}),id.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:rh},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]},ge(id,gh,{transform(t,e){const n=this,r=t.modified();let i;return n.value&&(r||e.modified(n._inputs,!0))?(i=n.value=r?n.init(t):{},e.visit(e.SOURCE,(t=>n.add(t)))):(i=n.value=n.value||this.init(t),e.visit(e.REM,(t=>n.rem(t))),e.visit(e.ADD,(t=>n.add(t)))),n.changes(),e.visit(e.SOURCE,(t=>{se(t,i[n.cellkey(t)].tuple)})),e.reflow(r).modifies(this._outputs)},changes(){const t=this._adds,e=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(t[n]),t[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(e[n]),e[n]=null;this._alen=this._mlen=0}}),od.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},ge(od,gu,{transform(t,e){const n=e.fork(e.NO_SOURCE|e.NO_FIELDS);if(!this.value||e.changed()||t.modified()){const r=e.materialize(e.SOURCE).source,i=Rh(r,t.groupby,t.field),o=(t.groupby||[]).map(it),a=t.bandwidth,s=t.cumulative?"cdf":"pdf",u=t.as||["value","density"],c=[];let l=t.extent,f=t.steps||t.minsteps||25,h=t.steps||t.maxsteps||200;"pdf"!==s&&"cdf"!==s&&ct("Invalid density method: "+s),"shared"===t.resolve&&(l||(l=ue(r,t.field)),f=h=t.steps||h),i.forEach((e=>{const n=Zu(e,a)[s],r=t.counts?e.length:1,i=l||ue(e);Mc(n,i,f,h).forEach((t=>{const n={};for(let r=0;r<o.length;++r)n[o[r]]=e.dims[r];n[u[0]]=t[0],n[u[1]]=t[1]*r,c.push(ns(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n}}),ge(ad,ms),ge(ud,gu,{transform(t,e){const n=e.dataflow;if(this._pending)return ld(this,e,this._pending);if(cd(t))return e.StopPropagation;if(t.values)return ld(this,e,n.parse(t.values,t.format));if(t.async){const e=n.request(t.url,t.format).then((t=>(this._pending=Xt(t.data),t=>t.touch(this))));return{async:e}}return n.request(t.url,t.format).then((t=>ld(this,e,Xt(t.data))))}}),fd.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},ge(fd,gu,{transform(t,e){const n=t.fields,r=t.index,i=t.values,o=null==t.default?null:t.default,a=t.modified(),s=n.length;let u,c,l,f=a?e.SOURCE:e.ADD,h=e,d=t.as;return i?(c=i.length,s>1&&!d&&ct('Multi-field lookup requires explicit "as" parameter.'),d&&d.length!==s*c&&ct('The "as" parameter has too few output field names.'),d=d||i.map(it),u=function(t){for(var e,a,u=0,l=0;u<s;++u)if(a=r.get(n[u](t)),null==a)for(e=0;e<c;++e,++l)t[d[l]]=o;else for(e=0;e<c;++e,++l)t[d[l]]=i[e](a)}):(d||ct("Missing output field names."),u=function(t){for(var e,i=0;i<s;++i)e=r.get(n[i](t)),t[d[i]]=null==e?o:e}),a?h=e.reflow(!0):(l=n.some((t=>e.modified(t.fields))),f|=l?e.MOD:0),e.visit(f,u),h.modifies(d)}}),ge(hd,ms),ge(pd,ms),ge(md,gu,{transform(t,e){return this.modified(t.modified()),this.value=t,e.fork(e.NO_SOURCE|e.NO_FIELDS)}}),vd.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:rh,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]},ge(vd,gh,{_transform:gh.prototype.transform,transform(t,e){return this._transform(yd(t,e),e)}}),ge(xd,Vh,{transform(t,e){const n=t.subflow,r=t.field,i=t=>this.subflow(ts(t),n,e,t);return(t.modified("field")||r&&e.modified(ot(r)))&&ct("PreFacet does not support field modification."),this.initTargets(),r?(e.visit(e.MOD,(t=>{const e=i(t);r(t).forEach((t=>e.mod(t)))})),e.visit(e.ADD,(t=>{const e=i(t);r(t).forEach((t=>e.add(ns(t))))})),e.visit(e.REM,(t=>{const e=i(t);r(t).forEach((t=>e.rem(t)))}))):(e.visit(e.MOD,(t=>i(t).mod(t))),e.visit(e.ADD,(t=>i(t).add(t))),e.visit(e.REM,(t=>i(t).rem(t)))),e.clean()&&e.runAfter((()=>this.clean())),e}}),_d.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},ge(_d,gu,{transform(t,e){const n=e.fork(e.NO_SOURCE),r=t.fields,i=Bh(t.fields,t.as||[]),o=r?(t,e)=>kd(t,e,r,i):is;let a;return this.value?a=this.value:(e=e.addAll(),a=this.value={}),e.visit(e.REM,(t=>{const e=ts(t);n.rem.push(a[e]),a[e]=null})),e.visit(e.ADD,(t=>{const e=o(t,ns({}));a[ts(t)]=e,n.add.push(e)})),e.visit(e.MOD,(t=>{n.mod.push(o(t,a[ts(t)]))})),n}}),ge(Ad,gu,{transform(t,e){return this.value=t.value,t.modified("value")?e.fork(e.NO_SOURCE|e.NO_FIELDS):e.StopPropagation}}),Sd.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const Cd=1e-14;function Ed(t){gu.call(this,null,t)}function Dd(t){gu.call(this,[],t),this.count=0}function Md(t){gu.call(this,null,t)}function Td(t){gu.call(this,null,t),this.modified(!0)}function Fd(t){gu.call(this,null,t)}ge(Sd,gu,{transform(t,e){const n=e.fork(e.NO_SOURCE|e.NO_FIELDS),r=t.as||["prob","value"];if(this.value&&!t.modified()&&!e.changed())return n.source=this.value,n;const i=e.materialize(e.SOURCE).source,o=Rh(i,t.groupby,t.field),a=(t.groupby||[]).map(it),s=[],u=t.step||.01,c=t.probs||$c(u/2,1-Cd,u),l=c.length;return o.forEach((t=>{const e=Ou(t,c);for(let n=0;n<l;++n){const i={};for(let e=0;e<a.length;++e)i[a[e]]=t.dims[e];i[r[0]]=c[n],i[r[1]]=e[n],s.push(ns(i))}})),this.value&&(n.rem=this.value),this.value=n.add=n.source=s,n}}),ge(Ed,gu,{transform(t,e){let n,r;return this.value?r=this.value:(n=e=e.addAll(),r=this.value={}),t.derive&&(n=e.fork(e.NO_SOURCE),e.visit(e.REM,(t=>{const e=ts(t);n.rem.push(r[e]),r[e]=null})),e.visit(e.ADD,(t=>{const e=rs(t);r[ts(t)]=e,n.add.push(e)})),e.visit(e.MOD,(t=>{const e=r[ts(t)];for(const r in t)e[r]=t[r],n.modifies(r);n.mod.push(e)}))),n}}),Dd.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},ge(Dd,gu,{transform(t,e){const n=e.fork(e.NO_SOURCE),r=t.modified("size"),i=t.size,o=this.value.reduce(((t,e)=>(t[ts(e)]=1,t)),{});let a=this.value,s=this.count,u=0;function c(t){let e,r;a.length<i?a.push(t):(r=~~((s+1)*Ru()),r<a.length&&r>=u&&(e=a[r],o[ts(e)]&&n.rem.push(e),a[r]=t)),++s}if(e.rem.length&&(e.visit(e.REM,(t=>{const e=ts(t);o[e]&&(o[e]=-1,n.rem.push(t)),--s})),a=a.filter((t=>-1!==o[ts(t)]))),(e.rem.length||r)&&a.length<i&&e.source&&(u=s=a.length,e.visit(e.SOURCE,(t=>{o[ts(t)]||c(t)})),u=-1),r&&a.length>i){const t=a.length-i;for(let e=0;e<t;++e)o[ts(a[e])]=-1,n.rem.push(a[e]);a=a.slice(t)}return e.mod.length&&e.visit(e.MOD,(t=>{o[ts(t)]&&n.mod.push(t)})),e.add.length&&e.visit(e.ADD,c),(e.add.length||u<0)&&(n.add=a.filter((t=>!o[ts(t)]))),this.count=s,this.value=n.source=a,n}}),Md.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},ge(Md,gu,{transform(t,e){if(this.value&&!t.modified())return;const n=e.materialize().fork(e.MOD),r=t.as||"data";return n.rem=this.value?e.rem.concat(this.value):e.rem,this.value=$c(t.start,t.stop,t.step||1).map((t=>{const e={};return e[r]=t,ns(e)})),n.add=e.add.concat(this.value),n}}),ge(Td,gu,{transform(t,e){return this.value=e.source,e.changed()?e.fork(e.NO_SOURCE|e.NO_FIELDS):e.StopPropagation}});const Od=["unit0","unit1"];function $d(t){gu.call(this,de(),t)}function Nd(t){gu.call(this,null,t)}function Bd(t,e,n,r){const i=Rd[t](e,n);return{init:i.init||pt,update:function(t,e){e[r]=i.next(t)}}}Fd.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:Kl,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:Od}]},ge(Fd,gu,{transform(t,e){const n=t.field,r=!1!==t.interval,i="utc"===t.timezone,o=this._floor(t,e),a=(i?Ef:Cf)(o.unit).offset,s=t.as||Od,u=s[0],c=s[1],l=o.step;let f=o.start||1/0,h=o.stop||-1/0,d=e.ADD;return(t.modified()||e.modified(ot(n)))&&(e=e.reflow(!0),d=e.SOURCE,f=1/0,h=-1/0),e.visit(d,(t=>{const e=n(t);let i,s;null==e?(t[u]=null,r&&(t[c]=null)):(t[u]=i=s=o(e),r&&(t[c]=s=a(i,l)),i<f&&(f=i),s>h&&(h=s))})),o.start=f,o.stop=h,e.modifies(r?s:u)},_floor(t,e){const n="utc"===t.timezone,{units:r,step:i}=t.units?{units:t.units,step:t.step||1}:Xf({extent:t.extent||ue(e.materialize(e.SOURCE).source,t.field),maxbins:t.maxbins}),o=Jl(r),a=this.value||{},s=(n?kf:wf)(o,i);return s.unit=Ft(o),s.units=o,s.step=i,s.start=a.start,s.stop=a.stop,this.value=s}}),ge($d,gu,{transform(t,e){const n=e.dataflow,r=t.field,i=this.value,o=t=>i.set(r(t),t);let a=!0;return t.modified("field")||e.modified(r.fields)?(i.clear(),e.visit(e.SOURCE,o)):e.changed()?(e.visit(e.REM,(t=>i.delete(r(t)))),e.visit(e.ADD,o)):a=!1,this.modified(a),i.empty>n.cleanThreshold&&n.runAfter(i.clean),e.fork()}}),ge(Nd,gu,{transform(t,e){const n=!this.value||t.modified("field")||t.modified("sort")||e.changed()||t.sort&&e.modified(t.sort.fields);n&&(this.value=(t.sort?e.source.slice().sort(as(t.sort)):e.source).map(t.field))}});const Rd={row_number:function(){return{next:t=>t.index+1}},rank:function(){let t;return{init:()=>t=1,next:e=>{const n=e.index,r=e.data;return n&&e.compare(r[n-1],r[n])?t=n+1:t}}},dense_rank:function(){let t;return{init:()=>t=1,next:e=>{const n=e.index,r=e.data;return n&&e.compare(r[n-1],r[n])?++t:t}}},percent_rank:function(){const t=Rd.rank(),e=t.next;return{init:t.init,next:t=>(e(t)-1)/(t.data.length-1)}},cume_dist:function(){let t;return{init:()=>t=0,next:e=>{const n=e.data,r=e.compare;let i=e.index;if(t<i){while(i+1<n.length&&!r(n[i],n[i+1]))++i;t=i}return(1+t)/n.length}}},ntile:function(t,e){e=+e,e>0||ct("ntile num must be greater than zero.");const n=Rd.cume_dist(),r=n.next;return{init:n.init,next:t=>Math.ceil(e*r(t))}},lag:function(t,e){return e=+e||1,{next:n=>{const r=n.index-e;return r>=0?t(n.data[r]):null}}},lead:function(t,e){return e=+e||1,{next:n=>{const r=n.index+e,i=n.data;return r<i.length?t(i[r]):null}}},first_value:function(t){return{next:e=>t(e.data[e.i0])}},last_value:function(t){return{next:e=>t(e.data[e.i1-1])}},nth_value:function(t,e){return e=+e,e>0||ct("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(e-1);return r<n.i1?t(n.data[r]):null}}},prev_value:function(t){let e;return{init:()=>e=null,next:n=>{const r=t(n.data[n.index]);return null!=r?e=r:e}}},next_value:function(t){let e,n;return{init:()=>(e=null,n=-1),next:r=>{const i=r.data;return r.index<=n?e:(n=Pd(t,i,r.index))<0?(n=i.length,e=null):e=t(i[n])}}}};function Pd(t,e,n){for(let r=e.length;n<r;++n){const r=t(e[n]);if(null!=r)return n}return-1}const Id=Object.keys(Rd);function jd(t){const e=Xt(t.ops),n=Xt(t.fields),r=Xt(t.params),i=Xt(t.as),o=this.outputs=[],a=this.windows=[],s={},u={},c=[],l=[];let f=!0;function h(t){Xt(ot(t)).forEach((t=>s[t]=1))}h(t.sort),e.forEach(((t,e)=>{const s=n[e],d=it(s),p=Qf(t,d,i[e]);if(h(s),o.push(p),fe(Rd,t))a.push(Bd(t,n[e],r[e],p));else{if(null==s&&"count"!==t&&ct("Null aggregate field specified."),"count"===t)return void c.push(p);f=!1;let e=u[d];e||(e=u[d]=[],e.field=s,l.push(e)),e.push(oh(t,p))}})),(c.length||l.length)&&(this.cell=zd(l,c,f)),this.inputs=Object.keys(s)}const Ld=jd.prototype;function zd(t,e,n){t=t.map((t=>hh(t,t.field)));const r={num:0,agg:null,store:!1,count:e};if(!n)for(var i=t.length,o=r.agg=Array(i),a=0;a<i;++a)o[a]=new t[a](r);if(r.store)var s=r.data=new dh;return r.add=function(t){if(r.num+=1,!n){s&&s.add(t);for(let e=0;e<i;++e)o[e].add(o[e].get(t),t)}},r.rem=function(t){if(r.num-=1,!n){s&&s.rem(t);for(let e=0;e<i;++e)o[e].rem(o[e].get(t),t)}},r.set=function(t){let i,a;for(s&&s.values(),i=0,a=e.length;i<a;++i)t[e[i]]=r.num;if(!n)for(i=0,a=o.length;i<a;++i)o[i].set(t)},r.init=function(){r.num=0,s&&s.reset();for(let t=0;t<i;++t)o[t].init()},r}function Ud(t){gu.call(this,{},t),this._mlen=0,this._mods=[]}function qd(t,e,n,r){const i=r.sort,o=i&&!r.ignorePeers,a=r.frame||[null,0],s=t.data(n),u=s.length,c=o?Nc(i):null,l={i0:0,i1:0,p0:0,p1:0,index:0,data:s,compare:i||oe(-1)};e.init();for(let f=0;f<u;++f)Vd(l,a,f,u),o&&Hd(l,c),e.update(l,s[f])}function Vd(t,e,n,r){t.p0=t.i0,t.p1=t.i1,t.i0=null==e[0]?0:Math.max(0,n-Math.abs(e[0])),t.i1=null==e[1]?r:Math.min(r,n+Math.abs(e[1])+1),t.index=n}function Hd(t,e){const n=t.i0,r=t.i1-1,i=t.compare,o=t.data,a=o.length-1;n>0&&!i(o[n],o[n-1])&&(t.i0=e.left(o,o[n])),r<a&&!i(o[r],o[r+1])&&(t.i1=e.right(o,o[r]))}function Wd(t,e,n){return t.fields=e||[],t.fname=n,t}function Yd(t){return 1===t.length?Gd(t[0]):Kd(t)}Ld.init=function(){this.windows.forEach((t=>t.init())),this.cell&&this.cell.init()},Ld.update=function(t,e){const n=this.cell,r=this.windows,i=t.data,o=r&&r.length;let a;if(n){for(a=t.p0;a<t.i0;++a)n.rem(i[a]);for(a=t.p1;a<t.i1;++a)n.add(i[a]);n.set(e)}for(a=0;a<o;++a)r[a].update(t,e)},Ud.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Id.concat(rh)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]},ge(Ud,gu,{transform(t,e){this.stamp=e.stamp;const n=t.modified(),r=as(t.sort),i=Zf(t.groupby),o=t=>this.group(i(t));let a=this.state;a&&!n||(a=this.state=new jd(t)),n||e.modified(a.inputs)?(this.value={},e.visit(e.SOURCE,(t=>o(t).add(t)))):(e.visit(e.REM,(t=>o(t).remove(t))),e.visit(e.ADD,(t=>o(t).add(t))));for(let s=0,u=this._mlen;s<u;++s)qd(this._mods[s],a,r,t);return this._mlen=0,this._mods=[],e.reflow(n).modifies(a.outputs)},group(t){let e=this.value[t];return e||(e=this.value[t]=yh(ts),e.stamp=-1),e.stamp<this.stamp&&(e.stamp=this.stamp,this._mods[this._mlen++]=e),e}});const Gd=t=>function(e){return e[t]},Kd=t=>{const e=t.length;return function(n){for(let r=0;r<e;++r)n=n[t[r]];return n}};function Xd(t){throw Error(t)}function Jd(t){const e=[],n=t.length;let r,i,o,a=null,s=0,u="";function c(){e.push(u+t.substring(r,i)),u="",r=i+1}for(t+="",r=i=0;i<n;++i)if(o=t[i],"\\"===o)u+=t.substring(r,i++),r=i;else if(o===a)c(),a=null,s=-1;else{if(a)continue;r===s&&'"'===o||r===s&&"'"===o?(r=i+1,a=o):"."!==o||s?"["===o?(i>r&&c(),s=r=i+1):"]"===o&&(s||Xd("Access path missing open bracket: "+t),s>0&&c(),s=0,r=i+1):i>r?c():r=i+1}return s&&Xd("Access path missing closing bracket: "+t),a&&Xd("Access path missing closing quote: "+t),i>r&&(i++,c()),e}function Zd(t,e,n){const r=Jd(t);return t=1===r.length?r[0]:t,Wd((n&&n.get||Yd)(r),[t],e||t)}Zd("id");const Qd=Wd((t=>t),[],"identity"),tp=(Wd((()=>0),[],"zero"),Wd((()=>1),[],"one"),Wd((()=>!0),[],"true"));Wd((()=>!1),[],"false");var ep=Array.isArray;function np(t){return t===Object(t)}function rp(t){return t[t.length-1]}function ip(t){return null==t||""===t?null:+t}function op(t){return null!=t?ep(t)?t:[t]:[]}function ap(t){return"function"===typeof t}function sp(t){for(let e,n,r=1,i=arguments.length;r<i;++r)for(n in e=arguments[r],e)t[n]=e[n];return t}const up=Object.prototype.hasOwnProperty;function cp(t,e){return up.call(t,e)}function lp(t,e,n){const r=t.prototype=Object.create(e.prototype);return Object.defineProperty(r,"constructor",{value:t,writable:!0,enumerable:!0,configurable:!0}),sp(r,n)}function fp(t){return t&&ap(t[Symbol.iterator])}function hp(t){return"string"===typeof t}const dp=1e4;function pp(t){let e,n,r;t=+t||dp;const i=()=>{e={},n={},r=0},o=(i,o)=>(++r>t&&(n=e,e={},r=1),e[i]=o);return i(),{clear:i,has:t=>cp(e,t)||cp(n,t),get:t=>cp(e,t)?e[t]:cp(n,t)?o(t,n[t]):void 0,set:(t,n)=>cp(e,t)?e[t]=n:o(t,n)}}function gp(t){return ep(t)?"["+t.map(gp)+"]":np(t)||hp(t)?JSON.stringify(t).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):t}function mp(t){const e={},n=t.length;for(let r=0;r<n;++r)e[t[r]]=!0;return e}function vp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function yp(t){this._context=t}function bp(t){return new yp(t)}function wp(){}function xp(t){this._context=t}function _p(t){return new xp(t)}function kp(t){this._context=t}function Ap(t){return new kp(t)}function Sp(t,e){this._basis=new yp(t),this._beta=e}yp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:vp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:vp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},xp.prototype={areaStart:wp,areaEnd:wp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:vp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},kp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:vp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Sp.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0){var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;while(++u<=n)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*a),this._beta*e[u]+(1-this._beta)*(o+r*s))}this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Cp=function t(e){function n(t){return 1===e?new yp(t):new Sp(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function Ep(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Dp(t,e){this._context=t,this._k=(1-e)/6}Dp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ep(this,this._x1,this._y1);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Ep(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Mp=function t(e){function n(t){return new Dp(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Tp(t,e){this._context=t,this._k=(1-e)/6}Tp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ep(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Fp=function t(e){function n(t){return new Tp(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Op(t,e){this._context=t,this._k=(1-e)/6}Op.prototype={areaStart:wp,areaEnd:wp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ep(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var $p=function t(e){function n(t){return new Op(t,e)}return n.tension=function(e){return t(+e)},n}(0);const Np=Math.abs,Bp=Math.atan2,Rp=Math.cos,Pp=Math.max,Ip=Math.min,jp=Math.sin,Lp=Math.sqrt,zp=1e-12,Up=Math.PI,qp=Up/2,Vp=2*Up;function Hp(t){return t>1?0:t<-1?Up:Math.acos(t)}function Wp(t){return t>=1?qp:t<=-1?-qp:Math.asin(t)}function Yp(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>zp){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>zp){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/l,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function Gp(t,e){this._context=t,this._alpha=e}Gp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Yp(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Kp=function t(e){function n(t){return e?new Gp(t,e):new Dp(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Xp(t,e){this._context=t,this._alpha=e}Xp.prototype={areaStart:wp,areaEnd:wp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Yp(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Jp=function t(e){function n(t){return e?new Xp(t,e):new Op(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Zp(t,e){this._context=t,this._alpha=e}Zp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Yp(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Qp=function t(e){function n(t){return e?new Zp(t,e):new Tp(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function tg(t){this._context=t}function eg(t){return new tg(t)}function ng(t){this._context=t}function rg(t){return new ng(t)}function ig(t){return t<0?-1:1}function og(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(ig(o)+ig(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function ag(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function sg(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function ug(t){this._context=t}function cg(t){this._context=new lg(t)}function lg(t){this._context=t}function fg(t){return new ug(t)}function hg(t){return new cg(t)}function dg(t){this._context=t}function pg(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function gg(t){return new dg(t)}function mg(t,e){this._context=t,this._t=e}function vg(t){return new mg(t,.5)}function yg(t){return new mg(t,0)}function bg(t){return new mg(t,1)}function wg(t){return function(){return t}}tg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}},ng.prototype={areaStart:wp,areaEnd:wp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},ug.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:sg(this,this._t0,ag(this,this._t0));break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,t!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,sg(this,ag(this,n=og(this,t,e)),n);break;default:sg(this,this._t0,n=og(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(cg.prototype=Object.create(ug.prototype)).point=function(t,e){ug.prototype.point.call(this,e,t)},lg.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},dg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=pg(t),i=pg(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},mg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}this._x=t,this._y=e}};const xg=Math.PI,_g=2*xg,kg=1e-6,Ag=_g-kg;function Sg(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Cg(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Sg;const n=10**e;return function(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}class Eg{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?Sg:Cg(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,r){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(t,e,n,r,i,o){this._append`C${+t},${+e},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(t,e,n,r,i){if(t=+t,e=+e,n=+n,r=+r,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,s=n-t,u=r-e,c=o-t,l=a-e,f=c*c+l*l;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(f>kg)if(Math.abs(l*s-u*c)>kg&&i){let h=n-o,d=r-a,p=s*s+u*u,g=h*h+d*d,m=Math.sqrt(p),v=Math.sqrt(f),y=i*Math.tan((xg-Math.acos((p+f-g)/(2*m*v)))/2),b=y/v,w=y/m;Math.abs(b-1)>kg&&this._append`L${t+b*c},${e+b*l}`,this._append`A${i},${i},0,0,${+(l*h>c*d)},${this._x1=t+w*s},${this._y1=e+w*u}`}else this._append`L${this._x1=t},${this._y1=e}`;else;}arc(t,e,n,r,i,o){if(t=+t,e=+e,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(r),s=n*Math.sin(r),u=t+a,c=e+s,l=1^o,f=o?r-i:i-r;null===this._x1?this._append`M${u},${c}`:(Math.abs(this._x1-u)>kg||Math.abs(this._y1-c)>kg)&&this._append`L${u},${c}`,n&&(f<0&&(f=f%_g+_g),f>Ag?this._append`A${n},${n},0,1,${l},${t-a},${e-s}A${n},${n},0,1,${l},${this._x1=u},${this._y1=c}`:f>kg&&this._append`A${n},${n},0,${+(f>=xg)},${l},${this._x1=t+n*Math.cos(i)},${this._y1=e+n*Math.sin(i)}`)}rect(t,e,n,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function Dg(){return new Eg}function Mg(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);e=t}return t},()=>new Eg(e)}function Tg(t){return t.innerRadius}function Fg(t){return t.outerRadius}function Og(t){return t.startAngle}function $g(t){return t.endAngle}function Ng(t){return t&&t.padAngle}function Bg(t,e,n,r,i,o,a,s){var u=n-t,c=r-e,l=a-i,f=s-o,h=f*u-l*c;if(!(h*h<zp))return h=(l*(e-o)-f*(t-i))/h,[t+h*u,e+h*c]}function Rg(t,e,n,r,i,o,a){var s=t-n,u=e-r,c=(a?o:-o)/Lp(s*s+u*u),l=c*u,f=-c*s,h=t+l,d=e+f,p=n+l,g=r+f,m=(h+p)/2,v=(d+g)/2,y=p-h,b=g-d,w=y*y+b*b,x=i-o,_=h*g-p*d,k=(b<0?-1:1)*Lp(Pp(0,x*x*w-_*_)),A=(_*b-y*k)/w,S=(-_*y-b*k)/w,C=(_*b+y*k)/w,E=(-_*y+b*k)/w,D=A-m,M=S-v,T=C-m,F=E-v;return D*D+M*M>T*T+F*F&&(A=C,S=E),{cx:A,cy:S,x01:-l,y01:-f,x11:A*(i/x-1),y11:S*(i/x-1)}}function Pg(){var t=Tg,e=Fg,n=wg(0),r=null,i=Og,o=$g,a=Ng,s=null,u=Mg(c);function c(){var c,l,f=+t.apply(this,arguments),h=+e.apply(this,arguments),d=i.apply(this,arguments)-qp,p=o.apply(this,arguments)-qp,g=Np(p-d),m=p>d;if(s||(s=c=u()),h<f&&(l=h,h=f,f=l),h>zp)if(g>Vp-zp)s.moveTo(h*Rp(d),h*jp(d)),s.arc(0,0,h,d,p,!m),f>zp&&(s.moveTo(f*Rp(p),f*jp(p)),s.arc(0,0,f,p,d,m));else{var v,y,b=d,w=p,x=d,_=p,k=g,A=g,S=a.apply(this,arguments)/2,C=S>zp&&(r?+r.apply(this,arguments):Lp(f*f+h*h)),E=Ip(Np(h-f)/2,+n.apply(this,arguments)),D=E,M=E;if(C>zp){var T=Wp(C/f*jp(S)),F=Wp(C/h*jp(S));(k-=2*T)>zp?(T*=m?1:-1,x+=T,_-=T):(k=0,x=_=(d+p)/2),(A-=2*F)>zp?(F*=m?1:-1,b+=F,w-=F):(A=0,b=w=(d+p)/2)}var O=h*Rp(b),$=h*jp(b),N=f*Rp(_),B=f*jp(_);if(E>zp){var R,P=h*Rp(w),I=h*jp(w),j=f*Rp(x),L=f*jp(x);if(g<Up)if(R=Bg(O,$,j,L,P,I,N,B)){var z=O-R[0],U=$-R[1],q=P-R[0],V=I-R[1],H=1/jp(Hp((z*q+U*V)/(Lp(z*z+U*U)*Lp(q*q+V*V)))/2),W=Lp(R[0]*R[0]+R[1]*R[1]);D=Ip(E,(f-W)/(H-1)),M=Ip(E,(h-W)/(H+1))}else D=M=0}A>zp?M>zp?(v=Rg(j,L,O,$,h,M,m),y=Rg(P,I,N,B,h,M,m),s.moveTo(v.cx+v.x01,v.cy+v.y01),M<E?s.arc(v.cx,v.cy,M,Bp(v.y01,v.x01),Bp(y.y01,y.x01),!m):(s.arc(v.cx,v.cy,M,Bp(v.y01,v.x01),Bp(v.y11,v.x11),!m),s.arc(0,0,h,Bp(v.cy+v.y11,v.cx+v.x11),Bp(y.cy+y.y11,y.cx+y.x11),!m),s.arc(y.cx,y.cy,M,Bp(y.y11,y.x11),Bp(y.y01,y.x01),!m))):(s.moveTo(O,$),s.arc(0,0,h,b,w,!m)):s.moveTo(O,$),f>zp&&k>zp?D>zp?(v=Rg(N,B,P,I,f,-D,m),y=Rg(O,$,j,L,f,-D,m),s.lineTo(v.cx+v.x01,v.cy+v.y01),D<E?s.arc(v.cx,v.cy,D,Bp(v.y01,v.x01),Bp(y.y01,y.x01),!m):(s.arc(v.cx,v.cy,D,Bp(v.y01,v.x01),Bp(v.y11,v.x11),!m),s.arc(0,0,f,Bp(v.cy+v.y11,v.cx+v.x11),Bp(y.cy+y.y11,y.cx+y.x11),m),s.arc(y.cx,y.cy,D,Bp(y.y11,y.x11),Bp(y.y01,y.x01),!m))):s.arc(0,0,f,_,x,m):s.lineTo(N,B)}else s.moveTo(0,0);if(s.closePath(),c)return s=null,c+""||null}return c.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Up/2;return[Rp(r)*n,jp(r)*n]},c.innerRadius=function(e){return arguments.length?(t="function"===typeof e?e:wg(+e),c):t},c.outerRadius=function(t){return arguments.length?(e="function"===typeof t?t:wg(+t),c):e},c.cornerRadius=function(t){return arguments.length?(n="function"===typeof t?t:wg(+t),c):n},c.padRadius=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:wg(+t),c):r},c.startAngle=function(t){return arguments.length?(i="function"===typeof t?t:wg(+t),c):i},c.endAngle=function(t){return arguments.length?(o="function"===typeof t?t:wg(+t),c):o},c.padAngle=function(t){return arguments.length?(a="function"===typeof t?t:wg(+t),c):a},c.context=function(t){return arguments.length?(s=null==t?null:t,c):s},c}Dg.prototype=Eg.prototype;Array.prototype.slice;function Ig(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}function jg(t){return t[0]}function Lg(t){return t[1]}function zg(t,e){var n=wg(!0),r=null,i=eg,o=null,a=Mg(s);function s(s){var u,c,l,f=(s=Ig(s)).length,h=!1;for(null==r&&(o=i(l=a())),u=0;u<=f;++u)!(u<f&&n(c=s[u],u,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(c,u,s),+e(c,u,s));if(l)return o=null,l+""||null}return t="function"===typeof t?t:void 0===t?jg:wg(t),e="function"===typeof e?e:void 0===e?Lg:wg(e),s.x=function(e){return arguments.length?(t="function"===typeof e?e:wg(+e),s):t},s.y=function(t){return arguments.length?(e="function"===typeof t?t:wg(+t),s):e},s.defined=function(t){return arguments.length?(n="function"===typeof t?t:wg(!!t),s):n},s.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),s):i},s.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),s):r},s}function Ug(t,e,n){var r=null,i=wg(!0),o=null,a=eg,s=null,u=Mg(c);function c(c){var l,f,h,d,p,g=(c=Ig(c)).length,m=!1,v=new Array(g),y=new Array(g);for(null==o&&(s=a(p=u())),l=0;l<=g;++l){if(!(l<g&&i(d=c[l],l,c))===m)if(m=!m)f=l,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=l-1;h>=f;--h)s.point(v[h],y[h]);s.lineEnd(),s.areaEnd()}m&&(v[l]=+t(d,l,c),y[l]=+e(d,l,c),s.point(r?+r(d,l,c):v[l],n?+n(d,l,c):y[l]))}if(p)return s=null,p+""||null}function l(){return zg().defined(i).curve(a).context(o)}return t="function"===typeof t?t:void 0===t?jg:wg(+t),e="function"===typeof e?e:wg(void 0===e?0:+e),n="function"===typeof n?n:void 0===n?Lg:wg(+n),c.x=function(e){return arguments.length?(t="function"===typeof e?e:wg(+e),r=null,c):t},c.x0=function(e){return arguments.length?(t="function"===typeof e?e:wg(+e),c):t},c.x1=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:wg(+t),c):r},c.y=function(t){return arguments.length?(e="function"===typeof t?t:wg(+t),n=null,c):e},c.y0=function(t){return arguments.length?(e="function"===typeof t?t:wg(+t),c):e},c.y1=function(t){return arguments.length?(n=null==t?null:"function"===typeof t?t:wg(+t),c):n},c.lineX0=c.lineY0=function(){return l().x(t).y(e)},c.lineY1=function(){return l().x(t).y(n)},c.lineX1=function(){return l().x(r).y(e)},c.defined=function(t){return arguments.length?(i="function"===typeof t?t:wg(!!t),c):i},c.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),c):a},c.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),c):o},c}Lp(3);var qg={draw(t,e){const n=Lp(e/Up);t.moveTo(n,0),t.arc(0,0,n,0,Vp)}};Lp(1/3);const Vg=jp(Up/10)/jp(7*Up/10);jp(Vp/10),Rp(Vp/10);Lp(3);Lp(3);Lp(3),Lp(12);function Hg(t,e){let n=null,r=Mg(i);function i(){let i;if(n||(n=i=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return t="function"===typeof t?t:wg(t||qg),e="function"===typeof e?e:wg(void 0===e?64:+e),i.type=function(e){return arguments.length?(t="function"===typeof e?e:wg(e),i):t},i.size=function(t){return arguments.length?(e="function"===typeof t?t:wg(+t),i):e},i.context=function(t){return arguments.length?(n=null==t?null:t,i):n},i}function Wg(t,e){if("undefined"!==typeof document&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=t,n.height=e,n}return null}const Yg=()=>"undefined"!==typeof Image?Image:null;var Gg={},Kg={},Xg=34,Jg=10,Zg=13;function Qg(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function tm(t,e){var n=Qg(t);return function(r,i){return e(n(r),i,t)}}function em(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function nm(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function rm(t){return t<0?"-"+nm(-t,6):t>9999?"+"+nm(t,6):nm(t,4)}function im(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":rm(t.getUTCFullYear(),4)+"-"+nm(t.getUTCMonth()+1,2)+"-"+nm(t.getUTCDate(),2)+(i?"T"+nm(e,2)+":"+nm(n,2)+":"+nm(r,2)+"."+nm(i,3)+"Z":r?"T"+nm(e,2)+":"+nm(n,2)+":"+nm(r,2)+"Z":n||e?"T"+nm(e,2)+":"+nm(n,2)+"Z":"")}function om(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var n,r,o=i(t,(function(t,i){if(n)return n(t,i-1);r=t,n=e?tm(t,e):Qg(t)}));return o.columns=r||[],o}function i(t,e){var r,i=[],o=t.length,a=0,s=0,u=o<=0,c=!1;function l(){if(u)return Kg;if(c)return c=!1,Gg;var e,r,i=a;if(t.charCodeAt(i)===Xg){while(a++<o&&t.charCodeAt(a)!==Xg||t.charCodeAt(++a)===Xg);return(e=a)>=o?u=!0:(r=t.charCodeAt(a++))===Jg?c=!0:r===Zg&&(c=!0,t.charCodeAt(a)===Jg&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}while(a<o){if((r=t.charCodeAt(e=a++))===Jg)c=!0;else if(r===Zg)c=!0,t.charCodeAt(a)===Jg&&++a;else if(r!==n)continue;return t.slice(i,e)}return u=!0,t.slice(i,o)}t.charCodeAt(o-1)===Jg&&--o,t.charCodeAt(o-1)===Zg&&--o;while((r=l())!==Kg){var f=[];while(r!==Gg&&r!==Kg)f.push(r),r=l();e&&null==(f=e(f,s++))||i.push(f)}return i}function o(e,n){return e.map((function(e){return n.map((function(t){return l(e[t])})).join(t)}))}function a(e,n){return null==n&&(n=em(e)),[n.map(l).join(t)].concat(o(e,n)).join("\n")}function s(t,e){return null==e&&(e=em(t)),o(t,e).join("\n")}function u(t){return t.map(c).join("\n")}function c(e){return e.map(l).join(t)}function l(t){return null==t?"":t instanceof Date?im(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:r,parseRows:i,format:a,formatBody:s,formatRows:u,formatRow:c,formatValue:l}}const am=Math.sqrt(50),sm=Math.sqrt(10),um=Math.sqrt(2);function cm(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=am?10:o>=sm?5:o>=um?2:1;let s,u,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(t*c),u=Math.round(e*c),s/c<t&&++s,u/c>e&&--u,c=-c):(c=Math.pow(10,i)*a,s=Math.round(t/c),u=Math.round(e/c),s*c<t&&++s,u*c>e&&--u),u<s&&.5<=n&&n<2?cm(t,e,2*n):[s,u,c]}function lm(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?cm(e,t,n):cm(t,e,n);if(!(o>=i))return[];const s=o-i+1,u=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)u[c]=(o-c)/-a;else for(let c=0;c<s;++c)u[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)u[c]=(i+c)/-a;else for(let c=0;c<s;++c)u[c]=(i+c)*a;return u}function fm(t,e,n){return e=+e,t=+t,n=+n,cm(t,e,n)[2]}function hm(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?fm(e,t,n):fm(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}var dm,pm=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gm(t){if(!(e=pm.exec(t)))throw new Error("invalid format: "+t);var e;return new mm({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function mm(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function vm(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ym(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function bm(t){return t=ym(Math.abs(t)),t?t[1]:NaN}function wm(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(bm(e)/3)))-bm(Math.abs(t)))}function xm(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,bm(e)-bm(t))+1}function _m(t){return Math.max(0,-bm(Math.abs(t)))}function km(t,e){return function(n,r){var i=n.length,o=[],a=0,s=t[0],u=0;while(i>0&&s>0){if(u+s+1>r&&(s=Math.max(1,r-u)),o.push(n.substring(i-=s,i+s)),(u+=s+1)>r)break;s=t[a=(a+1)%t.length]}return o.reverse().join(e)}}function Am(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}function Sm(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(e+1):t}function Cm(t,e){var n=ym(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(dm=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ym(t,Math.max(0,e+o-1))[0]}function Em(t,e){var n=ym(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}gm.prototype=mm.prototype,mm.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Dm={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:vm,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Em(100*t,e),r:Em,s:Cm,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Mm(t){return t}var Tm,Fm,Om,$m=Array.prototype.map,Nm=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Bm(t){var e=void 0===t.grouping||void 0===t.thousands?Mm:km($m.call(t.grouping,Number),t.thousands+""),n=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",i=void 0===t.decimal?".":t.decimal+"",o=void 0===t.numerals?Mm:Am($m.call(t.numerals,String)),a=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function c(t){t=gm(t);var c=t.fill,l=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,g=t.comma,m=t.precision,v=t.trim,y=t.type;"n"===y?(g=!0,y="g"):Dm[y]||(void 0===m&&(m=12),v=!0,y="g"),(d||"0"===c&&"="===l)&&(d=!0,c="0",l="=");var b="$"===h?n:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===h?r:/[%p]/.test(y)?a:"",x=Dm[y],_=/[defgprs%]/.test(y);function k(t){var n,r,a,h=b,k=w;if("c"===y)k=x(t)+k,t="";else{t=+t;var A=t<0||1/t<0;if(t=isNaN(t)?u:x(Math.abs(t),m),v&&(t=Sm(t)),A&&0===+t&&"+"!==f&&(A=!1),h=(A?"("===f?f:s:"-"===f||"("===f?"":f)+h,k=("s"===y?Nm[8+dm/3]:"")+k+(A&&"("===f?")":""),_){n=-1,r=t.length;while(++n<r)if(a=t.charCodeAt(n),48>a||a>57){k=(46===a?i+t.slice(n+1):t.slice(n))+k,t=t.slice(0,n);break}}}g&&!d&&(t=e(t,1/0));var S=h.length+t.length+k.length,C=S<p?new Array(p-S+1).join(c):"";switch(g&&d&&(t=e(C+t,C.length?p-k.length:1/0),C=""),l){case"<":t=h+t+k+C;break;case"=":t=h+C+t+k;break;case"^":t=C.slice(0,S=C.length>>1)+h+t+k+C.slice(S);break;default:t=C+h+t+k;break}return o(t)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return t+""},k}function l(t,e){var n=c((t=gm(t),t.type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(bm(e)/3))),i=Math.pow(10,-r),o=Nm[8+r/3];return function(t){return n(i*t)+o}}return{format:c,formatPrefix:l}}function Rm(t){return Tm=Bm(t),Fm=Tm.format,Om=Tm.formatPrefix,Tm}Rm({thousands:",",grouping:[3],currency:["$",""]});const Pm=new Date,Im=new Date;function jm(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=e=>(t(e=new Date(+e)),e),i.ceil=n=>(t(n=new Date(n-1)),e(n,1),t(n),n),i.round=t=>{const e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=(t,n)=>(e(t=new Date(+t),null==n?1:Math.floor(n)),t),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return a;let s;do{a.push(s=new Date(+n)),e(n,o),t(n)}while(s<n&&n<r);return a},i.filter=n=>jm((e=>{if(e>=e)while(t(e),!n(e))e.setTime(e-1)}),((t,r)=>{if(t>=t)if(r<0)while(++r<=0)while(e(t,-1),!n(t));else while(--r>=0)while(e(t,1),!n(t));})),n&&(i.count=(e,r)=>(Pm.setTime(+e),Im.setTime(+r),t(Pm),t(Im),Math.floor(n(Pm,Im))),i.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?e=>r(e)%t===0:e=>i.count(0,e)%t===0):i:null)),i}const Lm=1e3,zm=60*Lm,Um=60*zm,qm=24*Um,Vm=7*qm,Hm=30*qm,Wm=365*qm,Ym=jm((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*zm)/qm),(t=>t.getDate()-1)),Gm=(Ym.range,jm((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/qm),(t=>t.getUTCDate()-1))),Km=(Gm.range,jm((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/qm),(t=>Math.floor(t/qm))));Km.range;function Xm(t){return jm((e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),((t,e)=>{t.setDate(t.getDate()+7*e)}),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*zm)/Vm))}const Jm=Xm(0),Zm=Xm(1),Qm=Xm(2),tv=Xm(3),ev=Xm(4),nv=Xm(5),rv=Xm(6);Jm.range,Zm.range,Qm.range,tv.range,ev.range,nv.range,rv.range;function iv(t){return jm((e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)}),((t,e)=>(e-t)/Vm))}const ov=iv(0),av=iv(1),sv=iv(2),uv=iv(3),cv=iv(4),lv=iv(5),fv=iv(6),hv=(ov.range,av.range,sv.range,uv.range,cv.range,lv.range,fv.range,jm((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,e)=>{t.setFullYear(t.getFullYear()+e)}),((t,e)=>e.getFullYear()-t.getFullYear()),(t=>t.getFullYear())));hv.every=t=>isFinite(t=Math.floor(t))&&t>0?jm((e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,n)=>{e.setFullYear(e.getFullYear()+n*t)})):null;hv.range;const dv=jm((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)}),((t,e)=>e.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));dv.every=t=>isFinite(t=Math.floor(t))&&t>0?jm((e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null;dv.range;const pv=jm((t=>{t.setDate(1),t.setHours(0,0,0,0)}),((t,e)=>{t.setMonth(t.getMonth()+e)}),((t,e)=>e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())),(t=>t.getMonth())),gv=(pv.range,jm((t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)}),((t,e)=>e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())),(t=>t.getUTCMonth()))),mv=(gv.range,jm((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Lm-t.getMinutes()*zm)}),((t,e)=>{t.setTime(+t+e*Um)}),((t,e)=>(e-t)/Um),(t=>t.getHours()))),vv=(mv.range,jm((t=>{t.setUTCMinutes(0,0,0)}),((t,e)=>{t.setTime(+t+e*Um)}),((t,e)=>(e-t)/Um),(t=>t.getUTCHours()))),yv=(vv.range,jm((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Lm)}),((t,e)=>{t.setTime(+t+e*zm)}),((t,e)=>(e-t)/zm),(t=>t.getMinutes()))),bv=(yv.range,jm((t=>{t.setUTCSeconds(0,0)}),((t,e)=>{t.setTime(+t+e*zm)}),((t,e)=>(e-t)/zm),(t=>t.getUTCMinutes()))),wv=(bv.range,jm((t=>{t.setTime(t-t.getMilliseconds())}),((t,e)=>{t.setTime(+t+e*Lm)}),((t,e)=>(e-t)/Lm),(t=>t.getUTCSeconds()))),xv=(wv.range,jm((()=>{}),((t,e)=>{t.setTime(+t+e)}),((t,e)=>e-t)));xv.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?jm((e=>{e.setTime(Math.floor(e/t)*t)}),((e,n)=>{e.setTime(+e+n*t)}),((e,n)=>(n-e)/t)):xv:null);xv.range;const _v="year",kv="quarter",Av="month",Sv="week",Cv="date",Ev="day",Dv="dayofyear",Mv="hours",Tv="minutes",Fv="seconds",Ov="milliseconds",$v=[_v,kv,Av,Sv,Cv,Ev,Dv,Mv,Tv,Fv,Ov];$v.reduce(((t,e,n)=>(t[e]=1+n,t)),{});new Date;const Nv={[_v]:hv,[kv]:pv.every(3),[Av]:pv,[Sv]:Jm,[Cv]:Ym,[Ev]:Ym,[Dv]:Ym,[Mv]:mv,[Tv]:yv,[Fv]:wv,[Ov]:xv},Bv={[_v]:dv,[kv]:gv.every(3),[Av]:gv,[Sv]:ov,[Cv]:Gm,[Ev]:Gm,[Dv]:Gm,[Mv]:vv,[Tv]:bv,[Fv]:wv,[Ov]:xv};function Rv(t){return Nv[t]}function Pv(t){return Bv[t]}const Iv=[_v,Av,Cv,Mv,Tv,Fv,Ov],jv=Iv.slice(0,-1),Lv=jv.slice(0,-1),zv=Lv.slice(0,-1);zv.slice(0,-1);function Uv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function qv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Vv(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Hv(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,c=ry(i),l=iy(i),f=ry(o),h=iy(o),d=ry(a),p=iy(a),g=ry(s),m=iy(s),v=ry(u),y=iy(u),b={a:$,A:N,b:B,B:R,c:null,d:Sy,e:Sy,f:Ty,g:zy,G:qy,H:Cy,I:Ey,j:Dy,L:My,m:Fy,M:Oy,p:P,q:I,Q:hb,s:db,S:$y,u:Ny,U:By,V:Py,w:Iy,W:jy,x:null,X:null,y:Ly,Y:Uy,Z:Vy,"%":fb},w={a:j,A:L,b:z,B:U,c:null,d:Hy,e:Hy,f:Xy,g:sb,G:cb,H:Wy,I:Yy,j:Gy,L:Ky,m:Jy,M:Zy,p:q,q:V,Q:hb,s:db,S:Qy,u:tb,U:eb,V:rb,w:ib,W:ob,x:null,X:null,y:ab,Y:ub,Z:lb,"%":fb},x={a:C,A:E,b:D,B:M,c:T,d:gy,e:gy,f:xy,g:fy,G:ly,H:vy,I:vy,j:my,L:wy,m:py,M:yy,p:S,q:dy,Q:ky,s:Ay,S:by,u:ay,U:sy,V:uy,w:oy,W:cy,x:F,X:O,y:fy,Y:ly,Z:hy,"%":_y};function _(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,c=t.length;n instanceof Date||(n=new Date(+n));while(++s<c)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=Jv[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function k(t,e){return function(n){var r,i,o=Vv(1900,void 0,1),a=A(o,t,n+="",0);if(a!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=qv(Vv(o.y,0,1)),i=r.getUTCDay(),r=i>4||0===i?av.ceil(r):av(r),r=Gm.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(r=Uv(Vv(o.y,0,1)),i=r.getDay(),r=i>4||0===i?Zm.ceil(r):Zm(r),r=Ym.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?qv(Vv(o.y,0,1)).getUTCDay():Uv(Vv(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,qv(o)):Uv(o)}}function A(t,e,n,r){var i,o,a=0,s=e.length,u=n.length;while(a<s){if(r>=u)return-1;if(i=e.charCodeAt(a++),37===i){if(i=e.charAt(a++),o=x[i in Jv?e.charAt(a++):i],!o||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function S(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=l.get(r[0].toLowerCase()),n+r[0].length):-1}function C(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1}function E(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h.get(r[0].toLowerCase()),n+r[0].length):-1}function D(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1}function M(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m.get(r[0].toLowerCase()),n+r[0].length):-1}function T(t,n,r){return A(t,e,n,r)}function F(t,e,r){return A(t,n,e,r)}function O(t,e,n){return A(t,r,e,n)}function $(t){return a[t.getDay()]}function N(t){return o[t.getDay()]}function B(t){return u[t.getMonth()]}function R(t){return s[t.getMonth()]}function P(t){return i[+(t.getHours()>=12)]}function I(t){return 1+~~(t.getMonth()/3)}function j(t){return a[t.getUTCDay()]}function L(t){return o[t.getUTCDay()]}function z(t){return u[t.getUTCMonth()]}function U(t){return s[t.getUTCMonth()]}function q(t){return i[+(t.getUTCHours()>=12)]}function V(t){return 1+~~(t.getUTCMonth()/3)}return b.x=_(n,b),b.X=_(r,b),b.c=_(e,b),w.x=_(n,w),w.X=_(r,w),w.c=_(e,w),{format:function(t){var e=_(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=_(t+="",w);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t+="",!0);return e.toString=function(){return t},e}}}var Wv,Yv,Gv,Kv,Xv,Jv={"-":"",_:" ",0:"0"},Zv=/^\s*\d+/,Qv=/^%/,ty=/[\\^$*+?|[\]().{}]/g;function ey(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function ny(t){return t.replace(ty,"\\$&")}function ry(t){return new RegExp("^(?:"+t.map(ny).join("|")+")","i")}function iy(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function oy(t,e,n){var r=Zv.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ay(t,e,n){var r=Zv.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function sy(t,e,n){var r=Zv.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function uy(t,e,n){var r=Zv.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function cy(t,e,n){var r=Zv.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function ly(t,e,n){var r=Zv.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function fy(t,e,n){var r=Zv.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function hy(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function dy(t,e,n){var r=Zv.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function py(t,e,n){var r=Zv.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function gy(t,e,n){var r=Zv.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function my(t,e,n){var r=Zv.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function vy(t,e,n){var r=Zv.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function yy(t,e,n){var r=Zv.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function by(t,e,n){var r=Zv.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function wy(t,e,n){var r=Zv.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function xy(t,e,n){var r=Zv.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function _y(t,e,n){var r=Qv.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ky(t,e,n){var r=Zv.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ay(t,e,n){var r=Zv.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Sy(t,e){return ey(t.getDate(),e,2)}function Cy(t,e){return ey(t.getHours(),e,2)}function Ey(t,e){return ey(t.getHours()%12||12,e,2)}function Dy(t,e){return ey(1+Ym.count(hv(t),t),e,3)}function My(t,e){return ey(t.getMilliseconds(),e,3)}function Ty(t,e){return My(t,e)+"000"}function Fy(t,e){return ey(t.getMonth()+1,e,2)}function Oy(t,e){return ey(t.getMinutes(),e,2)}function $y(t,e){return ey(t.getSeconds(),e,2)}function Ny(t){var e=t.getDay();return 0===e?7:e}function By(t,e){return ey(Jm.count(hv(t)-1,t),e,2)}function Ry(t){var e=t.getDay();return e>=4||0===e?ev(t):ev.ceil(t)}function Py(t,e){return t=Ry(t),ey(ev.count(hv(t),t)+(4===hv(t).getDay()),e,2)}function Iy(t){return t.getDay()}function jy(t,e){return ey(Zm.count(hv(t)-1,t),e,2)}function Ly(t,e){return ey(t.getFullYear()%100,e,2)}function zy(t,e){return t=Ry(t),ey(t.getFullYear()%100,e,2)}function Uy(t,e){return ey(t.getFullYear()%1e4,e,4)}function qy(t,e){var n=t.getDay();return t=n>=4||0===n?ev(t):ev.ceil(t),ey(t.getFullYear()%1e4,e,4)}function Vy(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ey(e/60|0,"0",2)+ey(e%60,"0",2)}function Hy(t,e){return ey(t.getUTCDate(),e,2)}function Wy(t,e){return ey(t.getUTCHours(),e,2)}function Yy(t,e){return ey(t.getUTCHours()%12||12,e,2)}function Gy(t,e){return ey(1+Gm.count(dv(t),t),e,3)}function Ky(t,e){return ey(t.getUTCMilliseconds(),e,3)}function Xy(t,e){return Ky(t,e)+"000"}function Jy(t,e){return ey(t.getUTCMonth()+1,e,2)}function Zy(t,e){return ey(t.getUTCMinutes(),e,2)}function Qy(t,e){return ey(t.getUTCSeconds(),e,2)}function tb(t){var e=t.getUTCDay();return 0===e?7:e}function eb(t,e){return ey(ov.count(dv(t)-1,t),e,2)}function nb(t){var e=t.getUTCDay();return e>=4||0===e?cv(t):cv.ceil(t)}function rb(t,e){return t=nb(t),ey(cv.count(dv(t),t)+(4===dv(t).getUTCDay()),e,2)}function ib(t){return t.getUTCDay()}function ob(t,e){return ey(av.count(dv(t)-1,t),e,2)}function ab(t,e){return ey(t.getUTCFullYear()%100,e,2)}function sb(t,e){return t=nb(t),ey(t.getUTCFullYear()%100,e,2)}function ub(t,e){return ey(t.getUTCFullYear()%1e4,e,4)}function cb(t,e){var n=t.getUTCDay();return t=n>=4||0===n?cv(t):cv.ceil(t),ey(t.getUTCFullYear()%1e4,e,4)}function lb(){return"+0000"}function fb(){return"%"}function hb(t){return+t}function db(t){return Math.floor(+t/1e3)}function pb(t){return Wv=Hv(t),Yv=Wv.format,Gv=Wv.parse,Kv=Wv.utcFormat,Xv=Wv.utcParse,Wv}function gb(t){const e={};return n=>e[n]||(e[n]=t(n))}function mb(t,e){return n=>{const r=t(n),i=r.indexOf(e);if(i<0)return r;let o=vb(r,i);const a=o<r.length?r.slice(o):"";while(--o>i)if("0"!==r[o]){++o;break}return r.slice(0,o)+a}}function vb(t,e){let n,r=t.lastIndexOf("e");if(r>0)return r;for(r=t.length;--r>e;)if(n=t.charCodeAt(r),n>=48&&n<=57)return r+1}function yb(t){const e=gb(t.format),n=t.formatPrefix;return{format:e,formatPrefix:n,formatFloat(t){const n=gm(t||",");if(null==n.precision){switch(n.precision=12,n.type){case"%":n.precision-=2;break;case"e":n.precision-=1;break}return mb(e(n),e(".1f")(1)[1])}return e(n)},formatSpan(t,r,i,o){o=gm(null==o?",f":o);const a=hm(t,r,i),s=Math.max(Math.abs(t),Math.abs(r));let u;if(null==o.precision)switch(o.type){case"s":return isNaN(u=wm(a,s))||(o.precision=u),n(o,s);case"":case"e":case"g":case"p":case"r":isNaN(u=xm(a,s))||(o.precision=u-("e"===o.type));break;case"f":case"%":isNaN(u=_m(a))||(o.precision=u-2*("%"===o.type));break}return e(o)}}}let bb,wb;function xb(){return bb=yb({format:Fm,formatPrefix:Om})}function _b(t,e,n){n=n||{},np(n)||Xd(`Invalid time multi-format specifier: ${n}`);const r=e(Fv),i=e(Tv),o=e(Mv),a=e(Cv),s=e(Sv),u=e(Av),c=e(kv),l=e(_v),f=t(n[Ov]||".%L"),h=t(n[Fv]||":%S"),d=t(n[Tv]||"%I:%M"),p=t(n[Mv]||"%I %p"),g=t(n[Cv]||n[Ev]||"%a %d"),m=t(n[Sv]||"%b %d"),v=t(n[Av]||"%B"),y=t(n[kv]||"%B"),b=t(n[_v]||"%Y");return t=>(r(t)<t?f:i(t)<t?h:o(t)<t?d:a(t)<t?p:u(t)<t?s(t)<t?g:m:l(t)<t?c(t)<t?v:y:b)(t)}function kb(t){const e=gb(t.format),n=gb(t.utcFormat);return{timeFormat:t=>hp(t)?e(t):_b(e,Rv,t),utcFormat:t=>hp(t)?n(t):_b(n,Pv,t),timeParse:gb(t.parse),utcParse:gb(t.utcParse)}}function Ab(){return wb=kb({format:Yv,parse:Gv,utcFormat:Kv,utcParse:Xv})}pb({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),xb(),Ab();const Sb=/^(data:|([A-Za-z]+:)?\/\/)/,Cb=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,Eb=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Db="file://";function Mb(t,e){return n=>({options:n||{},sanitize:Fb,load:Tb,fileAccess:!!e,file:Ob(e),http:Nb(t)})}async function Tb(t,e){const n=await this.sanitize(t,e),r=n.href;return n.localFile?this.file(r):this.http(r,e)}async function Fb(t,e){e=sp({},this.options,e);const n=this.fileAccess,r={href:null};let i,o,a;const s=Cb.test(t.replace(Eb,""));null!=t&&"string"===typeof t&&s||Xd("Sanitize failure, invalid URI: "+gp(t));const u=Sb.test(t);return(a=e.baseURL)&&!u&&(t.startsWith("/")||a.endsWith("/")||(t="/"+t),t=a+t),o=(i=t.startsWith(Db))||"file"===e.mode||"http"!==e.mode&&!u&&n,i?t=t.slice(Db.length):t.startsWith("//")&&("file"===e.defaultProtocol?(t=t.slice(2),o=!0):t=(e.defaultProtocol||"http")+":"+t),Object.defineProperty(r,"localFile",{value:!!o}),r.href=t,e.target&&(r.target=e.target+""),e.rel&&(r.rel=e.rel+""),"image"===e.context&&e.crossOrigin&&(r.crossOrigin=e.crossOrigin+""),r}function Ob(t){return t?e=>new Promise(((n,r)=>{t.readFile(e,((t,e)=>{t?r(t):n(e)}))})):$b}async function $b(){Xd("No file system access.")}function Nb(t){return t?async function(e,n){const r=sp({},this.options.http,n),i=n&&n.response,o=await t(e,r);return o.ok?ap(o[i])?o[i]():o.text():Xd(o.status+""+o.statusText)}:Bb}async function Bb(){Xd("No HTTP fetch method available.")}function Rb(t){const e=function(e,n){const r={delimiter:t};return Pb(e,n?sp(n,r):r)};return e.responseType="text",e}function Pb(t,e){return e.header&&(t=e.header.map(gp).join(e.delimiter)+"\n"+t),om(e.delimiter).parse(t+"")}function Ib(t){return!("function"!==typeof Buffer||!ap(Buffer.isBuffer))&&Buffer.isBuffer(t)}function jb(t,e){const n=e&&e.property?Zd(e.property):Qd;return np(t)&&!Ib(t)?Lb(n(t),e):n(JSON.parse(t))}function Lb(t,e){return!ep(t)&&fp(t)&&(t=[...t]),e&&e.copy?JSON.parse(JSON.stringify(t)):t}Pb.responseType="text",jb.responseType="json";const zb={interior:(t,e)=>t!==e,exterior:(t,e)=>t===e};function Ub(t,e){let n,r,i,o;return t=jb(t,e),e&&e.feature?(n=jn,i=e.feature):e&&e.mesh?(n=qn,i=e.mesh,o=zb[e.filter]):Xd("Missing TopoJSON feature or mesh parameter."),r=(r=t.objects[i])?n(t,r,o):Xd("Invalid TopoJSON object: "+i),r&&r.features||[r]}Ub.responseType="json";Rb(","),Rb("\t");const qb=Mb("undefined"!==typeof fetch&&fetch,null);function Vb(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);while(++r<i)o[r]=t+r*n;return o}function Hb(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Wb(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Yb(t){let e,n,r;function i(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<0?i=e+1:o=e}while(i<o)}return i}function o(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<=0?i=e+1:o=e}while(i<o)}return i}function a(t,e,n=0,o=t.length){const a=i(t,e,n,o-1);return a>n&&r(t[a-1],e)>-r(t[a],e)?a-1:a}return 2!==t.length?(e=Hb,n=(e,n)=>Hb(t(e),n),r=(e,n)=>t(e)-n):(e=t===Hb||t===Wb?t:Gb,n=t,r=t),{left:i,center:a,right:o}}function Gb(){return 0}function Kb(t){return null===t?NaN:+t}const Xb=Yb(Hb),Jb=Xb.right;Xb.left,Yb(Kb).center;var Zb=Jb,Qb=n(6957);function tw(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function ew(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return tw((n-r/e)*e,a,i,o,s)}}function nw(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return tw((n-r/e)*e,i,o,a,s)}}var rw=n(4709),iw=function t(e){var n=(0,rw.uN)(e);function r(t,e){var r=n((t=(0,Qb.Qh)(t)).r,(e=(0,Qb.Qh)(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=(0,rw.Ay)(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function ow(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=(0,Qb.Qh)(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}var aw=ow(ew),sw=ow(nw);function uw(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function cw(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function lw(t,e){return(cw(e)?uw:fw)(t,e)}function fw(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=xw(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function hw(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function dw(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function pw(t,e){var n,r={},i={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?r[n]=xw(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var gw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mw=new RegExp(gw.source,"g");function vw(t){return function(){return t}}function yw(t){return function(e){return t(e)+""}}function bw(t,e){var n,r,i,o=gw.lastIndex=mw.lastIndex=0,a=-1,s=[],u=[];t+="",e+="";while((n=gw.exec(t))&&(r=mw.exec(e)))(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:dw(n,r)})),o=mw.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?yw(u[0].x):vw(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}var ww=n(3116);function xw(t,e){var n,r=typeof e;return null==e||"boolean"===r?(0,ww.A)(e):("number"===r?dw:"string"===r?(n=(0,Qb.Ay)(e))?(e=n,iw):bw:e instanceof Qb.Ay?iw:e instanceof Date?hw:cw(e)?uw:Array.isArray(e)?fw:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?pw:dw)(t,e)}function _w(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function kw(t){return function(){return t}}function Aw(t){return+t}var Sw=[0,1];function Cw(t){return t}function Ew(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:kw(isNaN(e)?NaN:.5)}function Dw(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}function Mw(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Ew(i,r),o=n(a,o)):(r=Ew(r,i),o=n(o,a)),function(t){return o(r(t))}}function Tw(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());while(++a<r)i[a]=Ew(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=Zb(t,e,1,r)-1;return o[n](i[n](e))}}function Fw(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ow(){var t,e,n,r,i,o,a=Sw,s=Sw,u=xw,c=Cw;function l(){var t=Math.min(a.length,s.length);return c!==Cw&&(c=Dw(a[0],a[t-1])),r=t>2?Tw:Mw,i=o=null,f}function f(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),s,u)))(t(c(e)))}return f.invert=function(n){return c(e((o||(o=r(s,a.map(t),dw)))(n)))},f.domain=function(t){return arguments.length?(a=Array.from(t,Aw),l()):a.slice()},f.range=function(t){return arguments.length?(s=Array.from(t),l()):s.slice()},f.rangeRound=function(t){return s=Array.from(t),u=_w,l()},f.clamp=function(t){return arguments.length?(c=!!t||Cw,l()):c!==Cw},f.interpolate=function(t){return arguments.length?(u=t,l()):u},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,l()}}function $w(){return Ow()(Cw,Cw)}function Nw(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Bw(t,e){switch(arguments.length){case 0:break;case 1:"function"===typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"===typeof e?this.interpolator(e):this.range(e);break}return this}function Rw(t,e,n,r){var i,o=hm(t,e,n);switch(r=gm(null==r?",f":r),r.type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=wm(o,a))||(r.precision=i),Om(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=xm(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=_m(o))||(r.precision=i-2*("%"===r.type));break}return Fm(r)}function Pw(t){var e=t.domain;return t.ticks=function(t){var n=e();return lm(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Rw(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,s=o.length-1,u=o[a],c=o[s],l=10;c<u&&(i=u,u=c,c=i,i=a,a=s,s=i);while(l-- >0){if(i=fm(u,c,n),i===r)return o[a]=u,o[s]=c,e(o);if(i>0)u=Math.floor(u/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;u=Math.ceil(u*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function Iw(){var t=$w();return t.copy=function(){return Fw(t,Iw())},Nw.apply(t,arguments),Pw(t)}function jw(t){var e;function n(t){return null==t||isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Array.from(e,Aw),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return jw(t).unknown(e)},t=arguments.length?Array.from(t,Aw):[0,1],Pw(n)}function Lw(t,e){t=t.slice();var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function zw(t){return Math.log(t)}function Uw(t){return Math.exp(t)}function qw(t){return-Math.log(-t)}function Vw(t){return-Math.exp(-t)}function Hw(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Ww(t){return 10===t?Hw:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Yw(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Gw(t){return(e,n)=>-t(-e,n)}function Kw(t){const e=t(zw,Uw),n=e.domain;let r,i,o=10;function a(){return r=Yw(o),i=Ww(o),n()[0]<0?(r=Gw(r),i=Gw(i),t(qw,Vw)):t(zw,Uw),e}return e.base=function(t){return arguments.length?(o=+t,a()):o},e.domain=function(t){return arguments.length?(n(t),a()):n()},e.ticks=t=>{const e=n();let a=e[0],s=e[e.length-1];const u=s<a;u&&([a,s]=[s,a]);let c,l,f=r(a),h=r(s);const d=null==t?10:+t;let p=[];if(!(o%1)&&h-f<d){if(f=Math.floor(f),h=Math.ceil(h),a>0){for(;f<=h;++f)for(c=1;c<o;++c)if(l=f<0?c/i(-f):c*i(f),!(l<a)){if(l>s)break;p.push(l)}}else for(;f<=h;++f)for(c=o-1;c>=1;--c)if(l=f>0?c/i(-f):c*i(f),!(l<a)){if(l>s)break;p.push(l)}2*p.length<d&&(p=lm(a,s,d))}else p=lm(f,h,Math.min(h-f,d)).map(i);return u?p.reverse():p},e.tickFormat=(t,n)=>{if(null==t&&(t=10),null==n&&(n=10===o?"s":","),"function"!==typeof n&&(o%1||null!=(n=gm(n)).precision||(n.trim=!0),n=Fm(n)),t===1/0)return n;const a=Math.max(1,o*t/e.ticks().length);return t=>{let e=t/i(Math.round(r(t)));return e*o<o-.5&&(e*=o),e<=a?n(t):""}},e.nice=()=>n(Lw(n(),{floor:t=>i(Math.floor(r(t))),ceil:t=>i(Math.ceil(r(t)))})),e}function Xw(){const t=Kw(Ow()).domain([1,10]);return t.copy=()=>Fw(t,Xw()).base(t.base()),Nw.apply(t,arguments),t}function Jw(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Zw(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Qw(t){return t<0?-t*t:t*t}function tx(t){var e=t(Cw,Cw),n=1;function r(){return 1===n?t(Cw,Cw):.5===n?t(Zw,Qw):t(Jw(n),Jw(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},Pw(e)}function ex(){var t=tx(Ow());return t.copy=function(){return Fw(t,ex()).exponent(t.exponent())},Nw.apply(t,arguments),t}function nx(){return ex.apply(null,arguments).exponent(.5)}function rx(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function ix(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function ox(t){var e=1,n=t(rx(e),ix(e));return n.constant=function(n){return arguments.length?t(rx(e=+n),ix(e)):e},Pw(n)}function ax(){var t=ox(Ow());return t.copy=function(){return Fw(t,ax()).constant(t.constant())},Nw.apply(t,arguments)}function sx(t,e,n,r,i,o){const a=[[wv,1,Lm],[wv,5,5*Lm],[wv,15,15*Lm],[wv,30,30*Lm],[o,1,zm],[o,5,5*zm],[o,15,15*zm],[o,30,30*zm],[i,1,Um],[i,3,3*Um],[i,6,6*Um],[i,12,12*Um],[r,1,qm],[r,2,2*qm],[n,1,Vm],[e,1,Hm],[e,3,3*Hm],[t,1,Wm]];function s(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const i=n&&"function"===typeof n.range?n:u(t,e,n),o=i?i.range(t,+e+1):[];return r?o.reverse():o}function u(e,n,r){const i=Math.abs(n-e)/r,o=Yb((([,,t])=>t)).right(a,i);if(o===a.length)return t.every(hm(e/Wm,n/Wm,r));if(0===o)return xv.every(Math.max(hm(e,n,r),1));const[s,u]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(u)}return[s,u]}const[ux,cx]=sx(dv,gv,ov,Km,vv,bv),[lx,fx]=sx(hv,pv,Jm,Ym,mv,yv);function hx(t){return new Date(t)}function dx(t){return t instanceof Date?+t:+new Date(+t)}function px(t,e,n,r,i,o,a,s,u,c){var l=$w(),f=l.invert,h=l.domain,d=c(".%L"),p=c(":%S"),g=c("%I:%M"),m=c("%I %p"),v=c("%a %d"),y=c("%b %d"),b=c("%B"),w=c("%Y");function x(t){return(u(t)<t?d:s(t)<t?p:a(t)<t?g:o(t)<t?m:r(t)<t?i(t)<t?v:y:n(t)<t?b:w)(t)}return l.invert=function(t){return new Date(f(t))},l.domain=function(t){return arguments.length?h(Array.from(t,dx)):h().map(hx)},l.ticks=function(e){var n=h();return t(n[0],n[n.length-1],null==e?10:e)},l.tickFormat=function(t,e){return null==e?x:c(e)},l.nice=function(t){var n=h();return t&&"function"===typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?h(Lw(n,t)):l},l.copy=function(){return Fw(l,px(t,e,n,r,i,o,a,s,u,c))},l}function gx(){return Nw.apply(px(lx,fx,hv,pv,Jm,Ym,mv,yv,wv,Yv).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function mx(){return Nw.apply(px(ux,cx,dv,gv,ov,Gm,vv,bv,wv,Kv).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vx(){var t,e,n,r,i,o=0,a=1,s=Cw,u=!1;function c(e){return null==e||isNaN(e=+e)?i:s(0===n?.5:(e=(r(e)-t)*n,u?Math.max(0,Math.min(1,e)):e))}function l(t){return function(e){var n,r;return arguments.length?([n,r]=e,s=t(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([o,a]=i,t=r(o=+o),e=r(a=+a),n=t===e?0:1/(e-t),c):[o,a]},c.clamp=function(t){return arguments.length?(u=!!t,c):u},c.interpolator=function(t){return arguments.length?(s=t,c):s},c.range=l(xw),c.rangeRound=l(_w),c.unknown=function(t){return arguments.length?(i=t,c):i},function(i){return r=i,t=i(o),e=i(a),n=t===e?0:1/(e-t),c}}function yx(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function bx(){var t=Pw(vx()(Cw));return t.copy=function(){return yx(t,bx())},Bw.apply(t,arguments)}function wx(){var t=Kw(vx()).domain([1,10]);return t.copy=function(){return yx(t,wx()).base(t.base())},Bw.apply(t,arguments)}function xx(){var t=ox(vx());return t.copy=function(){return yx(t,xx()).constant(t.constant())},Bw.apply(t,arguments)}function _x(){var t=tx(vx());return t.copy=function(){return yx(t,_x()).exponent(t.exponent())},Bw.apply(t,arguments)}function kx(){return _x.apply(null,arguments).exponent(.5)}function Ax(t,e){void 0===e&&(e=t,t=xw);var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);while(n<r)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}function Sx(){var t,e,n,r,i,o,a,s=0,u=.5,c=1,l=1,f=Cw,h=!1;function d(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-e)*(l*t<l*e?r:i),f(h?Math.max(0,Math.min(1,t)):t))}function p(t){return function(e){var n,r,i;return arguments.length?([n,r,i]=e,f=Ax(t,[n,r,i]),d):[f(0),f(.5),f(1)]}}return d.domain=function(a){return arguments.length?([s,u,c]=a,t=o(s=+s),e=o(u=+u),n=o(c=+c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),l=e<t?-1:1,d):[s,u,c]},d.clamp=function(t){return arguments.length?(h=!!t,d):h},d.interpolator=function(t){return arguments.length?(f=t,d):f},d.range=p(xw),d.rangeRound=p(_w),d.unknown=function(t){return arguments.length?(a=t,d):a},function(a){return o=a,t=a(s),e=a(u),n=a(c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),l=e<t?-1:1,d}}function Cx(){var t=Pw(Sx()(Cw));return t.copy=function(){return yx(t,Cx())},Bw.apply(t,arguments)}function Ex(){var t=Kw(Sx()).domain([.1,1,10]);return t.copy=function(){return yx(t,Ex()).base(t.base())},Bw.apply(t,arguments)}function Dx(){var t=ox(Sx());return t.copy=function(){return yx(t,Dx()).constant(t.constant())},Bw.apply(t,arguments)}function Mx(){var t=tx(Sx());return t.copy=function(){return yx(t,Mx()).exponent(t.exponent())},Bw.apply(t,arguments)}function Tx(){return Mx.apply(null,arguments).exponent(.5)}function Fx(t,e,n=Kb){if((r=t.length)&&!isNaN(e=+e)){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function Ox(){var t,e=[],n=[],r=[];function i(){var t=0,i=Math.max(1,n.length);r=new Array(i-1);while(++t<i)r[t-1]=Fx(e,t/i);return o}function o(e){return null==e||isNaN(e=+e)?t:n[Zb(r,e)]}return o.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(Hb),i()},o.range=function(t){return arguments.length?(n=Array.from(t),i()):n.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return r.slice()},o.copy=function(){return Ox().domain(e).range(n).unknown(t)},Nw.apply(o,arguments)}function $x(){var t,e=0,n=1,r=1,i=[.5],o=[0,1];function a(e){return null!=e&&e<=e?o[Zb(i,e,0,r)]:t}function s(){var t=-1;i=new Array(r);while(++t<r)i[t]=((t+1)*n-(t-r)*e)/(r+1);return a}return a.domain=function(t){return arguments.length?([e,n]=t,e=+e,n=+n,s()):[e,n]},a.range=function(t){return arguments.length?(r=(o=Array.from(t)).length-1,s()):o.slice()},a.invertExtent=function(t){var a=o.indexOf(t);return a<0?[NaN,NaN]:a<1?[e,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(e){return arguments.length?(t=e,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return $x().domain([e,n]).range(o).unknown(t)},Nw.apply(Pw(a),arguments)}function Nx(){var t,e=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[Zb(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=Array.from(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=Array.from(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return Nx().domain(e).range(n).unknown(t)},Nw.apply(i,arguments)}class Bx extends Map{constructor(t,e=Lx){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[n,r]of t)this.set(n,r)}get(t){return super.get(Px(this,t))}has(t){return super.has(Px(this,t))}set(t,e){return super.set(Ix(this,t),e)}delete(t){return super.delete(jx(this,t))}}class Rx extends Set{constructor(t,e=Lx){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const n of t)this.add(n)}has(t){return super.has(Px(this,t))}add(t){return super.add(Ix(this,t))}delete(t){return super.delete(jx(this,t))}}function Px({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Ix({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function jx({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(n),t.delete(r)),n}function Lx(t){return null!==t&&"object"===typeof t?t.valueOf():t}const zx=Symbol("implicit");function Ux(){var t=new Bx,e=[],n=[],r=zx;function i(i){let o=t.get(i);if(void 0===o){if(r!==zx)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Bx;for(const r of n)t.has(r)||t.set(r,e.push(r)-1);return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Ux(e,n).unknown(r)},Nw.apply(i,arguments),i}function qx(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function Vx(t,e){var n=(0,rw.lG)(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}}var Hx,Wx=180/Math.PI,Yx={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Gx(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Wx,skewX:Math.atan(u)*Wx,scaleX:a,scaleY:s}}function Kx(t){const e=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Yx:Gx(e.a,e.b,e.c,e.d,e.e,e.f)}function Xx(t){return null==t?Yx:(Hx||(Hx=document.createElementNS("http://www.w3.org/2000/svg","g")),Hx.setAttribute("transform",t),(t=Hx.transform.baseVal.consolidate())?(t=t.matrix,Gx(t.a,t.b,t.c,t.d,t.e,t.f)):Yx)}function Jx(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function o(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:dw(t,i)},{i:u-2,x:dw(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}function a(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:dw(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}function s(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:dw(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}function u(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:dw(t,n)},{i:s-2,x:dw(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}return function(e,n){var r=[],i=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,r,i),a(e.rotate,n.rotate,r,i),s(e.skewX,n.skewX,r,i),u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){var e,n=-1,o=i.length;while(++n<o)r[(e=i[n]).i]=e.x(t);return r.join("")}}}var Zx=Jx(Kx,"px, ","px)","deg)"),Qx=Jx(Xx,", ",")",")"),t_=1e-12;function e_(t){return((t=Math.exp(t))+1/t)/2}function n_(t){return((t=Math.exp(t))-1/t)/2}function r_(t){return((t=Math.exp(2*t))-1)/(t+1)}var i_=function t(e,n,r){function i(t,i){var o,a,s=t[0],u=t[1],c=t[2],l=i[0],f=i[1],h=i[2],d=l-s,p=f-u,g=d*d+p*p;if(g<t_)a=Math.log(h/c)/e,o=function(t){return[s+t*d,u+t*p,c*Math.exp(e*t*a)]};else{var m=Math.sqrt(g),v=(h*h-c*c+r*g)/(2*c*n*m),y=(h*h-c*c-r*g)/(2*h*n*m),b=Math.log(Math.sqrt(v*v+1)-v),w=Math.log(Math.sqrt(y*y+1)-y);a=(w-b)/e,o=function(t){var r=t*a,i=e_(b),o=c/(n*m)*(i*r_(e*r+b)-n_(b));return[s+o*d,u+o*p,c*i/e_(e*r+b)]}}return o.duration=1e3*a*e/Math.SQRT2,o}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n,i=r*r;return t(n,r,i)},i}(Math.SQRT2,2,4);function o_(t){return function(e,n){var r=t((e=(0,Qb.KI)(e)).h,(n=(0,Qb.KI)(n)).h),i=(0,rw.Ay)(e.s,n.s),o=(0,rw.Ay)(e.l,n.l),a=(0,rw.Ay)(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+""}}}var a_=o_(rw.lG),s_=o_(rw.Ay),u_=n(871),c_=n(9710);const l_=18,f_=.96422,h_=1,d_=.82521,p_=4/29,g_=6/29,m_=3*g_*g_,v_=g_*g_*g_;function y_(t){if(t instanceof w_)return new w_(t.l,t.a,t.b,t.opacity);if(t instanceof E_)return D_(t);t instanceof Qb.Gw||(t=(0,Qb.b)(t));var e,n,r=A_(t.r),i=A_(t.g),o=A_(t.b),a=x_((.2225045*r+.7168786*i+.0606169*o)/h_);return r===i&&i===o?e=n=a:(e=x_((.4360747*r+.3850649*i+.1430804*o)/f_),n=x_((.0139322*r+.0971045*i+.7141733*o)/d_)),new w_(116*a-16,500*(e-a),200*(a-n),t.opacity)}function b_(t,e,n,r){return 1===arguments.length?y_(t):new w_(t,e,n,null==r?1:r)}function w_(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function x_(t){return t>v_?Math.pow(t,1/3):t/m_+p_}function __(t){return t>g_?t*t*t:m_*(t-p_)}function k_(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function A_(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function S_(t){if(t instanceof E_)return new E_(t.h,t.c,t.l,t.opacity);if(t instanceof w_||(t=y_(t)),0===t.a&&0===t.b)return new E_(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*c_.u;return new E_(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function C_(t,e,n,r){return 1===arguments.length?S_(t):new E_(t,e,n,null==r?1:r)}function E_(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function D_(t){if(isNaN(t.h))return new w_(t.l,0,0,t.opacity);var e=t.h*c_.F;return new w_(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}function M_(t,e){var n=(0,rw.Ay)((t=b_(t)).l,(e=b_(e)).l),r=(0,rw.Ay)(t.a,e.a),i=(0,rw.Ay)(t.b,e.b),o=(0,rw.Ay)(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=o(e),t+""}}function T_(t){return function(e,n){var r=t((e=C_(e)).h,(n=C_(n)).h),i=(0,rw.Ay)(e.c,n.c),o=(0,rw.Ay)(e.l,n.l),a=(0,rw.Ay)(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}(0,u_.A)(w_,b_,(0,u_.X)(Qb.Q1,{brighter(t){return new w_(this.l+l_*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new w_(this.l-l_*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=f_*__(e),t=h_*__(t),n=d_*__(n),new Qb.Gw(k_(3.1338561*e-1.6168667*t-.4906146*n),k_(-.9787684*e+1.9161415*t+.033454*n),k_(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),(0,u_.A)(E_,C_,(0,u_.X)(Qb.Q1,{brighter(t){return new E_(this.h,this.c,this.l+l_*(null==t?1:t),this.opacity)},darker(t){return new E_(this.h,this.c,this.l-l_*(null==t?1:t),this.opacity)},rgb(){return D_(this).rgb()}}));var F_=T_(rw.lG),O_=T_(rw.Ay),$_=n(9837);function N_(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var B_=n(938),R_=(0,B_.A)("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),P_=(0,B_.A)("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),I_=(0,B_.A)("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),j_=(0,B_.A)("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),L_=(0,B_.A)("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),z_=(0,B_.A)("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),U_=(0,B_.A)("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),q_=(0,B_.A)("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),V_=(0,B_.A)("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),H_=(0,B_.A)("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function W_(t,e,n){const r=t-e+2*n;return t?r>0?r:1:0}const Y_="identity",G_="linear",K_="log",X_="pow",J_="sqrt",Z_="symlog",Q_="time",tk="utc",ek="sequential",nk="diverging",rk="quantile",ik="quantize",ok="threshold",ak="ordinal",sk="point",uk="band",ck="bin-ordinal",lk="continuous",fk="discrete",hk="discretizing",dk="interpolating",pk="temporal";function gk(t){return function(e){let n,r=e[0],i=e[1];return i<r&&(n=r,r=i,i=n),[t.invert(r),t.invert(i)]}}function mk(t){return function(e){const n=t.range();let r,i,o,a,s=e[0],u=e[1],c=-1;for(u<s&&(i=s,s=u,u=i),o=0,a=n.length;o<a;++o)n[o]>=s&&n[o]<=u&&(c<0&&(c=o),r=o);if(!(c<0))return s=t.invertExtent(n[c]),u=t.invertExtent(n[r]),[void 0===s[0]?s[1]:s[0],void 0===u[1]?u[0]:u[1]]}}function vk(){const t=Ux().unknown(void 0),e=t.domain,n=t.range;let r,i,o=[0,1],a=!1,s=0,u=0,c=.5;function l(){const t=e().length,l=o[1]<o[0],f=o[1-l],h=W_(t,s,u);let d=o[l-0];r=(f-d)/(h||1),a&&(r=Math.floor(r)),d+=(f-d-r*(t-s))*c,i=r*(1-s),a&&(d=Math.round(d),i=Math.round(i));const p=Vb(t).map((t=>d+r*t));return n(l?p.reverse():p)}return delete t.unknown,t.domain=function(t){return arguments.length?(e(t),l()):e()},t.range=function(t){return arguments.length?(o=[+t[0],+t[1]],l()):o.slice()},t.rangeRound=function(t){return o=[+t[0],+t[1]],a=!0,l()},t.bandwidth=function(){return i},t.step=function(){return r},t.round=function(t){return arguments.length?(a=!!t,l()):a},t.padding=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),s=u,l()):s},t.paddingInner=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),l()):s},t.paddingOuter=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),l()):u},t.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),l()):c},t.invertRange=function(t){if(null==t[0]||null==t[1])return;const r=o[1]<o[0],a=r?n().reverse():n(),s=a.length-1;let u,c,l,f=+t[0],h=+t[1];return f!==f||h!==h||(h<f&&(l=f,f=h,h=l),h<a[0]||f>o[1-r])?void 0:(u=Math.max(0,Jb(a,f)-1),c=f===h?u:Jb(a,h)-1,f-a[u]>i+1e-10&&++u,r&&(l=u,u=s-c,c=s-l),u>c?void 0:e().slice(u,c+1))},t.invert=function(e){const n=t.invertRange([e,e]);return n?n[0]:n},t.copy=function(){return vk().domain(e()).range(o).round(a).paddingInner(s).paddingOuter(u).align(c)},l()}function yk(t){const e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return yk(e())},t}function bk(){return yk(vk().paddingInner(1))}var wk=Array.prototype.map;function xk(t){return wk.call(t,ip)}const _k=Array.prototype.slice;function kk(){let t=[],e=[];function n(n){return null==n||n!==n?void 0:e[(Zb(t,n)-1)%e.length]}return n.domain=function(e){return arguments.length?(t=xk(e),n):t.slice()},n.range=function(t){return arguments.length?(e=_k.call(t),n):e.slice()},n.tickFormat=function(e,n){return Rw(t[0],rp(t),null==e?10:e,n)},n.copy=function(){return kk().domain(n.domain()).range(n.range())},n}const Ak=new Map,Sk=Symbol("vega_scale");function Ck(t){return t[Sk]=!0,t}function Ek(t,e,n){const r=function(){const n=e();return n.invertRange||(n.invertRange=n.invert?gk(n):n.invertExtent?mk(n):void 0),n.type=t,Ck(n)};return r.metadata=mp(op(n)),r}function Dk(t,e,n){return arguments.length>1?(Ak.set(t,Ek(t,e,n)),this):Mk(t)?Ak.get(t):void 0}function Mk(t){return Ak.has(t)}function Tk(t,e){const n=Ak.get(t);return n&&n.metadata[e]}function Fk(t){return Tk(t,fk)}function Ok(t){return Tk(t,hk)}function $k(t){return Tk(t,K_)}function Nk(t){return Tk(t,pk)}Dk(Y_,jw),Dk(G_,Iw,lk),Dk(K_,Xw,[lk,K_]),Dk(X_,ex,lk),Dk(J_,nx,lk),Dk(Z_,ax,lk),Dk(Q_,gx,[lk,pk]),Dk(tk,mx,[lk,pk]),Dk(ek,bx,[lk,dk]),Dk(`${ek}-${G_}`,bx,[lk,dk]),Dk(`${ek}-${K_}`,wx,[lk,dk,K_]),Dk(`${ek}-${X_}`,_x,[lk,dk]),Dk(`${ek}-${J_}`,kx,[lk,dk]),Dk(`${ek}-${Z_}`,xx,[lk,dk]),Dk(`${nk}-${G_}`,Cx,[lk,dk]),Dk(`${nk}-${K_}`,Ex,[lk,dk,K_]),Dk(`${nk}-${X_}`,Mx,[lk,dk]),Dk(`${nk}-${J_}`,Tx,[lk,dk]),Dk(`${nk}-${Z_}`,Dx,[lk,dk]),Dk(rk,Ox,[hk,rk]),Dk(ik,$x,hk),Dk(ok,Nx,hk),Dk(ck,kk,[fk,hk]),Dk(ak,Ux,fk),Dk(uk,vk,fk),Dk(sk,bk,fk);function Bk(t,e,n){return Ax(Rk(e||"rgb",n),t)}function Rk(t,e){const n=a[Pk(t)];return null!=e&&n&&n.gamma?n.gamma(e):n}function Pk(t){return"interpolate"+t.toLowerCase().split("-").map((t=>t[0].toUpperCase()+t.slice(1))).join("")}const Ik={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},jk={accent:R_,category10:P_,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:I_,observable10:j_,paired:L_,pastel1:z_,pastel2:U_,set1:q_,set2:V_,set3:H_,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function Lk(t){if(ep(t))return t;const e=t.length/6|0,n=new Array(e);for(let r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}function zk(t,e){for(const n in t)qk(n,e(t[n]))}const Uk={};function qk(t,e){return t=t&&t.toLowerCase(),arguments.length>1?(Uk[t]=e,this):Uk[t]}zk(jk,Lk),zk(Ik,(t=>Bk(Lk(t))));const Vk="symbol",Hk="discrete",Wk=t=>ep(t)?t.map((t=>String(t))):String(t),Yk=(t,e)=>t[1]-e[1],Gk=(t,e)=>e[1]-t[1];function Kk(t,e,n){let r=t.range(),i=r[0],o=rp(r),a=Yk;if(i>o&&(r=o,o=i,i=r,a=Gk),i=Math.floor(i),o=Math.ceil(o),e=e.map((e=>[e,t(e)])).filter((t=>i<=t[1]&&t[1]<=o)).sort(a).map((t=>t[0])),n>0&&e.length>1){const t=[e[0],rp(e)];while(e.length>n&&e.length>=3)e=e.filter(((t,e)=>!(e%2)));e.length<3&&(e=t)}return e}function Xk(t,e){return t.bins?Kk(t,t.bins,e):t.ticks?t.ticks(e):t.domain()}function Jk(t,e,n,r,i,o){const a=e.type;let s=Wk;if(a===Q_||i===Q_)s=t.timeFormat(r);else if(a===tk||i===tk)s=t.utcFormat(r);else if($k(a)){const i=t.formatFloat(r);if(o||e.bins)s=i;else{const t=Zk(e,n,!1);s=e=>t(e)?i(e):""}}else if(e.tickFormat){const i=e.domain();s=t.formatSpan(i[0],i[i.length-1],n,r)}else r&&(s=t.format(r));return s}function Zk(t,e,n){const r=Xk(t,e),i=t.base(),o=Math.log(i),a=Math.max(1,i*e/r.length),s=t=>{let e=t/Math.pow(i,Math.round(Math.log(t)/o));return e*i<i-.5&&(e*=i),e<=a};return n?r.filter(s):s}const Qk={[rk]:"quantiles",[ik]:"thresholds",[ok]:"domain"},tA={[rk]:"quantiles",[ik]:"domain"};function eA(t,e){return t.bins?iA(t.bins):t.type===K_?Zk(t,e,!0):Qk[t.type]?rA(t[Qk[t.type]]()):Xk(t,e)}function nA(t,e,n){const r=e[tA[e.type]](),i=r.length;let o,a=i>1?r[1]-r[0]:r[0];for(o=1;o<i;++o)a=Math.min(a,r[o]-r[o-1]);return t.formatSpan(0,a,30,n)}function rA(t){const e=[-1/0].concat(t);return e.max=1/0,e}function iA(t){const e=t.slice(0,-1);return e.max=rp(t),e}const oA=t=>Qk[t.type]||t.bins;function aA(t,e,n,r,i,o,a){const s=tA[e.type]&&o!==Q_&&o!==tk?nA(t,e,i):Jk(t,e,n,i,o,a);return r===Vk&&oA(e)?sA(s):r===Hk?cA(s):lA(s)}const sA=t=>(e,n,r)=>{const i=uA(r[n+1],uA(r.max,1/0)),o=fA(e,t),a=fA(i,t);return o&&a?o+"  "+a:a?"< "+a:" "+o},uA=(t,e)=>null!=t?t:e,cA=t=>(e,n)=>n?t(e):null,lA=t=>e=>t(e),fA=(t,e)=>Number.isFinite(t)?e(t):null;function hA(t,e,n,r){const i=r||e.type;return hp(n)&&Nk(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),n||i!==Q_?n||i!==tk?aA(t,e,5,null,n,r,!0):t.utcFormat("%A, %d %B %Y, %X UTC"):t.timeFormat("%A, %d %B %Y, %X")}function dA(t,e,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=hA(t,e,n.format,n.formatType);if(Ok(e.type)){const t=eA(e).slice(1).map(i),n=t.length;return`${n} boundar${1===n?"y":"ies"}: ${t.join(", ")}`}if(Fk(e.type)){const t=e.domain(),n=t.length,o=n>r?t.slice(0,r-2).map(i).join(", ")+", ending with "+t.slice(-1).map(i):t.map(i).join(", ");return`${n} value${1===n?"":"s"}: ${o}`}{const t=e.domain();return`values from ${i(t[0])} to ${i(rp(t))}`}}let pA=0;const gA="p_";function mA(t){return t&&t.gradient}function vA(t,e,n){const r=t.gradient;let i=t.id,o="radial"===r?gA:"";return i||(i=t.id="gradient_"+pA++,"radial"===r?(t.x1=yA(t.x1,.5),t.y1=yA(t.y1,.5),t.r1=yA(t.r1,0),t.x2=yA(t.x2,.5),t.y2=yA(t.y2,.5),t.r2=yA(t.r2,.5),o=gA):(t.x1=yA(t.x1,0),t.y1=yA(t.y1,0),t.x2=yA(t.x2,1),t.y2=yA(t.y2,0))),e[i]=t,"url("+(n||"")+"#"+o+i+")"}function yA(t,e){return null!=t?t:e}const bA={basis:{curve:bp},"basis-closed":{curve:_p},"basis-open":{curve:Ap},bundle:{curve:Cp,tension:"beta",value:.85},cardinal:{curve:Mp,tension:"tension",value:0},"cardinal-open":{curve:Fp,tension:"tension",value:0},"cardinal-closed":{curve:$p,tension:"tension",value:0},"catmull-rom":{curve:Kp,tension:"alpha",value:.5},"catmull-rom-closed":{curve:Jp,tension:"alpha",value:.5},"catmull-rom-open":{curve:Qp,tension:"alpha",value:.5},linear:{curve:eg},"linear-closed":{curve:rg},monotone:{horizontal:hg,vertical:fg},natural:{curve:gg},step:{curve:vg},"step-after":{curve:bg},"step-before":{curve:yg}};function wA(t,e,n){var r=cp(bA,t)&&bA[t],i=null;return r&&(i=r.curve||r[e||"vertical"],r.tension&&null!=n&&(i=i[r.tension](n))),i}const xA={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},_A=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,kA=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,AA=/^((\s+,?\s*)|(,\s*))/,SA=/^[01]/;function CA(t){const e=[],n=t.match(_A)||[];return n.forEach((t=>{let n=t[0];const r=n.toLowerCase(),i=xA[r],o=EA(r,i,t.slice(1).trim()),a=o.length;if(a<i||a&&a%i!==0)throw Error("Invalid SVG path, incorrect parameter count");if(e.push([n,...o.slice(0,i)]),a!==i){"m"===r&&(n="M"===n?"L":"l");for(let t=i;t<a;t+=i)e.push([n,...o.slice(t,t+i)])}})),e}function EA(t,e,n){const r=[];for(let i=0;e&&i<n.length;)for(let o=0;o<e;++o){const e="a"!==t||3!==o&&4!==o?kA:SA,a=n.slice(i).match(e);if(null===a)throw Error("Invalid SVG path, incorrect parameter type");i+=a[0].length,r.push(+a[0]);const s=n.slice(i).match(AA);null!==s&&(i+=s[0].length)}return r}const DA=Math.PI/180,MA=1e-14,TA=Math.PI/2,FA=2*Math.PI,OA=Math.sqrt(3)/2;var $A={},NA={},BA=[].join;function RA(t,e,n,r,i,o,a,s,u){const c=BA.call(arguments);if($A[c])return $A[c];const l=a*DA,f=Math.sin(l),h=Math.cos(l);n=Math.abs(n),r=Math.abs(r);const d=h*(s-t)*.5+f*(u-e)*.5,p=h*(u-e)*.5-f*(s-t)*.5;let g=d*d/(n*n)+p*p/(r*r);g>1&&(g=Math.sqrt(g),n*=g,r*=g);const m=h/n,v=f/n,y=-f/r,b=h/r,w=m*s+v*u,x=y*s+b*u,_=m*t+v*e,k=y*t+b*e,A=(_-w)*(_-w)+(k-x)*(k-x);let S=1/A-.25;S<0&&(S=0);let C=Math.sqrt(S);o==i&&(C=-C);const E=.5*(w+_)-C*(k-x),D=.5*(x+k)+C*(_-w),M=Math.atan2(x-D,w-E),T=Math.atan2(k-D,_-E);let F=T-M;F<0&&1===o?F+=FA:F>0&&0===o&&(F-=FA);const O=Math.ceil(Math.abs(F/(TA+.001))),$=[];for(let N=0;N<O;++N){const t=M+N*F/O,e=M+(N+1)*F/O;$[N]=[E,D,t,e,n,r,f,h]}return $A[c]=$}function PA(t){const e=BA.call(t);if(NA[e])return NA[e];var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7];const l=c*a,f=-u*s,h=u*a,d=c*s,p=Math.cos(i),g=Math.sin(i),m=Math.cos(o),v=Math.sin(o),y=.5*(o-i),b=Math.sin(.5*y),w=8/3*b*b/Math.sin(y),x=n+p-w*g,_=r+g+w*p,k=n+m,A=r+v,S=k+w*v,C=A-w*m;return NA[e]=[l*x+f*_,h*x+d*_,l*S+f*C,h*S+d*C,l*k+f*A,h*k+d*A]}const IA=["l",0,0,0,0,0,0,0];function jA(t,e,n){const r=IA[0]=t[0];if("a"===r||"A"===r)IA[1]=e*t[1],IA[2]=n*t[2],IA[3]=t[3],IA[4]=t[4],IA[5]=t[5],IA[6]=e*t[6],IA[7]=n*t[7];else if("h"===r||"H"===r)IA[1]=e*t[1];else if("v"===r||"V"===r)IA[1]=n*t[1];else for(var i=1,o=t.length;i<o;++i)IA[i]=(i%2==1?e:n)*t[i];return IA}function LA(t,e,n,r,i,o){var a,s,u,c,l,f=null,h=0,d=0,p=0,g=0,m=0,v=0;null==n&&(n=0),null==r&&(r=0),null==i&&(i=1),null==o&&(o=i),t.beginPath&&t.beginPath();for(var y=0,b=e.length;y<b;++y){switch(a=e[y],1===i&&1===o||(a=jA(a,i,o)),a[0]){case"l":h+=a[1],d+=a[2],t.lineTo(h+n,d+r);break;case"L":h=a[1],d=a[2],t.lineTo(h+n,d+r);break;case"h":h+=a[1],t.lineTo(h+n,d+r);break;case"H":h=a[1],t.lineTo(h+n,d+r);break;case"v":d+=a[1],t.lineTo(h+n,d+r);break;case"V":d=a[1],t.lineTo(h+n,d+r);break;case"m":h+=a[1],d+=a[2],m=h,v=d,t.moveTo(h+n,d+r);break;case"M":h=a[1],d=a[2],m=h,v=d,t.moveTo(h+n,d+r);break;case"c":s=h+a[5],u=d+a[6],p=h+a[3],g=d+a[4],t.bezierCurveTo(h+a[1]+n,d+a[2]+r,p+n,g+r,s+n,u+r),h=s,d=u;break;case"C":h=a[5],d=a[6],p=a[3],g=a[4],t.bezierCurveTo(a[1]+n,a[2]+r,p+n,g+r,h+n,d+r);break;case"s":s=h+a[3],u=d+a[4],p=2*h-p,g=2*d-g,t.bezierCurveTo(p+n,g+r,h+a[1]+n,d+a[2]+r,s+n,u+r),p=h+a[1],g=d+a[2],h=s,d=u;break;case"S":s=a[3],u=a[4],p=2*h-p,g=2*d-g,t.bezierCurveTo(p+n,g+r,a[1]+n,a[2]+r,s+n,u+r),h=s,d=u,p=a[1],g=a[2];break;case"q":s=h+a[3],u=d+a[4],p=h+a[1],g=d+a[2],t.quadraticCurveTo(p+n,g+r,s+n,u+r),h=s,d=u;break;case"Q":s=a[3],u=a[4],t.quadraticCurveTo(a[1]+n,a[2]+r,s+n,u+r),h=s,d=u,p=a[1],g=a[2];break;case"t":s=h+a[1],u=d+a[2],null===f[0].match(/[QqTt]/)?(p=h,g=d):"t"===f[0]?(p=2*h-c,g=2*d-l):"q"===f[0]&&(p=2*h-p,g=2*d-g),c=p,l=g,t.quadraticCurveTo(p+n,g+r,s+n,u+r),h=s,d=u,p=h+a[1],g=d+a[2];break;case"T":s=a[1],u=a[2],p=2*h-p,g=2*d-g,t.quadraticCurveTo(p+n,g+r,s+n,u+r),h=s,d=u;break;case"a":zA(t,h+n,d+r,[a[1],a[2],a[3],a[4],a[5],a[6]+h+n,a[7]+d+r]),h+=a[6],d+=a[7];break;case"A":zA(t,h+n,d+r,[a[1],a[2],a[3],a[4],a[5],a[6]+n,a[7]+r]),h=a[6],d=a[7];break;case"z":case"Z":h=m,d=v,t.closePath();break}f=a}}function zA(t,e,n,r){const i=RA(r[5],r[6],r[0],r[1],r[3],r[4],r[2],e,n);for(let o=0;o<i.length;++o){const e=PA(i[o]);t.bezierCurveTo(e[0],e[1],e[2],e[3],e[4],e[5])}}const UA=.5773502691896257,qA={circle:{draw:function(t,e){const n=Math.sqrt(e)/2;t.moveTo(n,0),t.arc(0,0,n,0,FA)}},cross:{draw:function(t,e){var n=Math.sqrt(e)/2,r=n/2.5;t.moveTo(-n,-r),t.lineTo(-n,r),t.lineTo(-r,r),t.lineTo(-r,n),t.lineTo(r,n),t.lineTo(r,r),t.lineTo(n,r),t.lineTo(n,-r),t.lineTo(r,-r),t.lineTo(r,-n),t.lineTo(-r,-n),t.lineTo(-r,-r),t.closePath()}},diamond:{draw:function(t,e){const n=Math.sqrt(e)/2;t.moveTo(-n,0),t.lineTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.closePath()}},square:{draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},arrow:{draw:function(t,e){var n=Math.sqrt(e)/2,r=n/7,i=n/2.5,o=n/8;t.moveTo(-r,n),t.lineTo(r,n),t.lineTo(r,-o),t.lineTo(i,-o),t.lineTo(0,-n),t.lineTo(-i,-o),t.lineTo(-r,-o),t.closePath()}},wedge:{draw:function(t,e){var n=Math.sqrt(e)/2,r=OA*n,i=r-n*UA,o=n/4;t.moveTo(0,-r-i),t.lineTo(-o,r-i),t.lineTo(o,r-i),t.closePath()}},triangle:{draw:function(t,e){var n=Math.sqrt(e)/2,r=OA*n,i=r-n*UA;t.moveTo(0,-r-i),t.lineTo(-n,r-i),t.lineTo(n,r-i),t.closePath()}},"triangle-up":{draw:function(t,e){var n=Math.sqrt(e)/2,r=OA*n;t.moveTo(0,-r),t.lineTo(-n,r),t.lineTo(n,r),t.closePath()}},"triangle-down":{draw:function(t,e){var n=Math.sqrt(e)/2,r=OA*n;t.moveTo(0,r),t.lineTo(-n,-r),t.lineTo(n,-r),t.closePath()}},"triangle-right":{draw:function(t,e){var n=Math.sqrt(e)/2,r=OA*n;t.moveTo(r,0),t.lineTo(-r,-n),t.lineTo(-r,n),t.closePath()}},"triangle-left":{draw:function(t,e){var n=Math.sqrt(e)/2,r=OA*n;t.moveTo(-r,0),t.lineTo(r,-n),t.lineTo(r,n),t.closePath()}},stroke:{draw:function(t,e){const n=Math.sqrt(e)/2;t.moveTo(-n,0),t.lineTo(n,0)}}};function VA(t){return cp(qA,t)?qA[t]:WA(t)}var HA={};function WA(t){if(!cp(HA,t)){const e=CA(t);HA[t]={draw:function(t,n){LA(t,e,0,0,Math.sqrt(n)/2)}}}return HA[t]}const YA=.448084975506;function GA(t){return t.x}function KA(t){return t.y}function XA(t){return t.width}function JA(t){return t.height}function ZA(t){return"function"===typeof t?t:()=>+t}function QA(t,e,n){return Math.max(e,Math.min(t,n))}function tS(){var t=GA,e=KA,n=XA,r=JA,i=ZA(0),o=i,a=i,s=i,u=null;function c(c,l,f){var h,d=null!=l?l:+t.call(this,c),p=null!=f?f:+e.call(this,c),g=+n.call(this,c),m=+r.call(this,c),v=Math.min(g,m)/2,y=QA(+i.call(this,c),0,v),b=QA(+o.call(this,c),0,v),w=QA(+a.call(this,c),0,v),x=QA(+s.call(this,c),0,v);if(u||(u=h=Dg()),y<=0&&b<=0&&w<=0&&x<=0)u.rect(d,p,g,m);else{var _=d+g,k=p+m;u.moveTo(d+y,p),u.lineTo(_-b,p),u.bezierCurveTo(_-YA*b,p,_,p+YA*b,_,p+b),u.lineTo(_,k-x),u.bezierCurveTo(_,k-YA*x,_-YA*x,k,_-x,k),u.lineTo(d+w,k),u.bezierCurveTo(d+YA*w,k,d,k-YA*w,d,k-w),u.lineTo(d,p+y),u.bezierCurveTo(d,p+YA*y,d+YA*y,p,d+y,p),u.closePath()}if(h)return u=null,h+""||null}return c.x=function(e){return arguments.length?(t=ZA(e),c):t},c.y=function(t){return arguments.length?(e=ZA(t),c):e},c.width=function(t){return arguments.length?(n=ZA(t),c):n},c.height=function(t){return arguments.length?(r=ZA(t),c):r},c.cornerRadius=function(t,e,n,r){return arguments.length?(i=ZA(t),o=null!=e?ZA(e):i,s=null!=n?ZA(n):i,a=null!=r?ZA(r):o,c):i},c.context=function(t){return arguments.length?(u=null==t?null:t,c):u},c}function eS(){var t,e,n,r,i,o,a,s,u=null;function c(t,e,n){const r=n/2;if(i){var c=a-e,l=t-o;if(c||l){var f=Math.hypot(c,l),h=(c/=f)*s,d=(l/=f)*s,p=Math.atan2(l,c);u.moveTo(o-h,a-d),u.lineTo(t-c*r,e-l*r),u.arc(t,e,r,p-Math.PI,p),u.lineTo(o+h,a+d),u.arc(o,a,s,p,p+Math.PI)}else u.arc(t,e,r,0,FA);u.closePath()}else i=1;o=t,a=e,s=r}function l(o){var a,s,l,f=o.length,h=!1;for(null==u&&(u=l=Dg()),a=0;a<=f;++a)!(a<f&&r(s=o[a],a,o))===h&&(h=!h)&&(i=0),h&&c(+t(s,a,o),+e(s,a,o),+n(s,a,o));if(l)return u=null,l+""||null}return l.x=function(e){return arguments.length?(t=e,l):t},l.y=function(t){return arguments.length?(e=t,l):e},l.size=function(t){return arguments.length?(n=t,l):n},l.defined=function(t){return arguments.length?(r=t,l):r},l.context=function(t){return arguments.length?(u=null==t?null:t,l):u},l}function nS(t,e){return null!=t?t:e}const rS=t=>t.x||0,iS=t=>t.y||0,oS=t=>t.width||0,aS=t=>t.height||0,sS=t=>(t.x||0)+(t.width||0),uS=t=>(t.y||0)+(t.height||0),cS=t=>t.startAngle||0,lS=t=>t.endAngle||0,fS=t=>t.padAngle||0,hS=t=>t.innerRadius||0,dS=t=>t.outerRadius||0,pS=t=>t.cornerRadius||0,gS=t=>nS(t.cornerRadiusTopLeft,t.cornerRadius)||0,mS=t=>nS(t.cornerRadiusTopRight,t.cornerRadius)||0,vS=t=>nS(t.cornerRadiusBottomRight,t.cornerRadius)||0,yS=t=>nS(t.cornerRadiusBottomLeft,t.cornerRadius)||0,bS=t=>nS(t.size,64),wS=t=>t.size||1,xS=t=>!(!1===t.defined),_S=t=>VA(t.shape||"circle"),kS=Pg().startAngle(cS).endAngle(lS).padAngle(fS).innerRadius(hS).outerRadius(dS).cornerRadius(pS),AS=Ug().x(rS).y1(iS).y0(uS).defined(xS),SS=Ug().y(iS).x1(rS).x0(sS).defined(xS),CS=zg().x(rS).y(iS).defined(xS),ES=tS().x(rS).y(iS).width(oS).height(aS).cornerRadius(gS,mS,vS,yS),DS=Hg().type(_S).size(bS),MS=eS().x(rS).y(iS).defined(xS).size(wS);function TS(t){return t.cornerRadius||t.cornerRadiusTopLeft||t.cornerRadiusTopRight||t.cornerRadiusBottomRight||t.cornerRadiusBottomLeft}function FS(t,e){return kS.context(t)(e)}function OS(t,e){const n=e[0],r=n.interpolate||"linear";return("horizontal"===n.orient?SS:AS).curve(wA(r,n.orient,n.tension)).context(t)(e)}function $S(t,e){const n=e[0],r=n.interpolate||"linear";return CS.curve(wA(r,n.orient,n.tension)).context(t)(e)}function NS(t,e,n,r){return ES.context(t)(e,n,r)}function BS(t,e){return(e.mark.shape||e.shape).context(t)(e)}function RS(t,e){return DS.context(t)(e)}function PS(t,e){return MS.context(t)(e)}var IS=1;function jS(t,e,n){var r=e.clip,i=t._defs,o=e.clip_id||(e.clip_id="clip"+IS++),a=i.clipping[o]||(i.clipping[o]={id:o});return ap(r)?a.path=r(null):TS(n)?a.path=NS(null,n,0,0):(a.width=n.width||0,a.height=n.height||0),"url(#"+o+")"}function LS(t){this.clear(),t&&this.union(t)}function zS(t){this.mark=t,this.bounds=this.bounds||new LS}function US(t){zS.call(this,t),this.items=this.items||[]}LS.prototype={clone(){return new LS(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(t){return this.x1===t.x1&&this.y1===t.y1&&this.x2===t.x2&&this.y2===t.y2},set(t,e,n,r){return n<t?(this.x2=t,this.x1=n):(this.x1=t,this.x2=n),r<e?(this.y2=e,this.y1=r):(this.y1=e,this.y2=r),this},add(t,e){return t<this.x1&&(this.x1=t),e<this.y1&&(this.y1=e),t>this.x2&&(this.x2=t),e>this.y2&&(this.y2=e),this},expand(t){return this.x1-=t,this.y1-=t,this.x2+=t,this.y2+=t,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(t){return this.x1*=t,this.y1*=t,this.x2*=t,this.y2*=t,this},translate(t,e){return this.x1+=t,this.x2+=t,this.y1+=e,this.y2+=e,this},rotate(t,e,n){const r=this.rotatedPoints(t,e,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(t,e,n){var{x1:r,y1:i,x2:o,y2:a}=this,s=Math.cos(t),u=Math.sin(t),c=e-e*s+n*u,l=n-e*u-n*s;return[s*r-u*i+c,u*r+s*i+l,s*r-u*a+c,u*r+s*a+l,s*o-u*i+c,u*o+s*i+l,s*o-u*a+c,u*o+s*a+l]},union(t){return t.x1<this.x1&&(this.x1=t.x1),t.y1<this.y1&&(this.y1=t.y1),t.x2>this.x2&&(this.x2=t.x2),t.y2>this.y2&&(this.y2=t.y2),this},intersect(t){return t.x1>this.x1&&(this.x1=t.x1),t.y1>this.y1&&(this.y1=t.y1),t.x2<this.x2&&(this.x2=t.x2),t.y2<this.y2&&(this.y2=t.y2),this},encloses(t){return t&&this.x1<=t.x1&&this.x2>=t.x2&&this.y1<=t.y1&&this.y2>=t.y2},alignsWith(t){return t&&(this.x1==t.x1||this.x2==t.x2||this.y1==t.y1||this.y2==t.y2)},intersects(t){return t&&!(this.x2<t.x1||this.x1>t.x2||this.y2<t.y1||this.y1>t.y2)},contains(t,e){return!(t<this.x1||t>this.x2||e<this.y1||e>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}},lp(US,zS);class qS{constructor(t){this._pending=0,this._loader=t||qb()}pending(){return this._pending}sanitizeURL(t){const e=this;return VS(e),e._loader.sanitize(t,{context:"href"}).then((t=>(HS(e),t))).catch((()=>(HS(e),null)))}loadImage(t){const e=this,n=Yg();return VS(e),e._loader.sanitize(t,{context:"image"}).then((t=>{const r=t.href;if(!r||!n)throw{url:r};const i=new n,o=cp(t,"crossOrigin")?t.crossOrigin:"anonymous";return null!=o&&(i.crossOrigin=o),i.onload=()=>HS(e),i.onerror=()=>HS(e),i.src=r,i})).catch((t=>(HS(e),{complete:!1,width:0,height:0,src:t&&t.url||""})))}ready(){const t=this;return new Promise((e=>{function n(r){t.pending()?setTimeout((()=>{n(!0)}),10):e(r)}n(!1)}))}}function VS(t){t._pending+=1}function HS(t){t._pending-=1}function WS(t,e,n){if(e.stroke&&0!==e.opacity&&0!==e.strokeOpacity){const r=null!=e.strokeWidth?+e.strokeWidth:1;t.expand(r+(n?YS(e,r):0))}return t}function YS(t,e){return t.strokeJoin&&"miter"!==t.strokeJoin?0:e}const GS=FA-1e-8;let KS,XS,JS,ZS,QS,tC,eC,nC;const rC=(t,e)=>KS.add(t,e),iC=(t,e)=>rC(XS=t,JS=e),oC=t=>rC(t,KS.y1),aC=t=>rC(KS.x1,t),sC=(t,e)=>QS*t+eC*e,uC=(t,e)=>tC*t+nC*e,cC=(t,e)=>rC(sC(t,e),uC(t,e)),lC=(t,e)=>iC(sC(t,e),uC(t,e));function fC(t,e){return KS=t,e?(ZS=e*DA,QS=nC=Math.cos(ZS),tC=Math.sin(ZS),eC=-tC):(QS=nC=1,ZS=tC=eC=0),hC}const hC={beginPath(){},closePath(){},moveTo:lC,lineTo:lC,rect(t,e,n,r){ZS?(cC(t+n,e),cC(t+n,e+r),cC(t,e+r),lC(t,e)):(rC(t+n,e+r),iC(t,e))},quadraticCurveTo(t,e,n,r){const i=sC(t,e),o=uC(t,e),a=sC(n,r),s=uC(n,r);dC(XS,i,a,oC),dC(JS,o,s,aC),iC(a,s)},bezierCurveTo(t,e,n,r,i,o){const a=sC(t,e),s=uC(t,e),u=sC(n,r),c=uC(n,r),l=sC(i,o),f=uC(i,o);pC(XS,a,u,l,oC),pC(JS,s,c,f,aC),iC(l,f)},arc(t,e,n,r,i,o){if(r+=ZS,i+=ZS,XS=n*Math.cos(i)+t,JS=n*Math.sin(i)+e,Math.abs(i-r)>GS)rC(t-n,e-n),rC(t+n,e+n);else{const a=r=>rC(n*Math.cos(r)+t,n*Math.sin(r)+e);let s,u;if(a(r),a(i),i!==r)if(r%=FA,r<0&&(r+=FA),i%=FA,i<0&&(i+=FA),i<r&&(o=!o,s=r,r=i,i=s),o)for(i-=FA,s=r-r%TA,u=0;u<4&&s>i;++u,s-=TA)a(s);else for(s=r-r%TA+TA,u=0;u<4&&s<i;++u,s+=TA)a(s)}}};function dC(t,e,n,r){const i=(t-e)/(t+n-2*e);0<i&&i<1&&r(t+(e-t)*i)}function pC(t,e,n,r,i){const o=r-t+3*e-3*n,a=t+n-2*e,s=t-e;let u,c=0,l=0;Math.abs(o)>MA?(u=a*a+s*o,u>=0&&(u=Math.sqrt(u),c=(-a+u)/o,l=(-a-u)/o)):c=.5*s/a,0<c&&c<1&&i(gC(c,t,e,n,r)),0<l&&l<1&&i(gC(l,t,e,n,r))}function gC(t,e,n,r,i){const o=1-t,a=o*o,s=t*t;return a*o*e+3*a*t*n+3*o*s*r+s*t*i}var mC=(mC=Wg(1,1))?mC.getContext("2d"):null;const vC=new LS;function yC(t){return function(e,n){if(!mC)return!0;t(mC,e),vC.clear().union(e.bounds).intersect(n).round();const{x1:r,y1:i,x2:o,y2:a}=vC;for(let t=i;t<=a;++t)for(let e=r;e<=o;++e)if(mC.isPointInPath(e,t))return!0;return!1}}function bC(t,e){return e.contains(t.x||0,t.y||0)}function wC(t,e){const n=t.x||0,r=t.y||0,i=t.width||0,o=t.height||0;return e.intersects(vC.set(n,r,n+i,r+o))}function xC(t,e){const n=t.x||0,r=t.y||0,i=null!=t.x2?t.x2:n,o=null!=t.y2?t.y2:r;return _C(e,n,r,i,o)}function _C(t,e,n,r,i){const{x1:o,y1:a,x2:s,y2:u}=t,c=r-e,l=i-n;let f,h,d,p,g=0,m=1;for(p=0;p<4;++p){if(0===p&&(f=-c,h=-(o-e)),1===p&&(f=c,h=s-e),2===p&&(f=-l,h=-(a-n)),3===p&&(f=l,h=u-n),Math.abs(f)<1e-10&&h<0)return!1;if(d=h/f,f<0){if(d>m)return!1;d>g&&(g=d)}else if(f>0){if(d<g)return!1;d<m&&(m=d)}}return!0}function kC(t,e){t.globalCompositeOperation=e.blend||"source-over"}function AC(t,e){return null==t?e:t}function SC(t,e){const n=e.length;for(let r=0;r<n;++r)t.addColorStop(e[r].offset,e[r].color);return t}function CC(t,e,n){const r=n.width(),i=n.height();let o;if("radial"===e.gradient)o=t.createRadialGradient(n.x1+AC(e.x1,.5)*r,n.y1+AC(e.y1,.5)*i,Math.max(r,i)*AC(e.r1,0),n.x1+AC(e.x2,.5)*r,n.y1+AC(e.y2,.5)*i,Math.max(r,i)*AC(e.r2,.5));else{const a=AC(e.x1,0),s=AC(e.y1,0),u=AC(e.x2,1),c=AC(e.y2,0);if(a!==u&&s!==c&&r!==i){const n=Wg(Math.ceil(r),Math.ceil(i)),o=n.getContext("2d");return o.scale(r,i),o.fillStyle=SC(o.createLinearGradient(a,s,u,c),e.stops),o.fillRect(0,0,r,i),t.createPattern(n,"no-repeat")}o=t.createLinearGradient(n.x1+a*r,n.y1+s*i,n.x1+u*r,n.y1+c*i)}return SC(o,e.stops)}function EC(t,e,n){return mA(n)?CC(t,n,e.bounds):n}function DC(t,e,n){return n*=null==e.fillOpacity?1:e.fillOpacity,n>0&&(t.globalAlpha=n,t.fillStyle=EC(t,e,e.fill),!0)}var MC=[];function TC(t,e,n){var r=null!=(r=e.strokeWidth)?r:1;return!(r<=0)&&(n*=null==e.strokeOpacity?1:e.strokeOpacity,n>0&&(t.globalAlpha=n,t.strokeStyle=EC(t,e,e.stroke),t.lineWidth=r,t.lineCap=e.strokeCap||"butt",t.lineJoin=e.strokeJoin||"miter",t.miterLimit=e.strokeMiterLimit||10,t.setLineDash&&(t.setLineDash(e.strokeDash||MC),t.lineDashOffset=e.strokeDashOffset||0),!0))}function FC(t,e){return t.zindex-e.zindex||t.index-e.index}function OC(t){if(!t.zdirty)return t.zitems;var e,n,r,i=t.items,o=[];for(n=0,r=i.length;n<r;++n)e=i[n],e.index=n,e.zindex&&o.push(e);return t.zdirty=!1,t.zitems=o.sort(FC)}function $C(t,e){var n,r,i=t.items;if(!i||!i.length)return;const o=OC(t);if(o&&o.length){for(n=0,r=i.length;n<r;++n)i[n].zindex||e(i[n]);i=o}for(n=0,r=i.length;n<r;++n)e(i[n])}function NC(t,e){var n,r,i=t.items;if(!i||!i.length)return null;const o=OC(t);for(o&&o.length&&(i=o),r=i.length;--r>=0;)if(n=e(i[r]))return n;if(i===o)for(i=t.items,r=i.length;--r>=0;)if(!i[r].zindex&&(n=e(i[r])))return n;return null}function BC(t){return function(e,n,r){$C(n,(n=>{r&&!r.intersects(n.bounds)||PC(t,e,n,n)}))}}function RC(t){return function(e,n,r){!n.items.length||r&&!r.intersects(n.bounds)||PC(t,e,n.items[0],n.items)}}function PC(t,e,n,r){var i=null==n.opacity?1:n.opacity;0!==i&&(t(e,r)||(kC(e,n),n.fill&&DC(e,n,i)&&e.fill(),n.stroke&&TC(e,n,i)&&e.stroke()))}function IC(t){return t=t||tp,function(e,n,r,i,o,a){return r*=e.pixelRatio,i*=e.pixelRatio,NC(n,(n=>{const s=n.bounds;if((!s||s.contains(o,a))&&s)return t(e,n,r,i,o,a)?n:void 0}))}}function jC(t,e){return function(n,r,i,o){var a,s,u=Array.isArray(r)?r[0]:r,c=null==e?u.fill:e,l=u.stroke&&n.isPointInStroke;return l&&(a=u.strokeWidth,s=u.strokeCap,n.lineWidth=null!=a?a:1,n.lineCap=null!=s?s:"butt"),!t(n,r)&&(c&&n.isPointInPath(i,o)||l&&n.isPointInStroke(i,o))}}function LC(t){return IC(jC(t))}function zC(t,e){return"translate("+t+","+e+")"}function UC(t){return"rotate("+t+")"}function qC(t,e){return"scale("+t+","+e+")"}function VC(t){return zC(t.x||0,t.y||0)}function HC(t){return zC(t.x||0,t.y||0)+(t.angle?" "+UC(t.angle):"")}function WC(t){return zC(t.x||0,t.y||0)+(t.angle?" "+UC(t.angle):"")+(t.scaleX||t.scaleY?" "+qC(t.scaleX||1,t.scaleY||1):"")}function YC(t,e,n){function r(t,n){t("transform",HC(n)),t("d",e(null,n))}function i(t,n){return e(fC(t,n.angle),n),WS(t,n).translate(n.x||0,n.y||0)}function o(t,n){var r=n.x||0,i=n.y||0,o=n.angle||0;t.translate(r,i),o&&t.rotate(o*=DA),t.beginPath(),e(t,n),o&&t.rotate(-o),t.translate(-r,-i)}return{type:t,tag:"path",nested:!1,attr:r,bound:i,draw:BC(o),pick:LC(o),isect:n||yC(o)}}var GC=YC("arc",FS);function KC(t,e){var n,r,i="horizontal"===t[0].orient?e[1]:e[0],o="horizontal"===t[0].orient?"y":"x",a=t.length,s=1/0;while(--a>=0)!1!==t[a].defined&&(r=Math.abs(t[a][o]-i),r<s&&(s=r,n=t[a]));return n}function XC(t,e){var n,r,i,o=Math.pow(t[0].strokeWidth||1,2),a=t.length;while(--a>=0)if(!1!==t[a].defined&&(n=t[a].x-e[0],r=t[a].y-e[1],i=n*n+r*r,i<o))return t[a];return null}function JC(t,e){var n,r,i,o=t.length;while(--o>=0)if(!1!==t[o].defined&&(n=t[o].x-e[0],r=t[o].y-e[1],i=n*n+r*r,n=t[o].size||1,i<n*n))return t[o];return null}function ZC(t,e,n){function r(t,n){var r=n.mark.items;r.length&&t("d",e(null,r))}function i(t,n){var r=n.items;return 0===r.length?t:(e(fC(t),r),WS(t,r[0]))}function o(t,n){t.beginPath(),e(t,n)}const a=jC(o);function s(t,e,n,r,i,o){var s=e.items,u=e.bounds;return!s||!s.length||u&&!u.contains(i,o)?null:(n*=t.pixelRatio,r*=t.pixelRatio,a(t,s,n,r)?s[0]:null)}return{type:t,tag:"path",nested:!0,attr:r,bound:i,draw:RC(o),pick:s,isect:bC,tip:n}}var QC=ZC("area",OS,KC);function tE(t,e){var n=e.clip;t.save(),ap(n)?(t.beginPath(),n(t),t.clip()):eE(t,e.group)}function eE(t,e){t.beginPath(),TS(e)?NS(t,e,0,0):t.rect(0,0,e.width||0,e.height||0),t.clip()}function nE(t){const e=AC(t.strokeWidth,1);return null!=t.strokeOffset?t.strokeOffset:t.stroke&&e>.5&&e<1.5?.5-Math.abs(e-1):0}function rE(t,e){t("transform",VC(e))}function iE(t,e){const n=nE(e);t("d",NS(null,e,n,n))}function oE(t,e){t("class","background"),t("aria-hidden",!0),iE(t,e)}function aE(t,e){t("class","foreground"),t("aria-hidden",!0),e.strokeForeground?iE(t,e):t("d","")}function sE(t,e,n){const r=e.clip?jS(n,e,e):null;t("clip-path",r)}function uE(t,e){if(!e.clip&&e.items){const n=e.items,r=n.length;for(let e=0;e<r;++e)t.union(n[e].bounds)}return(e.clip||e.width||e.height)&&!e.noBound&&t.add(0,0).add(e.width||0,e.height||0),WS(t,e),t.translate(e.x||0,e.y||0)}function cE(t,e,n,r){const i=nE(e);t.beginPath(),NS(t,e,(n||0)+i,(r||0)+i)}const lE=jC(cE),fE=jC(cE,!1),hE=jC(cE,!0);function dE(t,e,n,r){$C(e,(e=>{const i=e.x||0,o=e.y||0,a=e.strokeForeground,s=null==e.opacity?1:e.opacity;(e.stroke||e.fill)&&s&&(cE(t,e,i,o),kC(t,e),e.fill&&DC(t,e,s)&&t.fill(),e.stroke&&!a&&TC(t,e,s)&&t.stroke()),t.save(),t.translate(i,o),e.clip&&eE(t,e),n&&n.translate(-i,-o),$C(e,(e=>{("group"===e.marktype||null==r||r.includes(e.marktype))&&this.draw(t,e,n,r)})),n&&n.translate(i,o),t.restore(),a&&e.stroke&&s&&(cE(t,e,i,o),kC(t,e),TC(t,e,s)&&t.stroke())}))}function pE(t,e,n,r,i,o){if(e.bounds&&!e.bounds.contains(i,o)||!e.items)return null;const a=n*t.pixelRatio,s=r*t.pixelRatio;return NC(e,(u=>{let c,l,f;const h=u.bounds;if(h&&!h.contains(i,o))return;l=u.x||0,f=u.y||0;const d=l+(u.width||0),p=f+(u.height||0),g=u.clip;if(g&&(i<l||i>d||o<f||o>p))return;if(t.save(),t.translate(l,f),l=i-l,f=o-f,g&&TS(u)&&!hE(t,u,a,s))return t.restore(),null;const m=u.strokeForeground,v=!1!==e.interactive;return v&&m&&u.stroke&&fE(t,u,a,s)?(t.restore(),u):(c=NC(u,(t=>gE(t,l,f)?this.pick(t,n,r,l,f):null)),!c&&v&&(u.fill||!m&&u.stroke)&&lE(t,u,a,s)&&(c=u),t.restore(),c||null)}))}function gE(t,e,n){return(!1!==t.interactive||"group"===t.marktype)&&t.bounds&&t.bounds.contains(e,n)}var mE={type:"group",tag:"g",nested:!1,attr:rE,bound:uE,draw:dE,pick:pE,isect:wC,content:sE,background:oE,foreground:aE},vE={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function yE(t,e){var n=t.image;return(!n||t.url&&t.url!==n.url)&&(n={complete:!1,width:0,height:0},e.loadImage(t.url).then((e=>{t.image=e,t.image.url=t.url}))),n}function bE(t,e){return null!=t.width?t.width:e&&e.width?!1!==t.aspect&&t.height?t.height*e.width/e.height:e.width:0}function wE(t,e){return null!=t.height?t.height:e&&e.height?!1!==t.aspect&&t.width?t.width*e.height/e.width:e.height:0}function xE(t,e){return"center"===t?e/2:"right"===t?e:0}function _E(t,e){return"middle"===t?e/2:"bottom"===t?e:0}function kE(t,e,n){const r=yE(e,n),i=bE(e,r),o=wE(e,r),a=(e.x||0)-xE(e.align,i),s=(e.y||0)-_E(e.baseline,o),u=!r.src&&r.toDataURL?r.toDataURL():r.src||"";t("href",u,vE["xmlns:xlink"],"xlink:href"),t("transform",zC(a,s)),t("width",i),t("height",o),t("preserveAspectRatio",!1===e.aspect?"none":"xMidYMid")}function AE(t,e){const n=e.image,r=bE(e,n),i=wE(e,n),o=(e.x||0)-xE(e.align,r),a=(e.y||0)-_E(e.baseline,i);return t.set(o,a,o+r,a+i)}function SE(t,e,n){$C(e,(e=>{if(n&&!n.intersects(e.bounds))return;const r=yE(e,this);let i=bE(e,r),o=wE(e,r);if(0===i||0===o)return;let a,s,u,c,l=(e.x||0)-xE(e.align,i),f=(e.y||0)-_E(e.baseline,o);!1!==e.aspect&&(s=r.width/r.height,u=e.width/e.height,s===s&&u===u&&s!==u&&(u<s?(c=i/s,f+=(o-c)/2,o=c):(c=o*s,l+=(i-c)/2,i=c))),(r.complete||r.toDataURL)&&(kC(t,e),t.globalAlpha=null!=(a=e.opacity)?a:1,t.imageSmoothingEnabled=!1!==e.smooth,t.drawImage(r,l,f,i,o))}))}var CE={type:"image",tag:"image",nested:!1,attr:kE,bound:AE,draw:SE,pick:IC(),isect:tp,get:yE,xOffset:xE,yOffset:_E},EE=ZC("line",$S,XC);function DE(t,e){var n=e.scaleX||1,r=e.scaleY||1;1===n&&1===r||t("vector-effect","non-scaling-stroke"),t("transform",WC(e)),t("d",e.path)}function ME(t,e){var n=e.path;if(null==n)return!0;var r=e.x||0,i=e.y||0,o=e.scaleX||1,a=e.scaleY||1,s=(e.angle||0)*DA,u=e.pathCache;u&&u.path===n||((e.pathCache=u=CA(n)).path=n),s&&t.rotate&&t.translate?(t.translate(r,i),t.rotate(s),LA(t,u,0,0,o,a),t.rotate(-s),t.translate(-r,-i)):LA(t,u,r,i,o,a)}function TE(t,e){return ME(fC(t,e.angle),e)?t.set(0,0,0,0):WS(t,e,!0)}var FE={type:"path",tag:"path",nested:!1,attr:DE,bound:TE,draw:BC(ME),pick:LC(ME),isect:yC(ME)};function OE(t,e){t("d",NS(null,e))}function $E(t,e){var n,r;return WS(t.set(n=e.x||0,r=e.y||0,n+e.width||0,r+e.height||0),e)}function NE(t,e){t.beginPath(),NS(t,e)}var BE={type:"rect",tag:"path",nested:!1,attr:OE,bound:$E,draw:BC(NE),pick:LC(NE),isect:wC};function RE(t,e){t("transform",VC(e)),t("x2",null!=e.x2?e.x2-(e.x||0):0),t("y2",null!=e.y2?e.y2-(e.y||0):0)}function PE(t,e){var n,r;return WS(t.set(n=e.x||0,r=e.y||0,null!=e.x2?e.x2:n,null!=e.y2?e.y2:r),e)}function IE(t,e,n){var r,i,o,a;return!(!e.stroke||!TC(t,e,n))&&(r=e.x||0,i=e.y||0,o=null!=e.x2?e.x2:r,a=null!=e.y2?e.y2:i,t.beginPath(),t.moveTo(r,i),t.lineTo(o,a),!0)}function jE(t,e,n){$C(e,(e=>{if(!n||n.intersects(e.bounds)){var r=null==e.opacity?1:e.opacity;r&&IE(t,e,r)&&(kC(t,e),t.stroke())}}))}function LE(t,e,n,r){return!!t.isPointInStroke&&(IE(t,e,1)&&t.isPointInStroke(n,r))}var zE={type:"rule",tag:"line",nested:!1,attr:RE,bound:PE,draw:jE,pick:IC(LE),isect:xC},UE=YC("shape",BS),qE=YC("symbol",RS,bC);const VE=pp();var HE={height:JE,measureWidth:KE,estimateWidth:YE,width:YE,canvas:WE};function WE(t){HE.width=t&&mC?KE:YE}function YE(t,e){return GE(nD(t,e),JE(t))}function GE(t,e){return~~(.8*t.length*e)}function KE(t,e){return JE(t)<=0||!(e=nD(t,e))?0:XE(e,aD(t))}function XE(t,e){const n=`(${e}) ${t}`;let r=VE.get(n);return void 0===r&&(mC.font=e,r=mC.measureText(t).width,VE.set(n,r)),r}function JE(t){return null!=t.fontSize?+t.fontSize||0:11}function ZE(t){return null!=t.lineHeight?t.lineHeight:JE(t)+2}function QE(t){return ep(t)?t.length>1?t:t[0]:t}function tD(t){return QE(t.lineBreak&&t.text&&!ep(t.text)?t.text.split(t.lineBreak):t.text)}function eD(t){const e=tD(t);return(ep(e)?e.length-1:0)*ZE(t)}function nD(t,e){const n=null==e?"":(e+"").trim();return t.limit>0&&n.length?iD(t,n):n}function rD(t){if(HE.width===KE){const e=aD(t);return t=>XE(t,e)}if(HE.width===YE){const e=JE(t);return t=>GE(t,e)}return e=>HE.width(t,e)}function iD(t,e){var n=+t.limit,r=rD(t);if(r(e)<n)return e;var i,o=t.ellipsis||"",a="rtl"===t.dir,s=0,u=e.length;if(n-=r(o),a){while(s<u)i=s+u>>>1,r(e.slice(i))>n?s=i+1:u=i;return o+e.slice(s)}while(s<u)i=1+(s+u>>>1),r(e.slice(0,i))<n?s=i:u=i-1;return e.slice(0,s)+o}function oD(t,e){var n=t.font;return(e&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function aD(t,e){return(t.fontStyle?t.fontStyle+" ":"")+(t.fontVariant?t.fontVariant+" ":"")+(t.fontWeight?t.fontWeight+" ":"")+JE(t)+"px "+oD(t,e)}function sD(t){var e=t.baseline,n=JE(t);return Math.round("top"===e?.79*n:"middle"===e?.3*n:"bottom"===e?-.21*n:"line-top"===e?.29*n+.5*ZE(t):"line-bottom"===e?.29*n-.5*ZE(t):0)}WE(!0);const uD={left:"start",center:"middle",right:"end"},cD=new LS;function lD(t){var e,n=t.x||0,r=t.y||0,i=t.radius||0;return i&&(e=(t.theta||0)-TA,n+=i*Math.cos(e),r+=i*Math.sin(e)),cD.x1=n,cD.y1=r,cD}function fD(t,e){var n,r=e.dx||0,i=(e.dy||0)+sD(e),o=lD(e),a=o.x1,s=o.y1,u=e.angle||0;t("text-anchor",uD[e.align]||"start"),u?(n=zC(a,s)+" "+UC(u),(r||i)&&(n+=" "+zC(r,i))):n=zC(a+r,s+i),t("transform",n)}function hD(t,e,n){var r,i=HE.height(e),o=e.align,a=lD(e),s=a.x1,u=a.y1,c=e.dx||0,l=(e.dy||0)+sD(e)-Math.round(.8*i),f=tD(e);if(ep(f)?(i+=ZE(e)*(f.length-1),r=f.reduce(((t,n)=>Math.max(t,HE.width(e,n))),0)):r=HE.width(e,f),"center"===o?c-=r/2:"right"===o&&(c-=r),t.set(c+=s,l+=u,c+r,l+i),e.angle&&!n)t.rotate(e.angle*DA,s,u);else if(2===n)return t.rotatedPoints(e.angle*DA,s,u);return t}function dD(t,e,n){$C(e,(e=>{var r,i,o,a,s,u,c,l=null==e.opacity?1:e.opacity;if(!(n&&!n.intersects(e.bounds)||0===l||e.fontSize<=0||null==e.text||0===e.text.length)){if(t.font=aD(e),t.textAlign=e.align||"left",r=lD(e),i=r.x1,o=r.y1,e.angle&&(t.save(),t.translate(i,o),t.rotate(e.angle*DA),i=o=0),i+=e.dx||0,o+=(e.dy||0)+sD(e),u=tD(e),kC(t,e),ep(u))for(s=ZE(e),a=0;a<u.length;++a)c=nD(e,u[a]),e.fill&&DC(t,e,l)&&t.fillText(c,i,o),e.stroke&&TC(t,e,l)&&t.strokeText(c,i,o),o+=s;else c=nD(e,u),e.fill&&DC(t,e,l)&&t.fillText(c,i,o),e.stroke&&TC(t,e,l)&&t.strokeText(c,i,o);e.angle&&t.restore()}}))}function pD(t,e,n,r,i,o){if(e.fontSize<=0)return!1;if(!e.angle)return!0;var a=lD(e),s=a.x1,u=a.y1,c=hD(cD,e,1),l=-e.angle*DA,f=Math.cos(l),h=Math.sin(l),d=f*i-h*o+(s-f*s+h*u),p=h*i+f*o+(u-h*s-f*u);return c.contains(d,p)}function gD(t,e){const n=hD(cD,t,2);return _C(e,n[0],n[1],n[2],n[3])||_C(e,n[0],n[1],n[4],n[5])||_C(e,n[4],n[5],n[6],n[7])||_C(e,n[2],n[3],n[6],n[7])}var mD={type:"text",tag:"text",nested:!1,attr:fD,bound:hD,draw:dD,pick:IC(pD),isect:gD},vD=ZC("trail",PS,JC),yD={arc:GC,area:QC,group:mE,image:CE,line:EE,path:FE,rect:BE,rule:zE,shape:UE,symbol:qE,text:mD,trail:vD};function bD(t,e,n){return!t&&"undefined"!==typeof document&&document.createElement&&(t=document),t?n?t.createElementNS(n,e):t.createElement(e):null}function wD(t,e){e=e.toLowerCase();for(var n=t.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===e)return n[r]}function xD(t,e,n,r){var i,o=t.childNodes[e];return o&&o.tagName.toLowerCase()===n.toLowerCase()||(i=o||null,o=bD(t.ownerDocument,n,r),t.insertBefore(o,i)),o}function _D(t,e){var n=t.childNodes,r=n.length;while(r>e)t.removeChild(n[--r]);return t}function kD(t){return"mark-"+t.marktype+(t.role?" role-"+t.role:"")+(t.name?" "+t.name:"")}function AD(t,e){const n=e.getBoundingClientRect();return[t.clientX-n.left-(e.clientLeft||0),t.clientY-n.top-(e.clientTop||0)]}function SD(t,e,n,r){var i,o,a=t&&t.mark;if(a&&(i=yD[a.marktype]).tip){o=AD(e,n),o[0]-=r[0],o[1]-=r[1];while(t=t.mark.group)o[0]-=t.x||0,o[1]-=t.y||0;t=i.tip(a.items,o)}return t}class CD{constructor(t,e){this._active=null,this._handlers={},this._loader=t||qb(),this._tooltip=e||ED}initialize(t,e,n){return this._el=t,this._obj=n||null,this.origin(e)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()}scene(t){return arguments.length?(this._scene=t,this):this._scene}on(){}off(){}_handlerIndex(t,e,n){for(let r=t?t.length:0;--r>=0;)if(t[r].type===e&&(!n||t[r].handler===n))return r;return-1}handlers(t){const e=this._handlers,n=[];if(t)n.push(...e[this.eventName(t)]);else for(const r in e)n.push(...e[r]);return n}eventName(t){const e=t.indexOf(".");return e<0?t:t.slice(0,e)}handleHref(t,e,n){this._loader.sanitize(n,{context:"href"}).then((e=>{const n=new MouseEvent(t.type,t),r=bD(null,"a");for(const t in e)r.setAttribute(t,e[t]);r.dispatchEvent(n)})).catch((()=>{}))}handleTooltip(t,e,n){if(e&&null!=e.tooltip){e=SD(e,t,this.canvas(),this._origin);const r=n&&e&&e.tooltip||null;this._tooltip.call(this._obj,this,t,e,r)}}getItemBoundingClientRect(t){const e=this.canvas();if(!e)return;const n=e.getBoundingClientRect(),r=this._origin,i=t.bounds,o=i.width(),a=i.height();let s=i.x1+r[0]+n.left,u=i.y1+r[1]+n.top;while(t.mark&&(t=t.mark.group))s+=t.x||0,u+=t.y||0;return{x:s,y:u,width:o,height:a,left:s,top:u,right:s+o,bottom:u+a}}}function ED(t,e,n,r){t.element().setAttribute("title",r||"")}class DD{constructor(t){this._el=null,this._bgcolor=null,this._loader=new qS(t)}initialize(t,e,n,r,i){return this._el=t,this.resize(e,n,r,i)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(t){return 0===arguments.length?this._bgcolor:(this._bgcolor=t,this)}resize(t,e,n,r){return this._width=t,this._height=e,this._origin=n||[0,0],this._scale=r||1,this}dirty(){}render(t,e){const n=this;return n._call=function(){n._render(t,e)},n._call(),n._call=null,n}_render(){}renderAsync(t,e){const n=this.render(t,e);return this._ready?this._ready.then((()=>n)):Promise.resolve(n)}_load(t,e){var n=this,r=n._loader[t](e);if(!n._ready){const t=n._call;n._ready=n._loader.ready().then((e=>{e&&t(),n._ready=null}))}return r}sanitizeURL(t){return this._load("sanitizeURL",t)}loadImage(t){return this._load("loadImage",t)}}const MD="keydown",TD="keypress",FD="keyup",OD="dragenter",$D="dragleave",ND="dragover",BD="pointerdown",RD="pointerup",PD="pointermove",ID="pointerout",jD="pointerover",LD="mousedown",zD="mouseup",UD="mousemove",qD="mouseout",VD="mouseover",HD="click",WD="dblclick",YD="wheel",GD="mousewheel",KD="touchstart",XD="touchmove",JD="touchend",ZD=[MD,TD,FD,OD,$D,ND,BD,RD,PD,ID,jD,LD,zD,UD,qD,VD,HD,WD,YD,GD,KD,XD,JD],QD=PD,tM=qD,eM=HD;class nM extends CD{constructor(t,e){super(t,e),this._down=null,this._touch=null,this._first=!0,this._events={},this.events=ZD,this.pointermove=sM([PD,UD],[jD,VD],[ID,qD]),this.dragover=sM([ND],[OD],[$D]),this.pointerout=uM([ID,qD]),this.dragleave=uM([$D])}initialize(t,e,n){return this._canvas=t&&wD(t,"canvas"),[HD,LD,BD,PD,ID,$D].forEach((t=>iM(this,t))),super.initialize(t,e,n)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(t){this.fire(GD,t)}pointerdown(t){this._down=this._active,this.fire(BD,t)}mousedown(t){this._down=this._active,this.fire(LD,t)}click(t){this._down===this._active&&(this.fire(HD,t),this._down=null)}touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(KD,t,!0)}touchmove(t){this.fire(XD,t,!0)}touchend(t){this.fire(JD,t,!0),this._touch=null}fire(t,e,n){const r=n?this._touch:this._active,i=this._handlers[t];if(e.vegaType=t,t===eM&&r&&r.href?this.handleHref(e,r,r.href):t!==QD&&t!==tM||this.handleTooltip(e,r,t!==tM),i)for(let o=0,a=i.length;o<a;++o)i[o].handler.call(this._obj,e,r)}on(t,e){const n=this.eventName(t),r=this._handlers,i=this._handlerIndex(r[n],t,e);return i<0&&(iM(this,t),(r[n]||(r[n]=[])).push({type:t,handler:e})),this}off(t,e){const n=this.eventName(t),r=this._handlers[n],i=this._handlerIndex(r,t,e);return i>=0&&r.splice(i,1),this}pickEvent(t){const e=AD(t,this._canvas),n=this._origin;return this.pick(this._scene,e[0],e[1],e[0]-n[0],e[1]-n[1])}pick(t,e,n,r,i){const o=this.context(),a=yD[t.marktype];return a.pick.call(this,o,t,e,n,r,i)}}const rM=t=>t===KD||t===XD||t===JD?[KD,XD,JD]:[t];function iM(t,e){rM(e).forEach((e=>oM(t,e)))}function oM(t,e){const n=t.canvas();n&&!t._events[e]&&(t._events[e]=1,n.addEventListener(e,t[e]?n=>t[e](n):n=>t.fire(e,n)))}function aM(t,e,n){e.forEach((e=>t.fire(e,n)))}function sM(t,e,n){return function(r){const i=this._active,o=this.pickEvent(r);o===i||(i&&i.exit||aM(this,n,r),this._active=o,aM(this,e,r)),aM(this,t,r)}}function uM(t){return function(e){aM(this,t,e),this._active=null}}function cM(){return"undefined"!==typeof window&&window.devicePixelRatio||1}function lM(t,e,n,r,i,o){const a="undefined"!==typeof HTMLElement&&t instanceof HTMLElement&&null!=t.parentNode,s=t.getContext("2d"),u=a?cM():i;t.width=e*u,t.height=n*u;for(const c in o)s[c]=o[c];return a&&1!==u&&(t.style.width=e+"px",t.style.height=n+"px"),s.pixelRatio=u,s.setTransform(u,0,0,u,u*r[0],u*r[1]),t}class fM extends DD{constructor(t){super(t),this._options={},this._redraw=!1,this._dirty=new LS,this._tempb=new LS}initialize(t,e,n,r,i,o){return this._options=o||{},this._canvas=this._options.externalContext?null:Wg(1,1,this._options.type),t&&this._canvas&&(_D(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),super.initialize(t,e,n,r,i)}resize(t,e,n,r){if(super.resize(t,e,n,r),this._canvas)lM(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const t=this._options.externalContext;t||Xd("CanvasRenderer is missing a valid canvas or context"),t.scale(this._scale,this._scale),t.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(t){const e=this._tempb.clear().union(t.bounds);let n=t.mark.group;while(n)e.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(e)}_render(t,e){const n=this.context(),r=this._origin,i=this._width,o=this._height,a=this._dirty,s=hM(r,i,o);n.save();const u=this._redraw||a.empty()?(this._redraw=!1,s.expand(1)):dM(n,s.intersect(a),r);return this.clear(-r[0],-r[1],i,o),this.draw(n,t,u,e),n.restore(),a.clear(),this}draw(t,e,n,r){if("group"!==e.marktype&&null!=r&&!r.includes(e.marktype))return;const i=yD[e.marktype];e.clip&&tE(t,e),i.draw.call(this,t,e,n,r),e.clip&&t.restore()}clear(t,e,n,r){const i=this._options,o=this.context();"pdf"===i.type||i.externalContext||o.clearRect(t,e,n,r),null!=this._bgcolor&&(o.fillStyle=this._bgcolor,o.fillRect(t,e,n,r))}}const hM=(t,e,n)=>(new LS).set(0,0,e,n).translate(-t[0],-t[1]);function dM(t,e,n){return e.expand(1).round(),t.pixelRatio%1&&e.scale(t.pixelRatio).round().scale(1/t.pixelRatio),e.translate(-n[0]%1,-n[1]%1),t.beginPath(),t.rect(e.x1,e.y1,e.width(),e.height()),t.clip(),e}class pM extends CD{constructor(t,e){super(t,e);const n=this;n._hrefHandler=gM(n,((t,e)=>{e&&e.href&&n.handleHref(t,e,e.href)})),n._tooltipHandler=gM(n,((t,e)=>{n.handleTooltip(t,e,t.type!==tM)}))}initialize(t,e,n){let r=this._svg;return r&&(r.removeEventListener(eM,this._hrefHandler),r.removeEventListener(QD,this._tooltipHandler),r.removeEventListener(tM,this._tooltipHandler)),this._svg=r=t&&wD(t,"svg"),r&&(r.addEventListener(eM,this._hrefHandler),r.addEventListener(QD,this._tooltipHandler),r.addEventListener(tM,this._tooltipHandler)),super.initialize(t,e,n)}canvas(){return this._svg}on(t,e){const n=this.eventName(t),r=this._handlers,i=this._handlerIndex(r[n],t,e);if(i<0){const i={type:t,handler:e,listener:gM(this,e)};(r[n]||(r[n]=[])).push(i),this._svg&&this._svg.addEventListener(n,i.listener)}return this}off(t,e){const n=this.eventName(t),r=this._handlers[n],i=this._handlerIndex(r,t,e);return i>=0&&(this._svg&&this._svg.removeEventListener(n,r[i].listener),r.splice(i,1)),this}}const gM=(t,e)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,e.call(t._obj,n,r)},mM="aria-hidden",vM="aria-label",yM="role",bM="aria-roledescription",wM="graphics-object",xM="graphics-symbol",_M=(t,e,n)=>({[yM]:t,[bM]:e,[vM]:n||void 0}),kM=mp(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),AM={axis:{desc:"axis",caption:FM},legend:{desc:"legend",caption:OM},"title-text":{desc:"title",caption:t=>`Title text '${TM(t)}'`},"title-subtitle":{desc:"subtitle",caption:t=>`Subtitle text '${TM(t)}'`}},SM={ariaRole:yM,ariaRoleDescription:bM,description:vM};function CM(t,e){const n=!1===e.aria;if(t(mM,n||void 0),n||null==e.description)for(const r in SM)t(SM[r],void 0);else{const n=e.mark.marktype;t(vM,e.description),t(yM,e.ariaRole||("group"===n?wM:xM)),t(bM,e.ariaRoleDescription||`${n} mark`)}}function EM(t){return!1===t.aria?{[mM]:!0}:kM[t.role]?null:AM[t.role]?MM(t,AM[t.role]):DM(t)}function DM(t){const e=t.marktype,n="group"===e||"text"===e||t.items.some((t=>null!=t.description&&!1!==t.aria));return _M(n?wM:xM,`${e} mark container`,t.description)}function MM(t,e){try{const n=t.items[0],r=e.caption||(()=>"");return _M(e.role||xM,e.desc,n.description||r(n))}catch(n){return null}}function TM(t){return op(t.text).join(" ")}function FM(t){const e=t.datum,n=t.orient,r=e.title?$M(t):null,i=t.context,o=i.scales[e.scale].value,a=i.dataflow.locale(),s=o.type,u="left"===n||"right"===n?"Y":"X";return`${u}-axis`+(r?` titled '${r}'`:"")+` for a ${Fk(s)?"discrete":s} scale`+` with ${dA(a,o,t)}`}function OM(t){const e=t.datum,n=e.title?$M(t):null,r=`${e.type||""} legend`.trim(),i=e.scales,o=Object.keys(i),a=t.context,s=a.scales[i[o[0]]].value,u=a.dataflow.locale();return BM(r)+(n?` titled '${n}'`:"")+` for ${NM(o)}`+` with ${dA(u,s,t)}`}function $M(t){try{return op(rp(t.items).items[0].text).join(" ")}catch(e){return null}}function NM(t){return t=t.map((t=>t+("fill"===t||"stroke"===t?" color":""))),t.length<2?t[0]:t.slice(0,-1).join(", ")+" and "+rp(t)}function BM(t){return t.length?t[0].toUpperCase()+t.slice(1):t}const RM=t=>(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),PM=t=>RM(t).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function IM(){let t="",e="",n="";const r=[],i=()=>e=n="",o=o=>{e&&(t+=`${e}>${n}`,i()),r.push(o)},a=(t,n)=>(null!=n&&(e+=` ${t}="${PM(n)}"`),s),s={open(t){o(t),e="<"+t;for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(const e of r)for(const t in e)a(t,e[t]);return s},close(){const o=r.pop();return t+=e?e+(n?`>${n}</${o}>`:"/>"):`</${o}>`,i(),s},attr:a,text:t=>(n+=RM(t),s),toString:()=>t};return s}const jM=t=>LM(IM(),t)+"";function LM(t,e){if(t.open(e.tagName),e.hasAttributes()){const n=e.attributes,r=n.length;for(let e=0;e<r;++e)t.attr(n[e].name,n[e].value)}if(e.hasChildNodes()){const n=e.childNodes;for(const e of n)3===e.nodeType?t.text(e.nodeValue):LM(t,e)}return t.close()}const zM={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},UM={blend:"mix-blend-mode"},qM={fill:"none","stroke-miterlimit":10},VM=0,HM="http://www.w3.org/2000/xmlns/",WM=vE.xmlns;class YM extends DD{constructor(t){super(t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}initialize(t,e,n,r,i){return this._defs={},this._clearDefs(),t&&(this._svg=xD(t,0,"svg",WM),this._svg.setAttributeNS(HM,"xmlns",WM),this._svg.setAttributeNS(HM,"xmlns:xlink",vE["xmlns:xlink"]),this._svg.setAttribute("version",vE["version"]),this._svg.setAttribute("class","marks"),_D(t,1),this._root=xD(this._svg,VM,"g",WM),oT(this._root,qM),_D(this._svg,VM+1)),this.background(this._bgcolor),super.initialize(t,e,n,r,i)}background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),super.background(...arguments)}resize(t,e,n,r){return super.resize(t,e,n,r),this._svg&&(oT(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this}canvas(){return this._svg}svg(){const t=this._svg,e=this._bgcolor;if(!t)return null;let n;e&&(t.removeAttribute("style"),n=xD(t,VM,"rect",WM),oT(n,{width:this._width,height:this._height,fill:e}));const r=jM(t);return e&&(t.removeChild(n),this._svg.style.setProperty("background-color",e)),r}_render(t,e){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t,void 0,e),_D(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this}dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))}isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const e=++this._dirtyID;let n,r,i,o,a,s,u;for(a=0,s=t.length;a<s;++a)n=t[a],r=n.mark,r.marktype!==i&&(i=r.marktype,o=yD[i]),r.zdirty&&r.dirty!==e&&(this._dirtyAll=!1,GM(n,e),r.items.forEach((t=>{t.dirty=e}))),r.zdirty||(n.exit?(o.nested&&r.items.length?(u=r.items[0],u._svg&&this._update(o,u._svg,u)):n._svg&&(u=n._svg.parentNode,u&&u.removeChild(n._svg)),n._svg=null):(n=o.nested?r.items[0]:n,n._update!==e&&(n._svg&&n._svg.ownerSVGElement?this._update(o,n._svg,n):(this._dirtyAll=!1,GM(n,e)),n._update=e)));return!this._dirtyAll}mark(t,e,n,r){if(!this.isDirty(e))return e._svg;const i=this._svg,o=e.marktype,a=yD[o],s=!1===e.interactive?"none":null,u="g"===a.tag,c=ZM(e,t,n,"g",i);if("group"!==o&&null!=r&&!r.includes(o))return _D(c,0),e._svg;c.setAttribute("class",kD(e));const l=EM(e);for(const p in l)aT(c,p,l[p]);u||aT(c,"pointer-events",s),aT(c,"clip-path",e.clip?jS(this,e,e.group):null);let f=null,h=0;const d=t=>{const e=this.isDirty(t),n=ZM(t,c,f,a.tag,i);e&&(this._update(a,n,t),u&&JM(this,n,t,r)),f=n,++h};return a.nested?e.items.length&&d(e.items[0]):$C(e,d),_D(c,h),c}_update(t,e,n){tT=e,eT=e.__values__,CM(rT,n),t.attr(rT,n,this);const r=nT[t.type];r&&r.call(this,t,e,n),tT&&this.style(tT,n)}style(t,e){if(null!=e){for(const n in zM){let r="font"===n?oD(e):e[n];if(r===eT[n])continue;const i=zM[n];null==r?t.removeAttribute(i):(mA(r)&&(r=vA(r,this._defs.gradient,uT())),t.setAttribute(i,r+"")),eT[n]=r}for(const n in UM)iT(t,UM[n],e[n])}}defs(){const t=this._svg,e=this._defs;let n=e.el,r=0;for(const i in e.gradient)n||(e.el=n=xD(t,VM+1,"defs",WM)),r=KM(n,e.gradient[i],r);for(const i in e.clipping)n||(e.el=n=xD(t,VM+1,"defs",WM)),r=XM(n,e.clipping[i],r);n&&(0===r?(t.removeChild(n),e.el=null):_D(n,r))}_clearDefs(){const t=this._defs;t.gradient={},t.clipping={}}}function GM(t,e){for(;t&&t.dirty!==e;t=t.mark.group){if(t.dirty=e,!t.mark||t.mark.dirty===e)return;t.mark.dirty=e}}function KM(t,e,n){let r,i,o;if("radial"===e.gradient){let r=xD(t,n++,"pattern",WM);oT(r,{id:gA+e.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),r=xD(r,0,"rect",WM),oT(r,{width:1,height:1,fill:`url(${uT()}#${e.id})`}),t=xD(t,n++,"radialGradient",WM),oT(t,{id:e.id,fx:e.x1,fy:e.y1,fr:e.r1,cx:e.x2,cy:e.y2,r:e.r2})}else t=xD(t,n++,"linearGradient",WM),oT(t,{id:e.id,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2});for(r=0,i=e.stops.length;r<i;++r)o=xD(t,r,"stop",WM),o.setAttribute("offset",e.stops[r].offset),o.setAttribute("stop-color",e.stops[r].color);return _D(t,r),n}function XM(t,e,n){let r;return t=xD(t,n,"clipPath",WM),t.setAttribute("id",e.id),e.path?(r=xD(t,0,"path",WM),r.setAttribute("d",e.path)):(r=xD(t,0,"rect",WM),oT(r,{x:0,y:0,width:e.width,height:e.height})),_D(t,1),n+1}function JM(t,e,n,r){e=e.lastChild.previousSibling;let i,o=0;$C(n,(n=>{i=t.mark(e,n,i,r),++o})),_D(e,1+o)}function ZM(t,e,n,r,i){let o,a=t._svg;if(!a&&(o=e.ownerDocument,a=bD(o,r,WM),t._svg=a,t.mark&&(a.__data__=t,a.__values__={fill:"default"},"g"===r))){const e=bD(o,"path",WM);a.appendChild(e),e.__data__=t;const n=bD(o,"g",WM);a.appendChild(n),n.__data__=t;const r=bD(o,"path",WM);a.appendChild(r),r.__data__=t,r.__values__={fill:"default"}}return(a.ownerSVGElement!==i||QM(a,n))&&e.insertBefore(a,n?n.nextSibling:e.firstChild),a}function QM(t,e){return t.parentNode&&t.parentNode.childNodes.length>1&&t.previousSibling!=e}let tT=null,eT=null;const nT={group(t,e,n){const r=tT=e.childNodes[2];eT=r.__values__,t.foreground(rT,n,this),eT=e.__values__,tT=e.childNodes[1],t.content(rT,n,this);const i=tT=e.childNodes[0];t.background(rT,n,this);const o=!1===n.mark.interactive?"none":null;if(o!==eT.events&&(aT(r,"pointer-events",o),aT(i,"pointer-events",o),eT.events=o),n.strokeForeground&&n.stroke){const t=n.fill;aT(r,"display",null),this.style(i,n),aT(i,"stroke",null),t&&(n.fill=null),eT=r.__values__,this.style(r,n),t&&(n.fill=t),tT=null}else aT(r,"display","none")},image(t,e,n){!1===n.smooth?(iT(e,"image-rendering","optimizeSpeed"),iT(e,"image-rendering","pixelated")):iT(e,"image-rendering",null)},text(t,e,n){const r=tD(n);let i,o,a,s;ep(r)?(o=r.map((t=>nD(n,t))),i=o.join("\n"),i!==eT.text&&(_D(e,0),a=e.ownerDocument,s=ZE(n),o.forEach(((t,r)=>{const i=bD(a,"tspan",WM);i.__data__=n,i.textContent=t,r&&(i.setAttribute("x",0),i.setAttribute("dy",s)),e.appendChild(i)})),eT.text=i)):(o=nD(n,r),o!==eT.text&&(e.textContent=o,eT.text=o)),aT(e,"font-family",oD(n)),aT(e,"font-size",JE(n)+"px"),aT(e,"font-style",n.fontStyle),aT(e,"font-variant",n.fontVariant),aT(e,"font-weight",n.fontWeight)}};function rT(t,e,n){e!==eT[t]&&(n?sT(tT,t,e,n):aT(tT,t,e),eT[t]=e)}function iT(t,e,n){n!==eT[e]&&(null==n?t.style.removeProperty(e):t.style.setProperty(e,n+""),eT[e]=n)}function oT(t,e){for(const n in e)aT(t,n,e[n])}function aT(t,e,n){null!=n?t.setAttribute(e,n):t.removeAttribute(e)}function sT(t,e,n,r){null!=n?t.setAttributeNS(r,e,n):t.removeAttributeNS(r,e)}function uT(){let t;return"undefined"===typeof window?"":(t=window.location).hash?t.href.slice(0,-t.hash.length):t.href}class cT extends DD{constructor(t){super(t),this._text=null,this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(t){const e=IM();e.open("svg",sp({},vE,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const n=this._bgcolor;return n&&"transparent"!==n&&"none"!==n&&e.open("rect",{width:this._width,height:this._height,fill:n}).close(),e.open("g",qM,{transform:"translate("+this._origin+")"}),this.mark(e,t),e.close(),this.defs(e),this._text=e.close()+"",this}mark(t,e){const n=yD[e.marktype],r=n.tag,i=[CM,n.attr];t.open("g",{class:kD(e),"clip-path":e.clip?jS(this,e,e.group):null},EM(e),{"pointer-events":"g"!==r&&!1===e.interactive?"none":null});const o=o=>{const a=this.href(o);if(a&&t.open("a",a),t.open(r,this.attr(e,o,i,"g"!==r?r:null)),"text"===r){const e=tD(o);if(ep(e)){const n={x:0,dy:ZE(o)};for(let r=0;r<e.length;++r)t.open("tspan",r?n:null).text(nD(o,e[r])).close()}else t.text(nD(o,e))}else if("g"===r){const r=o.strokeForeground,i=o.fill,a=o.stroke;r&&a&&(o.stroke=null),t.open("path",this.attr(e,o,n.background,"bgrect")).close(),t.open("g",this.attr(e,o,n.content)),$C(o,(e=>this.mark(t,e))),t.close(),r&&a?(i&&(o.fill=null),o.stroke=a,t.open("path",this.attr(e,o,n.foreground,"bgrect")).close(),i&&(o.fill=i)):t.open("path",this.attr(e,o,n.foreground,"bgfore")).close()}t.close(),a&&t.close()};return n.nested?e.items&&e.items.length&&o(e.items[0]):$C(e,o),t.close()}href(t){const e=t.href;let n;if(e){if(n=this._hrefs&&this._hrefs[e])return n;this.sanitizeURL(e).then((t=>{t["xlink:href"]=t.href,t.href=null,(this._hrefs||(this._hrefs={}))[e]=t}))}return null}attr(t,e,n,r){const i={},o=(t,e,n,r)=>{i[r||t]=e};return Array.isArray(n)?n.forEach((t=>t(o,e,this))):n(o,e,this),r&&lT(i,e,t,r,this._defs),i}defs(t){const e=this._defs.gradient,n=this._defs.clipping,r=Object.keys(e).length+Object.keys(n).length;if(0!==r){t.open("defs");for(const n in e){const r=e[n],i=r.stops;"radial"===r.gradient?(t.open("pattern",{id:gA+n,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+n+")"}).close(),t.close(),t.open("radialGradient",{id:n,fx:r.x1,fy:r.y1,fr:r.r1,cx:r.x2,cy:r.y2,r:r.r2})):t.open("linearGradient",{id:n,x1:r.x1,x2:r.x2,y1:r.y1,y2:r.y2});for(let e=0;e<i.length;++e)t.open("stop",{offset:i[e].offset,"stop-color":i[e].color}).close();t.close()}for(const e in n){const r=n[e];t.open("clipPath",{id:e}),r.path?t.open("path",{d:r.path}).close():t.open("rect",{x:0,y:0,width:r.width,height:r.height}).close(),t.close()}t.close()}}}function lT(t,e,n,r,i){let o;if(null==e)return t;if("bgrect"===r&&!1===n.interactive&&(t["pointer-events"]="none"),"bgfore"===r&&(!1===n.interactive&&(t["pointer-events"]="none"),t.display="none",null!==e.fill))return t;"image"===r&&!1===e.smooth&&(o=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),"text"===r&&(t["font-family"]=oD(e),t["font-size"]=JE(e)+"px",t["font-style"]=e.fontStyle,t["font-variant"]=e.fontVariant,t["font-weight"]=e.fontWeight);for(const a in zM){let n=e[a];const r=zM[a];("transparent"!==n||"fill"!==r&&"stroke"!==r)&&null!=n&&(mA(n)&&(n=vA(n,i.gradient,"")),t[r]=n)}for(const a in UM){const t=e[a];null!=t&&(o=o||[],o.push(`${UM[a]}: ${t};`))}return o&&(t.style=o.join(" ")),t}const fT={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};class hT extends DD{constructor(t){super(t),this._svgRenderer=new YM(t),this._canvasRenderer=new fM(t)}initialize(t,e,n,r,i){this._root_el=xD(t,0,"div");const o=xD(this._root_el,0,"div"),a=xD(this._root_el,1,"div");return this._root_el.style.position="relative",fT.debug||(o.style.height="100%",a.style.position="absolute",a.style.top="0",a.style.left="0",a.style.height="100%",a.style.width="100%"),this._svgEl=fT.svgOnTop?a:o,this._canvasEl=fT.svgOnTop?o:a,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,e,n,r,i),this._svgRenderer.initialize(this._svgEl,e,n,r,i),super.initialize(t,e,n,r,i)}dirty(t){return fT.svgMarkTypes.includes(t.mark.marktype)?this._svgRenderer.dirty(t):this._canvasRenderer.dirty(t),this}_render(t,e){const n=e??["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"],r=n.filter((t=>!fT.svgMarkTypes.includes(t)));this._svgRenderer.render(t,fT.svgMarkTypes),this._canvasRenderer.render(t,r)}resize(t,e,n,r){return super.resize(t,e,n,r),this._svgRenderer.resize(t,e,n,r),this._canvasRenderer.resize(t,e,n,r),this}background(t){return fT.svgOnTop?this._canvasRenderer.background(t):this._svgRenderer.background(t),this}}class dT extends nM{constructor(t,e){super(t,e)}initialize(t,e,n){const r=xD(xD(t,0,"div"),fT.svgOnTop?0:1,"div");return super.initialize(r,e,n)}}const pT="canvas",gT="hybrid",mT="png",vT="svg",yT="none",bT={};bT[pT]=bT[mT]={renderer:fM,headless:fM,handler:nM},bT[vT]={renderer:YM,headless:cT,handler:pM},bT[gT]={renderer:hT,headless:hT,handler:dT},bT[yT]={};const wT=new LS;function xT(t){const e=t.clip;if(ap(e))e(fC(wT.clear()));else{if(!e)return;wT.set(0,0,t.group.width,t.group.height)}t.bounds.intersect(wT)}const _T="top",kT="left",AT="right",ST="bottom",CT="top-left",ET="top-right",DT="bottom-left",MT="bottom-right",TT="start",FT="middle",OT="end",$T="x",NT="y",BT="group",RT="axis",PT="title",IT="frame",jT="scope",LT="legend",zT="row-header",UT="row-footer",qT="row-title",VT="column-header",HT="column-footer",WT="column-title",YT="padding",GT="symbol",KT="fit",XT="fit-x",JT="fit-y",ZT="pad",QT="none",tF="all",eF="each",nF="flush",rF="column",iF="row";function oF(t){gu.call(this,null,t)}function aF(t,e,n){return e(t.bounds.clear(),t,n)}lp(oF,gu,{transform(t,e){const n=e.dataflow,r=t.mark,i=r.marktype,o=yD[i],a=o.bound;let s,u=r.bounds;if(o.nested)r.items.length&&n.dirty(r.items[0]),u=aF(r,a),r.items.forEach((t=>{t.bounds.clear().union(u)}));else if(i===BT||t.modified())switch(e.visit(e.MOD,(t=>n.dirty(t))),u.clear(),r.items.forEach((t=>u.union(aF(t,a)))),r.role){case RT:case LT:case PT:e.reflow()}else s=e.changed(e.REM),e.visit(e.ADD,(t=>{u.union(aF(t,a))})),e.visit(e.MOD,(t=>{s=s||u.alignsWith(t.bounds),n.dirty(t),u.union(aF(t,a))})),s&&(u.clear(),r.items.forEach((t=>u.union(t.bounds))));return xT(r),e.modifies("bounds")}});const sF=":vega_identifier:";function uF(t){gu.call(this,0,t)}function cF(t){return t._signals[sF]||(t._signals[sF]=t.add(0))}function lF(t){gu.call(this,null,t)}function fF(t){const e=t.groups,n=t.parent;return e&&1===e.size?e.get(Object.keys(e.object)[0]):e&&n?e.lookup(n):null}function hF(t){gu.call(this,null,t)}uF.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},lp(uF,gu,{transform(t,e){const n=cF(e.dataflow),r=t.as;let i=n.value;return e.visit(e.ADD,(t=>t[r]=t[r]||++i)),n.set(this.value=i),e}}),lp(lF,gu,{transform(t,e){let n=this.value;n||(n=e.dataflow.scenegraph().mark(t.markdef,fF(t),t.index),n.group.context=t.context,t.context.group||(t.context.group=n.group),n.source=this.source,n.clip=t.clip,n.interactive=t.interactive,this.value=n);const r=n.marktype===BT?US:zS;return e.visit(e.ADD,(t=>r.call(t,n))),(t.modified("clip")||t.modified("interactive"))&&(n.clip=t.clip,n.interactive=!!t.interactive,n.zdirty=!0,e.reflow()),n.items=e.source,e}});const dF={parity:t=>t.filter(((t,e)=>e%2?t.opacity=0:1)),greedy:(t,e)=>{let n;return t.filter(((t,r)=>r&&pF(n.bounds,t.bounds,e)?t.opacity=0:(n=t,1)))}},pF=(t,e,n)=>n>Math.max(e.x1-t.x2,t.x1-e.x2,e.y1-t.y2,t.y1-e.y2),gF=(t,e)=>{for(var n,r=1,i=t.length,o=t[0].bounds;r<i;o=n,++r)if(pF(o,n=t[r].bounds,e))return!0},mF=t=>{const e=t.bounds;return e.width()>1&&e.height()>1},vF=(t,e,n)=>{var r=t.range(),i=new LS;return e===_T||e===ST?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),t=>i.encloses(t.bounds)},yF=t=>(t.forEach((t=>t.opacity=1)),t),bF=(t,e)=>t.reflow(e.modified()).modifies("opacity");function wF(t){gu.call(this,null,t)}lp(hF,gu,{transform(t,e){const n=dF[t.method]||dF.parity,r=t.separation||0;let i,o,a=e.materialize(e.SOURCE).source;if(!a||!a.length)return;if(!t.method)return t.modified("method")&&(yF(a),e=bF(e,t)),e;if(a=a.filter(mF),!a.length)return;if(t.sort&&(a=a.slice().sort(t.sort)),i=yF(a),e=bF(e,t),i.length>=3&&gF(i,r)){do{i=n(i,r)}while(i.length>=3&&gF(i,r));i.length<3&&!rp(a).opacity&&(i.length>1&&(rp(i).opacity=0),rp(a).opacity=1)}t.boundScale&&t.boundTolerance>=0&&(o=vF(t.boundScale,t.boundOrient,+t.boundTolerance),a.forEach((t=>{o(t)||(t.opacity=0)})));const s=i[0].mark.bounds.clear();return a.forEach((t=>{t.opacity&&s.union(t.bounds)})),e}}),lp(wF,gu,{transform(t,e){const n=e.dataflow;if(e.visit(e.ALL,(t=>n.dirty(t))),e.fields&&e.fields["zindex"]){const t=e.source&&e.source[0];t&&(t.mark.zdirty=!0)}}});const xF=new LS;function _F(t,e,n){return t[e]===n?0:(t[e]=n,1)}function kF(t){var e=t.items[0].orient;return e===kT||e===AT}function AF(t){let e=+t.grid;return[t.ticks?e++:-1,t.labels?e++:-1,e+ +t.domain]}function SF(t,e,n,r){var i,o,a=e.items[0],s=a.datum,u=null!=a.translate?a.translate:.5,c=a.orient,l=AF(s),f=a.range,h=a.offset,d=a.position,p=a.minExtent,g=a.maxExtent,m=s.title&&a.items[l[2]].items[0],v=a.titlePadding,y=a.bounds,b=m&&eD(m),w=0,x=0;switch(xF.clear().union(y),y.clear(),(i=l[0])>-1&&y.union(a.items[i].bounds),(i=l[1])>-1&&y.union(a.items[i].bounds),c){case _T:w=d||0,x=-h,o=Math.max(p,Math.min(g,-y.y1)),y.add(0,-o).add(f,0),m&&CF(t,m,o,v,b,0,-1,y);break;case kT:w=-h,x=d||0,o=Math.max(p,Math.min(g,-y.x1)),y.add(-o,0).add(0,f),m&&CF(t,m,o,v,b,1,-1,y);break;case AT:w=n+h,x=d||0,o=Math.max(p,Math.min(g,y.x2)),y.add(0,0).add(o,f),m&&CF(t,m,o,v,b,1,1,y);break;case ST:w=d||0,x=r+h,o=Math.max(p,Math.min(g,y.y2)),y.add(0,0).add(f,o),m&&CF(t,m,o,v,0,0,1,y);break;default:w=a.x,x=a.y}return WS(y.translate(w,x),a),_F(a,"x",w+u)|_F(a,"y",x+u)&&(a.bounds=xF,t.dirty(a),a.bounds=y,t.dirty(a)),a.mark.bounds.clear().union(y)}function CF(t,e,n,r,i,o,a,s){const u=e.bounds;if(e.auto){const s=a*(n+i+r);let c=0,l=0;t.dirty(e),o?c=(e.x||0)-(e.x=s):l=(e.y||0)-(e.y=s),e.mark.bounds.clear().union(u.translate(-c,-l)),t.dirty(e)}s.union(u)}const EF=(t,e)=>Math.floor(Math.min(t,e)),DF=(t,e)=>Math.ceil(Math.max(t,e));function MF(t){var e,n,r=t.items,i=r.length,o=0;const a={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;o<i;++o)if(e=r[o],n=e.items,e.marktype===BT)switch(e.role){case RT:case LT:case PT:break;case zT:a.rowheaders.push(...n);break;case UT:a.rowfooters.push(...n);break;case VT:a.colheaders.push(...n);break;case HT:a.colfooters.push(...n);break;case qT:a.rowtitle=n[0];break;case WT:a.coltitle=n[0];break;default:a.marks.push(...n)}return a}function TF(t){return(new LS).set(0,0,t.width||0,t.height||0)}function FF(t){const e=t.bounds.clone();return e.empty()?e.set(0,0,0,0):e.translate(-(t.x||0),-(t.y||0))}function OF(t,e,n){const r=np(t)?t[e]:t;return null!=r?r:void 0!==n?n:0}function $F(t){return t<0?Math.ceil(-t):0}function NF(t,e,n){var r,i,o,a,s,u,c,l,f,h,d,p=!n.nodirty,g=n.bounds===nF?TF:FF,m=xF.set(0,0,0,0),v=OF(n.align,rF),y=OF(n.align,iF),b=OF(n.padding,rF),w=OF(n.padding,iF),x=n.columns||e.length,_=x<=0?1:Math.ceil(e.length/x),k=e.length,A=Array(k),S=Array(x),C=0,E=Array(k),D=Array(_),M=0,T=Array(k),F=Array(k),O=Array(k);for(i=0;i<x;++i)S[i]=0;for(i=0;i<_;++i)D[i]=0;for(i=0;i<k;++i)u=e[i],s=O[i]=g(u),u.x=u.x||0,T[i]=0,u.y=u.y||0,F[i]=0,o=i%x,a=~~(i/x),C=Math.max(C,c=Math.ceil(s.x2)),M=Math.max(M,l=Math.ceil(s.y2)),S[o]=Math.max(S[o],c),D[a]=Math.max(D[a],l),A[i]=b+$F(s.x1),E[i]=w+$F(s.y1),p&&t.dirty(e[i]);for(i=0;i<k;++i)i%x===0&&(A[i]=0),i<x&&(E[i]=0);if(v===eF)for(o=1;o<x;++o){for(d=0,i=o;i<k;i+=x)d<A[i]&&(d=A[i]);for(i=o;i<k;i+=x)A[i]=d+S[o-1]}else if(v===tF){for(d=0,i=0;i<k;++i)i%x&&d<A[i]&&(d=A[i]);for(i=0;i<k;++i)i%x&&(A[i]=d+C)}else for(v=!1,o=1;o<x;++o)for(i=o;i<k;i+=x)A[i]+=S[o-1];if(y===eF)for(a=1;a<_;++a){for(d=0,i=a*x,r=i+x;i<r;++i)d<E[i]&&(d=E[i]);for(i=a*x;i<r;++i)E[i]=d+D[a-1]}else if(y===tF){for(d=0,i=x;i<k;++i)d<E[i]&&(d=E[i]);for(i=x;i<k;++i)E[i]=d+M}else for(y=!1,a=1;a<_;++a)for(i=a*x,r=i+x;i<r;++i)E[i]+=D[a-1];for(f=0,i=0;i<k;++i)f=A[i]+(i%x?f:0),T[i]+=f-e[i].x;for(o=0;o<x;++o)for(h=0,i=o;i<k;i+=x)h+=E[i],F[i]+=h-e[i].y;if(v&&OF(n.center,rF)&&_>1)for(i=0;i<k;++i)s=v===tF?C:S[i%x],f=s-O[i].x2-e[i].x-T[i],f>0&&(T[i]+=f/2);if(y&&OF(n.center,iF)&&1!==x)for(i=0;i<k;++i)s=y===tF?M:D[~~(i/x)],h=s-O[i].y2-e[i].y-F[i],h>0&&(F[i]+=h/2);for(i=0;i<k;++i)m.union(O[i].translate(T[i],F[i]));switch(f=OF(n.anchor,$T),h=OF(n.anchor,NT),OF(n.anchor,rF)){case OT:f-=m.width();break;case FT:f-=m.width()/2}switch(OF(n.anchor,iF)){case OT:h-=m.height();break;case FT:h-=m.height()/2}for(f=Math.round(f),h=Math.round(h),m.clear(),i=0;i<k;++i)e[i].mark.bounds.clear();for(i=0;i<k;++i)u=e[i],u.x+=T[i]+=f,u.y+=F[i]+=h,m.union(u.mark.bounds.union(u.bounds.translate(T[i],F[i]))),p&&t.dirty(u);return m}function BF(t,e,n){var r,i,o,a,s,u,c,l=MF(e),f=l.marks,h=n.bounds===nF?RF:PF,d=n.offset,p=n.columns||f.length,g=p<=0?1:Math.ceil(f.length/p),m=g*p;const v=NF(t,f,n);v.empty()&&v.set(0,0,0,0),l.rowheaders&&(u=OF(n.headerBand,iF,null),r=IF(t,l.rowheaders,f,p,g,-OF(d,"rowHeader"),EF,0,h,"x1",0,p,1,u)),l.colheaders&&(u=OF(n.headerBand,rF,null),i=IF(t,l.colheaders,f,p,p,-OF(d,"columnHeader"),EF,1,h,"y1",0,1,p,u)),l.rowfooters&&(u=OF(n.footerBand,iF,null),o=IF(t,l.rowfooters,f,p,g,OF(d,"rowFooter"),DF,0,h,"x2",p-1,p,1,u)),l.colfooters&&(u=OF(n.footerBand,rF,null),a=IF(t,l.colfooters,f,p,p,OF(d,"columnFooter"),DF,1,h,"y2",m-p,1,p,u)),l.rowtitle&&(s=OF(n.titleAnchor,iF),c=OF(d,"rowTitle"),c=s===OT?o+c:r-c,u=OF(n.titleBand,iF,.5),jF(t,l.rowtitle,c,0,v,u)),l.coltitle&&(s=OF(n.titleAnchor,rF),c=OF(d,"columnTitle"),c=s===OT?a+c:i-c,u=OF(n.titleBand,rF,.5),jF(t,l.coltitle,c,1,v,u))}function RF(t,e){return"x1"===e?t.x||0:"y1"===e?t.y||0:"x2"===e?(t.x||0)+(t.width||0):"y2"===e?(t.y||0)+(t.height||0):void 0}function PF(t,e){return t.bounds[e]}function IF(t,e,n,r,i,o,a,s,u,c,l,f,h,d){var p,g,m,v,y,b,w,x,_,k=n.length,A=0,S=0;if(!k)return A;for(p=l;p<k;p+=f)n[p]&&(A=a(A,u(n[p],c)));if(!e.length)return A;for(e.length>i&&(t.warn("Grid headers exceed limit: "+i),e=e.slice(0,i)),A+=o,g=0,v=e.length;g<v;++g)t.dirty(e[g]),e[g].mark.bounds.clear();for(p=l,g=0,v=e.length;g<v;++g,p+=f){for(b=e[g],y=b.mark.bounds,m=p;m>=0&&null==(w=n[m]);m-=h);s?(x=null==d?w.x:Math.round(w.bounds.x1+d*w.bounds.width()),_=A):(x=A,_=null==d?w.y:Math.round(w.bounds.y1+d*w.bounds.height())),y.union(b.bounds.translate(x-(b.x||0),_-(b.y||0))),b.x=x,b.y=_,t.dirty(b),S=a(S,y[c])}return S}function jF(t,e,n,r,i,o){if(e){t.dirty(e);var a=n,s=n;r?a=Math.round(i.x1+o*i.width()):s=Math.round(i.y1+o*i.height()),e.bounds.translate(a-(e.x||0),s-(e.y||0)),e.mark.bounds.clear().union(e.bounds),e.x=a,e.y=s,t.dirty(e)}}function LF(t,e){const n=t[e]||{};return(e,r)=>null!=n[e]?n[e]:null!=t[e]?t[e]:r}function zF(t,e){let n=-1/0;return t.forEach((t=>{null!=t.offset&&(n=Math.max(n,t.offset))})),n>-1/0?n:e}function UF(t,e,n,r,i,o,a){const s=LF(n,e),u=zF(t,s("offset",0)),c=s("anchor",TT),l=c===OT?1:c===FT?.5:0,f={align:eF,bounds:s("bounds",nF),columns:"vertical"===s("direction")?1:t.length,padding:s("margin",8),center:s("center"),nodirty:!0};switch(e){case kT:f.anchor={x:Math.floor(r.x1)-u,column:OT,y:l*(a||r.height()+2*r.y1),row:c};break;case AT:f.anchor={x:Math.ceil(r.x2)+u,y:l*(a||r.height()+2*r.y1),row:c};break;case _T:f.anchor={y:Math.floor(i.y1)-u,row:OT,x:l*(o||i.width()+2*i.x1),column:c};break;case ST:f.anchor={y:Math.ceil(i.y2)+u,x:l*(o||i.width()+2*i.x1),column:c};break;case CT:f.anchor={x:u,y:u};break;case ET:f.anchor={x:o-u,y:u,column:OT};break;case DT:f.anchor={x:u,y:a-u,row:OT};break;case MT:f.anchor={x:o-u,y:a-u,column:OT,row:OT};break}return f}function qF(t,e){var n,r,i=e.items[0],o=i.datum,a=i.orient,s=i.bounds,u=i.x,c=i.y;return i._bounds?i._bounds.clear().union(s):i._bounds=s.clone(),s.clear(),HF(t,i,i.items[0].items[0]),s=VF(i,s),n=2*i.padding,r=2*i.padding,s.empty()||(n=Math.ceil(s.width()+n),r=Math.ceil(s.height()+r)),o.type===GT&&GF(i.items[0].items[0].items[0].items),a!==QT&&(i.x=u=0,i.y=c=0),i.width=n,i.height=r,WS(s.set(u,c,u+n,c+r),i),i.mark.bounds.clear().union(s),i}function VF(t,e){return t.items.forEach((t=>e.union(t.bounds))),e.x1=t.padding,e.y1=t.padding,e}function HF(t,e,n){var r=e.padding,i=r-n.x,o=r-n.y;if(e.datum.title){var a=e.items[1].items[0],s=a.anchor,u=e.titlePadding||0,c=r-a.x,l=r-a.y;switch(a.orient){case kT:i+=Math.ceil(a.bounds.width())+u;break;case AT:case ST:break;default:o+=a.bounds.height()+u}switch((i||o)&&YF(t,n,i,o),a.orient){case kT:l+=WF(e,n,a,s,1,1);break;case AT:c+=WF(e,n,a,OT,0,0)+u,l+=WF(e,n,a,s,1,1);break;case ST:c+=WF(e,n,a,s,0,0),l+=WF(e,n,a,OT,-1,0,1)+u;break;default:c+=WF(e,n,a,s,0,0)}(c||l)&&YF(t,a,c,l),(c=Math.round(a.bounds.x1-r))<0&&(YF(t,n,-c,0),YF(t,a,-c,0))}else(i||o)&&YF(t,n,i,o)}function WF(t,e,n,r,i,o,a){const s="symbol"!==t.datum.type,u=n.datum.vgrad,c=!s||!o&&u||a?e:e.items[0],l=c.bounds[i?"y2":"x2"]-t.padding,f=u&&o?l:0,h=u&&o?0:l,d=i<=0?0:eD(n);return Math.round(r===TT?f:r===OT?h-d:.5*(l-d))}function YF(t,e,n,r){e.x+=n,e.y+=r,e.bounds.translate(n,r),e.mark.bounds.translate(n,r),t.dirty(e)}function GF(t){const e=t.reduce(((t,e)=>(t[e.column]=Math.max(e.bounds.x2-e.x,t[e.column]||0),t)),{});t.forEach((t=>{t.width=e[t.column],t.height=t.bounds.y2-t.y}))}function KF(t,e,n,r,i){var o,a=e.items[0],s=a.frame,u=a.orient,c=a.anchor,l=a.offset,f=a.padding,h=a.items[0].items[0],d=a.items[1]&&a.items[1].items[0],p=u===kT||u===AT?r:n,g=0,m=0,v=0,y=0,b=0;if(s!==BT?u===kT?(g=i.y2,p=i.y1):u===AT?(g=i.y1,p=i.y2):(g=i.x1,p=i.x2):u===kT&&(g=r,p=0),o=c===TT?g:c===OT?p:(g+p)/2,d&&d.text){switch(u){case _T:case ST:b=h.bounds.height()+f;break;case kT:y=h.bounds.width()+f;break;case AT:y=-h.bounds.width()-f;break}xF.clear().union(d.bounds),xF.translate(y-(d.x||0),b-(d.y||0)),_F(d,"x",y)|_F(d,"y",b)&&(t.dirty(d),d.bounds.clear().union(xF),d.mark.bounds.clear().union(xF),t.dirty(d)),xF.clear().union(d.bounds)}else xF.clear();switch(xF.union(h.bounds),u){case _T:m=o,v=i.y1-xF.height()-l;break;case kT:m=i.x1-xF.width()-l,v=o;break;case AT:m=i.x2+xF.width()+l,v=o;break;case ST:m=o,v=i.y2+l;break;default:m=a.x,v=a.y}return _F(a,"x",m)|_F(a,"y",v)&&(xF.translate(m,v),t.dirty(a),a.bounds.clear().union(xF),e.bounds.clear().union(xF),t.dirty(a)),a.bounds}function XF(t){gu.call(this,null,t)}function JF(t){return t&&"legend-entry"!==t.mark.role}function ZF(t,e,n){var r,i,o,a,s,u,c=e.items,l=Math.max(0,e.width||0),f=Math.max(0,e.height||0),h=(new LS).set(0,0,l,f),d=h.clone(),p=h.clone(),g=[];for(s=0,u=c.length;s<u;++s)switch(i=c[s],i.role){case RT:a=kF(i)?d:p,a.union(SF(t,i,l,f));break;case PT:r=i;break;case LT:g.push(qF(t,i));break;case IT:case jT:case zT:case UT:case qT:case VT:case HT:case WT:d.union(i.bounds),p.union(i.bounds);break;default:h.union(i.bounds)}if(g.length){const e={};g.forEach((t=>{o=t.orient||AT,o!==QT&&(e[o]||(e[o]=[])).push(t)}));for(const r in e){const i=e[r];NF(t,i,UF(i,r,n.legends,d,p,l,f))}g.forEach((e=>{const r=e.bounds;if(r.equals(e._bounds)||(e.bounds=e._bounds,t.dirty(e),e.bounds=r,t.dirty(e)),!n.autosize||n.autosize.type!==KT&&n.autosize.type!==XT&&n.autosize.type!==JT)h.union(r);else switch(e.orient){case kT:case AT:h.add(r.x1,0).add(r.x2,0);break;case _T:case ST:h.add(0,r.y1).add(0,r.y2)}}))}h.union(d).union(p),r&&h.union(KF(t,r,l,f,h)),e.clip&&h.set(0,0,e.width||0,e.height||0),QF(t,e,h,n)}function QF(t,e,n,r){const i=r.autosize||{},o=i.type;if(t._autosize<1||!o)return;let a=t._width,s=t._height,u=Math.max(0,e.width||0),c=Math.max(0,Math.ceil(-n.x1)),l=Math.max(0,e.height||0),f=Math.max(0,Math.ceil(-n.y1));const h=Math.max(0,Math.ceil(n.x2-u)),d=Math.max(0,Math.ceil(n.y2-l));if(i.contains===YT){const e=t.padding();a-=e.left+e.right,s-=e.top+e.bottom}o===QT?(c=0,f=0,u=a,l=s):o===KT?(u=Math.max(0,a-c-h),l=Math.max(0,s-f-d)):o===XT?(u=Math.max(0,a-c-h),s=l+f+d):o===JT?(a=u+c+h,l=Math.max(0,s-f-d)):o===ZT&&(a=u+c+h,s=l+f+d),t._resizeView(a,s,u,l,[c,f],i.resize)}lp(XF,gu,{transform(t,e){const n=e.dataflow;return t.mark.items.forEach((e=>{t.layout&&BF(n,e,t.layout),ZF(n,e,t)})),JF(t.mark.group)?e.reflow():e}});const tO=Nc(bu),eO=tO.right,nO=tO.left;Nc(Au).center;var rO=eO;function iO(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function oO(t,e){switch(arguments.length){case 0:break;case 1:"function"===typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"===typeof e?this.interpolator(e):this.range(e);break}return this}const aO=Symbol("implicit");function sO(){var t=new Map,e=[],n=[],r=aO;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==aO)return r;t.set(o,a=e.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Map;for(const r of n){const n=r+"";t.has(n)||t.set(n,e.push(r))}return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return sO(e,n).unknown(r)},iO.apply(i,arguments),i}var uO=n(6914);function cO(t,e,n,r){var i,o=Pl(t,e,n);switch(r=(0,uO.formatSpecifier)(null==r?",f":r),r.type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=(0,uO.precisionPrefix)(o,a))||(r.precision=i),(0,uO.formatPrefix)(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=(0,uO.precisionRound)(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=(0,uO.precisionFixed)(o))||(r.precision=i-2*("%"===r.type));break}return(0,uO.format)(r)}function lO(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function fO(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function hO(){}var dO=.7,pO=1/dO,gO="\\s*([+-]?\\d+)\\s*",mO="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",vO="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yO=/^#([0-9a-f]{3,8})$/,bO=new RegExp("^rgb\\("+[gO,gO,gO]+"\\)$"),wO=new RegExp("^rgb\\("+[vO,vO,vO]+"\\)$"),xO=new RegExp("^rgba\\("+[gO,gO,gO,mO]+"\\)$"),_O=new RegExp("^rgba\\("+[vO,vO,vO,mO]+"\\)$"),kO=new RegExp("^hsl\\("+[mO,vO,vO]+"\\)$"),AO=new RegExp("^hsla\\("+[mO,vO,vO,mO]+"\\)$"),SO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function CO(){return this.rgb().formatHex()}function EO(){return jO(this).formatHsl()}function DO(){return this.rgb().formatRgb()}function MO(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=yO.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?TO(e):3===n?new NO(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?FO(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?FO(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=bO.exec(t))?new NO(e[1],e[2],e[3],1):(e=wO.exec(t))?new NO(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=xO.exec(t))?FO(e[1],e[2],e[3],e[4]):(e=_O.exec(t))?FO(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=kO.exec(t))?IO(e[1],e[2]/100,e[3]/100,1):(e=AO.exec(t))?IO(e[1],e[2]/100,e[3]/100,e[4]):SO.hasOwnProperty(t)?TO(SO[t]):"transparent"===t?new NO(NaN,NaN,NaN,0):null}function TO(t){return new NO(t>>16&255,t>>8&255,255&t,1)}function FO(t,e,n,r){return r<=0&&(t=e=n=NaN),new NO(t,e,n,r)}function OO(t){return t instanceof hO||(t=MO(t)),t?(t=t.rgb(),new NO(t.r,t.g,t.b,t.opacity)):new NO}function $O(t,e,n,r){return 1===arguments.length?OO(t):new NO(t,e,n,null==r?1:r)}function NO(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function BO(){return"#"+PO(this.r)+PO(this.g)+PO(this.b)}function RO(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function PO(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function IO(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new zO(t,e,n,r)}function jO(t){if(t instanceof zO)return new zO(t.h,t.s,t.l,t.opacity);if(t instanceof hO||(t=MO(t)),!t)return new zO;if(t instanceof zO)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new zO(a,s,u,t.opacity)}function LO(t,e,n,r){return 1===arguments.length?jO(t):new zO(t,e,n,null==r?1:r)}function zO(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function UO(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function qO(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function VO(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return qO((n-r/e)*e,a,i,o,s)}}function HO(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return qO((n-r/e)*e,i,o,a,s)}}lO(hO,MO,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:CO,formatHex:CO,formatHsl:EO,formatRgb:DO,toString:DO}),lO(NO,$O,fO(hO,{brighter:function(t){return t=null==t?pO:Math.pow(pO,t),new NO(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?dO:Math.pow(dO,t),new NO(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:BO,formatHex:BO,formatRgb:RO,toString:RO})),lO(zO,LO,fO(hO,{brighter:function(t){return t=null==t?pO:Math.pow(pO,t),new zO(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?dO:Math.pow(dO,t),new zO(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new NO(UO(t>=240?t-240:t+120,i,r),UO(t,i,r),UO(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var WO=t=>()=>t;function YO(t,e){return function(n){return t+n*e}}function GO(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function KO(t){return 1===(t=+t)?XO:function(e,n){return n-e?GO(e,n,t):WO(isNaN(e)?n:e)}}function XO(t,e){var n=e-t;return n?YO(t,n):WO(isNaN(t)?e:t)}var JO=function t(e){var n=KO(e);function r(t,e){var r=n((t=$O(t)).r,(e=$O(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=XO(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function ZO(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=$O(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}ZO(VO),ZO(HO);function QO(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=l$(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function t$(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function e$(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function n$(t,e){var n,r={},i={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?r[n]=l$(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var r$=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,i$=new RegExp(r$.source,"g");function o$(t){return function(){return t}}function a$(t){return function(e){return t(e)+""}}function s$(t,e){var n,r,i,o=r$.lastIndex=i$.lastIndex=0,a=-1,s=[],u=[];t+="",e+="";while((n=r$.exec(t))&&(r=i$.exec(e)))(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:e$(n,r)})),o=i$.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?a$(u[0].x):o$(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function u$(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function c$(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function l$(t,e){var n,r=typeof e;return null==e||"boolean"===r?WO(e):("number"===r?e$:"string"===r?(n=MO(e))?(e=n,JO):s$:e instanceof MO?JO:e instanceof Date?t$:c$(e)?u$:Array.isArray(e)?QO:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?n$:e$)(t,e)}function f$(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function h$(t){return function(){return t}}function d$(t){return+t}var p$=[0,1];function g$(t){return t}function m$(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:h$(isNaN(e)?NaN:.5)}function v$(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}function y$(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=m$(i,r),o=n(a,o)):(r=m$(r,i),o=n(o,a)),function(t){return o(r(t))}}function b$(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());while(++a<r)i[a]=m$(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=rO(t,e,1,r)-1;return o[n](i[n](e))}}function w$(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function x$(){var t,e,n,r,i,o,a=p$,s=p$,u=l$,c=g$;function l(){var t=Math.min(a.length,s.length);return c!==g$&&(c=v$(a[0],a[t-1])),r=t>2?b$:y$,i=o=null,f}function f(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),s,u)))(t(c(e)))}return f.invert=function(n){return c(e((o||(o=r(s,a.map(t),e$)))(n)))},f.domain=function(t){return arguments.length?(a=Array.from(t,d$),l()):a.slice()},f.range=function(t){return arguments.length?(s=Array.from(t),l()):s.slice()},f.rangeRound=function(t){return s=Array.from(t),u=f$,l()},f.clamp=function(t){return arguments.length?(c=!!t||g$,l()):c!==g$},f.interpolate=function(t){return arguments.length?(u=t,l()):u},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,l()}}function _$(){return x$()(g$,g$)}function k$(t){var e=t.domain;return t.ticks=function(t){var n=e();return Bl(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return cO(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,s=o.length-1,u=o[a],c=o[s],l=10;c<u&&(i=u,u=c,c=i,i=a,a=s,s=i);while(l-- >0){if(i=Rl(u,c,n),i===r)return o[a]=u,o[s]=c,e(o);if(i>0)u=Math.floor(u/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;u=Math.ceil(u*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function A$(){var t=_$();return t.copy=function(){return w$(t,A$())},iO.apply(t,arguments),k$(t)}function S$(t){var e;function n(t){return null==t||isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Array.from(e,d$),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return S$(t).unknown(e)},t=arguments.length?Array.from(t,d$):[0,1],k$(n)}function C$(t,e){t=t.slice();var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function E$(t){return Math.log(t)}function D$(t){return Math.exp(t)}function M$(t){return-Math.log(-t)}function T$(t){return-Math.exp(-t)}function F$(t){return isFinite(t)?+("1e"+t):t<0?0:t}function O$(t){return 10===t?F$:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function $$(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function N$(t){return function(e){return-t(-e)}}function B$(t){var e,n,r=t(E$,D$),i=r.domain,o=10;function a(){return e=$$(o),n=O$(o),i()[0]<0?(e=N$(e),n=N$(n),t(M$,T$)):t(E$,D$),r}return r.base=function(t){return arguments.length?(o=+t,a()):o},r.domain=function(t){return arguments.length?(i(t),a()):i()},r.ticks=function(t){var r,a=i(),s=a[0],u=a[a.length-1];(r=u<s)&&(h=s,s=u,u=h);var c,l,f,h=e(s),d=e(u),p=null==t?10:+t,g=[];if(!(o%1)&&d-h<p){if(h=Math.floor(h),d=Math.ceil(d),s>0){for(;h<=d;++h)for(l=1,c=n(h);l<o;++l)if(f=c*l,!(f<s)){if(f>u)break;g.push(f)}}else for(;h<=d;++h)for(l=o-1,c=n(h);l>=1;--l)if(f=c*l,!(f<s)){if(f>u)break;g.push(f)}2*g.length<p&&(g=Bl(s,u,p))}else g=Bl(h,d,Math.min(d-h,p)).map(n);return r?g.reverse():g},r.tickFormat=function(t,i){if(null==i&&(i=10===o?".0e":","),"function"!==typeof i&&(i=(0,uO.format)(i)),t===1/0)return i;null==t&&(t=10);var a=Math.max(1,o*t/r.ticks().length);return function(t){var r=t/n(Math.round(e(t)));return r*o<o-.5&&(r*=o),r<=a?i(t):""}},r.nice=function(){return i(C$(i(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},r}function R$(){var t=B$(x$()).domain([1,10]);return t.copy=function(){return w$(t,R$()).base(t.base())},iO.apply(t,arguments),t}function P$(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function I$(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function j$(t){return t<0?-t*t:t*t}function L$(t){var e=t(g$,g$),n=1;function r(){return 1===n?t(g$,g$):.5===n?t(I$,j$):t(P$(n),P$(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},k$(e)}function z$(){var t=L$(x$());return t.copy=function(){return w$(t,z$()).exponent(t.exponent())},iO.apply(t,arguments),t}function U$(){return z$.apply(null,arguments).exponent(.5)}function q$(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function V$(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function H$(t){var e=1,n=t(q$(e),V$(e));return n.constant=function(n){return arguments.length?t(q$(e=+n),V$(e)):e},k$(n)}function W$(){var t=H$(x$());return t.copy=function(){return w$(t,W$()).constant(t.constant())},iO.apply(t,arguments)}function Y$(t,e,n,r,i,o){const a=[[xl,1,jc],[xl,5,5*jc],[xl,15,15*jc],[xl,30,30*jc],[o,1,Lc],[o,5,5*Lc],[o,15,15*Lc],[o,30,30*Lc],[i,1,zc],[i,3,3*zc],[i,6,6*zc],[i,12,12*zc],[r,1,Uc],[r,2,2*Uc],[n,1,qc],[e,1,Vc],[e,3,3*Vc],[t,1,Hc]];function s(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const i=n&&"function"===typeof n.range?n:u(t,e,n),o=i?i.range(t,+e+1):[];return r?o.reverse():o}function u(e,n,r){const i=Math.abs(n-e)/r,o=Nc((([,,t])=>t)).right(a,i);if(o===a.length)return t.every(Pl(e/Hc,n/Hc,r));if(0===o)return kl.every(Math.max(Pl(e,n,r),1));const[s,u]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(u)}return[s,u]}const[G$,K$]=Y$(Sl,El,ol,rl,Ml,Fl),[X$,J$]=Y$(dl,gl,Kc,Yc,vl,bl);function Z$(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Q$(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function tN(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function eN(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,c=dN(i),l=pN(i),f=dN(o),h=pN(o),d=dN(a),p=pN(a),g=dN(s),m=pN(s),v=dN(u),y=pN(u),b={a:$,A:N,b:B,B:R,c:null,d:BN,e:BN,f:LN,g:JN,G:QN,H:RN,I:PN,j:IN,L:jN,m:zN,M:UN,p:P,q:I,Q:_B,s:kB,S:qN,u:VN,U:HN,V:YN,w:GN,W:KN,x:null,X:null,y:XN,Y:ZN,Z:tB,"%":xB},w={a:j,A:L,b:z,B:U,c:null,d:eB,e:eB,f:aB,g:vB,G:bB,H:nB,I:rB,j:iB,L:oB,m:sB,M:uB,p:q,q:V,Q:_B,s:kB,S:cB,u:lB,U:fB,V:dB,w:pB,W:gB,x:null,X:null,y:mB,Y:yB,Z:wB,"%":xB},x={a:C,A:E,b:D,B:M,c:T,d:SN,e:SN,f:FN,g:xN,G:wN,H:EN,I:EN,j:CN,L:TN,m:AN,M:DN,p:S,q:kN,Q:$N,s:NN,S:MN,u:mN,U:vN,V:yN,w:gN,W:bN,x:F,X:O,y:xN,Y:wN,Z:_N,"%":ON};function _(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,c=t.length;n instanceof Date||(n=new Date(+n));while(++s<c)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=sN[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function k(t,e){return function(n){var r,i,o=tN(1900,void 0,1),a=A(o,t,n+="",0);if(a!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=Q$(tN(o.y,0,1)),i=r.getUTCDay(),r=i>4||0===i?al.ceil(r):al(r),r=rl.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(r=Z$(tN(o.y,0,1)),i=r.getDay(),r=i>4||0===i?Xc.ceil(r):Xc(r),r=Yc.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Q$(tN(o.y,0,1)).getUTCDay():Z$(tN(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Q$(o)):Z$(o)}}function A(t,e,n,r){var i,o,a=0,s=e.length,u=n.length;while(a<s){if(r>=u)return-1;if(i=e.charCodeAt(a++),37===i){if(i=e.charAt(a++),o=x[i in sN?e.charAt(a++):i],!o||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function S(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=l.get(r[0].toLowerCase()),n+r[0].length):-1}function C(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1}function E(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h.get(r[0].toLowerCase()),n+r[0].length):-1}function D(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1}function M(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m.get(r[0].toLowerCase()),n+r[0].length):-1}function T(t,n,r){return A(t,e,n,r)}function F(t,e,r){return A(t,n,e,r)}function O(t,e,n){return A(t,r,e,n)}function $(t){return a[t.getDay()]}function N(t){return o[t.getDay()]}function B(t){return u[t.getMonth()]}function R(t){return s[t.getMonth()]}function P(t){return i[+(t.getHours()>=12)]}function I(t){return 1+~~(t.getMonth()/3)}function j(t){return a[t.getUTCDay()]}function L(t){return o[t.getUTCDay()]}function z(t){return u[t.getUTCMonth()]}function U(t){return s[t.getUTCMonth()]}function q(t){return i[+(t.getUTCHours()>=12)]}function V(t){return 1+~~(t.getUTCMonth()/3)}return b.x=_(n,b),b.X=_(r,b),b.c=_(e,b),w.x=_(n,w),w.X=_(r,w),w.c=_(e,w),{format:function(t){var e=_(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=_(t+="",w);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t+="",!0);return e.toString=function(){return t},e}}}var nN,rN,iN,oN,aN,sN={"-":"",_:" ",0:"0"},uN=/^\s*\d+/,cN=/^%/,lN=/[\\^$*+?|[\]().{}]/g;function fN(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function hN(t){return t.replace(lN,"\\$&")}function dN(t){return new RegExp("^(?:"+t.map(hN).join("|")+")","i")}function pN(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function gN(t,e,n){var r=uN.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function mN(t,e,n){var r=uN.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function vN(t,e,n){var r=uN.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function yN(t,e,n){var r=uN.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function bN(t,e,n){var r=uN.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function wN(t,e,n){var r=uN.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function xN(t,e,n){var r=uN.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function _N(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function kN(t,e,n){var r=uN.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function AN(t,e,n){var r=uN.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function SN(t,e,n){var r=uN.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function CN(t,e,n){var r=uN.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function EN(t,e,n){var r=uN.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function DN(t,e,n){var r=uN.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function MN(t,e,n){var r=uN.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function TN(t,e,n){var r=uN.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function FN(t,e,n){var r=uN.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ON(t,e,n){var r=cN.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function $N(t,e,n){var r=uN.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function NN(t,e,n){var r=uN.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function BN(t,e){return fN(t.getDate(),e,2)}function RN(t,e){return fN(t.getHours(),e,2)}function PN(t,e){return fN(t.getHours()%12||12,e,2)}function IN(t,e){return fN(1+Yc.count(dl(t),t),e,3)}function jN(t,e){return fN(t.getMilliseconds(),e,3)}function LN(t,e){return jN(t,e)+"000"}function zN(t,e){return fN(t.getMonth()+1,e,2)}function UN(t,e){return fN(t.getMinutes(),e,2)}function qN(t,e){return fN(t.getSeconds(),e,2)}function VN(t){var e=t.getDay();return 0===e?7:e}function HN(t,e){return fN(Kc.count(dl(t)-1,t),e,2)}function WN(t){var e=t.getDay();return e>=4||0===e?Qc(t):Qc.ceil(t)}function YN(t,e){return t=WN(t),fN(Qc.count(dl(t),t)+(4===dl(t).getDay()),e,2)}function GN(t){return t.getDay()}function KN(t,e){return fN(Xc.count(dl(t)-1,t),e,2)}function XN(t,e){return fN(t.getFullYear()%100,e,2)}function JN(t,e){return t=WN(t),fN(t.getFullYear()%100,e,2)}function ZN(t,e){return fN(t.getFullYear()%1e4,e,4)}function QN(t,e){var n=t.getDay();return t=n>=4||0===n?Qc(t):Qc.ceil(t),fN(t.getFullYear()%1e4,e,4)}function tB(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+fN(e/60|0,"0",2)+fN(e%60,"0",2)}function eB(t,e){return fN(t.getUTCDate(),e,2)}function nB(t,e){return fN(t.getUTCHours(),e,2)}function rB(t,e){return fN(t.getUTCHours()%12||12,e,2)}function iB(t,e){return fN(1+rl.count(Sl(t),t),e,3)}function oB(t,e){return fN(t.getUTCMilliseconds(),e,3)}function aB(t,e){return oB(t,e)+"000"}function sB(t,e){return fN(t.getUTCMonth()+1,e,2)}function uB(t,e){return fN(t.getUTCMinutes(),e,2)}function cB(t,e){return fN(t.getUTCSeconds(),e,2)}function lB(t){var e=t.getUTCDay();return 0===e?7:e}function fB(t,e){return fN(ol.count(Sl(t)-1,t),e,2)}function hB(t){var e=t.getUTCDay();return e>=4||0===e?cl(t):cl.ceil(t)}function dB(t,e){return t=hB(t),fN(cl.count(Sl(t),t)+(4===Sl(t).getUTCDay()),e,2)}function pB(t){return t.getUTCDay()}function gB(t,e){return fN(al.count(Sl(t)-1,t),e,2)}function mB(t,e){return fN(t.getUTCFullYear()%100,e,2)}function vB(t,e){return t=hB(t),fN(t.getUTCFullYear()%100,e,2)}function yB(t,e){return fN(t.getUTCFullYear()%1e4,e,4)}function bB(t,e){var n=t.getUTCDay();return t=n>=4||0===n?cl(t):cl.ceil(t),fN(t.getUTCFullYear()%1e4,e,4)}function wB(){return"+0000"}function xB(){return"%"}function _B(t){return+t}function kB(t){return Math.floor(+t/1e3)}function AB(t){return nN=eN(t),rN=nN.format,iN=nN.parse,oN=nN.utcFormat,aN=nN.utcParse,nN}function SB(t){return new Date(t)}function CB(t){return t instanceof Date?+t:+new Date(+t)}function EB(t,e,n,r,i,o,a,s,u,c){var l=_$(),f=l.invert,h=l.domain,d=c(".%L"),p=c(":%S"),g=c("%I:%M"),m=c("%I %p"),v=c("%a %d"),y=c("%b %d"),b=c("%B"),w=c("%Y");function x(t){return(u(t)<t?d:s(t)<t?p:a(t)<t?g:o(t)<t?m:r(t)<t?i(t)<t?v:y:n(t)<t?b:w)(t)}return l.invert=function(t){return new Date(f(t))},l.domain=function(t){return arguments.length?h(Array.from(t,CB)):h().map(SB)},l.ticks=function(e){var n=h();return t(n[0],n[n.length-1],null==e?10:e)},l.tickFormat=function(t,e){return null==e?x:c(e)},l.nice=function(t){var n=h();return t&&"function"===typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?h(C$(n,t)):l},l.copy=function(){return w$(l,EB(t,e,n,r,i,o,a,s,u,c))},l}function DB(){return iO.apply(EB(X$,J$,dl,gl,Kc,Yc,vl,bl,xl,rN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function MB(){return iO.apply(EB(G$,K$,Sl,El,ol,rl,Ml,Fl,xl,oN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function TB(){var t,e,n,r,i,o=0,a=1,s=g$,u=!1;function c(e){return null==e||isNaN(e=+e)?i:s(0===n?.5:(e=(r(e)-t)*n,u?Math.max(0,Math.min(1,e)):e))}function l(t){return function(e){var n,r;return arguments.length?([n,r]=e,s=t(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([o,a]=i,t=r(o=+o),e=r(a=+a),n=t===e?0:1/(e-t),c):[o,a]},c.clamp=function(t){return arguments.length?(u=!!t,c):u},c.interpolator=function(t){return arguments.length?(s=t,c):s},c.range=l(l$),c.rangeRound=l(f$),c.unknown=function(t){return arguments.length?(i=t,c):i},function(i){return r=i,t=i(o),e=i(a),n=t===e?0:1/(e-t),c}}function FB(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function OB(){var t=k$(TB()(g$));return t.copy=function(){return FB(t,OB())},oO.apply(t,arguments)}function $B(){var t=B$(TB()).domain([1,10]);return t.copy=function(){return FB(t,$B()).base(t.base())},oO.apply(t,arguments)}function NB(){var t=H$(TB());return t.copy=function(){return FB(t,NB()).constant(t.constant())},oO.apply(t,arguments)}function BB(){var t=L$(TB());return t.copy=function(){return FB(t,BB()).exponent(t.exponent())},oO.apply(t,arguments)}function RB(){return BB.apply(null,arguments).exponent(.5)}function PB(t,e){void 0===e&&(e=t,t=l$);var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);while(n<r)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}function IB(){var t,e,n,r,i,o,a,s=0,u=.5,c=1,l=1,f=g$,h=!1;function d(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-e)*(l*t<l*e?r:i),f(h?Math.max(0,Math.min(1,t)):t))}function p(t){return function(e){var n,r,i;return arguments.length?([n,r,i]=e,f=PB(t,[n,r,i]),d):[f(0),f(.5),f(1)]}}return d.domain=function(a){return arguments.length?([s,u,c]=a,t=o(s=+s),e=o(u=+u),n=o(c=+c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),l=e<t?-1:1,d):[s,u,c]},d.clamp=function(t){return arguments.length?(h=!!t,d):h},d.interpolator=function(t){return arguments.length?(f=t,d):f},d.range=p(l$),d.rangeRound=p(f$),d.unknown=function(t){return arguments.length?(a=t,d):a},function(a){return o=a,t=a(s),e=a(u),n=a(c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),l=e<t?-1:1,d}}function jB(){var t=k$(IB()(g$));return t.copy=function(){return FB(t,jB())},oO.apply(t,arguments)}function LB(){var t=B$(IB()).domain([.1,1,10]);return t.copy=function(){return FB(t,LB()).base(t.base())},oO.apply(t,arguments)}function zB(){var t=H$(IB());return t.copy=function(){return FB(t,zB()).constant(t.constant())},oO.apply(t,arguments)}function UB(){var t=L$(IB());return t.copy=function(){return FB(t,UB()).exponent(t.exponent())},oO.apply(t,arguments)}function qB(){return UB.apply(null,arguments).exponent(.5)}function VB(){var t,e=[],n=[],r=[];function i(){var t=0,i=Math.max(1,n.length);r=new Array(i-1);while(++t<i)r[t-1]=Eu(e,t/i);return o}function o(e){return null==e||isNaN(e=+e)?t:n[rO(r,e)]}return o.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(bu),i()},o.range=function(t){return arguments.length?(n=Array.from(t),i()):n.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return r.slice()},o.copy=function(){return VB().domain(e).range(n).unknown(t)},iO.apply(o,arguments)}function HB(){var t,e=0,n=1,r=1,i=[.5],o=[0,1];function a(e){return null!=e&&e<=e?o[rO(i,e,0,r)]:t}function s(){var t=-1;i=new Array(r);while(++t<r)i[t]=((t+1)*n-(t-r)*e)/(r+1);return a}return a.domain=function(t){return arguments.length?([e,n]=t,e=+e,n=+n,s()):[e,n]},a.range=function(t){return arguments.length?(r=(o=Array.from(t)).length-1,s()):o.slice()},a.invertExtent=function(t){var a=o.indexOf(t);return a<0?[NaN,NaN]:a<1?[e,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(e){return arguments.length?(t=e,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return HB().domain([e,n]).range(o).unknown(t)},iO.apply(k$(a),arguments)}function WB(){var t,e=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[rO(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=Array.from(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=Array.from(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return WB().domain(e).range(n).unknown(t)},iO.apply(i,arguments)}function YB(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function GB(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function KB(){}AB({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var XB=.7,JB=1/XB,ZB="\\s*([+-]?\\d+)\\s*",QB="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",tR="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eR=/^#([0-9a-f]{3,8})$/,nR=new RegExp("^rgb\\("+[ZB,ZB,ZB]+"\\)$"),rR=new RegExp("^rgb\\("+[tR,tR,tR]+"\\)$"),iR=new RegExp("^rgba\\("+[ZB,ZB,ZB,QB]+"\\)$"),oR=new RegExp("^rgba\\("+[tR,tR,tR,QB]+"\\)$"),aR=new RegExp("^hsl\\("+[QB,tR,tR]+"\\)$"),sR=new RegExp("^hsla\\("+[QB,tR,tR,QB]+"\\)$"),uR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function cR(){return this.rgb().formatHex()}function lR(){return _R(this).formatHsl()}function fR(){return this.rgb().formatRgb()}function hR(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=eR.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?dR(e):3===n?new vR(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?pR(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?pR(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=nR.exec(t))?new vR(e[1],e[2],e[3],1):(e=rR.exec(t))?new vR(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=iR.exec(t))?pR(e[1],e[2],e[3],e[4]):(e=oR.exec(t))?pR(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=aR.exec(t))?xR(e[1],e[2]/100,e[3]/100,1):(e=sR.exec(t))?xR(e[1],e[2]/100,e[3]/100,e[4]):uR.hasOwnProperty(t)?dR(uR[t]):"transparent"===t?new vR(NaN,NaN,NaN,0):null}function dR(t){return new vR(t>>16&255,t>>8&255,255&t,1)}function pR(t,e,n,r){return r<=0&&(t=e=n=NaN),new vR(t,e,n,r)}function gR(t){return t instanceof KB||(t=hR(t)),t?(t=t.rgb(),new vR(t.r,t.g,t.b,t.opacity)):new vR}function mR(t,e,n,r){return 1===arguments.length?gR(t):new vR(t,e,n,null==r?1:r)}function vR(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function yR(){return"#"+wR(this.r)+wR(this.g)+wR(this.b)}function bR(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function wR(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function xR(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new AR(t,e,n,r)}function _R(t){if(t instanceof AR)return new AR(t.h,t.s,t.l,t.opacity);if(t instanceof KB||(t=hR(t)),!t)return new AR;if(t instanceof AR)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new AR(a,s,u,t.opacity)}function kR(t,e,n,r){return 1===arguments.length?_R(t):new AR(t,e,n,null==r?1:r)}function AR(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function SR(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function CR(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function ER(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return CR((n-r/e)*e,a,i,o,s)}}function DR(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return CR((n-r/e)*e,i,o,a,s)}}YB(KB,hR,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:cR,formatHex:cR,formatHsl:lR,formatRgb:fR,toString:fR}),YB(vR,mR,GB(KB,{brighter:function(t){return t=null==t?JB:Math.pow(JB,t),new vR(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?XB:Math.pow(XB,t),new vR(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yR,formatHex:yR,formatRgb:bR,toString:bR})),YB(AR,kR,GB(KB,{brighter:function(t){return t=null==t?JB:Math.pow(JB,t),new AR(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?XB:Math.pow(XB,t),new AR(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new vR(SR(t>=240?t-240:t+120,i,r),SR(t,i,r),SR(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var MR=t=>()=>t;function TR(t,e){return function(n){return t+n*e}}function FR(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function OR(t,e){var n=e-t;return n?TR(t,n>180||n<-180?n-360*Math.round(n/360):n):MR(isNaN(t)?e:t)}function $R(t){return 1===(t=+t)?NR:function(e,n){return n-e?FR(e,n,t):MR(isNaN(e)?n:e)}}function NR(t,e){var n=e-t;return n?TR(t,n):MR(isNaN(t)?e:t)}var BR=function t(e){var n=$R(e);function r(t,e){var r=n((t=mR(t)).r,(e=mR(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=NR(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function RR(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=mR(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}var PR=RR(ER),IR=RR(DR);function jR(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function LR(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function zR(t,e){return(LR(e)?jR:UR)(t,e)}function UR(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=JR(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function qR(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function VR(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function HR(t,e){var n,r={},i={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?r[n]=JR(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var WR=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,YR=new RegExp(WR.source,"g");function GR(t){return function(){return t}}function KR(t){return function(e){return t(e)+""}}function XR(t,e){var n,r,i,o=WR.lastIndex=YR.lastIndex=0,a=-1,s=[],u=[];t+="",e+="";while((n=WR.exec(t))&&(r=YR.exec(e)))(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:VR(n,r)})),o=YR.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?KR(u[0].x):GR(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function JR(t,e){var n,r=typeof e;return null==e||"boolean"===r?MR(e):("number"===r?VR:"string"===r?(n=hR(e))?(e=n,BR):XR:e instanceof hR?BR:e instanceof Date?qR:LR(e)?jR:Array.isArray(e)?UR:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?HR:VR)(t,e)}function ZR(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function QR(t,e){var n=OR(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}}function tP(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var eP,nP=180/Math.PI,rP={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function iP(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*nP,skewX:Math.atan(u)*nP,scaleX:a,scaleY:s}}function oP(t){const e=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?rP:iP(e.a,e.b,e.c,e.d,e.e,e.f)}function aP(t){return null==t?rP:(eP||(eP=document.createElementNS("http://www.w3.org/2000/svg","g")),eP.setAttribute("transform",t),(t=eP.transform.baseVal.consolidate())?(t=t.matrix,iP(t.a,t.b,t.c,t.d,t.e,t.f)):rP)}function sP(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function o(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:VR(t,i)},{i:u-2,x:VR(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}function a(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:VR(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}function s(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:VR(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}function u(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:VR(t,n)},{i:s-2,x:VR(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}return function(e,n){var r=[],i=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,r,i),a(e.rotate,n.rotate,r,i),s(e.skewX,n.skewX,r,i),u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){var e,n=-1,o=i.length;while(++n<o)r[(e=i[n]).i]=e.x(t);return r.join("")}}}var uP=sP(oP,"px, ","px)","deg)"),cP=sP(aP,", ",")",")"),lP=1e-12;function fP(t){return((t=Math.exp(t))+1/t)/2}function hP(t){return((t=Math.exp(t))-1/t)/2}function dP(t){return((t=Math.exp(2*t))-1)/(t+1)}var pP=function t(e,n,r){function i(t,i){var o,a,s=t[0],u=t[1],c=t[2],l=i[0],f=i[1],h=i[2],d=l-s,p=f-u,g=d*d+p*p;if(g<lP)a=Math.log(h/c)/e,o=function(t){return[s+t*d,u+t*p,c*Math.exp(e*t*a)]};else{var m=Math.sqrt(g),v=(h*h-c*c+r*g)/(2*c*n*m),y=(h*h-c*c-r*g)/(2*h*n*m),b=Math.log(Math.sqrt(v*v+1)-v),w=Math.log(Math.sqrt(y*y+1)-y);a=(w-b)/e,o=function(t){var r=t*a,i=fP(b),o=c/(n*m)*(i*dP(e*r+b)-hP(b));return[s+o*d,u+o*p,c*i/fP(e*r+b)]}}return o.duration=1e3*a*e/Math.SQRT2,o}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n,i=r*r;return t(n,r,i)},i}(Math.SQRT2,2,4);function gP(t){return function(e,n){var r=t((e=kR(e)).h,(n=kR(n)).h),i=NR(e.s,n.s),o=NR(e.l,n.l),a=NR(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+""}}}var mP=gP(OR),vP=gP(NR);const yP=Math.PI/180,bP=180/Math.PI,wP=18,xP=.96422,_P=1,kP=.82521,AP=4/29,SP=6/29,CP=3*SP*SP,EP=SP*SP*SP;function DP(t){if(t instanceof TP)return new TP(t.l,t.a,t.b,t.opacity);if(t instanceof PP)return IP(t);t instanceof vR||(t=gR(t));var e,n,r=NP(t.r),i=NP(t.g),o=NP(t.b),a=FP((.2225045*r+.7168786*i+.0606169*o)/_P);return r===i&&i===o?e=n=a:(e=FP((.4360747*r+.3850649*i+.1430804*o)/xP),n=FP((.0139322*r+.0971045*i+.7141733*o)/kP)),new TP(116*a-16,500*(e-a),200*(a-n),t.opacity)}function MP(t,e,n,r){return 1===arguments.length?DP(t):new TP(t,e,n,null==r?1:r)}function TP(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function FP(t){return t>EP?Math.pow(t,1/3):t/CP+AP}function OP(t){return t>SP?t*t*t:CP*(t-AP)}function $P(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function NP(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function BP(t){if(t instanceof PP)return new PP(t.h,t.c,t.l,t.opacity);if(t instanceof TP||(t=DP(t)),0===t.a&&0===t.b)return new PP(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*bP;return new PP(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function RP(t,e,n,r){return 1===arguments.length?BP(t):new PP(t,e,n,null==r?1:r)}function PP(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function IP(t){if(isNaN(t.h))return new TP(t.l,0,0,t.opacity);var e=t.h*yP;return new TP(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}function jP(t,e){var n=NR((t=MP(t)).l,(e=MP(e)).l),r=NR(t.a,e.a),i=NR(t.b,e.b),o=NR(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=o(e),t+""}}function LP(t){return function(e,n){var r=t((e=RP(e)).h,(n=RP(n)).h),i=NR(e.c,n.c),o=NR(e.l,n.l),a=NR(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}YB(TP,MP,GB(KB,{brighter:function(t){return new TP(this.l+wP*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new TP(this.l-wP*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=xP*OP(e),t=_P*OP(t),n=kP*OP(n),new vR($P(3.1338561*e-1.6168667*t-.4906146*n),$P(-.9787684*e+1.9161415*t+.033454*n),$P(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),YB(PP,RP,GB(KB,{brighter:function(t){return new PP(this.h,this.c,this.l+wP*(null==t?1:t),this.opacity)},darker:function(t){return new PP(this.h,this.c,this.l-wP*(null==t?1:t),this.opacity)},rgb:function(){return IP(this).rgb()}}));var zP=LP(OR),UP=LP(NR),qP=-.14861,VP=1.78277,HP=-.29227,WP=-.90649,YP=1.97294,GP=YP*WP,KP=YP*VP,XP=VP*HP-WP*qP;function JP(t){if(t instanceof QP)return new QP(t.h,t.s,t.l,t.opacity);t instanceof vR||(t=gR(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(XP*r+GP*e-KP*n)/(XP+GP-KP),o=r-i,a=(YP*(n-i)-HP*o)/WP,s=Math.sqrt(a*a+o*o)/(YP*i*(1-i)),u=s?Math.atan2(a,o)*bP-120:NaN;return new QP(u<0?u+360:u,s,i,t.opacity)}function ZP(t,e,n,r){return 1===arguments.length?JP(t):new QP(t,e,n,null==r?1:r)}function QP(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function tI(t){return function e(n){function r(e,r){var i=t((e=ZP(e)).h,(r=ZP(r)).h),o=NR(e.s,r.s),a=NR(e.l,r.l),s=NR(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}YB(QP,ZP,GB(KB,{brighter:function(t){return t=null==t?JB:Math.pow(JB,t),new QP(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?XB:Math.pow(XB,t),new QP(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*yP,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new vR(255*(e+n*(qP*r+VP*i)),255*(e+n*(HP*r+WP*i)),255*(e+n*(YP*r)),this.opacity)}}));var eI=tI(OR),nI=tI(NR);function rI(t,e){void 0===e&&(e=t,t=JR);var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);while(n<r)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}function iI(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}function oI(t,e,n){const r=t-e+2*n;return t?r>0?r:1:0}const aI="identity",sI="linear",uI="log",cI="pow",lI="sqrt",fI="symlog",hI="time",dI="utc",pI="sequential",gI="diverging",mI="quantile",vI="quantize",yI="threshold",bI="ordinal",wI="point",xI="band",_I="bin-ordinal",kI="continuous",AI="discrete",SI="discretizing",CI="interpolating",EI="temporal";function DI(t){return function(e){let n,r=e[0],i=e[1];return i<r&&(n=r,r=i,i=n),[t.invert(r),t.invert(i)]}}function MI(t){return function(e){const n=t.range();let r,i,o,a,s=e[0],u=e[1],c=-1;for(u<s&&(i=s,s=u,u=i),o=0,a=n.length;o<a;++o)n[o]>=s&&n[o]<=u&&(c<0&&(c=o),r=o);if(!(c<0))return s=t.invertExtent(n[c]),u=t.invertExtent(n[r]),[void 0===s[0]?s[1]:s[0],void 0===u[1]?u[0]:u[1]]}}function TI(){const t=sO().unknown(void 0),e=t.domain,n=t.range;let r,i,o=[0,1],a=!1,s=0,u=0,c=.5;function l(){const t=e().length,l=o[1]<o[0],f=o[1-l],h=oI(t,s,u);let d=o[l-0];r=(f-d)/(h||1),a&&(r=Math.floor(r)),d+=(f-d-r*(t-s))*c,i=r*(1-s),a&&(d=Math.round(d),i=Math.round(i));const p=$c(t).map((t=>d+r*t));return n(l?p.reverse():p)}return delete t.unknown,t.domain=function(t){return arguments.length?(e(t),l()):e()},t.range=function(t){return arguments.length?(o=[+t[0],+t[1]],l()):o.slice()},t.rangeRound=function(t){return o=[+t[0],+t[1]],a=!0,l()},t.bandwidth=function(){return i},t.step=function(){return r},t.round=function(t){return arguments.length?(a=!!t,l()):a},t.padding=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),s=u,l()):s},t.paddingInner=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),l()):s},t.paddingOuter=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),l()):u},t.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),l()):c},t.invertRange=function(t){if(null==t[0]||null==t[1])return;const r=o[1]<o[0],a=r?n().reverse():n(),s=a.length-1;let u,c,l,f=+t[0],h=+t[1];return f!==f||h!==h||(h<f&&(l=f,f=h,h=l),h<a[0]||f>o[1-r])?void 0:(u=Math.max(0,eO(a,f)-1),c=f===h?u:eO(a,h)-1,f-a[u]>i+1e-10&&++u,r&&(l=u,u=s-c,c=s-l),u>c?void 0:e().slice(u,c+1))},t.invert=function(e){const n=t.invertRange([e,e]);return n?n[0]:n},t.copy=function(){return TI().domain(e()).range(o).round(a).paddingInner(s).paddingOuter(u).align(c)},l()}function FI(t){const e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return FI(e())},t}function OI(){return FI(TI().paddingInner(1))}var $I=Array.prototype.map;function NI(t){return $I.call(t,Ot)}const BI=Array.prototype.slice;function RI(){let t=[],e=[];function n(n){return null==n||n!==n?void 0:e[(rO(t,n)-1)%e.length]}return n.domain=function(e){return arguments.length?(t=NI(e),n):t.slice()},n.range=function(t){return arguments.length?(e=BI.call(t),n):e.slice()},n.tickFormat=function(e,n){return cO(t[0],Ft(t),null==e?10:e,n)},n.copy=function(){return RI().domain(n.domain()).range(n.range())},n}const PI={};function II(t,e,n){const r=function(){const n=e();return n.invertRange||(n.invertRange=n.invert?DI(n):n.invertExtent?MI(n):void 0),n.type=t,n};return r.metadata=Re(Xt(n)),r}function jI(t,e,n){return arguments.length>1?(PI[t]=II(t,e,n),this):LI(t)?PI[t]:void 0}function LI(t){return fe(PI,t)}function zI(t,e){const n=PI[t];return n&&n.metadata[e]}function UI(t){return zI(t,kI)}function qI(t){return zI(t,AI)}function VI(t){return zI(t,SI)}function HI(t){return zI(t,uI)}function WI(t){return zI(t,EI)}function YI(t){return zI(t,CI)}function GI(t){return zI(t,mI)}jI(aI,S$),jI(sI,A$,kI),jI(uI,R$,[kI,uI]),jI(cI,z$,kI),jI(lI,U$,kI),jI(fI,W$,kI),jI(hI,DB,[kI,EI]),jI(dI,MB,[kI,EI]),jI(pI,OB,[kI,CI]),jI("".concat(pI,"-").concat(sI),OB,[kI,CI]),jI("".concat(pI,"-").concat(uI),$B,[kI,CI,uI]),jI("".concat(pI,"-").concat(cI),BB,[kI,CI]),jI("".concat(pI,"-").concat(lI),RB,[kI,CI]),jI("".concat(pI,"-").concat(fI),NB,[kI,CI]),jI("".concat(gI,"-").concat(sI),jB,[kI,CI]),jI("".concat(gI,"-").concat(uI),LB,[kI,CI,uI]),jI("".concat(gI,"-").concat(cI),UB,[kI,CI]),jI("".concat(gI,"-").concat(lI),qB,[kI,CI]),jI("".concat(gI,"-").concat(fI),zB,[kI,CI]),jI(mI,VB,[SI,mI]),jI(vI,HB,SI),jI(yI,WB,SI),jI(_I,RI,[AI,SI]),jI(bI,sO,AI),jI(xI,TI,AI),jI(wI,OI,AI);const KI=["clamp","base","constant","exponent"];function XI(t,e){const n=e[0],r=Ft(e)-n;return function(e){return t(n+e*r)}}function JI(t,e,n){return rI(tj(e||"rgb",n),t)}function ZI(t,e){const n=new Array(e),r=e+1;for(let i=0;i<e;)n[i]=t(++i/r);return n}function QI(t,e,n){const r=n-e;let i,o,a;return r&&Number.isFinite(r)?(i=(o=t.type).indexOf("-"),o=i<0?o:o.slice(i+1),a=jI(o)().domain([e,n]).range([0,1]),KI.forEach((e=>t[e]?a[e](t[e]()):0)),a):oe(.5)}function tj(t,e){const n=u[ej(t)];return null!=e&&n&&n.gamma?n.gamma(e):n}function ej(t){return"interpolate"+t.toLowerCase().split("-").map((t=>t[0].toUpperCase()+t.slice(1))).join("")}const nj={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},rj={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"};function ij(t){const e=t.length/6|0,n=new Array(e);for(let r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}function oj(t,e){for(const n in t)sj(n,e(t[n]))}const aj={};function sj(t,e){return t=t&&t.toLowerCase(),arguments.length>1?(aj[t]=e,this):aj[t]}oj(rj,ij),oj(nj,(t=>JI(ij(t))));const uj="symbol",cj="discrete",lj="gradient",fj=t=>St(t)?t.map((t=>String(t))):String(t),hj=(t,e)=>t[1]-e[1],dj=(t,e)=>e[1]-t[1];function pj(t,e,n){let r;return we(e)&&(t.bins&&(e=Math.max(e,t.bins.length)),null!=n&&(e=Math.min(e,Math.floor(Te(t.domain())/n||1)))),Ct(e)&&(r=e.step,e=e.interval),_e(e)&&(e=t.type===hI?Cf(e):t.type==dI?Ef(e):ct("Only time and utc scales accept interval strings."),r&&(e=e.every(r))),e}function gj(t,e,n){let r=t.range(),i=r[0],o=Ft(r),a=hj;if(i>o&&(r=o,o=i,i=r,a=dj),i=Math.floor(i),o=Math.ceil(o),e=e.map((e=>[e,t(e)])).filter((t=>i<=t[1]&&t[1]<=o)).sort(a).map((t=>t[0])),n>0&&e.length>1){const t=[e[0],Ft(e)];while(e.length>n&&e.length>=3)e=e.filter(((t,e)=>!(e%2)));e.length<3&&(e=t)}return e}function mj(t,e){return t.bins?gj(t,t.bins):t.ticks?t.ticks(e):t.domain()}function vj(t,e,n,r,i,o){const a=e.type;let s=fj;if(a===hI||i===hI)s=t.timeFormat(r);else if(a===dI||i===dI)s=t.utcFormat(r);else if(HI(a)){const i=t.formatFloat(r);if(o||e.bins)s=i;else{const t=yj(e,n,!1);s=e=>t(e)?i(e):""}}else if(e.tickFormat){const i=e.domain();s=t.formatSpan(i[0],i[i.length-1],n,r)}else r&&(s=t.format(r));return s}function yj(t,e,n){const r=mj(t,e),i=t.base(),o=Math.log(i),a=Math.max(1,i*e/r.length),s=t=>{let e=t/Math.pow(i,Math.round(Math.log(t)/o));return e*i<i-.5&&(e*=i),e<=a};return n?r.filter(s):s}const bj={[mI]:"quantiles",[vI]:"thresholds",[yI]:"domain"},wj={[mI]:"quantiles",[vI]:"domain"};function xj(t,e){return t.bins?Aj(t.bins):t.type===uI?yj(t,e,!0):bj[t.type]?kj(t[bj[t.type]]()):mj(t,e)}function _j(t,e,n){const r=e[wj[e.type]](),i=r.length;let o,a=i>1?r[1]-r[0]:r[0];for(o=1;o<i;++o)a=Math.min(a,r[o]-r[o-1]);return t.formatSpan(0,a,30,n)}function kj(t){const e=[-1/0].concat(t);return e.max=1/0,e}function Aj(t){const e=t.slice(0,-1);return e.max=Ft(t),e}const Sj=t=>bj[t.type]||t.bins;function Cj(t,e,n,r,i,o,a){const s=wj[e.type]&&o!==hI&&o!==dI?_j(t,e,i):vj(t,e,n,i,o,a);return r===uj&&Sj(e)?Ej(s):r===cj?Mj(s):Tj(s)}const Ej=t=>(e,n,r)=>{const i=Dj(r[n+1],Dj(r.max,1/0)),o=Fj(e,t),a=Fj(i,t);return o&&a?o+"  "+a:a?"< "+a:" "+o},Dj=(t,e)=>null!=t?t:e,Mj=t=>(e,n)=>n?t(e):null,Tj=t=>e=>t(e),Fj=(t,e)=>Number.isFinite(t)?e(t):null;function Oj(t){const e=t.domain(),n=e.length-1;let r=+e[0],i=+Ft(e),o=i-r;if(t.type===yI){const t=n?o/n:.1;r-=t,i+=t,o=i-r}return t=>(t-r)/o}function $j(t,e,n,r){const i=r||e.type;return _e(n)&&WI(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),n||i!==hI?n||i!==dI?Cj(t,e,5,null,n,r,!0):t.utcFormat("%A, %d %B %Y, %X UTC"):t.timeFormat("%A, %d %B %Y, %X")}function Nj(t,e,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=$j(t,e,n.format,n.formatType);if(VI(e.type)){const t=xj(e).slice(1).map(i),n=t.length;return"".concat(n," boundar").concat(1===n?"y":"ies",": ").concat(t.join(", "))}if(qI(e.type)){const t=e.domain(),n=t.length,o=n>r?t.slice(0,r-2).map(i).join(", ")+", ending with "+t.slice(-1).map(i):t.map(i).join(", ");return"".concat(n," value").concat(1===n?"":"s",": ").concat(o)}{const t=e.domain();return"values from ".concat(i(t[0])," to ").concat(i(Ft(t)))}}function Bj(t,e){let n=0;if(void 0===e)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function Rj(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Pj(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ij(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function jj(){}var Lj=.7,zj=1/Lj,Uj="\\s*([+-]?\\d+)\\s*",qj="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vj="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Hj=/^#([0-9a-f]{3,8})$/,Wj=new RegExp("^rgb\\("+[Uj,Uj,Uj]+"\\)$"),Yj=new RegExp("^rgb\\("+[Vj,Vj,Vj]+"\\)$"),Gj=new RegExp("^rgba\\("+[Uj,Uj,Uj,qj]+"\\)$"),Kj=new RegExp("^rgba\\("+[Vj,Vj,Vj,qj]+"\\)$"),Xj=new RegExp("^hsl\\("+[qj,Vj,Vj]+"\\)$"),Jj=new RegExp("^hsla\\("+[qj,Vj,Vj,qj]+"\\)$"),Zj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Qj(){return this.rgb().formatHex()}function tL(){return hL(this).formatHsl()}function eL(){return this.rgb().formatRgb()}function nL(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Hj.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?rL(e):3===n?new sL(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?iL(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?iL(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Wj.exec(t))?new sL(e[1],e[2],e[3],1):(e=Yj.exec(t))?new sL(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Gj.exec(t))?iL(e[1],e[2],e[3],e[4]):(e=Kj.exec(t))?iL(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Xj.exec(t))?fL(e[1],e[2]/100,e[3]/100,1):(e=Jj.exec(t))?fL(e[1],e[2]/100,e[3]/100,e[4]):Zj.hasOwnProperty(t)?rL(Zj[t]):"transparent"===t?new sL(NaN,NaN,NaN,0):null}function rL(t){return new sL(t>>16&255,t>>8&255,255&t,1)}function iL(t,e,n,r){return r<=0&&(t=e=n=NaN),new sL(t,e,n,r)}function oL(t){return t instanceof jj||(t=nL(t)),t?(t=t.rgb(),new sL(t.r,t.g,t.b,t.opacity)):new sL}function aL(t,e,n,r){return 1===arguments.length?oL(t):new sL(t,e,n,null==r?1:r)}function sL(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function uL(){return"#"+lL(this.r)+lL(this.g)+lL(this.b)}function cL(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function lL(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function fL(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new pL(t,e,n,r)}function hL(t){if(t instanceof pL)return new pL(t.h,t.s,t.l,t.opacity);if(t instanceof jj||(t=nL(t)),!t)return new pL;if(t instanceof pL)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new pL(a,s,u,t.opacity)}function dL(t,e,n,r){return 1===arguments.length?hL(t):new pL(t,e,n,null==r?1:r)}function pL(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function gL(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function mL(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function vL(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return mL((n-r/e)*e,a,i,o,s)}}function yL(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return mL((n-r/e)*e,i,o,a,s)}}Pj(jj,nL,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Qj,formatHex:Qj,formatHsl:tL,formatRgb:eL,toString:eL}),Pj(sL,aL,Ij(jj,{brighter:function(t){return t=null==t?zj:Math.pow(zj,t),new sL(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Lj:Math.pow(Lj,t),new sL(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uL,formatHex:uL,formatRgb:cL,toString:cL})),Pj(pL,dL,Ij(jj,{brighter:function(t){return t=null==t?zj:Math.pow(zj,t),new pL(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Lj:Math.pow(Lj,t),new pL(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new sL(gL(t>=240?t-240:t+120,i,r),gL(t,i,r),gL(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var bL=t=>()=>t;function wL(t,e){return function(n){return t+n*e}}function xL(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function _L(t){return 1===(t=+t)?kL:function(e,n){return n-e?xL(e,n,t):bL(isNaN(e)?n:e)}}function kL(t,e){var n=e-t;return n?wL(t,n):bL(isNaN(t)?e:t)}var AL=function t(e){var n=_L(e);function r(t,e){var r=n((t=aL(t)).r,(e=aL(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=kL(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function SL(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=aL(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}SL(vL),SL(yL);function CL(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=PL(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function EL(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function DL(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ML(t,e){var n,r={},i={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?r[n]=PL(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var TL=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,FL=new RegExp(TL.source,"g");function OL(t){return function(){return t}}function $L(t){return function(e){return t(e)+""}}function NL(t,e){var n,r,i,o=TL.lastIndex=FL.lastIndex=0,a=-1,s=[],u=[];t+="",e+="";while((n=TL.exec(t))&&(r=FL.exec(e)))(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:DL(n,r)})),o=FL.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?$L(u[0].x):OL(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function BL(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function RL(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function PL(t,e){var n,r=typeof e;return null==e||"boolean"===r?bL(e):("number"===r?DL:"string"===r?(n=nL(e))?(e=n,AL):NL:e instanceof nL?AL:e instanceof Date?EL:RL(e)?BL:Array.isArray(e)?CL:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?ML:DL)(t,e)}function IL(t){gu.call(this,null,t)}function jL(t){gu.call(this,null,t)}function LL(){return ns({})}function zL(t){const e=de().test((t=>t.exit));return e.lookup=n=>e.get(t(n)),e}function UL(t){gu.call(this,null,t)}function qL(t){gu.call(this,[],t)}ge(IL,gu,{transform(t,e){if(this.value&&!t.modified())return e.StopPropagation;var n=e.dataflow.locale(),r=e.fork(e.NO_SOURCE|e.NO_FIELDS),i=this.value,o=t.scale,a=null==t.count?t.values?t.values.length:10:t.count,s=pj(o,a,t.minstep),u=t.format||vj(n,o,s,t.formatSpecifier,t.formatType,!!t.values),c=t.values?gj(o,t.values,s):mj(o,s);return i&&(r.rem=i),i=c.map(((t,e)=>ns({index:e/(c.length-1||1),value:t,label:u(t)}))),t.extra&&i.length&&i.push(ns({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}}),ge(jL,gu,{transform(t,e){var n=e.dataflow,r=e.fork(e.NO_SOURCE|e.NO_FIELDS),i=t.item||LL,o=t.key||ts,a=this.value;return St(r.encode)&&(r.encode=null),a&&(t.modified("key")||e.modified(o))&&ct("DataJoin does not support modified key function or fields."),a||(e=e.addAll(),this.value=a=zL(o)),e.visit(e.ADD,(t=>{const e=o(t);let n=a.get(e);n?n.exit?(a.empty--,r.add.push(n)):r.mod.push(n):(n=i(t),a.set(e,n),r.add.push(n)),n.datum=t,n.exit=!1})),e.visit(e.MOD,(t=>{const e=o(t),n=a.get(e);n&&(n.datum=t,r.mod.push(n))})),e.visit(e.REM,(t=>{const e=o(t),n=a.get(e);t!==n.datum||n.exit||(r.rem.push(n),n.exit=!0,++a.empty)})),e.changed(e.ADD_MOD)&&r.modifies("datum"),(e.clean()||t.clean&&a.empty>n.cleanThreshold)&&n.runAfter(a.clean),r}}),ge(UL,gu,{transform(t,e){var n=e.fork(e.ADD_REM),r=t.mod||!1,i=t.encoders,o=e.encode;if(St(o)){if(!n.changed()&&!o.every((t=>i[t])))return e.StopPropagation;o=o[0],n.encode=null}var a="enter"===o,s=i.update||vt,u=i.enter||vt,c=i.exit||vt,l=(o&&!a?i[o]:s)||vt;if(e.changed(e.ADD)&&(e.visit(e.ADD,(e=>{u(e,t),s(e,t)})),n.modifies(u.output),n.modifies(s.output),l!==vt&&l!==s&&(e.visit(e.ADD,(e=>{l(e,t)})),n.modifies(l.output))),e.changed(e.REM)&&c!==vt&&(e.visit(e.REM,(e=>{c(e,t)})),n.modifies(c.output)),a||l!==vt){const i=e.MOD|(t.modified()?e.REFLOW:0);a?(e.visit(i,(e=>{const i=u(e,t)||r;(l(e,t)||i)&&n.mod.push(e)})),n.mod.length&&n.modifies(u.output)):e.visit(i,(e=>{(l(e,t)||r)&&n.mod.push(e)})),n.mod.length&&n.modifies(l.output)}return n.changed()?n:e.StopPropagation}}),ge(qL,gu,{transform(t,e){if(null!=this.value&&!t.modified())return e.StopPropagation;var n,r,i,o,a,s=e.dataflow.locale(),u=e.fork(e.NO_SOURCE|e.NO_FIELDS),c=this.value,l=t.type||uj,f=t.scale,h=+t.limit,d=pj(f,null==t.count?5:t.count,t.minstep),p=!!t.values||l===uj,g=t.format||Cj(s,f,d,l,t.formatSpecifier,t.formatType,p),m=t.values||xj(f,d);return c&&(u.rem=c),l===uj?(h&&m.length>h?(e.dataflow.warn("Symbol legend count exceeds limit, filtering items."),c=m.slice(0,h-1),a=!0):c=m,Zt(i=t.size)?(t.values||0!==f(c[0])||(c=c.slice(1)),o=c.reduce(((e,n)=>Math.max(e,i(n,t))),0)):i=oe(o=i||8),c=c.map(((e,n)=>ns({index:n,label:g(e,n,c),value:e,offset:o,size:i(e,t)}))),a&&(a=m[c.length],c.push(ns({index:c.length,label:"".concat(m.length-c.length," entries"),value:a,offset:o,size:i(a,t)})))):l===lj?(n=f.domain(),r=QI(f,n[0],Ft(n)),m.length<3&&!t.values&&n[0]!==Ft(n)&&(m=[n[0],Ft(n)]),c=m.map(((t,e)=>ns({index:e,label:g(t,e,m),value:t,perc:r(t)})))):(i=m.length-1,r=Oj(f),c=m.map(((t,e)=>ns({index:e,label:g(t,e,m),value:t,perc:e?r(t):0,perc2:e===i?1:r(m[e+1])})))),u.source=c,u.add=c,this.value=c,u}});const VL=t=>t.source.x,HL=t=>t.source.y,WL=t=>t.target.x,YL=t=>t.target.y;function GL(t){gu.call(this,{},t)}GL.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},ge(GL,gu,{transform(t,e){var n=t.sourceX||VL,r=t.sourceY||HL,i=t.targetX||WL,o=t.targetY||YL,a=t.as||"path",s=t.orient||"vertical",u=t.shape||"line",c=sz.get(u+"-"+s)||sz.get(u);return c||ct("LinkPath unsupported type: "+t.shape+(t.orient?"-"+t.orient:"")),e.visit(e.SOURCE,(t=>{t[a]=c(n(t),r(t),i(t),o(t))})),e.reflow(t.modified()).modifies(a)}});const KL=(t,e,n,r)=>"M"+t+","+e+"L"+n+","+r,XL=(t,e,n,r)=>KL(e*Math.cos(t),e*Math.sin(t),r*Math.cos(n),r*Math.sin(n)),JL=(t,e,n,r)=>{var i=n-t,o=r-e,a=Math.sqrt(i*i+o*o)/2,s=180*Math.atan2(o,i)/Math.PI;return"M"+t+","+e+"A"+a+","+a+" "+s+" 0 1 "+n+","+r},ZL=(t,e,n,r)=>JL(e*Math.cos(t),e*Math.sin(t),r*Math.cos(n),r*Math.sin(n)),QL=(t,e,n,r)=>{const i=n-t,o=r-e,a=.2*(i+o),s=.2*(o-i);return"M"+t+","+e+"C"+(t+a)+","+(e+s)+" "+(n+s)+","+(r-a)+" "+n+","+r},tz=(t,e,n,r)=>QL(e*Math.cos(t),e*Math.sin(t),r*Math.cos(n),r*Math.sin(n)),ez=(t,e,n,r)=>"M"+t+","+e+"V"+r+"H"+n,nz=(t,e,n,r)=>"M"+t+","+e+"H"+n+"V"+r,rz=(t,e,n,r)=>{const i=Math.cos(t),o=Math.sin(t),a=Math.cos(n),s=Math.sin(n),u=Math.abs(n-t)>Math.PI?n<=t:n>t;return"M"+e*i+","+e*o+"A"+e+","+e+" 0 0,"+(u?1:0)+" "+e*a+","+e*s+"L"+r*a+","+r*s},iz=(t,e,n,r)=>{const i=(t+n)/2;return"M"+t+","+e+"C"+i+","+e+" "+i+","+r+" "+n+","+r},oz=(t,e,n,r)=>{const i=(e+r)/2;return"M"+t+","+e+"C"+t+","+i+" "+n+","+i+" "+n+","+r},az=(t,e,n,r)=>{const i=Math.cos(t),o=Math.sin(t),a=Math.cos(n),s=Math.sin(n),u=(e+r)/2;return"M"+e*i+","+e*o+"C"+u*i+","+u*o+" "+u*a+","+u*s+" "+r*a+","+r*s},sz=de({line:KL,"line-radial":XL,arc:JL,"arc-radial":ZL,curve:QL,"curve-radial":tz,"orthogonal-horizontal":ez,"orthogonal-vertical":nz,"orthogonal-radial":rz,"diagonal-horizontal":iz,"diagonal-vertical":oz,"diagonal-radial":az});function uz(t){gu.call(this,null,t)}uz.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},ge(uz,gu,{transform(t,e){var n,r,i,o=t.as||["startAngle","endAngle"],a=o[0],s=o[1],u=t.field||gt,c=t.startAngle||0,l=null!=t.endAngle?t.endAngle:2*Math.PI,f=e.source,h=f.map(u),d=h.length,p=c,g=(l-c)/Bj(h),m=$c(d);for(t.sort&&m.sort(((t,e)=>h[t]-h[e])),n=0;n<d;++n)i=h[m[n]],r=f[m[n]],r[a]=p,r[s]=p+=i*g;return this.value=h,e.reflow(t.modified()).modifies(o)}});const cz=5;function lz(t){const e=t.type;return!t.bins&&(e===sI||e===cI||e===lI)}function fz(t){return UI(t)&&t!==pI}const hz=Re(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function dz(t){gu.call(this,null,t),this.modified(!0)}function pz(t){var e,n=t.type,r="";return n===pI?pI+"-"+sI:(gz(t)&&(e=t.rawDomain?t.rawDomain.length:t.domain?t.domain.length+ +(null!=t.domainMid):0,r=2===e?pI+"-":3===e?gI+"-":""),(r+n||sI).toLowerCase())}function gz(t){const e=t.type;return UI(e)&&e!==hI&&e!==dI&&(t.scheme||t.range&&t.range.length&&t.range.every(_e))}function mz(t,e,n){const r=vz(t,e.domainRaw,n);if(r>-1)return r;var i,o,a=e.domain,s=t.type,u=e.zero||void 0===e.zero&&lz(t);if(!a)return 0;if(fz(s)&&e.padding&&a[0]!==Ft(a)&&(a=yz(s,a,e.range,e.padding,e.exponent,e.constant)),(u||null!=e.domainMin||null!=e.domainMax||null!=e.domainMid)&&(i=(a=a.slice()).length-1||1,u&&(a[0]>0&&(a[0]=0),a[i]<0&&(a[i]=0)),null!=e.domainMin&&(a[0]=e.domainMin),null!=e.domainMax&&(a[i]=e.domainMax),null!=e.domainMid)){o=e.domainMid;const t=o>a[i]?i+1:o<a[0]?0:i;t!==i&&n.warn("Scale domainMid exceeds domain min or max.",o),a.splice(t,0,o)}return t.domain(bz(s,a,n)),s===bI&&t.unknown(e.domainImplicit?aO:void 0),e.nice&&t.nice&&t.nice(!0!==e.nice&&pj(t,e.nice)||null),a.length}function vz(t,e,n){return e?(t.domain(bz(t.type,e,n)),e.length):-1}function yz(t,e,n,r,i,o){var a=Math.abs(Ft(n)-n[0]),s=a/(a-2*r),u=t===uI?Ht(e,null,s):t===lI?Wt(e,null,s,.5):t===cI?Wt(e,null,s,i||1):t===fI?Yt(e,null,s,o||1):Vt(e,null,s);return e=e.slice(),e[0]=u[0],e[e.length-1]=u[1],e}function bz(t,e,n){if(HI(t)){var r=Math.abs(e.reduce(((t,e)=>t+(e<0?-1:e>0?1:0)),0));r!==e.length&&n.warn("Log scale domain includes zero: "+Fe(e))}return e}function wz(t,e,n){let r=e.bins;if(r&&!St(r)){const e=t.domain(),n=e[0],i=Ft(e),o=r.step;let a=null==r.start?n:r.start,s=null==r.stop?i:r.stop;o||ct("Scale bins parameter missing step property."),a<n&&(a=o*Math.ceil(n/o)),s>i&&(s=o*Math.floor(i/o)),r=$c(a,s+o/2,o)}return r?t.bins=r:t.bins&&delete t.bins,t.type===_I&&(r?e.domain||e.domainRaw||(t.domain(r),n=r.length):t.bins=t.domain()),n}function xz(t,e,n){var r=t.type,i=e.round||!1,o=e.range;if(null!=e.rangeStep)o=_z(r,e,n);else if(e.scheme&&(o=kz(r,e,n),Zt(o))){if(t.interpolator)return t.interpolator(o);ct("Scale type ".concat(r," does not support interpolating color schemes."))}if(o&&YI(r))return t.interpolator(JI(Sz(o,e.reverse),e.interpolate,e.interpolateGamma));o&&e.interpolate&&t.interpolate?t.interpolate(tj(e.interpolate,e.interpolateGamma)):Zt(t.round)?t.round(i):Zt(t.rangeRound)&&t.interpolate(i?Rj:PL),o&&t.range(Sz(o,e.reverse))}function _z(t,e,n){t!==xI&&t!==wI&&ct("Only band and point scales support rangeStep.");var r=(null!=e.paddingOuter?e.paddingOuter:e.padding)||0,i=t===wI?1:(null!=e.paddingInner?e.paddingInner:e.padding)||0;return[0,e.rangeStep*oI(n,i,r)]}function kz(t,e,n){var r,i,o=e.schemeExtent;return St(e.scheme)?i=JI(e.scheme,e.interpolate,e.interpolateGamma):(r=e.scheme.toLowerCase(),i=sj(r),i||ct("Unrecognized scheme name: ".concat(e.scheme))),n=t===yI?n+1:t===_I?n-1:t===mI||t===vI?+e.schemeCount||cz:n,YI(t)?Az(i,o,e.reverse):Zt(i)?ZI(Az(i,o),n):t===bI?i:i.slice(0,n)}function Az(t,e,n){return Zt(t)&&(e||n)?XI(t,Sz(e||[0,1],n)):t}function Sz(t,e){return e?t.slice().reverse():t}function Cz(t){gu.call(this,null,t)}ge(dz,gu,{transform(t,e){var n=e.dataflow,r=this.value,i=pz(t);for(i in r&&i===r.type||(this.value=r=jI(i)()),t)if(!hz[i]){if("padding"===i&&fz(r.type))continue;Zt(r[i])?r[i](t[i]):n.warn("Unsupported scale property: "+i)}return xz(r,t,wz(r,t,mz(r,t,n))),e.fork(e.NO_SOURCE|e.NO_FIELDS)}}),ge(Cz,gu,{transform(t,e){const n=t.modified("sort")||e.changed(e.ADD)||e.modified(t.sort.fields)||e.modified("datum");return n&&e.source.sort(as(t.sort)),this.modified(n),e}});const Ez="zero",Dz="center",Mz="normalize",Tz=["y0","y1"];function Fz(t){gu.call(this,null,t)}function Oz(t,e,n,r,i){for(var o,a=(e-t.sum)/2,s=t.length,u=0;u<s;++u)o=t[u],o[r]=a,o[i]=a+=Math.abs(n(o))}function $z(t,e,n,r,i){for(var o,a=1/t.sum,s=0,u=t.length,c=0,l=0;c<u;++c)o=t[c],o[r]=s,o[i]=s=a*(l+=Math.abs(n(o)))}function Nz(t,e,n,r,i){for(var o,a,s=0,u=0,c=t.length,l=0;l<c;++l)a=t[l],o=+n(a),o<0?(a[r]=u,a[i]=u+=o):(a[r]=s,a[i]=s+=o)}function Bz(t,e,n,r){var i,o,a,s,u,c,l,f,h,d=[],p=t=>t(u);if(null==e)d.push(t.slice());else for(i={},o=0,a=t.length;o<a;++o)u=t[o],c=e.map(p),l=i[c],l||(i[c]=l=[],d.push(l)),l.push(u);for(c=0,h=0,s=d.length;c<s;++c){for(l=d[c],o=0,f=0,a=l.length;o<a;++o)f+=Math.abs(r(l[o]));l.sum=f,f>h&&(h=f),n&&l.sort(n)}return d.max=h,d}Fz.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:Ez,values:[Ez,Dz,Mz]},{name:"as",type:"string",array:!0,length:2,default:Tz}]},ge(Fz,gu,{transform(t,e){var n,r,i,o,a=t.as||Tz,s=a[0],u=a[1],c=as(t.sort),l=t.field||gt,f=t.offset===Dz?Oz:t.offset===Mz?$z:Nz;for(n=Bz(e.source,t.groupby,c,l),r=0,i=n.length,o=n.max;r<i;++r)f(n[r],o,l,s,u);return e.reflow(t.modified()).modifies(a)}});var Rz=t=>t;function Pz(t,e){t&&jz.hasOwnProperty(t.type)&&jz[t.type](t,e)}var Iz={Feature:function(t,e){Pz(t.geometry,e)},FeatureCollection:function(t,e){var n=t.features,r=-1,i=n.length;while(++r<i)Pz(n[r].geometry,e)}},jz={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){var n=t.coordinates,r=-1,i=n.length;while(++r<i)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Lz(t.coordinates,e,0)},MultiLineString:function(t,e){var n=t.coordinates,r=-1,i=n.length;while(++r<i)Lz(n[r],e,0)},Polygon:function(t,e){zz(t.coordinates,e)},MultiPolygon:function(t,e){var n=t.coordinates,r=-1,i=n.length;while(++r<i)zz(n[r],e)},GeometryCollection:function(t,e){var n=t.geometries,r=-1,i=n.length;while(++r<i)Pz(n[r],e)}};function Lz(t,e,n){var r,i=-1,o=t.length-n;e.lineStart();while(++i<o)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function zz(t,e){var n=-1,r=t.length;e.polygonStart();while(++n<r)Lz(t[n],e,1);e.polygonEnd()}function Uz(t,e){t&&Iz.hasOwnProperty(t.type)?Iz[t.type](t,e):Pz(t,e)}class qz{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const i=e[r],o=t+i,a=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);a&&(e[n++]=a),t=o}return e[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let e,n,r,i=this._n,o=0;if(i>0){o=t[--i];while(i>0)if(e=o,n=t[--i],o=e+n,r=n-(o-e),r)break;i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(n=2*r,e=o+n,n==e-o&&(o=e))}return o}}var Vz=1e-6,Hz=1e-12,Wz=Math.PI,Yz=Wz/2,Gz=Wz/4,Kz=2*Wz,Xz=180/Wz,Jz=Wz/180,Zz=Math.abs,Qz=Math.atan,tU=Math.atan2,eU=Math.cos,nU=Math.ceil,rU=Math.exp,iU=(Math.floor,Math.hypot),oU=Math.log,aU=Math.pow,sU=Math.sin,uU=Math.sign||function(t){return t>0?1:t<0?-1:0},cU=Math.sqrt,lU=Math.tan;function fU(t){return t>1?0:t<-1?Wz:Math.acos(t)}function hU(t){return t>1?Yz:t<-1?-Yz:Math.asin(t)}function dU(){}var pU,gU,mU,vU,yU=new qz,bU=new qz,wU={point:dU,lineStart:dU,lineEnd:dU,polygonStart:function(){wU.lineStart=xU,wU.lineEnd=AU},polygonEnd:function(){wU.lineStart=wU.lineEnd=wU.point=dU,yU.add(Zz(bU)),bU=new qz},result:function(){var t=yU/2;return yU=new qz,t}};function xU(){wU.point=_U}function _U(t,e){wU.point=kU,pU=mU=t,gU=vU=e}function kU(t,e){bU.add(vU*t-mU*e),mU=t,vU=e}function AU(){kU(pU,gU)}var SU=wU,CU=1/0,EU=CU,DU=-CU,MU=DU,TU={point:FU,lineStart:dU,lineEnd:dU,polygonStart:dU,polygonEnd:dU,result:function(){var t=[[CU,EU],[DU,MU]];return DU=MU=-(EU=CU=1/0),t}};function FU(t,e){t<CU&&(CU=t),t>DU&&(DU=t),e<EU&&(EU=e),e>MU&&(MU=e)}var OU,$U,NU,BU,RU=TU,PU=0,IU=0,jU=0,LU=0,zU=0,UU=0,qU=0,VU=0,HU=0,WU={point:YU,lineStart:GU,lineEnd:JU,polygonStart:function(){WU.lineStart=ZU,WU.lineEnd=QU},polygonEnd:function(){WU.point=YU,WU.lineStart=GU,WU.lineEnd=JU},result:function(){var t=HU?[qU/HU,VU/HU]:UU?[LU/UU,zU/UU]:jU?[PU/jU,IU/jU]:[NaN,NaN];return PU=IU=jU=LU=zU=UU=qU=VU=HU=0,t}};function YU(t,e){PU+=t,IU+=e,++jU}function GU(){WU.point=KU}function KU(t,e){WU.point=XU,YU(NU=t,BU=e)}function XU(t,e){var n=t-NU,r=e-BU,i=cU(n*n+r*r);LU+=i*(NU+t)/2,zU+=i*(BU+e)/2,UU+=i,YU(NU=t,BU=e)}function JU(){WU.point=YU}function ZU(){WU.point=tq}function QU(){eq(OU,$U)}function tq(t,e){WU.point=eq,YU(OU=NU=t,$U=BU=e)}function eq(t,e){var n=t-NU,r=e-BU,i=cU(n*n+r*r);LU+=i*(NU+t)/2,zU+=i*(BU+e)/2,UU+=i,i=BU*t-NU*e,qU+=i*(NU+t),VU+=i*(BU+e),HU+=3*i,YU(NU=t,BU=e)}var nq=WU;function rq(t){this._context=t}rq.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Kz);break}},result:dU};var iq,oq,aq,sq,uq,cq=new qz,lq={point:dU,lineStart:function(){lq.point=fq},lineEnd:function(){iq&&hq(oq,aq),lq.point=dU},polygonStart:function(){iq=!0},polygonEnd:function(){iq=null},result:function(){var t=+cq;return cq=new qz,t}};function fq(t,e){lq.point=hq,oq=sq=t,aq=uq=e}function hq(t,e){sq-=t,uq-=e,cq.add(cU(sq*sq+uq*uq)),sq=t,uq=e}var dq=lq;function pq(){this._string=[]}function gq(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function mq(t,e){var n,r,i=4.5;function o(t){return t&&("function"===typeof i&&r.pointRadius(+i.apply(this,arguments)),Uz(t,n(r))),r.result()}return o.area=function(t){return Uz(t,n(SU)),SU.result()},o.measure=function(t){return Uz(t,n(dq)),dq.result()},o.bounds=function(t){return Uz(t,n(RU)),RU.result()},o.centroid=function(t){return Uz(t,n(nq)),nq.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,Rz):(t=e).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(e=null,new pq):new rq(e=t),"function"!==typeof i&&r.pointRadius(i),o):e},o.pointRadius=function(t){return arguments.length?(i="function"===typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(e)}function vq(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:dU,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function yq(t,e){return Zz(t[0]-e[0])<Vz&&Zz(t[1]-e[1])<Vz}function bq(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function wq(t,e,n,r,i){var o,a,s=[],u=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(yq(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2*Vz}s.push(n=new bq(r,t,null,!0)),u.push(n.o=new bq(r,null,n,!1)),s.push(n=new bq(a,t,null,!1)),u.push(n.o=new bq(a,null,n,!0))}})),s.length){for(u.sort(e),xq(s),xq(u),o=0,a=u.length;o<a;++o)u[o].e=n=!n;var c,l,f=s[0];while(1){var h=f,d=!0;while(h.v)if((h=h.n)===f)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=c.length;o<a;++o)i.point((l=c[o])[0],l[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(c=h.p.z,o=c.length-1;o>=0;--o)i.point((l=c[o])[0],l[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,c=h.z,d=!d}while(!h.v);i.lineEnd()}}}function xq(t){if(e=t.length){var e,n,r=0,i=t[0];while(++r<e)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function _q(t){return[tU(t[1],t[0]),hU(t[2])]}function kq(t){var e=t[0],n=t[1],r=eU(n);return[r*eU(e),r*sU(e),sU(n)]}function Aq(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Sq(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Cq(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Eq(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Dq(t){var e=cU(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Mq(t){return Zz(t[0])<=Wz?t[0]:uU(t[0])*((Zz(t[0])+Wz)%Kz-Wz)}function Tq(t,e){var n=Mq(e),r=e[1],i=sU(r),o=[sU(n),-eU(n),0],a=0,s=0,u=new qz;1===i?r=Yz+Vz:-1===i&&(r=-Yz-Vz);for(var c=0,l=t.length;c<l;++c)if(h=(f=t[c]).length)for(var f,h,d=f[h-1],p=Mq(d),g=d[1]/2+Gz,m=sU(g),v=eU(g),y=0;y<h;++y,p=w,m=_,v=k,d=b){var b=f[y],w=Mq(b),x=b[1]/2+Gz,_=sU(x),k=eU(x),A=w-p,S=A>=0?1:-1,C=S*A,E=C>Wz,D=m*_;if(u.add(tU(D*S*sU(C),v*k+D*eU(C))),a+=E?A+S*Kz:A,E^p>=n^w>=n){var M=Sq(kq(d),kq(b));Dq(M);var T=Sq(o,M);Dq(T);var F=(E^A>=0?-1:1)*hU(T[2]);(r>F||r===F&&(M[0]||M[1]))&&(s+=E^A>=0?1:-1)}}return(a<-Vz||a<Vz&&u<-Hz)^1&s}function*Fq(t){for(const e of t)yield*e}function Oq(t){return Array.from(Fq(t))}function $q(t,e,n,r){return function(i){var o,a,s,u=e(i),c=vq(),l=e(c),f=!1,h={point:d,lineStart:g,lineEnd:m,polygonStart:function(){h.point=v,h.lineStart=y,h.lineEnd=b,a=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=g,h.lineEnd=m,a=Oq(a);var t=Tq(o,r);a.length?(f||(i.polygonStart(),f=!0),wq(a,Bq,t,n,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(e,n){t(e,n)&&i.point(e,n)}function p(t,e){u.point(t,e)}function g(){h.point=p,u.lineStart()}function m(){h.point=d,u.lineEnd()}function v(t,e){s.push([t,e]),l.point(t,e)}function y(){l.lineStart(),s=[]}function b(){v(s[0][0],s[0][1]),l.lineEnd();var t,e,n,r,u=l.clean(),h=c.result(),d=h.length;if(s.pop(),o.push(s),s=null,d)if(1&u){if(n=h[0],(e=n.length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else d>1&&2&u&&h.push(h.pop().concat(h.shift())),a.push(h.filter(Nq))}return h}}function Nq(t){return t.length>1}function Bq(t,e){return((t=t.x)[0]<0?t[1]-Yz-Vz:Yz-t[1])-((e=e.x)[0]<0?e[1]-Yz-Vz:Yz-e[1])}pq.prototype={_radius:4.5,_circle:gq(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=gq(this._radius)),this._string.push("M",t,",",e,this._circle);break}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var Rq=$q((function(){return!0}),Pq,jq,[-Wz,-Yz]);function Pq(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Wz:-Wz,u=Zz(o-n);Zz(u-Wz)<Vz?(t.point(n,r=(r+a)/2>0?Yz:-Yz),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&u>=Wz&&(Zz(n-i)<Vz&&(n-=i*Vz),Zz(o-s)<Vz&&(o-=s*Vz),r=Iq(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}function Iq(t,e,n,r){var i,o,a=sU(t-n);return Zz(a)>Vz?Qz((sU(e)*(o=eU(r))*sU(n)-sU(r)*(i=eU(e))*sU(t))/(i*o*a)):(e+r)/2}function jq(t,e,n,r){var i;if(null==t)i=n*Yz,r.point(-Wz,i),r.point(0,i),r.point(Wz,i),r.point(Wz,0),r.point(Wz,-i),r.point(0,-i),r.point(-Wz,-i),r.point(-Wz,0),r.point(-Wz,i);else if(Zz(t[0]-e[0])>Vz){var o=t[0]<e[0]?Wz:-Wz;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function Lq(t,e,n,r,i,o){if(n){var a=eU(e),s=sU(e),u=r*n;null==i?(i=e+r*Kz,o=e-u/2):(i=zq(a,i),o=zq(a,o),(r>0?i<o:i>o)&&(i+=r*Kz));for(var c,l=i;r>0?l>o:l<o;l-=u)c=_q([a,-s*eU(l),-s*sU(l)]),t.point(c[0],c[1])}}function zq(t,e){e=kq(e),e[0]-=t,Dq(e);var n=fU(-e[1]);return((-e[2]<0?-n:n)+Kz-Vz)%Kz}function Uq(t){var e=eU(t),n=6*Jz,r=e>0,i=Zz(e)>Vz;function o(e,r,i,o){Lq(o,t,n,i,e,r)}function a(t,n){return eU(t)*eU(n)>e}function s(t){var e,n,o,s,l;return{lineStart:function(){s=o=!1,l=1},point:function(f,h){var d,p=[f,h],g=a(f,h),m=r?g?0:c(f,h):g?c(f+(f<0?Wz:-Wz),h):0;if(!e&&(s=o=g)&&t.lineStart(),g!==o&&(d=u(e,p),(!d||yq(e,d)||yq(p,d))&&(p[2]=1)),g!==o)l=0,g?(t.lineStart(),d=u(p,e),t.point(d[0],d[1])):(d=u(e,p),t.point(d[0],d[1],2),t.lineEnd()),e=d;else if(i&&e&&r^g){var v;m&n||!(v=u(p,e,!0))||(l=0,r?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1],3)))}!g||e&&yq(e,p)||t.point(p[0],p[1]),e=p,o=g,n=m},lineEnd:function(){o&&t.lineEnd(),e=null},clean:function(){return l|(s&&o)<<1}}}function u(t,n,r){var i=kq(t),o=kq(n),a=[1,0,0],s=Sq(i,o),u=Aq(s,s),c=s[0],l=u-c*c;if(!l)return!r&&t;var f=e*u/l,h=-e*c/l,d=Sq(a,s),p=Eq(a,f),g=Eq(s,h);Cq(p,g);var m=d,v=Aq(p,m),y=Aq(m,m),b=v*v-y*(Aq(p,p)-1);if(!(b<0)){var w=cU(b),x=Eq(m,(-v-w)/y);if(Cq(x,p),x=_q(x),!r)return x;var _,k=t[0],A=n[0],S=t[1],C=n[1];A<k&&(_=k,k=A,A=_);var E=A-k,D=Zz(E-Wz)<Vz,M=D||E<Vz;if(!D&&C<S&&(_=S,S=C,C=_),M?D?S+C>0^x[1]<(Zz(x[0]-k)<Vz?S:C):S<=x[1]&&x[1]<=C:E>Wz^(k<=x[0]&&x[0]<=A)){var T=Eq(m,(-v+w)/y);return Cq(T,p),[x,_q(T)]}}}function c(e,n){var i=r?t:Wz-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return $q(a,s,o,r?[0,-t]:[-Wz,t-Wz])}function qq(t,e,n,r,i,o){var a,s=t[0],u=t[1],c=e[0],l=e[1],f=0,h=1,d=c-s,p=l-u;if(a=n-s,d||!(a>0)){if(a/=d,d<0){if(a<f)return;a<h&&(h=a)}else if(d>0){if(a>h)return;a>f&&(f=a)}if(a=i-s,d||!(a<0)){if(a/=d,d<0){if(a>h)return;a>f&&(f=a)}else if(d>0){if(a<f)return;a<h&&(h=a)}if(a=r-u,p||!(a>0)){if(a/=p,p<0){if(a<f)return;a<h&&(h=a)}else if(p>0){if(a>h)return;a>f&&(f=a)}if(a=o-u,p||!(a<0)){if(a/=p,p<0){if(a>h)return;a>f&&(f=a)}else if(p>0){if(a<f)return;a<h&&(h=a)}return f>0&&(t[0]=s+f*d,t[1]=u+f*p),h<1&&(e[0]=s+h*d,e[1]=u+h*p),!0}}}}}var Vq=1e9,Hq=-Vq;function Wq(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,s,c){var l=0,f=0;if(null==i||(l=a(i,s))!==(f=a(o,s))||u(i,o)<0^s>0)do{c.point(0===l||3===l?t:n,l>1?r:e)}while((l=(l+s+4)%4)!==f);else c.point(o[0],o[1])}function a(r,i){return Zz(r[0]-t)<Vz?i>0?0:3:Zz(r[0]-n)<Vz?i>0?2:1:Zz(r[1]-e)<Vz?i>0?1:0:i>0?3:2}function s(t,e){return u(t.x,e.x)}function u(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var u,c,l,f,h,d,p,g,m,v,y,b=a,w=vq(),x={point:_,lineStart:C,lineEnd:E,polygonStart:A,polygonEnd:S};function _(t,e){i(t,e)&&b.point(t,e)}function k(){for(var e=0,n=0,i=c.length;n<i;++n)for(var o,a,s=c[n],u=1,l=s.length,f=s[0],h=f[0],d=f[1];u<l;++u)o=h,a=d,f=s[u],h=f[0],d=f[1],a<=r?d>r&&(h-o)*(r-a)>(d-a)*(t-o)&&++e:d<=r&&(h-o)*(r-a)<(d-a)*(t-o)&&--e;return e}function A(){b=w,u=[],c=[],y=!0}function S(){var t=k(),e=y&&t,n=(u=Oq(u)).length;(e||n)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),n&&wq(u,s,t,o,a),a.polygonEnd()),b=a,u=c=l=null}function C(){x.point=D,c&&c.push(l=[]),v=!0,m=!1,p=g=NaN}function E(){u&&(D(f,h),d&&m&&w.rejoin(),u.push(w.result())),x.point=_,m&&b.lineEnd()}function D(o,a){var s=i(o,a);if(c&&l.push([o,a]),v)f=o,h=a,d=s,v=!1,s&&(b.lineStart(),b.point(o,a));else if(s&&m)b.point(o,a);else{var u=[p=Math.max(Hq,Math.min(Vq,p)),g=Math.max(Hq,Math.min(Vq,g))],w=[o=Math.max(Hq,Math.min(Vq,o)),a=Math.max(Hq,Math.min(Vq,a))];qq(u,w,t,e,n,r)?(m||(b.lineStart(),b.point(u[0],u[1])),b.point(w[0],w[1]),s||b.lineEnd(),y=!1):s&&(b.lineStart(),b.point(o,a),y=!1)}p=o,g=a,m=s}return x}}function Yq(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),n}function Gq(t,e){return[Zz(t)>Wz?t+Math.round(-t/Kz)*Kz:t,e]}function Kq(t,e,n){return(t%=Kz)?e||n?Yq(Jq(t),Zq(e,n)):Jq(t):e||n?Zq(e,n):Gq}function Xq(t){return function(e,n){return e+=t,[e>Wz?e-Kz:e<-Wz?e+Kz:e,n]}}function Jq(t){var e=Xq(t);return e.invert=Xq(-t),e}function Zq(t,e){var n=eU(t),r=sU(t),i=eU(e),o=sU(e);function a(t,e){var a=eU(e),s=eU(t)*a,u=sU(t)*a,c=sU(e),l=c*n+s*r;return[tU(u*i-l*o,s*n-c*r),hU(l*i+u*o)]}return a.invert=function(t,e){var a=eU(e),s=eU(t)*a,u=sU(t)*a,c=sU(e),l=c*i-u*o;return[tU(u*i+c*o,s*n+l*r),hU(l*n-s*r)]},a}function Qq(t){function e(e){return e=t(e[0]*Jz,e[1]*Jz),e[0]*=Xz,e[1]*=Xz,e}return t=Kq(t[0]*Jz,t[1]*Jz,t.length>2?t[2]*Jz:0),e.invert=function(e){return e=t.invert(e[0]*Jz,e[1]*Jz),e[0]*=Xz,e[1]*=Xz,e},e}function tV(t){return function(e){var n=new eV;for(var r in t)n[r]=t[r];return n.stream=e,n}}function eV(){}function nV(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Uz(n,t.stream(RU)),e(RU.result()),null!=r&&t.clipExtent(r),t}function rV(t,e,n){return nV(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,s])}),n)}function iV(t,e,n){return rV(t,[[0,0],e],n)}function oV(t,e,n){return nV(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])}),n)}function aV(t,e,n){return nV(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])}),n)}Gq.invert=Gq,eV.prototype={constructor:eV,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var sV=16,uV=eU(30*Jz);function cV(t,e){return+e?fV(t,e):lV(t)}function lV(t){return tV({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function fV(t,e){function n(r,i,o,a,s,u,c,l,f,h,d,p,g,m){var v=c-r,y=l-i,b=v*v+y*y;if(b>4*e&&g--){var w=a+h,x=s+d,_=u+p,k=cU(w*w+x*x+_*_),A=hU(_/=k),S=Zz(Zz(_)-1)<Vz||Zz(o-f)<Vz?(o+f)/2:tU(x,w),C=t(S,A),E=C[0],D=C[1],M=E-r,T=D-i,F=y*M-v*T;(F*F/b>e||Zz((v*M+y*T)/b-.5)>.3||a*h+s*d+u*p<uV)&&(n(r,i,o,a,s,u,E,D,S,w/=k,x/=k,_,g,m),m.point(E,D),n(E,D,S,w,x,_,c,l,f,h,d,p,g,m))}}return function(e){var r,i,o,a,s,u,c,l,f,h,d,p,g={point:m,lineStart:v,lineEnd:b,polygonStart:function(){e.polygonStart(),g.lineStart=w},polygonEnd:function(){e.polygonEnd(),g.lineStart=v}};function m(n,r){n=t(n,r),e.point(n[0],n[1])}function v(){l=NaN,g.point=y,e.lineStart()}function y(r,i){var o=kq([r,i]),a=t(r,i);n(l,f,c,h,d,p,l=a[0],f=a[1],c=r,h=o[0],d=o[1],p=o[2],sV,e),e.point(l,f)}function b(){g.point=m,e.lineEnd()}function w(){v(),g.point=x,g.lineEnd=_}function x(t,e){y(r=t,e),i=l,o=f,a=h,s=d,u=p,g.point=y}function _(){n(l,f,c,h,d,p,i,o,r,a,s,u,sV,e),g.lineEnd=b,b()}return g}}var hV=tV({point:function(t,e){this.stream.point(t*Jz,e*Jz)}});function dV(t){return tV({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function pV(t,e,n,r,i){function o(o,a){return o*=r,a*=i,[e+t*o,n-t*a]}return o.invert=function(o,a){return[(o-e)/t*r,(n-a)/t*i]},o}function gV(t,e,n,r,i,o){if(!o)return pV(t,e,n,r,i);var a=eU(o),s=sU(o),u=a*t,c=s*t,l=a/t,f=s/t,h=(s*n-a*e)/t,d=(s*e+a*n)/t;function p(t,o){return t*=r,o*=i,[u*t-c*o+e,n-c*t-u*o]}return p.invert=function(t,e){return[r*(l*t-f*e+h),i*(d-f*t-l*e)]},p}function mV(t){return vV((function(){return t}))()}function vV(t){var e,n,r,i,o,a,s,u,c,l,f=150,h=480,d=250,p=0,g=0,m=0,v=0,y=0,b=0,w=1,x=1,_=null,k=Rq,A=null,S=Rz,C=.5;function E(t){return u(t[0]*Jz,t[1]*Jz)}function D(t){return t=u.invert(t[0],t[1]),t&&[t[0]*Xz,t[1]*Xz]}function M(){var t=gV(f,0,0,w,x,b).apply(null,e(p,g)),r=gV(f,h-t[0],d-t[1],w,x,b);return n=Kq(m,v,y),s=Yq(e,r),u=Yq(n,s),a=cV(s,C),T()}function T(){return c=l=null,E}return E.stream=function(t){return c&&l===t?c:c=hV(dV(n)(k(a(S(l=t)))))},E.preclip=function(t){return arguments.length?(k=t,_=void 0,T()):k},E.postclip=function(t){return arguments.length?(S=t,A=r=i=o=null,T()):S},E.clipAngle=function(t){return arguments.length?(k=+t?Uq(_=t*Jz):(_=null,Rq),T()):_*Xz},E.clipExtent=function(t){return arguments.length?(S=null==t?(A=r=i=o=null,Rz):Wq(A=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),T()):null==A?null:[[A,r],[i,o]]},E.scale=function(t){return arguments.length?(f=+t,M()):f},E.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],M()):[h,d]},E.center=function(t){return arguments.length?(p=t[0]%360*Jz,g=t[1]%360*Jz,M()):[p*Xz,g*Xz]},E.rotate=function(t){return arguments.length?(m=t[0]%360*Jz,v=t[1]%360*Jz,y=t.length>2?t[2]%360*Jz:0,M()):[m*Xz,v*Xz,y*Xz]},E.angle=function(t){return arguments.length?(b=t%360*Jz,M()):b*Xz},E.reflectX=function(t){return arguments.length?(w=t?-1:1,M()):w<0},E.reflectY=function(t){return arguments.length?(x=t?-1:1,M()):x<0},E.precision=function(t){return arguments.length?(a=cV(s,C=t*t),T()):cU(C)},E.fitExtent=function(t,e){return rV(E,t,e)},E.fitSize=function(t,e){return iV(E,t,e)},E.fitWidth=function(t,e){return oV(E,t,e)},E.fitHeight=function(t,e){return aV(E,t,e)},function(){return e=t.apply(this,arguments),E.invert=e.invert&&D,M()}}function yV(t){var e=0,n=Wz/3,r=vV(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Jz,n=t[1]*Jz):[e*Xz,n*Xz]},i}function bV(t){var e=eU(t);function n(t,n){return[t*e,sU(n)/e]}return n.invert=function(t,n){return[t/e,hU(n*e)]},n}function wV(t,e){var n=sU(t),r=(n+sU(e))/2;if(Zz(r)<Vz)return bV(t);var i=1+n*(2*r-n),o=cU(i)/r;function a(t,e){var n=cU(i-2*r*sU(e))/r;return[n*sU(t*=r),o-n*eU(t)]}return a.invert=function(t,e){var n=o-e,a=tU(t,Zz(n))*uU(n);return n*r<0&&(a-=Wz*uU(t)*uU(n)),[a/r,hU((i-(t*t+n*n)*r*r)/(2*r))]},a}function xV(){return yV(wV).scale(155.424).center([0,33.6442])}function _V(){return xV().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function kV(t){var e=t.length;return{point:function(n,r){var i=-1;while(++i<e)t[i].point(n,r)},sphere:function(){var n=-1;while(++n<e)t[n].sphere()},lineStart:function(){var n=-1;while(++n<e)t[n].lineStart()},lineEnd:function(){var n=-1;while(++n<e)t[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<e)t[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<e)t[n].polygonEnd()}}}function AV(){var t,e,n,r,i,o,a=_V(),s=xV().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=xV().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){o=[t,e]}};function l(t){var e=t[0],a=t[1];return o=null,n.point(e,a),o||(r.point(e,a),o)||(i.point(e,a),o)}function f(){return t=e=null,l}return l.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?u:a).invert(t)},l.stream=function(n){return t&&e===n?t:t=kV([a.stream(e=n),s.stream(n),u.stream(n)])},l.precision=function(t){return arguments.length?(a.precision(t),s.precision(t),u.precision(t),f()):a.precision()},l.scale=function(t){return arguments.length?(a.scale(t),s.scale(.35*t),u.scale(t),l.translate(a.translate())):a.scale()},l.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],l=+t[1];return n=a.translate(t).clipExtent([[o-.455*e,l-.238*e],[o+.455*e,l+.238*e]]).stream(c),r=s.translate([o-.307*e,l+.201*e]).clipExtent([[o-.425*e+Vz,l+.12*e+Vz],[o-.214*e-Vz,l+.234*e-Vz]]).stream(c),i=u.translate([o-.205*e,l+.212*e]).clipExtent([[o-.214*e+Vz,l+.166*e+Vz],[o-.115*e-Vz,l+.234*e-Vz]]).stream(c),f()},l.fitExtent=function(t,e){return rV(l,t,e)},l.fitSize=function(t,e){return iV(l,t,e)},l.fitWidth=function(t,e){return oV(l,t,e)},l.fitHeight=function(t,e){return aV(l,t,e)},l.scale(1070)}function SV(t){return function(e,n){var r=eU(e),i=eU(n),o=t(r*i);return o===1/0?[2,0]:[o*i*sU(e),o*sU(n)]}}function CV(t){return function(e,n){var r=cU(e*e+n*n),i=t(r),o=sU(i),a=eU(i);return[tU(e*o,r*a),hU(r&&n*o/r)]}}var EV=SV((function(t){return cU(2/(1+t))}));function DV(){return mV(EV).scale(124.75).clipAngle(179.999)}EV.invert=CV((function(t){return 2*hU(t/2)}));var MV=SV((function(t){return(t=fU(t))&&t/sU(t)}));function TV(){return mV(MV).scale(79.4188).clipAngle(179.999)}function FV(t,e){return[t,oU(lU((Yz+e)/2))]}function OV(){return $V(FV).scale(961/Kz)}function $V(t){var e,n,r,i=mV(t),o=i.center,a=i.scale,s=i.translate,u=i.clipExtent,c=null;function l(){var o=Wz*a(),s=i(Qq(i.rotate()).invert([0,0]));return u(null==c?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:t===FV?[[Math.max(s[0]-o,c),e],[Math.min(s[0]+o,n),r]]:[[c,Math.max(s[1]-o,e)],[n,Math.min(s[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),l()):a()},i.translate=function(t){return arguments.length?(s(t),l()):s()},i.center=function(t){return arguments.length?(o(t),l()):o()},i.clipExtent=function(t){return arguments.length?(null==t?c=e=n=r=null:(c=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),l()):null==c?null:[[c,e],[n,r]]},l()}function NV(t){return lU((Yz+t)/2)}function BV(t,e){var n=eU(t),r=t===e?sU(t):oU(n/eU(e))/oU(NV(e)/NV(t)),i=n*aU(NV(t),r)/r;if(!r)return FV;function o(t,e){i>0?e<-Yz+Vz&&(e=-Yz+Vz):e>Yz-Vz&&(e=Yz-Vz);var n=i/aU(NV(e),r);return[n*sU(r*t),i-n*eU(r*t)]}return o.invert=function(t,e){var n=i-e,o=uU(r)*cU(t*t+n*n),a=tU(t,Zz(n))*uU(n);return n*r<0&&(a-=Wz*uU(t)*uU(n)),[a/r,2*Qz(aU(i/o,1/r))-Yz]},o}function RV(){return yV(BV).scale(109.5).parallels([30,30])}function PV(t,e){return[t,e]}function IV(){return mV(PV).scale(152.63)}function jV(t,e){var n=eU(t),r=t===e?sU(t):(n-eU(e))/(e-t),i=n/r+t;if(Zz(r)<Vz)return PV;function o(t,e){var n=i-e,o=r*t;return[n*sU(o),i-n*eU(o)]}return o.invert=function(t,e){var n=i-e,o=tU(t,Zz(n))*uU(n);return n*r<0&&(o-=Wz*uU(t)*uU(n)),[o/r,i-uU(r)*cU(t*t+n*n)]},o}function LV(){return yV(jV).scale(131.154).center([0,13.9389])}MV.invert=CV((function(t){return t})),FV.invert=function(t,e){return[t,2*Qz(rU(e))-Yz]},PV.invert=PV;var zV=1.340264,UV=-.081106,qV=893e-6,VV=.003796,HV=cU(3)/2,WV=12;function YV(t,e){var n=hU(HV*sU(e)),r=n*n,i=r*r*r;return[t*eU(n)/(HV*(zV+3*UV*r+i*(7*qV+9*VV*r))),n*(zV+UV*r+i*(qV+VV*r))]}function GV(){return mV(YV).scale(177.158)}function KV(t,e){var n=eU(e),r=eU(t)*n;return[n*sU(t)/r,sU(e)/r]}function XV(){return mV(KV).scale(144.049).clipAngle(60)}function JV(){var t,e,n,r,i,o,a,s=1,u=0,c=0,l=1,f=1,h=0,d=null,p=1,g=1,m=tV({point:function(t,e){var n=b([t,e]);this.stream.point(n[0],n[1])}}),v=Rz;function y(){return p=s*l,g=s*f,o=a=null,b}function b(n){var r=n[0]*p,i=n[1]*g;if(h){var o=i*t-r*e;r=r*t+i*e,i=o}return[r+u,i+c]}return b.invert=function(n){var r=n[0]-u,i=n[1]-c;if(h){var o=i*t+r*e;r=r*t-i*e,i=o}return[r/p,i/g]},b.stream=function(t){return o&&a===t?o:o=m(v(a=t))},b.postclip=function(t){return arguments.length?(v=t,d=n=r=i=null,y()):v},b.clipExtent=function(t){return arguments.length?(v=null==t?(d=n=r=i=null,Rz):Wq(d=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),y()):null==d?null:[[d,n],[r,i]]},b.scale=function(t){return arguments.length?(s=+t,y()):s},b.translate=function(t){return arguments.length?(u=+t[0],c=+t[1],y()):[u,c]},b.angle=function(n){return arguments.length?(h=n%360*Jz,e=sU(h),t=eU(h),y()):h*Xz},b.reflectX=function(t){return arguments.length?(l=t?-1:1,y()):l<0},b.reflectY=function(t){return arguments.length?(f=t?-1:1,y()):f<0},b.fitExtent=function(t,e){return rV(b,t,e)},b.fitSize=function(t,e){return iV(b,t,e)},b.fitWidth=function(t,e){return oV(b,t,e)},b.fitHeight=function(t,e){return aV(b,t,e)},b}function ZV(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function QV(){return mV(ZV).scale(175.295)}function tH(t,e){return[eU(e)*sU(t),sU(e)]}function eH(){return mV(tH).scale(249.5).clipAngle(90+Vz)}function nH(t,e){var n=eU(e),r=1+eU(t)*n;return[n*sU(t)/r,sU(e)/r]}function rH(){return mV(nH).scale(250).clipAngle(142)}function iH(t,e){return[oU(lU((Yz+e)/2)),-t]}function oH(){var t=$V(iH),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90]).scale(159.155)}YV.invert=function(t,e){for(var n,r,i,o=e,a=o*o,s=a*a*a,u=0;u<WV;++u)if(r=o*(zV+UV*a+s*(qV+VV*a))-e,i=zV+3*UV*a+s*(7*qV+9*VV*a),o-=n=r/i,a=o*o,s=a*a*a,Zz(n)<Hz)break;return[HV*t*(zV+3*UV*a+s*(7*qV+9*VV*a))/eU(o),hU(sU(o)/HV)]},KV.invert=CV(Qz),ZV.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Zz(n)>Vz&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},tH.invert=CV(hU),nH.invert=CV((function(t){return 2*Qz(t)})),iH.invert=function(t,e){return[-e,2*Qz(rU(t))-Yz]};var aH=Math.abs,sH=(Math.atan,Math.atan2,Math.ceil,Math.cos),uH=(Math.exp,Math.floor,Math.log,Math.max,Math.min,Math.pow,Math.round,Math.sign,Math.sin),cH=(Math.tan,1e-6),lH=Math.PI,fH=lH/2,hH=(Math.SQRT1_2,pH(2));pH(lH);function dH(t){return t>1?fH:t<-1?-fH:Math.asin(t)}function pH(t){return t>0?Math.sqrt(t):0}function gH(t,e){var n,r=t*uH(e),i=30;do{e-=n=(e+uH(e)-r)/(1+sH(e))}while(aH(n)>cH&&--i>0);return e/2}function mH(t,e,n){function r(r,i){return[t*r*sH(i=gH(n,i)),e*uH(i)]}return r.invert=function(r,i){return i=dH(i/e),[r/(t*sH(i)),dH((2*i+uH(2*i))/n)]},r}var vH=mH(hH/fH,hH,lH);function yH(){return mV(vH).scale(169.529)}const bH=mq(),wH=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function xH(t,e){return function n(){const r=e();return r.type=t,r.path=mq().projection(r),r.copy=r.copy||function(){const t=n();return wH.forEach((e=>{r[e]&&t[e](r[e]())})),t.path.pointRadius(r.path.pointRadius()),t},r}}function _H(t,e){if(!t||"string"!==typeof t)throw new Error("Projection type must be a name string.");return t=t.toLowerCase(),arguments.length>1?(AH[t]=xH(t,e),this):AH[t]||null}function kH(t){return t&&t.path||bH}const AH={albers:_V,albersusa:AV,azimuthalequalarea:DV,azimuthalequidistant:TV,conicconformal:RV,conicequalarea:xV,conicequidistant:LV,equalEarth:GV,equirectangular:IV,gnomonic:XV,identity:JV,mercator:OV,mollweide:yH,naturalEarth1:QV,orthographic:eH,stereographic:rH,transversemercator:oH};for(const Set in AH)_H(Set,AH[Set]);function SH(t,e,n){var r=$c(t,e-Vz,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function CH(t,e,n){var r=$c(t,e-Vz,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function EH(){var t,e,n,r,i,o,a,s,u,c,l,f,h=10,d=h,p=90,g=360,m=2.5;function v(){return{type:"MultiLineString",coordinates:y()}}function y(){return $c(nU(r/p)*p,n,p).map(l).concat($c(nU(s/g)*g,a,g).map(f)).concat($c(nU(e/h)*h,t,h).filter((function(t){return Zz(t%p)>Vz})).map(u)).concat($c(nU(o/d)*d,i,d).filter((function(t){return Zz(t%g)>Vz})).map(c))}return v.lines=function(){return y().map((function(t){return{type:"LineString",coordinates:t}}))},v.outline=function(){return{type:"Polygon",coordinates:[l(r).concat(f(a).slice(1),l(n).reverse().slice(1),f(s).reverse().slice(1))]}},v.extent=function(t){return arguments.length?v.extentMajor(t).extentMinor(t):v.extentMinor()},v.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),s>a&&(t=s,s=a,a=t),v.precision(m)):[[r,s],[n,a]]},v.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),o>i&&(n=o,o=i,i=n),v.precision(m)):[[e,o],[t,i]]},v.step=function(t){return arguments.length?v.stepMajor(t).stepMinor(t):v.stepMinor()},v.stepMajor=function(t){return arguments.length?(p=+t[0],g=+t[1],v):[p,g]},v.stepMinor=function(t){return arguments.length?(h=+t[0],d=+t[1],v):[h,d]},v.precision=function(h){return arguments.length?(m=+h,u=SH(o,i,90),c=CH(e,t,m),l=SH(s,a,90),f=CH(r,n,m),v):m},v.extentMajor([[-180,-90+Vz],[180,90-Vz]]).extentMinor([[-180,-80-Vz],[180,80+Vz]])}function DH(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function MH(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function TH(){}var FH=.7,OH=1/FH,$H="\\s*([+-]?\\d+)\\s*",NH="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",BH="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",RH=/^#([0-9a-f]{3,8})$/,PH=new RegExp("^rgb\\("+[$H,$H,$H]+"\\)$"),IH=new RegExp("^rgb\\("+[BH,BH,BH]+"\\)$"),jH=new RegExp("^rgba\\("+[$H,$H,$H,NH]+"\\)$"),LH=new RegExp("^rgba\\("+[BH,BH,BH,NH]+"\\)$"),zH=new RegExp("^hsl\\("+[NH,BH,BH]+"\\)$"),UH=new RegExp("^hsla\\("+[NH,BH,BH,NH]+"\\)$"),qH={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function VH(){return this.rgb().formatHex()}function HH(){return rW(this).formatHsl()}function WH(){return this.rgb().formatRgb()}function YH(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=RH.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?GH(e):3===n?new ZH(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?KH(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?KH(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=PH.exec(t))?new ZH(e[1],e[2],e[3],1):(e=IH.exec(t))?new ZH(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=jH.exec(t))?KH(e[1],e[2],e[3],e[4]):(e=LH.exec(t))?KH(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=zH.exec(t))?nW(e[1],e[2]/100,e[3]/100,1):(e=UH.exec(t))?nW(e[1],e[2]/100,e[3]/100,e[4]):qH.hasOwnProperty(t)?GH(qH[t]):"transparent"===t?new ZH(NaN,NaN,NaN,0):null}function GH(t){return new ZH(t>>16&255,t>>8&255,255&t,1)}function KH(t,e,n,r){return r<=0&&(t=e=n=NaN),new ZH(t,e,n,r)}function XH(t){return t instanceof TH||(t=YH(t)),t?(t=t.rgb(),new ZH(t.r,t.g,t.b,t.opacity)):new ZH}function JH(t,e,n,r){return 1===arguments.length?XH(t):new ZH(t,e,n,null==r?1:r)}function ZH(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function QH(){return"#"+eW(this.r)+eW(this.g)+eW(this.b)}function tW(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function eW(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function nW(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new oW(t,e,n,r)}function rW(t){if(t instanceof oW)return new oW(t.h,t.s,t.l,t.opacity);if(t instanceof TH||(t=YH(t)),!t)return new oW;if(t instanceof oW)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new oW(a,s,u,t.opacity)}function iW(t,e,n,r){return 1===arguments.length?rW(t):new oW(t,e,n,null==r?1:r)}function oW(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function aW(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function sW(){}DH(TH,YH,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:VH,formatHex:VH,formatHsl:HH,formatRgb:WH,toString:WH}),DH(ZH,JH,MH(TH,{brighter:function(t){return t=null==t?OH:Math.pow(OH,t),new ZH(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?FH:Math.pow(FH,t),new ZH(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:QH,formatHex:QH,formatRgb:tW,toString:tW})),DH(oW,iW,MH(TH,{brighter:function(t){return t=null==t?OH:Math.pow(OH,t),new oW(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?FH:Math.pow(FH,t),new oW(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ZH(aW(t>=240?t-240:t+120,i,r),aW(t,i,r),aW(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const uW=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function cW(){var t=1,e=1,n=s;function r(t,e){return e.map((e=>i(t,e)))}function i(t,e){var r=[],i=[];return o(t,e,(o=>{n(o,t,e),lW(o)>0?r.push([o]):i.push(o)})),i.forEach((t=>{for(var e,n=0,i=r.length;n<i;++n)if(-1!==fW((e=r[n])[0],t))return void e.push(t)})),{type:"MultiPolygon",value:e,coordinates:r}}function o(n,r,i){var o,s,u,c,l,f,h=new Array,d=new Array;o=s=-1,c=n[0]>=r,uW[c<<1].forEach(p);while(++o<t-1)u=c,c=n[o+1]>=r,uW[u|c<<1].forEach(p);uW[c|0].forEach(p);while(++s<e-1){o=-1,c=n[s*t+t]>=r,l=n[s*t]>=r,uW[c<<1|l<<2].forEach(p);while(++o<t-1)u=c,c=n[s*t+t+o+1]>=r,f=l,l=n[s*t+o+1]>=r,uW[u|c<<1|l<<2|f<<3].forEach(p);uW[c|l<<3].forEach(p)}o=-1,l=n[s*t]>=r,uW[l<<2].forEach(p);while(++o<t-1)f=l,l=n[s*t+o+1]>=r,uW[l<<2|f<<3].forEach(p);function p(t){var e,n,r=[t[0][0]+o,t[0][1]+s],u=[t[1][0]+o,t[1][1]+s],c=a(r),l=a(u);(e=d[c])?(n=h[l])?(delete d[e.end],delete h[n.start],e===n?(e.ring.push(u),i(e.ring)):h[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete d[e.end],e.ring.push(u),d[e.end=l]=e):(e=h[l])?(n=d[c])?(delete h[e.start],delete d[n.end],e===n?(e.ring.push(u),i(e.ring)):h[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete h[e.start],e.ring.unshift(r),h[e.start=c]=e):h[c]=d[l]={start:c,end:l,ring:[r,u]}}uW[l<<3].forEach(p)}function a(e){return 2*e[0]+e[1]*(t+1)*4}function s(n,r,i){n.forEach((n=>{var o,a=n[0],s=n[1],u=0|a,c=0|s,l=r[c*t+u];a>0&&a<t&&u===a&&(o=r[c*t+u-1],n[0]=a+(i-o)/(l-o)-.5),s>0&&s<e&&c===s&&(o=r[(c-1)*t+u],n[1]=s+(i-o)/(l-o)-.5)}))}return r.contour=i,r.size=function(n){if(!arguments.length)return[t,e];var i=Math.floor(n[0]),o=Math.floor(n[1]);return i>=0&&o>=0||ct("invalid size"),t=i,e=o,r},r.smooth=function(t){return arguments.length?(n=t?s:sW,r):n===s},r}function lW(t){var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];while(++e<n)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}function fW(t,e){var n,r=-1,i=e.length;while(++r<i)if(n=hW(t,e[r]))return n;return 0}function hW(t,e){for(var n=e[0],r=e[1],i=-1,o=0,a=t.length,s=a-1;o<a;s=o++){var u=t[o],c=u[0],l=u[1],f=t[s],h=f[0],d=f[1];if(dW(u,f,e))return 0;l>r!==d>r&&n<(h-c)*(r-l)/(d-l)+c&&(i=-i)}return i}function dW(t,e,n){var r;return pW(t,e,n)&&gW(t[r=+(t[0]===e[0])],n[r],e[r])}function pW(t,e,n){return(e[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(e[1]-t[1])}function gW(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}function mW(t,e,n){return function(r){var i=ue(r),o=n?Math.min(i[0],0):i[0],a=i[1],s=a-o,u=e?Pl(o,a,t):s/(t+1);return $c(o+u,a,u)}}function vW(t){gu.call(this,null,t)}function yW(t,e,n){const r=mW(n.levels||10,n.nice,!1!==n.zero);return"shared"!==n.resolve?r:r(t.map((t=>wu(e(t).values))))}function bW(t,e,n,r){let i=r.scale||e.scale,o=r.translate||e.translate;if(Zt(i)&&(i=i(n,r)),Zt(o)&&(o=o(n,r)),(1===i||null==i)&&!o)return;const a=(we(i)?i:i[0])||1,s=(we(i)?i:i[1])||1,u=o&&o[0]||0,c=o&&o[1]||0;t.forEach(wW(e,a,s,u,c))}function wW(t,e,n,r,i){const o=t.x1||0,a=t.y1||0,s=e*n<0;function u(t){t.forEach(c)}function c(t){s&&t.reverse(),t.forEach(l)}function l(t){t[0]=(t[0]-o)*e+r,t[1]=(t[1]-a)*n+i}return function(t){return t.coordinates.forEach(u),t}}function xW(t,e,n){const r=t>=0?t:Nu(e,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function _W(t){return Zt(t)?t:oe(+t)}function kW(){var t=t=>t[0],e=t=>t[1],n=gt,r=[-1,-1],i=960,o=500,a=2;function s(s,u){const c=xW(r[0],s,t)>>a,l=xW(r[1],s,e)>>a,f=c?c+2:0,h=l?l+2:0,d=2*f+(i>>a),p=2*h+(o>>a),g=new Float32Array(d*p),m=new Float32Array(d*p);let v=g;s.forEach((r=>{const i=f+(+t(r)>>a),o=h+(+e(r)>>a);i>=0&&i<d&&o>=0&&o<p&&(g[i+o*d]+=+n(r))})),c>0&&l>0?(AW(d,p,g,m,c),SW(d,p,m,g,l),AW(d,p,g,m,c),SW(d,p,m,g,l),AW(d,p,g,m,c),SW(d,p,m,g,l)):c>0?(AW(d,p,g,m,c),AW(d,p,m,g,c),AW(d,p,g,m,c),v=m):l>0&&(SW(d,p,g,m,l),SW(d,p,m,g,l),SW(d,p,g,m,l),v=m);const y=u?Math.pow(2,-2*a):1/Bj(v);for(let t=0,e=d*p;t<e;++t)v[t]*=y;return{values:v,scale:1<<a,width:d,height:p,x1:f,y1:h,x2:f+(i>>a),y2:h+(o>>a)}}return s.x=function(e){return arguments.length?(t=_W(e),s):t},s.y=function(t){return arguments.length?(e=_W(t),s):e},s.weight=function(t){return arguments.length?(n=_W(t),s):n},s.size=function(t){if(!arguments.length)return[i,o];var e=+t[0],n=+t[1];return e>=0&&n>=0||ct("invalid size"),i=e,o=n,s},s.cellSize=function(t){return arguments.length?((t=+t)>=1||ct("invalid cell size"),a=Math.floor(Math.log(t)/Math.LN2),s):1<<a},s.bandwidth=function(t){return arguments.length?(t=Xt(t),1===t.length&&(t=[+t[0],+t[0]]),2!==t.length&&ct("invalid bandwidth"),r=t,s):r},s}function AW(t,e,n,r,i){const o=1+(i<<1);for(let a=0;a<e;++a)for(let e=0,s=0;e<t+i;++e)e<t&&(s+=n[e+a*t]),e>=i&&(e>=o&&(s-=n[e-o+a*t]),r[e-i+a*t]=s/Math.min(e+1,t-1+o-e,o))}function SW(t,e,n,r,i){const o=1+(i<<1);for(let a=0;a<t;++a)for(let s=0,u=0;s<e+i;++s)s<e&&(u+=n[a+s*t]),s>=i&&(s>=o&&(u-=n[a+(s-o)*t]),r[a+(s-i)*t]=u/Math.min(s+1,e-1+o-s,o))}function CW(t){gu.call(this,null,t)}vW.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},ge(vW,gu,{transform(t,e){if(this.value&&!e.changed()&&!t.modified())return e.StopPropagation;var n=e.fork(e.NO_SOURCE|e.NO_FIELDS),r=e.materialize(e.SOURCE).source,i=t.field||dt,o=cW().smooth(!1!==t.smooth),a=t.thresholds||yW(r,i,t),s=null===t.as?null:t.as||"contour",u=[];return r.forEach((e=>{const n=i(e),r=o.size([n.width,n.height])(n.values,St(a)?a:a(n.values));bW(r,n,e,t),r.forEach((t=>{u.push(is(e,ns(null!=s?{[s]:t}:t)))}))})),this.value&&(n.rem=this.value),this.value=n.source=n.add=u,n}}),CW.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const EW=["x","y","weight","size","cellSize","bandwidth"];function DW(t,e){return EW.forEach((n=>null!=e[n]?t[n](e[n]):0)),t}function MW(t,e){var n,r,i,o,a,s,u=[],c=t=>t(o);if(null==e)u.push(t);else for(n={},r=0,i=t.length;r<i;++r)o=t[r],a=e.map(c),s=n[a],s||(n[a]=s=[],s.dims=a,u.push(s)),s.push(o);return u}function TW(t){gu.call(this,null,t)}ge(CW,gu,{transform(t,e){if(this.value&&!e.changed()&&!t.modified())return e.StopPropagation;var n=e.fork(e.NO_SOURCE|e.NO_FIELDS),r=e.materialize(e.SOURCE).source,i=MW(r,t.groupby),o=(t.groupby||[]).map(it),a=DW(kW(),t),s=t.as||"grid",u=[];function c(t,e){for(let n=0;n<o.length;++n)t[o[n]]=e[n];return t}return u=i.map((e=>ns(c({[s]:a(e,t.counts)},e.dims)))),this.value&&(n.rem=this.value),this.value=n.source=n.add=u,n}}),TW.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},ge(TW,gu,{transform(t,e){if(this.value&&!e.changed()&&!t.modified())return e.StopPropagation;var n,r,i=e.fork(e.NO_SOURCE|e.NO_FIELDS),o=cW().smooth(!1!==t.smooth),a=t.values,s=t.thresholds||mW(t.count||10,t.nice,!!a),u=t.size;return a||(a=e.materialize(e.SOURCE).source,n=DW(kW(),t)(a,!0),r=wW(n,n.scale||1,n.scale||1,0,0),u=[n.width,n.height],a=n.values),s=St(s)?s:s(a),a=o.size(u)(a,s),r&&a.forEach(r),this.value&&(i.rem=this.value),this.value=i.source=i.add=(a||[]).map(ns),i}});const FW="Feature",OW="FeatureCollection",$W="MultiPoint";function NW(t){gu.call(this,null,t)}function BW(t){gu.call(this,null,t)}function RW(t,e){const n=t.pointRadius();return t.context(null),null!=e&&t.pointRadius(e),n}function PW(t){gu.call(this,null,t)}function IW(t){gu.call(this,null,t)}function jW(t,e,n){const r=null==n?n=>t(e(n)):r=>{var i=t.pointRadius(),o=t.pointRadius(n)(e(r));return t.pointRadius(i),o};return r.context=e=>(t.context(e),r),r}function LW(t){gu.call(this,[],t),this.generator=EH()}function zW(t){gu.call(this,null,t)}function UW(t,e){let n;return Zt(t)?(n=n=>JH(t(n,e)),n.dep=VW(t)):n=oe(JH(t||"#888")),n}function qW(t,e){let n;return Zt(t)?(n=n=>t(n,e),n.dep=VW(t)):t?n=oe(t):(n=t=>t.$value/t.$max||0,n.dep=!0),n}function VW(t){if(!Zt(t))return!1;const e=Re(ot(t));return e.$x||e.$y||e.$value||e.$max}function HW(t,e,n,r){const i=t.width,o=t.height,a=t.x1||0,s=t.y1||0,u=t.x2||i,c=t.y2||o,l=t.values,f=l?t=>l[t]:pt,h=Wg(u-a,c-s),d=h.getContext("2d"),p=d.getImageData(0,0,u-a,c-s),g=p.data;for(let m=s,v=0;m<c;++m){e.$y=m-s;for(let t=a,o=m*i;t<u;++t,v+=4){e.$x=t-a,e.$value=f(t+o);const i=n(e);g[v+0]=i.r,g[v+1]=i.g,g[v+2]=i.b,g[v+3]=~~(255*r(e))}}return d.putImageData(p,0,0),h}function WW(t){gu.call(this,null,t),this.modified(!0)}function YW(t,e){const n=XW(e.fit);e.extent?t.fitExtent(e.extent,n):e.size&&t.fitSize(e.size,n)}function GW(t){const e=_H((t||"mercator").toLowerCase());return e||ct("Unrecognized projection type: "+t),e()}function KW(t,e,n){Zt(t[e])&&t[e](n)}function XW(t){return t=Xt(t),1===t.length?t[0]:{type:OW,features:t.reduce(((t,e)=>t.concat(JW(e))),[])}}function JW(t){return t.type===OW?t.features:Xt(t).filter((t=>null!=t)).map((t=>t.type===FW?t:{type:FW,geometry:t}))}function ZW(t,e){var n,r=1;function i(){var i,o,a=n.length,s=0,u=0;for(i=0;i<a;++i)o=n[i],s+=o.x,u+=o.y;for(s=(s/a-t)*r,u=(u/a-e)*r,i=0;i<a;++i)o=n[i],o.x-=s,o.y-=u}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i.strength=function(t){return arguments.length?(r=+t,i):r},i}function QW(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return tY(this.cover(e,n),e,n,t)}function tY(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,u,c,l,f,h,d=t._root,p={data:r},g=t._x0,m=t._y0,v=t._x1,y=t._y1;if(!d)return t._root=p,t;while(d.length)if((c=e>=(o=(g+v)/2))?g=o:v=o,(l=n>=(a=(m+y)/2))?m=a:y=a,i=d,!(d=d[f=l<<1|c]))return i[f]=p,t;if(s=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===s&&n===u)return p.next=d,i?i[f]=p:t._root=p,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(c=e>=(o=(g+v)/2))?g=o:v=o,(l=n>=(a=(m+y)/2))?m=a:y=a}while((f=l<<1|c)===(h=(u>=a)<<1|s>=o));return i[h]=d,i[f]=p,t}function eY(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),u=1/0,c=1/0,l=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<u&&(u=r),r>l&&(l=r),i<c&&(c=i),i>f&&(f=i));if(u>l||c>f)return this;for(this.cover(u,c).cover(l,f),n=0;n<o;++n)tY(this,a[n],s[n],t[n]);return this}function nY(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{var a,s,u=i-n||1,c=this._root;while(n>t||t>=i||r>e||e>=o)switch(s=(e<r)<<1|t<n,a=new Array(4),a[s]=c,c=a,u*=2,s){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u;break}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function rY(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t}function iY(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function oY(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function aY(t,e,n){var r,i,o,a,s,u,c,l=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],g=this._root;g&&p.push(new oY(g,l,f,h,d)),null==n?n=1/0:(l=t-n,f=e-n,h=t+n,d=e+n,n*=n);while(u=p.pop())if(!(!(g=u.node)||(i=u.x0)>h||(o=u.y0)>d||(a=u.x1)<l||(s=u.y1)<f))if(g.length){var m=(i+a)/2,v=(o+s)/2;p.push(new oY(g[3],m,v,a,s),new oY(g[2],i,v,m,s),new oY(g[1],m,o,a,v),new oY(g[0],i,o,m,v)),(c=(e>=v)<<1|t>=m)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=u)}else{var y=t-+this._x.call(null,g.data),b=e-+this._y.call(null,g.data),w=y*y+b*b;if(w<n){var x=Math.sqrt(n=w);l=t-x,f=e-x,h=t+x,d=e+x,r=g.data}}return r}function sY(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,u,c,l,f,h,d=this._root,p=this._x0,g=this._y0,m=this._x1,v=this._y1;if(!d)return this;if(d.length)while(1){if((c=o>=(s=(p+m)/2))?p=s:m=s,(l=a>=(u=(g+v)/2))?g=u:v=u,e=d,!(d=d[f=l<<1|c]))return this;if(!d.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,h=f)}while(d.data!==t)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[f]=i:delete e[f],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[h]=d:this._root=d),this):(this._root=i,this)}function uY(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function cY(){return this._root}function lY(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t}function fY(t){var e,n,r,i,o,a,s=[],u=this._root;u&&s.push(new oY(u,this._x0,this._y0,this._x1,this._y1));while(e=s.pop())if(!t(u=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&u.length){var c=(r+o)/2,l=(i+a)/2;(n=u[3])&&s.push(new oY(n,c,l,o,a)),(n=u[2])&&s.push(new oY(n,r,l,c,a)),(n=u[1])&&s.push(new oY(n,c,i,o,l)),(n=u[0])&&s.push(new oY(n,r,i,c,l))}return this}function hY(t){var e,n=[],r=[];this._root&&n.push(new oY(this._root,this._x0,this._y0,this._x1,this._y1));while(e=n.pop()){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,u=e.x1,c=e.y1,l=(a+u)/2,f=(s+c)/2;(o=i[0])&&n.push(new oY(o,a,s,l,f)),(o=i[1])&&n.push(new oY(o,l,s,u,f)),(o=i[2])&&n.push(new oY(o,a,f,l,c)),(o=i[3])&&n.push(new oY(o,l,f,u,c))}r.push(e)}while(e=r.pop())t(e.node,e.x0,e.y0,e.x1,e.y1);return this}function dY(t){return t[0]}function pY(t){return arguments.length?(this._x=t,this):this._x}function gY(t){return t[1]}function mY(t){return arguments.length?(this._y=t,this):this._y}function vY(t,e,n){var r=new yY(null==e?dY:e,null==n?gY:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function yY(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function bY(t){var e={data:t.data},n=e;while(t=t.next)n=n.next={data:t.data};return e}NW.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},ge(NW,gu,{transform(t,e){var n,r=this._features,i=this._points,o=t.fields,a=o&&o[0],s=o&&o[1],u=t.geojson||!o&&dt,c=e.ADD;n=t.modified()||e.changed(e.REM)||e.modified(ot(u))||a&&e.modified(ot(a))||s&&e.modified(ot(s)),this.value&&!n||(c=e.SOURCE,this._features=r=[],this._points=i=[]),u&&e.visit(c,(t=>r.push(u(t)))),a&&s&&(e.visit(c,(t=>{var e=a(t),n=s(t);null!=e&&null!=n&&(e=+e)===e&&(n=+n)===n&&i.push([e,n])})),r=r.concat({type:FW,geometry:{type:$W,coordinates:i}})),this.value={type:OW,features:r}}}),BW.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},ge(BW,gu,{transform(t,e){var n=e.fork(e.ALL),r=this.value,i=t.field||dt,o=t.as||"path",a=n.SOURCE;!r||t.modified()?(this.value=r=kH(t.projection),n.materialize().reflow()):a=i===dt||e.modified(i.fields)?n.ADD_MOD:n.ADD;const s=RW(r,t.pointRadius);return n.visit(a,(t=>t[o]=r(i(t)))),r.pointRadius(s),n.modifies(o)}}),PW.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},ge(PW,gu,{transform(t,e){var n,r=t.projection,i=t.fields[0],o=t.fields[1],a=t.as||["x","y"],s=a[0],u=a[1];function c(t){const e=r([i(t),o(t)]);e?(t[s]=e[0],t[u]=e[1]):(t[s]=void 0,t[u]=void 0)}return t.modified()?e=e.materialize().reflow(!0).visit(e.SOURCE,c):(n=e.modified(i.fields)||e.modified(o.fields),e.visit(n?e.ADD_MOD:e.ADD,c)),e.modifies(a)}}),IW.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},ge(IW,gu,{transform(t,e){var n=e.fork(e.ALL),r=this.value,i=t.as||"shape",o=n.ADD;return r&&!t.modified()||(this.value=r=jW(kH(t.projection),t.field||ft("datum"),t.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,(t=>t[i]=r)),n.modifies(i)}}),LW.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},ge(LW,gu,{transform(t,e){var n,r=this.value,i=this.generator;if(!r.length||t.modified())for(const o in t)Zt(i[o])&&i[o](t[o]);return n=i(),r.length?e.mod.push(os(r[0],n)):e.add.push(ns(n)),r[0]=n,e}}),zW.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},ge(zW,gu,{transform(t,e){if(!e.changed()&&!t.modified())return e.StopPropagation;var n=e.materialize(e.SOURCE).source,r="shared"===t.resolve,i=t.field||dt,o=qW(t.opacity,t),a=UW(t.color,t),s=t.as||"image",u={$x:0,$y:0,$value:0,$max:r?wu(n.map((t=>wu(i(t).values)))):0};return n.forEach((t=>{const e=i(t),n=se({},t,u);r||(n.$max=wu(e.values||[])),t[s]=HW(e,n,a.dep?a:oe(a(n)),o.dep?o:oe(o(n)))})),e.reflow(!0).modifies(s)}}),ge(WW,gu,{transform(t,e){let n=this.value;return!n||t.modified("type")?(this.value=n=GW(t.type),wH.forEach((e=>{null!=t[e]&&KW(n,e,t[e])}))):wH.forEach((e=>{t.modified(e)&&KW(n,e,t[e])})),null!=t.pointRadius&&n.path.pointRadius(t.pointRadius),t.fit&&YW(n,t),e.fork(e.NO_SOURCE|e.NO_FIELDS)}});var wY=vY.prototype=yY.prototype;function xY(t){return function(){return t}}function _Y(t){return 1e-6*(t()-.5)}function kY(t){return t.x+t.vx}function AY(t){return t.y+t.vy}function SY(t){var e,n,r,i=1,o=1;function a(){for(var t,a,u,c,l,f,h,d=e.length,p=0;p<o;++p)for(a=vY(e,kY,AY).visitAfter(s),t=0;t<d;++t)u=e[t],f=n[u.index],h=f*f,c=u.x+u.vx,l=u.y+u.vy,a.visit(g);function g(t,e,n,o,a){var s=t.data,d=t.r,p=f+d;if(!s)return e>c+p||o<c-p||n>l+p||a<l-p;if(s.index>u.index){var g=c-s.x-s.vx,m=l-s.y-s.vy,v=g*g+m*m;v<p*p&&(0===g&&(g=_Y(r),v+=g*g),0===m&&(m=_Y(r),v+=m*m),v=(p-(v=Math.sqrt(v)))/v*i,u.vx+=(g*=v)*(p=(d*=d)/(h+d)),u.vy+=(m*=v)*p,s.vx-=g*(p=1-p),s.vy-=m*p)}}}function s(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function u(){if(e){var r,i,o=e.length;for(n=new Array(o),r=0;r<o;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!==typeof t&&(t=xY(null==t?1:+t)),a.initialize=function(t,n){e=t,r=n,u()},a.iterations=function(t){return arguments.length?(o=+t,a):o},a.strength=function(t){return arguments.length?(i=+t,a):i},a.radius=function(e){return arguments.length?(t="function"===typeof e?e:xY(+e),u(),a):t},a}wY.copy=function(){var t,e,n=new yY(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=bY(r),n;t=[{source:r,target:n._root=new Array(4)}];while(r=t.pop())for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=bY(e));return n},wY.add=QW,wY.addAll=eY,wY.cover=nY,wY.data=rY,wY.extent=iY,wY.find=aY,wY.remove=sY,wY.removeAll=uY,wY.root=cY,wY.size=lY,wY.visit=fY,wY.visitAfter=hY,wY.x=pY,wY.y=mY;var CY={value:()=>{}};function EY(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new DY(r)}function DY(t){this._=t}function MY(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function TY(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function FY(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=CY,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}DY.prototype=EY.prototype={constructor:DY,on:function(t,e){var n,r=this._,i=MY(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);while(++o<a)if(n=(t=i[o]).type)r[n]=FY(r[n],t.name,e);else if(null==e)for(n in r)r[n]=FY(r[n],t.name,null);return this}while(++o<a)if((n=(t=i[o]).type)&&(n=TY(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new DY(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,n=r.length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var OY,$Y,NY=EY,BY=0,RY=0,PY=0,IY=1e3,jY=0,LY=0,zY=0,UY="object"===typeof performance&&performance.now?performance:Date,qY="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function VY(){return LY||(qY(HY),LY=UY.now()+zY)}function HY(){LY=0}function WY(){this._call=this._time=this._next=null}function YY(t,e,n){var r=new WY;return r.restart(t,e,n),r}function GY(){VY(),++BY;var t,e=OY;while(e)(t=LY-e._time)>=0&&e._call.call(null,t),e=e._next;--BY}function KY(){LY=(jY=UY.now())+zY,BY=RY=0;try{GY()}finally{BY=0,JY(),LY=0}}function XY(){var t=UY.now(),e=t-jY;e>IY&&(zY-=e,jY=t)}function JY(){var t,e,n=OY,r=1/0;while(n)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:OY=e);$Y=t,ZY(r)}function ZY(t){if(!BY){RY&&(RY=clearTimeout(RY));var e=t-LY;e>24?(t<1/0&&(RY=setTimeout(KY,t-UY.now()-zY)),PY&&(PY=clearInterval(PY))):(PY||(jY=UY.now(),PY=setInterval(XY,IY)),BY=1,qY(KY))}}WY.prototype=YY.prototype={constructor:WY,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?VY():+n)+(null==e?0:+e),this._next||$Y===this||($Y?$Y._next=this:OY=this,$Y=this),this._call=t,this._time=n,ZY()},stop:function(){this._call&&(this._call=null,this._time=1/0,ZY())}};const QY=1664525,tG=1013904223,eG=4294967296;function nG(){let t=1;return()=>(t=(QY*t+tG)%eG)/eG}function rG(t){return t.x}function iG(t){return t.y}var oG=10,aG=Math.PI*(3-Math.sqrt(5));function sG(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,u=YY(f),c=NY("tick","end"),l=nG();function f(){h(),c.call("tick",e),n<r&&(u.stop(),c.call("end",e))}function h(r){var u,c,l=t.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(o-n)*i,s.forEach((function(t){t(n)})),u=0;u<l;++u)c=t[u],null==c.fx?c.x+=c.vx*=a:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=a:(c.y=c.fy,c.vy=0);return e}function d(){for(var e,n=0,r=t.length;n<r;++n){if(e=t[n],e.index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=oG*Math.sqrt(.5+n),o=n*aG;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t,l),e}return null==t&&(t=[]),d(),e={tick:h,restart:function(){return u.restart(f),e},stop:function(){return u.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),s.forEach(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},randomSource:function(t){return arguments.length?(l=t,s.forEach(p),e):l},force:function(t,n){return arguments.length>1?(null==n?s.delete(t):s.set(t,p(n)),e):s.get(t)},find:function(e,n,r){var i,o,a,s,u,c=0,l=t.length;for(null==r?r=1/0:r*=r,c=0;c<l;++c)s=t[c],i=e-s.x,o=n-s.y,a=i*i+o*o,a<r&&(u=s,r=a);return u},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}}function uG(){var t,e,n,r,i,o=xY(-30),a=1,s=1/0,u=.81;function c(n){var i,o=t.length,a=vY(t,rG,iG).visitAfter(f);for(r=n,i=0;i<o;++i)e=t[i],a.visit(h)}function l(){if(t){var e,n,r=t.length;for(i=new Array(r),e=0;e<r;++e)n=t[e],i[n.index]=+o(n,e,t)}}function f(t){var e,n,r,o,a,s=0,u=0;if(t.length){for(r=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(s+=e.value,u+=n,r+=n*e.x,o+=n*e.y);t.x=r/u,t.y=o/u}else{e=t,e.x=e.data.x,e.y=e.data.y;do{s+=i[e.data.index]}while(e=e.next)}t.value=s}function h(t,o,c,l){if(!t.value)return!0;var f=t.x-e.x,h=t.y-e.y,d=l-o,p=f*f+h*h;if(d*d/u<p)return p<s&&(0===f&&(f=_Y(n),p+=f*f),0===h&&(h=_Y(n),p+=h*h),p<a&&(p=Math.sqrt(a*p)),e.vx+=f*t.value*r/p,e.vy+=h*t.value*r/p),!0;if(!(t.length||p>=s)){(t.data!==e||t.next)&&(0===f&&(f=_Y(n),p+=f*f),0===h&&(h=_Y(n),p+=h*h),p<a&&(p=Math.sqrt(a*p)));do{t.data!==e&&(d=i[t.data.index]*r/p,e.vx+=f*d,e.vy+=h*d)}while(t=t.next)}}return c.initialize=function(e,r){t=e,n=r,l()},c.strength=function(t){return arguments.length?(o="function"===typeof t?t:xY(+t),l(),c):o},c.distanceMin=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.distanceMax=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c.theta=function(t){return arguments.length?(u=t*t,c):Math.sqrt(u)},c}function cG(t){return t.index}function lG(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function fG(t){var e,n,r,i,o,a,s=cG,u=f,c=xY(30),l=1;function f(t){return 1/Math.min(i[t.source.index],i[t.target.index])}function h(r){for(var i=0,s=t.length;i<l;++i)for(var u,c,f,h,d,p,g,m=0;m<s;++m)u=t[m],c=u.source,f=u.target,h=f.x+f.vx-c.x-c.vx||_Y(a),d=f.y+f.vy-c.y-c.vy||_Y(a),p=Math.sqrt(h*h+d*d),p=(p-n[m])/p*r*e[m],h*=p,d*=p,f.vx-=h*(g=o[m]),f.vy-=d*g,c.vx+=h*(g=1-g),c.vy+=d*g}function d(){if(r){var a,u,c=r.length,l=t.length,f=new Map(r.map(((t,e)=>[s(t,e,r),t])));for(a=0,i=new Array(c);a<l;++a)u=t[a],u.index=a,"object"!==typeof u.source&&(u.source=lG(f,u.source)),"object"!==typeof u.target&&(u.target=lG(f,u.target)),i[u.source.index]=(i[u.source.index]||0)+1,i[u.target.index]=(i[u.target.index]||0)+1;for(a=0,o=new Array(l);a<l;++a)u=t[a],o[a]=i[u.source.index]/(i[u.source.index]+i[u.target.index]);e=new Array(l),p(),n=new Array(l),g()}}function p(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+u(t[n],n,t)}function g(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+c(t[e],e,t)}return null==t&&(t=[]),h.initialize=function(t,e){r=t,a=e,d()},h.links=function(e){return arguments.length?(t=e,d(),h):t},h.id=function(t){return arguments.length?(s=t,h):s},h.iterations=function(t){return arguments.length?(l=+t,h):l},h.strength=function(t){return arguments.length?(u="function"===typeof t?t:xY(+t),p(),h):u},h.distance=function(t){return arguments.length?(c="function"===typeof t?t:xY(+t),g(),h):c},h}function hG(t){var e,n,r,i=xY(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)i=e[o],i.vx+=(r[o]-i.x)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!==typeof t&&(t=xY(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"===typeof t?t:xY(+t),a(),o):i},o.x=function(e){return arguments.length?(t="function"===typeof e?e:xY(+e),a(),o):t},o}function dG(t){var e,n,r,i=xY(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)i=e[o],i.vy+=(r[o]-i.y)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!==typeof t&&(t=xY(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"===typeof t?t:xY(+t),a(),o):i},o.y=function(e){return arguments.length?(t="function"===typeof e?e:xY(+e),a(),o):t},o}const pG={center:ZW,collide:SY,nbody:uG,link:fG,x:hG,y:dG},gG="forces",mG=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],vG=["static","iterations"],yG=["x","y","vx","vy"];function bG(t){gu.call(this,null,t)}function wG(t,e){return()=>t.touch(e).run()}function xG(t,e){const n=sG(t),r=n.stop,i=n.restart;let o=!1;return n.stopped=()=>o,n.restart=()=>(o=!1,i()),n.stop=()=>(o=!0,r()),_G(n,e,!0).on("end",(()=>o=!0))}function _G(t,e,n,r){var i,o,a,s,u=Xt(e.forces);for(i=0,o=mG.length;i<o;++i)a=mG[i],a!==gG&&e.modified(a)&&t[a](e[a]);for(i=0,o=u.length;i<o;++i)s=gG+i,a=n||e.modified(gG,i)?AG(u[i]):r&&kG(u[i],r)?t.force(s):null,a&&t.force(s,a);for(o=t.numForces||0;i<o;++i)t.force(gG+i,null);return t.numForces=u.length,t}function kG(t,e){var n,r;for(n in t)if(Zt(r=t[n])&&e.modified(ot(r)))return 1;return 0}function AG(t){var e,n;for(n in fe(pG,t.force)||ct("Unrecognized force: "+t.force),e=pG[t.force](),t)Zt(e[n])&&SG(e[n],t[n],t);return e}function SG(t,e,n){t(Zt(e)?t=>e(t,n):e)}function CG(t){var e=0,n=t.children,r=n&&n.length;if(r)while(--r>=0)e+=n[r].value;else e=1;t.value=e}function EG(){return this.eachAfter(CG)}function DG(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function MG(t,e){var n,r,i=this,o=[i],a=-1;while(i=o.pop())if(t.call(e,i,++a,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this}function TG(t,e){var n,r,i,o=this,a=[o],s=[],u=-1;while(o=a.pop())if(s.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r]);while(o=s.pop())t.call(e,o,++u,this);return this}function FG(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function OG(t){return this.eachAfter((function(e){var n=+t(e.data)||0,r=e.children,i=r&&r.length;while(--i>=0)n+=r[i].value;e.value=n}))}function $G(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))}function NG(t){var e=this,n=BG(e,t),r=[e];while(e!==n)e=e.parent,r.push(e);var i=r.length;while(t!==n)r.splice(i,0,t),t=t.parent;return r}function BG(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();while(t===e)i=t,t=n.pop(),e=r.pop();return i}function RG(){var t=this,e=[t];while(t=t.parent)e.push(t);return e}function PG(){return Array.from(this)}function IG(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t}function jG(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e}function*LG(){var t,e,n,r,i=this,o=[i];do{t=o.reverse(),o=[];while(i=t.pop())if(yield i,e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n])}while(o.length)}function zG(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=VG)):void 0===e&&(e=qG);var n,r,i,o,a,s=new YG(t),u=[s];while(n=u.pop())if((i=e(n.data))&&(a=(i=Array.from(i)).length))for(n.children=i,o=a-1;o>=0;--o)u.push(r=i[o]=new YG(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(WG)}function UG(){return zG(this).eachBefore(HG)}function qG(t){return t.children}function VG(t){return Array.isArray(t)?t[1]:null}function HG(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function WG(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function YG(t){this.data=t,this.depth=this.height=0,this.parent=null}function GG(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}function KG(t){var e,n,r=t.length;while(r)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}function XG(t){var e,n,r=0,i=(t=KG(Array.from(t))).length,o=[];while(r<i)e=t[r],n&&QG(n,e)?++r:(n=eK(o=JG(o,e)),r=0);return n}function JG(t,e){var n,r;if(tK(e,t))return[e];for(n=0;n<t.length;++n)if(ZG(e,t[n])&&tK(rK(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(ZG(rK(t[n],t[r]),e)&&ZG(rK(t[n],e),t[r])&&ZG(rK(t[r],e),t[n])&&tK(iK(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function ZG(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function QG(t,e){var n=t.r-e.r+1e-9*Math.max(t.r,e.r,1),r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function tK(t,e){for(var n=0;n<e.length;++n)if(!QG(t,e[n]))return!1;return!0}function eK(t){switch(t.length){case 1:return nK(t[0]);case 2:return rK(t[0],t[1]);case 3:return iK(t[0],t[1],t[2])}}function nK(t){return{x:t.x,y:t.y,r:t.r}}function rK(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,u=o-n,c=a-r,l=s-i,f=Math.sqrt(u*u+c*c);return{x:(n+o+u/f*l)/2,y:(r+a+c/f*l)/2,r:(f+i+s)/2}}function iK(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,u=e.r,c=n.x,l=n.y,f=n.r,h=r-a,d=r-c,p=i-s,g=i-l,m=u-o,v=f-o,y=r*r+i*i-o*o,b=y-a*a-s*s+u*u,w=y-c*c-l*l+f*f,x=d*p-h*g,_=(p*w-g*b)/(2*x)-r,k=(g*m-p*v)/x,A=(d*b-h*w)/(2*x)-i,S=(h*v-d*m)/x,C=k*k+S*S-1,E=2*(o+_*k+A*S),D=_*_+A*A-o*o,M=-(C?(E+Math.sqrt(E*E-4*C*D))/(2*C):D/E);return{x:r+_+k*M,y:i+A+S*M,r:M}}function oK(t,e,n){var r,i,o,a,s=t.x-e.x,u=t.y-e.y,c=s*s+u*u;c?(i=e.r+n.r,i*=i,a=t.r+n.r,a*=a,i>a?(r=(c+a-i)/(2*c),o=Math.sqrt(Math.max(0,a/c-r*r)),n.x=t.x-r*s-o*u,n.y=t.y-r*u+o*s):(r=(c+i-a)/(2*c),o=Math.sqrt(Math.max(0,i/c-r*r)),n.x=e.x+r*s-o*u,n.y=e.y+r*u+o*s)):(n.x=e.x+n.r,n.y=e.y)}function aK(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function sK(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function uK(t){this._=t,this.next=null,this.previous=null}function cK(t){if(!(i=(t=GG(t)).length))return 0;var e,n,r,i,o,a,s,u,c,l,f;if(e=t[0],e.x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;oK(n,e,r=t[2]),e=new uK(e),n=new uK(n),r=new uK(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<i;++s){oK(e._,n._,r=t[s]),r=new uK(r),u=n.next,c=e.previous,l=n._.r,f=e._.r;do{if(l<=f){if(aK(u._,r._)){n=u,e.next=n,n.previous=e,--s;continue t}l+=u._.r,u=u.next}else{if(aK(c._,r._)){e=c,e.next=n,n.previous=e,--s;continue t}f+=c._.r,c=c.previous}}while(u!==c.next);r.previous=e,r.next=n,e.next=n.previous=n=r,o=sK(e);while((r=r.next)!==n)(a=sK(r))<o&&(e=r,o=a);n=e.next}e=[n._],r=n;while((r=r.next)!==n)e.push(r._);for(r=XG(e),s=0;s<i;++s)e=t[s],e.x-=r.x,e.y-=r.y;return r.r}function lK(t){return null==t?null:fK(t)}function fK(t){if("function"!==typeof t)throw new Error;return t}function hK(){return 0}function dK(t){return function(){return t}}function pK(t){return Math.sqrt(t.value)}function gK(){var t=null,e=1,n=1,r=hK;function i(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(mK(t)).eachAfter(vK(r,.5)).eachBefore(yK(1)):i.eachBefore(mK(pK)).eachAfter(vK(hK,1)).eachAfter(vK(r,i.r/Math.min(e,n))).eachBefore(yK(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=lK(e),i):t},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"===typeof t?t:dK(+t),i):r},i}function mK(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function vK(t,e){return function(n){if(r=n.children){var r,i,o,a=r.length,s=t(n)*e||0;if(s)for(i=0;i<a;++i)r[i].r+=s;if(o=cK(r),s)for(i=0;i<a;++i)r[i].r-=s;n.r=o+s}}}function yK(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function bK(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function wK(t,e,n,r,i){var o,a=t.children,s=-1,u=a.length,c=t.value&&(r-e)/t.value;while(++s<u)o=a[s],o.y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*c}function xK(){var t=1,e=1,n=0,r=!1;function i(i){var a=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/a,i.eachBefore(o(e,a)),r&&i.eachBefore(bK),i}function o(t,e){return function(r){r.children&&wK(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,o=r.y0,a=r.x1-n,s=r.y1-n;a<i&&(i=a=(i+a)/2),s<o&&(o=s=(o+s)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=s}}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i}bG.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:yG}]},ge(bG,gu,{transform(t,e){var n=this.value,r=e.changed(e.ADD_REM),i=t.modified(mG),o=t.iterations||300;if(n?(r&&(e.modifies("index"),n.nodes(e.source)),(i||e.changed(e.MOD))&&_G(n,t,0,e)):(this.value=n=xG(e.source,t),n.on("tick",wG(e.dataflow,this)),t.static||(r=!0,n.tick()),e.modifies("index")),i||r||t.modified(vG)||e.changed()&&t.restart)if(n.alpha(Math.max(n.alpha(),t.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/o)),t.static)for(n.stop();--o>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return e.StopPropagation;return this.finish(t,e)},finish(t,e){const n=e.dataflow;for(let s,u=this._argops,c=0,l=u.length;c<l;++c)if(s=u[c],s.name===gG&&"link"===s.op._argval.force)for(var r,i=s.op._argops,o=0,a=i.length;o<a;++o)if("links"===i[o].name&&(r=i[o].op.source)){n.pulse(r,n.changeset().reflow());break}return e.reflow(t.modified()).modifies(yG)}}),YG.prototype=zG.prototype={constructor:YG,count:EG,each:DG,eachAfter:TG,eachBefore:MG,find:FG,sum:OG,sort:$G,path:NG,ancestors:RG,descendants:PG,leaves:IG,links:jG,copy:UG,[Symbol.iterator]:LG};var _K={depth:-1},kK={};function AK(t){return t.id}function SK(t){return t.parentId}function CK(){var t=AK,e=SK;function n(n){var r,i,o,a,s,u,c,l=Array.from(n),f=l.length,h=new Map;for(i=0;i<f;++i)r=l[i],s=l[i]=new YG(r),null!=(u=t(r,i,n))&&(u+="")&&(c=s.id=u,h.set(c,h.has(c)?kK:s)),null!=(u=e(r,i,n))&&(u+="")&&(s.parent=u);for(i=0;i<f;++i)if(s=l[i],u=s.parent){if(a=h.get(u),!a)throw new Error("missing: "+u);if(a===kK)throw new Error("ambiguous: "+u);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(o)throw new Error("multiple roots");o=s}if(!o)throw new Error("no root");if(o.parent=_K,o.eachBefore((function(t){t.depth=t.parent.depth+1,--f})).eachBefore(WG),o.parent=null,f>0)throw new Error("cycle");return o}return n.id=function(e){return arguments.length?(t=fK(e),n):t},n.parentId=function(t){return arguments.length?(e=fK(t),n):e},n}function EK(t,e){return t.parent===e.parent?1:2}function DK(t){var e=t.children;return e?e[0]:t.t}function MK(t){var e=t.children;return e?e[e.length-1]:t.t}function TK(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function FK(t){var e,n=0,r=0,i=t.children,o=i.length;while(--o>=0)e=i[o],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}function OK(t,e,n){return t.a.parent===e.parent?t.a:n}function $K(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function NK(t){var e,n,r,i,o,a=new $K(t,0),s=[a];while(e=s.pop())if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=e.children[i]=new $K(r[i],i)),n.parent=e;return(a.parent=new $K(null,0)).children=[a],a}function BK(){var t=EK,e=1,n=1,r=null;function i(i){var s=NK(i);if(s.eachAfter(o),s.parent.m=-s.z,s.eachBefore(a),r)i.eachBefore(u);else{var c=i,l=i,f=i;i.eachBefore((function(t){t.x<c.x&&(c=t),t.x>l.x&&(l=t),t.depth>f.depth&&(f=t)}));var h=c===l?1:t(c,l)/2,d=h-c.x,p=e/(l.x+h+d),g=n/(f.depth||1);i.eachBefore((function(t){t.x=(t.x+d)*p,t.y=t.depth*g}))}return i}function o(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){FK(e);var o=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+t(e._,i._));e.parent.A=s(e,i,e.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(e,n,r){if(n){var i,o=e,a=e,s=n,u=o.parent.children[0],c=o.m,l=a.m,f=s.m,h=u.m;while(s=MK(s),o=DK(o),s&&o)u=DK(u),a=MK(a),a.a=e,i=s.z+f-o.z-c+t(s._,o._),i>0&&(TK(OK(s,e,r),e,i),c+=i,l+=i),f+=s.m,c+=o.m,h+=u.m,l+=a.m;s&&!MK(a)&&(a.t=s,a.m+=f-l),o&&!DK(u)&&(u.t=o,u.m+=c-h,r=e)}return r}function u(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}function RK(t,e){return t.parent===e.parent?1:2}function PK(t){return t.reduce(IK,0)/t.length}function IK(t,e){return t+e.x}function jK(t){return 1+t.reduce(LK,0)}function LK(t,e){return Math.max(t,e.y)}function zK(t){var e;while(e=t.children)t=e[0];return t}function UK(t){var e;while(e=t.children)t=e[e.length-1];return t}function qK(){var t=RK,e=1,n=1,r=!1;function i(i){var o,a=0;i.eachAfter((function(e){var n=e.children;n?(e.x=PK(n),e.y=jK(n)):(e.x=o?a+=t(e,o):0,e.y=0,o=e)}));var s=zK(i),u=UK(i),c=s.x-t(s,u)/2,l=u.x+t(u,s)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-c)/(l-c)*e,t.y=(1-(i.y?t.y/i.y:1))*n})}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}function VK(t,e,n,r,i){var o,a,s=t.children,u=s.length,c=new Array(u+1);for(c[0]=a=o=0;o<u;++o)c[o+1]=a+=s[o].value;function l(t,e,n,r,i,o,a){if(t>=e-1){var u=s[t];return u.x0=r,u.y0=i,u.x1=o,void(u.y1=a)}var f=c[t],h=n/2+f,d=t+1,p=e-1;while(d<p){var g=d+p>>>1;c[g]<h?d=g+1:p=g}h-c[d-1]<c[d]-h&&t+1<d&&--d;var m=c[d]-f,v=n-m;if(o-r>a-i){var y=n?(r*v+o*m)/n:o;l(t,d,m,r,i,y,a),l(d,e,v,y,i,o,a)}else{var b=n?(i*v+a*m)/n:a;l(t,d,m,r,i,o,b),l(d,e,v,r,b,o,a)}}l(0,u,t.value,e,n,r,i)}function HK(t,e,n,r,i){var o,a=t.children,s=-1,u=a.length,c=t.value&&(i-n)/t.value;while(++s<u)o=a[s],o.x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*c}function WK(t,e,n,r,i){(1&t.depth?HK:wK)(t,e,n,r,i)}$K.prototype=Object.create(YG.prototype);var YK=(1+Math.sqrt(5))/2;function GK(t,e,n,r,i,o){var a,s,u,c,l,f,h,d,p,g,m,v=[],y=e.children,b=0,w=0,x=y.length,_=e.value;while(b<x){u=i-n,c=o-r;do{l=y[w++].value}while(!l&&w<x);for(f=h=l,g=Math.max(c/u,u/c)/(_*t),m=l*l*g,p=Math.max(h/m,m/f);w<x;++w){if(l+=s=y[w].value,s<f&&(f=s),s>h&&(h=s),m=l*l*g,d=Math.max(h/m,m/f),d>p){l-=s;break}p=d}v.push(a={value:l,dice:u<c,children:y.slice(b,w)}),a.dice?wK(a,n,r,i,_?r+=c*l/_:o):HK(a,n,r,_?n+=u*l/_:i,o),_-=l,b=w}return v}var KK=function t(e){function n(t,n,r,i,o){GK(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(YK),XK=function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e){var a,s,u,c,l,f=-1,h=a.length,d=t.value;while(++f<h){for(s=a[f],u=s.children,c=s.value=0,l=u.length;c<l;++c)s.value+=u[c].value;s.dice?wK(s,n,r,i,d?r+=(o-r)*s.value/d:o):HK(s,n,r,d?n+=(i-n)*s.value/d:i,o),d-=s.value}}else t._squarify=a=GK(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(YK);function JK(){var t=KK,e=!1,n=1,r=1,i=[0],o=hK,a=hK,s=hK,u=hK,c=hK;function l(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(f),i=[0],e&&t.eachBefore(bK),t}function f(e){var n=i[e.depth],r=e.x0+n,l=e.y0+n,f=e.x1-n,h=e.y1-n;f<r&&(r=f=(r+f)/2),h<l&&(l=h=(l+h)/2),e.x0=r,e.y0=l,e.x1=f,e.y1=h,e.children&&(n=i[e.depth+1]=o(e)/2,r+=c(e)-n,l+=a(e)-n,f-=s(e)-n,h-=u(e)-n,f<r&&(r=f=(r+f)/2),h<l&&(l=h=(l+h)/2),t(e,r,l,f,h))}return l.round=function(t){return arguments.length?(e=!!t,l):e},l.size=function(t){return arguments.length?(n=+t[0],r=+t[1],l):[n,r]},l.tile=function(e){return arguments.length?(t=fK(e),l):t},l.padding=function(t){return arguments.length?l.paddingInner(t).paddingOuter(t):l.paddingInner()},l.paddingInner=function(t){return arguments.length?(o="function"===typeof t?t:dK(+t),l):o},l.paddingOuter=function(t){return arguments.length?l.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):l.paddingTop()},l.paddingTop=function(t){return arguments.length?(a="function"===typeof t?t:dK(+t),l):a},l.paddingRight=function(t){return arguments.length?(s="function"===typeof t?t:dK(+t),l):s},l.paddingBottom=function(t){return arguments.length?(u="function"===typeof t?t:dK(+t),l):u},l.paddingLeft=function(t){return arguments.length?(c="function"===typeof t?t:dK(+t),l):c},l}function ZK(t,e,n){const r={};return t.each((t=>{const i=t.data;n(i)&&(r[e(i)]=t)})),t.lookup=r,t}function QK(t){gu.call(this,null,t)}QK.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const tX=t=>t.values;function eX(){const t=[],e={entries:t=>r(n(t,0),0),key:n=>(t.push(n),e)};function n(e,r){if(r>=t.length)return e;const i=e.length,o=t[r++],a={},s={};let u,c,l,f=-1;while(++f<i)u=o(c=e[f])+"",(l=a[u])?l.push(c):a[u]=[c];for(u in a)s[u]=n(a[u],r);return s}function r(e,n){if(++n>t.length)return e;const i=[];for(const t in e)i.push({key:t,values:r(e[t],n)});return i}return e}function nX(t){gu.call(this,null,t)}ge(QK,gu,{transform(t,e){e.source||ct("Nest transform requires an upstream data source.");var n=t.generate,r=t.modified(),i=e.clone(),o=this.value;return(!o||r||e.changed())&&(o&&o.each((t=>{t.children&&Qa(t.data)&&i.rem.push(t.data)})),this.value=o=zG({values:Xt(t.keys).reduce(((t,e)=>(t.key(e),t)),eX()).entries(i.source)},tX),n&&o.each((t=>{t.children&&(t=ns(t.data),i.add.push(t),i.source.push(t))})),ZK(o,ts,ts)),i.source.root=o,i}});const rX=(t,e)=>t.parent===e.parent?1:2;function iX(t,e,n){for(let r,i=0,o=e.length;i<o;++i)r=e[i],r in n&&t[r](n[r])}function oX(t,e,n){const r=t.data,i=e.length-1;for(let o=0;o<i;++o)r[n[o]]=t[e[o]];r[n[i]]=t.children?t.children.length:0}ge(nX,gu,{transform(t,e){e.source&&e.source.root||ct(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(t.method),r=this.fields,i=e.source.root,o=t.as||r;t.field?i.sum(t.field):i.count(),t.sort&&i.sort(as(t.sort,(t=>t.data))),iX(n,this.params,t),n.separation&&n.separation(!1!==t.separation?rX:gt);try{this.value=n(i)}catch(a){ct(a)}return i.each((t=>oX(t,r,o))),e.reflow(t.modified()).modifies(o).modifies("leaf")}});const aX=["x","y","r","depth","children"];function sX(t){nX.call(this,t)}sX.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:aX.length,default:aX}]},ge(sX,nX,{layout:gK,params:["radius","size","padding"],fields:aX});const uX=["x0","y0","x1","y1","depth","children"];function cX(t){nX.call(this,t)}function lX(t){gu.call(this,null,t)}cX.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:uX.length,default:uX}]},ge(cX,nX,{layout:xK,params:["size","round","padding"],fields:uX}),lX.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},ge(lX,gu,{transform(t,e){e.source||ct("Stratify transform requires an upstream data source.");let n=this.value;const r=t.modified(),i=e.fork(e.ALL).materialize(e.SOURCE),o=!n||r||e.changed(e.ADD_REM)||e.modified(t.key.fields)||e.modified(t.parentKey.fields);return i.source=i.source.slice(),o&&(n=i.source.length?ZK(CK().id(t.key).parentId(t.parentKey)(i.source),t.key,mt):ZK(CK()([{}]),t.key,t.key)),i.source.root=this.value=n,i}});const fX={tidy:BK,cluster:qK},hX=["x","y","depth","children"];function dX(t){nX.call(this,t)}function pX(t){gu.call(this,[],t)}dX.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:hX.length,default:hX}]},ge(dX,nX,{layout(t){const e=t||"tidy";if(fe(fX,e))return fX[e]();ct("Unrecognized Tree layout method: "+e)},params:["size","nodeSize"],fields:hX}),pX.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},ge(pX,gu,{transform(t,e){const n=this.value,r=e.source&&e.source.root,i=e.fork(e.NO_SOURCE),o={};return r||ct("TreeLinks transform requires a tree data source."),e.changed(e.ADD_REM)?(i.rem=n,e.visit(e.SOURCE,(t=>o[ts(t)]=1)),r.each((t=>{const e=t.data,n=t.parent&&t.parent.data;n&&o[ts(e)]&&o[ts(n)]&&i.add.push(ns({source:n,target:e}))})),this.value=i.add):e.changed(e.MOD)&&(e.visit(e.MOD,(t=>o[ts(t)]=1)),n.forEach((t=>{(o[ts(t.source)]||o[ts(t.target)])&&i.mod.push(t)}))),i}});const gX={binary:VK,dice:wK,slice:HK,slicedice:WK,squarify:KK,resquarify:XK},mX=["x0","y0","x1","y1","depth","children"];function vX(t){nX.call(this,t)}function yX(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function bX(t){this._context=t}function wX(t){return new bX(t)}function xX(){}function _X(t){this._context=t}function kX(t){return new _X(t)}function AX(t){this._context=t}function SX(t){return new AX(t)}function CX(t,e){this._basis=new bX(t),this._beta=e}vX.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:mX.length,default:mX}]},ge(vX,nX,{layout(){const t=JK();return t.ratio=e=>{const n=t.tile();n.ratio&&t.tile(n.ratio(e))},t.method=e=>{fe(gX,e)?t.tile(gX[e]):ct("Unrecognized Treemap layout method: "+e)},t},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:mX}),bX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:yX(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:yX(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},_X.prototype={areaStart:xX,areaEnd:xX,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:yX(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},AX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:yX(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},CX.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0){var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;while(++u<=n)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*a),this._beta*e[u]+(1-this._beta)*(o+r*s))}this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var EX=function t(e){function n(t){return 1===e?new bX(t):new CX(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function DX(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function MX(t,e){this._context=t,this._k=(1-e)/6}MX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:DX(this,this._x1,this._y1);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:DX(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var TX=function t(e){function n(t){return new MX(t,e)}return n.tension=function(e){return t(+e)},n}(0);function FX(t,e){this._context=t,this._k=(1-e)/6}FX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:DX(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var OX=function t(e){function n(t){return new FX(t,e)}return n.tension=function(e){return t(+e)},n}(0);function $X(t,e){this._context=t,this._k=(1-e)/6}$X.prototype={areaStart:xX,areaEnd:xX,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:DX(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var NX=function t(e){function n(t){return new $X(t,e)}return n.tension=function(e){return t(+e)},n}(0),BX=Math.abs,RX=Math.atan2,PX=Math.cos,IX=Math.max,jX=Math.min,LX=Math.sin,zX=Math.sqrt,UX=1e-12,qX=Math.PI,VX=qX/2,HX=2*qX;function WX(t){return t>1?0:t<-1?qX:Math.acos(t)}function YX(t){return t>=1?VX:t<=-1?-VX:Math.asin(t)}function GX(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>UX){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>UX){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/l,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function KX(t,e){this._context=t,this._alpha=e}KX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:GX(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var XX=function t(e){function n(t){return e?new KX(t,e):new MX(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function JX(t,e){this._context=t,this._alpha=e}JX.prototype={areaStart:xX,areaEnd:xX,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:GX(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ZX=function t(e){function n(t){return e?new JX(t,e):new $X(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function QX(t,e){this._context=t,this._alpha=e}QX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:GX(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var tJ=function t(e){function n(t){return e?new QX(t,e):new FX(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function eJ(t){this._context=t}function nJ(t){return new eJ(t)}function rJ(t){this._context=t}function iJ(t){return new rJ(t)}function oJ(t){return t<0?-1:1}function aJ(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(oJ(o)+oJ(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function sJ(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function uJ(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function cJ(t){this._context=t}function lJ(t){this._context=new fJ(t)}function fJ(t){this._context=t}function hJ(t){return new cJ(t)}function dJ(t){return new lJ(t)}function pJ(t){this._context=t}function gJ(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function mJ(t){return new pJ(t)}function vJ(t,e){this._context=t,this._t=e}function yJ(t){return new vJ(t,.5)}function bJ(t){return new vJ(t,0)}function wJ(t){return new vJ(t,1)}eJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}},rJ.prototype={areaStart:xX,areaEnd:xX,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},cJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:uJ(this,this._t0,sJ(this,this._t0));break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,t!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,uJ(this,sJ(this,n=aJ(this,t,e)),n);break;default:uJ(this,this._t0,n=aJ(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(lJ.prototype=Object.create(cJ.prototype)).point=function(t,e){cJ.prototype.point.call(this,e,t)},fJ.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},pJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=gJ(t),i=gJ(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},vJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}this._x=t,this._y=e}};const xJ=Math.PI,_J=2*xJ,kJ=1e-6,AJ=_J-kJ;function SJ(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function CJ(){return new SJ}SJ.prototype=CJ.prototype={constructor:SJ,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,u=r-e,c=o-t,l=a-e,f=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>kJ)if(Math.abs(l*s-u*c)>kJ&&i){var h=n-o,d=r-a,p=s*s+u*u,g=h*h+d*d,m=Math.sqrt(p),v=Math.sqrt(f),y=i*Math.tan((xJ-Math.acos((p+f-g)/(2*m*v)))/2),b=y/v,w=y/m;Math.abs(b-1)>kJ&&(this._+="L"+(t+b*c)+","+(e+b*l)),this._+="A"+i+","+i+",0,0,"+ +(l*h>c*d)+","+(this._x1=t+w*s)+","+(this._y1=e+w*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,n=+n,o=!!o;var a=n*Math.cos(r),s=n*Math.sin(r),u=t+a,c=e+s,l=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>kJ||Math.abs(this._y1-c)>kJ)&&(this._+="L"+u+","+c),n&&(f<0&&(f=f%_J+_J),f>AJ?this._+="A"+n+","+n+",0,1,"+l+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):f>kJ&&(this._+="A"+n+","+n+",0,"+ +(f>=xJ)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var EJ=CJ;function DJ(t){return function(){return t}}function MJ(t){return t.innerRadius}function TJ(t){return t.outerRadius}function FJ(t){return t.startAngle}function OJ(t){return t.endAngle}function $J(t){return t&&t.padAngle}function NJ(t,e,n,r,i,o,a,s){var u=n-t,c=r-e,l=a-i,f=s-o,h=f*u-l*c;if(!(h*h<UX))return h=(l*(e-o)-f*(t-i))/h,[t+h*u,e+h*c]}function BJ(t,e,n,r,i,o,a){var s=t-n,u=e-r,c=(a?o:-o)/zX(s*s+u*u),l=c*u,f=-c*s,h=t+l,d=e+f,p=n+l,g=r+f,m=(h+p)/2,v=(d+g)/2,y=p-h,b=g-d,w=y*y+b*b,x=i-o,_=h*g-p*d,k=(b<0?-1:1)*zX(IX(0,x*x*w-_*_)),A=(_*b-y*k)/w,S=(-_*y-b*k)/w,C=(_*b+y*k)/w,E=(-_*y+b*k)/w,D=A-m,M=S-v,T=C-m,F=E-v;return D*D+M*M>T*T+F*F&&(A=C,S=E),{cx:A,cy:S,x01:-l,y01:-f,x11:A*(i/x-1),y11:S*(i/x-1)}}function RJ(){var t=MJ,e=TJ,n=DJ(0),r=null,i=FJ,o=OJ,a=$J,s=null;function u(){var u,c,l=+t.apply(this,arguments),f=+e.apply(this,arguments),h=i.apply(this,arguments)-VX,d=o.apply(this,arguments)-VX,p=BX(d-h),g=d>h;if(s||(s=u=EJ()),f<l&&(c=f,f=l,l=c),f>UX)if(p>HX-UX)s.moveTo(f*PX(h),f*LX(h)),s.arc(0,0,f,h,d,!g),l>UX&&(s.moveTo(l*PX(d),l*LX(d)),s.arc(0,0,l,d,h,g));else{var m,v,y=h,b=d,w=h,x=d,_=p,k=p,A=a.apply(this,arguments)/2,S=A>UX&&(r?+r.apply(this,arguments):zX(l*l+f*f)),C=jX(BX(f-l)/2,+n.apply(this,arguments)),E=C,D=C;if(S>UX){var M=YX(S/l*LX(A)),T=YX(S/f*LX(A));(_-=2*M)>UX?(M*=g?1:-1,w+=M,x-=M):(_=0,w=x=(h+d)/2),(k-=2*T)>UX?(T*=g?1:-1,y+=T,b-=T):(k=0,y=b=(h+d)/2)}var F=f*PX(y),O=f*LX(y),$=l*PX(x),N=l*LX(x);if(C>UX){var B,R=f*PX(b),P=f*LX(b),I=l*PX(w),j=l*LX(w);if(p<qX&&(B=NJ(F,O,I,j,R,P,$,N))){var L=F-B[0],z=O-B[1],U=R-B[0],q=P-B[1],V=1/LX(WX((L*U+z*q)/(zX(L*L+z*z)*zX(U*U+q*q)))/2),H=zX(B[0]*B[0]+B[1]*B[1]);E=jX(C,(l-H)/(V-1)),D=jX(C,(f-H)/(V+1))}}k>UX?D>UX?(m=BJ(I,j,F,O,f,D,g),v=BJ(R,P,$,N,f,D,g),s.moveTo(m.cx+m.x01,m.cy+m.y01),D<C?s.arc(m.cx,m.cy,D,RX(m.y01,m.x01),RX(v.y01,v.x01),!g):(s.arc(m.cx,m.cy,D,RX(m.y01,m.x01),RX(m.y11,m.x11),!g),s.arc(0,0,f,RX(m.cy+m.y11,m.cx+m.x11),RX(v.cy+v.y11,v.cx+v.x11),!g),s.arc(v.cx,v.cy,D,RX(v.y11,v.x11),RX(v.y01,v.x01),!g))):(s.moveTo(F,O),s.arc(0,0,f,y,b,!g)):s.moveTo(F,O),l>UX&&_>UX?E>UX?(m=BJ($,N,R,P,l,-E,g),v=BJ(F,O,I,j,l,-E,g),s.lineTo(m.cx+m.x01,m.cy+m.y01),E<C?s.arc(m.cx,m.cy,E,RX(m.y01,m.x01),RX(v.y01,v.x01),!g):(s.arc(m.cx,m.cy,E,RX(m.y01,m.x01),RX(m.y11,m.x11),!g),s.arc(0,0,l,RX(m.cy+m.y11,m.cx+m.x11),RX(v.cy+v.y11,v.cx+v.x11),g),s.arc(v.cx,v.cy,E,RX(v.y11,v.x11),RX(v.y01,v.x01),!g))):s.arc(0,0,l,x,w,g):s.lineTo($,N)}else s.moveTo(0,0);if(s.closePath(),u)return s=null,u+""||null}return u.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-qX/2;return[PX(r)*n,LX(r)*n]},u.innerRadius=function(e){return arguments.length?(t="function"===typeof e?e:DJ(+e),u):t},u.outerRadius=function(t){return arguments.length?(e="function"===typeof t?t:DJ(+t),u):e},u.cornerRadius=function(t){return arguments.length?(n="function"===typeof t?t:DJ(+t),u):n},u.padRadius=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:DJ(+t),u):r},u.startAngle=function(t){return arguments.length?(i="function"===typeof t?t:DJ(+t),u):i},u.endAngle=function(t){return arguments.length?(o="function"===typeof t?t:DJ(+t),u):o},u.padAngle=function(t){return arguments.length?(a="function"===typeof t?t:DJ(+t),u):a},u.context=function(t){return arguments.length?(s=null==t?null:t,u):s},u}Array.prototype.slice;function PJ(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}function IJ(t){return t[0]}function jJ(t){return t[1]}function LJ(t,e){var n=DJ(!0),r=null,i=nJ,o=null;function a(a){var s,u,c,l=(a=PJ(a)).length,f=!1;for(null==r&&(o=i(c=EJ())),s=0;s<=l;++s)!(s<l&&n(u=a[s],s,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(u,s,a),+e(u,s,a));if(c)return o=null,c+""||null}return t="function"===typeof t?t:void 0===t?IJ:DJ(t),e="function"===typeof e?e:void 0===e?jJ:DJ(e),a.x=function(e){return arguments.length?(t="function"===typeof e?e:DJ(+e),a):t},a.y=function(t){return arguments.length?(e="function"===typeof t?t:DJ(+t),a):e},a.defined=function(t){return arguments.length?(n="function"===typeof t?t:DJ(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}function zJ(t,e,n){var r=null,i=DJ(!0),o=null,a=nJ,s=null;function u(u){var c,l,f,h,d,p=(u=PJ(u)).length,g=!1,m=new Array(p),v=new Array(p);for(null==o&&(s=a(d=EJ())),c=0;c<=p;++c){if(!(c<p&&i(h=u[c],c,u))===g)if(g=!g)l=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=c-1;f>=l;--f)s.point(m[f],v[f]);s.lineEnd(),s.areaEnd()}g&&(m[c]=+t(h,c,u),v[c]=+e(h,c,u),s.point(r?+r(h,c,u):m[c],n?+n(h,c,u):v[c]))}if(d)return s=null,d+""||null}function c(){return LJ().defined(i).curve(a).context(o)}return t="function"===typeof t?t:void 0===t?IJ:DJ(+t),e="function"===typeof e?e:DJ(void 0===e?0:+e),n="function"===typeof n?n:void 0===n?jJ:DJ(+n),u.x=function(e){return arguments.length?(t="function"===typeof e?e:DJ(+e),r=null,u):t},u.x0=function(e){return arguments.length?(t="function"===typeof e?e:DJ(+e),u):t},u.x1=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:DJ(+t),u):r},u.y=function(t){return arguments.length?(e="function"===typeof t?t:DJ(+t),n=null,u):e},u.y0=function(t){return arguments.length?(e="function"===typeof t?t:DJ(+t),u):e},u.y1=function(t){return arguments.length?(n=null==t?null:"function"===typeof t?t:DJ(+t),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(t){return arguments.length?(i="function"===typeof t?t:DJ(!!t),u):i},u.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),u):a},u.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),u):o},u}var UJ={draw:function(t,e){var n=Math.sqrt(e/qX);t.moveTo(n,0),t.arc(0,0,n,0,HX)}},qJ=(Math.sqrt(1/3),Math.sin(qX/10)/Math.sin(7*qX/10));Math.sin(HX/10),Math.cos(HX/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12);function VJ(t,e){var n=null;function r(){var r;if(n||(n=r=EJ()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return t="function"===typeof t?t:DJ(t||UJ),e="function"===typeof e?e:DJ(void 0===e?64:+e),r.type=function(e){return arguments.length?(t="function"===typeof e?e:DJ(e),r):t},r.size=function(t){return arguments.length?(e="function"===typeof t?t:DJ(+t),r):e},r.context=function(t){return arguments.length?(n=null==t?null:t,r):n},r}var HJ={},WJ={},YJ=34,GJ=10,KJ=13;function XJ(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function JJ(t,e){var n=XJ(t);return function(r,i){return e(n(r),i,t)}}function ZJ(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function QJ(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function tZ(t){return t<0?"-"+QJ(-t,6):t>9999?"+"+QJ(t,6):QJ(t,4)}function eZ(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":tZ(t.getUTCFullYear(),4)+"-"+QJ(t.getUTCMonth()+1,2)+"-"+QJ(t.getUTCDate(),2)+(i?"T"+QJ(e,2)+":"+QJ(n,2)+":"+QJ(r,2)+"."+QJ(i,3)+"Z":r?"T"+QJ(e,2)+":"+QJ(n,2)+":"+QJ(r,2)+"Z":n||e?"T"+QJ(e,2)+":"+QJ(n,2)+"Z":"")}function nZ(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var n,r,o=i(t,(function(t,i){if(n)return n(t,i-1);r=t,n=e?JJ(t,e):XJ(t)}));return o.columns=r||[],o}function i(t,e){var r,i=[],o=t.length,a=0,s=0,u=o<=0,c=!1;function l(){if(u)return WJ;if(c)return c=!1,HJ;var e,r,i=a;if(t.charCodeAt(i)===YJ){while(a++<o&&t.charCodeAt(a)!==YJ||t.charCodeAt(++a)===YJ);return(e=a)>=o?u=!0:(r=t.charCodeAt(a++))===GJ?c=!0:r===KJ&&(c=!0,t.charCodeAt(a)===GJ&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}while(a<o){if((r=t.charCodeAt(e=a++))===GJ)c=!0;else if(r===KJ)c=!0,t.charCodeAt(a)===GJ&&++a;else if(r!==n)continue;return t.slice(i,e)}return u=!0,t.slice(i,o)}t.charCodeAt(o-1)===GJ&&--o,t.charCodeAt(o-1)===KJ&&--o;while((r=l())!==WJ){var f=[];while(r!==HJ&&r!==WJ)f.push(r),r=l();e&&null==(f=e(f,s++))||i.push(f)}return i}function o(e,n){return e.map((function(e){return n.map((function(t){return l(e[t])})).join(t)}))}function a(e,n){return null==n&&(n=ZJ(e)),[n.map(l).join(t)].concat(o(e,n)).join("\n")}function s(t,e){return null==e&&(e=ZJ(t)),o(t,e).join("\n")}function u(t){return t.map(c).join("\n")}function c(e){return e.map(l).join(t)}function l(t){return null==t?"":t instanceof Date?eZ(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:r,parseRows:i,format:a,formatBody:s,formatRows:u,formatRow:c,formatValue:l}}var rZ,iZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function oZ(t){if(!(e=iZ.exec(t)))throw new Error("invalid format: "+t);var e;return new aZ({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function aZ(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function sZ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function uZ(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function cZ(t){return t=uZ(Math.abs(t)),t?t[1]:NaN}function lZ(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(cZ(e)/3)))-cZ(Math.abs(t)))}function fZ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,cZ(e)-cZ(t))+1}function hZ(t){return Math.max(0,-cZ(Math.abs(t)))}function dZ(t,e){return function(n,r){var i=n.length,o=[],a=0,s=t[0],u=0;while(i>0&&s>0){if(u+s+1>r&&(s=Math.max(1,r-u)),o.push(n.substring(i-=s,i+s)),(u+=s+1)>r)break;s=t[a=(a+1)%t.length]}return o.reverse().join(e)}}function pZ(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}function gZ(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(e+1):t}function mZ(t,e){var n=uZ(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(rZ=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+uZ(t,Math.max(0,e+o-1))[0]}function vZ(t,e){var n=uZ(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}oZ.prototype=aZ.prototype,aZ.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var yZ={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:sZ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>vZ(100*t,e),r:vZ,s:mZ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function bZ(t){return t}var wZ,xZ,_Z,kZ=Array.prototype.map,AZ=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function SZ(t){var e=void 0===t.grouping||void 0===t.thousands?bZ:dZ(kZ.call(t.grouping,Number),t.thousands+""),n=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",i=void 0===t.decimal?".":t.decimal+"",o=void 0===t.numerals?bZ:pZ(kZ.call(t.numerals,String)),a=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function c(t){t=oZ(t);var c=t.fill,l=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,g=t.comma,m=t.precision,v=t.trim,y=t.type;"n"===y?(g=!0,y="g"):yZ[y]||(void 0===m&&(m=12),v=!0,y="g"),(d||"0"===c&&"="===l)&&(d=!0,c="0",l="=");var b="$"===h?n:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===h?r:/[%p]/.test(y)?a:"",x=yZ[y],_=/[defgprs%]/.test(y);function k(t){var n,r,a,h=b,k=w;if("c"===y)k=x(t)+k,t="";else{t=+t;var A=t<0||1/t<0;if(t=isNaN(t)?u:x(Math.abs(t),m),v&&(t=gZ(t)),A&&0===+t&&"+"!==f&&(A=!1),h=(A?"("===f?f:s:"-"===f||"("===f?"":f)+h,k=("s"===y?AZ[8+rZ/3]:"")+k+(A&&"("===f?")":""),_){n=-1,r=t.length;while(++n<r)if(a=t.charCodeAt(n),48>a||a>57){k=(46===a?i+t.slice(n+1):t.slice(n))+k,t=t.slice(0,n);break}}}g&&!d&&(t=e(t,1/0));var S=h.length+t.length+k.length,C=S<p?new Array(p-S+1).join(c):"";switch(g&&d&&(t=e(C+t,C.length?p-k.length:1/0),C=""),l){case"<":t=h+t+k+C;break;case"=":t=h+C+t+k;break;case"^":t=C.slice(0,S=C.length>>1)+h+t+k+C.slice(S);break;default:t=C+h+t+k;break}return o(t)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return t+""},k}function l(t,e){var n=c((t=oZ(t),t.type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(cZ(e)/3))),i=Math.pow(10,-r),o=AZ[8+r/3];return function(t){return n(i*t)+o}}return{format:c,formatPrefix:l}}function CZ(t){return wZ=SZ(t),xZ=wZ.format,_Z=wZ.formatPrefix,wZ}function EZ(t){const e={};return n=>e[n]||(e[n]=t(n))}function DZ(t,e){return n=>{const r=t(n),i=r.indexOf(e);if(i<0)return r;let o=MZ(r,i);const a=o<r.length?r.slice(o):"";while(--o>i)if("0"!==r[o]){++o;break}return r.slice(0,o)+a}}function MZ(t,e){let n,r=t.lastIndexOf("e");if(r>0)return r;for(r=t.length;--r>e;)if(n=t.charCodeAt(r),n>=48&&n<=57)return r+1}function TZ(t){const e=EZ(t.format),n=t.formatPrefix;return{format:e,formatPrefix:n,formatFloat(t){const n=oZ(t||",");if(null==n.precision){switch(n.precision=12,n.type){case"%":n.precision-=2;break;case"e":n.precision-=1;break}return DZ(e(n),e(".1f")(1)[1])}return e(n)},formatSpan(t,r,i,o){o=oZ(null==o?",f":o);const a=Pl(t,r,i),s=Math.max(Math.abs(t),Math.abs(r));let u;if(null==o.precision)switch(o.type){case"s":return isNaN(u=lZ(a,s))||(o.precision=u),n(o,s);case"":case"e":case"g":case"p":case"r":isNaN(u=fZ(a,s))||(o.precision=u-("e"===o.type));break;case"f":case"%":isNaN(u=hZ(a))||(o.precision=u-2*("%"===o.type));break}return e(o)}}}let FZ,OZ;function $Z(){return FZ=TZ({format:xZ,formatPrefix:_Z})}function NZ(t){return TZ(SZ(t))}function BZ(t){return arguments.length?FZ=NZ(t):FZ}function RZ(t,e,n){n=n||{},Ct(n)||ct("Invalid time multi-format specifier: ".concat(n));const r=e(Yl),i=e(Wl),o=e(Hl),a=e(Ul),s=e(zl),u=e(Ll),c=e(jl),l=e(Il),f=t(n[Gl]||".%L"),h=t(n[Yl]||":%S"),d=t(n[Wl]||"%I:%M"),p=t(n[Hl]||"%I %p"),g=t(n[Ul]||n[ql]||"%a %d"),m=t(n[zl]||"%b %d"),v=t(n[Ll]||"%B"),y=t(n[jl]||"%B"),b=t(n[Il]||"%Y");return t=>(r(t)<t?f:i(t)<t?h:o(t)<t?d:a(t)<t?p:u(t)<t?s(t)<t?g:m:l(t)<t?c(t)<t?v:y:b)(t)}function PZ(t){const e=EZ(t.format),n=EZ(t.utcFormat);return{timeFormat:t=>_e(t)?e(t):RZ(e,Cf,t),utcFormat:t=>_e(t)?n(t):RZ(n,Ef,t),timeParse:EZ(t.parse),utcParse:EZ(t.utcParse)}}function IZ(){return OZ=PZ({format:rN,parse:iN,utcFormat:oN,utcParse:aN})}function jZ(t){return PZ(eN(t))}function LZ(t){return arguments.length?OZ=jZ(t):OZ}CZ({thousands:",",grouping:[3],currency:["$",""]}),$Z(),IZ();const zZ=(t,e)=>se({},t,e);function UZ(t,e){const n=t?NZ(t):BZ(),r=e?jZ(e):LZ();return zZ(n,r)}function qZ(t,e){const n=arguments.length;return n&&2!==n&&ct("defaultLocale expects either zero or two arguments."),n?zZ(BZ(t),LZ(e)):zZ(BZ(),LZ())}function VZ(){return $Z(),IZ(),qZ()}const HZ=/^(data:|([A-Za-z]+:)?\/\/)/,WZ=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,YZ=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,GZ="file://";function KZ(t,e){return n=>({options:n||{},sanitize:JZ,load:XZ,fileAccess:!!e,file:ZZ(e),http:tQ(t)})}async function XZ(t,e){const n=await this.sanitize(t,e),r=n.href;return n.localFile?this.file(r):this.http(r,e)}async function JZ(t,e){e=se({},this.options,e);const n=this.fileAccess,r={href:null};let i,o,a;const s=WZ.test(t.replace(YZ,""));null!=t&&"string"===typeof t&&s||ct("Sanitize failure, invalid URI: "+Fe(t));const u=HZ.test(t);return(a=e.baseURL)&&!u&&(t.startsWith("/")||a.endsWith("/")||(t="/"+t),t=a+t),o=(i=t.startsWith(GZ))||"file"===e.mode||"http"!==e.mode&&!u&&n,i?t=t.slice(GZ.length):t.startsWith("//")&&("file"===e.defaultProtocol?(t=t.slice(2),o=!0):t=(e.defaultProtocol||"http")+":"+t),Object.defineProperty(r,"localFile",{value:!!o}),r.href=t,e.target&&(r.target=e.target+""),e.rel&&(r.rel=e.rel+""),"image"===e.context&&e.crossOrigin&&(r.crossOrigin=e.crossOrigin+""),r}function ZZ(t){return t?e=>new Promise(((n,r)=>{t.readFile(e,((t,e)=>{t?r(t):n(e)}))})):QZ}async function QZ(){ct("No file system access.")}function tQ(t){return t?async function(e,n){const r=se({},this.options.http,n),i=n&&n.response,o=await t(e,r);return o.ok?Zt(o[i])?o[i]():o.text():ct(o.status+""+o.statusText)}:eQ}async function eQ(){ct("No HTTP fetch method available.")}const nQ=t=>null!=t&&t===t,rQ=t=>"true"===t||"false"===t||!0===t||!1===t,iQ=t=>!Number.isNaN(Date.parse(t)),oQ=t=>!Number.isNaN(+t)&&!(t instanceof Date),aQ=t=>oQ(t)&&Number.isInteger(+t),sQ={boolean:Oe,integer:Ot,number:Ot,date:Ne,string:Be,unknown:dt},uQ=[rQ,aQ,oQ,iQ],cQ=["boolean","integer","number","date"];function lQ(t,e){if(!t||!t.length)return"unknown";const n=t.length,r=uQ.length,i=uQ.map(((t,e)=>e+1));for(let o,a,s=0,u=0;s<n;++s)for(a=e?t[s][e]:t[s],o=0;o<r;++o)if(i[o]&&nQ(a)&&!uQ[o](a)&&(i[o]=0,++u,u===uQ.length))return"string";return cQ[i.reduce(((t,e)=>0===t?e:t),0)-1]}function fQ(t,e){return e.reduce(((e,n)=>(e[n]=lQ(t,n),e)),{})}function hQ(t){const e=function(e,n){const r={delimiter:t};return dQ(e,n?se(n,r):r)};return e.responseType="text",e}function dQ(t,e){return e.header&&(t=e.header.map(Fe).join(e.delimiter)+"\n"+t),nZ(e.delimiter).parse(t+"")}function pQ(t){return!("function"!==typeof Buffer||!Zt(Buffer.isBuffer))&&Buffer.isBuffer(t)}function gQ(t,e){const n=e&&e.property?ft(e.property):dt;return Ct(t)&&!pQ(t)?mQ(n(t),e):n(JSON.parse(t))}function mQ(t,e){return!St(t)&&be(t)&&(t=[...t]),e&&e.copy?JSON.parse(JSON.stringify(t)):t}dQ.responseType="text",gQ.responseType="json";const vQ={interior:(t,e)=>t!==e,exterior:(t,e)=>t===e};function yQ(t,e){let n,r,i,o;return t=gQ(t,e),e&&e.feature?(n=jn,i=e.feature):e&&e.mesh?(n=qn,i=e.mesh,o=vQ[e.filter]):ct("Missing TopoJSON feature or mesh parameter."),r=(r=t.objects[i])?n(t,r,o):ct("Invalid TopoJSON object: "+i),r&&r.features||[r]}yQ.responseType="json";const bQ={dsv:dQ,csv:hQ(","),tsv:hQ("\t"),json:gQ,topojson:yQ};function wQ(t,e){return arguments.length>1?(bQ[t]=e,this):fe(bQ,t)?bQ[t]:null}function xQ(t){const e=wQ(t);return e&&e.responseType||"text"}function _Q(t,e,n,r){e=e||{};const i=wQ(e.type||"json");return i||ct("Unknown data format type: "+e.type),t=i(t,e),e.parse&&kQ(t,e.parse,n,r),fe(t,"columns")&&delete t.columns,t}function kQ(t,e,n,r){if(!t.length)return;const i=LZ();n=n||i.timeParse,r=r||i.utcParse;let o,a,s,u,c,l,f=t.columns||Object.keys(t[0]);"auto"===e&&(e=fQ(t,f)),f=Object.keys(e);const h=f.map((t=>{const i=e[t];let o,a;if(i&&(i.startsWith("date:")||i.startsWith("utc:"))){o=i.split(/:(.+)?/,2),a=o[1],("'"===a[0]&&"'"===a[a.length-1]||'"'===a[0]&&'"'===a[a.length-1])&&(a=a.slice(1,-1));const t="utc"===o[0]?r:n;return t(a)}if(!sQ[i])throw Error("Illegal format pattern: "+t+":"+i);return sQ[i]}));for(s=0,c=t.length,l=f.length;s<c;++s)for(o=t[s],u=0;u<l;++u)a=f[u],o[a]=h[u](o[a])}const AQ=KZ("undefined"!==typeof fetch&&fetch,null);let SQ=0;function CQ(){SQ=0}const EQ="p_";function DQ(t){return t&&t.gradient}function MQ(t,e,n){const r=t.gradient;let i=t.id,o="radial"===r?EQ:"";return i||(i=t.id="gradient_"+SQ++,"radial"===r?(t.x1=TQ(t.x1,.5),t.y1=TQ(t.y1,.5),t.r1=TQ(t.r1,0),t.x2=TQ(t.x2,.5),t.y2=TQ(t.y2,.5),t.r2=TQ(t.r2,.5),o=EQ):(t.x1=TQ(t.x1,0),t.y1=TQ(t.y1,0),t.x2=TQ(t.x2,1),t.y2=TQ(t.y2,0))),e[i]=t,"url("+(n||"")+"#"+o+i+")"}function TQ(t,e){return null!=t?t:e}function FQ(t,e){var n,r=[];return n={gradient:"linear",x1:t?t[0]:0,y1:t?t[1]:0,x2:e?e[0]:1,y2:e?e[1]:0,stops:r,stop:function(t,e){return r.push({offset:t,color:e}),n}}}const OQ={basis:{curve:wX},"basis-closed":{curve:kX},"basis-open":{curve:SX},bundle:{curve:EX,tension:"beta",value:.85},cardinal:{curve:TX,tension:"tension",value:0},"cardinal-open":{curve:OX,tension:"tension",value:0},"cardinal-closed":{curve:NX,tension:"tension",value:0},"catmull-rom":{curve:XX,tension:"alpha",value:.5},"catmull-rom-closed":{curve:ZX,tension:"alpha",value:.5},"catmull-rom-open":{curve:tJ,tension:"alpha",value:.5},linear:{curve:nJ},"linear-closed":{curve:iJ},monotone:{horizontal:dJ,vertical:hJ},natural:{curve:mJ},step:{curve:yJ},"step-after":{curve:wJ},"step-before":{curve:bJ}};function $Q(t,e,n){var r=fe(OQ,t)&&OQ[t],i=null;return r&&(i=r.curve||r[e||"vertical"],r.tension&&null!=n&&(i=i[r.tension](n))),i}const NQ={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},BQ=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/];function RQ(t){const e=[];let n,r,i,o,a,s,u,c,l,f;const h=t.slice().replace(BQ[0],"###$1").split(BQ[1]).slice(1);for(u=0,l=h.length;u<l;++u){for(n=h[u],r=n.slice(1).trim().replace(BQ[2],"$1###$2").replace(BQ[3],"$1###$2").split(BQ[4]),a=n.charAt(0),i=[a],c=0,f=r.length;c<f;++c)(o=+r[c])===o&&i.push(o);if(s=NQ[a.toLowerCase()],i.length-1>s){const t=i.length;for(c=1,e.push([a].concat(i.slice(c,c+=s))),a="M"===a?"L":"m"===a?"l":a;c<t;c+=s)e.push([a].concat(i.slice(c,c+s)))}else e.push(i)}return e}const PQ=Math.PI/180,IQ=1e-14,jQ=Math.PI/2,LQ=2*Math.PI,zQ=Math.sqrt(3)/2;var UQ={},qQ={},VQ=[].join;function HQ(t,e,n,r,i,o,a,s,u){const c=VQ.call(arguments);if(UQ[c])return UQ[c];const l=a*PQ,f=Math.sin(l),h=Math.cos(l);n=Math.abs(n),r=Math.abs(r);const d=h*(s-t)*.5+f*(u-e)*.5,p=h*(u-e)*.5-f*(s-t)*.5;let g=d*d/(n*n)+p*p/(r*r);g>1&&(g=Math.sqrt(g),n*=g,r*=g);const m=h/n,v=f/n,y=-f/r,b=h/r,w=m*s+v*u,x=y*s+b*u,_=m*t+v*e,k=y*t+b*e,A=(_-w)*(_-w)+(k-x)*(k-x);let S=1/A-.25;S<0&&(S=0);let C=Math.sqrt(S);o==i&&(C=-C);const E=.5*(w+_)-C*(k-x),D=.5*(x+k)+C*(_-w),M=Math.atan2(x-D,w-E),T=Math.atan2(k-D,_-E);let F=T-M;F<0&&1===o?F+=LQ:F>0&&0===o&&(F-=LQ);const O=Math.ceil(Math.abs(F/(jQ+.001))),$=[];for(let N=0;N<O;++N){const t=M+N*F/O,e=M+(N+1)*F/O;$[N]=[E,D,t,e,n,r,f,h]}return UQ[c]=$}function WQ(t){const e=VQ.call(t);if(qQ[e])return qQ[e];var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7];const l=c*a,f=-u*s,h=u*a,d=c*s,p=Math.cos(i),g=Math.sin(i),m=Math.cos(o),v=Math.sin(o),y=.5*(o-i),b=Math.sin(.5*y),w=8/3*b*b/Math.sin(y),x=n+p-w*g,_=r+g+w*p,k=n+m,A=r+v,S=k+w*v,C=A-w*m;return qQ[e]=[l*x+f*_,h*x+d*_,l*S+f*C,h*S+d*C,l*k+f*A,h*k+d*A]}const YQ=["l",0,0,0,0,0,0,0];function GQ(t,e,n){const r=YQ[0]=t[0];if("a"===r||"A"===r)YQ[1]=e*t[1],YQ[2]=n*t[2],YQ[3]=t[3],YQ[4]=t[4],YQ[5]=t[5],YQ[6]=e*t[6],YQ[7]=n*t[7];else if("h"===r||"H"===r)YQ[1]=e*t[1];else if("v"===r||"V"===r)YQ[1]=n*t[1];else for(var i=1,o=t.length;i<o;++i)YQ[i]=(i%2==1?e:n)*t[i];return YQ}function KQ(t,e,n,r,i,o){var a,s,u,c,l,f=null,h=0,d=0,p=0,g=0;null==n&&(n=0),null==r&&(r=0),null==i&&(i=1),null==o&&(o=i),t.beginPath&&t.beginPath();for(var m=0,v=e.length;m<v;++m){switch(a=e[m],1===i&&1===o||(a=GQ(a,i,o)),a[0]){case"l":h+=a[1],d+=a[2],t.lineTo(h+n,d+r);break;case"L":h=a[1],d=a[2],t.lineTo(h+n,d+r);break;case"h":h+=a[1],t.lineTo(h+n,d+r);break;case"H":h=a[1],t.lineTo(h+n,d+r);break;case"v":d+=a[1],t.lineTo(h+n,d+r);break;case"V":d=a[1],t.lineTo(h+n,d+r);break;case"m":h+=a[1],d+=a[2],t.moveTo(h+n,d+r);break;case"M":h=a[1],d=a[2],t.moveTo(h+n,d+r);break;case"c":s=h+a[5],u=d+a[6],p=h+a[3],g=d+a[4],t.bezierCurveTo(h+a[1]+n,d+a[2]+r,p+n,g+r,s+n,u+r),h=s,d=u;break;case"C":h=a[5],d=a[6],p=a[3],g=a[4],t.bezierCurveTo(a[1]+n,a[2]+r,p+n,g+r,h+n,d+r);break;case"s":s=h+a[3],u=d+a[4],p=2*h-p,g=2*d-g,t.bezierCurveTo(p+n,g+r,h+a[1]+n,d+a[2]+r,s+n,u+r),p=h+a[1],g=d+a[2],h=s,d=u;break;case"S":s=a[3],u=a[4],p=2*h-p,g=2*d-g,t.bezierCurveTo(p+n,g+r,a[1]+n,a[2]+r,s+n,u+r),h=s,d=u,p=a[1],g=a[2];break;case"q":s=h+a[3],u=d+a[4],p=h+a[1],g=d+a[2],t.quadraticCurveTo(p+n,g+r,s+n,u+r),h=s,d=u;break;case"Q":s=a[3],u=a[4],t.quadraticCurveTo(a[1]+n,a[2]+r,s+n,u+r),h=s,d=u,p=a[1],g=a[2];break;case"t":s=h+a[1],u=d+a[2],null===f[0].match(/[QqTt]/)?(p=h,g=d):"t"===f[0]?(p=2*h-c,g=2*d-l):"q"===f[0]&&(p=2*h-p,g=2*d-g),c=p,l=g,t.quadraticCurveTo(p+n,g+r,s+n,u+r),h=s,d=u,p=h+a[1],g=d+a[2];break;case"T":s=a[1],u=a[2],p=2*h-p,g=2*d-g,t.quadraticCurveTo(p+n,g+r,s+n,u+r),h=s,d=u;break;case"a":XQ(t,h+n,d+r,[a[1],a[2],a[3],a[4],a[5],a[6]+h+n,a[7]+d+r]),h+=a[6],d+=a[7];break;case"A":XQ(t,h+n,d+r,[a[1],a[2],a[3],a[4],a[5],a[6]+n,a[7]+r]),h=a[6],d=a[7];break;case"z":case"Z":t.closePath();break}f=a}}function XQ(t,e,n,r){const i=HQ(r[5],r[6],r[0],r[1],r[3],r[4],r[2],e,n);for(let o=0;o<i.length;++o){const e=WQ(i[o]);t.bezierCurveTo(e[0],e[1],e[2],e[3],e[4],e[5])}}const JQ=.5773502691896257,ZQ={circle:{draw:function(t,e){const n=Math.sqrt(e)/2;t.moveTo(n,0),t.arc(0,0,n,0,LQ)}},cross:{draw:function(t,e){var n=Math.sqrt(e)/2,r=n/2.5;t.moveTo(-n,-r),t.lineTo(-n,r),t.lineTo(-r,r),t.lineTo(-r,n),t.lineTo(r,n),t.lineTo(r,r),t.lineTo(n,r),t.lineTo(n,-r),t.lineTo(r,-r),t.lineTo(r,-n),t.lineTo(-r,-n),t.lineTo(-r,-r),t.closePath()}},diamond:{draw:function(t,e){const n=Math.sqrt(e)/2;t.moveTo(-n,0),t.lineTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.closePath()}},square:{draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},arrow:{draw:function(t,e){var n=Math.sqrt(e)/2,r=n/7,i=n/2.5,o=n/8;t.moveTo(-r,n),t.lineTo(r,n),t.lineTo(r,-o),t.lineTo(i,-o),t.lineTo(0,-n),t.lineTo(-i,-o),t.lineTo(-r,-o),t.closePath()}},wedge:{draw:function(t,e){var n=Math.sqrt(e)/2,r=zQ*n,i=r-n*JQ,o=n/4;t.moveTo(0,-r-i),t.lineTo(-o,r-i),t.lineTo(o,r-i),t.closePath()}},triangle:{draw:function(t,e){var n=Math.sqrt(e)/2,r=zQ*n,i=r-n*JQ;t.moveTo(0,-r-i),t.lineTo(-n,r-i),t.lineTo(n,r-i),t.closePath()}},"triangle-up":{draw:function(t,e){var n=Math.sqrt(e)/2,r=zQ*n;t.moveTo(0,-r),t.lineTo(-n,r),t.lineTo(n,r),t.closePath()}},"triangle-down":{draw:function(t,e){var n=Math.sqrt(e)/2,r=zQ*n;t.moveTo(0,r),t.lineTo(-n,-r),t.lineTo(n,-r),t.closePath()}},"triangle-right":{draw:function(t,e){var n=Math.sqrt(e)/2,r=zQ*n;t.moveTo(r,0),t.lineTo(-r,-n),t.lineTo(-r,n),t.closePath()}},"triangle-left":{draw:function(t,e){var n=Math.sqrt(e)/2,r=zQ*n;t.moveTo(-r,0),t.lineTo(r,-n),t.lineTo(r,n),t.closePath()}},stroke:{draw:function(t,e){const n=Math.sqrt(e)/2;t.moveTo(-n,0),t.lineTo(n,0)}}};function QQ(t){return fe(ZQ,t)?ZQ[t]:e0(t)}var t0={};function e0(t){if(!fe(t0,t)){const e=RQ(t);t0[t]={draw:function(t,n){KQ(t,e,0,0,Math.sqrt(n)/2)}}}return t0[t]}const n0=.448084975506;function r0(t){return t.x}function i0(t){return t.y}function o0(t){return t.width}function a0(t){return t.height}function s0(t){return"function"===typeof t?t:()=>+t}function u0(t,e,n){return Math.max(e,Math.min(t,n))}function c0(){var t=r0,e=i0,n=o0,r=a0,i=s0(0),o=i,a=i,s=i,u=null;function c(c,l,f){var h,d=null!=l?l:+t.call(this,c),p=null!=f?f:+e.call(this,c),g=+n.call(this,c),m=+r.call(this,c),v=Math.min(g,m)/2,y=u0(+i.call(this,c),0,v),b=u0(+o.call(this,c),0,v),w=u0(+a.call(this,c),0,v),x=u0(+s.call(this,c),0,v);if(u||(u=h=EJ()),y<=0&&b<=0&&w<=0&&x<=0)u.rect(d,p,g,m);else{var _=d+g,k=p+m;u.moveTo(d+y,p),u.lineTo(_-b,p),u.bezierCurveTo(_-n0*b,p,_,p+n0*b,_,p+b),u.lineTo(_,k-x),u.bezierCurveTo(_,k-n0*x,_-n0*x,k,_-x,k),u.lineTo(d+w,k),u.bezierCurveTo(d+n0*w,k,d,k-n0*w,d,k-w),u.lineTo(d,p+y),u.bezierCurveTo(d,p+n0*y,d+n0*y,p,d+y,p),u.closePath()}if(h)return u=null,h+""||null}return c.x=function(e){return arguments.length?(t=s0(e),c):t},c.y=function(t){return arguments.length?(e=s0(t),c):e},c.width=function(t){return arguments.length?(n=s0(t),c):n},c.height=function(t){return arguments.length?(r=s0(t),c):r},c.cornerRadius=function(t,e,n,r){return arguments.length?(i=s0(t),o=null!=e?s0(e):i,s=null!=n?s0(n):i,a=null!=r?s0(r):o,c):i},c.context=function(t){return arguments.length?(u=null==t?null:t,c):u},c}function l0(){var t,e,n,r,i,o,a,s,u=null;function c(t,e,n){const r=n/2;if(i){var c=a-e,l=t-o;if(c||l){var f=Math.sqrt(c*c+l*l),h=(c/=f)*s,d=(l/=f)*s,p=Math.atan2(l,c);u.moveTo(o-h,a-d),u.lineTo(t-c*r,e-l*r),u.arc(t,e,r,p-Math.PI,p),u.lineTo(o+h,a+d),u.arc(o,a,s,p,p+Math.PI)}else u.arc(t,e,r,0,LQ);u.closePath()}else i=1;o=t,a=e,s=r}function l(o){var a,s,l,f=o.length,h=!1;for(null==u&&(u=l=EJ()),a=0;a<=f;++a)!(a<f&&r(s=o[a],a,o))===h&&(h=!h)&&(i=0),h&&c(+t(s,a,o),+e(s,a,o),+n(s,a,o));if(l)return u=null,l+""||null}return l.x=function(e){return arguments.length?(t=e,l):t},l.y=function(t){return arguments.length?(e=t,l):e},l.size=function(t){return arguments.length?(n=t,l):n},l.defined=function(t){return arguments.length?(r=t,l):r},l.context=function(t){return arguments.length?(u=null==t?null:t,l):u},l}function f0(t,e){return null!=t?t:e}const h0=t=>t.x||0,d0=t=>t.y||0,p0=t=>t.width||0,g0=t=>t.height||0,m0=t=>(t.x||0)+(t.width||0),v0=t=>(t.y||0)+(t.height||0),y0=t=>t.startAngle||0,b0=t=>t.endAngle||0,w0=t=>t.padAngle||0,x0=t=>t.innerRadius||0,_0=t=>t.outerRadius||0,k0=t=>t.cornerRadius||0,A0=t=>f0(t.cornerRadiusTopLeft,t.cornerRadius)||0,S0=t=>f0(t.cornerRadiusTopRight,t.cornerRadius)||0,C0=t=>f0(t.cornerRadiusBottomRight,t.cornerRadius)||0,E0=t=>f0(t.cornerRadiusBottomLeft,t.cornerRadius)||0,D0=t=>f0(t.size,64),M0=t=>t.size||1,T0=t=>!(!1===t.defined),F0=t=>QQ(t.shape||"circle"),O0=RJ().startAngle(y0).endAngle(b0).padAngle(w0).innerRadius(x0).outerRadius(_0).cornerRadius(k0),$0=zJ().x(h0).y1(d0).y0(v0).defined(T0),N0=zJ().y(d0).x1(h0).x0(m0).defined(T0),B0=LJ().x(h0).y(d0).defined(T0),R0=c0().x(h0).y(d0).width(p0).height(g0).cornerRadius(A0,S0,C0,E0),P0=VJ().type(F0).size(D0),I0=l0().x(h0).y(d0).defined(T0).size(M0);function j0(t){return t.cornerRadius||t.cornerRadiusTopLeft||t.cornerRadiusTopRight||t.cornerRadiusBottomRight||t.cornerRadiusBottomLeft}function L0(t,e){return O0.context(t)(e)}function z0(t,e){const n=e[0],r=n.interpolate||"linear";return("horizontal"===n.orient?N0:$0).curve($Q(r,n.orient,n.tension)).context(t)(e)}function U0(t,e){const n=e[0],r=n.interpolate||"linear";return B0.curve($Q(r,n.orient,n.tension)).context(t)(e)}function q0(t,e,n,r){return R0.context(t)(e,n,r)}function V0(t,e){return(e.mark.shape||e.shape).context(t)(e)}function H0(t,e){return P0.context(t)(e)}function W0(t,e){return I0.context(t)(e)}var Y0=1;function G0(){Y0=1}function K0(t,e,n){var r=e.clip,i=t._defs,o=e.clip_id||(e.clip_id="clip"+Y0++),a=i.clipping[o]||(i.clipping[o]={id:o});return Zt(r)?a.path=r(null):j0(n)?a.path=q0(null,n,0,0):(a.width=n.width||0,a.height=n.height||0),"url(#"+o+")"}function X0(t){this.clear(),t&&this.union(t)}function J0(t){this.mark=t,this.bounds=this.bounds||new X0}function Z0(t){J0.call(this,t),this.items=this.items||[]}function Q0(t){this._pending=0,this._loader=t||AQ()}function t1(t){t._pending+=1}function e1(t){t._pending-=1}function n1(t,e,n){if(e.stroke&&0!==e.opacity&&0!==e.strokeOpacity){const r=null!=e.strokeWidth?+e.strokeWidth:1;t.expand(r+(n?r1(e,r):0))}return t}function r1(t,e){return t.strokeJoin&&"miter"!==t.strokeJoin?0:e}X0.prototype={clone(){return new X0(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(t){return this.x1===t.x1&&this.y1===t.y1&&this.x2===t.x2&&this.y2===t.y2},set(t,e,n,r){return n<t?(this.x2=t,this.x1=n):(this.x1=t,this.x2=n),r<e?(this.y2=e,this.y1=r):(this.y1=e,this.y2=r),this},add(t,e){return t<this.x1&&(this.x1=t),e<this.y1&&(this.y1=e),t>this.x2&&(this.x2=t),e>this.y2&&(this.y2=e),this},expand(t){return this.x1-=t,this.y1-=t,this.x2+=t,this.y2+=t,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(t){return this.x1*=t,this.y1*=t,this.x2*=t,this.y2*=t,this},translate(t,e){return this.x1+=t,this.x2+=t,this.y1+=e,this.y2+=e,this},rotate(t,e,n){const r=this.rotatedPoints(t,e,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(t,e,n){var{x1:r,y1:i,x2:o,y2:a}=this,s=Math.cos(t),u=Math.sin(t),c=e-e*s+n*u,l=n-e*u-n*s;return[s*r-u*i+c,u*r+s*i+l,s*r-u*a+c,u*r+s*a+l,s*o-u*i+c,u*o+s*i+l,s*o-u*a+c,u*o+s*a+l]},union(t){return t.x1<this.x1&&(this.x1=t.x1),t.y1<this.y1&&(this.y1=t.y1),t.x2>this.x2&&(this.x2=t.x2),t.y2>this.y2&&(this.y2=t.y2),this},intersect(t){return t.x1>this.x1&&(this.x1=t.x1),t.y1>this.y1&&(this.y1=t.y1),t.x2<this.x2&&(this.x2=t.x2),t.y2<this.y2&&(this.y2=t.y2),this},encloses(t){return t&&this.x1<=t.x1&&this.x2>=t.x2&&this.y1<=t.y1&&this.y2>=t.y2},alignsWith(t){return t&&(this.x1==t.x1||this.x2==t.x2||this.y1==t.y1||this.y2==t.y2)},intersects(t){return t&&!(this.x2<t.x1||this.x1>t.x2||this.y2<t.y1||this.y1>t.y2)},contains(t,e){return!(t<this.x1||t>this.x2||e<this.y1||e>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}},ge(Z0,J0),Q0.prototype={pending(){return this._pending},sanitizeURL(t){const e=this;return t1(e),e._loader.sanitize(t,{context:"href"}).then((t=>(e1(e),t))).catch((()=>(e1(e),null)))},loadImage(t){const e=this,n=Yg();return t1(e),e._loader.sanitize(t,{context:"image"}).then((t=>{const r=t.href;if(!r||!n)throw{url:r};const i=new n,o=fe(t,"crossOrigin")?t.crossOrigin:"anonymous";return null!=o&&(i.crossOrigin=o),i.onload=()=>e1(e),i.onerror=()=>e1(e),i.src=r,i})).catch((t=>(e1(e),{complete:!1,width:0,height:0,src:t&&t.url||""})))},ready(){const t=this;return new Promise((e=>{function n(r){t.pending()?setTimeout((()=>{n(!0)}),10):e(r)}n(!1)}))}};const i1=LQ-1e-8;let o1,a1,s1,u1,c1,l1,f1,h1;const d1=(t,e)=>o1.add(t,e),p1=(t,e)=>d1(a1=t,s1=e),g1=t=>d1(t,o1.y1),m1=t=>d1(o1.x1,t),v1=(t,e)=>c1*t+f1*e,y1=(t,e)=>l1*t+h1*e,b1=(t,e)=>d1(v1(t,e),y1(t,e)),w1=(t,e)=>p1(v1(t,e),y1(t,e));function x1(t,e){return o1=t,e?(u1=e*PQ,c1=h1=Math.cos(u1),l1=Math.sin(u1),f1=-l1):(c1=h1=1,u1=l1=f1=0),_1}const _1={beginPath(){},closePath(){},moveTo:w1,lineTo:w1,rect(t,e,n,r){u1?(b1(t+n,e),b1(t+n,e+r),b1(t,e+r),w1(t,e)):(d1(t+n,e+r),p1(t,e))},quadraticCurveTo(t,e,n,r){const i=v1(t,e),o=y1(t,e),a=v1(n,r),s=y1(n,r);k1(a1,i,a,g1),k1(s1,o,s,m1),p1(a,s)},bezierCurveTo(t,e,n,r,i,o){const a=v1(t,e),s=y1(t,e),u=v1(n,r),c=y1(n,r),l=v1(i,o),f=y1(i,o);A1(a1,a,u,l,g1),A1(s1,s,c,f,m1),p1(l,f)},arc(t,e,n,r,i,o){if(r+=u1,i+=u1,a1=n*Math.cos(i)+t,s1=n*Math.sin(i)+e,Math.abs(i-r)>i1)d1(t-n,e-n),d1(t+n,e+n);else{const a=r=>d1(n*Math.cos(r)+t,n*Math.sin(r)+e);let s,u;if(a(r),a(i),i!==r)if(r%=LQ,r<0&&(r+=LQ),i%=LQ,i<0&&(i+=LQ),i<r&&(o=!o,s=r,r=i,i=s),o)for(i-=LQ,s=r-r%jQ,u=0;u<4&&s>i;++u,s-=jQ)a(s);else for(s=r-r%jQ+jQ,u=0;u<4&&s<i;++u,s+=jQ)a(s)}}};function k1(t,e,n,r){const i=(t-e)/(t+n-2*e);0<i&&i<1&&r(t+(e-t)*i)}function A1(t,e,n,r,i){const o=r-t+3*e-3*n,a=t+n-2*e,s=t-e;let u,c=0,l=0;Math.abs(o)>IQ?(u=a*a+s*o,u>=0&&(u=Math.sqrt(u),c=(-a+u)/o,l=(-a-u)/o)):c=.5*s/a,0<c&&c<1&&i(S1(c,t,e,n,r)),0<l&&l<1&&i(S1(l,t,e,n,r))}function S1(t,e,n,r,i){const o=1-t,a=o*o,s=t*t;return a*o*e+3*a*t*n+3*o*s*r+s*t*i}var C1=(C1=Wg(1,1))?C1.getContext("2d"):null;const E1=new X0;function D1(t){return function(e,n){if(!C1)return!0;t(C1,e),E1.clear().union(e.bounds).intersect(n).round();const{x1:r,y1:i,x2:o,y2:a}=E1;for(let t=i;t<=a;++t)for(let e=r;e<=o;++e)if(C1.isPointInPath(e,t))return!0;return!1}}function M1(t,e){return e.contains(t.x||0,t.y||0)}function T1(t,e){const n=t.x||0,r=t.y||0,i=t.width||0,o=t.height||0;return e.intersects(E1.set(n,r,n+i,r+o))}function F1(t,e){const n=t.x||0,r=t.y||0,i=null!=t.x2?t.x2:n,o=null!=t.y2?t.y2:r;return O1(e,n,r,i,o)}function O1(t,e,n,r,i){const{x1:o,y1:a,x2:s,y2:u}=t,c=r-e,l=i-n;let f,h,d,p,g=0,m=1;for(p=0;p<4;++p){if(0===p&&(f=-c,h=-(o-e)),1===p&&(f=c,h=s-e),2===p&&(f=-l,h=-(a-n)),3===p&&(f=l,h=u-n),Math.abs(f)<1e-10&&h<0)return!1;if(d=h/f,f<0){if(d>m)return!1;d>g&&(g=d)}else if(f>0){if(d<g)return!1;d<m&&(m=d)}}return!0}function $1(t,e){t.globalCompositeOperation=e.blend||"source-over"}function N1(t,e){return null==t?e:t}function B1(t,e){const n=e.length;for(let r=0;r<n;++r)t.addColorStop(e[r].offset,e[r].color);return t}function R1(t,e,n){const r=n.width(),i=n.height();let o;if("radial"===e.gradient)o=t.createRadialGradient(n.x1+N1(e.x1,.5)*r,n.y1+N1(e.y1,.5)*i,Math.max(r,i)*N1(e.r1,0),n.x1+N1(e.x2,.5)*r,n.y1+N1(e.y2,.5)*i,Math.max(r,i)*N1(e.r2,.5));else{const a=N1(e.x1,0),s=N1(e.y1,0),u=N1(e.x2,1),c=N1(e.y2,0);if(a!==u&&s!==c&&r!==i){const n=Wg(Math.ceil(r),Math.ceil(i)),o=n.getContext("2d");return o.scale(r,i),o.fillStyle=B1(o.createLinearGradient(a,s,u,c),e.stops),o.fillRect(0,0,r,i),t.createPattern(n,"no-repeat")}o=t.createLinearGradient(n.x1+a*r,n.y1+s*i,n.x1+u*r,n.y1+c*i)}return B1(o,e.stops)}function P1(t,e,n){return DQ(n)?R1(t,n,e.bounds):n}function I1(t,e,n){return n*=null==e.fillOpacity?1:e.fillOpacity,n>0&&(t.globalAlpha=n,t.fillStyle=P1(t,e,e.fill),!0)}var j1=[];function L1(t,e,n){var r=null!=(r=e.strokeWidth)?r:1;return!(r<=0)&&(n*=null==e.strokeOpacity?1:e.strokeOpacity,n>0&&(t.globalAlpha=n,t.strokeStyle=P1(t,e,e.stroke),t.lineWidth=r,t.lineCap=e.strokeCap||"butt",t.lineJoin=e.strokeJoin||"miter",t.miterLimit=e.strokeMiterLimit||10,t.setLineDash&&(t.setLineDash(e.strokeDash||j1),t.lineDashOffset=e.strokeDashOffset||0),!0))}function z1(t,e){return t.zindex-e.zindex||t.index-e.index}function U1(t){if(!t.zdirty)return t.zitems;var e,n,r,i=t.items,o=[];for(n=0,r=i.length;n<r;++n)e=i[n],e.index=n,e.zindex&&o.push(e);return t.zdirty=!1,t.zitems=o.sort(z1)}function q1(t,e){var n,r,i=t.items;if(!i||!i.length)return;const o=U1(t);if(o&&o.length){for(n=0,r=i.length;n<r;++n)i[n].zindex||e(i[n]);i=o}for(n=0,r=i.length;n<r;++n)e(i[n])}function V1(t,e){var n,r,i=t.items;if(!i||!i.length)return null;const o=U1(t);for(o&&o.length&&(i=o),r=i.length;--r>=0;)if(n=e(i[r]))return n;if(i===o)for(i=t.items,r=i.length;--r>=0;)if(!i[r].zindex&&(n=e(i[r])))return n;return null}function H1(t){return function(e,n,r){q1(n,(n=>{r&&!r.intersects(n.bounds)||Y1(t,e,n,n)}))}}function W1(t){return function(e,n,r){!n.items.length||r&&!r.intersects(n.bounds)||Y1(t,e,n.items[0],n.items)}}function Y1(t,e,n,r){var i=null==n.opacity?1:n.opacity;0!==i&&(t(e,r)||($1(e,n),n.fill&&I1(e,n,i)&&e.fill(),n.stroke&&L1(e,n,i)&&e.stroke()))}function G1(t){return t=t||mt,function(e,n,r,i,o,a){return r*=e.pixelRatio,i*=e.pixelRatio,V1(n,(n=>{const s=n.bounds;if((!s||s.contains(o,a))&&s)return t(e,n,r,i,o,a)?n:void 0}))}}function K1(t,e){return function(n,r,i,o){var a,s,u=Array.isArray(r)?r[0]:r,c=null==e?u.fill:e,l=u.stroke&&n.isPointInStroke;return l&&(a=u.strokeWidth,s=u.strokeCap,n.lineWidth=null!=a?a:1,n.lineCap=null!=s?s:"butt"),!t(n,r)&&(c&&n.isPointInPath(i,o)||l&&n.isPointInStroke(i,o))}}function X1(t){return G1(K1(t))}function J1(t,e){return"translate("+t+","+e+")"}function Z1(t){return"rotate("+t+")"}function Q1(t,e){return"scale("+t+","+e+")"}function t2(t){return J1(t.x||0,t.y||0)}function e2(t){return J1(t.x||0,t.y||0)+(t.angle?" "+Z1(t.angle):"")}function n2(t){return J1(t.x||0,t.y||0)+(t.angle?" "+Z1(t.angle):"")+(t.scaleX||t.scaleY?" "+Q1(t.scaleX||1,t.scaleY||1):"")}function r2(t,e,n){function r(t,n){t("transform",e2(n)),t("d",e(null,n))}function i(t,n){return e(x1(t,n.angle),n),n1(t,n).translate(n.x||0,n.y||0)}function o(t,n){var r=n.x||0,i=n.y||0,o=n.angle||0;t.translate(r,i),o&&t.rotate(o*=PQ),t.beginPath(),e(t,n),o&&t.rotate(-o),t.translate(-r,-i)}return{type:t,tag:"path",nested:!1,attr:r,bound:i,draw:H1(o),pick:X1(o),isect:n||D1(o)}}var i2=r2("arc",L0);function o2(t,e){var n,r,i="horizontal"===t[0].orient?e[1]:e[0],o="horizontal"===t[0].orient?"y":"x",a=t.length,s=1/0;while(--a>=0)!1!==t[a].defined&&(r=Math.abs(t[a][o]-i),r<s&&(s=r,n=t[a]));return n}function a2(t,e){var n,r,i,o=Math.pow(t[0].strokeWidth||1,2),a=t.length;while(--a>=0)if(!1!==t[a].defined&&(n=t[a].x-e[0],r=t[a].y-e[1],i=n*n+r*r,i<o))return t[a];return null}function s2(t,e){var n,r,i,o=t.length;while(--o>=0)if(!1!==t[o].defined&&(n=t[o].x-e[0],r=t[o].y-e[1],i=n*n+r*r,n=t[o].size||1,i<n*n))return t[o];return null}function u2(t,e,n){function r(t,n){var r=n.mark.items;r.length&&t("d",e(null,r))}function i(t,n){var r=n.items;return 0===r.length?t:(e(x1(t),r),n1(t,r[0]))}function o(t,n){t.beginPath(),e(t,n)}const a=K1(o);function s(t,e,n,r,i,o){var s=e.items,u=e.bounds;return!s||!s.length||u&&!u.contains(i,o)?null:(n*=t.pixelRatio,r*=t.pixelRatio,a(t,s,n,r)?s[0]:null)}return{type:t,tag:"path",nested:!0,attr:r,bound:i,draw:W1(o),pick:s,isect:M1,tip:n}}var c2=u2("area",z0,o2);function l2(t,e){var n=e.clip;t.save(),Zt(n)?(t.beginPath(),n(t),t.clip()):f2(t,e.group)}function f2(t,e){t.beginPath(),j0(e)?q0(t,e,0,0):t.rect(0,0,e.width||0,e.height||0),t.clip()}function h2(t){const e=N1(t.strokeWidth,1);return null!=t.strokeOffset?t.strokeOffset:t.stroke&&e>.5&&e<1.5?.5-Math.abs(e-1):0}function d2(t,e){t("transform",t2(e))}function p2(t,e){const n=h2(e);t("d",q0(null,e,n,n))}function g2(t,e){t("class","background"),t("aria-hidden",!0),p2(t,e)}function m2(t,e){t("class","foreground"),t("aria-hidden",!0),e.strokeForeground?p2(t,e):t("d","")}function v2(t,e,n){const r=e.clip?K0(n,e,e):null;t("clip-path",r)}function y2(t,e){if(!e.clip&&e.items){const n=e.items,r=n.length;for(let e=0;e<r;++e)t.union(n[e].bounds)}return(e.clip||e.width||e.height)&&!e.noBound&&t.add(0,0).add(e.width||0,e.height||0),n1(t,e),t.translate(e.x||0,e.y||0)}function b2(t,e,n,r){const i=h2(e);t.beginPath(),q0(t,e,(n||0)+i,(r||0)+i)}const w2=K1(b2),x2=K1(b2,!1),_2=K1(b2,!0);function k2(t,e,n){q1(e,(e=>{const r=e.x||0,i=e.y||0,o=e.strokeForeground,a=null==e.opacity?1:e.opacity;(e.stroke||e.fill)&&a&&(b2(t,e,r,i),$1(t,e),e.fill&&I1(t,e,a)&&t.fill(),e.stroke&&!o&&L1(t,e,a)&&t.stroke()),t.save(),t.translate(r,i),e.clip&&f2(t,e),n&&n.translate(-r,-i),q1(e,(e=>{this.draw(t,e,n)})),n&&n.translate(r,i),t.restore(),o&&e.stroke&&a&&(b2(t,e,r,i),$1(t,e),L1(t,e,a)&&t.stroke())}))}function A2(t,e,n,r,i,o){if(e.bounds&&!e.bounds.contains(i,o)||!e.items)return null;const a=n*t.pixelRatio,s=r*t.pixelRatio;return V1(e,(u=>{let c,l,f;const h=u.bounds;if(h&&!h.contains(i,o))return;l=u.x||0,f=u.y||0;const d=l+(u.width||0),p=f+(u.height||0),g=u.clip;if(g&&(i<l||i>d||o<f||o>p))return;if(t.save(),t.translate(l,f),l=i-l,f=o-f,g&&j0(u)&&!_2(t,u,a,s))return t.restore(),null;const m=u.strokeForeground,v=!1!==e.interactive;return v&&m&&u.stroke&&x2(t,u,a,s)?(t.restore(),u):(c=V1(u,(t=>S2(t,l,f)?this.pick(t,n,r,l,f):null)),!c&&v&&(u.fill||!m&&u.stroke)&&w2(t,u,a,s)&&(c=u),t.restore(),c||null)}))}function S2(t,e,n){return(!1!==t.interactive||"group"===t.marktype)&&t.bounds&&t.bounds.contains(e,n)}var C2={type:"group",tag:"g",nested:!1,attr:d2,bound:y2,draw:k2,pick:A2,isect:T1,content:v2,background:g2,foreground:m2},E2={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function D2(t,e){var n=t.image;return(!n||t.url&&t.url!==n.url)&&(n={complete:!1,width:0,height:0},e.loadImage(t.url).then((e=>{t.image=e,t.image.url=t.url}))),n}function M2(t,e){return null!=t.width?t.width:e&&e.width?!1!==t.aspect&&t.height?t.height*e.width/e.height:e.width:0}function T2(t,e){return null!=t.height?t.height:e&&e.height?!1!==t.aspect&&t.width?t.width*e.height/e.width:e.height:0}function F2(t,e){return"center"===t?e/2:"right"===t?e:0}function O2(t,e){return"middle"===t?e/2:"bottom"===t?e:0}function $2(t,e,n){const r=D2(e,n),i=M2(e,r),o=T2(e,r),a=(e.x||0)-F2(e.align,i),s=(e.y||0)-O2(e.baseline,o),u=!r.src&&r.toDataURL?r.toDataURL():r.src||"";t("href",u,E2["xmlns:xlink"],"xlink:href"),t("transform",J1(a,s)),t("width",i),t("height",o),t("preserveAspectRatio",!1===e.aspect?"none":"xMidYMid")}function N2(t,e){const n=e.image,r=M2(e,n),i=T2(e,n),o=(e.x||0)-F2(e.align,r),a=(e.y||0)-O2(e.baseline,i);return t.set(o,a,o+r,a+i)}function B2(t,e,n){q1(e,(e=>{if(n&&!n.intersects(e.bounds))return;const r=D2(e,this);let i=M2(e,r),o=T2(e,r);if(0===i||0===o)return;let a,s,u,c,l=(e.x||0)-F2(e.align,i),f=(e.y||0)-O2(e.baseline,o);!1!==e.aspect&&(s=r.width/r.height,u=e.width/e.height,s===s&&u===u&&s!==u&&(u<s?(c=i/s,f+=(o-c)/2,o=c):(c=o*s,l+=(i-c)/2,i=c))),(r.complete||r.toDataURL)&&($1(t,e),t.globalAlpha=null!=(a=e.opacity)?a:1,t.imageSmoothingEnabled=!1!==e.smooth,t.drawImage(r,l,f,i,o))}))}var R2={type:"image",tag:"image",nested:!1,attr:$2,bound:N2,draw:B2,pick:G1(),isect:mt,get:D2,xOffset:F2,yOffset:O2},P2=u2("line",U0,a2);function I2(t,e){var n=e.scaleX||1,r=e.scaleY||1;1===n&&1===r||t("vector-effect","non-scaling-stroke"),t("transform",n2(e)),t("d",e.path)}function j2(t,e){var n=e.path;if(null==n)return!0;var r=e.x||0,i=e.y||0,o=e.scaleX||1,a=e.scaleY||1,s=(e.angle||0)*PQ,u=e.pathCache;u&&u.path===n||((e.pathCache=u=RQ(n)).path=n),s&&t.rotate&&t.translate?(t.translate(r,i),t.rotate(s),KQ(t,u,0,0,o,a),t.rotate(-s),t.translate(-r,-i)):KQ(t,u,r,i,o,a)}function L2(t,e){return j2(x1(t,e.angle),e)?t.set(0,0,0,0):n1(t,e,!0)}var z2={type:"path",tag:"path",nested:!1,attr:I2,bound:L2,draw:H1(j2),pick:X1(j2),isect:D1(j2)};function U2(t,e){t("d",q0(null,e))}function q2(t,e){var n,r;return n1(t.set(n=e.x||0,r=e.y||0,n+e.width||0,r+e.height||0),e)}function V2(t,e){t.beginPath(),q0(t,e)}var H2={type:"rect",tag:"path",nested:!1,attr:U2,bound:q2,draw:H1(V2),pick:X1(V2),isect:T1};function W2(t,e){t("transform",t2(e)),t("x2",null!=e.x2?e.x2-(e.x||0):0),t("y2",null!=e.y2?e.y2-(e.y||0):0)}function Y2(t,e){var n,r;return n1(t.set(n=e.x||0,r=e.y||0,null!=e.x2?e.x2:n,null!=e.y2?e.y2:r),e)}function G2(t,e,n){var r,i,o,a;return!(!e.stroke||!L1(t,e,n))&&(r=e.x||0,i=e.y||0,o=null!=e.x2?e.x2:r,a=null!=e.y2?e.y2:i,t.beginPath(),t.moveTo(r,i),t.lineTo(o,a),!0)}function K2(t,e,n){q1(e,(e=>{if(!n||n.intersects(e.bounds)){var r=null==e.opacity?1:e.opacity;r&&G2(t,e,r)&&($1(t,e),t.stroke())}}))}function X2(t,e,n,r){return!!t.isPointInStroke&&(G2(t,e,1)&&t.isPointInStroke(n,r))}var J2={type:"rule",tag:"line",nested:!1,attr:W2,bound:Y2,draw:K2,pick:G1(X2),isect:F1},Z2=r2("shape",V0),Q2=r2("symbol",H0,M1);const t3=Ce();var e3={height:s3,measureWidth:o3,estimateWidth:r3,width:r3,canvas:n3};function n3(t){e3.width=t&&C1?o3:r3}function r3(t,e){return i3(h3(t,e),s3(t))}function i3(t,e){return~~(.8*t.length*e)}function o3(t,e){return s3(t)<=0||!(e=h3(t,e))?0:a3(e,m3(t))}function a3(t,e){const n=`(${e}) ${t}`;let r=t3.get(n);return void 0===r&&(C1.font=e,r=C1.measureText(t).width,t3.set(n,r)),r}function s3(t){return null!=t.fontSize?+t.fontSize||0:11}function u3(t){return null!=t.lineHeight?t.lineHeight:s3(t)+2}function c3(t){return St(t)?t.length>1?t:t[0]:t}function l3(t){return c3(t.lineBreak&&t.text&&!St(t.text)?t.text.split(t.lineBreak):t.text)}function f3(t){const e=l3(t);return(St(e)?e.length-1:0)*u3(t)}function h3(t,e){const n=null==e?"":(e+"").trim();return t.limit>0&&n.length?p3(t,n):n}function d3(t){if(e3.width===o3){const e=m3(t);return t=>a3(t,e)}{const e=s3(t);return t=>i3(t,e)}}function p3(t,e){var n=+t.limit,r=d3(t);if(r(e)<n)return e;var i,o=t.ellipsis||"",a="rtl"===t.dir,s=0,u=e.length;if(n-=r(o),a){while(s<u)i=s+u>>>1,r(e.slice(i))>n?s=i+1:u=i;return o+e.slice(s)}while(s<u)i=1+(s+u>>>1),r(e.slice(0,i))<n?s=i:u=i-1;return e.slice(0,s)+o}function g3(t,e){var n=t.font;return(e&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function m3(t,e){return(t.fontStyle?t.fontStyle+" ":"")+(t.fontVariant?t.fontVariant+" ":"")+(t.fontWeight?t.fontWeight+" ":"")+s3(t)+"px "+g3(t,e)}function v3(t){var e=t.baseline,n=s3(t);return Math.round("top"===e?.79*n:"middle"===e?.3*n:"bottom"===e?-.21*n:"line-top"===e?.29*n+.5*u3(t):"line-bottom"===e?.29*n-.5*u3(t):0)}n3(!0);const y3={left:"start",center:"middle",right:"end"},b3=new X0;function w3(t){var e,n=t.x||0,r=t.y||0,i=t.radius||0;return i&&(e=(t.theta||0)-jQ,n+=i*Math.cos(e),r+=i*Math.sin(e)),b3.x1=n,b3.y1=r,b3}function x3(t,e){var n,r=e.dx||0,i=(e.dy||0)+v3(e),o=w3(e),a=o.x1,s=o.y1,u=e.angle||0;t("text-anchor",y3[e.align]||"start"),u?(n=J1(a,s)+" "+Z1(u),(r||i)&&(n+=" "+J1(r,i))):n=J1(a+r,s+i),t("transform",n)}function _3(t,e,n){var r,i=e3.height(e),o=e.align,a=w3(e),s=a.x1,u=a.y1,c=e.dx||0,l=(e.dy||0)+v3(e)-Math.round(.8*i),f=l3(e);if(St(f)?(i+=u3(e)*(f.length-1),r=f.reduce(((t,n)=>Math.max(t,e3.width(e,n))),0)):r=e3.width(e,f),"center"===o?c-=r/2:"right"===o&&(c-=r),t.set(c+=s,l+=u,c+r,l+i),e.angle&&!n)t.rotate(e.angle*PQ,s,u);else if(2===n)return t.rotatedPoints(e.angle*PQ,s,u);return t}function k3(t,e,n){q1(e,(e=>{var r,i,o,a,s,u,c,l=null==e.opacity?1:e.opacity;if(!(n&&!n.intersects(e.bounds)||0===l||e.fontSize<=0||null==e.text||0===e.text.length)){if(t.font=m3(e),t.textAlign=e.align||"left",r=w3(e),i=r.x1,o=r.y1,e.angle&&(t.save(),t.translate(i,o),t.rotate(e.angle*PQ),i=o=0),i+=e.dx||0,o+=(e.dy||0)+v3(e),u=l3(e),$1(t,e),St(u))for(s=u3(e),a=0;a<u.length;++a)c=h3(e,u[a]),e.fill&&I1(t,e,l)&&t.fillText(c,i,o),e.stroke&&L1(t,e,l)&&t.strokeText(c,i,o),o+=s;else c=h3(e,u),e.fill&&I1(t,e,l)&&t.fillText(c,i,o),e.stroke&&L1(t,e,l)&&t.strokeText(c,i,o);e.angle&&t.restore()}}))}function A3(t,e,n,r,i,o){if(e.fontSize<=0)return!1;if(!e.angle)return!0;var a=w3(e),s=a.x1,u=a.y1,c=_3(b3,e,1),l=-e.angle*PQ,f=Math.cos(l),h=Math.sin(l),d=f*i-h*o+(s-f*s+h*u),p=h*i+f*o+(u-h*s-f*u);return c.contains(d,p)}function S3(t,e){const n=_3(b3,t,2);return O1(e,n[0],n[1],n[2],n[3])||O1(e,n[0],n[1],n[4],n[5])||O1(e,n[4],n[5],n[6],n[7])||O1(e,n[2],n[3],n[6],n[7])}var C3={type:"text",tag:"text",nested:!1,attr:x3,bound:_3,draw:k3,pick:G1(A3),isect:S3},E3=u2("trail",W0,s2),D3={arc:i2,area:c2,group:C2,image:R2,line:P2,path:z2,rect:H2,rule:J2,shape:Z2,symbol:Q2,text:C3,trail:E3};function M3(t,e,n){var r=D3[t.mark.marktype],i=e||r.bound;return r.nested&&(t=t.mark),i(t.bounds||(t.bounds=new X0),t,n)}var T3={mark:null};function F3(t,e,n){var r,i,o,a,s=D3[t.marktype],u=s.bound,c=t.items,l=c&&c.length;if(s.nested)return l?o=c[0]:(T3.mark=t,o=T3),a=M3(o,u,n),e=e&&e.union(a)||a,e;if(e=e||t.bounds&&t.bounds.clear()||new X0,l)for(r=0,i=c.length;r<i;++r)e.union(M3(c[r],u,n));return t.bounds=e}const O3=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function $3(t,e){return JSON.stringify(t,O3,e)}function N3(t){const e="string"===typeof t?JSON.parse(t):t;return B3(e)}function B3(t){var e,n,r,i=t.marktype,o=t.items;if(o)for(n=0,r=o.length;n<r;++n)e=i?"mark":"group",o[n][e]=t,o[n].zindex&&(o[n][e].zdirty=!0),"group"===(i||e)&&B3(o[n]);return i&&F3(t),t}function R3(t){arguments.length?this.root=N3(t):(this.root=P3({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Z0(this.root)])}function P3(t,e){const n={bounds:new X0,clip:!!t.clip,group:e,interactive:!1!==t.interactive,items:[],marktype:t.marktype,name:t.name||void 0,role:t.role||void 0,zindex:t.zindex||0};return null!=t.aria&&(n.aria=t.aria),t.description&&(n.description=t.description),n}function I3(t,e,n){return!t&&"undefined"!==typeof document&&document.createElement&&(t=document),t?n?t.createElementNS(n,e):t.createElement(e):null}function j3(t,e){e=e.toLowerCase();for(var n=t.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===e)return n[r]}function L3(t,e,n,r){var i,o=t.childNodes[e];return o&&o.tagName.toLowerCase()===n.toLowerCase()||(i=o||null,o=I3(t.ownerDocument,n,r),t.insertBefore(o,i)),o}function z3(t,e){var n=t.childNodes,r=n.length;while(r>e)t.removeChild(n[--r]);return t}function U3(t){return"mark-"+t.marktype+(t.role?" role-"+t.role:"")+(t.name?" "+t.name:"")}function q3(t,e){const n=e.getBoundingClientRect();return[t.clientX-n.left-(e.clientLeft||0),t.clientY-n.top-(e.clientTop||0)]}function V3(t,e,n,r){var i,o,a=t&&t.mark;if(a&&(i=D3[a.marktype]).tip){o=q3(e,n),o[0]-=r[0],o[1]-=r[1];while(t=t.mark.group)o[0]-=t.x||0,o[1]-=t.y||0;t=i.tip(a.items,o)}return t}function H3(t,e){this._active=null,this._handlers={},this._loader=t||AQ(),this._tooltip=e||W3}function W3(t,e,n,r){t.element().setAttribute("title",r||"")}function Y3(t){this._el=null,this._bgcolor=null,this._loader=new Q0(t)}R3.prototype={toJSON(t){return $3(this.root,t||0)},mark(t,e,n){e=e||this.root.items[0];const r=P3(t,e);return e.items[n]=r,r.zindex&&(r.group.zdirty=!0),r}},H3.prototype={initialize(t,e,n){return this._el=t,this._obj=n||null,this.origin(e)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()},scene(t){return arguments.length?(this._scene=t,this):this._scene},on(){},off(){},_handlerIndex(t,e,n){for(let r=t?t.length:0;--r>=0;)if(t[r].type===e&&(!n||t[r].handler===n))return r;return-1},handlers(t){const e=this._handlers,n=[];if(t)n.push(...e[this.eventName(t)]);else for(const r in e)n.push(...e[r]);return n},eventName(t){const e=t.indexOf(".");return e<0?t:t.slice(0,e)},handleHref(t,e,n){this._loader.sanitize(n,{context:"href"}).then((e=>{const n=new MouseEvent(t.type,t),r=I3(null,"a");for(const t in e)r.setAttribute(t,e[t]);r.dispatchEvent(n)})).catch((()=>{}))},handleTooltip(t,e,n){if(e&&null!=e.tooltip){e=V3(e,t,this.canvas(),this._origin);const r=n&&e&&e.tooltip||null;this._tooltip.call(this._obj,this,t,e,r)}},getItemBoundingClientRect(t){const e=this.canvas();if(!e)return;const n=e.getBoundingClientRect(),r=this._origin,i=t.bounds,o=i.width(),a=i.height();let s=i.x1+r[0]+n.left,u=i.y1+r[1]+n.top;while(t.mark&&(t=t.mark.group))s+=t.x||0,u+=t.y||0;return{x:s,y:u,width:o,height:a,left:s,top:u,right:s+o,bottom:u+a}}},Y3.prototype={initialize(t,e,n,r,i){return this._el=t,this.resize(e,n,r,i)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(t){return 0===arguments.length?this._bgcolor:(this._bgcolor=t,this)},resize(t,e,n,r){return this._width=t,this._height=e,this._origin=n||[0,0],this._scale=r||1,this},dirty(){},render(t){const e=this;return e._call=function(){e._render(t)},e._call(),e._call=null,e},_render(){},renderAsync(t){const e=this.render(t);return this._ready?this._ready.then((()=>e)):Promise.resolve(e)},_load(t,e){var n=this,r=n._loader[t](e);if(!n._ready){const t=n._call;n._ready=n._loader.ready().then((e=>{e&&t(),n._ready=null}))}return r},sanitizeURL(t){return this._load("sanitizeURL",t)},loadImage(t){return this._load("loadImage",t)}};const G3="keydown",K3="keypress",X3="keyup",J3="dragenter",Z3="dragleave",Q3="dragover",t5="mousedown",e5="mouseup",n5="mousemove",r5="mouseout",i5="mouseover",o5="click",a5="dblclick",s5="wheel",u5="mousewheel",c5="touchstart",l5="touchmove",f5="touchend",h5=[G3,K3,X3,J3,Z3,Q3,t5,e5,n5,r5,i5,o5,a5,s5,u5,c5,l5,f5],d5=n5,p5=r5,g5=o5;function m5(t,e){H3.call(this,t,e),this._down=null,this._touch=null,this._first=!0,this._events={}}const v5=t=>t===c5||t===l5||t===f5?[c5,l5,f5]:[t];function y5(t,e){v5(e).forEach((e=>b5(t,e)))}function b5(t,e){const n=t.canvas();n&&!t._events[e]&&(t._events[e]=1,n.addEventListener(e,t[e]?n=>t[e](n):n=>t.fire(e,n)))}function w5(t,e,n){return function(r){const i=this._active,o=this.pickEvent(r);o===i||(i&&i.exit||this.fire(n,r),this._active=o,this.fire(e,r)),this.fire(t,r)}}function x5(t){return function(e){this.fire(t,e),this._active=null}}function _5(){return"undefined"!==typeof window&&window.devicePixelRatio||1}ge(m5,H3,{initialize(t,e,n){return this._canvas=t&&j3(t,"canvas"),[o5,t5,n5,r5,Z3].forEach((t=>y5(this,t))),H3.prototype.initialize.call(this,t,e,n)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:h5,DOMMouseScroll(t){this.fire(u5,t)},mousemove:w5(n5,i5,r5),dragover:w5(Q3,J3,Z3),mouseout:x5(r5),dragleave:x5(Z3),mousedown(t){this._down=this._active,this.fire(t5,t)},click(t){this._down===this._active&&(this.fire(o5,t),this._down=null)},touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(c5,t,!0)},touchmove(t){this.fire(l5,t,!0)},touchend(t){this.fire(f5,t,!0),this._touch=null},fire(t,e,n){const r=n?this._touch:this._active,i=this._handlers[t];if(e.vegaType=t,t===g5&&r&&r.href?this.handleHref(e,r,r.href):t!==d5&&t!==p5||this.handleTooltip(e,r,t!==p5),i)for(let o=0,a=i.length;o<a;++o)i[o].handler.call(this._obj,e,r)},on(t,e){const n=this.eventName(t),r=this._handlers,i=this._handlerIndex(r[n],t,e);return i<0&&(y5(this,t),(r[n]||(r[n]=[])).push({type:t,handler:e})),this},off(t,e){const n=this.eventName(t),r=this._handlers[n],i=this._handlerIndex(r,t,e);return i>=0&&r.splice(i,1),this},pickEvent(t){const e=q3(t,this._canvas),n=this._origin;return this.pick(this._scene,e[0],e[1],e[0]-n[0],e[1]-n[1])},pick(t,e,n,r,i){const o=this.context(),a=D3[t.marktype];return a.pick.call(this,o,t,e,n,r,i)}});var k5=_5();function A5(t,e,n,r,i,o){const a="undefined"!==typeof HTMLElement&&t instanceof HTMLElement&&null!=t.parentNode,s=t.getContext("2d"),u=a?k5:i;t.width=e*u,t.height=n*u;for(const c in o)s[c]=o[c];return a&&1!==u&&(t.style.width=e+"px",t.style.height=n+"px"),s.pixelRatio=u,s.setTransform(u,0,0,u,u*r[0],u*r[1]),t}function S5(t){Y3.call(this,t),this._options={},this._redraw=!1,this._dirty=new X0,this._tempb=new X0}const C5=Y3.prototype,E5=(t,e,n)=>(new X0).set(0,0,e,n).translate(-t[0],-t[1]);function D5(t,e,n){return e.expand(1).round(),t.pixelRatio%1&&e.scale(t.pixelRatio).round().scale(1/t.pixelRatio),e.translate(-n[0]%1,-n[1]%1),t.beginPath(),t.rect(e.x1,e.y1,e.width(),e.height()),t.clip(),e}function M5(t,e){H3.call(this,t,e);const n=this;n._hrefHandler=T5(n,((t,e)=>{e&&e.href&&n.handleHref(t,e,e.href)})),n._tooltipHandler=T5(n,((t,e)=>{n.handleTooltip(t,e,t.type!==p5)}))}ge(S5,Y3,{initialize(t,e,n,r,i,o){return this._options=o||{},this._canvas=this._options.externalContext?null:Wg(1,1,this._options.type),t&&this._canvas&&(z3(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),C5.initialize.call(this,t,e,n,r,i)},resize(t,e,n,r){if(C5.resize.call(this,t,e,n,r),this._canvas)A5(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const t=this._options.externalContext;t||ct("CanvasRenderer is missing a valid canvas or context"),t.scale(this._scale,this._scale),t.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(t){const e=this._tempb.clear().union(t.bounds);let n=t.mark.group;while(n)e.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(e)},_render(t){const e=this.context(),n=this._origin,r=this._width,i=this._height,o=this._dirty,a=E5(n,r,i);e.save();const s=this._redraw||o.empty()?(this._redraw=!1,a.expand(1)):D5(e,a.intersect(o),n);return this.clear(-n[0],-n[1],r,i),this.draw(e,t,s),e.restore(),o.clear(),this},draw(t,e,n){const r=D3[e.marktype];e.clip&&l2(t,e),r.draw.call(this,t,e,n),e.clip&&t.restore()},clear(t,e,n,r){const i=this._options,o=this.context();"pdf"===i.type||i.externalContext||o.clearRect(t,e,n,r),null!=this._bgcolor&&(o.fillStyle=this._bgcolor,o.fillRect(t,e,n,r))}});const T5=(t,e)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,e.call(t._obj,n,r)};ge(M5,H3,{initialize(t,e,n){let r=this._svg;return r&&(r.removeEventListener(g5,this._hrefHandler),r.removeEventListener(d5,this._tooltipHandler),r.removeEventListener(p5,this._tooltipHandler)),this._svg=r=t&&j3(t,"svg"),r&&(r.addEventListener(g5,this._hrefHandler),r.addEventListener(d5,this._tooltipHandler),r.addEventListener(p5,this._tooltipHandler)),H3.prototype.initialize.call(this,t,e,n)},canvas(){return this._svg},on(t,e){const n=this.eventName(t),r=this._handlers,i=this._handlerIndex(r[n],t,e);if(i<0){const i={type:t,handler:e,listener:T5(this,e)};(r[n]||(r[n]=[])).push(i),this._svg&&this._svg.addEventListener(n,i.listener)}return this},off(t,e){const n=this.eventName(t),r=this._handlers[n],i=this._handlerIndex(r,t,e);return i>=0&&(this._svg&&this._svg.removeEventListener(n,r[i].listener),r.splice(i,1)),this}});const F5="aria-hidden",O5="aria-label",$5="role",N5="aria-roledescription",B5="graphics-object",R5="graphics-symbol",P5=(t,e,n)=>({[$5]:t,[N5]:e,[O5]:n||void 0}),I5=Re(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),j5={axis:{desc:"axis",caption:W5},legend:{desc:"legend",caption:Y5},"title-text":{desc:"title",caption:t=>`Title text '${H5(t)}'`},"title-subtitle":{desc:"subtitle",caption:t=>`Subtitle text '${H5(t)}'`}},L5={ariaRole:$5,ariaRoleDescription:N5,description:O5};function z5(t,e){const n=!1===e.aria;if(t(F5,n||void 0),n||null==e.description)for(const r in L5)t(L5[r],void 0);else{const n=e.mark.marktype;t(O5,e.description),t($5,e.ariaRole||("group"===n?B5:R5)),t(N5,e.ariaRoleDescription||`${n} mark`)}}function U5(t){return!1===t.aria?{[F5]:!0}:I5[t.role]?null:j5[t.role]?V5(t,j5[t.role]):q5(t)}function q5(t){const e=t.marktype,n="group"===e||"text"===e||t.items.some((t=>null!=t.description&&!1!==t.aria));return P5(n?B5:R5,`${e} mark container`,t.description)}function V5(t,e){try{const n=t.items[0],r=e.caption||(()=>"");return P5(e.role||R5,e.desc,n.description||r(n))}catch(n){return null}}function H5(t){return Xt(t.text).join(" ")}function W5(t){const e=t.datum,n=t.orient,r=e.title?G5(t):null,i=t.context,o=i.scales[e.scale].value,a=i.dataflow.locale(),s=o.type,u="left"===n||"right"===n?"Y":"X";return`${u}-axis`+(r?` titled '${r}'`:"")+` for a ${qI(s)?"discrete":s} scale`+` with ${Nj(a,o,t)}`}function Y5(t){const e=t.datum,n=e.title?G5(t):null,r=`${e.type||""} legend`.trim(),i=e.scales,o=Object.keys(i),a=t.context,s=a.scales[i[o[0]]].value,u=a.dataflow.locale();return X5(r)+(n?` titled '${n}'`:"")+` for ${K5(o)}`+` with ${Nj(u,s,t)}`}function G5(t){try{return Xt(Ft(t.items).items[0].text).join(" ")}catch(e){return null}}function K5(t){return t=t.map((t=>t+("fill"===t||"stroke"===t?" color":""))),t.length<2?t[0]:t.slice(0,-1).join(", ")+" and "+Ft(t)}function X5(t){return t.length?t[0].toUpperCase()+t.slice(1):t}const J5=t=>(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Z5=t=>J5(t).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function Q5(){let t="",e="",n="";const r=[],i=()=>e=n="",o=o=>{e&&(t+=`${e}>${n}`,i()),r.push(o)},a=(t,n)=>(null!=n&&(e+=` ${t}="${Z5(n)}"`),s),s={open(t,...n){o(t),e="<"+t;for(const e of n)for(const t in e)a(t,e[t]);return s},close(){const o=r.pop();return t+=e?e+(n?`>${n}</${o}>`:"/>"):`</${o}>`,i(),s},attr:a,text:t=>(n+=J5(t),s),toString:()=>t};return s}const t6=t=>e6(Q5(),t)+"";function e6(t,e){if(t.open(e.tagName),e.hasAttributes()){const n=e.attributes,r=n.length;for(let e=0;e<r;++e)t.attr(n[e].name,n[e].value)}if(e.hasChildNodes()){const n=e.childNodes,r=n.length;for(let e=0;e<r;e++){const r=n[e];3===r.nodeType?t.text(r.nodeValue):e6(t,r)}}return t.close()}const n6={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},r6={fill:"none","stroke-miterlimit":10},i6=0,o6="http://www.w3.org/2000/xmlns/",a6=E2.xmlns;function s6(t){Y3.call(this,t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}const u6=Y3.prototype;function c6(t,e){for(;t&&t.dirty!==e;t=t.mark.group){if(t.dirty=e,!t.mark||t.mark.dirty===e)return;t.mark.dirty=e}}function l6(t,e,n){let r,i,o;if("radial"===e.gradient){let r=L3(t,n++,"pattern",a6);w6(r,{id:EQ+e.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),r=L3(r,0,"rect",a6),w6(r,{width:1,height:1,fill:`url(${k6()}#${e.id})`}),t=L3(t,n++,"radialGradient",a6),w6(t,{id:e.id,fx:e.x1,fy:e.y1,fr:e.r1,cx:e.x2,cy:e.y2,r:e.r2})}else t=L3(t,n++,"linearGradient",a6),w6(t,{id:e.id,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2});for(r=0,i=e.stops.length;r<i;++r)o=L3(t,r,"stop",a6),o.setAttribute("offset",e.stops[r].offset),o.setAttribute("stop-color",e.stops[r].color);return z3(t,r),n}function f6(t,e,n){let r;return t=L3(t,n,"clipPath",a6),t.setAttribute("id",e.id),e.path?(r=L3(t,0,"path",a6),r.setAttribute("d",e.path)):(r=L3(t,0,"rect",a6),w6(r,{x:0,y:0,width:e.width,height:e.height})),z3(t,1),n+1}function h6(t,e,n){e=e.lastChild.previousSibling;let r,i=0;q1(n,(n=>{r=t.mark(e,n,r),++i})),z3(e,1+i)}function d6(t,e,n,r,i){let o,a=t._svg;if(!a&&(o=e.ownerDocument,a=I3(o,r,a6),t._svg=a,t.mark&&(a.__data__=t,a.__values__={fill:"default"},"g"===r))){const e=I3(o,"path",a6);a.appendChild(e),e.__data__=t;const n=I3(o,"g",a6);a.appendChild(n),n.__data__=t;const r=I3(o,"path",a6);a.appendChild(r),r.__data__=t,r.__values__={fill:"default"}}return(a.ownerSVGElement!==i||p6(a,n))&&e.insertBefore(a,n?n.nextSibling:e.firstChild),a}function p6(t,e){return t.parentNode&&t.parentNode.childNodes.length>1&&t.previousSibling!=e}ge(s6,Y3,{initialize(t,e,n,r,i){return this._defs={},this._clearDefs(),t&&(this._svg=L3(t,0,"svg",a6),this._svg.setAttributeNS(o6,"xmlns",a6),this._svg.setAttributeNS(o6,"xmlns:xlink",E2["xmlns:xlink"]),this._svg.setAttribute("version",E2["version"]),this._svg.setAttribute("class","marks"),z3(t,1),this._root=L3(this._svg,i6,"g",a6),w6(this._root,r6),z3(this._svg,i6+1)),this.background(this._bgcolor),u6.initialize.call(this,t,e,n,r,i)},background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),u6.background.apply(this,arguments)},resize(t,e,n,r){return u6.resize.call(this,t,e,n,r),this._svg&&(w6(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this},canvas(){return this._svg},svg(){const t=this._svg,e=this._bgcolor;if(!t)return null;let n;e&&(t.removeAttribute("style"),n=L3(t,i6,"rect",a6),w6(n,{width:this._width,height:this._height,fill:e}));const r=t6(t);return e&&(t.removeChild(n),this._svg.style.setProperty("background-color",e)),r},_render(t){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t),z3(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))},isDirty(t){return this._dirtyAll||!t._svg||t.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const e=++this._dirtyID;let n,r,i,o,a,s,u;for(a=0,s=t.length;a<s;++a)n=t[a],r=n.mark,r.marktype!==i&&(i=r.marktype,o=D3[i]),r.zdirty&&r.dirty!==e&&(this._dirtyAll=!1,c6(n,e),r.items.forEach((t=>{t.dirty=e}))),r.zdirty||(n.exit?(o.nested&&r.items.length?(u=r.items[0],u._svg&&this._update(o,u._svg,u)):n._svg&&(u=n._svg.parentNode,u&&u.removeChild(n._svg)),n._svg=null):(n=o.nested?r.items[0]:n,n._update!==e&&(n._svg&&n._svg.ownerSVGElement?this._update(o,n._svg,n):(this._dirtyAll=!1,c6(n,e)),n._update=e)));return!this._dirtyAll},mark(t,e,n){if(!this.isDirty(e))return e._svg;const r=this._svg,i=D3[e.marktype],o=!1===e.interactive?"none":null,a="g"===i.tag;let s=null,u=0;const c=d6(e,t,n,"g",r);c.setAttribute("class",U3(e));const l=U5(e);for(const h in l)x6(c,h,l[h]);a||x6(c,"pointer-events",o),x6(c,"clip-path",e.clip?K0(this,e,e.group):null);const f=t=>{const e=this.isDirty(t),n=d6(t,c,s,i.tag,r);e&&(this._update(i,n,t),a&&h6(this,n,t)),s=n,++u};return i.nested?e.items.length&&f(e.items[0]):q1(e,f),z3(c,u),c},_update(t,e,n){g6=e,m6=e.__values__,z5(y6,n),t.attr(y6,n,this);const r=v6[t.type];r&&r.call(this,t,e,n),g6&&this.style(g6,n)},style(t,e){if(null!=e)for(const n in n6){let r="font"===n?g3(e):e[n];if(r===m6[n])continue;const i=n6[n];null==r?t.removeAttribute(i):(DQ(r)&&(r=MQ(r,this._defs.gradient,k6())),t.setAttribute(i,r+"")),m6[n]=r}},defs(){const t=this._svg,e=this._defs;let n=e.el,r=0;for(const i in e.gradient)n||(e.el=n=L3(t,i6+1,"defs",a6)),r=l6(n,e.gradient[i],r);for(const i in e.clipping)n||(e.el=n=L3(t,i6+1,"defs",a6)),r=f6(n,e.clipping[i],r);n&&(0===r?(t.removeChild(n),e.el=null):z3(n,r))},_clearDefs(){const t=this._defs;t.gradient={},t.clipping={}}});let g6=null,m6=null;const v6={group(t,e,n){const r=g6=e.childNodes[2];m6=r.__values__,t.foreground(y6,n,this),m6=e.__values__,g6=e.childNodes[1],t.content(y6,n,this);const i=g6=e.childNodes[0];t.background(y6,n,this);const o=!1===n.mark.interactive?"none":null;if(o!==m6.events&&(x6(r,"pointer-events",o),x6(i,"pointer-events",o),m6.events=o),n.strokeForeground&&n.stroke){const t=n.fill;x6(r,"display",null),this.style(i,n),x6(i,"stroke",null),t&&(n.fill=null),m6=r.__values__,this.style(r,n),t&&(n.fill=t),g6=null}else x6(r,"display","none")},image(t,e,n){!1===n.smooth?(b6(e,"image-rendering","optimizeSpeed"),b6(e,"image-rendering","pixelated")):b6(e,"image-rendering",null)},text(t,e,n){const r=l3(n);let i,o,a,s;St(r)?(o=r.map((t=>h3(n,t))),i=o.join("\n"),i!==m6.text&&(z3(e,0),a=e.ownerDocument,s=u3(n),o.forEach(((t,r)=>{const i=I3(a,"tspan",a6);i.__data__=n,i.textContent=t,r&&(i.setAttribute("x",0),i.setAttribute("dy",s)),e.appendChild(i)})),m6.text=i)):(o=h3(n,r),o!==m6.text&&(e.textContent=o,m6.text=o)),x6(e,"font-family",g3(n)),x6(e,"font-size",s3(n)+"px"),x6(e,"font-style",n.fontStyle),x6(e,"font-variant",n.fontVariant),x6(e,"font-weight",n.fontWeight)}};function y6(t,e,n){e!==m6[t]&&(n?_6(g6,t,e,n):x6(g6,t,e),m6[t]=e)}function b6(t,e,n){n!==m6[e]&&(null==n?t.style.removeProperty(e):t.style.setProperty(e,n+""),m6[e]=n)}function w6(t,e){for(const n in e)x6(t,n,e[n])}function x6(t,e,n){null!=n?t.setAttribute(e,n):t.removeAttribute(e)}function _6(t,e,n,r){null!=n?t.setAttributeNS(r,e,n):t.removeAttributeNS(r,e)}function k6(){let t;return"undefined"===typeof window?"":(t=window.location).hash?t.href.slice(0,-t.hash.length):t.href}function A6(t){Y3.call(this,t),this._text=null,this._defs={gradient:{},clipping:{}}}function S6(t,e,n,r,i){if(null==e)return t;if("bgrect"===r&&!1===n.interactive&&(t["pointer-events"]="none"),"bgfore"===r&&(!1===n.interactive&&(t["pointer-events"]="none"),t.display="none",null!==e.fill))return t;"image"===r&&!1===e.smooth&&(t.style="image-rendering: optimizeSpeed; image-rendering: pixelated;"),"text"===r&&(t["font-family"]=g3(e),t["font-size"]=s3(e)+"px",t["font-style"]=e.fontStyle,t["font-variant"]=e.fontVariant,t["font-weight"]=e.fontWeight);for(const o in n6){let n=e[o];const r=n6[o];("transparent"!==n||"fill"!==r&&"stroke"!==r)&&null!=n&&(DQ(n)&&(n=MQ(n,i.gradient,"")),t[r]=n)}return t}ge(A6,Y3,{svg(){return this._text},_render(t){const e=Q5();e.open("svg",se({},E2,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const n=this._bgcolor;return n&&"transparent"!==n&&"none"!==n&&e.open("rect",{width:this._width,height:this._height,fill:n}).close(),e.open("g",r6,{transform:"translate("+this._origin+")"}),this.mark(e,t),e.close(),this.defs(e),this._text=e.close()+"",this},mark(t,e){const n=D3[e.marktype],r=n.tag,i=[z5,n.attr];t.open("g",{class:U3(e),"clip-path":e.clip?K0(this,e,e.group):null},U5(e),{"pointer-events":"g"!==r&&!1===e.interactive?"none":null});const o=o=>{const a=this.href(o);if(a&&t.open("a",a),t.open(r,this.attr(e,o,i,"g"!==r?r:null)),"text"===r){const e=l3(o);if(St(e)){const n={x:0,dy:u3(o)};for(let r=0;r<e.length;++r)t.open("tspan",r?n:null).text(h3(o,e[r])).close()}else t.text(h3(o,e))}else if("g"===r){const r=o.strokeForeground,i=o.fill,a=o.stroke;r&&a&&(o.stroke=null),t.open("path",this.attr(e,o,n.background,"bgrect")).close(),t.open("g",this.attr(e,o,n.content)),q1(o,(e=>this.mark(t,e))),t.close(),r&&a?(i&&(o.fill=null),o.stroke=a,t.open("path",this.attr(e,o,n.foreground,"bgrect")).close(),i&&(o.fill=i)):t.open("path",this.attr(e,o,n.foreground,"bgfore")).close()}t.close(),a&&t.close()};return n.nested?e.items&&e.items.length&&o(e.items[0]):q1(e,o),t.close()},href(t){const e=t.href;let n;if(e){if(n=this._hrefs&&this._hrefs[e])return n;this.sanitizeURL(e).then((t=>{t["xlink:href"]=t.href,t.href=null,(this._hrefs||(this._hrefs={}))[e]=t}))}return null},attr(t,e,n,r){const i={},o=(t,e,n,r)=>{i[r||t]=e};return Array.isArray(n)?n.forEach((t=>t(o,e,this))):n(o,e,this),r&&S6(i,e,t,r,this._defs),i},defs(t){const e=this._defs.gradient,n=this._defs.clipping,r=Object.keys(e).length+Object.keys(n).length;if(0!==r){t.open("defs");for(const n in e){const r=e[n],i=r.stops;"radial"===r.gradient?(t.open("pattern",{id:EQ+n,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+n+")"}).close(),t.close(),t.open("radialGradient",{id:n,fx:r.x1,fy:r.y1,fr:r.r1,cx:r.x2,cy:r.y2,r:r.r2})):t.open("linearGradient",{id:n,x1:r.x1,x2:r.x2,y1:r.y1,y2:r.y2});for(let e=0;e<i.length;++e)t.open("stop",{offset:i[e].offset,"stop-color":i[e].color}).close();t.close()}for(const e in n){const r=n[e];t.open("clipPath",{id:e}),r.path?t.open("path",{d:r.path}).close():t.open("rect",{x:0,y:0,width:r.width,height:r.height}).close(),t.close()}t.close()}}});const C6="canvas",E6="png",D6="svg",M6="none",T6={Canvas:C6,PNG:E6,SVG:D6,None:M6},F6={};function O6(t,e){return t=String(t||"").toLowerCase(),arguments.length>1?(F6[t]=e,this):F6[t]}function $6(t,e,n){const r=[],i=(new X0).union(e),o=t.marktype;return o?N6(t,i,n,r):"group"===o?R6(t,i,n,r):ct("Intersect scene must be mark node or group item.")}function N6(t,e,n,r){if(B6(t,e,n)){const i=t.items,o=t.marktype,a=i.length;let s=0;if("group"===o)for(;s<a;++s)R6(i[s],e,n,r);else for(const t=D3[o].isect;s<a;++s){const n=i[s];P6(n,e,t)&&r.push(n)}}return r}function B6(t,e,n){return t.bounds&&e.intersects(t.bounds)&&("group"===t.marktype||!1!==t.interactive&&(!n||n(t)))}function R6(t,e,n,r){n&&n(t.mark)&&P6(t,e,D3.group.isect)&&r.push(t);const i=t.items,o=i&&i.length;if(o){const a=t.x||0,s=t.y||0;e.translate(-a,-s);for(let t=0;t<o;++t)N6(i[t],e,n,r);e.translate(a,s)}return r}function P6(t,e,n){const r=t.bounds;return e.encloses(r)||e.intersects(r)&&n(t,e)}F6[C6]=F6[E6]={renderer:S5,headless:S5,handler:m5},F6[D6]={renderer:s6,headless:A6,handler:M5},F6[M6]={};const I6=new X0;function j6(t){const e=t.clip;if(Zt(e))e(x1(I6.clear()));else{if(!e)return;I6.set(0,0,t.group.width,t.group.height)}t.bounds.intersect(I6)}const L6=1e-9;function z6(t,e,n){return t===e||("path"===n?U6(t,e):t instanceof Date&&e instanceof Date?+t===+e:we(t)&&we(e)?Math.abs(t-e)<=L6:t&&e&&(Ct(t)||Ct(e))?q6(t,e):t==e)}function U6(t,e){return z6(RQ(t),RQ(e))}function q6(t,e){var n,r,i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;for(i.sort(),o.sort(),r=i.length-1;r>=0;r--)if(i[r]!=o[r])return!1;for(r=i.length-1;r>=0;r--)if(n=i[r],!z6(t[n],e[n],n))return!1;return typeof t===typeof e}function V6(){G0(),CQ()}const H6=4278190080,W6=268435456,Y6=.0625;function G6(t,e){const n=t.bitmap();return(e||[]).forEach((e=>n.set(t(e.boundary[0]),t(e.boundary[3])))),[n,void 0]}function K6(t,e,n,r){const i=t.width,o=t.height,a=n||r,s=Wg(i,o).getContext("2d");e.forEach((t=>X6(s,t,a)));const u=new Uint32Array(s.getImageData(0,0,i,o).data.buffer),c=t.bitmap(),l=a&&t.bitmap();let f,h,d,p,g;for(h=0;h<o;++h)for(f=0;f<i;++f)g=u[h*i+f]&H6,g&&(d=t(f),p=t(h),r||c.set(d,p),a&&g^W6&&l.set(d,p));return[c,l]}function X6(t,e,n){if(!e.length)return;const r=e[0].mark.marktype;"group"===r?e.forEach((e=>{e.items.forEach((e=>X6(t,e.items,n)))})):D3[r].draw(t,{items:n?e.map(J6):e})}function J6(t){const e=is(t,{});return e.stroke&&(e.strokeOpacity=1),e.fill&&(e.fillOpacity=Y6,e.stroke="#000",e.strokeOpacity=1,e.strokeWidth=2),e}const Z6=5,Q6=31,t4=32,e4=new Uint32Array(t4+1),n4=new Uint32Array(t4+1);n4[0]=0,e4[0]=~n4[0];for(let Set=1;Set<=t4;++Set)n4[Set]=n4[Set-1]<<1|1,e4[Set]=~n4[Set];function r4(t,e){const n=new Uint32Array(~~((t*e+t4)/t4));function r(t,e){n[t]|=e}function i(t,e){n[t]&=e}return{array:n,get:(e,r)=>{const i=r*t+e;return n[i>>>Z6]&1<<(i&Q6)},set:(e,n)=>{const i=n*t+e;r(i>>>Z6,1<<(i&Q6))},clear:(e,n)=>{const r=n*t+e;i(r>>>Z6,~(1<<(r&Q6)))},getRange:(e,r,i,o)=>{let a,s,u,c,l=o;for(;l>=r;--l)if(a=l*t+e,s=l*t+i,u=a>>>Z6,c=s>>>Z6,u===c){if(n[u]&e4[a&Q6]&n4[1+(s&Q6)])return!0}else{if(n[u]&e4[a&Q6])return!0;if(n[c]&n4[1+(s&Q6)])return!0;for(let t=u+1;t<c;++t)if(n[t])return!0}return!1},setRange:(e,n,i,o)=>{let a,s,u,c,l;for(;n<=o;++n)if(a=n*t+e,s=n*t+i,u=a>>>Z6,c=s>>>Z6,u===c)r(u,e4[a&Q6]&n4[1+(s&Q6)]);else for(r(u,e4[a&Q6]),r(c,n4[1+(s&Q6)]),l=u+1;l<c;++l)r(l,4294967295)},clearRange:(e,n,r,o)=>{let a,s,u,c,l;for(;n<=o;++n)if(a=n*t+e,s=n*t+r,u=a>>>Z6,c=s>>>Z6,u===c)i(u,n4[a&Q6]|e4[1+(s&Q6)]);else for(i(u,n4[a&Q6]),i(c,e4[1+(s&Q6)]),l=u+1;l<c;++l)i(l,0)},outOfBounds:(n,r,i,o)=>n<0||r<0||o>=e||i>=t}}function i4(t,e,n){const r=Math.max(1,Math.sqrt(t*e/1e6)),i=~~((t+2*n+r)/r),o=~~((e+2*n+r)/r),a=t=>~~((t+n)/r);return a.invert=t=>t*r-n,a.bitmap=()=>r4(i,o),a.ratio=r,a.padding=n,a.width=t,a.height=e,a}function o4(t,e,n,r){const i=t.width,o=t.height;return function(t){const e=t.datum.datum.items[r].items,n=e.length,a=t.datum.fontSize,s=e3.width(t.datum,t.datum.text);let u,c,l,f,h,d,p,g=0;for(let r=0;r<n;++r)u=e[r].x,l=e[r].y,c=void 0===e[r].x2?u:e[r].x2,f=void 0===e[r].y2?l:e[r].y2,h=(u+c)/2,d=(l+f)/2,p=Math.abs(c-u+f-l),p>=g&&(g=p,t.x=h,t.y=d);return h=s/2,d=a/2,u=t.x-h,c=t.x+h,l=t.y-d,f=t.y+d,t.align="center",u<0&&c<=i?t.align="left":0<=u&&i<c&&(t.align="right"),t.baseline="middle",l<0&&f<=o?t.baseline="top":0<=l&&o<f&&(t.baseline="bottom"),!0}}function a4(t,e,n,r,i,o){let a=n/2;return t-a<0||t+a>i||e-(a=r/2)<0||e+a>o}function s4(t,e,n,r,i,o,a,s){const u=i*o/(2*r),c=t(e-u),l=t(e+u),f=t(n-(o/=2)),h=t(n+o);return a.outOfBounds(c,f,l,h)||a.getRange(c,f,l,h)||s&&s.getRange(c,f,l,h)}function u4(t,e,n,r){const i=t.width,o=t.height,a=e[0],s=e[1];function u(e,n,r,u,c){const l=t.invert(e),f=t.invert(n);let h,d=r,p=o;if(!a4(l,f,u,c,i,o)&&!s4(t,l,f,c,u,d,a,s)&&!s4(t,l,f,c,u,c,a,null)){while(p-d>=1)h=(d+p)/2,s4(t,l,f,c,u,h,a,s)?p=h:d=h;if(d>r)return[l,f,d,!0]}}return function(e){const s=e.datum.datum.items[r].items,c=s.length,l=e.datum.fontSize,f=e3.width(e.datum,e.datum.text);let h,d,p,g,m,v,y,b,w,x,_,k,A,S,C,E,D,M=n?l:0,T=!1,F=!1,O=0;for(let r=0;r<c;++r){for(h=s[r].x,p=s[r].y,d=void 0===s[r].x2?h:s[r].x2,g=void 0===s[r].y2?p:s[r].y2,h>d&&(D=h,h=d,d=D),p>g&&(D=p,p=g,g=D),w=t(h),_=t(d),x=~~((w+_)/2),k=t(p),S=t(g),A=~~((k+S)/2),y=x;y>=w;--y)for(b=A;b>=k;--b)E=u(y,b,M,f,l),E&&([e.x,e.y,M,T]=E);for(y=x;y<=_;++y)for(b=A;b<=S;++b)E=u(y,b,M,f,l),E&&([e.x,e.y,M,T]=E);T||n||(C=Math.abs(d-h+g-p),m=(h+d)/2,v=(p+g)/2,C>=O&&!a4(m,v,f,l,i,o)&&!s4(t,m,v,l,f,l,a,null)&&(O=C,e.x=m,e.y=v,F=!0))}return!(!T&&!F)&&(m=f/2,v=l/2,a.setRange(t(e.x-m),t(e.y-v),t(e.x+m),t(e.y+v)),e.align="center",e.baseline="middle",!0)}}const c4=[-1,-1,1,1],l4=[-1,1,-1,1];function f4(t,e,n,r){const i=t.width,o=t.height,a=e[0],s=e[1],u=t.bitmap();return function(e){const c=e.datum.datum.items[r].items,l=c.length,f=e.datum.fontSize,h=e3.width(e.datum,e.datum.text),d=[];let p,g,m,v,y,b,w,x,_,k,A,S,C=n?f:0,E=!1,D=!1,M=0;for(let r=0;r<l;++r){p=c[r].x,m=c[r].y,g=void 0===c[r].x2?p:c[r].x2,v=void 0===c[r].y2?m:c[r].y2,d.push([t((p+g)/2),t((m+v)/2)]);while(d.length)if([w,x]=d.pop(),!(a.get(w,x)||s.get(w,x)||u.get(w,x))){u.set(w,x);for(let t=0;t<4;++t)y=w+c4[t],b=x+l4[t],u.outOfBounds(y,b,y,b)||d.push([y,b]);if(y=t.invert(w),b=t.invert(x),_=C,k=o,!a4(y,b,h,f,i,o)&&!s4(t,y,b,f,h,_,a,s)&&!s4(t,y,b,f,h,f,a,null)){while(k-_>=1)A=(_+k)/2,s4(t,y,b,f,h,A,a,s)?k=A:_=A;_>C&&(e.x=y,e.y=b,C=_,E=!0)}}E||n||(S=Math.abs(g-p+v-m),y=(p+g)/2,b=(m+v)/2,S>=M&&!a4(y,b,h,f,i,o)&&!s4(t,y,b,f,h,f,a,null)&&(M=S,e.x=y,e.y=b,D=!0))}return!(!E&&!D)&&(y=h/2,b=f/2,a.setRange(t(e.x-y),t(e.y-b),t(e.x+y),t(e.y+b)),e.align="center",e.baseline="middle",!0)}}const h4=["right","center","left"],d4=["bottom","middle","top"];function p4(t,e,n,r){const i=t.width,o=t.height,a=e[0],s=e[1],u=r.length;return function(e){const c=e.boundary,l=e.datum.fontSize;if(c[2]<0||c[5]<0||c[0]>i||c[3]>o)return!1;let f,h,d,p,g,m,v,y,b,w,x,_,k,A,S,C=0;for(let i=0;i<u;++i){if(f=(3&n[i])-1,h=(n[i]>>>2&3)-1,d=0===f&&0===h||r[i]<0,p=f&&h?Math.SQRT1_2:1,g=r[i]<0?-1:1,m=c[1+f]+r[i]*f*p,x=c[4+h]+g*l*h/2+r[i]*h*p,y=x-l/2,b=x+l/2,_=t(m),A=t(y),S=t(b),!C){if(!g4(_,_,A,S,a,s,m,m,y,b,c,d))continue;C=e3.width(e.datum,e.datum.text)}if(w=m+g*C*f/2,m=w-C/2,v=w+C/2,_=t(m),k=t(v),g4(_,k,A,S,a,s,m,v,y,b,c,d))return e.x=f?f*g<0?v:m:w,e.y=h?h*g<0?b:y:x,e.align=h4[f*g+1],e.baseline=d4[h*g+1],a.setRange(_,A,k,S),!0}return!1}}function g4(t,e,n,r,i,o,a,s,u,c,l,f){return!(i.outOfBounds(t,n,e,r)||(f&&o?o.getRange(t,n,e,r)||!m4(a,u,s,c,l):i.getRange(t,n,e,r)))}function m4(t,e,n,r,i){return i[0]<=t&&n<=i[2]&&i[3]<=e&&r<=i[5]}const v4=0,y4=4,b4=8,w4=0,x4=1,_4=2,k4={"top-left":v4+w4,top:v4+x4,"top-right":v4+_4,left:y4+w4,middle:y4+x4,right:y4+_4,"bottom-left":b4+w4,bottom:b4+x4,"bottom-right":b4+_4},A4={naive:o4,"reduced-search":u4,floodfill:f4};function S4(t,e,n,r,i,o,a,s,u,c,l){if(!t.length)return t;const f=Math.max(r.length,i.length),h=C4(r,f),d=E4(i,f),p=D4(t[0].datum),g="group"===p&&t[0].datum.items[u].marktype,m="area"===g,v=M4(p,g,s,u),y=i4(e[0],e[1],c),b=m&&"naive"===l,w=t.map((t=>({datum:t,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:v(t)})));let x;if(!b){n&&w.sort(((t,e)=>n(t.datum,e.datum)));let e=!1;for(let t=0;t<d.length&&!e;++t)e=5===d[t]||h[t]<0;p&&(a||m)&&(o=[t.map((t=>t.datum))].concat(o)),x=o.length?K6(y,o,e,m):G6(y,a&&w)}const _=m?A4[l](y,x,a,u):p4(y,x,d,h);return w.forEach((t=>t.opacity=+_(t))),w}function C4(t,e){const n=new Float64Array(e),r=t.length;for(let i=0;i<r;++i)n[i]=t[i]||0;for(let i=r;i<e;++i)n[i]=n[r-1];return n}function E4(t,e){const n=new Int8Array(e),r=t.length;for(let i=0;i<r;++i)n[i]|=k4[t[i]];for(let i=r;i<e;++i)n[i]=n[r-1];return n}function D4(t){return t&&t.mark&&t.mark.marktype}function M4(t,e,n,r){const i=t=>[t.x,t.x,t.x,t.y,t.y,t.y];return t?"line"===t||"area"===t?t=>i(t.datum):"line"===e?t=>{const e=t.datum.items[r].items;return i(e.length?e["start"===n?0:e.length-1]:{x:NaN,y:NaN})}:t=>{const e=t.datum.bounds;return[e.x1,(e.x1+e.x2)/2,e.x2,e.y1,(e.y1+e.y2)/2,e.y2]}:i}const T4=["x","y","opacity","align","baseline"],F4=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function O4(t){gu.call(this,null,t)}function $4(t,e){var n,r,i,o,a,s,u=[],c=function(t){return t(o)};if(null==e)u.push(t);else for(n={},r=0,i=t.length;r<i;++r)o=t[r],a=e.map(c),s=n[a],s||(n[a]=s=[],s.dims=a,u.push(s)),s.push(o);return u}function N4(t){gu.call(this,null,t)}O4.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:F4},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:T4.length,default:T4}]},ge(O4,gu,{transform(t,e){function n(n){const r=t[n];return Zt(r)&&e.modified(r.fields)}const r=t.modified();if(!(r||e.changed(e.ADD_REM)||n("sort")))return;t.size&&2===t.size.length||ct("Size parameter should be specified as a [width, height] array.");const i=t.as||T4;return S4(e.materialize(e.SOURCE).source,t.size,t.sort,Xt(t.offset||1),Xt(t.anchor||F4),t.avoidMarks||[],!1!==t.avoidBaseMark,t.lineAnchor||"end",t.markIndex||0,t.padding||0,t.method||"naive").forEach((t=>{const e=t.datum;e[i[0]]=t.x,e[i[1]]=t.y,e[i[2]]=t.opacity,e[i[3]]=t.align,e[i[4]]=t.baseline})),e.reflow(r).modifies(i)}}),N4.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},ge(N4,gu,{transform(t,e){const n=e.fork(e.NO_SOURCE|e.NO_FIELDS);if(!this.value||e.changed()||t.modified()){const r=e.materialize(e.SOURCE).source,i=$4(r,t.groupby),o=(t.groupby||[]).map(it),a=o.length,s=t.as||[it(t.x),it(t.y)],u=[];i.forEach((e=>{Ac(e,t.x,t.y,t.bandwidth||.3).forEach((t=>{const n={};for(let r=0;r<a;++r)n[o[r]]=e.dims[r];n[s[0]]=t[0],n[s[1]]=t[1],u.push(ns(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});const B4={linear:pc,log:gc,exp:mc,pow:vc,quad:yc,poly:bc},R4=(t,e)=>"poly"===t?e:"quad"===t?2:1;function P4(t){gu.call(this,null,t)}P4.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(B4)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},ge(P4,gu,{transform(t,e){const n=e.fork(e.NO_SOURCE|e.NO_FIELDS);if(!this.value||e.changed()||t.modified()){const r=e.materialize(e.SOURCE).source,i=$4(r,t.groupby),o=(t.groupby||[]).map(it),a=t.method||"linear",s=t.order||3,u=R4(a,s),c=t.as||[it(t.x),it(t.y)],l=B4[a],f=[];let h=t.extent;fe(B4,a)||ct("Invalid regression method: "+a),null!=h&&"log"===a&&h[0]<=0&&(e.dataflow.warn("Ignoring extent with values <= 0 for log regression."),h=null),i.forEach((n=>{const r=n.length;if(r<=u)return void e.dataflow.warn("Skipping regression with more parameters than data points.");const i=l(n,t.x,t.y,s);if(t.params)return void f.push(ns({keys:n.dims,coef:i.coef,rSquared:i.rSquared}));const d=h||ue(n,t.x),p=t=>{const e={};for(let r=0;r<o.length;++r)e[o[r]]=n.dims[r];e[c[0]]=t[0],e[c[1]]=t[1],f.push(ns(e))};"linear"===a?d.forEach((t=>p([t,i.predict(t)]))):Mc(i.predict,d,25,200).forEach(p)})),this.value&&(n.rem=this.value),this.value=n.add=n.source=f}return n}});const I4=Math.pow(2,-52),j4=new Uint32Array(512);class L4{static from(t,e=X4,n=J4){const r=t.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){const r=t[o];i[2*o]=e(r),i[2*o+1]=n(r)}return new L4(i)}constructor(t){const e=t.length>>1;if(e>0&&"number"!==typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const n=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:t,_hullPrev:e,_hullNext:n,_hullTri:r,_hullHash:i}=this,o=t.length>>1;let a=1/0,s=1/0,u=-1/0,c=-1/0;for(let S=0;S<o;S++){const e=t[2*S],n=t[2*S+1];e<a&&(a=e),n<s&&(s=n),e>u&&(u=e),n>c&&(c=n),this._ids[S]=S}const l=(a+u)/2,f=(s+c)/2;let h,d,p,g=1/0;for(let S=0;S<o;S++){const e=U4(l,f,t[2*S],t[2*S+1]);e<g&&(h=S,g=e)}const m=t[2*h],v=t[2*h+1];g=1/0;for(let S=0;S<o;S++){if(S===h)continue;const e=U4(m,v,t[2*S],t[2*S+1]);e<g&&e>0&&(d=S,g=e)}let y=t[2*d],b=t[2*d+1],w=1/0;for(let S=0;S<o;S++){if(S===h||S===d)continue;const e=W4(m,v,y,b,t[2*S],t[2*S+1]);e<w&&(p=S,w=e)}let x=t[2*p],_=t[2*p+1];if(w===1/0){for(let r=0;r<o;r++)this._dists[r]=t[2*r]-t[0]||t[2*r+1]-t[1];G4(this._ids,this._dists,0,o-1);const e=new Uint32Array(o);let n=0;for(let t=0,r=-1/0;t<o;t++){const i=this._ids[t];this._dists[i]>r&&(e[n++]=i,r=this._dists[i])}return this.hull=e.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(V4(m,v,y,b,x,_)){const t=d,e=y,n=b;d=p,y=x,b=_,p=t,x=e,_=n}const k=Y4(m,v,y,b,x,_);this._cx=k.x,this._cy=k.y;for(let S=0;S<o;S++)this._dists[S]=U4(t[2*S],t[2*S+1],k.x,k.y);G4(this._ids,this._dists,0,o-1),this._hullStart=h;let A=3;n[h]=e[p]=d,n[d]=e[h]=p,n[p]=e[d]=h,r[h]=0,r[d]=1,r[p]=2,i.fill(-1),i[this._hashKey(m,v)]=h,i[this._hashKey(y,b)]=d,i[this._hashKey(x,_)]=p,this.trianglesLen=0,this._addTriangle(h,d,p,-1,-1,-1);for(let S,C,E=0;E<this._ids.length;E++){const o=this._ids[E],a=t[2*o],s=t[2*o+1];if(E>0&&Math.abs(a-S)<=I4&&Math.abs(s-C)<=I4)continue;if(S=a,C=s,o===h||o===d||o===p)continue;let u=0;for(let t=0,e=this._hashKey(a,s);t<this._hashSize;t++)if(u=i[(e+t)%this._hashSize],-1!==u&&u!==n[u])break;u=e[u];let c,l=u;while(c=n[l],!V4(a,s,t[2*l],t[2*l+1],t[2*c],t[2*c+1]))if(l=c,l===u){l=-1;break}if(-1===l)continue;let f=this._addTriangle(l,o,n[l],-1,-1,r[l]);r[o]=this._legalize(f+2),r[l]=f,A++;let g=n[l];while(c=n[g],V4(a,s,t[2*g],t[2*g+1],t[2*c],t[2*c+1]))f=this._addTriangle(g,o,c,r[o],-1,r[g]),r[o]=this._legalize(f+2),n[g]=g,A--,g=c;if(l===u)while(c=e[l],V4(a,s,t[2*c],t[2*c+1],t[2*l],t[2*l+1]))f=this._addTriangle(c,o,l,-1,r[l],r[c]),this._legalize(f+2),r[c]=f,n[l]=l,A--,l=c;this._hullStart=e[o]=l,n[l]=e[g]=o,n[o]=g,i[this._hashKey(a,s)]=o,i[this._hashKey(t[2*l],t[2*l+1])]=l}this.hull=new Uint32Array(A);for(let S=0,C=this._hullStart;S<A;S++)this.hull[S]=C,C=n[C];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(z4(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:e,_halfedges:n,coords:r}=this;let i=0,o=0;while(1){const a=n[t],s=t-t%3;if(o=s+(t+2)%3,-1===a){if(0===i)break;t=j4[--i];continue}const u=a-a%3,c=s+(t+1)%3,l=u+(a+2)%3,f=e[o],h=e[t],d=e[c],p=e[l],g=H4(r[2*f],r[2*f+1],r[2*h],r[2*h+1],r[2*d],r[2*d+1],r[2*p],r[2*p+1]);if(g){e[t]=p,e[a]=f;const r=n[l];if(-1===r){let e=this._hullStart;do{if(this._hullTri[e]===l){this._hullTri[e]=t;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(t,r),this._link(a,n[o]),this._link(o,l);const s=u+(a+1)%3;i<j4.length&&(j4[i++]=s)}else{if(0===i)break;t=j4[--i]}}return o}_link(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}_addTriangle(t,e,n,r,i,o){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=e,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}function z4(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}function U4(t,e,n,r){const i=t-n,o=e-r;return i*i+o*o}function q4(t,e,n,r,i,o){const a=(r-e)*(i-t),s=(n-t)*(o-e);return Math.abs(a-s)>=33306690738754716e-32*Math.abs(a+s)?a-s:0}function V4(t,e,n,r,i,o){const a=q4(i,o,t,e,n,r)||q4(t,e,n,r,i,o)||q4(n,r,i,o,t,e);return a<0}function H4(t,e,n,r,i,o,a,s){const u=t-a,c=e-s,l=n-a,f=r-s,h=i-a,d=o-s,p=u*u+c*c,g=l*l+f*f,m=h*h+d*d;return u*(f*m-g*d)-c*(l*m-g*h)+p*(l*d-f*h)<0}function W4(t,e,n,r,i,o){const a=n-t,s=r-e,u=i-t,c=o-e,l=a*a+s*s,f=u*u+c*c,h=.5/(a*c-s*u),d=(c*l-s*f)*h,p=(a*f-u*l)*h;return d*d+p*p}function Y4(t,e,n,r,i,o){const a=n-t,s=r-e,u=i-t,c=o-e,l=a*a+s*s,f=u*u+c*c,h=.5/(a*c-s*u),d=t+(c*l-s*f)*h,p=e+(a*f-u*l)*h;return{x:d,y:p}}function G4(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const r=t[i],o=e[r];let a=i-1;while(a>=n&&e[t[a]]>o)t[a+1]=t[a--];t[a+1]=r}else{const i=n+r>>1;let o=n+1,a=r;K4(t,i,o),e[t[n]]>e[t[r]]&&K4(t,n,r),e[t[o]]>e[t[r]]&&K4(t,o,r),e[t[n]]>e[t[o]]&&K4(t,n,o);const s=t[o],u=e[s];while(1){do{o++}while(e[t[o]]<u);do{a--}while(e[t[a]]>u);if(a<o)break;K4(t,o,a)}t[n+1]=t[a],t[a]=s,r-o+1>=a-n?(G4(t,e,o,r),G4(t,e,n,a-1)):(G4(t,e,n,a-1),G4(t,e,o,r))}}function K4(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function X4(t){return t[0]}function J4(t){return t[1]}const Z4=1e-6;class Q4{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+=`L${this._x1=+t},${this._y1=+e}`}arc(t,e,n){t=+t,e=+e,n=+n;const r=t+n,i=e;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>Z4||Math.abs(this._y1-i)>Z4)&&(this._+="L"+r+","+i),n&&(this._+=`A${n},${n},0,1,1,${t-n},${e}A${n},${n},0,1,1,${this._x1=r},${this._y1=i}`)}rect(t,e,n,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${+n}v${+r}h${-n}Z`}value(){return this._||null}}class t9{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}}class e9{constructor(t,[e,n,r,i]=[0,0,960,500]){if(!((r=+r)>=(e=+e))||!((i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=r,this.xmin=e,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:e,triangles:n},vectors:r}=this,i=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let h,d,p=0,g=0,m=n.length;p<m;p+=3,g+=2){const e=2*n[p],r=2*n[p+1],o=2*n[p+2],a=t[e],s=t[e+1],u=t[r],c=t[r+1],l=t[o],f=t[o+1],m=u-a,v=c-s,y=l-a,b=f-s,w=m*m+v*v,x=y*y+b*b,_=2*(m*b-v*y);if(_)if(Math.abs(_)<1e-8)h=(a+l)/2,d=(s+f)/2;else{const t=1/_;h=a+(b*w-v*x)*t,d=s+(m*x-y*w)*t}else h=(a+l)/2-1e8*b,d=(s+f)/2+1e8*y;i[g]=h,i[g+1]=d}let o,a,s,u=e[e.length-1],c=4*u,l=t[2*u],f=t[2*u+1];r.fill(0);for(let h=0;h<e.length;++h)u=e[h],o=c,a=l,s=f,c=4*u,l=t[2*u],f=t[2*u+1],r[o+2]=r[c]=s-f,r[o+3]=r[c+1]=l-a}render(t){const e=null==t?t=new Q4:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:o,vectors:a}=this;if(i.length<=1)return null;for(let c=0,l=n.length;c<l;++c){const e=n[c];if(e<c)continue;const r=2*Math.floor(c/3),i=2*Math.floor(e/3),a=o[r],s=o[r+1],u=o[i],l=o[i+1];this._renderSegment(a,s,u,l,t)}let s,u=i[i.length-1];for(let c=0;c<i.length;++c){s=u,u=i[c];const e=2*Math.floor(r[u]/3),n=o[e],l=o[e+1],f=4*s,h=this._project(n,l,a[f+2],a[f+3]);h&&this._renderSegment(n,l,h[0],h[1],t)}return e&&e.value()}renderBounds(t){const e=null==t?t=new Q4:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){const n=null==e?e=new Q4:void 0,r=this._clip(t);if(null===r||!r.length)return;e.moveTo(r[0],r[1]);let i=r.length;while(r[0]===r[i-2]&&r[1]===r[i-1]&&i>1)i-=2;for(let o=2;o<i;o+=2)r[o]===r[o-2]&&r[o+1]===r[o-1]||e.lineTo(r[o],r[o+1]);return e.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let e=0,n=t.length/2;e<n;++e){const t=this.cellPolygon(e);t&&(t.index=e,yield t)}}cellPolygon(t){const e=new t9;return this.renderCell(t,e),e.value()}_renderSegment(t,e,n,r,i){let o;const a=this._regioncode(t,e),s=this._regioncode(n,r);0===a&&0===s?(i.moveTo(t,e),i.lineTo(n,r)):(o=this._clipSegment(t,e,n,r,a,s))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(t,e,n){return e=+e,e===e&&(n=+n,n===n)&&this.delaunay._step(t,e,n)===t}*neighbors(t){const e=this._clip(t);if(e)for(const n of this.delaunay.neighbors(t)){const t=this._clip(n);if(t)t:for(let r=0,i=e.length;r<i;r+=2)for(let o=0,a=t.length;o<a;o+=2)if(e[r]==t[o]&&e[r+1]==t[o+1]&&e[(r+2)%i]==t[(o+a-2)%a]&&e[(r+3)%i]==t[(o+a-1)%a]){yield n;break t}}}_cell(t){const{circumcenters:e,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,o=n[t];if(-1===o)return null;const a=[];let s=o;do{const n=Math.floor(s/3);if(a.push(e[2*n],e[2*n+1]),s=s%3===2?s-2:s+1,i[s]!==t)break;s=r[s]}while(s!==o&&-1!==s);return a}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(t);if(null===e)return null;const{vectors:n}=this,r=4*t;return n[r]||n[r+1]?this._clipInfinite(t,e,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(t,e)}_clipFinite(t,e){const n=e.length;let r,i,o,a,s,u=null,c=e[n-2],l=e[n-1],f=this._regioncode(c,l);for(let h=0;h<n;h+=2)if(r=c,i=l,c=e[h],l=e[h+1],o=f,f=this._regioncode(c,l),0===o&&0===f)a=s,s=0,u?u.push(c,l):u=[c,l];else{let e,n,h,d,p;if(0===o){if(null===(e=this._clipSegment(r,i,c,l,o,f)))continue;[n,h,d,p]=e}else{if(null===(e=this._clipSegment(c,l,r,i,f,o)))continue;[d,p,n,h]=e,a=s,s=this._edgecode(n,h),a&&s&&this._edge(t,a,s,u,u.length),u?u.push(n,h):u=[n,h]}a=s,s=this._edgecode(d,p),a&&s&&this._edge(t,a,s,u,u.length),u?u.push(d,p):u=[d,p]}if(u)a=s,s=this._edgecode(u[0],u[1]),a&&s&&this._edge(t,a,s,u,u.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return u}_clipSegment(t,e,n,r,i,o){while(1){if(0===i&&0===o)return[t,e,n,r];if(i&o)return null;let a,s,u=i||o;8&u?(a=t+(n-t)*(this.ymax-e)/(r-e),s=this.ymax):4&u?(a=t+(n-t)*(this.ymin-e)/(r-e),s=this.ymin):2&u?(s=e+(r-e)*(this.xmax-t)/(n-t),a=this.xmax):(s=e+(r-e)*(this.xmin-t)/(n-t),a=this.xmin),i?(t=a,e=s,i=this._regioncode(t,e)):(n=a,r=s,o=this._regioncode(n,r))}}_clipInfinite(t,e,n,r,i,o){let a,s=Array.from(e);if((a=this._project(s[0],s[1],n,r))&&s.unshift(a[0],a[1]),(a=this._project(s[s.length-2],s[s.length-1],i,o))&&s.push(a[0],a[1]),s=this._clipFinite(t,s))for(let u,c=0,l=s.length,f=this._edgecode(s[l-2],s[l-1]);c<l;c+=2)u=f,f=this._edgecode(s[c],s[c+1]),u&&f&&(c=this._edge(t,u,f,s,c),l=s.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(t,e,n,r,i){while(e!==n){let n,o;switch(e){case 5:e=4;continue;case 4:e=6,n=this.xmax,o=this.ymin;break;case 6:e=2;continue;case 2:e=10,n=this.xmax,o=this.ymax;break;case 10:e=8;continue;case 8:e=9,n=this.xmin,o=this.ymax;break;case 9:e=1;continue;case 1:e=5,n=this.xmin,o=this.ymin;break}r[i]===n&&r[i+1]===o||!this.contains(t,n,o)||(r.splice(i,0,n,o),i+=2)}if(r.length>4)for(let o=0;o<r.length;o+=2){const t=(o+2)%r.length,e=(o+4)%r.length;(r[o]===r[t]&&r[t]===r[e]||r[o+1]===r[t+1]&&r[t+1]===r[e+1])&&(r.splice(t,2),o-=2)}return i}_project(t,e,n,r){let i,o,a,s=1/0;if(r<0){if(e<=this.ymin)return null;(i=(this.ymin-e)/r)<s&&(a=this.ymin,o=t+(s=i)*n)}else if(r>0){if(e>=this.ymax)return null;(i=(this.ymax-e)/r)<s&&(a=this.ymax,o=t+(s=i)*n)}if(n>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/n)<s&&(o=this.xmax,a=e+(s=i)*r)}else if(n<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/n)<s&&(o=this.xmin,a=e+(s=i)*r)}return[o,a]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}}const n9=2*Math.PI,r9=Math.pow;function i9(t){return t[0]}function o9(t){return t[1]}function a9(t){const{triangles:e,coords:n}=t;for(let r=0;r<e.length;r+=3){const t=2*e[r],i=2*e[r+1],o=2*e[r+2],a=(n[o]-n[t])*(n[i+1]-n[t+1])-(n[i]-n[t])*(n[o+1]-n[t+1]);if(a>1e-10)return!1}return!0}function s9(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class u9{static from(t,e=i9,n=o9,r){return new u9("length"in t?c9(t,e,n,r):Float64Array.from(l9(t,e,n,r)))}constructor(t){this._delaunator=new L4(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&a9(t)){this.collinear=Int32Array.from({length:e.length/2},((t,e)=>e)).sort(((t,n)=>e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]));const t=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[e[2*t],e[2*t+1],e[2*n],e[2*n+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let o=0,a=e.length/2;o<a;++o){const t=s9(e[2*o],e[2*o+1],i);e[2*o]=t[0],e[2*o+1]=t[1]}this._delaunator=new L4(e)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let s=0,u=n.length;s<u;++s){const t=i[s%3===2?s-2:s+1];-1!==n[s]&&-1!==o[t]||(o[t]=s)}for(let s=0,u=r.length;s<u;++s)a[r[s]]=s;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],this.triangles[1]=r[1],this.triangles[2]=r[1],o[r[0]]=1,2===r.length&&(o[r[1]]=0))}voronoi(t){return new e9(this,t)}*neighbors(t){const{inedges:e,hull:n,_hullIndex:r,halfedges:i,triangles:o,collinear:a}=this;if(a){const e=a.indexOf(t);return e>0&&(yield a[e-1]),void(e<a.length-1&&(yield a[e+1]))}const s=e[t];if(-1===s)return;let u=s,c=-1;do{if(yield c=o[u],u=u%3===2?u-2:u+1,o[u]!==t)return;if(u=i[u],-1===u){const e=n[(r[t]+1)%n.length];return void(e!==c&&(yield e))}}while(u!==s)}find(t,e,n=0){if(t=+t,t!==t||(e=+e,e!==e))return-1;const r=n;let i;while((i=this._step(n,t,e))>=0&&i!==n&&i!==r)n=i;return i}_step(t,e,n){const{inedges:r,hull:i,_hullIndex:o,halfedges:a,triangles:s,points:u}=this;if(-1===r[t]||!u.length)return(t+1)%(u.length>>1);let c=t,l=r9(e-u[2*t],2)+r9(n-u[2*t+1],2);const f=r[t];let h=f;do{let r=s[h];const f=r9(e-u[2*r],2)+r9(n-u[2*r+1],2);if(f<l&&(l=f,c=r),h=h%3===2?h-2:h+1,s[h]!==t)break;if(h=a[h],-1===h){if(h=i[(o[t]+1)%i.length],h!==r&&r9(e-u[2*h],2)+r9(n-u[2*h+1],2)<l)return h;break}}while(h!==f);return c}render(t){const e=null==t?t=new Q4:void 0,{points:n,halfedges:r,triangles:i}=this;for(let o=0,a=r.length;o<a;++o){const e=r[o];if(e<o)continue;const a=2*i[o],s=2*i[e];t.moveTo(n[a],n[a+1]),t.lineTo(n[s],n[s+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e=2){const n=null==t?t=new Q4:void 0,{points:r}=this;for(let i=0,o=r.length;i<o;i+=2){const n=r[i],o=r[i+1];t.moveTo(n+e,o),t.arc(n,o,e,0,n9)}return n&&n.value()}renderHull(t){const e=null==t?t=new Q4:void 0,{hull:n,points:r}=this,i=2*n[0],o=n.length;t.moveTo(r[i],r[i+1]);for(let a=1;a<o;++a){const e=2*n[a];t.lineTo(r[e],r[e+1])}return t.closePath(),e&&e.value()}hullPolygon(){const t=new t9;return this.renderHull(t),t.value()}renderTriangle(t,e){const n=null==e?e=new Q4:void 0,{points:r,triangles:i}=this,o=2*i[t*=3],a=2*i[t+1],s=2*i[t+2];return e.moveTo(r[o],r[o+1]),e.lineTo(r[a],r[a+1]),e.lineTo(r[s],r[s+1]),e.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:t}=this;for(let e=0,n=t.length/3;e<n;++e)yield this.trianglePolygon(e)}trianglePolygon(t){const e=new t9;return this.renderTriangle(t,e),e.value()}}function c9(t,e,n,r){const i=t.length,o=new Float64Array(2*i);for(let a=0;a<i;++a){const i=t[a];o[2*a]=e.call(r,i,a,t),o[2*a+1]=n.call(r,i,a,t)}return o}function*l9(t,e,n,r){let i=0;for(const o of t)yield e.call(r,o,i,t),yield n.call(r,o,i,t),++i}function f9(t){gu.call(this,null,t)}f9.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const h9=[-1e5,-1e5,1e5,1e5];function d9(t){const e=t[0][0],n=t[0][1];let r=t.length-1;for(;t[r][0]===e&&t[r][1]===n;--r);return"M"+t.slice(0,r+1).join("L")+"Z"}function p9(t,e,n){return t.fields=e||[],t.fname=n,t}function g9(t){return 1===t.length?m9(t[0]):v9(t)}ge(f9,gu,{transform(t,e){const n=t.as||"path",r=e.source;if(!r||!r.length)return e;let i=t.size;i=i?[0,0,i[0],i[1]]:(i=t.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:h9;const o=this.value=u9.from(r,t.x,t.y).voronoi(i);for(let a=0,s=r.length;a<s;++a){const t=o.cellPolygon(a);r[a][n]=t?d9(t):null}return e.reflow(t.modified()).modifies(n)}});const m9=t=>function(e){return e[t]},v9=t=>{const e=t.length;return function(n){for(let r=0;r<e;++r)n=n[t[r]];return n}};function y9(t){throw Error(t)}function b9(t){const e=[],n=t.length;let r,i,o,a=null,s=0,u="";function c(){e.push(u+t.substring(r,i)),u="",r=i+1}for(t+="",r=i=0;i<n;++i)if(o=t[i],"\\"===o)u+=t.substring(r,i++),r=i;else if(o===a)c(),a=null,s=-1;else{if(a)continue;r===s&&'"'===o||r===s&&"'"===o?(r=i+1,a=o):"."!==o||s?"["===o?(i>r&&c(),s=r=i+1):"]"===o&&(s||y9("Access path missing open bracket: "+t),s>0&&c(),s=0,r=i+1):i>r?c():r=i+1}return s&&y9("Access path missing closing bracket: "+t),a&&y9("Access path missing closing quote: "+t),i>r&&(i++,c()),e}function w9(t,e,n){const r=b9(t);return t=1===r.length?r[0]:t,p9((n&&n.get||g9)(r),[t],e||t)}w9("id"),p9((t=>t),[],"identity"),p9((()=>0),[],"zero"),p9((()=>1),[],"one"),p9((()=>!0),[],"true"),p9((()=>!1),[],"false");var x9=Array.isArray;function _9(t){return t[t.length-1]}function k9(t){return null==t||""===t?null:+t}function A9(t){return null!=t?x9(t)?t:[t]:[]}function S9(t){return"function"===typeof t}function C9(t){return S9(t)?t:()=>t}function E9(t){for(let e,n,r=1,i=arguments.length;r<i;++r)for(n in e=arguments[r],e)t[n]=e[n];return t}function D9(t,e){let n,r,i,o,a=0;if(t&&(n=t.length))if(null==e){for(r=t[a];a<n&&(null==r||r!==r);r=t[++a]);for(i=o=r;a<n;++a)r=t[a],null!=r&&(r<i&&(i=r),r>o&&(o=r))}else{for(r=e(t[a]);a<n&&(null==r||r!==r);r=e(t[++a]));for(i=o=r;a<n;++a)r=e(t[a]),null!=r&&(r<i&&(i=r),r>o&&(o=r))}return[i,o]}Object.prototype.hasOwnProperty;function M9(t,e,n){const r=t.prototype=Object.create(e.prototype);return Object.defineProperty(r,"constructor",{value:t,writable:!0,enumerable:!0,configurable:!0}),E9(r,n)}function T9(t){const e={},n=t.length;for(let r=0;r<n;++r)e[t[r]]=!0;return e}function F9(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);while(++r<i)o[r]=t+r*n;return o}function O9(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $9(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function N9(t){let e,n,r;function i(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<0?i=e+1:o=e}while(i<o)}return i}function o(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<=0?i=e+1:o=e}while(i<o)}return i}function a(t,e,n=0,o=t.length){const a=i(t,e,n,o-1);return a>n&&r(t[a-1],e)>-r(t[a],e)?a-1:a}return 2!==t.length?(e=O9,n=(e,n)=>O9(t(e),n),r=(e,n)=>t(e)-n):(e=t===O9||t===$9?t:B9,n=t,r=t),{left:i,center:a,right:o}}function B9(){return 0}function R9(t){return null===t?NaN:+t}const P9=N9(O9),I9=P9.right;P9.left,N9(R9).center;var j9=I9;const L9=Math.sqrt(50),z9=Math.sqrt(10),U9=Math.sqrt(2);function q9(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=L9?10:o>=z9?5:o>=U9?2:1;let s,u,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(t*c),u=Math.round(e*c),s/c<t&&++s,u/c>e&&--u,c=-c):(c=Math.pow(10,i)*a,s=Math.round(t/c),u=Math.round(e/c),s*c<t&&++s,u*c>e&&--u),u<s&&.5<=n&&n<2?q9(t,e,2*n):[s,u,c]}function V9(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?q9(e,t,n):q9(t,e,n);if(!(o>=i))return[];const s=o-i+1,u=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)u[c]=(o-c)/-a;else for(let c=0;c<s;++c)u[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)u[c]=(i+c)/-a;else for(let c=0;c<s;++c)u[c]=(i+c)*a;return u}function H9(t,e,n){return e=+e,t=+t,n=+n,q9(t,e,n)[2]}function W9(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?H9(e,t,n):H9(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Y9(t){return function(){return t}}function G9(t){return+t}var K9=[0,1];function X9(t){return t}function J9(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Y9(isNaN(e)?NaN:.5)}function Z9(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}function Q9(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=J9(i,r),o=n(a,o)):(r=J9(r,i),o=n(o,a)),function(t){return o(r(t))}}function t8(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());while(++a<r)i[a]=J9(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=j9(t,e,1,r)-1;return o[n](i[n](e))}}function e8(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function n8(){var t,e,n,r,i,o,a=K9,s=K9,u=xw,c=X9;function l(){var t=Math.min(a.length,s.length);return c!==X9&&(c=Z9(a[0],a[t-1])),r=t>2?t8:Q9,i=o=null,f}function f(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),s,u)))(t(c(e)))}return f.invert=function(n){return c(e((o||(o=r(s,a.map(t),dw)))(n)))},f.domain=function(t){return arguments.length?(a=Array.from(t,G9),l()):a.slice()},f.range=function(t){return arguments.length?(s=Array.from(t),l()):s.slice()},f.rangeRound=function(t){return s=Array.from(t),u=_w,l()},f.clamp=function(t){return arguments.length?(c=!!t||X9,l()):c!==X9},f.interpolate=function(t){return arguments.length?(u=t,l()):u},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,l()}}function r8(){return n8()(X9,X9)}function i8(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function o8(t,e){switch(arguments.length){case 0:break;case 1:"function"===typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"===typeof e?this.interpolator(e):this.range(e);break}return this}function a8(t,e,n,r){var i,o=W9(t,e,n);switch(r=(0,uO.formatSpecifier)(null==r?",f":r),r.type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=(0,uO.precisionPrefix)(o,a))||(r.precision=i),(0,uO.formatPrefix)(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=(0,uO.precisionRound)(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=(0,uO.precisionFixed)(o))||(r.precision=i-2*("%"===r.type));break}return(0,uO.format)(r)}function s8(t){var e=t.domain;return t.ticks=function(t){var n=e();return V9(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return a8(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,s=o.length-1,u=o[a],c=o[s],l=10;c<u&&(i=u,u=c,c=i,i=a,a=s,s=i);while(l-- >0){if(i=H9(u,c,n),i===r)return o[a]=u,o[s]=c,e(o);if(i>0)u=Math.floor(u/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;u=Math.ceil(u*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function u8(){var t=r8();return t.copy=function(){return e8(t,u8())},i8.apply(t,arguments),s8(t)}function c8(t){var e;function n(t){return null==t||isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Array.from(e,G9),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return c8(t).unknown(e)},t=arguments.length?Array.from(t,G9):[0,1],s8(n)}function l8(t,e){t=t.slice();var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function f8(t){return Math.log(t)}function h8(t){return Math.exp(t)}function d8(t){return-Math.log(-t)}function p8(t){return-Math.exp(-t)}function g8(t){return isFinite(t)?+("1e"+t):t<0?0:t}function m8(t){return 10===t?g8:t===Math.E?Math.exp:e=>Math.pow(t,e)}function v8(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function y8(t){return(e,n)=>-t(-e,n)}function b8(t){const e=t(f8,h8),n=e.domain;let r,i,o=10;function a(){return r=v8(o),i=m8(o),n()[0]<0?(r=y8(r),i=y8(i),t(d8,p8)):t(f8,h8),e}return e.base=function(t){return arguments.length?(o=+t,a()):o},e.domain=function(t){return arguments.length?(n(t),a()):n()},e.ticks=t=>{const e=n();let a=e[0],s=e[e.length-1];const u=s<a;u&&([a,s]=[s,a]);let c,l,f=r(a),h=r(s);const d=null==t?10:+t;let p=[];if(!(o%1)&&h-f<d){if(f=Math.floor(f),h=Math.ceil(h),a>0){for(;f<=h;++f)for(c=1;c<o;++c)if(l=f<0?c/i(-f):c*i(f),!(l<a)){if(l>s)break;p.push(l)}}else for(;f<=h;++f)for(c=o-1;c>=1;--c)if(l=f>0?c/i(-f):c*i(f),!(l<a)){if(l>s)break;p.push(l)}2*p.length<d&&(p=V9(a,s,d))}else p=V9(f,h,Math.min(h-f,d)).map(i);return u?p.reverse():p},e.tickFormat=(t,n)=>{if(null==t&&(t=10),null==n&&(n=10===o?"s":","),"function"!==typeof n&&(o%1||null!=(n=(0,uO.formatSpecifier)(n)).precision||(n.trim=!0),n=(0,uO.format)(n)),t===1/0)return n;const a=Math.max(1,o*t/e.ticks().length);return t=>{let e=t/i(Math.round(r(t)));return e*o<o-.5&&(e*=o),e<=a?n(t):""}},e.nice=()=>n(l8(n(),{floor:t=>i(Math.floor(r(t))),ceil:t=>i(Math.ceil(r(t)))})),e}function w8(){const t=b8(n8()).domain([1,10]);return t.copy=()=>e8(t,w8()).base(t.base()),i8.apply(t,arguments),t}function x8(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function _8(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function k8(t){return t<0?-t*t:t*t}function A8(t){var e=t(X9,X9),n=1;function r(){return 1===n?t(X9,X9):.5===n?t(_8,k8):t(x8(n),x8(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},s8(e)}function S8(){var t=A8(n8());return t.copy=function(){return e8(t,S8()).exponent(t.exponent())},i8.apply(t,arguments),t}function C8(){return S8.apply(null,arguments).exponent(.5)}function E8(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function D8(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function M8(t){var e=1,n=t(E8(e),D8(e));return n.constant=function(n){return arguments.length?t(E8(e=+n),D8(e)):e},s8(n)}function T8(){var t=M8(n8());return t.copy=function(){return e8(t,T8()).constant(t.constant())},i8.apply(t,arguments)}const F8=1e3,O8=60*F8,$8=60*O8,N8=24*$8,B8=7*N8,R8=30*N8,P8=365*N8,I8=new Date,j8=new Date;function L8(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=e=>(t(e=new Date(+e)),e),i.ceil=n=>(t(n=new Date(n-1)),e(n,1),t(n),n),i.round=t=>{const e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=(t,n)=>(e(t=new Date(+t),null==n?1:Math.floor(n)),t),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return a;let s;do{a.push(s=new Date(+n)),e(n,o),t(n)}while(s<n&&n<r);return a},i.filter=n=>L8((e=>{if(e>=e)while(t(e),!n(e))e.setTime(e-1)}),((t,r)=>{if(t>=t)if(r<0)while(++r<=0)while(e(t,-1),!n(t));else while(--r>=0)while(e(t,1),!n(t));})),n&&(i.count=(e,r)=>(I8.setTime(+e),j8.setTime(+r),t(I8),t(j8),Math.floor(n(I8,j8))),i.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?e=>r(e)%t===0:e=>i.count(0,e)%t===0):i:null)),i}const z8=L8((()=>{}),((t,e)=>{t.setTime(+t+e)}),((t,e)=>e-t));z8.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?L8((e=>{e.setTime(Math.floor(e/t)*t)}),((e,n)=>{e.setTime(+e+n*t)}),((e,n)=>(n-e)/t)):z8:null);z8.range;const U8=L8((t=>{t.setTime(t-t.getMilliseconds())}),((t,e)=>{t.setTime(+t+e*F8)}),((t,e)=>(e-t)/F8),(t=>t.getUTCSeconds())),q8=(U8.range,L8((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*F8)}),((t,e)=>{t.setTime(+t+e*O8)}),((t,e)=>(e-t)/O8),(t=>t.getMinutes()))),V8=(q8.range,L8((t=>{t.setUTCSeconds(0,0)}),((t,e)=>{t.setTime(+t+e*O8)}),((t,e)=>(e-t)/O8),(t=>t.getUTCMinutes()))),H8=(V8.range,L8((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*F8-t.getMinutes()*O8)}),((t,e)=>{t.setTime(+t+e*$8)}),((t,e)=>(e-t)/$8),(t=>t.getHours()))),W8=(H8.range,L8((t=>{t.setUTCMinutes(0,0,0)}),((t,e)=>{t.setTime(+t+e*$8)}),((t,e)=>(e-t)/$8),(t=>t.getUTCHours()))),Y8=(W8.range,L8((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*O8)/N8),(t=>t.getDate()-1))),G8=(Y8.range,L8((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/N8),(t=>t.getUTCDate()-1))),K8=(G8.range,L8((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/N8),(t=>Math.floor(t/N8))));K8.range;function X8(t){return L8((e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),((t,e)=>{t.setDate(t.getDate()+7*e)}),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*O8)/B8))}const J8=X8(0),Z8=X8(1),Q8=X8(2),t7=X8(3),e7=X8(4),n7=X8(5),r7=X8(6);J8.range,Z8.range,Q8.range,t7.range,e7.range,n7.range,r7.range;function i7(t){return L8((e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)}),((t,e)=>(e-t)/B8))}const o7=i7(0),a7=i7(1),s7=i7(2),u7=i7(3),c7=i7(4),l7=i7(5),f7=i7(6),h7=(o7.range,a7.range,s7.range,u7.range,c7.range,l7.range,f7.range,L8((t=>{t.setDate(1),t.setHours(0,0,0,0)}),((t,e)=>{t.setMonth(t.getMonth()+e)}),((t,e)=>e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())),(t=>t.getMonth()))),d7=(h7.range,L8((t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)}),((t,e)=>e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())),(t=>t.getUTCMonth()))),p7=(d7.range,L8((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,e)=>{t.setFullYear(t.getFullYear()+e)}),((t,e)=>e.getFullYear()-t.getFullYear()),(t=>t.getFullYear())));p7.every=t=>isFinite(t=Math.floor(t))&&t>0?L8((e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,n)=>{e.setFullYear(e.getFullYear()+n*t)})):null;p7.range;const g7=L8((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)}),((t,e)=>e.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));g7.every=t=>isFinite(t=Math.floor(t))&&t>0?L8((e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null;g7.range;function m7(t,e,n,r,i,o){const a=[[U8,1,F8],[U8,5,5*F8],[U8,15,15*F8],[U8,30,30*F8],[o,1,O8],[o,5,5*O8],[o,15,15*O8],[o,30,30*O8],[i,1,$8],[i,3,3*$8],[i,6,6*$8],[i,12,12*$8],[r,1,N8],[r,2,2*N8],[n,1,B8],[e,1,R8],[e,3,3*R8],[t,1,P8]];function s(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const i=n&&"function"===typeof n.range?n:u(t,e,n),o=i?i.range(t,+e+1):[];return r?o.reverse():o}function u(e,n,r){const i=Math.abs(n-e)/r,o=N9((([,,t])=>t)).right(a,i);if(o===a.length)return t.every(W9(e/P8,n/P8,r));if(0===o)return z8.every(Math.max(W9(e,n,r),1));const[s,u]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(u)}return[s,u]}const[v7,y7]=m7(g7,d7,o7,K8,W8,V8),[b7,w7]=m7(p7,h7,J8,Y8,H8,q8);function x7(t){return new Date(t)}function _7(t){return t instanceof Date?+t:+new Date(+t)}function k7(t,e,n,r,i,o,a,s,u,c){var l=r8(),f=l.invert,h=l.domain,d=c(".%L"),p=c(":%S"),g=c("%I:%M"),m=c("%I %p"),v=c("%a %d"),y=c("%b %d"),b=c("%B"),w=c("%Y");function x(t){return(u(t)<t?d:s(t)<t?p:a(t)<t?g:o(t)<t?m:r(t)<t?i(t)<t?v:y:n(t)<t?b:w)(t)}return l.invert=function(t){return new Date(f(t))},l.domain=function(t){return arguments.length?h(Array.from(t,_7)):h().map(x7)},l.ticks=function(e){var n=h();return t(n[0],n[n.length-1],null==e?10:e)},l.tickFormat=function(t,e){return null==e?x:c(e)},l.nice=function(t){var n=h();return t&&"function"===typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?h(l8(n,t)):l},l.copy=function(){return e8(l,k7(t,e,n,r,i,o,a,s,u,c))},l}function A7(){return i8.apply(k7(b7,w7,p7,h7,J8,Y8,H8,q8,U8,rN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function S7(){return i8.apply(k7(v7,y7,g7,d7,o7,G8,W8,V8,U8,oN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function C7(){var t,e,n,r,i,o=0,a=1,s=X9,u=!1;function c(e){return null==e||isNaN(e=+e)?i:s(0===n?.5:(e=(r(e)-t)*n,u?Math.max(0,Math.min(1,e)):e))}function l(t){return function(e){var n,r;return arguments.length?([n,r]=e,s=t(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([o,a]=i,t=r(o=+o),e=r(a=+a),n=t===e?0:1/(e-t),c):[o,a]},c.clamp=function(t){return arguments.length?(u=!!t,c):u},c.interpolator=function(t){return arguments.length?(s=t,c):s},c.range=l(xw),c.rangeRound=l(_w),c.unknown=function(t){return arguments.length?(i=t,c):i},function(i){return r=i,t=i(o),e=i(a),n=t===e?0:1/(e-t),c}}function E7(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function D7(){var t=s8(C7()(X9));return t.copy=function(){return E7(t,D7())},o8.apply(t,arguments)}function M7(){var t=b8(C7()).domain([1,10]);return t.copy=function(){return E7(t,M7()).base(t.base())},o8.apply(t,arguments)}function T7(){var t=M8(C7());return t.copy=function(){return E7(t,T7()).constant(t.constant())},o8.apply(t,arguments)}function F7(){var t=A8(C7());return t.copy=function(){return E7(t,F7()).exponent(t.exponent())},o8.apply(t,arguments)}function O7(){return F7.apply(null,arguments).exponent(.5)}function $7(){var t,e,n,r,i,o,a,s=0,u=.5,c=1,l=1,f=X9,h=!1;function d(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-e)*(l*t<l*e?r:i),f(h?Math.max(0,Math.min(1,t)):t))}function p(t){return function(e){var n,r,i;return arguments.length?([n,r,i]=e,f=Ax(t,[n,r,i]),d):[f(0),f(.5),f(1)]}}return d.domain=function(a){return arguments.length?([s,u,c]=a,t=o(s=+s),e=o(u=+u),n=o(c=+c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),l=e<t?-1:1,d):[s,u,c]},d.clamp=function(t){return arguments.length?(h=!!t,d):h},d.interpolator=function(t){return arguments.length?(f=t,d):f},d.range=p(xw),d.rangeRound=p(_w),d.unknown=function(t){return arguments.length?(a=t,d):a},function(a){return o=a,t=a(s),e=a(u),n=a(c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),l=e<t?-1:1,d}}function N7(){var t=s8($7()(X9));return t.copy=function(){return E7(t,N7())},o8.apply(t,arguments)}function B7(){var t=b8($7()).domain([.1,1,10]);return t.copy=function(){return E7(t,B7()).base(t.base())},o8.apply(t,arguments)}function R7(){var t=M8($7());return t.copy=function(){return E7(t,R7()).constant(t.constant())},o8.apply(t,arguments)}function P7(){var t=A8($7());return t.copy=function(){return E7(t,P7()).exponent(t.exponent())},o8.apply(t,arguments)}function I7(){return P7.apply(null,arguments).exponent(.5)}function j7(t,e,n=R9){if((r=t.length)&&!isNaN(e=+e)){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function L7(){var t,e=[],n=[],r=[];function i(){var t=0,i=Math.max(1,n.length);r=new Array(i-1);while(++t<i)r[t-1]=j7(e,t/i);return o}function o(e){return null==e||isNaN(e=+e)?t:n[j9(r,e)]}return o.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(O9),i()},o.range=function(t){return arguments.length?(n=Array.from(t),i()):n.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return r.slice()},o.copy=function(){return L7().domain(e).range(n).unknown(t)},i8.apply(o,arguments)}function z7(){var t,e=0,n=1,r=1,i=[.5],o=[0,1];function a(e){return null!=e&&e<=e?o[j9(i,e,0,r)]:t}function s(){var t=-1;i=new Array(r);while(++t<r)i[t]=((t+1)*n-(t-r)*e)/(r+1);return a}return a.domain=function(t){return arguments.length?([e,n]=t,e=+e,n=+n,s()):[e,n]},a.range=function(t){return arguments.length?(r=(o=Array.from(t)).length-1,s()):o.slice()},a.invertExtent=function(t){var a=o.indexOf(t);return a<0?[NaN,NaN]:a<1?[e,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(e){return arguments.length?(t=e,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return z7().domain([e,n]).range(o).unknown(t)},i8.apply(s8(a),arguments)}function U7(){var t,e=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[j9(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=Array.from(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=Array.from(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return U7().domain(e).range(n).unknown(t)},i8.apply(i,arguments)}const q7=Symbol("implicit");function V7(){var t=new Bx,e=[],n=[],r=q7;function i(i){let o=t.get(i);if(void 0===o){if(r!==q7)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Bx;for(const r of n)t.has(r)||t.set(r,e.push(r)-1);return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return V7(e,n).unknown(r)},i8.apply(i,arguments),i}const H7="year",W7="quarter",Y7="month",G7="week",K7="date",X7="day",J7="dayofyear",Z7="hours",Q7="minutes",ttt="seconds",ett="milliseconds",ntt=[H7,W7,Y7,G7,K7,X7,J7,Z7,Q7,ttt,ett];ntt.reduce(((t,e,n)=>(t[e]=1+n,t)),{});new Date;h7.every(3),d7.every(3);const rtt=[H7,Y7,K7,Z7,Q7,ttt,ett],itt=rtt.slice(0,-1),ott=itt.slice(0,-1),att=ott.slice(0,-1);att.slice(0,-1);function stt(t,e,n){const r=t-e+2*n;return t?r>0?r:1:0}const utt="identity",ctt="linear",ltt="log",ftt="pow",htt="sqrt",dtt="symlog",ptt="time",gtt="utc",mtt="sequential",vtt="diverging",ytt="quantile",btt="quantize",wtt="threshold",xtt="ordinal",_tt="point",ktt="band",Att="bin-ordinal",Stt="continuous",Ctt="discrete",Ett="discretizing",Dtt="interpolating",Mtt="temporal";function Ttt(t){return function(e){let n,r=e[0],i=e[1];return i<r&&(n=r,r=i,i=n),[t.invert(r),t.invert(i)]}}function Ftt(t){return function(e){const n=t.range();let r,i,o,a,s=e[0],u=e[1],c=-1;for(u<s&&(i=s,s=u,u=i),o=0,a=n.length;o<a;++o)n[o]>=s&&n[o]<=u&&(c<0&&(c=o),r=o);if(!(c<0))return s=t.invertExtent(n[c]),u=t.invertExtent(n[r]),[void 0===s[0]?s[1]:s[0],void 0===u[1]?u[0]:u[1]]}}function Ott(){const t=V7().unknown(void 0),e=t.domain,n=t.range;let r,i,o=[0,1],a=!1,s=0,u=0,c=.5;function l(){const t=e().length,l=o[1]<o[0],f=o[1-l],h=stt(t,s,u);let d=o[l-0];r=(f-d)/(h||1),a&&(r=Math.floor(r)),d+=(f-d-r*(t-s))*c,i=r*(1-s),a&&(d=Math.round(d),i=Math.round(i));const p=F9(t).map((t=>d+r*t));return n(l?p.reverse():p)}return delete t.unknown,t.domain=function(t){return arguments.length?(e(t),l()):e()},t.range=function(t){return arguments.length?(o=[+t[0],+t[1]],l()):o.slice()},t.rangeRound=function(t){return o=[+t[0],+t[1]],a=!0,l()},t.bandwidth=function(){return i},t.step=function(){return r},t.round=function(t){return arguments.length?(a=!!t,l()):a},t.padding=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),s=u,l()):s},t.paddingInner=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),l()):s},t.paddingOuter=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),l()):u},t.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),l()):c},t.invertRange=function(t){if(null==t[0]||null==t[1])return;const r=o[1]<o[0],a=r?n().reverse():n(),s=a.length-1;let u,c,l,f=+t[0],h=+t[1];return f!==f||h!==h||(h<f&&(l=f,f=h,h=l),h<a[0]||f>o[1-r])?void 0:(u=Math.max(0,I9(a,f)-1),c=f===h?u:I9(a,h)-1,f-a[u]>i+1e-10&&++u,r&&(l=u,u=s-c,c=s-l),u>c?void 0:e().slice(u,c+1))},t.invert=function(e){const n=t.invertRange([e,e]);return n?n[0]:n},t.copy=function(){return Ott().domain(e()).range(o).round(a).paddingInner(s).paddingOuter(u).align(c)},l()}function $tt(t){const e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return $tt(e())},t}function Ntt(){return $tt(Ott().paddingInner(1))}var Btt=Array.prototype.map;function Rtt(t){return Btt.call(t,k9)}const Ptt=Array.prototype.slice;function Itt(){let t=[],e=[];function n(n){return null==n||n!==n?void 0:e[(j9(t,n)-1)%e.length]}return n.domain=function(e){return arguments.length?(t=Rtt(e),n):t.slice()},n.range=function(t){return arguments.length?(e=Ptt.call(t),n):e.slice()},n.tickFormat=function(e,n){return a8(t[0],_9(t),null==e?10:e,n)},n.copy=function(){return Itt().domain(n.domain()).range(n.range())},n}const jtt=new Map,Ltt=Symbol("vega_scale");function ztt(t){return t[Ltt]=!0,t}function Utt(t,e,n){const r=function(){const n=e();return n.invertRange||(n.invertRange=n.invert?Ttt(n):n.invertExtent?Ftt(n):void 0),n.type=t,ztt(n)};return r.metadata=T9(A9(n)),r}function qtt(t,e,n){return arguments.length>1?(jtt.set(t,Utt(t,e,n)),this):Vtt(t)?jtt.get(t):void 0}function Vtt(t){return jtt.has(t)}qtt(utt,c8),qtt(ctt,u8,Stt),qtt(ltt,w8,[Stt,ltt]),qtt(ftt,S8,Stt),qtt(htt,C8,Stt),qtt(dtt,T8,Stt),qtt(ptt,A7,[Stt,Mtt]),qtt(gtt,S7,[Stt,Mtt]),qtt(mtt,D7,[Stt,Dtt]),qtt(`${mtt}-${ctt}`,D7,[Stt,Dtt]),qtt(`${mtt}-${ltt}`,M7,[Stt,Dtt,ltt]),qtt(`${mtt}-${ftt}`,F7,[Stt,Dtt]),qtt(`${mtt}-${htt}`,O7,[Stt,Dtt]),qtt(`${mtt}-${dtt}`,T7,[Stt,Dtt]),qtt(`${vtt}-${ctt}`,N7,[Stt,Dtt]),qtt(`${vtt}-${ltt}`,B7,[Stt,Dtt,ltt]),qtt(`${vtt}-${ftt}`,P7,[Stt,Dtt]),qtt(`${vtt}-${htt}`,I7,[Stt,Dtt]),qtt(`${vtt}-${dtt}`,R7,[Stt,Dtt]),qtt(ytt,L7,[Ett,ytt]),qtt(btt,z7,Ett),qtt(wtt,U7,Ett),qtt(Att,Itt,[Ctt,Ett]),qtt(xtt,V7,Ctt),qtt(ktt,Ott,Ctt),qtt(_tt,Ntt,Ctt);function Htt(t,e,n){return Ax(Wtt(e||"rgb",n),t)}function Wtt(t,e){const n=a[Ytt(t)];return null!=e&&n&&n.gamma?n.gamma(e):n}function Ytt(t){return"interpolate"+t.toLowerCase().split("-").map((t=>t[0].toUpperCase()+t.slice(1))).join("")}const Gtt={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},Ktt={accent:R_,category10:P_,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:I_,observable10:j_,paired:L_,pastel1:z_,pastel2:U_,set1:q_,set2:V_,set3:H_,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function Xtt(t){if(x9(t))return t;const e=t.length/6|0,n=new Array(e);for(let r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}function Jtt(t,e){for(const n in t)Qtt(n,e(t[n]))}const Ztt={};function Qtt(t,e){return t=t&&t.toLowerCase(),arguments.length>1?(Ztt[t]=e,this):Ztt[t]}Jtt(Ktt,Xtt),Jtt(Gtt,(t=>Htt(Xtt(t))));var tet=Math.random;Math.sqrt(2*Math.PI),Math.SQRT2;Math.PI;var eet=Math.PI/180,net=64,ret=2048;function iet(){var t,e,n,r,i,o,a,s=[256,256],u=cet,c=[],l=Math.random,f={};function h(t){t.width=t.height=1;var e=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=(net<<5)/e,t.height=ret/e;var n=t.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:e}}function d(t,e,n){var r,i,o,a=e.x,c=e.y,f=Math.hypot(s[0],s[1]),h=u(s),d=l()<.5?1:-1,p=-d;while(r=h(p+=d)){if(i=~~r[0],o=~~r[1],Math.min(Math.abs(i),Math.abs(o))>=f)break;if(e.x=a+i,e.y=c+o,!(e.x+e.x0<0||e.y+e.y0<0||e.x+e.x1>s[0]||e.y+e.y1>s[1])&&(!n||!aet(e,t,s[0]))&&(!n||uet(e,n))){for(var g,m=e.sprite,v=e.width>>5,y=s[0]>>5,b=e.x-(v<<4),w=127&b,x=32-w,_=e.y1-e.y0,k=(e.y+e.y0)*y+(b>>5),A=0;A<_;A++){g=0;for(var S=0;S<=v;S++)t[k+S]|=g<<x|(S<v?(g=m[A*v+S])>>>w:0);k+=y}return e.sprite=null,!0}}return!1}return f.layout=function(){var u=h(Wg()),f=het((s[0]>>5)*s[1]),p=null,g=c.length,m=-1,v=[],y=c.map((s=>({text:t(s),font:e(s),style:r(s),weight:i(s),rotate:o(s),size:~~(n(s)+1e-14),padding:a(s),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:s}))).sort(((t,e)=>e.size-t.size));while(++m<g){var b=y[m];b.x=s[0]*(l()+.5)>>1,b.y=s[1]*(l()+.5)>>1,oet(u,b,y,m),b.hasText&&d(f,b,p)&&(v.push(b),p?set(p,b):p=[{x:b.x+b.x0,y:b.y+b.y0},{x:b.x+b.x1,y:b.y+b.y1}],b.x-=s[0]>>1,b.y-=s[1]>>1)}return v},f.words=function(t){return arguments.length?(c=t,f):c},f.size=function(t){return arguments.length?(s=[+t[0],+t[1]],f):s},f.font=function(t){return arguments.length?(e=det(t),f):e},f.fontStyle=function(t){return arguments.length?(r=det(t),f):r},f.fontWeight=function(t){return arguments.length?(i=det(t),f):i},f.rotate=function(t){return arguments.length?(o=det(t),f):o},f.text=function(e){return arguments.length?(t=det(e),f):t},f.spiral=function(t){return arguments.length?(u=pet[t]||t,f):u},f.fontSize=function(t){return arguments.length?(n=det(t),f):n},f.padding=function(t){return arguments.length?(a=det(t),f):a},f.random=function(t){return arguments.length?(l=t,f):l},f}function oet(t,e,n,r){if(!e.sprite){var i=t.context,o=t.ratio;i.clearRect(0,0,(net<<5)/o,ret/o);var a,s,u,c,l,f=0,h=0,d=0,p=n.length;--r;while(++r<p){if(e=n[r],i.save(),i.font=e.style+" "+e.weight+" "+~~((e.size+1)/o)+"px "+e.font,a=i.measureText(e.text+"m").width*o,u=e.size<<1,e.rotate){var g=Math.sin(e.rotate*eet),m=Math.cos(e.rotate*eet),v=a*m,y=a*g,b=u*m,w=u*g;a=Math.max(Math.abs(v+w),Math.abs(v-w))+31>>5<<5,u=~~Math.max(Math.abs(y+b),Math.abs(y-b))}else a=a+31>>5<<5;if(u>d&&(d=u),f+a>=net<<5&&(f=0,h+=d,d=0),h+u>=ret)break;i.translate((f+(a>>1))/o,(h+(u>>1))/o),e.rotate&&i.rotate(e.rotate*eet),i.fillText(e.text,0,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,0,0)),i.restore(),e.width=a,e.height=u,e.xoff=f,e.yoff=h,e.x1=a>>1,e.y1=u>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,f+=a}var x=i.getImageData(0,0,(net<<5)/o,ret/o).data,_=[];while(--r>=0)if(e=n[r],e.hasText){for(a=e.width,s=a>>5,u=e.y1-e.y0,c=0;c<u*s;c++)_[c]=0;if(f=e.xoff,null==f)return;h=e.yoff;var k=0,A=-1;for(l=0;l<u;l++){for(c=0;c<a;c++){var S=s*l+(c>>5),C=x[(h+l)*(net<<5)+(f+c)<<2]?1<<31-c%32:0;_[S]|=C,k|=C}k?A=l:(e.y0++,u--,l--,h++)}e.y1=e.y0+A,e.sprite=_.slice(0,(e.y1-e.y0)*s)}}}function aet(t,e,n){n>>=5;for(var r,i=t.sprite,o=t.width>>5,a=t.x-(o<<4),s=127&a,u=32-s,c=t.y1-t.y0,l=(t.y+t.y0)*n+(a>>5),f=0;f<c;f++){r=0;for(var h=0;h<=o;h++)if((r<<u|(h<o?(r=i[f*o+h])>>>s:0))&e[l+h])return!0;l+=n}return!1}function set(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function uet(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function cet(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function fet(t){var e=4,n=e*t[0]/t[1],r=0,i=0;return function(t){var o=t<0?-1:1;switch(Math.sqrt(1+4*o*t)-o&3){case 0:r+=n;break;case 1:i+=e;break;case 2:r-=n;break;default:i-=e;break}return[r,i]}}function het(t){var e=[],n=-1;while(++n<t)e[n]=0;return e}function det(t){return"function"===typeof t?t:function(){return t}}var pet={archimedean:cet,rectangular:fet};const get=["x","y","font","fontSize","fontStyle","fontWeight","angle"],met=["text","font","rotate","fontSize","fontStyle","fontWeight"];function vet(t){gu.call(this,iet(),t)}function yet(t,e){return Array.from(e,(e=>t[e]))}vet.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:get}]},M9(vet,gu,{transform(t,e){function n(n){const r=t[n];return S9(r)&&e.modified(r.fields)}!t.size||t.size[0]&&t.size[1]||y9("Wordcloud size dimensions must be non-zero.");const r=t.modified();if(!(r||e.changed(e.ADD_REM)||met.some(n)))return;const i=e.materialize(e.SOURCE).source,o=this.value,a=t.as||get;let s,u=t.fontSize||14;if(S9(u)?s=t.fontSizeRange:u=C9(u),s){const t=u,e=qtt("sqrt")().domain(D9(i,t)).range(s);u=n=>e(t(n))}i.forEach((t=>{t[a[0]]=NaN,t[a[1]]=NaN,t[a[3]]=0}));const c=o.words(i).text(t.text).size(t.size||[500,500]).padding(t.padding||1).spiral(t.spiral||"archimedean").rotate(t.rotate||0).font(t.font||"sans-serif").fontStyle(t.fontStyle||"normal").fontWeight(t.fontWeight||"normal").fontSize(u).random(tet).layout(),l=o.size(),f=l[0]>>1,h=l[1]>>1,d=c.length;for(let p,g,m=0;m<d;++m)p=c[m],g=p.datum,g[a[0]]=p.x+f,g[a[1]]=p.y+h,g[a[2]]=p.font,g[a[3]]=p.size,g[a[4]]=p.style,g[a[5]]=p.weight,g[a[6]]=p.rotate;return e.reflow(r).modifies(a)}});const bet=t=>new Uint8Array(t),wet=t=>new Uint16Array(t),xet=t=>new Uint32Array(t);function _et(){let t=8,e=[],n=xet(0),r=Aet(0,t),i=Aet(0,t);return{data:()=>e,seen:()=>n=ket(n,e.length),add(t){for(let n,r=0,i=e.length,o=t.length;r<o;++r)n=t[r],n._index=i++,e.push(n)},remove(t,n){const o=e.length,a=Array(o-t),s=e;let u,c,l;for(c=0;!n[c]&&c<o;++c)a[c]=e[c],s[c]=c;for(l=c;c<o;++c)u=e[c],n[c]?s[c]=-1:(s[c]=l,r[l]=r[c],i[l]=i[c],a[l]=u,u._index=l++),r[c]=0;return e=a,s},size:()=>e.length,curr:()=>r,prev:()=>i,reset:t=>i[t]=r[t],all:()=>t<257?255:t<65537?65535:4294967295,set(t,e){r[t]|=e},clear(t,e){r[t]&=~e},resize(e,n){const o=r.length;(e>o||n>t)&&(t=Math.max(n,t),r=Aet(e,t,r),i=Aet(e,t))}}}function ket(t,e,n){return t.length>=e?t:(n=n||new t.constructor(e),n.set(t),n)}function Aet(t,e,n){const r=(e<257?bet:e<65537?wet:xet)(t);return n&&r.set(n),r}function Cet(t,e,n){const r=1<<e;return{one:r,zero:~r,range:n.slice(),bisect:t.bisect,index:t.index,size:t.size,onAdd(t,e){const n=this,i=n.bisect(n.range,t.value),o=t.index,a=i[0],s=i[1],u=o.length;let c;for(c=0;c<a;++c)e[o[c]]|=r;for(c=s;c<u;++c)e[o[c]]|=r;return n}}}function Eet(){let t=xet(0),e=[],n=0;function r(r,i,o){if(!i.length)return[];const a=n,s=i.length,u=xet(s);let c,l,f,h=Array(s);for(f=0;f<s;++f)h[f]=r(i[f]),u[f]=f;if(h=Det(h,u),a)c=e,l=t,e=Array(a+s),t=xet(a+s),Met(o,c,l,a,h,u,s,e,t);else{if(o>0)for(f=0;f<s;++f)u[f]+=o;e=h,t=u}return n=a+s,{index:u,value:h}}function i(r,i){const o=n;let a,s,u;for(s=0;!i[t[s]]&&s<o;++s);for(u=s;s<o;++s)i[a=t[s]]||(t[u]=a,e[u]=e[s],++u);n=o-r}function o(e){for(let r=0,i=n;r<i;++r)t[r]=e[t[r]]}function a(t,r){let i;return r?i=r.length:(r=e,i=n),[nO(r,t[0],0,i),eO(r,t[1],0,i)]}return{insert:r,remove:i,bisect:a,reindex:o,index:()=>t,size:()=>n}}function Det(t,e){return t.sort.call(e,((e,n)=>{const r=t[e],i=t[n];return r<i?-1:r>i?1:0})),yet(t,e)}function Met(t,e,n,r,i,o,a,s,u){let c,l=0,f=0;for(c=0;l<r&&f<a;++c)e[l]<i[f]?(s[c]=e[l],u[c]=n[l++]):(s[c]=i[f],u[c]=o[f++]+t);for(;l<r;++l,++c)s[c]=e[l],u[c]=n[l];for(;f<a;++f,++c)s[c]=i[f],u[c]=o[f]+t}function Tet(t){gu.call(this,_et(),t),this._indices=null,this._dims=null}function Fet(t){gu.call(this,null,t)}function Oet(t,e,n){return t.fields=e||[],t.fname=n,t}function $et(t){return 1===t.length?Net(t[0]):Bet(t)}Tet.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]},ge(Tet,gu,{transform(t,e){if(this._dims){var n=t.modified("fields")||t.fields.some((t=>e.modified(t.fields)));return n?this.reinit(t,e):this.eval(t,e)}return this.init(t,e)},init(t,e){const n=t.fields,r=t.query,i=this._indices={},o=this._dims=[],a=r.length;let s,u,c=0;for(;c<a;++c)s=n[c].fname,u=i[s]||(i[s]=Eet()),o.push(Cet(u,c,r[c]));return this.eval(t,e)},reinit(t,e){const n=e.materialize().fork(),r=t.fields,i=t.query,o=this._indices,a=this._dims,s=this.value,u=s.curr(),c=s.prev(),l=s.all(),f=n.rem=n.add,h=n.mod,d=i.length,p={};let g,m,v,y,b,w,x,_,k;if(c.set(u),e.rem.length&&(b=this.remove(t,e,n)),e.add.length&&s.add(e.add),e.mod.length)for(w={},y=e.mod,x=0,_=y.length;x<_;++x)w[y[x]._index]=1;for(x=0;x<d;++x)k=r[x],(!a[x]||t.modified("fields",x)||e.modified(k.fields))&&(v=k.fname,(g=p[v])||(o[v]=m=Eet(),p[v]=g=m.insert(k,e.source,0)),a[x]=Cet(m,x,i[x]).onAdd(g,u));for(x=0,_=s.data().length;x<_;++x)b[x]||(c[x]!==u[x]?f.push(x):w[x]&&u[x]!==l&&h.push(x));return s.mask=(1<<d)-1,n},eval(t,e){const n=e.materialize().fork(),r=this._dims.length;let i=0;return e.rem.length&&(this.remove(t,e,n),i|=(1<<r)-1),t.modified("query")&&!t.modified("fields")&&(i|=this.update(t,e,n)),e.add.length&&(this.insert(t,e,n),i|=(1<<r)-1),e.mod.length&&(this.modify(e,n),i|=(1<<r)-1),this.value.mask=i,n},insert(t,e,n){const r=e.add,i=this.value,o=this._dims,a=this._indices,s=t.fields,u={},c=n.add,l=i.size()+r.length,f=o.length;let h,d,p,g=i.size();i.resize(l,f),i.add(r);const m=i.curr(),v=i.prev(),y=i.all();for(h=0;h<f;++h)d=s[h].fname,p=u[d]||(u[d]=a[d].insert(s[h],r,g)),o[h].onAdd(p,m);for(;g<l;++g)v[g]=y,m[g]!==y&&c.push(g)},modify(t,e){const n=e.mod,r=this.value,i=r.curr(),o=r.all(),a=t.mod;let s,u,c;for(s=0,u=a.length;s<u;++s)c=a[s]._index,i[c]!==o&&n.push(c)},remove(t,e,n){const r=this._indices,i=this.value,o=i.curr(),a=i.prev(),s=i.all(),u={},c=n.rem,l=e.rem;let f,h,d,p;for(f=0,h=l.length;f<h;++f)d=l[f]._index,u[d]=1,a[d]=p=o[d],o[d]=s,p!==s&&c.push(d);for(d in r)r[d].remove(h,u);return this.reindex(e,h,u),u},reindex(t,e,n){const r=this._indices,i=this.value;t.runAfter((()=>{const t=i.remove(e,n);for(const e in r)r[e].reindex(t)}))},update(t,e,n){const r=this._dims,i=t.query,o=e.stamp,a=r.length;let s,u,c=0;for(n.filters=0,u=0;u<a;++u)t.modified("query",u)&&(s=u,++c);if(1===c)c=r[s].one,this.incrementOne(r[s],i[s],n.add,n.rem);else for(u=0,c=0;u<a;++u)t.modified("query",u)&&(c|=r[u].one,this.incrementAll(r[u],i[u],o,n.add),n.rem=n.add);return c},incrementAll(t,e,n,r){const i=this.value,o=i.seen(),a=i.curr(),s=i.prev(),u=t.index(),c=t.bisect(t.range),l=t.bisect(e),f=l[0],h=l[1],d=c[0],p=c[1],g=t.one;let m,v,y;if(f<d)for(m=f,v=Math.min(d,h);m<v;++m)y=u[m],o[y]!==n&&(s[y]=a[y],o[y]=n,r.push(y)),a[y]^=g;else if(f>d)for(m=d,v=Math.min(f,p);m<v;++m)y=u[m],o[y]!==n&&(s[y]=a[y],o[y]=n,r.push(y)),a[y]^=g;if(h>p)for(m=Math.max(f,p),v=h;m<v;++m)y=u[m],o[y]!==n&&(s[y]=a[y],o[y]=n,r.push(y)),a[y]^=g;else if(h<p)for(m=Math.max(d,h),v=p;m<v;++m)y=u[m],o[y]!==n&&(s[y]=a[y],o[y]=n,r.push(y)),a[y]^=g;t.range=e.slice()},incrementOne(t,e,n,r){const i=this.value,o=i.curr(),a=t.index(),s=t.bisect(t.range),u=t.bisect(e),c=u[0],l=u[1],f=s[0],h=s[1],d=t.one;let p,g,m;if(c<f)for(p=c,g=Math.min(f,l);p<g;++p)m=a[p],o[m]^=d,n.push(m);else if(c>f)for(p=f,g=Math.min(c,h);p<g;++p)m=a[p],o[m]^=d,r.push(m);if(l>h)for(p=Math.max(c,h),g=l;p<g;++p)m=a[p],o[m]^=d,n.push(m);else if(l<h)for(p=Math.max(f,l),g=h;p<g;++p)m=a[p],o[m]^=d,r.push(m);t.range=e.slice()}}),Fet.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},ge(Fet,gu,{transform(t,e){const n=~(t.ignore||0),r=t.filter,i=r.mask;if(0===(i&n))return e.StopPropagation;const o=e.fork(e.ALL),a=r.data(),s=r.curr(),u=r.prev(),c=t=>s[t]&n?null:a[t];return o.filter(o.MOD,c),i&i-1?(o.filter(o.ADD,(t=>{const e=s[t]&n,r=!e&&e^u[t]&n;return r?a[t]:null})),o.filter(o.REM,(t=>{const e=s[t]&n,r=e&&!(0^u[t]&n);return r?a[t]:null}))):(o.filter(o.ADD,c),o.filter(o.REM,(t=>(s[t]&n)===i?a[t]:null))),o.filter(o.SOURCE,(t=>c(t._index)))}});const Net=t=>function(e){return e[t]},Bet=t=>{const e=t.length;return function(n){for(let r=0;r<e;++r)n=n[t[r]];return n}};function Ret(t){throw Error(t)}function Pet(t){const e=[],n=t.length;let r,i,o,a=null,s=0,u="";function c(){e.push(u+t.substring(r,i)),u="",r=i+1}for(t+="",r=i=0;i<n;++i)if(o=t[i],"\\"===o)u+=t.substring(r,i++),r=i;else if(o===a)c(),a=null,s=-1;else{if(a)continue;r===s&&'"'===o||r===s&&"'"===o?(r=i+1,a=o):"."!==o||s?"["===o?(i>r&&c(),s=r=i+1):"]"===o&&(s||Ret("Access path missing open bracket: "+t),s>0&&c(),s=0,r=i+1):i>r?c():r=i+1}return s&&Ret("Access path missing closing bracket: "+t),a&&Ret("Access path missing closing quote: "+t),i>r&&(i++,c()),e}function Iet(t,e,n){const r=Pet(t);return t=1===r.length?r[0]:t,Oet((n&&n.get||$et)(r),[t],e||t)}Iet("id");const jet=Oet((t=>t),[],"identity"),Let=(Oet((()=>0),[],"zero"),Oet((()=>1),[],"one"),Oet((()=>!0),[],"true"));Oet((()=>!1),[],"false");var zet=Array.isArray;function Uet(t){return t===Object(t)}function qet(t){return t[t.length-1]}function Vet(t){return null==t||""===t?null:+t}const Het=t=>e=>t*Math.exp(e),Wet=t=>e=>Math.log(t*e),Yet=t=>e=>Math.sign(e)*Math.log1p(Math.abs(e/t)),Get=t=>e=>Math.sign(e)*Math.expm1(Math.abs(e))*t,Ket=t=>e=>e<0?-Math.pow(-e,t):Math.pow(e,t);function Xet(t,e,n,r){const i=n(t[0]),o=n(qet(t)),a=(o-i)*e;return[r(i-a),r(o-a)]}function Jet(t,e){return Xet(t,e,Vet,jet)}function Zet(t,e){var n=Math.sign(t[0]);return Xet(t,e,Wet(n),Het(n))}function Qet(t,e,n){return Xet(t,e,Ket(n),Ket(1/n))}function tnt(t,e,n){return Xet(t,e,Yet(n),Get(n))}function ent(t,e,n,r,i){const o=r(t[0]),a=r(qet(t)),s=null!=e?r(e):(o+a)/2;return[i(s+(o-s)*n),i(s+(a-s)*n)]}function nnt(t,e,n){return ent(t,e,n,Vet,jet)}function rnt(t,e,n){const r=Math.sign(t[0]);return ent(t,e,n,Wet(r),Het(r))}function int(t,e,n,r){return ent(t,e,n,Ket(r),Ket(1/r))}function ont(t,e,n,r){return ent(t,e,n,Yet(r),Get(r))}function ant(t){return 1+~~(new Date(t).getMonth()/3)}function snt(t){return 1+~~(new Date(t).getUTCMonth()/3)}function unt(t){return null!=t?zet(t)?t:[t]:[]}function cnt(t,e,n){let r,i=t[0],o=t[1];return o<i&&(r=o,o=i,i=r),r=o-i,r>=n-e?[e,n]:[i=Math.min(Math.max(i,e),n-r),i+r]}function lnt(t){return"function"===typeof t}function fnt(t){for(let e,n,r=1,i=arguments.length;r<i;++r)for(n in e=arguments[r],e)t[n]=e[n];return t}function hnt(t,e){let n,r,i,o,a=0;if(t&&(n=t.length))if(null==e){for(r=t[a];a<n&&(null==r||r!==r);r=t[++a]);for(i=o=r;a<n;++a)r=t[a],null!=r&&(r<i&&(i=r),r>o&&(o=r))}else{for(r=e(t[a]);a<n&&(null==r||r!==r);r=e(t[++a]));for(i=o=r;a<n;++a)r=e(t[a]),null!=r&&(r<i&&(i=r),r>o&&(o=r))}return[i,o]}const dnt=Object.prototype.hasOwnProperty;function pnt(t,e){return dnt.call(t,e)}function gnt(t,e,n,r,i,o){if(!n&&0!==n)return o;const a=+n;let s,u=t[0],c=qet(t);c<u&&(s=u,u=c,c=s),s=Math.abs(e-u);const l=Math.abs(c-e);return s<l&&s<=a?r:l<=a?i:o}function mnt(t,e,n,r){let i,o=e[0],a=e[e.length-1];return o>a&&(i=o,o=a,a=i),n=void 0===n||n,r=void 0===r||r,(n?o<=t:o<t)&&(r?t<=a:t<a)}function vnt(t){return"boolean"===typeof t}function ynt(t){return"[object Date]"===Object.prototype.toString.call(t)}function bnt(t){return"number"===typeof t}function wnt(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function xnt(t){return"string"===typeof t}function _nt(t,e){const n=t[0],r=qet(t),i=+e;return i?1===i?r:n+i*(r-n):n}function knt(t,e){let n="";while(--e>=0)n+=t;return n}function Ant(t,e,n,r){const i=n||" ",o=t+"",a=e-o.length;return a<=0?o:"left"===r?knt(i,a)+o:"center"===r?knt(i,~~(a/2))+o+knt(i,Math.ceil(a/2)):o+knt(i,a)}function Snt(t){return t&&qet(t)-t[0]||0}function Cnt(t){return zet(t)?"["+t.map(Cnt)+"]":Uet(t)||xnt(t)?JSON.stringify(t).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):t}function Ent(t){return null==t||""===t?null:!(!t||"false"===t||"0"===t)&&!!t}const Dnt=t=>bnt(t)||ynt(t)?t:Date.parse(t);function Mnt(t,e){return e=e||Dnt,null==t||""===t?null:e(t)}function Tnt(t){return null==t||""===t?null:t+""}function Fnt(t){const e={},n=t.length;for(let r=0;r<n;++r)e[t[r]]=!0;return e}function Ont(t,e,n,r){const i=null!=r?r:"",o=t+"",a=o.length,s=Math.max(0,e-i.length);return a<=e?o:"left"===n?i+o.slice(a-s):"center"===n?o.slice(0,Math.ceil(s/2))+i+o.slice(a-~~(s/2)):o.slice(0,s)+i}const $nt="RawCode",Nnt="Literal",Bnt="Property",Rnt="Identifier",Pnt="ArrayExpression",Int="BinaryExpression",jnt="CallExpression",Lnt="ConditionalExpression",znt="LogicalExpression",Unt="MemberExpression",qnt="ObjectExpression",Vnt="UnaryExpression";function Hnt(t){this.type=t}function Wnt(t){switch(t.type){case Pnt:return t.elements;case Int:case znt:return[t.left,t.right];case jnt:return[t.callee].concat(t.arguments);case Lnt:return[t.test,t.consequent,t.alternate];case Unt:return[t.object,t.property];case qnt:return t.properties;case Bnt:return[t.key,t.value];case Vnt:return[t.argument];case Rnt:case Nnt:case $nt:default:return[]}}var Ynt,Gnt,Knt,Xnt,Jnt;Hnt.prototype.visit=function(t){let e,n,r;if(t(this))return 1;for(e=Wnt(this),n=0,r=e.length;n<r;++n)if(e[n].visit(t))return 1};var Znt=1,Qnt=2,trt=3,ert=4,nrt=5,rrt=6,irt=7,ort=8,art=9;Ynt={},Ynt[Znt]="Boolean",Ynt[Qnt]="<end>",Ynt[trt]="Identifier",Ynt[ert]="Keyword",Ynt[nrt]="Null",Ynt[rrt]="Numeric",Ynt[irt]="Punctuator",Ynt[ort]="String",Ynt[art]="RegularExpression";var srt="ArrayExpression",urt="BinaryExpression",crt="CallExpression",lrt="ConditionalExpression",frt="Identifier",hrt="Literal",drt="LogicalExpression",prt="MemberExpression",grt="ObjectExpression",mrt="Property",vrt="UnaryExpression",yrt="Unexpected token %0",brt="Unexpected number",wrt="Unexpected string",xrt="Unexpected identifier",_rt="Unexpected reserved word",krt="Unexpected end of input",Art="Invalid regular expression",Srt="Invalid regular expression: missing /",Crt="Octal literals are not allowed in strict mode.",Ert="Duplicate data property in object literal not allowed in strict mode",Drt="ILLEGAL",Mrt="Disabled.",Trt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),Frt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function Ort(t,e){if(!t)throw new Error("ASSERT: "+e)}function $rt(t){return t>=48&&t<=57}function Nrt(t){return"0123456789abcdefABCDEF".includes(t)}function Brt(t){return"01234567".includes(t)}function Rrt(t){return 32===t||9===t||11===t||12===t||160===t||t>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(t)}function Prt(t){return 10===t||13===t||8232===t||8233===t}function Irt(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||92===t||t>=128&&Trt.test(String.fromCharCode(t))}function jrt(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||92===t||t>=128&&Frt.test(String.fromCharCode(t))}const Lrt={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function zrt(){while(Knt<Xnt){const t=Gnt.charCodeAt(Knt);if(!Rrt(t)&&!Prt(t))break;++Knt}}function Urt(t){var e,n,r,i=0;for(n="u"===t?4:2,e=0;e<n;++e)Knt<Xnt&&Nrt(Gnt[Knt])?(r=Gnt[Knt++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())):mit({},yrt,Drt);return String.fromCharCode(i)}function qrt(){var t,e,n,r;t=Gnt[Knt],e=0,"}"===t&&mit({},yrt,Drt);while(Knt<Xnt){if(t=Gnt[Knt++],!Nrt(t))break;e=16*e+"0123456789abcdef".indexOf(t.toLowerCase())}return(e>1114111||"}"!==t)&&mit({},yrt,Drt),e<=65535?String.fromCharCode(e):(n=55296+(e-65536>>10),r=56320+(e-65536&1023),String.fromCharCode(n,r))}function Vrt(){var t,e;t=Gnt.charCodeAt(Knt++),e=String.fromCharCode(t),92===t&&(117!==Gnt.charCodeAt(Knt)&&mit({},yrt,Drt),++Knt,t=Urt("u"),t&&"\\"!==t&&Irt(t.charCodeAt(0))||mit({},yrt,Drt),e=t);while(Knt<Xnt){if(t=Gnt.charCodeAt(Knt),!jrt(t))break;++Knt,e+=String.fromCharCode(t),92===t&&(e=e.substr(0,e.length-1),117!==Gnt.charCodeAt(Knt)&&mit({},yrt,Drt),++Knt,t=Urt("u"),t&&"\\"!==t&&jrt(t.charCodeAt(0))||mit({},yrt,Drt),e+=t)}return e}function Hrt(){var t,e;t=Knt++;while(Knt<Xnt){if(e=Gnt.charCodeAt(Knt),92===e)return Knt=t,Vrt();if(!jrt(e))break;++Knt}return Gnt.slice(t,Knt)}function Wrt(){var t,e,n;return t=Knt,e=92===Gnt.charCodeAt(Knt)?Vrt():Hrt(),n=1===e.length?trt:Lrt.hasOwnProperty(e)?ert:"null"===e?nrt:"true"===e||"false"===e?Znt:trt,{type:n,value:e,start:t,end:Knt}}function Yrt(){var t,e,n,r,i=Knt,o=Gnt.charCodeAt(Knt),a=Gnt[Knt];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Knt,{type:irt,value:String.fromCharCode(o),start:i,end:Knt};default:if(t=Gnt.charCodeAt(Knt+1),61===t)switch(o){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Knt+=2,{type:irt,value:String.fromCharCode(o)+String.fromCharCode(t),start:i,end:Knt};case 33:case 61:return Knt+=2,61===Gnt.charCodeAt(Knt)&&++Knt,{type:irt,value:Gnt.slice(i,Knt),start:i,end:Knt}}}return r=Gnt.substr(Knt,4),">>>="===r?(Knt+=4,{type:irt,value:r,start:i,end:Knt}):(n=r.substr(0,3),">>>"===n||"<<="===n||">>="===n?(Knt+=3,{type:irt,value:n,start:i,end:Knt}):(e=n.substr(0,2),a===e[1]&&"+-<>&|".includes(a)||"=>"===e?(Knt+=2,{type:irt,value:e,start:i,end:Knt}):("//"===e&&mit({},yrt,Drt),"<>=!+-*%&|^/".includes(a)?(++Knt,{type:irt,value:a,start:i,end:Knt}):void mit({},yrt,Drt))))}function Grt(t){let e="";while(Knt<Xnt){if(!Nrt(Gnt[Knt]))break;e+=Gnt[Knt++]}return 0===e.length&&mit({},yrt,Drt),Irt(Gnt.charCodeAt(Knt))&&mit({},yrt,Drt),{type:rrt,value:parseInt("0x"+e,16),start:t,end:Knt}}function Krt(t){let e="0"+Gnt[Knt++];while(Knt<Xnt){if(!Brt(Gnt[Knt]))break;e+=Gnt[Knt++]}return(Irt(Gnt.charCodeAt(Knt))||$rt(Gnt.charCodeAt(Knt)))&&mit({},yrt,Drt),{type:rrt,value:parseInt(e,8),octal:!0,start:t,end:Knt}}function Xrt(){var t,e,n;if(n=Gnt[Knt],Ort($rt(n.charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),e=Knt,t="","."!==n){if(t=Gnt[Knt++],n=Gnt[Knt],"0"===t){if("x"===n||"X"===n)return++Knt,Grt(e);if(Brt(n))return Krt(e);n&&$rt(n.charCodeAt(0))&&mit({},yrt,Drt)}while($rt(Gnt.charCodeAt(Knt)))t+=Gnt[Knt++];n=Gnt[Knt]}if("."===n){t+=Gnt[Knt++];while($rt(Gnt.charCodeAt(Knt)))t+=Gnt[Knt++];n=Gnt[Knt]}if("e"===n||"E"===n)if(t+=Gnt[Knt++],n=Gnt[Knt],"+"!==n&&"-"!==n||(t+=Gnt[Knt++]),$rt(Gnt.charCodeAt(Knt)))while($rt(Gnt.charCodeAt(Knt)))t+=Gnt[Knt++];else mit({},yrt,Drt);return Irt(Gnt.charCodeAt(Knt))&&mit({},yrt,Drt),{type:rrt,value:parseFloat(t),start:e,end:Knt}}function Jrt(){var t,e,n,r,i="",o=!1;t=Gnt[Knt],Ort("'"===t||'"'===t,"String literal must starts with a quote"),e=Knt,++Knt;while(Knt<Xnt){if(n=Gnt[Knt++],n===t){t="";break}if("\\"===n)if(n=Gnt[Knt++],n&&Prt(n.charCodeAt(0)))"\r"===n&&"\n"===Gnt[Knt]&&++Knt;else switch(n){case"u":case"x":"{"===Gnt[Knt]?(++Knt,i+=qrt()):i+=Urt(n);break;case"n":i+="\n";break;case"r":i+="\r";break;case"t":i+="\t";break;case"b":i+="\b";break;case"f":i+="\f";break;case"v":i+="\v";break;default:Brt(n)?(r="01234567".indexOf(n),0!==r&&(o=!0),Knt<Xnt&&Brt(Gnt[Knt])&&(o=!0,r=8*r+"01234567".indexOf(Gnt[Knt++]),"0123".includes(n)&&Knt<Xnt&&Brt(Gnt[Knt])&&(r=8*r+"01234567".indexOf(Gnt[Knt++]))),i+=String.fromCharCode(r)):i+=n;break}else{if(Prt(n.charCodeAt(0)))break;i+=n}}return""!==t&&mit({},yrt,Drt),{type:ort,value:i,octal:o,start:e,end:Knt}}function Zrt(t,e){let n=t;e.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,((t,e)=>{if(parseInt(e,16)<=1114111)return"x";mit({},Art)})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(Tqt){mit({},Art)}try{return new RegExp(t,e)}catch(r){return null}}function Qrt(){var t,e,n,r,i;t=Gnt[Knt],Ort("/"===t,"Regular expression literal must start with a slash"),e=Gnt[Knt++],n=!1,r=!1;while(Knt<Xnt)if(t=Gnt[Knt++],e+=t,"\\"===t)t=Gnt[Knt++],Prt(t.charCodeAt(0))&&mit({},Srt),e+=t;else if(Prt(t.charCodeAt(0)))mit({},Srt);else if(n)"]"===t&&(n=!1);else{if("/"===t){r=!0;break}"["===t&&(n=!0)}return r||mit({},Srt),i=e.substr(1,e.length-2),{value:i,literal:e}}function tit(){var t,e,n;e="",n="";while(Knt<Xnt){if(t=Gnt[Knt],!jrt(t.charCodeAt(0)))break;++Knt,"\\"===t&&Knt<Xnt?mit({},yrt,Drt):(n+=t,e+=t)}return n.search(/[^gimuy]/g)>=0&&mit({},Art,n),{value:n,literal:e}}function eit(){var t,e,n,r;return Jnt=null,zrt(),t=Knt,e=Qrt(),n=tit(),r=Zrt(e.value,n.value),{literal:e.literal+n.literal,value:r,regex:{pattern:e.value,flags:n.value},start:t,end:Knt}}function nit(t){return t.type===trt||t.type===ert||t.type===Znt||t.type===nrt}function rit(){if(zrt(),Knt>=Xnt)return{type:Qnt,start:Knt,end:Knt};const t=Gnt.charCodeAt(Knt);return Irt(t)?Wrt():40===t||41===t||59===t?Yrt():39===t||34===t?Jrt():46===t?$rt(Gnt.charCodeAt(Knt+1))?Xrt():Yrt():$rt(t)?Xrt():Yrt()}function iit(){const t=Jnt;return Knt=t.end,Jnt=rit(),Knt=t.end,t}function oit(){const t=Knt;Jnt=rit(),Knt=t}function ait(t){const e=new Hnt(srt);return e.elements=t,e}function sit(t,e,n){const r=new Hnt("||"===t||"&&"===t?drt:urt);return r.operator=t,r.left=e,r.right=n,r}function uit(t,e){const n=new Hnt(crt);return n.callee=t,n.arguments=e,n}function cit(t,e,n){const r=new Hnt(lrt);return r.test=t,r.consequent=e,r.alternate=n,r}function lit(t){const e=new Hnt(frt);return e.name=t,e}function fit(t){const e=new Hnt(hrt);return e.value=t.value,e.raw=Gnt.slice(t.start,t.end),t.regex&&("//"===e.raw&&(e.raw="/(?:)/"),e.regex=t.regex),e}function hit(t,e,n){const r=new Hnt(prt);return r.computed="["===t,r.object=e,r.property=n,r.computed||(n.member=!0),r}function dit(t){const e=new Hnt(grt);return e.properties=t,e}function pit(t,e,n){const r=new Hnt(mrt);return r.key=e,r.value=n,r.kind=t,r}function git(t,e){const n=new Hnt(vrt);return n.operator=t,n.argument=e,n.prefix=!0,n}function mit(t,e){var n,r=Array.prototype.slice.call(arguments,2),i=e.replace(/%(\d)/g,((t,e)=>(Ort(e<r.length,"Message reference must be in range"),r[e])));throw n=new Error(i),n.index=Knt,n.description=i,n}function vit(t){t.type===Qnt&&mit(t,krt),t.type===rrt&&mit(t,brt),t.type===ort&&mit(t,wrt),t.type===trt&&mit(t,xrt),t.type===ert&&mit(t,_rt),mit(t,yrt,t.value)}function yit(t){const e=iit();e.type===irt&&e.value===t||vit(e)}function bit(t){return Jnt.type===irt&&Jnt.value===t}function wit(t){return Jnt.type===ert&&Jnt.value===t}function xit(){const t=[];Knt=Jnt.start,yit("[");while(!bit("]"))bit(",")?(iit(),t.push(null)):(t.push(Pit()),bit("]")||yit(","));return iit(),ait(t)}function _it(){Knt=Jnt.start;const t=iit();return t.type===ort||t.type===rrt?(t.octal&&mit(t,Crt),fit(t)):lit(t.value)}function kit(){var t,e,n,r;return Knt=Jnt.start,t=Jnt,t.type===trt?(n=_it(),yit(":"),r=Pit(),pit("init",n,r)):t.type!==Qnt&&t.type!==irt?(e=_it(),yit(":"),r=Pit(),pit("init",e,r)):void vit(t)}function Ait(){var t,e,n,r=[],i={},o=String;Knt=Jnt.start,yit("{");while(!bit("}"))t=kit(),e=t.key.type===frt?t.key.name:o(t.key.value),n="$"+e,Object.prototype.hasOwnProperty.call(i,n)?mit({},Ert):i[n]=!0,r.push(t),bit("}")||yit(",");return yit("}"),dit(r)}function Sit(){yit("(");const t=Iit();return yit(")"),t}const Cit={if:1};function Eit(){var t,e,n;if(bit("("))return Sit();if(bit("["))return xit();if(bit("{"))return Ait();if(t=Jnt.type,Knt=Jnt.start,t===trt||Cit[Jnt.value])n=lit(iit().value);else if(t===ort||t===rrt)Jnt.octal&&mit(Jnt,Crt),n=fit(iit());else{if(t===ert)throw new Error(Mrt);t===Znt?(e=iit(),e.value="true"===e.value,n=fit(e)):t===nrt?(e=iit(),e.value=null,n=fit(e)):bit("/")||bit("/=")?(n=fit(eit()),oit()):vit(iit())}return n}function Dit(){const t=[];if(yit("("),!bit(")"))while(Knt<Xnt){if(t.push(Pit()),bit(")"))break;yit(",")}return yit(")"),t}function Mit(){Knt=Jnt.start;const t=iit();return nit(t)||vit(t),lit(t.value)}function Tit(){return yit("."),Mit()}function Fit(){yit("[");const t=Iit();return yit("]"),t}function Oit(){var t,e,n;for(t=Eit();;)if(bit("."))n=Tit(),t=hit(".",t,n);else if(bit("("))e=Dit(),t=uit(t,e);else{if(!bit("["))break;n=Fit(),t=hit("[",t,n)}return t}function $it(){const t=Oit();if(Jnt.type===irt&&(bit("++")||bit("--")))throw new Error(Mrt);return t}function Nit(){var t,e;if(Jnt.type!==irt&&Jnt.type!==ert)e=$it();else{if(bit("++")||bit("--"))throw new Error(Mrt);if(bit("+")||bit("-")||bit("~")||bit("!"))t=iit(),e=Nit(),e=git(t.value,e);else{if(wit("delete")||wit("void")||wit("typeof"))throw new Error(Mrt);e=$it()}}return e}function Bit(t){let e=0;if(t.type!==irt&&t.type!==ert)return 0;switch(t.value){case"||":e=1;break;case"&&":e=2;break;case"|":e=3;break;case"^":e=4;break;case"&":e=5;break;case"==":case"!=":case"===":case"!==":e=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":e=7;break;case"<<":case">>":case">>>":e=8;break;case"+":case"-":e=9;break;case"*":case"/":case"%":e=11;break}return e}function Rit(){var t,e,n,r,i,o,a,s,u,c;if(t=Jnt,u=Nit(),r=Jnt,i=Bit(r),0===i)return u;r.prec=i,iit(),e=[t,Jnt],a=Nit(),o=[u,r,a];while((i=Bit(Jnt))>0){while(o.length>2&&i<=o[o.length-2].prec)a=o.pop(),s=o.pop().value,u=o.pop(),e.pop(),n=sit(s,u,a),o.push(n);r=iit(),r.prec=i,o.push(r),e.push(Jnt),n=Nit(),o.push(n)}c=o.length-1,n=o[c],e.pop();while(c>1)e.pop(),n=sit(o[c-1].value,o[c-2],n),c-=2;return n}function Pit(){var t,e,n;return t=Rit(),bit("?")&&(iit(),e=Pit(),yit(":"),n=Pit(),t=cit(t,e,n)),t}function Iit(){const t=Pit();if(bit(","))throw new Error(Mrt);return t}function jit(t){Gnt=t,Knt=0,Xnt=Gnt.length,Jnt=null,oit();const e=Iit();if(Jnt.type!==Qnt)throw new Error("Unexpect token after expression.");return e}var Lit={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function zit(t){function e(e,n,r,i){let o=t(n[0]);return r&&(o=r+"("+o+")",0===r.lastIndexOf("new ",0)&&(o="("+o+")")),o+"."+e+(i<0?"":0===i?"()":"("+n.slice(1).map(t).join(",")+")")}function n(t,n,r){return i=>e(t,i,n,r)}const r="new Date",i="String",o="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(e){e.length<3&&Ret("Missing arguments to clamp function."),e.length>3&&Ret("Too many arguments to clamp function.");const n=e.map(t);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),regexp:o,test:n("test",o),if:function(e){e.length<3&&Ret("Missing arguments to if function."),e.length>3&&Ret("Too many arguments to if function.");const n=e.map(t);return"("+n[0]+"?"+n[1]+":"+n[2]+")"}}}function Uit(t){const e=t&&t.length-1;return e&&('"'===t[0]&&'"'===t[e]||"'"===t[0]&&"'"===t[e])?t.slice(1,-1):t}function qit(t){t=t||{};const e=t.allowed?Fnt(t.allowed):{},n=t.forbidden?Fnt(t.forbidden):{},r=t.constants||Lit,i=(t.functions||zit)(f),o=t.globalvar,a=t.fieldvar,s=lnt(o)?o:t=>`${o}["${t}"]`;let u={},c={},l=0;function f(t){if(xnt(t))return t;const e=h[t.type];return null==e&&Ret("Unsupported type: "+t.type),e(t)}const h={Literal:t=>t.raw,Identifier:t=>{const i=t.name;return l>0?i:pnt(n,i)?Ret("Illegal identifier: "+i):pnt(r,i)?r[i]:pnt(e,i)?i:(u[i]=1,s(i))},MemberExpression:t=>{const e=!t.computed,n=f(t.object);e&&(l+=1);const r=f(t.property);return n===a&&(c[Uit(r)]=1),e&&(l-=1),n+(e?"."+r:"["+r+"]")},CallExpression:t=>{"Identifier"!==t.callee.type&&Ret("Illegal callee type: "+t.callee.type);const e=t.callee.name,n=t.arguments,r=pnt(i,e)&&i[e];return r||Ret("Unrecognized function: "+e),lnt(r)?r(n):r+"("+n.map(f).join(",")+")"},ArrayExpression:t=>"["+t.elements.map(f).join(",")+"]",BinaryExpression:t=>"("+f(t.left)+" "+t.operator+" "+f(t.right)+")",UnaryExpression:t=>"("+t.operator+f(t.argument)+")",ConditionalExpression:t=>"("+f(t.test)+"?"+f(t.consequent)+":"+f(t.alternate)+")",LogicalExpression:t=>"("+f(t.left)+t.operator+f(t.right)+")",ObjectExpression:t=>"{"+t.properties.map(f).join(",")+"}",Property:t=>{l+=1;const e=f(t.key);return l-=1,e+":"+f(t.value)}};function d(t){const e={code:f(t),globals:Object.keys(u),fields:Object.keys(c)};return u={},c={},e}return d.functions=i,d.constants=r,d}var Vit,Hit,Wit,Yit,Git,Kit,Xit,Jit,Zit,Qit,tot,eot,not,rot,iot,oot,aot=new qz,sot=new qz,uot={point:dU,lineStart:dU,lineEnd:dU,polygonStart:function(){aot=new qz,uot.lineStart=cot,uot.lineEnd=lot},polygonEnd:function(){var t=+aot;sot.add(t<0?Kz+t:t),this.lineStart=this.lineEnd=this.point=dU},sphere:function(){sot.add(Kz)}};function cot(){uot.point=fot}function lot(){hot(Vit,Hit)}function fot(t,e){uot.point=hot,Vit=t,Hit=e,t*=Jz,e*=Jz,Wit=t,Yit=eU(e=e/2+Gz),Git=sU(e)}function hot(t,e){t*=Jz,e*=Jz,e=e/2+Gz;var n=t-Wit,r=n>=0?1:-1,i=r*n,o=eU(e),a=sU(e),s=Git*a,u=Yit*o+s*eU(i),c=s*r*sU(i);aot.add(tU(c,u)),Wit=t,Yit=o,Git=a}function dot(t){return sot=new qz,Uz(t,uot),2*sot}var pot,got,mot,vot,yot,bot,wot,xot,_ot,kot,Aot,Sot,Cot,Eot,Dot,Mot,Tot={point:Fot,lineStart:$ot,lineEnd:Not,polygonStart:function(){Tot.point=Bot,Tot.lineStart=Rot,Tot.lineEnd=Pot,rot=new qz,uot.polygonStart()},polygonEnd:function(){uot.polygonEnd(),Tot.point=Fot,Tot.lineStart=$ot,Tot.lineEnd=Not,aot<0?(Kit=-(Jit=180),Xit=-(Zit=90)):rot>Vz?Zit=90:rot<-Vz&&(Xit=-90),oot[0]=Kit,oot[1]=Jit},sphere:function(){Kit=-(Jit=180),Xit=-(Zit=90)}};function Fot(t,e){iot.push(oot=[Kit=t,Jit=t]),e<Xit&&(Xit=e),e>Zit&&(Zit=e)}function Oot(t,e){var n=kq([t*Jz,e*Jz]);if(not){var r=Sq(not,n),i=[r[1],-r[0],0],o=Sq(i,r);Dq(o),o=_q(o);var a,s=t-Qit,u=s>0?1:-1,c=o[0]*Xz*u,l=Zz(s)>180;l^(u*Qit<c&&c<u*t)?(a=o[1]*Xz,a>Zit&&(Zit=a)):(c=(c+360)%360-180,l^(u*Qit<c&&c<u*t)?(a=-o[1]*Xz,a<Xit&&(Xit=a)):(e<Xit&&(Xit=e),e>Zit&&(Zit=e))),l?t<Qit?Iot(Kit,t)>Iot(Kit,Jit)&&(Jit=t):Iot(t,Jit)>Iot(Kit,Jit)&&(Kit=t):Jit>=Kit?(t<Kit&&(Kit=t),t>Jit&&(Jit=t)):t>Qit?Iot(Kit,t)>Iot(Kit,Jit)&&(Jit=t):Iot(t,Jit)>Iot(Kit,Jit)&&(Kit=t)}else iot.push(oot=[Kit=t,Jit=t]);e<Xit&&(Xit=e),e>Zit&&(Zit=e),not=n,Qit=t}function $ot(){Tot.point=Oot}function Not(){oot[0]=Kit,oot[1]=Jit,Tot.point=Fot,not=null}function Bot(t,e){if(not){var n=t-Qit;rot.add(Zz(n)>180?n+(n>0?360:-360):n)}else tot=t,eot=e;uot.point(t,e),Oot(t,e)}function Rot(){uot.lineStart()}function Pot(){Bot(tot,eot),uot.lineEnd(),Zz(rot)>Vz&&(Kit=-(Jit=180)),oot[0]=Kit,oot[1]=Jit,not=null}function Iot(t,e){return(e-=t)<0?e+360:e}function jot(t,e){return t[0]-e[0]}function Lot(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function zot(t){var e,n,r,i,o,a,s;if(Zit=Jit=-(Kit=Xit=1/0),iot=[],Uz(t,Tot),n=iot.length){for(iot.sort(jot),e=1,r=iot[0],o=[r];e<n;++e)i=iot[e],Lot(r,i[0])||Lot(r,i[1])?(Iot(r[0],i[1])>Iot(r[0],r[1])&&(r[1]=i[1]),Iot(i[0],r[1])>Iot(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,n=o.length-1,e=0,r=o[n];e<=n;r=i,++e)i=o[e],(s=Iot(r[1],i[0]))>a&&(a=s,Kit=i[0],Jit=r[1])}return iot=oot=null,Kit===1/0||Xit===1/0?[[NaN,NaN],[NaN,NaN]]:[[Kit,Xit],[Jit,Zit]]}var Uot={sphere:dU,point:qot,lineStart:Hot,lineEnd:Got,polygonStart:function(){Uot.lineStart=Kot,Uot.lineEnd=Xot},polygonEnd:function(){Uot.lineStart=Hot,Uot.lineEnd=Got}};function qot(t,e){t*=Jz,e*=Jz;var n=eU(e);Vot(n*eU(t),n*sU(t),sU(e))}function Vot(t,e,n){++pot,mot+=(t-mot)/pot,vot+=(e-vot)/pot,yot+=(n-yot)/pot}function Hot(){Uot.point=Wot}function Wot(t,e){t*=Jz,e*=Jz;var n=eU(e);Eot=n*eU(t),Dot=n*sU(t),Mot=sU(e),Uot.point=Yot,Vot(Eot,Dot,Mot)}function Yot(t,e){t*=Jz,e*=Jz;var n=eU(e),r=n*eU(t),i=n*sU(t),o=sU(e),a=tU(cU((a=Dot*o-Mot*i)*a+(a=Mot*r-Eot*o)*a+(a=Eot*i-Dot*r)*a),Eot*r+Dot*i+Mot*o);got+=a,bot+=a*(Eot+(Eot=r)),wot+=a*(Dot+(Dot=i)),xot+=a*(Mot+(Mot=o)),Vot(Eot,Dot,Mot)}function Got(){Uot.point=qot}function Kot(){Uot.point=Jot}function Xot(){Zot(Sot,Cot),Uot.point=qot}function Jot(t,e){Sot=t,Cot=e,t*=Jz,e*=Jz,Uot.point=Zot;var n=eU(e);Eot=n*eU(t),Dot=n*sU(t),Mot=sU(e),Vot(Eot,Dot,Mot)}function Zot(t,e){t*=Jz,e*=Jz;var n=eU(e),r=n*eU(t),i=n*sU(t),o=sU(e),a=Dot*o-Mot*i,s=Mot*r-Eot*o,u=Eot*i-Dot*r,c=iU(a,s,u),l=hU(c),f=c&&-l/c;_ot.add(f*a),kot.add(f*s),Aot.add(f*u),got+=l,bot+=l*(Eot+(Eot=r)),wot+=l*(Dot+(Dot=i)),xot+=l*(Mot+(Mot=o)),Vot(Eot,Dot,Mot)}function Qot(t){pot=got=mot=vot=yot=bot=wot=xot=0,_ot=new qz,kot=new qz,Aot=new qz,Uz(t,Uot);var e=+_ot,n=+kot,r=+Aot,i=iU(e,n,r);return i<Hz&&(e=bot,n=wot,r=xot,got<Vz&&(e=mot,n=vot,r=yot),i=iU(e,n,r),i<Hz)?[NaN,NaN]:[tU(n,e)*Xz,hU(r/i)*Xz]}function tat(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function eat(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function nat(){}var rat=.7,iat=1/rat,oat="\\s*([+-]?\\d+)\\s*",aat="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",sat="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",uat=/^#([0-9a-f]{3,8})$/,cat=new RegExp("^rgb\\("+[oat,oat,oat]+"\\)$"),lat=new RegExp("^rgb\\("+[sat,sat,sat]+"\\)$"),fat=new RegExp("^rgba\\("+[oat,oat,oat,aat]+"\\)$"),hat=new RegExp("^rgba\\("+[sat,sat,sat,aat]+"\\)$"),dat=new RegExp("^hsl\\("+[aat,sat,sat]+"\\)$"),pat=new RegExp("^hsla\\("+[aat,sat,sat,aat]+"\\)$"),gat={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function mat(){return this.rgb().formatHex()}function vat(){return Mat(this).formatHsl()}function yat(){return this.rgb().formatRgb()}function bat(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=uat.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?wat(e):3===n?new Aat(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?xat(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?xat(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=cat.exec(t))?new Aat(e[1],e[2],e[3],1):(e=lat.exec(t))?new Aat(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=fat.exec(t))?xat(e[1],e[2],e[3],e[4]):(e=hat.exec(t))?xat(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=dat.exec(t))?Dat(e[1],e[2]/100,e[3]/100,1):(e=pat.exec(t))?Dat(e[1],e[2]/100,e[3]/100,e[4]):gat.hasOwnProperty(t)?wat(gat[t]):"transparent"===t?new Aat(NaN,NaN,NaN,0):null}function wat(t){return new Aat(t>>16&255,t>>8&255,255&t,1)}function xat(t,e,n,r){return r<=0&&(t=e=n=NaN),new Aat(t,e,n,r)}function _at(t){return t instanceof nat||(t=bat(t)),t?(t=t.rgb(),new Aat(t.r,t.g,t.b,t.opacity)):new Aat}function kat(t,e,n,r){return 1===arguments.length?_at(t):new Aat(t,e,n,null==r?1:r)}function Aat(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Sat(){return"#"+Eat(this.r)+Eat(this.g)+Eat(this.b)}function Cat(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Eat(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function Dat(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Fat(t,e,n,r)}function Mat(t){if(t instanceof Fat)return new Fat(t.h,t.s,t.l,t.opacity);if(t instanceof nat||(t=bat(t)),!t)return new Fat;if(t instanceof Fat)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Fat(a,s,u,t.opacity)}function Tat(t,e,n,r){return 1===arguments.length?Mat(t):new Fat(t,e,n,null==r?1:r)}function Fat(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Oat(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}tat(nat,bat,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:mat,formatHex:mat,formatHsl:vat,formatRgb:yat,toString:yat}),tat(Aat,kat,eat(nat,{brighter:function(t){return t=null==t?iat:Math.pow(iat,t),new Aat(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?rat:Math.pow(rat,t),new Aat(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Sat,formatHex:Sat,formatRgb:Cat,toString:Cat})),tat(Fat,Tat,eat(nat,{brighter:function(t){return t=null==t?iat:Math.pow(iat,t),new Fat(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?rat:Math.pow(rat,t),new Fat(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Aat(Oat(t>=240?t-240:t+120,i,r),Oat(t,i,r),Oat(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const $at=Math.PI/180,Nat=180/Math.PI,Bat=18,Rat=.96422,Pat=1,Iat=.82521,jat=4/29,Lat=6/29,zat=3*Lat*Lat,Uat=Lat*Lat*Lat;function qat(t){if(t instanceof Hat)return new Hat(t.l,t.a,t.b,t.opacity);if(t instanceof Zat)return Qat(t);t instanceof Aat||(t=_at(t));var e,n,r=Kat(t.r),i=Kat(t.g),o=Kat(t.b),a=Wat((.2225045*r+.7168786*i+.0606169*o)/Pat);return r===i&&i===o?e=n=a:(e=Wat((.4360747*r+.3850649*i+.1430804*o)/Rat),n=Wat((.0139322*r+.0971045*i+.7141733*o)/Iat)),new Hat(116*a-16,500*(e-a),200*(a-n),t.opacity)}function Vat(t,e,n,r){return 1===arguments.length?qat(t):new Hat(t,e,n,null==r?1:r)}function Hat(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Wat(t){return t>Uat?Math.pow(t,1/3):t/zat+jat}function Yat(t){return t>Lat?t*t*t:zat*(t-jat)}function Gat(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Kat(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Xat(t){if(t instanceof Zat)return new Zat(t.h,t.c,t.l,t.opacity);if(t instanceof Hat||(t=qat(t)),0===t.a&&0===t.b)return new Zat(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Nat;return new Zat(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Jat(t,e,n,r){return 1===arguments.length?Xat(t):new Zat(t,e,n,null==r?1:r)}function Zat(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Qat(t){if(isNaN(t.h))return new Hat(t.l,0,0,t.opacity);var e=t.h*$at;return new Hat(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}function tst(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function est(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function nst(t){let e,n,r;function i(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<0?i=e+1:o=e}while(i<o)}return i}function o(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<=0?i=e+1:o=e}while(i<o)}return i}function a(t,e,n=0,o=t.length){const a=i(t,e,n,o-1);return a>n&&r(t[a-1],e)>-r(t[a],e)?a-1:a}return 2!==t.length?(e=tst,n=(e,n)=>tst(t(e),n),r=(e,n)=>t(e)-n):(e=t===tst||t===est?t:rst,n=t,r=t),{left:i,center:a,right:o}}function rst(){return 0}function ist(...t){const e=new Rx;for(const n of t)for(const t of n)e.add(t);return e}function ost(t,...e){t=new Rx(t),e=e.map(ast);t:for(const n of t)for(const r of e)if(!r.has(n)){t.delete(n);continue t}return t}function ast(t){return t instanceof Rx?t:new Rx(t)}function sst(t,e,n){return t.fields=e||[],t.fname=n,t}function ust(t){return 1===t.length?cst(t[0]):lst(t)}tat(Hat,Vat,eat(nat,{brighter:function(t){return new Hat(this.l+Bat*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Hat(this.l-Bat*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=Rat*Yat(e),t=Pat*Yat(t),n=Iat*Yat(n),new Aat(Gat(3.1338561*e-1.6168667*t-.4906146*n),Gat(-.9787684*e+1.9161415*t+.033454*n),Gat(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),tat(Zat,Jat,eat(nat,{brighter:function(t){return new Zat(this.h,this.c,this.l+Bat*(null==t?1:t),this.opacity)},darker:function(t){return new Zat(this.h,this.c,this.l-Bat*(null==t?1:t),this.opacity)},rgb:function(){return Qat(this).rgb()}}));const cst=t=>function(e){return e[t]},lst=t=>{const e=t.length;return function(n){for(let r=0;r<e;++r)n=n[t[r]];return n}};function fst(t){throw Error(t)}function hst(t){const e=[],n=t.length;let r,i,o,a=null,s=0,u="";function c(){e.push(u+t.substring(r,i)),u="",r=i+1}for(t+="",r=i=0;i<n;++i)if(o=t[i],"\\"===o)u+=t.substring(r,i++),r=i;else if(o===a)c(),a=null,s=-1;else{if(a)continue;r===s&&'"'===o||r===s&&"'"===o?(r=i+1,a=o):"."!==o||s?"["===o?(i>r&&c(),s=r=i+1):"]"===o&&(s||fst("Access path missing open bracket: "+t),s>0&&c(),s=0,r=i+1):i>r?c():r=i+1}return s&&fst("Access path missing closing bracket: "+t),a&&fst("Access path missing closing quote: "+t),i>r&&(i++,c()),e}function dst(t,e,n){const r=hst(t);return t=1===r.length?r[0]:t,sst((n&&n.get||ust)(r),[t],e||t)}dst("id"),sst((t=>t),[],"identity"),sst((()=>0),[],"zero"),sst((()=>1),[],"one"),sst((()=>!0),[],"true"),sst((()=>!1),[],"false");var pst=Array.isArray;function gst(t){return t[t.length-1]}function mst(t){return null==t||""===t?null:+t}function vst(t){return null!=t?pst(t)?t:[t]:[]}function yst(t){for(let e,n,r=1,i=arguments.length;r<i;++r)for(n in e=arguments[r],e)t[n]=e[n];return t}const bst=Object.prototype.hasOwnProperty;function wst(t,e){return bst.call(t,e)}function xst(t,e,n,r){let i,o=e[0],a=e[e.length-1];return o>a&&(i=o,o=a,a=i),n=void 0===n||n,r=void 0===r||r,(n?o<=t:o<t)&&(r?t<=a:t<a)}function _st(t){return"[object Date]"===Object.prototype.toString.call(t)}const kst="RawCode",Ast="Literal",Sst="Property",Cst="Identifier",Est="ArrayExpression",Dst="BinaryExpression",Mst="CallExpression",Tst="ConditionalExpression",Fst="LogicalExpression",Ost="MemberExpression",$st="ObjectExpression",Nst="UnaryExpression";function Bst(t){this.type=t}function Rst(t){switch(t.type){case Est:return t.elements;case Dst:case Fst:return[t.left,t.right];case Mst:return[t.callee].concat(t.arguments);case Tst:return[t.test,t.consequent,t.alternate];case Ost:return[t.object,t.property];case $st:return t.properties;case Sst:return[t.key,t.value];case Nst:return[t.argument];case Cst:case Ast:case kst:default:return[]}}var Pst;Bst.prototype.visit=function(t){let e,n,r;if(t(this))return 1;for(e=Rst(this),n=0,r=e.length;n<r;++n)if(e[n].visit(t))return 1};var Ist=1,jst=2,Lst=3,zst=4,Ust=5,qst=6,Vst=7,Hst=8,Wst=9;Pst={},Pst[Ist]="Boolean",Pst[jst]="<end>",Pst[Lst]="Identifier",Pst[zst]="Keyword",Pst[Ust]="Null",Pst[qst]="Numeric",Pst[Vst]="Punctuator",Pst[Hst]="String",Pst[Wst]="RegularExpression";const Yst=Symbol("vega_selection_getter");function Gst(t){return t.getter&&t.getter[Yst]||(t.getter=dst(t.field),t.getter[Yst]=!0),t.getter}const Kst="intersect",Xst="union",Jst="vlMulti",Zst="vlPoint",Qst="or",tut="and",eut="_vgsid_",nut=dst(eut),rut="E",iut="R",out="R-E",aut="R-LE",sut="R-RE",uut="index:unit";function cut(t,e){for(var n,r,i=e.fields,o=e.values,a=i.length,s=0;s<a;++s)if(r=i[s],n=Gst(r)(t),_st(n)&&(n=mst(n)),_st(o[s])&&(o[s]=mst(o[s])),pst(o[s])&&_st(o[s][0])&&(o[s]=o[s].map(mst)),r.type===rut){if(pst(o[s])?o[s].indexOf(n)<0:n!==o[s])return!1}else if(r.type===iut){if(!xst(n,o[s]))return!1}else if(r.type===sut){if(!xst(n,o[s],!0,!1))return!1}else if(r.type===out){if(!xst(n,o[s],!1,!1))return!1}else if(r.type===aut&&!xst(n,o[s],!1,!0))return!1;return!0}function lut(t,e,n){for(var r,i,o,a,s,u=this.context.data[t],c=u?u.values.value:[],l=u?u[uut]&&u[uut].value:void 0,f=n===Kst,h=c.length,d=0;d<h;++d)if(r=c[d],l&&f){if(i=i||{},o=i[a=r.unit]||0,-1===o)continue;if(s=cut(e,r),i[a]=s?-1:++o,s&&1===l.size)return!0;if(!s&&o===l.get(a).count)return!1}else if(s=cut(e,r),f^s)return s;return h&&f}const fut=nst(nut),hut=fut.left,dut=fut.right;function put(t,e,n){const r=this.context.data[t],i=r?r.values.value:[],o=r?r[uut]&&r[uut].value:void 0,a=n===Kst,s=nut(e),u=hut(i,s);if(u===i.length)return!1;if(nut(i[u])!==s)return!1;if(o&&a){if(1===o.size)return!0;if(dut(i,s)-u<o.size)return!1}return!0}function gut(t,e){return t.map((t=>yst(e.fields?{values:e.fields.map((e=>Gst(e)(t.datum)))}:{[eut]:nut(t.datum)},e)))}function mut(t,e,n,r){for(var i,o,a,s,u,c,l,f,h,d,p,g,m=this.context.data[t],v=m?m.values.value:[],y={},b={},w={},x=v.length,_=0;_<x;++_)if(i=v[_],s=i.unit,o=i.fields,a=i.values,o&&a){for(p=0,g=o.length;p<g;++p)u=o[p],l=y[u.field]||(y[u.field]={}),f=l[s]||(l[s]=[]),w[u.field]=h=u.type.charAt(0),d=vut[`${h}_union`],l[s]=d(f,vst(a[p]));n&&(f=b[s]||(b[s]=[]),f.push(vst(a).reduce(((t,e,n)=>(t[o[n].field]=e,t)),{})))}else u=eut,c=nut(i),l=y[u]||(y[u]={}),f=l[s]||(l[s]=[]),f.push(c),n&&(f=b[s]||(b[s]=[]),f.push({[eut]:c}));if(e=e||Xst,y[eut]?y[eut]=vut[`${eut}_${e}`](...Object.values(y[eut])):Object.keys(y).forEach((t=>{y[t]=Object.keys(y[t]).map((e=>y[t][e])).reduce(((n,r)=>void 0===n?r:vut[`${w[t]}_${e}`](n,r)))})),v=Object.keys(b),n&&v.length){const t=r?Zst:Jst;y[t]=e===Xst?{[Qst]:v.reduce(((t,e)=>(t.push(...b[e]),t)),[])}:{[tut]:v.map((t=>({[Qst]:b[t]})))}}return y}var vut={[`${eut}_union`]:ist,[`${eut}_intersect`]:ost,E_union:function(t,e){if(!t.length)return e;for(var n=0,r=e.length;n<r;++n)t.indexOf(e[n])<0&&t.push(e[n]);return t},E_intersect:function(t,e){return t.length?t.filter((t=>e.indexOf(t)>=0)):e},R_union:function(t,e){var n=mst(e[0]),r=mst(e[1]);return n>r&&(n=e[1],r=e[0]),t.length?(t[0]>n&&(t[0]=n),t[1]<r&&(t[1]=r),t):[n,r]},R_intersect:function(t,e){var n=mst(e[0]),r=mst(e[1]);return n>r&&(n=e[1],r=e[0]),t.length?r<t[0]||t[1]<n?[]:(t[0]<n&&(t[0]=n),t[1]>r&&(t[1]=r),t):[n,r]}};const yut=":",but="@";function wut(t,e,n,r){e[0].type!==Ast&&fst("First argument to selection functions must be a string literal.");const i=e[0].value,o=e.length>=2&&gst(e).value,a="unit",s=but+a,u=yut+i;o!==Kst||wst(r,s)||(r[s]=n.getData(i).indataRef(n,a)),wst(r,u)||(r[u]=n.getData(i).tuplesRef())}function xut(t){const e=this.context.data[t];return e?e.values.value:[]}function _ut(t,e,n){const r=this.context.data[t]["index:"+e],i=r?r.value.get(n):void 0;return i?i.count:i}function kut(t,e){const n=this.context.dataflow,r=this.context.data[t],i=r.input;return n.pulse(i,n.changeset().remove(Let).insert(e)),1}function Aut(t,e,n){if(t){const n=this.context.dataflow,r=t.mark.source;n.pulse(r,n.changeset().encode(t,e))}return void 0!==n?n:t}const Sut=t=>function(e,n){const r=this.context.dataflow.locale();return r[t](n)(e)},Cut=Sut("format"),Eut=Sut("timeFormat"),Dut=Sut("utcFormat"),Mut=Sut("timeParse"),Tut=Sut("utcParse"),Fut=new Date(2e3,0,1);function Out(t,e,n){return Number.isInteger(t)&&Number.isInteger(e)?(Fut.setYear(2e3),Fut.setMonth(t),Fut.setDate(e),Eut.call(this,Fut,n)):""}function $ut(t){return Out.call(this,t,1,"%B")}function Nut(t){return Out.call(this,t,1,"%b")}function But(t){return Out.call(this,0,2+t,"%A")}function Rut(t){return Out.call(this,0,2+t,"%a")}const Put=":",Iut="@",jut="%",Lut="$";function zut(t,e,n,r){e[0].type!==Nnt&&Ret("First argument to data functions must be a string literal.");const i=e[0].value,o=Put+i;if(!pnt(o,r))try{r[o]=n.getData(i).tuplesRef()}catch(a){}}function Uut(t,e,n,r){e[0].type!==Nnt&&Ret("First argument to indata must be a string literal."),e[1].type!==Nnt&&Ret("Second argument to indata must be a string literal.");const i=e[0].value,o=e[1].value,a=Iut+o;pnt(a,r)||(r[a]=n.getData(i).indataRef(n,o))}function qut(t,e,n,r){if(e[0].type===Nnt)Vut(n,r,e[0].value);else for(t in n.scales)Vut(n,r,t)}function Vut(t,e,n){const r=jut+n;if(!pnt(e,r))try{e[r]=t.scaleRef(n)}catch(i){}}function Hut(t,e){let n;return lnt(t)?t:xnt(t)?(n=e.scales[t])&&n.value:void 0}function Wut(t,e,n){e.__bandwidth=t=>t&&t.bandwidth?t.bandwidth():0,n._bandwidth=qut,n._range=qut,n._scale=qut;const r=e=>"_["+(e.type===Nnt?Cnt(jut+e.value):Cnt(jut)+"+"+t(e))+"]";return{_bandwidth:t=>`this.__bandwidth(${r(t[0])})`,_range:t=>`${r(t[0])}.range()`,_scale:e=>`${r(e[0])}(${t(e[1])})`}}function Yut(t,e){return function(n,r,i){if(n){const e=Hut(n,(i||this).context);return e&&e.path[t](r)}return e(r)}}const Gut=Yut("area",dot),Kut=Yut("bounds",zot),Xut=Yut("centroid",Qot);function Jut(t){const e=this.context.group;let n=!1;if(e)while(t){if(t===e){n=!0;break}t=t.mark.group}return n}function Zut(t,e,n){try{t[e].apply(t,["EXPRESSION"].concat([].slice.call(n)))}catch(r){t.warn(r)}return n[n.length-1]}function Qut(){return Zut(this.context.dataflow,"warn",arguments)}function tct(){return Zut(this.context.dataflow,"info",arguments)}function ect(){return Zut(this.context.dataflow,"debug",arguments)}function nct(t){const e=t/255;return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}function rct(t){const e=kat(t),n=nct(e.r),r=nct(e.g),i=nct(e.b);return.2126*n+.7152*r+.0722*i}function ict(t,e){const n=rct(t),r=rct(e),i=Math.max(n,r),o=Math.min(n,r);return(i+.05)/(o+.05)}function oct(){const t=[].slice.call(arguments);return t.unshift({}),fnt(...t)}function act(t,e){return t===e||t!==t&&e!==e||(zet(t)?!(!zet(e)||t.length!==e.length)&&sct(t,e):!(!Uet(t)||!Uet(e))&&uct(t,e))}function sct(t,e){for(let n=0,r=t.length;n<r;++n)if(!act(t[n],e[n]))return!1;return!0}function uct(t,e){for(const n in t)if(!act(t[n],e[n]))return!1;return!0}function cct(t){return e=>uct(t,e)}function lct(t,e,n,r,i,o){const a=this.context.dataflow,s=this.context.data[t],u=s.input,c=a.stamp();let l,f,h=s.changes;if(!1===a._trigger||!(u.value.length||e||r))return 0;if((!h||h.stamp<c)&&(s.changes=h=a.changeset(),h.stamp=c,a.runAfter((()=>{s.modified=!0,a.pulse(u,h).run()}),!0,1)),n&&(l=!0===n?Let:zet(n)||Qa(n)?n:cct(n),h.remove(l)),e&&h.insert(e),r&&(l=cct(r),u.value.some(l)?h.remove(l):h.insert(r)),i)for(f in o)h.modify(i,f,o[f]);return 1}function fct(t){const e=t.touches,n=e[0].clientX-e[1].clientX,r=e[0].clientY-e[1].clientY;return Math.sqrt(n*n+r*r)}function hct(t){const e=t.touches;return Math.atan2(e[0].clientY-e[1].clientY,e[0].clientX-e[1].clientX)}const dct={};function pct(t,e){const n=dct[e]||(dct[e]=Iet(e));return zet(t)?t.map(n):n(t)}function gct(t){return zet(t)||ArrayBuffer.isView(t)?t:null}function mct(t){return gct(t)||(xnt(t)?t:null)}function vct(t,...e){return gct(t).join(...e)}function yct(t,...e){return mct(t).indexOf(...e)}function bct(t,...e){return mct(t).lastIndexOf(...e)}function wct(t,...e){return mct(t).slice(...e)}function xct(t,e,n){return lnt(n)&&Ret("Function argument passed to replace."),String(t).replace(e,n)}function _ct(t){return gct(t).slice().reverse()}function kct(t,e,n){return oI(t||0,e||0,n||0)}function Act(t,e){const n=Hut(t,(e||this).context);return n&&n.bandwidth?n.bandwidth():0}function Sct(t,e){const n=Hut(t,(e||this).context);return n?n.copy():void 0}function Cct(t,e){const n=Hut(t,(e||this).context);return n?n.domain():[]}function Ect(t,e,n){const r=Hut(t,(n||this).context);return r?zet(e)?(r.invertRange||r.invert)(e):(r.invert||r.invertExtent)(e):void 0}function Dct(t,e){const n=Hut(t,(e||this).context);return n&&n.range?n.range():[]}function Mct(t,e,n){const r=Hut(t,(n||this).context);return r?r(e):void 0}function Tct(t,e,n,r,i){t=Hut(t,(i||this).context);const o=FQ(e,n);let a=t.domain(),s=a[0],u=qet(a),c=jet;return u-s?c=QI(t,s,u):t=(t.interpolator?jI("sequential")().interpolator(t.interpolator()):jI("linear")().interpolate(t.interpolate()).range(t.range())).domain([s=0,u=1]),t.ticks&&(a=t.ticks(+r||15),s!==a[0]&&a.unshift(s),u!==qet(a)&&a.push(u)),a.forEach((e=>o.stop(c(e),t(e)))),o}function Fct(t,e,n){const r=Hut(t,(n||this).context);return function(t){return r?r.path.context(t)(e):""}}function Oct(t){let e=null;return function(n){return n?KQ(n,e=e||RQ(t)):t}}const $ct=t=>t.data;function Nct(t,e){const n=xut.call(e,t);return n.root&&n.root.lookup||{}}function Bct(t,e,n){const r=Nct(t,this),i=r[e],o=r[n];return i&&o?i.path(o).map($ct):void 0}function Rct(t,e){const n=Nct(t,this)[e];return n?n.ancestors().map($ct):void 0}const Pct=()=>"undefined"!==typeof window&&window||null;function Ict(){const t=Pct();return t?t.screen:{}}function jct(){const t=Pct();return t?[t.innerWidth,t.innerHeight]:[void 0,void 0]}function Lct(){const t=this.context.dataflow,e=t.container&&t.container();return e?[e.clientWidth,e.clientHeight]:[void 0,void 0]}function zct(t,e,n){if(!t)return[];const[r,i]=t,o=(new X0).set(r[0],r[1],i[0],i[1]),a=n||this.context.dataflow.scenegraph().root;return $6(a,o,Uct(e))}function Uct(t){let e=null;if(t){const n=unt(t.marktype),r=unt(t.markname);e=t=>(!n.length||n.some((e=>t.marktype===e)))&&(!r.length||r.some((e=>t.name===e)))}return e}const qct={random(){return Ru()},cumulativeNormal:Gu,cumulativeLogNormal:ec,cumulativeUniform:sc,densityNormal:Yu,densityLogNormal:tc,densityUniform:ac,quantileNormal:Ku,quantileLogNormal:nc,quantileUniform:uc,sampleNormal:Wu,sampleLogNormal:Qu,sampleUniform:oc,isArray:zet,isBoolean:vnt,isDate:ynt,isDefined(t){return void 0!==t},isNumber:bnt,isObject:Uet,isRegExp:wnt,isString:xnt,isTuple:Qa,isValid(t){return null!=t&&t===t},toBoolean:Ent,toDate:Mnt,toNumber:Vet,toString:Tnt,indexof:yct,join:vct,lastindexof:bct,replace:xct,reverse:_ct,slice:wct,flush:gnt,lerp:_nt,merge:oct,pad:Ant,peek:qet,pluck:pct,span:Snt,inrange:mnt,truncate:Ont,rgb:kat,lab:Vat,hcl:Jat,hsl:Tat,luminance:rct,contrast:ict,sequence:$c,format:Cut,utcFormat:Dut,utcParse:Tut,utcOffset:Tf,utcSequence:$f,timeFormat:Eut,timeParse:Mut,timeOffset:Mf,timeSequence:Of,timeUnitSpecifier:Ql,monthFormat:$ut,monthAbbrevFormat:Nut,dayFormat:But,dayAbbrevFormat:Rut,quarter:ant,utcquarter:snt,week:rf,utcweek:lf,dayofyear:nf,utcdayofyear:cf,warn:Qut,info:tct,debug:ect,extent:hnt,inScope:Jut,intersect:zct,clampRange:cnt,pinchDistance:fct,pinchAngle:hct,screen:Ict,containerSize:Lct,windowSize:jct,bandspace:kct,setdata:kut,pathShape:Oct,panLinear:Jet,panLog:Zet,panPow:Qet,panSymlog:tnt,zoomLinear:nnt,zoomLog:rnt,zoomPow:int,zoomSymlog:ont,encode:Aut,modify:lct},Vct=["view","item","group","xy","x","y"],Hct="event.vega.",Wct="this.",Yct={},Gct={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:t=>`_[${Cnt(Lut+t)}]`,functions:Xct,constants:Lit,visitors:Yct},Kct=qit(Gct);function Xct(t){const e=zit(t);Vct.forEach((t=>e[t]=Hct+t));for(const n in qct)e[n]=Wct+n;return fnt(e,Wut(t,qct,Yct)),e}function Jct(t,e,n){return 1===arguments.length?qct[t]:(qct[t]=e,n&&(Yct[t]=n),Kct&&(Kct.functions[t]=Wct+t),this)}function Zct(t,e){const n={};let r;try{t=xnt(t)?t:Cnt(t)+"",r=jit(t)}catch(o){Ret("Expression parse error: "+t)}r.visit((t=>{if(t.type!==jnt)return;const r=t.callee.name,i=Gct.visitors[r];i&&i(r,t.arguments,e,n)}));const i=Kct(r);return i.globals.forEach((t=>{const r=Lut+t;!pnt(n,r)&&e.getSignal(t)&&(n[r]=e.signalRef(t))})),{$expr:fnt({code:i.code},e.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}function Qct(t,e,n){return t.fields=e||[],t.fname=n,t}function tlt(t){return null==t?null:t.fields}function elt(t){return 1===t.length?nlt(t[0]):rlt(t)}Jct("bandwidth",Act,qut),Jct("copy",Sct,qut),Jct("domain",Cct,qut),Jct("range",Dct,qut),Jct("invert",Ect,qut),Jct("scale",Mct,qut),Jct("gradient",Tct,qut),Jct("geoArea",Gut,qut),Jct("geoBounds",Kut,qut),Jct("geoCentroid",Xut,qut),Jct("geoShape",Fct,qut),Jct("indata",_ut,Uut),Jct("data",xut,zut),Jct("treePath",Bct,zut),Jct("treeAncestors",Rct,zut),Jct("vlSelectionTest",lut,wut),Jct("vlSelectionIdTest",put,wut),Jct("vlSelectionResolve",mut,wut),Jct("vlSelectionTuples",gut);const nlt=t=>function(e){return e[t]},rlt=t=>{const e=t.length;return function(n){for(let r=0;r<e;++r)n=n[t[r]];return n}};function ilt(t){throw Error(t)}function olt(t){const e=[],n=t.length;let r,i,o,a=null,s=0,u="";function c(){e.push(u+t.substring(r,i)),u="",r=i+1}for(t+="",r=i=0;i<n;++i)if(o=t[i],"\\"===o)u+=t.substring(r,i++),r=i;else if(o===a)c(),a=null,s=-1;else{if(a)continue;r===s&&'"'===o||r===s&&"'"===o?(r=i+1,a=o):"."!==o||s?"["===o?(i>r&&c(),s=r=i+1):"]"===o&&(s||ilt("Access path missing open bracket: "+t),s>0&&c(),s=0,r=i+1):i>r?c():r=i+1}return s&&ilt("Access path missing closing bracket: "+t),a&&ilt("Access path missing closing quote: "+t),i>r&&(i++,c()),e}function alt(t,e,n){const r=olt(t);return t=1===r.length?r[0]:t,Qct((n&&n.get||elt)(r),[t],e||t)}alt("id"),Qct((t=>t),[],"identity"),Qct((()=>0),[],"zero"),Qct((()=>1),[],"one");const slt=Qct((()=>!0),[],"true");Qct((()=>!1),[],"false");var ult=Array.isArray;function clt(t){return t===Object(t)}function llt(t){return null!=t?ult(t)?t:[t]:[]}function flt(t){return"function"===typeof t}const hlt="descending";function dlt(t,e,n){n=n||{},e=llt(e)||[];const r=[],i=[],o={},a=n.comparator||glt;return llt(t).forEach(((t,a)=>{null!=t&&(r.push(e[a]===hlt?-1:1),i.push(t=flt(t)?t:alt(t,null,n)),(tlt(t)||[]).forEach((t=>o[t]=1)))})),0===i.length?null:Qct(a(i,r),Object.keys(o))}const plt=(t,e)=>(t<e||null==t)&&null!=e?-1:(t>e||null==e)&&null!=t?1:(e=e instanceof Date?+e:e,(t=t instanceof Date?+t:t)!==t&&e===e?-1:e!==e&&t===t?1:0),glt=(t,e)=>1===t.length?mlt(t[0],e[0]):vlt(t,e,t.length),mlt=(t,e)=>function(n,r){return plt(t(n),t(r))*e},vlt=(t,e,n)=>(e.push(0),function(r,i){let o,a=0,s=-1;while(0===a&&++s<n)o=t[s],a=plt(o(r),o(i));return a*e[s]});const ylt=Object.prototype.hasOwnProperty;function blt(t,e){return ylt.call(t,e)}function wlt(t){return"string"===typeof t}function xlt(t,e,n){t&&(t=e?llt(t).map((t=>t.replace(/\\(.)/g,"$1"))):llt(t));const r=t&&t.length,i=n&&n.get||elt,o=t=>i(e?[t]:olt(t));let a;if(r)if(1===r){const e=o(t[0]);a=function(t){return""+e(t)}}else{const e=t.map(o);a=function(t){let n=""+e[0](t),i=0;while(++i<r)n+="|"+e[i](t);return n}}else a=function(){return""};return Qct(a,t,"key")}function _lt(t){return ult(t)?"["+t.map(_lt)+"]":clt(t)||wlt(t)?JSON.stringify(t).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):t}function klt(t){const e={},n=t.length;for(let r=0;r<n;++r)e[t[r]]=!0;return e}function Alt(t){const e=this,n=t.operators||[];return t.background&&(e.background=t.background),t.eventConfig&&(e.eventConfig=t.eventConfig),t.locale&&(e.locale=t.locale),n.forEach((t=>e.parseOperator(t))),n.forEach((t=>e.parseOperatorParameters(t))),(t.streams||[]).forEach((t=>e.parseStream(t))),(t.updates||[]).forEach((t=>e.parseUpdate(t))),e.resolve()}const Slt=klt(["rule"]),Clt=klt(["group","image","rect"]);function Elt(t,e){let n="";return Slt[e]||(t.x2&&(t.x?(Clt[e]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),t.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),t.y2&&(t.y?(Clt[e]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),t.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function Dlt(t){return(t+"").toLowerCase()}function Mlt(t){return"operator"===Dlt(t)}function Tlt(t){return"collect"===Dlt(t)}function Flt(t,e,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...e.concat(n));return t&&t.functions?r.bind(t.functions):r}function Olt(t,e,n,r){return`((u = ${t}) < (v = ${e}) || u == null) && v != null ? ${n}\n  : (u > v || v == null) && u != null ? ${r}\n  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}\n  : v !== v && u === u ? ${r} : `}var $lt={operator:(t,e)=>Flt(t,["_"],e.code),parameter:(t,e)=>Flt(t,["datum","_"],e.code),event:(t,e)=>Flt(t,["event"],e.code),handler:(t,e)=>{const n=`var datum=event.item&&event.item.datum;return ${e.code};`;return Flt(t,["_","event"],n)},encode:(t,e)=>{const{marktype:n,channels:r}=e;let i="var o=item,datum=o.datum,m=0,$;";for(const o in r){const t="o["+_lt(o)+"]";i+=`$=${r[o].code};if(${t}!==$)${t}=$,m=1;`}return i+=Elt(r,n),i+="return m;",Flt(t,["item","_"],i)},codegen:{get(t){const e=`[${t.map(_lt).join("][")}]`,n=Function("_",`return _${e};`);return n.path=e,n},comparator(t,e){let n;const r=(t,r)=>{const i=e[r];let o,a;return t.path?(o=`a${t.path}`,a=`b${t.path}`):((n=n||{})["f"+r]=t,o=`this.f${r}(a)`,a=`this.f${r}(b)`),Olt(o,a,-i,i)},i=Function("a","b","var u, v; return "+t.map(r).join("")+"0;");return n?i.bind(n):i}}};function Nlt(t){const e=this;Mlt(t.type)||!t.type?e.operator(t,t.update?e.operatorExpression(t.update):null):e.transform(t,t.type)}function Blt(t){const e=this;if(t.params){const n=e.get(t.id);n||ilt("Invalid operator id: "+t.id),e.dataflow.connect(n,n.parameters(e.parseParameters(t.params),t.react,t.initonly))}}function Rlt(t,e){e=e||{};const n=this;for(const r in t){const i=t[r];e[r]=ult(i)?i.map((t=>Plt(t,n,e))):Plt(i,n,e)}return e}function Plt(t,e,n){if(!t||!clt(t))return t;for(let r,i=0,o=Ilt.length;i<o;++i)if(r=Ilt[i],blt(t,r.key))return r.parse(t,e,n);return t}var Ilt=[{key:"$ref",parse:jlt},{key:"$key",parse:zlt},{key:"$expr",parse:Llt},{key:"$field",parse:Ult},{key:"$encode",parse:Vlt},{key:"$compare",parse:qlt},{key:"$context",parse:Hlt},{key:"$subflow",parse:Wlt},{key:"$tupleid",parse:Ylt}];function jlt(t,e){return e.get(t.$ref)||ilt("Operator not defined: "+t.$ref)}function Llt(t,e,n){t.$params&&e.parseParameters(t.$params,n);const r="e:"+t.$expr.code;return e.fn[r]||(e.fn[r]=Qct(e.parameterExpression(t.$expr),t.$fields))}function zlt(t,e){const n="k:"+t.$key+"_"+!!t.$flat;return e.fn[n]||(e.fn[n]=xlt(t.$key,t.$flat,e.expr.codegen))}function Ult(t,e){if(!t.$field)return null;const n="f:"+t.$field+"_"+t.$name;return e.fn[n]||(e.fn[n]=alt(t.$field,t.$name,e.expr.codegen))}function qlt(t,e){const n="c:"+t.$compare+"_"+t.$order,r=llt(t.$compare).map((t=>t&&t.$tupleid?ts:t));return e.fn[n]||(e.fn[n]=dlt(r,t.$order,e.expr.codegen))}function Vlt(t,e){const n=t.$encode,r={};for(const i in n){const t=n[i];r[i]=Qct(e.encodeExpression(t.$expr),t.$fields),r[i].output=t.$output}return r}function Hlt(t,e){return e}function Wlt(t,e){const n=t.$subflow;return function(t,r,i){const o=e.fork().parse(n),a=o.get(n.operators[0].id),s=o.signals.parent;return s&&s.set(i),a.detachSubflow=()=>e.detach(o),a}}function Ylt(){return ts}function Glt(t){var e,n=this,r=null!=t.filter?n.eventExpression(t.filter):void 0,i=null!=t.stream?n.get(t.stream):void 0;t.source?i=n.events(t.source,t.type,r):t.merge&&(e=t.merge.map((t=>n.get(t))),i=e[0].merge.apply(e[0],e.slice(1))),t.between&&(e=t.between.map((t=>n.get(t))),i=i.between(e[0],e[1])),t.filter&&(i=i.filter(r)),null!=t.throttle&&(i=i.throttle(+t.throttle)),null!=t.debounce&&(i=i.debounce(+t.debounce)),null==i&&ilt("Invalid stream definition: "+JSON.stringify(t)),t.consume&&i.consume(!0),n.stream(t,i)}function Klt(t){var e=this,n=clt(n=t.source)?n.$ref:n,r=e.get(n),i=null,o=t.update,a=void 0;r||ilt("Source not defined: "+t.source),i=t.target&&t.target.$expr?e.eventExpression(t.target.$expr):e.get(t.target),o&&o.$expr&&(o.$params&&(a=e.parseParameters(o.$params)),o=e.handlerExpression(o.$expr)),e.update(t,r,i,o,a)}const Xlt={skip:!0};function Jlt(t){var e=this,n={};if(t.signals){var r=n.signals={};Object.keys(e.signals).forEach((n=>{const i=e.signals[n];t.signals(n,i)&&(r[n]=i.value)}))}if(t.data){var i=n.data={};Object.keys(e.data).forEach((n=>{const r=e.data[n];t.data(n,r)&&(i[n]=r.input.value)}))}return e.subcontext&&!1!==t.recurse&&(n.subcontext=e.subcontext.map((e=>e.getState(t)))),n}function Zlt(t){var e=this,n=e.dataflow,r=t.data,i=t.signals;Object.keys(i||{}).forEach((t=>{n.update(e.signals[t],i[t],Xlt)})),Object.keys(r||{}).forEach((t=>{n.pulse(e.data[t].input,n.changeset().remove(slt).insert(r[t]))})),(t.subcontext||[]).forEach(((t,n)=>{const r=e.subcontext[n];r&&r.setState(t)}))}function Qlt(t,e,n,r){return new tft(t,e,n,r)}function tft(t,e,n,r){this.dataflow=t,this.transforms=e,this.events=t.events.bind(t),this.expr=r||$lt,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function eft(t){this.dataflow=t.dataflow,this.transforms=t.transforms,this.events=t.events,this.expr=t.expr,this.signals=Object.create(t.signals),this.scales=Object.create(t.scales),this.nodes=Object.create(t.nodes),this.data=Object.create(t.data),this.fn=Object.create(t.fn),t.functions&&(this.functions=Object.create(t.functions),this.functions.context=this)}function nft(t,e,n){var r=new WY,i=e;return null==e?(r.restart(t,e,n),r):(r._restart=r.restart,r.restart=function(t,e,n){e=+e,n=null==n?VY():+n,r._restart((function o(a){a+=i,r._restart(o,i+=e,n),t(a)}),e,n)},r.restart(t,e,n),r)}function rft(t){const e=t.container();e&&(e.setAttribute("role","graphics-document"),e.setAttribute("aria-roleDescription","visualization"),ift(e,t.description()))}function ift(t,e){t&&(null==e?t.removeAttribute("aria-label"):t.setAttribute("aria-label",e))}function oft(t){t.add(null,(e=>(t._background=e.bg,t._resize=1,e.bg)),{bg:t._signals.background})}tft.prototype=eft.prototype={fork(){const t=new eft(this);return(this.subcontext||(this.subcontext=[])).push(t),t},detach(t){this.subcontext=this.subcontext.filter((e=>e!==t));const e=Object.keys(t.nodes);for(const n of e)t.nodes[n]._targets=null;for(const n of e)t.nodes[n].detach();t.nodes=null},get(t){return this.nodes[t]},set(t,e){return this.nodes[t]=e},add(t,e){const n=this,r=n.dataflow,i=t.value;if(n.set(t.id,e),Tlt(t.type)&&i&&(i.$ingest?r.ingest(e,i.$ingest,i.$format):i.$request?r.preload(e,i.$request,i.$format):r.pulse(e,r.changeset().insert(i))),t.root&&(n.root=e),t.parent){let i=n.get(t.parent.$ref);i?(r.connect(i,[e]),e.targets().add(i)):(n.unresolved=n.unresolved||[]).push((()=>{i=n.get(t.parent.$ref),r.connect(i,[e]),e.targets().add(i)}))}if(t.signal&&(n.signals[t.signal]=e),t.scale&&(n.scales[t.scale]=e),t.data)for(const o in t.data){const r=n.data[o]||(n.data[o]={});t.data[o].forEach((t=>r[t]=e))}},resolve(){return(this.unresolved||[]).forEach((t=>t())),delete this.unresolved,this},operator(t,e){this.add(t,this.dataflow.add(t.value,e))},transform(t,e){this.add(t,this.dataflow.add(this.transforms[Dlt(e)]))},stream(t,e){this.set(t.id,e)},update(t,e,n,r,i){this.dataflow.on(e,n,r,i,t.options)},operatorExpression(t){return this.expr.operator(this,t)},parameterExpression(t){return this.expr.parameter(this,t)},eventExpression(t){return this.expr.event(this,t)},handlerExpression(t){return this.expr.handler(this,t)},encodeExpression(t){return this.expr.encode(this,t)},parse:Alt,parseOperator:Nlt,parseOperatorParameters:Blt,parseParameters:Rlt,parseStream:Glt,parseUpdate:Klt,getState:Jlt,setState:Zlt};const aft="default";function sft(t){const e=t._signals.cursor||(t._signals.cursor=t.add({user:aft,item:null}));t.on(t.events("view","mousemove"),e,((t,n)=>{const r=e.value,i=r?_e(r)?r:r.user:aft,o=n.item&&n.item.cursor||null;return r&&i===r.user&&o==r.item?r:{user:i,item:o}})),t.add(null,(function(e){let n=e.cursor,r=this.value;return _e(n)||(r=n.item,n=n.user),uft(t,n&&n!==aft?n:r||n),r}),{cursor:e})}function uft(t,e){const n=t.globalCursor()?"undefined"!==typeof document&&document.body:t.container();if(n)return null==e?n.style.removeProperty("cursor"):n.style.cursor=e}function cft(t,e){var n=t._runtime.data;return fe(n,e)||ct("Unrecognized data set: "+e),n[e]}function lft(t,e){return arguments.length<2?cft(this,t).values.value:fft.call(this,t,us().remove(mt).insert(e))}function fft(t,e){ss(e)||ct("Second argument to changes must be a changeset.");const n=cft(this,t);return n.modified=!0,this.pulse(n.input,e)}function hft(t,e){return fft.call(this,t,us().insert(e))}function dft(t,e){return fft.call(this,t,us().remove(e))}function pft(t){var e=t.padding();return Math.max(0,t._viewWidth+e.left+e.right)}function gft(t){var e=t.padding();return Math.max(0,t._viewHeight+e.top+e.bottom)}function mft(t){var e=t.padding(),n=t._origin;return[e.left+n[0],e.top+n[1]]}function vft(t){var e=mft(t),n=pft(t),r=gft(t);t._renderer.background(t.background()),t._renderer.resize(n,r,e),t._handler.origin(e),t._resizeListeners.forEach((e=>{try{e(n,r)}catch(i){t.error(i)}}))}function yft(t,e,n){var r,i,o,a=t._renderer,s=a&&a.canvas();return s&&(o=mft(t),i=e.changedTouches?e.changedTouches[0]:e,r=q3(i,s),r[0]-=o[0],r[1]-=o[1]),e.dataflow=t,e.item=n,e.vega=bft(t,n,r),e}function bft(t,e,n){const r=e?"group"===e.mark.marktype?e:e.mark.group:null;function i(t){var n,i=r;if(t)for(n=e;n;n=n.mark.group)if(n.mark.name===t){i=n;break}return i&&i.mark&&i.mark.interactive?i:{}}function o(t){if(!t)return n;_e(t)&&(t=i(t));const e=n.slice();while(t)e[0]-=t.x||0,e[1]-=t.y||0,t=t.mark&&t.mark.group;return e}return{view:oe(t),item:oe(e||{}),group:i,xy:o,x:t=>o(t)[0],y:t=>o(t)[1]}}const wft="view",xft="timer",_ft="window",kft={trap:!1};function Aft(t){const e=se({defaults:{}},t),n=(t,e)=>{e.forEach((e=>{St(t[e])&&(t[e]=Re(t[e]))}))};return n(e.defaults,["prevent","allow"]),n(e,["view","window","selector"]),e}function Sft(t,e,n,r){t._eventListeners.push({type:n,sources:Xt(e),handler:r})}function Cft(t,e){var n=t._eventConfig.defaults,r=n.prevent,i=n.allow;return!1!==r&&!0!==i&&(!0===r||!1===i||(r?r[e]:i?!i[e]:t.preventDefault()))}function Eft(t,e,n){const r=t._eventConfig&&t._eventConfig[e];return!(!1===r||Ct(r)&&!r[n])||(t.warn(`Blocked ${e} ${n} event listener.`),!1)}function Dft(t,e,n){var r,i=this,o=new xs(n),a=function(n,r){i.runAsync(null,(()=>{t===wft&&Cft(i,e)&&n.preventDefault(),o.receive(yft(i,n,r))}))};if(t===xft)Eft(i,"timer",e)&&i.timer(a,e);else if(t===wft)Eft(i,"view",e)&&i.addEventListener(e,a,kft);else if(t===_ft?Eft(i,"window",e)&&"undefined"!==typeof window&&(r=[window]):"undefined"!==typeof document&&Eft(i,"selector",e)&&(r=document.querySelectorAll(t)),r){for(var s=0,u=r.length;s<u;++s)r[s].addEventListener(e,a);Sft(i,r,e,a)}else i.warn("Can not resolve event source: "+t);return o}function Mft(t){return t.item}function Tft(t){return t.item.mark.source}function Fft(t){return function(e,n){return n.vega.view().changeset().encode(n.item,t)}}function Oft(t,e){return t=[t||"hover"],e=[e||"update",t[0]],this.on(this.events("view","mouseover",Mft),Tft,Fft(t)),this.on(this.events("view","mouseout",Mft),Tft,Fft(e)),this}function $ft(){var t,e,n,r=this._tooltip,i=this._timers,o=this._eventListeners;t=i.length;while(--t>=0)i[t].stop();t=o.length;while(--t>=0){n=o[t],e=n.sources.length;while(--e>=0)n.sources[e].removeEventListener(n.type,n.handler)}return r&&r.call(this,this._handler,null,null,null),this}function Nft(t,e,n){const r=document.createElement(t);for(const i in e)r.setAttribute(i,e[i]);return null!=n&&(r.textContent=n),r}const Bft="vega-bind",Rft="vega-bind-name",Pft="vega-bind-radio";function Ift(t,e,n){if(!e)return;const r=n.param;let i=n.state;i||(i=n.state={elements:null,active:!1,set:null,update:e=>{e!=t.signal(r.signal)&&t.runAsync(null,(()=>{i.source=!0,t.signal(r.signal,e)}))}},r.debounce&&(i.update=ae(r.debounce,i.update)));const o=null==r.input&&r.element?jft:zft;return o(i,e,r,t),i.active||(t.on(t._signals[r.signal],null,(()=>{i.source?i.source=!1:i.set(t.signal(r.signal))})),i.active=!0),i}function jft(t,e,n,r){const i=n.event||"input",o=()=>t.update(e.value);r.signal(n.signal,e.value),e.addEventListener(i,o),Sft(r,e,i,o),t.set=t=>{e.value=t,e.dispatchEvent(Lft(i))}}function Lft(t){return"undefined"!==typeof Event?new Event(t):{type:t}}function zft(t,e,n,r){const i=r.signal(n.signal),o=Nft("div",{class:Bft}),a="radio"===n.input?o:o.appendChild(Nft("label"));a.appendChild(Nft("span",{class:Rft},n.name||n.signal)),e.appendChild(o);let s=Uft;switch(n.input){case"checkbox":s=qft;break;case"select":s=Vft;break;case"radio":s=Hft;break;case"range":s=Wft;break}s(t,a,n,i)}function Uft(t,e,n,r){const i=Nft("input");for(const o in n)"signal"!==o&&"element"!==o&&i.setAttribute("input"===o?"type":o,n[o]);i.setAttribute("name",n.signal),i.value=r,e.appendChild(i),i.addEventListener("input",(()=>t.update(i.value))),t.elements=[i],t.set=t=>i.value=t}function qft(t,e,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const o=Nft("input",i);e.appendChild(o),o.addEventListener("change",(()=>t.update(o.checked))),t.elements=[o],t.set=t=>o.checked=!!t||null}function Vft(t,e,n,r){const i=Nft("select",{name:n.signal}),o=n.labels||[];n.options.forEach(((t,e)=>{const n={value:t};Yft(t,r)&&(n.selected=!0),i.appendChild(Nft("option",n,(o[e]||t)+""))})),e.appendChild(i),i.addEventListener("change",(()=>{t.update(n.options[i.selectedIndex])})),t.elements=[i],t.set=t=>{for(let e=0,r=n.options.length;e<r;++e)if(Yft(n.options[e],t))return void(i.selectedIndex=e)}}function Hft(t,e,n,r){const i=Nft("span",{class:Pft}),o=n.labels||[];e.appendChild(i),t.elements=n.options.map(((e,a)=>{const s={type:"radio",name:n.signal,value:e};Yft(e,r)&&(s.checked=!0);const u=Nft("input",s);u.addEventListener("change",(()=>t.update(e)));const c=Nft("label",{},(o[a]||e)+"");return c.prepend(u),i.appendChild(c),u})),t.set=e=>{const n=t.elements,r=n.length;for(let t=0;t<r;++t)Yft(n[t].value,e)&&(n[t].checked=!0)}}function Wft(t,e,n,r){r=void 0!==r?r:(+n.max+ +n.min)/2;const i=null!=n.max?n.max:Math.max(100,+r)||100,o=n.min||Math.min(0,i,+r)||0,a=n.step||Pl(o,i,100),s=Nft("input",{type:"range",name:n.signal,min:o,max:i,step:a});s.value=r;const u=Nft("span",{},+r);e.appendChild(s),e.appendChild(u);const c=()=>{u.textContent=s.value,t.update(+s.value)};s.addEventListener("input",c),s.addEventListener("change",c),t.elements=[s],t.set=t=>{s.value=t,u.textContent=t}}function Yft(t,e){return t===e||t+""===e+""}function Gft(t,e,n,r,i,o){return e=e||new r(t.loader()),e.initialize(n,pft(t),gft(t),mft(t),i,o).background(t.background())}function Kft(t,e){return e?function(){try{e.apply(this,arguments)}catch(n){t.error(n)}}:null}function Xft(t,e,n,r){const i=new r(t.loader(),Kft(t,t.tooltip())).scene(t.scenegraph().root).initialize(n,mft(t),t);return e&&e.handlers().forEach((t=>{i.on(t.type,t.handler)})),i}function Jft(t,e){const n=this,r=n._renderType,i=n._eventConfig.bind,o=O6(r);t=n._el=t?Zft(n,t,!0):null,rft(n),o||n.error("Unrecognized renderer type: "+r);const a=o.handler||m5,s=t?o.renderer:o.headless;return n._renderer=s?Gft(n,n._renderer,t,s):null,n._handler=Xft(n,n._handler,t,a),n._redraw=!0,t&&"none"!==i&&(e=e?n._elBind=Zft(n,e,!0):t.appendChild(Nft("form",{class:"vega-bindings"})),n._bind.forEach((t=>{t.param.element&&"container"!==i&&(t.element=Zft(n,t.param.element,!!t.param.input))})),n._bind.forEach((t=>{Ift(n,t.element||e,t)}))),n}function Zft(t,e,n){if("string"===typeof e){if("undefined"===typeof document)return t.error("DOM document instance not found."),null;if(e=document.querySelector(e),!e)return t.error("Signal bind element not found: "+e),null}if(e&&n)try{e.innerHTML=""}catch(Tqt){e=null,t.error(Tqt)}return e}const Qft=t=>+t||0,tht=t=>({top:t,bottom:t,left:t,right:t});function eht(t){return Ct(t)?{top:Qft(t.top),bottom:Qft(t.bottom),left:Qft(t.left),right:Qft(t.right)}:tht(Qft(t))}async function nht(t,e,n,r){const i=O6(e),o=i&&i.headless;return o||ct("Unrecognized renderer type: "+e),await t.runAsync(),Gft(t,null,null,o,n,r).renderAsync(t._scenegraph.root)}async function rht(t,e){t!==T6.Canvas&&t!==T6.SVG&&t!==T6.PNG&&ct("Unrecognized image type: "+t);const n=await nht(this,t,e);return t===T6.SVG?iht(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function iht(t,e){const n=new Blob([t],{type:e});return window.URL.createObjectURL(n)}async function oht(t,e){const n=await nht(this,T6.Canvas,t,e);return n.canvas()}async function aht(t){const e=await nht(this,T6.SVG,t);return e.svg()}function sht(t,e,n){return Qlt(t,mu,qct,n).parse(e)}function uht(t){var e=this._runtime.scales;return fe(e,t)||ct("Unrecognized scale or projection: "+t),e[t].value}var cht="width",lht="height",fht="padding",hht={skip:!0};function dht(t,e){var n=t.autosize(),r=t.padding();return e-(n&&n.contains===fht?r.left+r.right:0)}function pht(t,e){var n=t.autosize(),r=t.padding();return e-(n&&n.contains===fht?r.top+r.bottom:0)}function ght(t){var e=t._signals,n=e[cht],r=e[lht],i=e[fht];function o(){t._autosize=t._resize=1}t._resizeWidth=t.add(null,(e=>{t._width=e.size,t._viewWidth=dht(t,e.size),o()}),{size:n}),t._resizeHeight=t.add(null,(e=>{t._height=e.size,t._viewHeight=pht(t,e.size),o()}),{size:r});const a=t.add(null,o,{pad:i});t._resizeWidth.rank=n.rank+1,t._resizeHeight.rank=r.rank+1,a.rank=i.rank+1}function mht(t,e,n,r,i,o){this.runAfter((a=>{let s=0;a._autosize=0,a.width()!==n&&(s=1,a.signal(cht,n,hht),a._resizeWidth.skip(!0)),a.height()!==r&&(s=1,a.signal(lht,r,hht),a._resizeHeight.skip(!0)),a._viewWidth!==t&&(a._resize=1,a._viewWidth=t),a._viewHeight!==e&&(a._resize=1,a._viewHeight=e),a._origin[0]===i[0]&&a._origin[1]===i[1]||(a._resize=1,a._origin=i),s&&a.run("enter"),o&&a.runAfter((t=>t.resize()))}),!1,1)}function vht(t){return this._runtime.getState(t||{data:yht,signals:bht,recurse:!0})}function yht(t,e){return e.modified&&St(e.input.value)&&t.indexOf("_:vega:_")}function bht(t,e){return!("parent"===t||e instanceof mu.proxy)}function wht(t){return this.runAsync(null,(e=>{e._trigger=!1,e._runtime.setState(t)}),(t=>{t._trigger=!0})),this}function xht(t,e){function n(e){t({timestamp:Date.now(),elapsed:e})}this._timers.push(nft(n,e))}function _ht(t,e,n,r){const i=t.element();i&&i.setAttribute("title",kht(r))}function kht(t){return null==t?"":St(t)?Sht(t):Ct(t)&&!ye(t)?Aht(t):t+""}function Aht(t){return Object.keys(t).map((e=>{const n=t[e];return e+": "+(St(n)?Sht(n):Cht(n))})).join("\n")}function Sht(t){return"["+t.map(Cht).join(", ")+"]"}function Cht(t){return St(t)?"[]":Ct(t)&&!ye(t)?"{}":t}function Eht(t,e){const n=this;if(e=e||{},du.call(n),e.loader&&n.loader(e.loader),e.logger&&n.logger(e.logger),null!=e.logLevel&&n.logLevel(e.logLevel),e.locale||t.locale){const r=se({},t.locale,e.locale);n.locale(UZ(r.number,r.time))}n._el=null,n._elBind=null,n._renderType=e.renderer||T6.Canvas,n._scenegraph=new R3;const r=n._scenegraph.root;n._renderer=null,n._tooltip=e.tooltip||_ht,n._redraw=!0,n._handler=(new m5).scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=Aft(t.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=sht(n,t,e.expr);n._runtime=i,n._signals=i.signals,n._bind=(t.bindings||[]).map((t=>({state:null,param:se({},t)}))),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=dht(n,n._width),n._viewHeight=pht(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,ght(n),oft(n),sft(n),n.description(t.description),e.hover&&n.hover(),e.container&&n.initialize(e.container,e.bind)}function Dht(t,e){return fe(t._signals,e)?t._signals[e]:ct("Unrecognized signal name: "+Fe(e))}function Mht(t,e){const n=(t._targets||[]).filter((t=>t._update&&t._update.handler===e));return n.length?n[0]:null}function Tht(t,e,n,r){let i=Mht(n,r);return i||(i=Kft(t,(()=>r(e,n.value))),i.handler=r,t.on(n,null,i)),t}function Fht(t,e,n){const r=Mht(e,n);return r&&e._targets.remove(r),t}ge(Eht,du,{async evaluate(t,e,n){if(await du.prototype.evaluate.call(this,t,e),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,vft(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(Tqt){this.error(Tqt)}return n&&Xa(this,n),this},dirty(t){this._redraw=!0,this._renderer&&this._renderer.dirty(t)},description(t){if(arguments.length){const e=null!=t?t+"":null;return e!==this._desc&&ift(this._el,this._desc=e),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(t,e,n){const r=Dht(this,t);return 1===arguments.length?r.value:this.update(r,e,n)},width(t){return arguments.length?this.signal("width",t):this.signal("width")},height(t){return arguments.length?this.signal("height",t):this.signal("height")},padding(t){return arguments.length?this.signal("padding",eht(t)):eht(this.signal("padding"))},autosize(t){return arguments.length?this.signal("autosize",t):this.signal("autosize")},background(t){return arguments.length?this.signal("background",t):this.signal("background")},renderer(t){return arguments.length?(O6(t)||ct("Unrecognized renderer type: "+t),t!==this._renderType&&(this._renderType=t,this._resetRenderer()),this):this._renderType},tooltip(t){return arguments.length?(t!==this._tooltip&&(this._tooltip=t,this._resetRenderer()),this):this._tooltip},loader(t){return arguments.length?(t!==this._loader&&(du.prototype.loader.call(this,t),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(Dht(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:mht,addEventListener(t,e,n){let r=e;return n&&!1===n.trap||(r=Kft(this,e),r.raw=e),this._handler.on(t,r),this},removeEventListener(t,e){var n,r,i=this._handler.handlers(t),o=i.length;while(--o>=0)if(r=i[o].type,n=i[o].handler,t===r&&(e===n||e===n.raw)){this._handler.off(r,n);break}return this},addResizeListener(t){const e=this._resizeListeners;return e.indexOf(t)<0&&e.push(t),this},removeResizeListener(t){var e=this._resizeListeners,n=e.indexOf(t);return n>=0&&e.splice(n,1),this},addSignalListener(t,e){return Tht(this,t,Dht(this,t),e)},removeSignalListener(t,e){return Fht(this,Dht(this,t),e)},addDataListener(t,e){return Tht(this,t,cft(this,t).values,e)},removeDataListener(t,e){return Fht(this,cft(this,t).values,e)},globalCursor(t){if(arguments.length){if(this._globalCursor!==!!t){const e=uft(this,null);this._globalCursor=!!t,e&&uft(this,e)}return this}return this._globalCursor},preventDefault(t){return arguments.length?(this._preventDefault=t,this):this._preventDefault},timer:xht,events:Dft,finalize:$ft,hover:Oft,data:lft,change:fft,insert:hft,remove:dft,scale:uht,initialize:Jft,toImageURL:rht,toCanvas:oht,toSVG:aht,getState:vht,setState:wht});const Oht="view",$ht="[",Nht="]",Bht="{",Rht="}",Pht=":",Iht=",",jht="@",Lht=">",zht=/[[\]{}]/,Uht={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let qht,Vht;function Hht(t,e,n){return qht=e||Oht,Vht=n||Uht,Ght(t.trim()).map(Kht)}function Wht(t){return Vht[t]}function Yht(t,e,n,r,i){const o=t.length;let a,s=0;for(;e<o;++e){if(a=t[e],!s&&a===n)return e;i&&i.indexOf(a)>=0?--s:r&&r.indexOf(a)>=0&&++s}return e}function Ght(t){const e=[],n=t.length;let r=0,i=0;while(i<n)i=Yht(t,i,Iht,$ht+Bht,Nht+Rht),e.push(t.substring(r,i).trim()),r=++i;if(0===e.length)throw"Empty event selector: "+t;return e}function Kht(t){return"["===t[0]?Xht(t):Jht(t)}function Xht(t){const e=t.length;let n,r=1;if(r=Yht(t,r,Nht,$ht,Nht),r===e)throw"Empty between selector: "+t;if(n=Ght(t.substring(1,r)),2!==n.length)throw"Between selector must have two elements: "+t;if(t=t.slice(r+1).trim(),t[0]!==Lht)throw"Expected '>' after between selector: "+t;n=n.map(Kht);const i=Kht(t.slice(1).trim());return i.between?{between:n,stream:i}:(i.between=n,i)}function Jht(t){const e={source:qht},n=[];let r,i,o=[0,0],a=0,s=0,u=t.length,c=0;if(t[u-1]===Rht){if(c=t.lastIndexOf(Bht),!(c>=0))throw"Unmatched right brace: "+t;try{o=Zht(t.substring(c+1,u-1))}catch(Tqt){throw"Invalid throttle specification: "+t}t=t.slice(0,c).trim(),u=t.length,c=0}if(!u)throw t;if(t[0]===jht&&(a=++c),r=Yht(t,c,Pht),r<u&&(n.push(t.substring(s,r).trim()),s=c=++r),c=Yht(t,c,$ht),c===u)n.push(t.substring(s,u).trim());else if(n.push(t.substring(s,c).trim()),i=[],s=++c,s===u)throw"Unmatched left bracket: "+t;while(c<u){if(c=Yht(t,c,Nht),c===u)throw"Unmatched left bracket: "+t;if(i.push(t.substring(s,c).trim()),c<u-1&&t[++c]!==$ht)throw"Expected left bracket: "+t;s=++c}if(!(u=n.length)||zht.test(n[u-1]))throw"Invalid event selector: "+t;return u>1?(e.type=n[1],a?e.markname=n[0].slice(1):Wht(n[0])?e.marktype=n[0]:e.source=n[0]):e.type=n[0],"!"===e.type.slice(-1)&&(e.consume=!0,e.type=e.type.slice(0,-1)),null!=i&&(e.filter=i),o[0]&&(e.throttle=o[0]),o[1]&&(e.debounce=o[1]),e}function Zht(t){const e=t.split(Iht);if(!t.length||e.length>2)throw t;return e.map((e=>{const n=+e;if(n!==n)throw t;return n}))}function Qht(t){return Ct(t)?t:{type:t||"pad"}}const tdt=t=>+t||0,edt=t=>({top:t,bottom:t,left:t,right:t});function ndt(t){return Ct(t)?t.signal?t:{top:tdt(t.top),bottom:tdt(t.bottom),left:tdt(t.left),right:tdt(t.right)}:edt(tdt(t))}const rdt=t=>Ct(t)&&!St(t)?se({},t):{value:t};function idt(t,e,n,r){if(null!=n){const i=Ct(n)&&!St(n)||St(n)&&n.length&&Ct(n[0]);return i?t.update[e]=n:t[r||"enter"][e]={value:n},1}return 0}function odt(t,e,n){for(const r in e)idt(t,r,e[r]);for(const r in n)idt(t,r,n[r],"update")}function adt(t,e,n){for(const r in e)n&&fe(n,r)||(t[r]=se(t[r]||{},e[r]));return t}function sdt(t,e){return e&&(e.enter&&e.enter[t]||e.update&&e.update[t])}const udt="mark",cdt="frame",ldt="scope",fdt="axis",hdt="axis-domain",ddt="axis-grid",pdt="axis-label",gdt="axis-tick",mdt="axis-title",vdt="legend",ydt="legend-band",bdt="legend-entry",wdt="legend-gradient",xdt="legend-label",_dt="legend-symbol",kdt="legend-title",Adt="title",Sdt="title-text",Cdt="title-subtitle";function Edt(t,e,n,r,i){const o={},a={};let s,u,c,l;for(u in u="lineBreak","text"!==e||null==i[u]||sdt(u,t)||Ddt(o,u,i[u]),("legend"==n||String(n).startsWith("axis"))&&(n=null),l=n===cdt?i.group:n===udt?se({},i.mark,i[e]):null,l)c=sdt(u,t)||("fill"===u||"stroke"===u)&&(sdt("fill",t)||sdt("stroke",t)),c||Ddt(o,u,l[u]);for(u in Xt(r).forEach((e=>{const n=i.style&&i.style[e];for(const r in n)sdt(r,t)||Ddt(o,r,n[r])})),t=se({},t),o)l=o[u],l.signal?(s=s||{})[u]=l:a[u]=l;return t.enter=se(a,t.enter),s&&(t.update=se(s,t.update)),t}function Ddt(t,e,n){t[e]=n&&n.signal?{signal:n.signal}:{value:n}}const Mdt=t=>_e(t)?Fe(t):t.signal?`(${t.signal})`:Bdt(t);function Tdt(t){if(null!=t.gradient)return $dt(t);let e=t.signal?`(${t.signal})`:t.color?Odt(t.color):null!=t.field?Bdt(t.field):void 0!==t.value?Fe(t.value):void 0;return null!=t.scale&&(e=Pdt(t,e)),void 0===e&&(e=null),null!=t.exponent&&(e=`pow(${e},${Ndt(t.exponent)})`),null!=t.mult&&(e+=`*${Ndt(t.mult)}`),null!=t.offset&&(e+=`+${Ndt(t.offset)}`),t.round&&(e=`round(${e})`),e}const Fdt=(t,e,n,r)=>`(${t}(${[e,n,r].map(Tdt).join(",")})+'')`;function Odt(t){return t.c?Fdt("hcl",t.h,t.c,t.l):t.h||t.s?Fdt("hsl",t.h,t.s,t.l):t.l||t.a?Fdt("lab",t.l,t.a,t.b):t.r||t.g||t.b?Fdt("rgb",t.r,t.g,t.b):null}function $dt(t){const e=[t.start,t.stop,t.count].map((t=>null==t?null:Fe(t)));while(e.length&&null==Ft(e))e.pop();return e.unshift(Mdt(t.gradient)),`gradient(${e.join(",")})`}function Ndt(t){return Ct(t)?"("+Tdt(t)+")":t}function Bdt(t){return Rdt(Ct(t)?t:{datum:t})}function Rdt(t){let e,n,r;if(t.signal)e="datum",r=t.signal;else if(t.group||t.parent){n=Math.max(1,t.level||1),e="item";while(n-- >0)e+=".mark.group";t.parent?(r=t.parent,e+=".datum"):r=t.group}else t.datum?(e="datum",r=t.datum):ct("Invalid field reference: "+Fe(t));return t.signal||(r=_e(r)?lt(r).map(Fe).join("]["):Rdt(r)),e+"["+r+"]"}function Pdt(t,e){const n=Mdt(t.scale);return null!=t.range?e=`lerp(_range(${n}), ${+t.range})`:(void 0!==e&&(e=`_scale(${n}, ${e})`),t.band&&(e=(e?e+"+":"")+`_bandwidth(${n})`+(1===+t.band?"":"*"+Ndt(t.band)),t.extra&&(e=`(datum.extra ? _scale(${n}, datum.extra.value) : ${e})`)),null==e&&(e="0")),e}function Idt(t){let e="";return t.forEach((t=>{const n=Tdt(t);e+=t.test?`(${t.test})?${n}:`:n})),":"===Ft(e)&&(e+="null"),e}function jdt(t,e,n,r,i,o){const a={};o=o||{},o.encoders={$encode:a},t=Edt(t,e,n,r,i.config);for(const s in t)a[s]=Ldt(t[s],e,o,i);return o}function Ldt(t,e,n,r){const i={},o={};for(const a in t)null!=t[a]&&(i[a]=Udt(zdt(t[a]),r,n,o));return{$expr:{marktype:e,channels:i},$fields:Object.keys(o),$output:Object.keys(t)}}function zdt(t){return St(t)?Idt(t):Tdt(t)}function Udt(t,e,n,r){const i=Zct(t,e);return i.$fields.forEach((t=>r[t]=1)),se(n,i.$params),i.$expr}const qdt="outer",Vdt=["value","update","init","react","bind"];function Hdt(t,e){ct(t+' for "outer" push: '+Fe(e))}function Wdt(t,e){const n=t.name;if(t.push===qdt)e.signals[n]||Hdt("No prior signal definition",n),Vdt.forEach((e=>{void 0!==t[e]&&Hdt("Invalid property ",e)}));else{const r=e.addSignal(n,t.value);!1===t.react&&(r.react=!1),t.bind&&e.addBinding(n,t.bind)}}function Ydt(t,e,n,r){this.id=-1,this.type=t,this.value=e,this.params=n,r&&(this.parent=r)}function Gdt(t,e,n,r){return new Ydt(t,e,n,r)}function Kdt(t,e){return Gdt("operator",t,e)}function Xdt(t){const e={$ref:t.id};return t.id<0&&(t.refs=t.refs||[]).push(e),e}function Jdt(t,e){return e?{$field:t,$name:e}:{$field:t}}const Zdt=Jdt("key");function Qdt(t,e){return{$compare:t,$order:e}}function tpt(t,e){const n={$key:t};return e&&(n.$flat=!0),n}const ept="ascending",npt="descending";function rpt(t){return Ct(t)?(t.order===npt?"-":"+")+ipt(t.op,t.field):""}function ipt(t,e){return(t&&t.signal?"$"+t.signal:t||"")+(t&&e?"_":"")+(e&&e.signal?"$"+e.signal:e||"")}const opt="scope",apt="view";function spt(t){return t&&t.signal}function upt(t){return t&&t.expr}function cpt(t){if(spt(t))return!0;if(Ct(t))for(const e in t)if(cpt(t[e]))return!0;return!1}function lpt(t,e){return null!=t?t:e}function fpt(t){return t&&t.signal||t}const hpt="timer";function dpt(t,e){const n=t.merge?gpt:t.stream?mpt:t.type?vpt:ct("Invalid stream specification: "+Fe(t));return n(t,e)}function ppt(t){return t===opt?apt:t||apt}function gpt(t,e){const n=t.merge.map((t=>dpt(t,e))),r=ypt({merge:n},t,e);return e.addStream(r).id}function mpt(t,e){const n=dpt(t.stream,e),r=ypt({stream:n},t,e);return e.addStream(r).id}function vpt(t,e){let n;t.type===hpt?(n=e.event(hpt,t.throttle),t={between:t.between,filter:t.filter}):n=e.event(ppt(t.source),t.type);const r=ypt({stream:n},t,e);return 1===Object.keys(r).length?n:e.addStream(r).id}function ypt(t,e,n){let r=e.between;return r&&(2!==r.length&&ct('Stream "between" parameter must have 2 entries: '+Fe(e)),t.between=[dpt(r[0],n),dpt(r[1],n)]),r=e.filter?[].concat(e.filter):[],(e.marktype||e.markname||e.markrole)&&r.push(bpt(e.marktype,e.markname,e.markrole)),e.source===opt&&r.push("inScope(event.item)"),r.length&&(t.filter=Zct("("+r.join(")&&(")+")",n).$expr),null!=(r=e.throttle)&&(t.throttle=+r),null!=(r=e.debounce)&&(t.debounce=+r),e.consume&&(t.consume=!0),t}function bpt(t,e,n){const r="event.item";return r+(t&&"*"!==t?"&&"+r+".mark.marktype==='"+t+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(e?"&&"+r+".mark.name==='"+e+"'":"")}const wpt={code:"_.$value",ast:{type:"Identifier",value:"value"}};function xpt(t,e,n){const r=t.encode,i={target:n};let o=t.events,a=t.update,s=[];o||ct("Signal update missing events specification."),_e(o)&&(o=Hht(o,e.isSubscope()?opt:apt)),o=Xt(o).filter((t=>t.signal||t.scale?(s.push(t),0):1)),s.length>1&&(s=[kpt(s)]),o.length&&s.push(o.length>1?{merge:o}:o[0]),null!=r&&(a&&ct("Signal encode and update are mutually exclusive."),a="encode(item(),"+Fe(r)+")"),i.update=_e(a)?Zct(a,e):null!=a.expr?Zct(a.expr,e):null!=a.value?a.value:null!=a.signal?{$expr:wpt,$params:{$value:e.signalRef(a.signal)}}:ct("Invalid signal update specification."),t.force&&(i.options={force:!0}),s.forEach((t=>e.addUpdate(se(_pt(t,e),i))))}function _pt(t,e){return{source:t.signal?e.signalRef(t.signal):t.scale?e.scaleRef(t.scale):dpt(t,e)}}function kpt(t){return{signal:"["+t.map((t=>t.scale?'scale("'+t.scale+'")':t.signal))+"]"}}function Apt(t,e){const n=e.getSignal(t.name);let r=t.update;t.init&&(r?ct("Signals can not include both init and update expressions."):(r=t.init,n.initonly=!0)),r&&(r=Zct(r,e),n.update=r.$expr,n.params=r.$params),t.on&&t.on.forEach((t=>xpt(t,e,n.id)))}const Spt=t=>(e,n,r)=>Gdt(t,n,e||void 0,r),Cpt=Spt("aggregate"),Ept=Spt("axisticks"),Dpt=Spt("bound"),Mpt=Spt("collect"),Tpt=Spt("compare"),Fpt=Spt("datajoin"),Opt=Spt("encode"),$pt=Spt("expression"),Npt=Spt("facet"),Bpt=Spt("field"),Rpt=Spt("key"),Ppt=Spt("legendentries"),Ipt=Spt("load"),jpt=Spt("mark"),Lpt=Spt("multiextent"),zpt=Spt("multivalues"),Upt=Spt("overlap"),qpt=Spt("params"),Vpt=Spt("prefacet"),Hpt=Spt("projection"),Wpt=Spt("proxy"),Ypt=Spt("relay"),Gpt=Spt("render"),Kpt=Spt("scale"),Xpt=Spt("sieve"),Jpt=Spt("sortitems"),Zpt=Spt("viewlayout"),Qpt=Spt("values");let tgt=0;const egt={min:"min",max:"max",count:"sum"};function ngt(t,e){const n=t.type||"linear";LI(n)||ct("Unrecognized scale type: "+Fe(n)),e.addScale(t.name,{type:n,domain:void 0})}function rgt(t,e){const n=e.getScale(t.name).params;let r;for(r in n.domain=sgt(t.domain,t,e),null!=t.range&&(n.range=bgt(t,e,n)),null!=t.interpolate&&ygt(t.interpolate,n),null!=t.nice&&(n.nice=vgt(t.nice)),null!=t.bins&&(n.bins=mgt(t.bins,e)),t)fe(n,r)||"name"===r||(n[r]=igt(t[r],e))}function igt(t,e){return Ct(t)?t.signal?e.signalRef(t.signal):ct("Unsupported object: "+Fe(t)):t}function ogt(t,e){return t.signal?e.signalRef(t.signal):t.map((t=>igt(t,e)))}function agt(t){ct("Can not find data set: "+Fe(t))}function sgt(t,e,n){if(t)return t.signal?n.signalRef(t.signal):(St(t)?ugt:t.fields?lgt:cgt)(t,e,n);null==e.domainMin&&null==e.domainMax||ct("No scale domain defined for domainMin/domainMax to override.")}function ugt(t,e,n){return t.map((t=>igt(t,n)))}function cgt(t,e,n){const r=n.getData(t.data);return r||agt(t.data),qI(e.type)?r.valuesRef(n,t.field,dgt(t.sort,!1)):GI(e.type)?r.domainRef(n,t.field):r.extentRef(n,t.field)}function lgt(t,e,n){const r=t.data,i=t.fields.reduce(((t,e)=>(e=_e(e)?{data:r,field:e}:St(e)||e.signal?fgt(e,n):e,t.push(e),t)),[]);return(qI(e.type)?hgt:GI(e.type)?pgt:ggt)(t,n,i)}function fgt(t,e){const n="_:vega:_"+tgt++,r=Mpt({});if(St(t))r.value={$ingest:t};else if(t.signal){const i="setdata("+Fe(n)+","+t.signal+")";r.params.input=e.signalRef(i)}return e.addDataPipeline(n,[r,Xpt({})]),{data:n,field:"data"}}function hgt(t,e,n){const r=dgt(t.sort,!0);let i,o;const a=n.map((t=>{const n=e.getData(t.data);return n||agt(t.data),n.countsRef(e,t.field,r)})),s={groupby:Zdt,pulse:a};r&&(i=r.op||"count",o=r.field?ipt(i,r.field):"count",s.ops=[egt[i]],s.fields=[e.fieldRef(o)],s.as=[o]),i=e.add(Cpt(s));const u=e.add(Mpt({pulse:Xdt(i)}));return o=e.add(Qpt({field:Zdt,sort:e.sortRef(r),pulse:Xdt(u)})),Xdt(o)}function dgt(t,e){return t&&(t.field||t.op?t.field||"count"===t.op?e&&t.field&&t.op&&!egt[t.op]&&ct("Multiple domain scales can not be sorted using "+t.op):ct("No field provided for sort aggregate op: "+t.op):Ct(t)?t.field="key":t={field:"key"}),t}function pgt(t,e,n){const r=n.map((t=>{const n=e.getData(t.data);return n||agt(t.data),n.domainRef(e,t.field)}));return Xdt(e.add(zpt({values:r})))}function ggt(t,e,n){const r=n.map((t=>{const n=e.getData(t.data);return n||agt(t.data),n.extentRef(e,t.field)}));return Xdt(e.add(Lpt({extents:r})))}function mgt(t,e){return t.signal||St(t)?ogt(t,e):e.objectProperty(t)}function vgt(t){return Ct(t)?{interval:igt(t.interval),step:igt(t.step)}:igt(t)}function ygt(t,e){e.interpolate=igt(t.type||t),null!=t.gamma&&(e.interpolateGamma=igt(t.gamma))}function bgt(t,e,n){const r=e.config.range;let i=t.range;if(i.signal)return e.signalRef(i.signal);if(_e(i)){if(r&&fe(r,i))return t=se({},t,{range:r[i]}),bgt(t,e,n);"width"===i?i=[0,{signal:"width"}]:"height"===i?i=qI(t.type)?[0,{signal:"height"}]:[{signal:"height"},0]:ct("Unrecognized scale range value: "+Fe(i))}else{if(i.scheme)return n.scheme=St(i.scheme)?ogt(i.scheme,e):igt(i.scheme,e),i.extent&&(n.schemeExtent=ogt(i.extent,e)),void(i.count&&(n.schemeCount=igt(i.count,e)));if(i.step)return void(n.rangeStep=igt(i.step,e));if(qI(t.type)&&!St(i))return sgt(i,t,e);St(i)||ct("Unsupported range type: "+Fe(i))}return i.map((t=>(St(t)?ogt:igt)(t,e)))}function wgt(t,e){const n=e.config.projection||{},r={};for(const i in t)"name"!==i&&(r[i]=xgt(t[i],i,e));for(const i in n)null==r[i]&&(r[i]=xgt(n[i],i,e));e.addProjection(t.name,r)}function xgt(t,e,n){return St(t)?t.map((t=>xgt(t,e,n))):Ct(t)?t.signal?n.signalRef(t.signal):"fit"===e?t:ct("Unsupported parameter object: "+Fe(t)):t}const _gt="top",kgt="left",Agt="right",Sgt="bottom",Cgt="center",Egt="vertical",Dgt="start",Mgt="middle",Tgt="end",Fgt="index",Ogt="label",$gt="offset",Ngt="perc",Bgt="perc2",Rgt="value",Pgt="guide-label",Igt="guide-title",jgt="group-title",Lgt="group-subtitle",zgt="symbol",Ugt="gradient",qgt="discrete",Vgt="size",Hgt="shape",Wgt="fill",Ygt="stroke",Ggt="strokeWidth",Kgt="strokeDash",Xgt="opacity",Jgt=[Vgt,Hgt,Wgt,Ygt,Ggt,Kgt,Xgt],Zgt={name:1,style:1,interactive:1},Qgt={value:0},tmt={value:1},emt="group",nmt="rect",rmt="rule",imt="symbol",omt="text";function amt(t){return t.type=emt,t.interactive=t.interactive||!1,t}function smt(t,e){const n=(n,r)=>lpt(t[n],lpt(e[n],r));return n.isVertical=n=>Egt===lpt(t.direction,e.direction||(n?e.symbolDirection:e.gradientDirection)),n.gradientLength=()=>lpt(t.gradientLength,e.gradientLength||e.gradientWidth),n.gradientThickness=()=>lpt(t.gradientThickness,e.gradientThickness||e.gradientHeight),n.entryColumns=()=>lpt(t.columns,lpt(e.columns,+n.isVertical(!0))),n}function umt(t,e){const n=e&&(e.update&&e.update[t]||e.enter&&e.enter[t]);return n&&n.signal?n:n?n.value:null}function cmt(t,e,n){const r=e.config.style[n];return r&&r[t]}function lmt(t,e,n){return`item.anchor === '${Dgt}' ? ${t} : item.anchor === '${Tgt}' ? ${e} : ${n}`}const fmt=lmt(Fe(kgt),Fe(Agt),Fe(Cgt));function hmt(t){const e=t("tickBand");let n,r,i=t("tickOffset");return e?e.signal?(n={signal:`(${e.signal}) === 'extent' ? 1 : 0.5`},r={signal:`(${e.signal}) === 'extent'`},Ct(i)||(i={signal:`(${e.signal}) === 'extent' ? 0 : ${i}`})):"extent"===e?(n=1,r=!0,i=0):(n=.5,r=!1):(n=t("bandPosition"),r=t("tickExtra")),{extra:r,band:n,offset:i}}function dmt(t,e){return e?t?Ct(t)?Object.assign({},t,{offset:dmt(t.offset,e)}):{value:t,offset:e}:e:t}function pmt(t,e){return e?(t.name=e.name,t.style=e.style||t.style,t.interactive=!!e.interactive,t.encode=adt(t.encode,e,Zgt)):t.interactive=!1,t}function gmt(t,e,n,r){const i=smt(t,n),o=i.isVertical(),a=i.gradientThickness(),s=i.gradientLength();let u,c,l,f,h;o?(c=[0,1],l=[0,0],f=a,h=s):(c=[0,0],l=[1,0],f=s,h=a);const d={enter:u={opacity:Qgt,x:Qgt,y:Qgt,width:rdt(f),height:rdt(h)},update:se({},u,{opacity:tmt,fill:{gradient:e,start:c,stop:l}}),exit:{opacity:Qgt}};return odt(d,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),pmt({type:nmt,role:wdt,encode:d},r)}function mmt(t,e,n,r,i){const o=smt(t,n),a=o.isVertical(),s=o.gradientThickness(),u=o.gradientLength();let c,l,f,h,d="";a?(c="y",f="y2",l="x",h="width",d="1-"):(c="x",f="x2",l="y",h="height");const p={opacity:Qgt,fill:{scale:e,field:Rgt}};p[c]={signal:d+"datum."+Ngt,mult:u},p[l]=Qgt,p[f]={signal:d+"datum."+Bgt,mult:u},p[h]=rdt(s);const g={enter:p,update:se({},p,{opacity:tmt}),exit:{opacity:Qgt}};return odt(g,{stroke:o("gradientStrokeColor"),strokeWidth:o("gradientStrokeWidth")},{opacity:o("gradientOpacity")}),pmt({type:nmt,role:ydt,key:Rgt,from:i,encode:g},r)}const vmt=`datum.${Ngt}<=0?"${kgt}":datum.${Ngt}>=1?"${Agt}":"${Cgt}"`,ymt=`datum.${Ngt}<=0?"${Sgt}":datum.${Ngt}>=1?"${_gt}":"${Mgt}"`;function bmt(t,e,n,r){const i=smt(t,e),o=i.isVertical(),a=rdt(i.gradientThickness()),s=i.gradientLength();let u,c,l,f,h=i("labelOverlap"),d="";const p={enter:u={opacity:Qgt},update:c={opacity:tmt,text:{field:Ogt}},exit:{opacity:Qgt}};return odt(p,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:lpt(t.labelLimit,e.gradientLabelLimit)}),o?(u.align={value:"left"},u.baseline=c.baseline={signal:ymt},l="y",f="x",d="1-"):(u.align=c.align={signal:vmt},u.baseline={value:"top"},l="x",f="y"),u[l]=c[l]={signal:d+"datum."+Ngt,mult:s},u[f]=c[f]=a,a.offset=lpt(t.labelOffset,e.gradientLabelOffset)||0,h=h?{separation:i("labelSeparation"),method:h,order:"datum."+Fgt}:void 0,pmt({type:omt,role:xdt,style:Pgt,key:Rgt,from:r,encode:p,overlap:h},n)}function wmt(t,e,n,r,i){const o=smt(t,e),a=n.entries,s=!(!a||!a.interactive),u=a?a.name:void 0,c=o("clipHeight"),l=o("symbolOffset"),f={data:"value"},h=`(${i}) ? datum.${$gt} : datum.${Vgt}`,d=c?rdt(c):{field:Vgt},p=`datum.${Fgt}`,g=`max(1, ${i})`;let m,v,y,b,w;d.mult=.5,m={enter:v={opacity:Qgt,x:{signal:h,mult:.5,offset:l},y:d},update:y={opacity:tmt,x:v.x,y:v.y},exit:{opacity:Qgt}};let x=null,_=null;t.fill||(x=e.symbolBaseFillColor,_=e.symbolBaseStrokeColor),odt(m,{fill:o("symbolFillColor",x),shape:o("symbolType"),size:o("symbolSize"),stroke:o("symbolStrokeColor",_),strokeDash:o("symbolDash"),strokeDashOffset:o("symbolDashOffset"),strokeWidth:o("symbolStrokeWidth")},{opacity:o("symbolOpacity")}),Jgt.forEach((e=>{t[e]&&(y[e]=v[e]={scale:t[e],field:Rgt})}));const k=pmt({type:imt,role:_dt,key:Rgt,from:f,clip:!!c||void 0,encode:m},n.symbols),A=rdt(l);A.offset=o("labelOffset"),m={enter:v={opacity:Qgt,x:{signal:h,offset:A},y:d},update:y={opacity:tmt,text:{field:Ogt},x:v.x,y:v.y},exit:{opacity:Qgt}},odt(m,{align:o("labelAlign"),baseline:o("labelBaseline"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontStyle:o("labelFontStyle"),fontWeight:o("labelFontWeight"),limit:o("labelLimit")});const S=pmt({type:omt,role:xdt,style:Pgt,key:Rgt,from:f,encode:m},n.labels);return m={enter:{noBound:{value:!c},width:Qgt,height:c?rdt(c):Qgt,opacity:Qgt},exit:{opacity:Qgt},update:y={opacity:tmt,row:{signal:null},column:{signal:null}}},o.isVertical(!0)?(b=`ceil(item.mark.items.length / ${g})`,y.row.signal=`${p}%${b}`,y.column.signal=`floor(${p} / ${b})`,w={field:["row",p]}):(y.row.signal=`floor(${p} / ${g})`,y.column.signal=`${p} % ${g}`,w={field:p}),y.column.signal=`(${i})?${y.column.signal}:${p}`,r={facet:{data:r,name:"value",groupby:Fgt}},amt({role:ldt,from:r,encode:adt(m,a,Zgt),marks:[k,S],name:u,interactive:s,sort:w})}function xmt(t,e){const n=smt(t,e);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const _mt='item.orient === "left"',kmt='item.orient === "right"',Amt=`(${_mt} || ${kmt})`,Smt=`datum.vgrad && ${Amt}`,Cmt=lmt('"top"','"bottom"','"middle"'),Emt=lmt('"right"','"left"','"center"'),Dmt=`datum.vgrad && ${kmt} ? (${Emt}) : (${Amt} && !(datum.vgrad && ${_mt})) ? "left" : ${fmt}`,Mmt=`item._anchor || (${Amt} ? "middle" : "start")`,Tmt=`${Smt} ? (${_mt} ? -90 : 90) : 0`,Fmt=`${Amt} ? (datum.vgrad ? (${kmt} ? "bottom" : "top") : ${Cmt}) : "top"`;function Omt(t,e,n,r){const i=smt(t,e),o={enter:{opacity:Qgt},update:{opacity:tmt,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Qgt}};return odt(o,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:Mmt},angle:{signal:Tmt},align:{signal:Dmt},baseline:{signal:Fmt},text:t.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),pmt({type:omt,role:kdt,style:Igt,from:r,encode:o},n)}function $mt(t,e){let n;return Ct(t)&&(t.signal?n=t.signal:t.path?n="pathShape("+Nmt(t.path)+")":t.sphere&&(n="geoShape("+Nmt(t.sphere)+', {type: "Sphere"})')),n?e.signalRef(n):!!t}function Nmt(t){return Ct(t)&&t.signal?t.signal:Fe(t)}function Bmt(t){const e=t.role||"";return e.indexOf("axis")&&e.indexOf("legend")&&e.indexOf("title")?t.type===emt?ldt:e||udt:e}function Rmt(t){return{marktype:t.type,name:t.name||void 0,role:t.role||Bmt(t),zindex:+t.zindex||void 0,aria:t.aria,description:t.description}}function Pmt(t,e){return t&&t.signal?e.signalRef(t.signal):!1!==t}function Imt(t,e){const n=vu(t.type);n||ct("Unrecognized transform type: "+Fe(t.type));const r=Gdt(n.type.toLowerCase(),null,jmt(n,t,e));return t.signal&&e.addSignal(t.signal,e.proxy(r)),r.metadata=n.metadata||{},r}function jmt(t,e,n){const r={},i=t.params.length;for(let o=0;o<i;++o){const i=t.params[o];r[i.name]=Lmt(i,e,n)}return r}function Lmt(t,e,n){const r=t.type,i=e[t.name];return"index"===r?Umt(t,e,n):void 0!==i?"param"===r?qmt(t,e,n):"projection"===r?n.projectionRef(e[t.name]):t.array&&!spt(i)?i.map((e=>zmt(t,e,n))):zmt(t,i,n):void(t.required&&ct("Missing required "+Fe(e.type)+" parameter: "+Fe(t.name)))}function zmt(t,e,n){const r=t.type;if(spt(e))return Gmt(r)?ct("Expression references can not be signals."):Kmt(r)?n.fieldRef(e):Xmt(r)?n.compareRef(e):n.signalRef(e.signal);{const i=t.expr||Kmt(r);return i&&Hmt(e)?n.exprRef(e.expr,e.as):i&&Wmt(e)?Jdt(e.field,e.as):Gmt(r)?Zct(e,n):Ymt(r)?Xdt(n.getData(e).values):Kmt(r)?Jdt(e):Xmt(r)?n.compareRef(e):e}}function Umt(t,e,n){return _e(e.from)||ct('Lookup "from" parameter must be a string literal.'),n.getData(e.from).lookupRef(n,e.key)}function qmt(t,e,n){const r=e[t.name];return t.array?(St(r)||ct("Expected an array of sub-parameters. Instead: "+Fe(r)),r.map((e=>Vmt(t,e,n)))):Vmt(t,r,n)}function Vmt(t,e,n){const r=t.params.length;let i;for(let a=0;a<r;++a){i=t.params[a];for(const t in i.key)if(i.key[t]!==e[t]){i=null;break}if(i)break}i||ct("Unsupported parameter: "+Fe(e));const o=se(jmt(i,e,n),i.key);return Xdt(n.add(qpt(o)))}const Hmt=t=>t&&t.expr,Wmt=t=>t&&t.field,Ymt=t=>"data"===t,Gmt=t=>"expr"===t,Kmt=t=>"field"===t,Xmt=t=>"compare"===t;function Jmt(t,e,n){let r,i,o,a,s;return t?(r=t.facet)&&(e||ct("Only group marks can be faceted."),null!=r.field?a=s=Zmt(r,n):(t.data?s=Xdt(n.getData(t.data).aggregate):(o=Imt(se({type:"aggregate",groupby:Xt(r.groupby)},r.aggregate),n),o.params.key=n.keyRef(r.groupby),o.params.pulse=Zmt(r,n),a=s=Xdt(n.add(o))),i=n.keyRef(r.groupby,!0))):a=Xdt(n.add(Mpt(null,[{}]))),a||(a=Zmt(t,n)),{key:i,pulse:a,parent:s}}function Zmt(t,e){return t.$ref?t:t.data&&t.data.$ref?t.data:Xdt(e.getData(t.data).output)}function Qmt(t,e,n,r,i){this.scope=t,this.input=e,this.output=n,this.values=r,this.aggregate=i,this.index={}}function tvt(t){return _e(t)?t:null}function evt(t,e,n){const r=ipt(n.op,n.field);let i;if(e.ops){for(let o=0,a=e.as.length;o<a;++o)if(e.as[o]===r)return}else e.ops=["count"],e.fields=[null],e.as=["count"];n.op&&(e.ops.push((i=n.op.signal)?t.signalRef(i):n.op),e.fields.push(t.fieldRef(n.field)),e.as.push(r))}function nvt(t,e,n,r,i,o,a){const s=e[n]||(e[n]={}),u=rpt(o);let c,l,f=tvt(i);if(null!=f&&(t=e.scope,f+=u?"|"+u:"",c=s[f]),!c){const n=o?{field:Zdt,pulse:e.countsRef(t,i,o)}:{field:t.fieldRef(i),pulse:Xdt(e.output)};u&&(n.sort=t.sortRef(o)),l=t.add(Gdt(r,void 0,n)),a&&(e.index[i]=l),c=Xdt(l),null!=f&&(s[f]=c)}return c}function rvt(t,e,n){const r=t.from.facet,i=r.name,o=Zmt(r,e);let a;r.name||ct("Facet must have a name: "+Fe(r)),r.data||ct("Facet must reference a data set: "+Fe(r)),r.field?a=e.add(Vpt({field:e.fieldRef(r.field),pulse:o})):r.groupby?a=e.add(Npt({key:e.keyRef(r.groupby),group:Xdt(e.proxy(n.parent)),pulse:o})):ct("Facet must specify groupby or field: "+Fe(r));const s=e.fork(),u=s.add(Mpt()),c=s.add(Xpt({pulse:Xdt(u)}));s.addData(i,new Qmt(s,u,u,c)),s.addSignal("parent",null),a.params.subflow={$subflow:s.parse(t).toRuntime()}}function ivt(t,e,n){const r=e.add(Vpt({pulse:n.pulse})),i=e.fork();i.add(Xpt()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(t).toRuntime()}}function ovt(t,e,n){const r=t.remove,i=t.insert,o=t.toggle,a=t.modify,s=t.values,u=e.add(Kdt()),c="if("+t.trigger+',modify("'+n+'",'+[i,r,o,a,s].map((t=>null==t?"null":t)).join(",")+"),0)",l=Zct(c,e);u.update=l.$expr,u.params=l.$params}function avt(t,e){const n=Bmt(t),r=t.type===emt,i=t.from&&t.from.facet,o=t.overlap;let a,s,u,c,l,f,h,d=t.layout||n===ldt||n===cdt;const p=n===udt||d||i,g=Jmt(t.from,r,e);s=e.add(Fpt({key:g.key||(t.key?Jdt(t.key):void 0),pulse:g.pulse,clean:!r}));const m=Xdt(s);s=u=e.add(Mpt({pulse:m})),s=e.add(jpt({markdef:Rmt(t),interactive:Pmt(t.interactive,e),clip:$mt(t.clip,e),context:{$context:!0},groups:e.lookup(),parent:e.signals.parent?e.signalRef("parent"):null,index:e.markpath(),pulse:Xdt(s)}));const v=Xdt(s);s=c=e.add(Opt(jdt(t.encode,t.type,n,t.style,e,{mod:!1,pulse:v}))),s.params.parent=e.encode(),t.transform&&t.transform.forEach((t=>{const n=Imt(t,e),r=n.metadata;(r.generates||r.changes)&&ct("Mark transforms should not generate new data."),r.nomod||(c.params.mod=!0),n.params.pulse=Xdt(s),e.add(s=n)})),t.sort&&(s=e.add(Jpt({sort:e.compareRef(t.sort),pulse:Xdt(s)})));const y=Xdt(s);(i||d)&&(d=e.add(Zpt({layout:e.objectProperty(t.layout),legends:e.legends,mark:v,pulse:y})),f=Xdt(d));const b=e.add(Dpt({mark:v,pulse:f||y}));h=Xdt(b),r&&(p&&(a=e.operators,a.pop(),d&&a.pop()),e.pushState(y,f||h,m),i?rvt(t,e,g):p?ivt(t,e,g):e.parse(t),e.popState(),p&&(d&&a.push(d),a.push(b))),o&&(h=svt(o,h,e));const w=e.add(Gpt({pulse:h})),x=e.add(Xpt({pulse:Xdt(w)},void 0,e.parent()));null!=t.name&&(l=t.name,e.addData(l,new Qmt(e,u,w,x)),t.on&&t.on.forEach((t=>{(t.insert||t.remove||t.toggle)&&ct("Marks only support modify triggers."),ovt(t,e,l)})))}function svt(t,e,n){const r=t.method,i=t.bound,o=t.separation,a={separation:spt(o)?n.signalRef(o.signal):o,method:spt(r)?n.signalRef(r.signal):r,pulse:e};if(t.order&&(a.sort=n.compareRef({field:t.order})),i){const t=i.tolerance;a.boundTolerance=spt(t)?n.signalRef(t.signal):+t,a.boundScale=n.scaleRef(i.scale),a.boundOrient=i.orient}return Xdt(n.add(Upt(a)))}function uvt(t,e){const n=e.config.legend,r=t.encode||{},i=smt(t,n),o=r.legend||{},a=o.name||void 0,s=o.interactive,u=o.style,c={};let l,f,h,d=0;Jgt.forEach((e=>t[e]?(c[e]=t[e],d=d||t[e]):0)),d||ct("Missing valid scale for legend.");const p=cvt(t,e.scaleType(d)),g={title:null!=t.title,scales:c,type:p,vgrad:"symbol"!==p&&i.isVertical()},m=Xdt(e.add(Mpt(null,[g]))),v={enter:{x:{value:0},y:{value:0}}},y=Xdt(e.add(Ppt(f={type:p,scale:e.scaleRef(d),count:e.objectProperty(i("tickCount")),limit:e.property(i("symbolLimit")),values:e.objectProperty(t.values),minstep:e.property(t.tickMinStep),formatType:e.property(t.formatType),formatSpecifier:e.property(t.format)})));return p===Ugt?(h=[gmt(t,d,n,r.gradient),bmt(t,n,r.labels,y)],f.count=f.count||e.signalRef(`max(2,2*floor((${fpt(i.gradientLength())})/100))`)):p===qgt?h=[mmt(t,d,n,r.gradient,y),bmt(t,n,r.labels,y)]:(l=xmt(t,n),h=[wmt(t,n,r,y,fpt(l.columns))],f.size=hvt(t,e,h[0].marks)),h=[amt({role:bdt,from:m,encode:v,marks:h,layout:l,interactive:s})],g.title&&h.push(Omt(t,n,r.title,m)),avt(amt({role:vdt,from:m,encode:adt(fvt(i,t,n),o,Zgt),marks:h,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:a,interactive:s,style:u}),e)}function cvt(t,e){let n=t.type||zgt;return t.type||1!==lvt(t)||!t.fill&&!t.stroke||(n=UI(e)?Ugt:VI(e)?qgt:zgt),n!==Ugt?n:VI(e)?qgt:Ugt}function lvt(t){return Jgt.reduce(((e,n)=>e+(t[n]?1:0)),0)}function fvt(t,e,n){const r={enter:{},update:{}};return odt(r,{orient:t("orient"),offset:t("offset"),padding:t("padding"),titlePadding:t("titlePadding"),cornerRadius:t("cornerRadius"),fill:t("fillColor"),stroke:t("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:t("legendX"),y:t("legendY"),format:e.format,formatType:e.formatType}),r}function hvt(t,e,n){const r=fpt(dvt("size",t,n)),i=fpt(dvt("strokeWidth",t,n)),o=fpt(pvt(n[1].encode,e,Pgt));return Zct(`max(ceil(sqrt(${r})+${i}),${o})`,e)}function dvt(t,e,n){return e[t]?`scale("${e[t]}",datum)`:umt(t,n[0].encode)}function pvt(t,e,n){return umt("fontSize",t)||cmt("fontSize",e,n)}Qmt.fromEntries=function(t,e){const n=e.length,r=e[n-1],i=e[n-2];let o=e[0],a=null,s=1;for(o&&"load"===o.type&&(o=e[1]),t.add(e[0]);s<n;++s)e[s].params.pulse=Xdt(e[s-1]),t.add(e[s]),"aggregate"===e[s].type&&(a=e[s]);return new Qmt(t,o,i,r,a)},Qmt.prototype={countsRef(t,e,n){const r=this,i=r.counts||(r.counts={}),o=tvt(e);let a,s,u;return null!=o&&(t=r.scope,a=i[o]),a?n&&n.field&&evt(t,a.agg.params,n):(u={groupby:t.fieldRef(e,"key"),pulse:Xdt(r.output)},n&&n.field&&evt(t,u,n),s=t.add(Cpt(u)),a=t.add(Mpt({pulse:Xdt(s)})),a={agg:s,ref:Xdt(a)},null!=o&&(i[o]=a)),a.ref},tuplesRef(){return Xdt(this.values)},extentRef(t,e){return nvt(t,this,"extent","extent",e,!1)},domainRef(t,e){return nvt(t,this,"domain","values",e,!1)},valuesRef(t,e,n){return nvt(t,this,"vals","values",e,n||!0)},lookupRef(t,e){return nvt(t,this,"lookup","tupleindex",e,!1)},indataRef(t,e){return nvt(t,this,"indata","tupleindex",e,!0,!0)}};const gvt=`item.orient==="${kgt}"?-90:item.orient==="${Agt}"?90:0`;function mvt(t,e){t=_e(t)?{text:t}:t;const n=smt(t,e.config.title),r=t.encode||{},i=r.group||{},o=i.name||void 0,a=i.interactive,s=i.style,u=[],c={},l=Xdt(e.add(Mpt(null,[c])));return u.push(bvt(t,n,vvt(t),l)),t.subtitle&&u.push(wvt(t,n,r.subtitle,l)),avt(amt({role:Adt,from:l,encode:yvt(n,i),marks:u,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:o,interactive:a,style:s}),e)}function vvt(t){const e=t.encode;return e&&e.title||se({name:t.name,interactive:t.interactive,style:t.style},e)}function yvt(t,e){const n={enter:{},update:{}};return odt(n,{orient:t("orient"),anchor:t("anchor"),align:{signal:fmt},angle:{signal:gvt},limit:t("limit"),frame:t("frame"),offset:t("offset")||0,padding:t("subtitlePadding")}),adt(n,e,Zgt)}function bvt(t,e,n,r){const i={value:0},o=t.text,a={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return odt(a,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:e("dx"),dy:e("dy"),fill:e("color"),font:e("font"),fontSize:e("fontSize"),fontStyle:e("fontStyle"),fontWeight:e("fontWeight"),lineHeight:e("lineHeight")},{align:e("align"),angle:e("angle"),baseline:e("baseline")}),pmt({type:omt,role:Sdt,style:jgt,from:r,encode:a},n)}function wvt(t,e,n,r){const i={value:0},o=t.subtitle,a={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return odt(a,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:e("dx"),dy:e("dy"),fill:e("subtitleColor"),font:e("subtitleFont"),fontSize:e("subtitleFontSize"),fontStyle:e("subtitleFontStyle"),fontWeight:e("subtitleFontWeight"),lineHeight:e("subtitleLineHeight")},{align:e("align"),angle:e("angle"),baseline:e("baseline")}),pmt({type:omt,role:Cdt,style:Lgt,from:r,encode:a},n)}function xvt(t,e){const n=[];t.transform&&t.transform.forEach((t=>{n.push(Imt(t,e))})),t.on&&t.on.forEach((n=>{ovt(n,e,t.name)})),e.addDataPipeline(t.name,_vt(t,e,n))}function _vt(t,e,n){const r=[];let i,o,a,s,u,c=null,l=!1,f=!1;for(t.values?spt(t.values)||cpt(t.format)?(r.push(Avt(e,t)),r.push(c=kvt())):r.push(c=kvt({$ingest:t.values,$format:t.format})):t.url?cpt(t.url)||cpt(t.format)?(r.push(Avt(e,t)),r.push(c=kvt())):r.push(c=kvt({$request:t.url,$format:t.format})):t.source&&(c=i=Xt(t.source).map((t=>Xdt(e.getData(t).output))),r.push(null)),o=0,a=n.length;o<a;++o)s=n[o],u=s.metadata,c||u.source||r.push(c=kvt()),r.push(s),u.generates&&(f=!0),u.modifies&&!f&&(l=!0),u.source?c=s:u.changes&&(c=null);return i&&(a=i.length-1,r[0]=Ypt({derive:l,pulse:a?i:i[0]}),(l||a)&&r.splice(1,0,kvt())),c||r.push(kvt()),r.push(Xpt({})),r}function kvt(t){const e=Mpt({},t);return e.metadata={source:!0},e}function Avt(t,e){return Ipt({url:e.url?t.property(e.url):void 0,async:e.async?t.property(e.async):void 0,values:e.values?t.property(e.values):void 0,format:t.objectProperty(e.format)})}const Svt=t=>t===Sgt||t===_gt,Cvt=(t,e,n)=>spt(t)?$vt(t.signal,e,n):t===kgt||t===_gt?e:n,Evt=(t,e,n)=>spt(t)?Fvt(t.signal,e,n):Svt(t)?e:n,Dvt=(t,e,n)=>spt(t)?Ovt(t.signal,e,n):Svt(t)?n:e,Mvt=(t,e,n)=>spt(t)?Nvt(t.signal,e,n):t===_gt?{value:e}:{value:n},Tvt=(t,e,n)=>spt(t)?Bvt(t.signal,e,n):t===Agt?{value:e}:{value:n},Fvt=(t,e,n)=>Rvt(`${t} === '${_gt}' || ${t} === '${Sgt}'`,e,n),Ovt=(t,e,n)=>Rvt(`${t} !== '${_gt}' && ${t} !== '${Sgt}'`,e,n),$vt=(t,e,n)=>Ivt(`${t} === '${kgt}' || ${t} === '${_gt}'`,e,n),Nvt=(t,e,n)=>Ivt(`${t} === '${_gt}'`,e,n),Bvt=(t,e,n)=>Ivt(`${t} === '${Agt}'`,e,n),Rvt=(t,e,n)=>(e=null!=e?rdt(e):e,n=null!=n?rdt(n):n,Pvt(e)&&Pvt(n)?(e=e?e.signal||Fe(e.value):null,n=n?n.signal||Fe(n.value):null,{signal:`${t} ? (${e}) : (${n})`}):[se({test:t},e)].concat(n||[])),Pvt=t=>null==t||1===Object.keys(t).length,Ivt=(t,e,n)=>({signal:`${t} ? (${Lvt(e)}) : (${Lvt(n)})`}),jvt=(t,e,n,r,i)=>({signal:(null!=r?`${t} === '${kgt}' ? (${Lvt(r)}) : `:"")+(null!=n?`${t} === '${Sgt}' ? (${Lvt(n)}) : `:"")+(null!=i?`${t} === '${Agt}' ? (${Lvt(i)}) : `:"")+(null!=e?`${t} === '${_gt}' ? (${Lvt(e)}) : `:"")+"(null)"}),Lvt=t=>spt(t)?t.signal:null==t?null:Fe(t),zvt=(t,e)=>0===e?0:spt(t)?{signal:`(${t.signal}) * ${e}`}:{value:t*e},Uvt=(t,e)=>{const n=t.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+e.signal}:t};function qvt(t,e,n,r){let i;if(e&&fe(e,t))return e[t];if(fe(n,t))return n[t];if(t.startsWith("title")){switch(t){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=t[5].toLowerCase()+t.slice(6)}return r[Igt][i]}if(t.startsWith("label")){switch(t){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=t[5].toLowerCase()+t.slice(6)}return r[Pgt][i]}return null}function Vvt(t){const e={};for(const n of t)if(n)for(const t in n)e[t]=1;return Object.keys(e)}function Hvt(t,e){var n,r,i,o=e.config,a=o.style,s=o.axis,u="band"===e.scaleType(t.scale)&&o.axisBand,c=t.orient;if(spt(c)){const t=Vvt([o.axisX,o.axisY]),e=Vvt([o.axisTop,o.axisBottom,o.axisLeft,o.axisRight]);for(i of(n={},t))n[i]=Evt(c,qvt(i,o.axisX,s,a),qvt(i,o.axisY,s,a));for(i of(r={},e))r[i]=jvt(c.signal,qvt(i,o.axisTop,s,a),qvt(i,o.axisBottom,s,a),qvt(i,o.axisLeft,s,a),qvt(i,o.axisRight,s,a))}else n=c===_gt||c===Sgt?o.axisX:o.axisY,r=o["axis"+c[0].toUpperCase()+c.slice(1)];const l=n||r||u?se({},s,n,r,u):s;return l}function Wvt(t,e,n,r){const i=smt(t,e),o=t.orient;let a,s;const u={enter:a={opacity:Qgt},update:s={opacity:tmt},exit:{opacity:Qgt}};odt(u,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const c=Yvt(t,0),l=Yvt(t,1);return a.x=s.x=Evt(o,c,Qgt),a.x2=s.x2=Evt(o,l),a.y=s.y=Dvt(o,c,Qgt),a.y2=s.y2=Dvt(o,l),pmt({type:rmt,role:hdt,from:r,encode:u},n)}function Yvt(t,e){return{scale:t.scale,range:e}}function Gvt(t,e,n,r,i){const o=smt(t,e),a=t.orient,s=t.gridScale,u=Cvt(a,1,-1),c=Kvt(t.offset,u);let l,f,h;const d={enter:l={opacity:Qgt},update:h={opacity:tmt},exit:f={opacity:Qgt}};odt(d,{stroke:o("gridColor"),strokeCap:o("gridCap"),strokeDash:o("gridDash"),strokeDashOffset:o("gridDashOffset"),strokeOpacity:o("gridOpacity"),strokeWidth:o("gridWidth")});const p={scale:t.scale,field:Rgt,band:i.band,extra:i.extra,offset:i.offset,round:o("tickRound")},g=Evt(a,{signal:"height"},{signal:"width"}),m=s?{scale:s,range:0,mult:u,offset:c}:{value:0,offset:c},v=s?{scale:s,range:1,mult:u,offset:c}:se(g,{mult:u,offset:c});return l.x=h.x=Evt(a,p,m),l.y=h.y=Dvt(a,p,m),l.x2=h.x2=Dvt(a,v),l.y2=h.y2=Evt(a,v),f.x=Evt(a,p),f.y=Dvt(a,p),pmt({type:rmt,role:ddt,key:Rgt,from:r,encode:d},n)}function Kvt(t,e){if(1===e);else if(Ct(t)){let n=t=se({},t);while(null!=n.mult){if(!Ct(n.mult))return n.mult=spt(e)?{signal:`(${n.mult}) * (${e.signal})`}:n.mult*e,t;n=n.mult=se({},n.mult)}n.mult=e}else t=spt(e)?{signal:`(${e.signal}) * (${t||0})`}:e*(t||0);return t}function Xvt(t,e,n,r,i,o){const a=smt(t,e),s=t.orient,u=Cvt(s,-1,1);let c,l,f;const h={enter:c={opacity:Qgt},update:f={opacity:tmt},exit:l={opacity:Qgt}};odt(h,{stroke:a("tickColor"),strokeCap:a("tickCap"),strokeDash:a("tickDash"),strokeDashOffset:a("tickDashOffset"),strokeOpacity:a("tickOpacity"),strokeWidth:a("tickWidth")});const d=rdt(i);d.mult=u;const p={scale:t.scale,field:Rgt,band:o.band,extra:o.extra,offset:o.offset,round:a("tickRound")};return f.y=c.y=Evt(s,Qgt,p),f.y2=c.y2=Evt(s,d),l.x=Evt(s,p),f.x=c.x=Dvt(s,Qgt,p),f.x2=c.x2=Dvt(s,d),l.y=Dvt(s,p),pmt({type:rmt,role:gdt,key:Rgt,from:r,encode:h},n)}function Jvt(t,e,n,r,i){return{signal:'flush(range("'+t+'"), scale("'+t+'", datum.value), '+e+","+n+","+r+","+i+")"}}function Zvt(t,e,n,r,i,o){const a=smt(t,e),s=t.orient,u=t.scale,c=Cvt(s,-1,1),l=fpt(a("labelFlush")),f=fpt(a("labelFlushOffset")),h=a("labelAlign"),d=a("labelBaseline");let p,g=0===l||!!l;const m=rdt(i);m.mult=c,m.offset=rdt(a("labelPadding")||0),m.offset.mult=c;const v={scale:u,field:Rgt,band:.5,offset:dmt(o.offset,a("labelOffset"))},y=Evt(s,g?Jvt(u,l,'"left"','"right"','"center"'):{value:"center"},Tvt(s,"left","right")),b=Evt(s,Mvt(s,"bottom","top"),g?Jvt(u,l,'"top"','"bottom"','"middle"'):{value:"middle"}),w=Jvt(u,l,`-(${f})`,f,0);g=g&&f;const x={opacity:Qgt,x:Evt(s,v,m),y:Dvt(s,v,m)},_={enter:x,update:p={opacity:tmt,text:{field:Ogt},x:x.x,y:x.y,align:y,baseline:b},exit:{opacity:Qgt,x:x.x,y:x.y}};odt(_,{dx:!h&&g?Evt(s,w):null,dy:!d&&g?Dvt(s,w):null}),odt(_,{angle:a("labelAngle"),fill:a("labelColor"),fillOpacity:a("labelOpacity"),font:a("labelFont"),fontSize:a("labelFontSize"),fontWeight:a("labelFontWeight"),fontStyle:a("labelFontStyle"),limit:a("labelLimit"),lineHeight:a("labelLineHeight")},{align:h,baseline:d});const k=a("labelBound");let A=a("labelOverlap");return A=A||k?{separation:a("labelSeparation"),method:A,order:"datum.index",bound:k?{scale:u,orient:s,tolerance:k}:null}:void 0,p.align!==y&&(p.align=Uvt(p.align,y)),p.baseline!==b&&(p.baseline=Uvt(p.baseline,b)),pmt({type:omt,role:pdt,style:Pgt,key:Rgt,from:r,encode:_,overlap:A},n)}function Qvt(t,e,n,r){const i=smt(t,e),o=t.orient,a=Cvt(o,-1,1);let s,u;const c={enter:s={opacity:Qgt,anchor:rdt(i("titleAnchor",null)),align:{signal:fmt}},update:u=se({},s,{opacity:tmt,text:rdt(t.title)}),exit:{opacity:Qgt}},l={signal:`lerp(range("${t.scale}"), ${lmt(0,1,.5)})`};return u.x=Evt(o,l),u.y=Dvt(o,l),s.angle=Evt(o,Qgt,zvt(a,90)),s.baseline=Evt(o,Mvt(o,Sgt,_gt),{value:Sgt}),u.angle=s.angle,u.baseline=s.baseline,odt(c,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),tyt(i,o,c,n),c.update.align=Uvt(c.update.align,s.align),c.update.angle=Uvt(c.update.angle,s.angle),c.update.baseline=Uvt(c.update.baseline,s.baseline),pmt({type:omt,role:mdt,style:Igt,from:r,encode:c},n)}function tyt(t,e,n,r){const i=(t,e)=>null!=t?(n.update[e]=Uvt(rdt(t),n.update[e]),!1):!sdt(e,r),o=i(t("titleX"),"x"),a=i(t("titleY"),"y");n.enter.auto=a===o?rdt(a):Evt(e,rdt(a),rdt(o))}function eyt(t,e){const n=Hvt(t,e),r=t.encode||{},i=r.axis||{},o=i.name||void 0,a=i.interactive,s=i.style,u=smt(t,n),c=hmt(u),l={scale:t.scale,ticks:!!u("ticks"),labels:!!u("labels"),grid:!!u("grid"),domain:!!u("domain"),title:null!=t.title},f=Xdt(e.add(Mpt({},[l]))),h=Xdt(e.add(Ept({scale:e.scaleRef(t.scale),extra:e.property(c.extra),count:e.objectProperty(t.tickCount),values:e.objectProperty(t.values),minstep:e.property(t.tickMinStep),formatType:e.property(t.formatType),formatSpecifier:e.property(t.format)}))),d=[];let p;return l.grid&&d.push(Gvt(t,n,r.grid,h,c)),l.ticks&&(p=u("tickSize"),d.push(Xvt(t,n,r.ticks,h,p,c))),l.labels&&(p=l.ticks?p:0,d.push(Zvt(t,n,r.labels,h,p,c))),l.domain&&d.push(Wvt(t,n,r.domain,f)),l.title&&d.push(Qvt(t,n,r.title,f)),avt(amt({role:fdt,from:f,encode:adt(nyt(u,t),i,Zgt),marks:d,aria:u("aria"),description:u("description"),zindex:u("zindex"),name:o,interactive:a,style:s}),e)}function nyt(t,e){const n={enter:{},update:{}};return odt(n,{orient:t("orient"),offset:t("offset")||0,position:lpt(e.position,0),titlePadding:t("titlePadding"),minExtent:t("minExtent"),maxExtent:t("maxExtent"),range:{signal:`abs(span(range("${e.scale}")))`},translate:t("translate"),format:e.format,formatType:e.formatType}),n}function ryt(t,e,n){const r=Xt(t.signals),i=Xt(t.scales);return n||r.forEach((t=>Wdt(t,e))),Xt(t.projections).forEach((t=>wgt(t,e))),i.forEach((t=>ngt(t,e))),Xt(t.data).forEach((t=>xvt(t,e))),i.forEach((t=>rgt(t,e))),(n||r).forEach((t=>Apt(t,e))),Xt(t.axes).forEach((t=>eyt(t,e))),Xt(t.marks).forEach((t=>avt(t,e))),Xt(t.legends).forEach((t=>uvt(t,e))),t.title&&mvt(t.title,e),e.parseLambdas(),e}const iyt=t=>adt({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},t);function oyt(t,e){const n=e.config,r=Xdt(e.root=e.add(Kdt())),i=syt(t,n);i.forEach((t=>Wdt(t,e))),e.description=t.description||n.description,e.eventConfig=n.events,e.legends=e.objectProperty(n.legend&&n.legend.layout),e.locale=n.locale;const o=e.add(Mpt()),a=e.add(Opt(jdt(iyt(t.encode),emt,cdt,t.style,e,{pulse:Xdt(o)}))),s=e.add(Zpt({layout:e.objectProperty(t.layout),legends:e.legends,autosize:e.signalRef("autosize"),mark:r,pulse:Xdt(a)}));e.operators.pop(),e.pushState(Xdt(a),Xdt(s),null),ryt(t,e,i),e.operators.push(s);let u=e.add(Dpt({mark:r,pulse:Xdt(s)}));return u=e.add(Gpt({pulse:Xdt(u)})),u=e.add(Xpt({pulse:Xdt(u)})),e.addData("root",new Qmt(e,o,o,u)),e}function ayt(t,e){return e&&e.signal?{name:t,update:e.signal}:{name:t,value:e}}function syt(t,e){const n=n=>lpt(t[n],e[n]),r=[ayt("background",n("background")),ayt("autosize",Qht(n("autosize"))),ayt("padding",ndt(n("padding"))),ayt("width",n("width")||0),ayt("height",n("height")||0)],i=r.reduce(((t,e)=>(t[e.name]=e,t)),{}),o={};return Xt(t.signals).forEach((t=>{fe(i,t.name)?t=se(i[t.name],t):r.push(t),o[t.name]=t})),Xt(e.signals).forEach((t=>{fe(o,t.name)||fe(i,t.name)||r.push(t)})),r}function uyt(t,e){this.config=t||{},this.options=e||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function cyt(t){this.config=t.config,this.options=t.options,this.legends=t.legends,this.field=Object.create(t.field),this.signals=Object.create(t.signals),this.lambdas=Object.create(t.lambdas),this.scales=Object.create(t.scales),this.events=Object.create(t.events),this.data=Object.create(t.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++t._nextsub[0],this._nextsub=t._nextsub,this._parent=t._parent.slice(),this._encode=t._encode.slice(),this._lookup=t._lookup.slice(),this._markpath=t._markpath}function lyt(t){return(St(t)?fyt:hyt)(t)}function fyt(t){const e=t.length;let n="[";for(let r=0;r<e;++r){const e=t[r];n+=(r>0?",":"")+(Ct(e)?e.signal||lyt(e):Fe(e))}return n+"]"}function hyt(t){let e,n,r="{",i=0;for(e in t)n=t[e],r+=(++i>1?",":"")+Fe(e)+":"+(Ct(n)?n.signal||lyt(n):Fe(n));return r+"}"}function dyt(){const t="sans-serif",e=30,n=2,r="#4c78a8",i="#000",o="#888",a="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:n},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:t,fontSize:11},trail:{fill:r,size:n},style:{"guide-label":{fill:i,font:t,fontSize:10},"guide-title":{fill:i,font:t,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:t,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:t,fontSize:12},point:{size:e,strokeWidth:n,shape:"circle"},circle:{size:e,strokeWidth:n},square:{size:e,strokeWidth:n,shape:"square"},cell:{fill:"transparent",stroke:a}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:o,grid:!1,gridWidth:1,gridColor:a,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:o,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:a,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:o,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function pyt(t,e,n){return Ct(t)||ct("Input Vega specification must be an object."),e=Dt(dyt(),e,t.config),oyt(t,new uyt(e,n)).toRuntime()}uyt.prototype=cyt.prototype={parse(t){return ryt(t,this)},fork(){return new cyt(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(t){return this.operators.push(t),t.id=this.id(),t.refs&&(t.refs.forEach((e=>{e.$ref=t.id})),t.refs=null),t},proxy(t){const e=t instanceof Ydt?Xdt(t):t;return this.add(Wpt({value:e}))},addStream(t){return this.streams.push(t),t.id=this.id(),t},addUpdate(t){return this.updates.push(t),t},finish(){let t,e;for(t in this.root&&(this.root.root=!0),this.signals)this.signals[t].signal=t;for(t in this.scales)this.scales[t].scale=t;function n(t,e,n){let r,i;t&&(r=t.data||(t.data={}),i=r[e]||(r[e]=[]),i.push(n))}for(t in this.data){e=this.data[t],n(e.input,t,"input"),n(e.output,t,"output"),n(e.values,t,"values");for(const r in e.index)n(e.index[r],t,"index:"+r)}return this},pushState(t,e,n){this._encode.push(Xdt(this.add(Xpt({pulse:t})))),this._parent.push(e),this._lookup.push(n?Xdt(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return Ft(this._parent)},encode(){return Ft(this._encode)},lookup(){return Ft(this._lookup)},markpath(){const t=this._markpath;return++t[t.length-1]},fieldRef(t,e){if(_e(t))return Jdt(t,e);t.signal||ct("Unsupported field reference: "+Fe(t));const n=t.signal;let r=this.field[n];if(!r){const t={name:this.signalRef(n)};e&&(t.as=e),this.field[n]=r=Xdt(this.add(Bpt(t)))}return r},compareRef(t){let e=!1;const n=t=>spt(t)?(e=!0,this.signalRef(t.signal)):upt(t)?(e=!0,this.exprRef(t.expr)):t,r=Xt(t.field).map(n),i=Xt(t.order).map(n);return e?Xdt(this.add(Tpt({fields:r,orders:i}))):Qdt(r,i)},keyRef(t,e){let n=!1;const r=t=>spt(t)?(n=!0,Xdt(i[t.signal])):t,i=this.signals;return t=Xt(t).map(r),n?Xdt(this.add(Rpt({fields:t,flat:e}))):tpt(t,e)},sortRef(t){if(!t)return t;const e=ipt(t.op,t.field),n=t.order||ept;return n.signal?Xdt(this.add(Tpt({fields:e,orders:this.signalRef(n.signal)}))):Qdt(e,n)},event(t,e){const n=t+":"+e;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:t,type:e}),this.events[n]=r}return this.events[n]},hasOwnSignal(t){return fe(this.signals,t)},addSignal(t,e){this.hasOwnSignal(t)&&ct("Duplicate signal name: "+Fe(t));const n=e instanceof Ydt?e:this.add(Kdt(e));return this.signals[t]=n},getSignal(t){return this.signals[t]||ct("Unrecognized signal name: "+Fe(t)),this.signals[t]},signalRef(t){return this.signals[t]?Xdt(this.signals[t]):(fe(this.lambdas,t)||(this.lambdas[t]=this.add(Kdt(null))),Xdt(this.lambdas[t]))},parseLambdas(){const t=Object.keys(this.lambdas);for(let e=0,n=t.length;e<n;++e){const n=t[e],r=Zct(n,this),i=this.lambdas[n];i.params=r.$params,i.update=r.$expr}},property(t){return t&&t.signal?this.signalRef(t.signal):t},objectProperty(t){return t&&Ct(t)?this.signalRef(t.signal||lyt(t)):t},exprRef(t,e){const n={expr:Zct(t,this)};return e&&(n.expr.$name=e),Xdt(this.add($pt(n)))},addBinding(t,e){this.bindings||ct("Nested signals do not support binding: "+Fe(t)),this.bindings.push(se({signal:t},e))},addScaleProj(t,e){fe(this.scales,t)&&ct("Duplicate scale or projection name: "+Fe(t)),this.scales[t]=this.add(e)},addScale(t,e){this.addScaleProj(t,Kpt(e))},addProjection(t,e){this.addScaleProj(t,Hpt(e))},getScale(t){return this.scales[t]||ct("Unrecognized scale name: "+Fe(t)),this.scales[t]},scaleRef(t){return Xdt(this.getScale(t))},scaleType(t){return this.getScale(t).params.type},projectionRef(t){return this.scaleRef(t)},projectionType(t){return this.scaleType(t)},addData(t,e){return fe(this.data,t)&&ct("Duplicate data set name: "+Fe(t)),this.data[t]=e},getData(t){return this.data[t]||ct("Undefined data set name: "+Fe(t)),this.data[t]},addDataPipeline(t,e){return fe(this.data,t)&&ct("Duplicate data set name: "+Fe(t)),this.addData(t,Qmt.fromEntries(this,e))}};const gyt="RawCode",myt="Literal",vyt="Property",yyt="Identifier",byt="ArrayExpression",wyt="BinaryExpression",xyt="CallExpression",_yt="ConditionalExpression",kyt="LogicalExpression",Ayt="MemberExpression",Syt="ObjectExpression",Cyt="UnaryExpression";function Eyt(t){this.type=t}function Dyt(t){switch(t.type){case byt:return t.elements;case wyt:case kyt:return[t.left,t.right];case xyt:return[t.callee].concat(t.arguments);case _yt:return[t.test,t.consequent,t.alternate];case Ayt:return[t.object,t.property];case Syt:return t.properties;case vyt:return[t.key,t.value];case Cyt:return[t.argument];case yyt:case myt:case gyt:default:return[]}}var Myt,Tyt,Fyt,Oyt,$yt;Eyt.prototype.visit=function(t){let e,n,r;if(t(this))return 1;for(e=Dyt(this),n=0,r=e.length;n<r;++n)if(e[n].visit(t))return 1};var Nyt=1,Byt=2,Ryt=3,Pyt=4,Iyt=5,jyt=6,Lyt=7,zyt=8,Uyt=9;Myt={},Myt[Nyt]="Boolean",Myt[Byt]="<end>",Myt[Ryt]="Identifier",Myt[Pyt]="Keyword",Myt[Iyt]="Null",Myt[jyt]="Numeric",Myt[Lyt]="Punctuator",Myt[zyt]="String",Myt[Uyt]="RegularExpression";var qyt="ArrayExpression",Vyt="BinaryExpression",Hyt="CallExpression",Wyt="ConditionalExpression",Yyt="Identifier",Gyt="Literal",Kyt="LogicalExpression",Xyt="MemberExpression",Jyt="ObjectExpression",Zyt="Property",Qyt="UnaryExpression",tbt="Unexpected token %0",ebt="Unexpected number",nbt="Unexpected string",rbt="Unexpected identifier",ibt="Unexpected reserved word",obt="Unexpected end of input",abt="Invalid regular expression",sbt="Invalid regular expression: missing /",ubt="Octal literals are not allowed in strict mode.",cbt="Duplicate data property in object literal not allowed in strict mode",lbt="ILLEGAL",fbt="Disabled.",hbt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),dbt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function pbt(t,e){if(!t)throw new Error("ASSERT: "+e)}function gbt(t){return t>=48&&t<=57}function mbt(t){return"0123456789abcdefABCDEF".indexOf(t)>=0}function vbt(t){return"01234567".indexOf(t)>=0}function ybt(t){return 32===t||9===t||11===t||12===t||160===t||t>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0}function bbt(t){return 10===t||13===t||8232===t||8233===t}function wbt(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||92===t||t>=128&&hbt.test(String.fromCharCode(t))}function xbt(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||92===t||t>=128&&dbt.test(String.fromCharCode(t))}const _bt={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function kbt(){while(Fyt<Oyt){const t=Tyt.charCodeAt(Fyt);if(!ybt(t)&&!bbt(t))break;++Fyt}}function Abt(t){var e,n,r,i=0;for(n="u"===t?4:2,e=0;e<n;++e)Fyt<Oyt&&mbt(Tyt[Fyt])?(r=Tyt[Fyt++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())):Zbt({},tbt,lbt);return String.fromCharCode(i)}function Sbt(){var t,e,n,r;t=Tyt[Fyt],e=0,"}"===t&&Zbt({},tbt,lbt);while(Fyt<Oyt){if(t=Tyt[Fyt++],!mbt(t))break;e=16*e+"0123456789abcdef".indexOf(t.toLowerCase())}return(e>1114111||"}"!==t)&&Zbt({},tbt,lbt),e<=65535?String.fromCharCode(e):(n=55296+(e-65536>>10),r=56320+(e-65536&1023),String.fromCharCode(n,r))}function Cbt(){var t,e;t=Tyt.charCodeAt(Fyt++),e=String.fromCharCode(t),92===t&&(117!==Tyt.charCodeAt(Fyt)&&Zbt({},tbt,lbt),++Fyt,t=Abt("u"),t&&"\\"!==t&&wbt(t.charCodeAt(0))||Zbt({},tbt,lbt),e=t);while(Fyt<Oyt){if(t=Tyt.charCodeAt(Fyt),!xbt(t))break;++Fyt,e+=String.fromCharCode(t),92===t&&(e=e.substr(0,e.length-1),117!==Tyt.charCodeAt(Fyt)&&Zbt({},tbt,lbt),++Fyt,t=Abt("u"),t&&"\\"!==t&&xbt(t.charCodeAt(0))||Zbt({},tbt,lbt),e+=t)}return e}function Ebt(){var t,e;t=Fyt++;while(Fyt<Oyt){if(e=Tyt.charCodeAt(Fyt),92===e)return Fyt=t,Cbt();if(!xbt(e))break;++Fyt}return Tyt.slice(t,Fyt)}function Dbt(){var t,e,n;return t=Fyt,e=92===Tyt.charCodeAt(Fyt)?Cbt():Ebt(),n=1===e.length?Ryt:_bt.hasOwnProperty(e)?Pyt:"null"===e?Iyt:"true"===e||"false"===e?Nyt:Ryt,{type:n,value:e,start:t,end:Fyt}}function Mbt(){var t,e,n,r,i=Fyt,o=Tyt.charCodeAt(Fyt),a=Tyt[Fyt];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Fyt,{type:Lyt,value:String.fromCharCode(o),start:i,end:Fyt};default:if(t=Tyt.charCodeAt(Fyt+1),61===t)switch(o){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Fyt+=2,{type:Lyt,value:String.fromCharCode(o)+String.fromCharCode(t),start:i,end:Fyt};case 33:case 61:return Fyt+=2,61===Tyt.charCodeAt(Fyt)&&++Fyt,{type:Lyt,value:Tyt.slice(i,Fyt),start:i,end:Fyt}}}return r=Tyt.substr(Fyt,4),">>>="===r?(Fyt+=4,{type:Lyt,value:r,start:i,end:Fyt}):(n=r.substr(0,3),">>>"===n||"<<="===n||">>="===n?(Fyt+=3,{type:Lyt,value:n,start:i,end:Fyt}):(e=n.substr(0,2),a===e[1]&&"+-<>&|".indexOf(a)>=0||"=>"===e?(Fyt+=2,{type:Lyt,value:e,start:i,end:Fyt}):("//"===e&&Zbt({},tbt,lbt),"<>=!+-*%&|^/".indexOf(a)>=0?(++Fyt,{type:Lyt,value:a,start:i,end:Fyt}):void Zbt({},tbt,lbt))))}function Tbt(t){let e="";while(Fyt<Oyt){if(!mbt(Tyt[Fyt]))break;e+=Tyt[Fyt++]}return 0===e.length&&Zbt({},tbt,lbt),wbt(Tyt.charCodeAt(Fyt))&&Zbt({},tbt,lbt),{type:jyt,value:parseInt("0x"+e,16),start:t,end:Fyt}}function Fbt(t){let e="0"+Tyt[Fyt++];while(Fyt<Oyt){if(!vbt(Tyt[Fyt]))break;e+=Tyt[Fyt++]}return(wbt(Tyt.charCodeAt(Fyt))||gbt(Tyt.charCodeAt(Fyt)))&&Zbt({},tbt,lbt),{type:jyt,value:parseInt(e,8),octal:!0,start:t,end:Fyt}}function Obt(){var t,e,n;if(n=Tyt[Fyt],pbt(gbt(n.charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),e=Fyt,t="","."!==n){if(t=Tyt[Fyt++],n=Tyt[Fyt],"0"===t){if("x"===n||"X"===n)return++Fyt,Tbt(e);if(vbt(n))return Fbt(e);n&&gbt(n.charCodeAt(0))&&Zbt({},tbt,lbt)}while(gbt(Tyt.charCodeAt(Fyt)))t+=Tyt[Fyt++];n=Tyt[Fyt]}if("."===n){t+=Tyt[Fyt++];while(gbt(Tyt.charCodeAt(Fyt)))t+=Tyt[Fyt++];n=Tyt[Fyt]}if("e"===n||"E"===n)if(t+=Tyt[Fyt++],n=Tyt[Fyt],"+"!==n&&"-"!==n||(t+=Tyt[Fyt++]),gbt(Tyt.charCodeAt(Fyt)))while(gbt(Tyt.charCodeAt(Fyt)))t+=Tyt[Fyt++];else Zbt({},tbt,lbt);return wbt(Tyt.charCodeAt(Fyt))&&Zbt({},tbt,lbt),{type:jyt,value:parseFloat(t),start:e,end:Fyt}}function $bt(){var t,e,n,r,i="",o=!1;t=Tyt[Fyt],pbt("'"===t||'"'===t,"String literal must starts with a quote"),e=Fyt,++Fyt;while(Fyt<Oyt){if(n=Tyt[Fyt++],n===t){t="";break}if("\\"===n)if(n=Tyt[Fyt++],n&&bbt(n.charCodeAt(0)))"\r"===n&&"\n"===Tyt[Fyt]&&++Fyt;else switch(n){case"u":case"x":"{"===Tyt[Fyt]?(++Fyt,i+=Sbt()):i+=Abt(n);break;case"n":i+="\n";break;case"r":i+="\r";break;case"t":i+="\t";break;case"b":i+="\b";break;case"f":i+="\f";break;case"v":i+="\v";break;default:vbt(n)?(r="01234567".indexOf(n),0!==r&&(o=!0),Fyt<Oyt&&vbt(Tyt[Fyt])&&(o=!0,r=8*r+"01234567".indexOf(Tyt[Fyt++]),"0123".indexOf(n)>=0&&Fyt<Oyt&&vbt(Tyt[Fyt])&&(r=8*r+"01234567".indexOf(Tyt[Fyt++]))),i+=String.fromCharCode(r)):i+=n;break}else{if(bbt(n.charCodeAt(0)))break;i+=n}}return""!==t&&Zbt({},tbt,lbt),{type:zyt,value:i,octal:o,start:e,end:Fyt}}function Nbt(t,e){let n=t;e.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,((t,e)=>{if(parseInt(e,16)<=1114111)return"x";Zbt({},abt)})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(Tqt){Zbt({},abt)}try{return new RegExp(t,e)}catch(r){return null}}function Bbt(){var t,e,n,r,i;t=Tyt[Fyt],pbt("/"===t,"Regular expression literal must start with a slash"),e=Tyt[Fyt++],n=!1,r=!1;while(Fyt<Oyt)if(t=Tyt[Fyt++],e+=t,"\\"===t)t=Tyt[Fyt++],bbt(t.charCodeAt(0))&&Zbt({},sbt),e+=t;else if(bbt(t.charCodeAt(0)))Zbt({},sbt);else if(n)"]"===t&&(n=!1);else{if("/"===t){r=!0;break}"["===t&&(n=!0)}return r||Zbt({},sbt),i=e.substr(1,e.length-2),{value:i,literal:e}}function Rbt(){var t,e,n;e="",n="";while(Fyt<Oyt){if(t=Tyt[Fyt],!xbt(t.charCodeAt(0)))break;++Fyt,"\\"===t&&Fyt<Oyt?Zbt({},tbt,lbt):(n+=t,e+=t)}return n.search(/[^gimuy]/g)>=0&&Zbt({},abt,n),{value:n,literal:e}}function Pbt(){var t,e,n,r;return $yt=null,kbt(),t=Fyt,e=Bbt(),n=Rbt(),r=Nbt(e.value,n.value),{literal:e.literal+n.literal,value:r,regex:{pattern:e.value,flags:n.value},start:t,end:Fyt}}function Ibt(t){return t.type===Ryt||t.type===Pyt||t.type===Nyt||t.type===Iyt}function jbt(){if(kbt(),Fyt>=Oyt)return{type:Byt,start:Fyt,end:Fyt};const t=Tyt.charCodeAt(Fyt);return wbt(t)?Dbt():40===t||41===t||59===t?Mbt():39===t||34===t?$bt():46===t?gbt(Tyt.charCodeAt(Fyt+1))?Obt():Mbt():gbt(t)?Obt():Mbt()}function Lbt(){const t=$yt;return Fyt=t.end,$yt=jbt(),Fyt=t.end,t}function zbt(){const t=Fyt;$yt=jbt(),Fyt=t}function Ubt(t){const e=new Eyt(qyt);return e.elements=t,e}function qbt(t,e,n){const r=new Eyt("||"===t||"&&"===t?Kyt:Vyt);return r.operator=t,r.left=e,r.right=n,r}function Vbt(t,e){const n=new Eyt(Hyt);return n.callee=t,n.arguments=e,n}function Hbt(t,e,n){const r=new Eyt(Wyt);return r.test=t,r.consequent=e,r.alternate=n,r}function Wbt(t){const e=new Eyt(Yyt);return e.name=t,e}function Ybt(t){const e=new Eyt(Gyt);return e.value=t.value,e.raw=Tyt.slice(t.start,t.end),t.regex&&("//"===e.raw&&(e.raw="/(?:)/"),e.regex=t.regex),e}function Gbt(t,e,n){const r=new Eyt(Xyt);return r.computed="["===t,r.object=e,r.property=n,r.computed||(n.member=!0),r}function Kbt(t){const e=new Eyt(Jyt);return e.properties=t,e}function Xbt(t,e,n){const r=new Eyt(Zyt);return r.key=e,r.value=n,r.kind=t,r}function Jbt(t,e){const n=new Eyt(Qyt);return n.operator=t,n.argument=e,n.prefix=!0,n}function Zbt(t,e){var n,r=Array.prototype.slice.call(arguments,2),i=e.replace(/%(\d)/g,((t,e)=>(pbt(e<r.length,"Message reference must be in range"),r[e])));throw n=new Error(i),n.index=Fyt,n.description=i,n}function Qbt(t){t.type===Byt&&Zbt(t,obt),t.type===jyt&&Zbt(t,ebt),t.type===zyt&&Zbt(t,nbt),t.type===Ryt&&Zbt(t,rbt),t.type===Pyt&&Zbt(t,ibt),Zbt(t,tbt,t.value)}function twt(t){const e=Lbt();e.type===Lyt&&e.value===t||Qbt(e)}function ewt(t){return $yt.type===Lyt&&$yt.value===t}function nwt(t){return $yt.type===Pyt&&$yt.value===t}function rwt(){const t=[];Fyt=$yt.start,twt("[");while(!ewt("]"))ewt(",")?(Lbt(),t.push(null)):(t.push(bwt()),ewt("]")||twt(","));return Lbt(),Ubt(t)}function iwt(){Fyt=$yt.start;const t=Lbt();return t.type===zyt||t.type===jyt?(t.octal&&Zbt(t,ubt),Ybt(t)):Wbt(t.value)}function owt(){var t,e,n,r;return Fyt=$yt.start,t=$yt,t.type===Ryt?(n=iwt(),twt(":"),r=bwt(),Xbt("init",n,r)):t.type!==Byt&&t.type!==Lyt?(e=iwt(),twt(":"),r=bwt(),Xbt("init",e,r)):void Qbt(t)}function awt(){var t,e,n,r=[],i={},o=String;Fyt=$yt.start,twt("{");while(!ewt("}"))t=owt(),e=t.key.type===Yyt?t.key.name:o(t.key.value),n="$"+e,Object.prototype.hasOwnProperty.call(i,n)?Zbt({},cbt):i[n]=!0,r.push(t),ewt("}")||twt(",");return twt("}"),Kbt(r)}function swt(){twt("(");const t=wwt();return twt(")"),t}const uwt={if:1};function cwt(){var t,e,n;if(ewt("("))return swt();if(ewt("["))return rwt();if(ewt("{"))return awt();if(t=$yt.type,Fyt=$yt.start,t===Ryt||uwt[$yt.value])n=Wbt(Lbt().value);else if(t===zyt||t===jyt)$yt.octal&&Zbt($yt,ubt),n=Ybt(Lbt());else{if(t===Pyt)throw new Error(fbt);t===Nyt?(e=Lbt(),e.value="true"===e.value,n=Ybt(e)):t===Iyt?(e=Lbt(),e.value=null,n=Ybt(e)):ewt("/")||ewt("/=")?(n=Ybt(Pbt()),zbt()):Qbt(Lbt())}return n}function lwt(){const t=[];if(twt("("),!ewt(")"))while(Fyt<Oyt){if(t.push(bwt()),ewt(")"))break;twt(",")}return twt(")"),t}function fwt(){Fyt=$yt.start;const t=Lbt();return Ibt(t)||Qbt(t),Wbt(t.value)}function hwt(){return twt("."),fwt()}function dwt(){twt("[");const t=wwt();return twt("]"),t}function pwt(){var t,e,n;for(t=cwt();;)if(ewt("."))n=hwt(),t=Gbt(".",t,n);else if(ewt("("))e=lwt(),t=Vbt(t,e);else{if(!ewt("["))break;n=dwt(),t=Gbt("[",t,n)}return t}function gwt(){const t=pwt();if($yt.type===Lyt&&(ewt("++")||ewt("--")))throw new Error(fbt);return t}function mwt(){var t,e;if($yt.type!==Lyt&&$yt.type!==Pyt)e=gwt();else{if(ewt("++")||ewt("--"))throw new Error(fbt);if(ewt("+")||ewt("-")||ewt("~")||ewt("!"))t=Lbt(),e=mwt(),e=Jbt(t.value,e);else{if(nwt("delete")||nwt("void")||nwt("typeof"))throw new Error(fbt);e=gwt()}}return e}function vwt(t){let e=0;if(t.type!==Lyt&&t.type!==Pyt)return 0;switch(t.value){case"||":e=1;break;case"&&":e=2;break;case"|":e=3;break;case"^":e=4;break;case"&":e=5;break;case"==":case"!=":case"===":case"!==":e=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":e=7;break;case"<<":case">>":case">>>":e=8;break;case"+":case"-":e=9;break;case"*":case"/":case"%":e=11;break}return e}function ywt(){var t,e,n,r,i,o,a,s,u,c;if(t=$yt,u=mwt(),r=$yt,i=vwt(r),0===i)return u;r.prec=i,Lbt(),e=[t,$yt],a=mwt(),o=[u,r,a];while((i=vwt($yt))>0){while(o.length>2&&i<=o[o.length-2].prec)a=o.pop(),s=o.pop().value,u=o.pop(),e.pop(),n=qbt(s,u,a),o.push(n);r=Lbt(),r.prec=i,o.push(r),e.push($yt),n=mwt(),o.push(n)}c=o.length-1,n=o[c],e.pop();while(c>1)e.pop(),n=qbt(o[c-1].value,o[c-2],n),c-=2;return n}function bwt(){var t,e,n;return t=ywt(),ewt("?")&&(Lbt(),e=bwt(),twt(":"),n=bwt(),t=Hbt(t,e,n)),t}function wwt(){const t=bwt();if(ewt(","))throw new Error(fbt);return t}function xwt(t){Tyt=t,Fyt=0,Oyt=Tyt.length,$yt=null,zbt();const e=wwt();if($yt.type!==Byt)throw new Error("Unexpect token after expression.");return e}var _wt={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function kwt(t){function e(e,n,r,i){let o=t(n[0]);return r&&(o=r+"("+o+")",0===r.lastIndexOf("new ",0)&&(o="("+o+")")),o+"."+e+(i<0?"":0===i?"()":"("+n.slice(1).map(t).join(",")+")")}function n(t,n,r){return i=>e(t,i,n,r)}const r="new Date",i="String",o="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(e){e.length<3&&ct("Missing arguments to clamp function."),e.length>3&&ct("Too many arguments to clamp function.");const n=e.map(t);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),regexp:o,test:n("test",o),if:function(e){e.length<3&&ct("Missing arguments to if function."),e.length>3&&ct("Too many arguments to if function.");const n=e.map(t);return"("+n[0]+"?"+n[1]+":"+n[2]+")"}}}function Awt(t){const e=t&&t.length-1;return e&&('"'===t[0]&&'"'===t[e]||"'"===t[0]&&"'"===t[e])?t.slice(1,-1):t}function Swt(t){t=t||{};const e=t.allowed?Re(t.allowed):{},n=t.forbidden?Re(t.forbidden):{},r=t.constants||_wt,i=(t.functions||kwt)(f),o=t.globalvar,a=t.fieldvar,s=Zt(o)?o:t=>"".concat(o,'["').concat(t,'"]');let u={},c={},l=0;function f(t){if(_e(t))return t;const e=h[t.type];return null==e&&ct("Unsupported type: "+t.type),e(t)}const h={Literal:t=>t.raw,Identifier:t=>{const i=t.name;return l>0?i:fe(n,i)?ct("Illegal identifier: "+i):fe(r,i)?r[i]:fe(e,i)?i:(u[i]=1,s(i))},MemberExpression:t=>{const e=!t.computed,n=f(t.object);e&&(l+=1);const r=f(t.property);return n===a&&(c[Awt(r)]=1),e&&(l-=1),n+(e?"."+r:"["+r+"]")},CallExpression:t=>{"Identifier"!==t.callee.type&&ct("Illegal callee type: "+t.callee.type);const e=t.callee.name,n=t.arguments,r=fe(i,e)&&i[e];return r||ct("Unrecognized function: "+e),Zt(r)?r(n):r+"("+n.map(f).join(",")+")"},ArrayExpression:t=>"["+t.elements.map(f).join(",")+"]",BinaryExpression:t=>"("+f(t.left)+" "+t.operator+" "+f(t.right)+")",UnaryExpression:t=>"("+t.operator+f(t.argument)+")",ConditionalExpression:t=>"("+f(t.test)+"?"+f(t.consequent)+":"+f(t.alternate)+")",LogicalExpression:t=>"("+f(t.left)+t.operator+f(t.right)+")",ObjectExpression:t=>"{"+t.properties.map(f).join(",")+"}",Property:t=>{l+=1;const e=f(t.key);return l-=1,e+":"+f(t.value)}};function d(t){const e={code:f(t),globals:Object.keys(u),fields:Object.keys(c)};return u={},c={},e}return d.functions=i,d.constants=r,d}const Cwt="view",Ewt="[",Dwt="]",Mwt="{",Twt="}",Fwt=":",Owt=",",$wt="@",Nwt=">",Bwt=/[[\]{}]/,Rwt={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Pwt,Iwt;function jwt(t,e,n){return Pwt=e||Cwt,Iwt=n||Rwt,Uwt(t.trim()).map(qwt)}function Lwt(t){return Iwt[t]}function zwt(t,e,n,r,i){const o=t.length;let a,s=0;for(;e<o;++e){if(a=t[e],!s&&a===n)return e;i&&i.indexOf(a)>=0?--s:r&&r.indexOf(a)>=0&&++s}return e}function Uwt(t){const e=[],n=t.length;let r=0,i=0;while(i<n)i=zwt(t,i,Owt,Ewt+Mwt,Dwt+Twt),e.push(t.substring(r,i).trim()),r=++i;if(0===e.length)throw"Empty event selector: "+t;return e}function qwt(t){return"["===t[0]?Vwt(t):Hwt(t)}function Vwt(t){const e=t.length;let n,r=1;if(r=zwt(t,r,Dwt,Ewt,Dwt),r===e)throw"Empty between selector: "+t;if(n=Uwt(t.substring(1,r)),2!==n.length)throw"Between selector must have two elements: "+t;if(t=t.slice(r+1).trim(),t[0]!==Nwt)throw"Expected '>' after between selector: "+t;n=n.map(qwt);const i=qwt(t.slice(1).trim());return i.between?{between:n,stream:i}:(i.between=n,i)}function Hwt(t){const e={source:Pwt},n=[];let r,i,o=[0,0],a=0,s=0,u=t.length,c=0;if(t[u-1]===Twt){if(c=t.lastIndexOf(Mwt),!(c>=0))throw"Unmatched right brace: "+t;try{o=Wwt(t.substring(c+1,u-1))}catch(Tqt){throw"Invalid throttle specification: "+t}t=t.slice(0,c).trim(),u=t.length,c=0}if(!u)throw t;if(t[0]===$wt&&(a=++c),r=zwt(t,c,Fwt),r<u&&(n.push(t.substring(s,r).trim()),s=c=++r),c=zwt(t,c,Ewt),c===u)n.push(t.substring(s,u).trim());else if(n.push(t.substring(s,c).trim()),i=[],s=++c,s===u)throw"Unmatched left bracket: "+t;while(c<u){if(c=zwt(t,c,Dwt),c===u)throw"Unmatched left bracket: "+t;if(i.push(t.substring(s,c).trim()),c<u-1&&t[++c]!==Ewt)throw"Expected left bracket: "+t;s=++c}if(!(u=n.length)||Bwt.test(n[u-1]))throw"Invalid event selector: "+t;return u>1?(e.type=n[1],a?e.markname=n[0].slice(1):Lwt(n[0])?e.marktype=n[0]:e.source=n[0]):e.type=n[0],"!"===e.type.slice(-1)&&(e.consume=!0,e.type=e.type.slice(0,-1)),null!=i&&(e.filter=i),o[0]&&(e.throttle=o[0]),o[1]&&(e.debounce=o[1]),e}function Wwt(t){const e=t.split(Owt);if(!t.length||e.length>2)throw t;return e.map((e=>{const n=+e;if(n!==n)throw t;return n}))}var Ywt="vega",Gwt="5.20.0",Kwt="The Vega visualization grammar.",Xwt=["vega","visualization","interaction","dataflow","library","data","d3"],Jwt="BSD-3-Clause",Zwt="UW Interactive Data Lab (http://idl.cs.washington.edu)",Qwt="build/vega-node.js",txt="build/vega.module.js",ext="build/vega.min.js",nxt="build/vega.min.js",rxt="index.d.ts",ixt="vega/vega",oxt={bundle:"rollup -c --config-bundle",prebuild:"rimraf build && rimraf build-es5",build:"rollup -c --config-core --config-bundle --config-ie",postbuild:"node schema-copy",pretest:"yarn build --config-test",test:"TZ=America/Los_Angeles tape 'test/**/*-test.js'",prepublishOnly:"yarn test && yarn build",postpublish:"./schema-deploy.sh"},axt={"vega-crossfilter":"~4.0.5","vega-dataflow":"~5.7.3","vega-encode":"~4.8.3","vega-event-selector":"~2.0.6","vega-expression":"~4.0.1","vega-force":"~4.0.7","vega-format":"~1.0.4","vega-functions":"~5.12.0","vega-geo":"~4.3.8","vega-hierarchy":"~4.0.9","vega-label":"~1.0.0","vega-loader":"~4.4.0","vega-parser":"~6.1.3","vega-projection":"~1.4.5","vega-regression":"~1.0.9","vega-runtime":"~6.1.3","vega-scale":"~7.1.1","vega-scenegraph":"~4.9.4","vega-statistics":"~1.7.9","vega-time":"~2.0.4","vega-transforms":"~4.9.3","vega-typings":"~0.20.0","vega-util":"~1.16.1","vega-view":"~5.10.0","vega-view-transforms":"~4.5.8","vega-voronoi":"~4.1.5","vega-wordcloud":"~4.1.3"},sxt={"vega-schema":"*"},uxt="f262105e75449760b0f35fda70e6b576a31d68a4",cxt={name:Ywt,version:Gwt,description:Kwt,keywords:Xwt,license:Jwt,author:Zwt,main:Qwt,module:txt,unpkg:ext,jsdelivr:nxt,types:rxt,repository:ixt,scripts:oxt,dependencies:axt,devDependencies:sxt,gitHead:uxt};se(mu,o,s,c,l,f,d,h,p,g,m,v);const lxt=cxt.version;var fxt={rE:"4.13.1"};function hxt(t,e,n){return t.fields=e||[],t.fname=n,t}function dxt(t){return 1===t.length?pxt(t[0]):gxt(t)}const pxt=t=>function(e){return e[t]},gxt=t=>{const e=t.length;return function(n){for(let r=0;r<e;++r)n=n[t[r]];return n}};function mxt(t){throw Error(t)}function vxt(t){var e,n,r,i=[],o=null,a=0,s=t.length,u="";function c(){i.push(u+t.substring(e,n)),u="",e=n+1}for(t+="",e=n=0;n<s;++n)if(r=t[n],"\\"===r)u+=t.substring(e,n),u+=t.substring(++n,++n),e=n;else if(r===o)c(),o=null,a=-1;else{if(o)continue;e===a&&'"'===r||e===a&&"'"===r?(e=n+1,o=r):"."!==r||a?"["===r?(n>e&&c(),a=e=n+1):"]"===r&&(a||mxt("Access path missing open bracket: "+t),a>0&&c(),a=0,e=n+1):n>e?c():e=n+1}return a&&mxt("Access path missing closing bracket: "+t),o&&mxt("Access path missing closing quote: "+t),n>e&&(n++,c()),i}function yxt(t,e,n){const r=vxt(t);return t=1===r.length?r[0]:t,hxt((n&&n.get||dxt)(r),[t],e||t)}var bxt=[],wxt=(yxt("id"),hxt((function(t){return t}),bxt,"identity"));hxt((function(){return 0}),bxt,"zero"),hxt((function(){return 1}),bxt,"one"),hxt((function(){return!0}),bxt,"true"),hxt((function(){return!1}),bxt,"false");function xxt(t,e,n){var r=[e].concat([].slice.call(n));console[t].apply(console,r)}var _xt=0,kxt=1,Axt=2,Sxt=3,Cxt=4;function Ext(t,e){var n=t||_xt;return{level:function(t){return arguments.length?(n=+t,this):n},error:function(){return n>=kxt&&xxt(e||"error","ERROR",arguments),this},warn:function(){return n>=Axt&&xxt(e||"warn","WARN",arguments),this},info:function(){return n>=Sxt&&xxt(e||"log","INFO",arguments),this},debug:function(){return n>=Cxt&&xxt(e||"log","DEBUG",arguments),this}}}var Dxt=Array.isArray;function Mxt(t){return t===Object(t)}const Txt=t=>"__proto__"!==t;function Fxt(...t){return t.reduce(((t,e)=>{for(var n in e)if("signals"===n)t.signals=$xt(t.signals,e.signals);else{var r="legend"===n?{layout:1}:"style"===n||null;Oxt(t,n,e[n],r)}return t}),{})}function Oxt(t,e,n,r){var i,o;if(Txt(e))if(Mxt(n)&&!Dxt(n))for(i in o=Mxt(t[e])?t[e]:t[e]={},n)r&&(!0===r||r[i])?Oxt(o,i,n[i]):Txt(i)&&(o[i]=n[i]);else t[e]=n}function $xt(t,e){if(null==t)return e;const n={},r=[];function i(t){n[t.name]||(n[t.name]=1,r.push(t))}return e.forEach(i),t.forEach(i),r}function Nxt(t){return null!=t?Dxt(t)?t:[t]:[]}const Bxt=Object.prototype.hasOwnProperty;function Rxt(t,e){return Bxt.call(t,e)}function Pxt(t){return"boolean"===typeof t}function Ixt(t){return"function"===typeof t}function jxt(t){return"number"===typeof t}function Lxt(t){return"string"===typeof t}function zxt(t){return Dxt(t)?"["+t.map(zxt)+"]":Mxt(t)||Lxt(t)?JSON.stringify(t).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):t}function Uxt(t){for(var e={},n=0,r=t.length;n<r;++n)e[t[n]]=!0;return e}function qxt(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}Object.create;Object.create;Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function t(){var e=isNaN(arguments[0])?1:Number(arguments[0]);return e?Array.prototype.reduce.call(this,(function(n,r){return Array.isArray(r)?n.push.apply(n,t.call(r,e-1)):n.push(r),n}),[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(t){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var Vxt=n(8729),Hxt=n.n(Vxt),Wxt=n(2017),Yxt=n.n(Wxt),Gxt=n(2492),Kxt=n.n(Gxt);function Xxt(t){return!!t.or}function Jxt(t){return!!t.and}function Zxt(t){return!!t.not}function Qxt(t,e){if(Zxt(t))Qxt(t.not,e);else if(Jxt(t))for(const n of t.and)Qxt(n,e);else if(Xxt(t))for(const n of t.or)Qxt(n,e);else e(t)}function t_t(t,e){return Zxt(t)?{not:t_t(t.not,e)}:Jxt(t)?{and:t.and.map((t=>t_t(t,e)))}:Xxt(t)?{or:t.or.map((t=>t_t(t,e)))}:e(t)}const e_t=Yxt(),n_t=Hxt();function r_t(t,e){const n={};for(const r of e)Rxt(t,r)&&(n[r]=t[r]);return n}function i_t(t,e){const n=Object.assign({},t);for(const r of e)delete n[r];return n}Set.prototype["toJSON"]=function(){return`Set(${[...this].map((t=>Kxt()(t))).join(",")})`};const o_t=Kxt();function a_t(t){if(jxt(t))return t;const e=Lxt(t)?t:Kxt()(t);if(e.length<250)return e;let n=0;for(let r=0;r<e.length;r++){const t=e.charCodeAt(r);n=(n<<5)-n+t,n|=0}return n}function s_t(t){return!1===t||null===t}function u_t(t,e){return t.indexOf(e)>-1}function c_t(t,e){let n=0;for(const[r,i]of t.entries())if(e(i,r,n++))return!0;return!1}function l_t(t,e){let n=0;for(const[r,i]of t.entries())if(!e(i,r,n++))return!1;return!0}function f_t(t,...e){for(const n of e)h_t(t,null!==n&&void 0!==n?n:{});return t}function h_t(t,e){for(const n of b_t(e))Oxt(t,n,e[n],!0)}function d_t(t,e){const n=[],r={};let i;for(const o of t)i=e(o),i in r||(r[i]=1,n.push(o));return n}function p_t(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function g_t(t,e){for(const n of t)if(e.has(n))return!0;return!1}function m_t(t){const e=new Set;for(const n of t){const t=vxt(n),r=t.map(((t,e)=>0===e?t:`[${t}]`)),i=r.map(((t,e)=>r.slice(0,e+1).join("")));for(const n of i)e.add(n)}return e}function v_t(t,e){return void 0===t||void 0===e||g_t(m_t(t),m_t(e))}function y_t(t){return 0===b_t(t).length}const b_t=Object.keys,w_t=Object.values;function x_t(t){const e=[];for(const n in t)Rxt(t,n)&&e.push({key:n,value:t[n]});return e}function __t(t){return!0===t||!1===t}function k_t(t){const e=t.replace(/\W/g,"_");return(t.match(/^\d+/)?"_":"")+e}function A_t(t,e){return Zxt(t)?"!("+A_t(t.not,e)+")":Jxt(t)?"("+t.and.map((t=>A_t(t,e))).join(") && (")+")":Xxt(t)?"("+t.or.map((t=>A_t(t,e))).join(") || (")+")":e(t)}function S_t(t,e){if(0===e.length)return!0;const n=e.shift();return n in t&&S_t(t[n],e)&&delete t[n],y_t(t)}function C_t(t){return t.charAt(0).toUpperCase()+t.substr(1)}function E_t(t,e="datum"){const n=vxt(t),r=[];for(let i=1;i<=n.length;i++){const t=`[${n.slice(0,i).map(zxt).join("][")}]`;r.push(`${e}${t}`)}return r.join(" && ")}function D_t(t,e="datum"){return`${e}[${zxt(vxt(t).join("."))}]`}function M_t(t){return t.replace(/(\[|\]|\.|'|")/g,"\\$1")}function T_t(t){return`${vxt(t).map(M_t).join("\\.")}`}function F_t(t,e,n){return t.replace(new RegExp(e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function O_t(t){return`${vxt(t).join(".")}`}function $_t(t){return t?vxt(t).length:0}function N_t(...t){for(const e of t)if(void 0!==e)return e}let B_t=42;function R_t(t){const e=++B_t;return t?String(t)+e:e}function P_t(t){return I_t(t)?t:`__${t}`}function I_t(t){return 0===t.indexOf("__")}function j_t(t){if(void 0!==t)return(t%360+360)%360}function L_t(t){return!!jxt(t)||!isNaN(t)&&!isNaN(parseFloat(t))}const z_t={domainColor:{part:"domain",vgProp:"stroke"},labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDash"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDash"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"},titleColor:{part:"title",vgProp:"fill"},title:null};function U_t(t){return t&&t["condition"]}const q_t=["domain","grid","labels","ticks","title"],V_t={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"main",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},H_t={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},W_t=Object.assign(Object.assign({},H_t),{style:1,labelExpr:1,encoding:1});function Y_t(t){return!!W_t[t]}b_t(W_t);const G_t={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},K_t=G_t.arc,X_t=G_t.area,J_t=G_t.bar,Z_t=G_t.image,Q_t=G_t.line,tkt=G_t.point,ekt=G_t.rect,nkt=G_t.rule,rkt=G_t.text,ikt=G_t.tick,okt=G_t.trail,akt=G_t.circle,skt=G_t.square,ukt=G_t.geoshape;function ckt(t){return u_t(["line","area","trail"],t)}function lkt(t){return u_t(["rect","bar","image","arc"],t)}const fkt=b_t(G_t);function hkt(t){return t["type"]}Uxt(fkt);const dkt=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],pkt=["fill","fillOpacity"],gkt=[...dkt,...pkt],mkt={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBand:1,timeUnitBandPosition:1},vkt=b_t(mkt),ykt={area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]},bkt={color:"#4c78a8",invalid:"filter",timeUnitBand:1},wkt={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},xkt=5,_kt={binSpacing:1,continuousBandSize:xkt,timeUnitBandPosition:.5},kkt={binSpacing:0,continuousBandSize:xkt,timeUnitBandPosition:.5},Akt={thickness:1};function Skt(t){return hkt(t)?t.type:t}function Ckt(t){return"mark"in t}class Ekt{constructor(t,e){this.name=t,this.run=e}hasMatchingType(t){return!!Ckt(t)&&Skt(t.mark)===this.name}}const Dkt={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Mkt={count:1,min:1,max:1};function Tkt(t){return!!t&&!!t["argmin"]}function Fkt(t){return!!t&&!!t["argmax"]}b_t(Dkt);function Okt(t){return Lxt(t)&&!!Dkt[t]}const $kt=["count","valid","missing","distinct"];function Nkt(t){return Lxt(t)&&u_t($kt,t)}function Bkt(t){return Lxt(t)&&u_t(["min","max"],t)}const Rkt=["count","sum","distinct","valid","missing"],Pkt=["mean","average","median","q1","q3","min","max"],Ikt=Uxt(Pkt),jkt="row",Lkt="column",zkt="facet",Ukt="x",qkt="y",Vkt="x2",Hkt="y2",Wkt="radius",Ykt="radius2",Gkt="theta",Kkt="theta2",Xkt="latitude",Jkt="longitude",Zkt="latitude2",Qkt="longitude2",tAt="color",eAt="fill",nAt="stroke",rAt="shape",iAt="size",oAt="angle",aAt="opacity",sAt="fillOpacity",uAt="strokeOpacity",cAt="strokeWidth",lAt="strokeDash",fAt="text",hAt="order",dAt="detail",pAt="key",gAt="tooltip",mAt="href",vAt="url",yAt="description",bAt={x:1,y:1,x2:1,y2:1},wAt={theta:1,theta2:1,radius:1,radius2:1};function xAt(t){return t in wAt}const _At={longitude:1,longitude2:1,latitude:1,latitude2:1};function kAt(t){switch(t){case Xkt:return"y";case Zkt:return"y2";case Jkt:return"x";case Qkt:return"x2"}}function AAt(t){return t in _At}const SAt=b_t(_At),CAt=Object.assign(Object.assign(Object.assign(Object.assign({},bAt),wAt),_At),{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1});function EAt(t){return t===tAt||t===eAt||t===nAt}const DAt={row:1,column:1,facet:1},MAt=b_t(DAt),TAt=Object.assign(Object.assign({},CAt),DAt),FAt=b_t(TAt),{order:OAt,detail:$At,tooltip:NAt}=TAt,BAt=qxt(TAt,["order","detail","tooltip"]),{row:RAt,column:PAt,facet:IAt}=BAt,jAt=qxt(BAt,["row","column","facet"]);b_t(BAt),b_t(jAt);function LAt(t){return!!jAt[t]}function zAt(t){return!!TAt[t]}const UAt=[Vkt,Hkt,Zkt,Qkt,Kkt,Ykt];function qAt(t){const e=VAt(t);return e!==t}function VAt(t){switch(t){case Vkt:return Ukt;case Hkt:return qkt;case Zkt:return Xkt;case Qkt:return Jkt;case Kkt:return Gkt;case Ykt:return Wkt}return t}function HAt(t){if(xAt(t))switch(t){case Gkt:return"startAngle";case Kkt:return"endAngle";case Wkt:return"outerRadius";case Ykt:return"innerRadius"}return t}function WAt(t){switch(t){case Ukt:return Vkt;case qkt:return Hkt;case Xkt:return Zkt;case Jkt:return Qkt;case Gkt:return Kkt;case Wkt:return Ykt}}function YAt(t){switch(t){case Ukt:case Vkt:return"width";case qkt:case Hkt:return"height"}}function GAt(t){switch(t){case Ukt:return"xOffset";case qkt:return"yOffset";case Vkt:return"x2Offset";case Hkt:return"y2Offset";case Gkt:return"thetaOffset";case Wkt:return"radiusOffset";case Kkt:return"theta2Offset";case Ykt:return"radius2Offset"}}b_t(CAt);const{x:KAt,y:XAt,x2:JAt,y2:ZAt,latitude:QAt,longitude:tSt,latitude2:eSt,longitude2:nSt,theta:rSt,theta2:iSt,radius:oSt,radius2:aSt}=CAt,sSt=qxt(CAt,["x","y","x2","y2","latitude","longitude","latitude2","longitude2","theta","theta2","radius","radius2"]),uSt=b_t(sSt),cSt={x:1,y:1},lSt=b_t(cSt);function fSt(t){return t in cSt}const hSt={theta:1,radius:1},dSt=b_t(hSt);function pSt(t){return"width"===t?Ukt:qkt}const{text:gSt,tooltip:mSt,href:vSt,url:ySt,description:bSt,detail:wSt,key:xSt,order:_St}=sSt,kSt=qxt(sSt,["text","tooltip","href","url","description","detail","key","order"]),ASt=b_t(kSt);function SSt(t){return!!sSt[t]}function CSt(t){switch(t){case tAt:case eAt:case nAt:case iAt:case rAt:case aAt:case cAt:case lAt:return!0;case sAt:case uAt:case oAt:return!1}}const ESt=Object.assign(Object.assign(Object.assign({},cSt),hSt),kSt),DSt=b_t(ESt);function MSt(t){return!!ESt[t]}function TSt(t,e){return NSt(t)[e]}const FSt={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:OSt}=FSt,$St=qxt(FSt,["geoshape"]);function NSt(t){switch(t){case tAt:case eAt:case nAt:case yAt:case dAt:case pAt:case gAt:case mAt:case hAt:case aAt:case sAt:case uAt:case cAt:case zkt:case jkt:case Lkt:return FSt;case Ukt:case qkt:case Xkt:case Jkt:return $St;case Vkt:case Hkt:case Zkt:case Qkt:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case iAt:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case lAt:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case rAt:return{point:"always",geoshape:"always"};case fAt:return{text:"always"};case oAt:return{point:"always",square:"always",text:"always"};case vAt:return{image:"always"};case Gkt:return{text:"always",arc:"always"};case Wkt:return{text:"always",arc:"always"};case Kkt:case Ykt:return{arc:"always"}}}function BSt(t){switch(t){case Ukt:case qkt:case Gkt:case Wkt:case iAt:case oAt:case cAt:case aAt:case sAt:case uAt:case Vkt:case Hkt:case Kkt:case Ykt:return;case zkt:case jkt:case Lkt:case rAt:case lAt:case fAt:case gAt:case mAt:case vAt:case yAt:return"discrete";case tAt:case eAt:case nAt:return"flexible";case Xkt:case Jkt:case Zkt:case Qkt:case dAt:case pAt:case hAt:return}}function RSt(t){return Pxt(t)&&(t=yTt(t,void 0)),"bin"+b_t(t).map((e=>LSt(t[e])?k_t(`_${e}_${Object.entries(t[e])}`):k_t(`_${e}_${t[e]}`))).join("")}function PSt(t){return!0===t||jSt(t)&&!t.binned}function ISt(t){return"binned"===t||jSt(t)&&!0===t.binned}function jSt(t){return Mxt(t)}function LSt(t){return null===t||void 0===t?void 0:t["selection"]}function zSt(t){switch(t){case jkt:case Lkt:case iAt:case tAt:case eAt:case nAt:case cAt:case aAt:case sAt:case uAt:case rAt:return 6;case lAt:return 4;default:return 10}}function USt(t){return`Invalid specification ${JSON.stringify(t)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const qSt='Autosize "fit" only works for single views and layered views.';function VSt(t){const e="width"==t?"Width":"Height";return`${e} "container" only works for single views and layered views.`}function HSt(t){const e="width"==t?"Width":"Height",n="width"==t?"x":"y";return`${e} "container" only works well with autosize "fit" or "fit-${n}".`}function WSt(t){return t?`Dropping "fit-${t}" because spec has discrete ${YAt(t)}.`:'Dropping "fit" because spec has discrete size.'}function YSt(t){return`Cannot project a selection on encoding channel "${t}", which has no field.`}function GSt(t,e){return`Cannot project a selection on encoding channel "${t}" as it uses an aggregate function ("${e}").`}function KSt(t){return`The "nearest" transform is not supported for ${t} marks.`}function XSt(t){return`Selection not supported for ${t} yet.`}function JSt(t){return`Cannot find a selection named "${t}".`}const ZSt="Scale bindings are currently only supported for scales with unbinned, continuous domains.",QSt="Legend bindings are only supported for selections over an individual field or encoding channel.";function tCt(t){return`Cannot define and lookup the "${t}" selection in the same view. Try moving the lookup into a second, layered view?`}function eCt(t){return`Unknown repeated value "${t}".`}function nCt(t){return`The "columns" property cannot be used when "${t}" has nested row/column.`}const rCt="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function iCt(t){return`Unrecognized parse "${t}".`}function oCt(t,e,n){return`An ancestor parsed field "${t}" as ${n} but a child wants to parse the field as ${e}.`}function aCt(t){return`Ignoring an invalid transform: ${o_t(t)}.`}const sCt='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function uCt(t){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${t} are dropped.`}function cCt(t){return`Layer's shared ${t.join(",")} channel ${1===t.length?"is":"are"} overriden.`}function lCt(t){const{parentProjection:e,projection:n}=t;return`Layer's shared projection ${o_t(e)} is overridden by a child projection ${o_t(n)}.`}const fCt="Arc marks uses theta channel rather than angle, replacing angle with theta.";function hCt(t,e,n){return`Channel ${t} is a ${e}. Converted to {value: ${o_t(n)}}.`}function dCt(t){return`Invalid field type "${t}".`}function pCt(t,e){return`Invalid field type "${t}" for aggregate: "${e}", using "quantitative" instead.`}function gCt(t){return`Invalid aggregation operator "${t}".`}function mCt(t,e){return`Missing type for channel "${t}", using "${e}" instead.`}function vCt(t,e){const{fill:n,stroke:r}=e;return`Dropping color ${t} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function yCt(t,e){return`Dropping ${o_t(t)} from channel "${e}" since it does not contain any data field, datum, value, or signal.`}const bCt="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function wCt(t,e,n){return`${t} dropped as it is incompatible with "${e}"${n?` when ${n}`:""}.`}function xCt(t){return`${t}-encoding is dropped as ${t} is not a valid encoding channel.`}function _Ct(t){return`${t} encoding should be discrete (ordinal / nominal / binned).`}function kCt(t){return`Facet encoding dropped as ${t.join(" and ")} ${t.length>1?"are":"is"} also specified.`}function ACt(t,e){return`Using discrete channel "${t}" to encode "${e}" field can be misleading as it does not encode ${"ordinal"===e?"order":"magnitude"}.`}function SCt(t,e){const n=t&&e?"x2 and y2":t?"x2":"y2";return`Line mark is for continuous lines and thus cannot be used with ${n}. We will use the rule mark (line segments) instead.`}function CCt(t,e){return`Specified orient "${t}" overridden with "${e}".`}const ECt='Scale\'s "rangeStep" is deprecated and will be removed in Vega-Lite 5.0. Please use "width"/"height": {"step": ...} instead. See https://vega.github.io/vega-lite/docs/size.html.';function DCt(t){return`Cannot use the scale property "${t}" with non-color channel.`}function MCt(t){return`Using unaggregated domain with raw field has no effect (${o_t(t)}).`}function TCt(t){return`Unaggregated domain not applicable for "${t}" since it produces values outside the origin domain of the source data.`}function FCt(t){return`Unaggregated domain is currently unsupported for log scale (${o_t(t)}).`}function OCt(t){return`Cannot apply size to non-oriented mark "${t}".`}function $Ct(t,e,n){return`Channel "${t}" does not work with "${e}" scale. We are using "${n}" scale instead.`}function NCt(t,e){return`FieldDef does not work with "${t}" scale. We are using "${e}" scale instead.`}function BCt(t,e,n){return`${n}-scale's "${e}" is dropped as it does not work with ${t} scale.`}function RCt(t){return`The step for "${t}" is dropped because the ${"width"===t?"x":"y"} is continuous.`}function PCt(t,e,n,r){return`Conflicting ${e.toString()} property "${t.toString()}" (${o_t(n)} and ${o_t(r)}). Using ${o_t(n)}.`}function ICt(t,e,n,r){return`Conflicting ${e.toString()} property "${t.toString()}" (${o_t(n)} and ${o_t(r)}). Using the union of the two domains.`}function jCt(t){return`Setting the scale to be independent for "${t}" means we also have to set the guide (axis or legend) to be independent.`}function LCt(t){return`Dropping sort property ${o_t(t)} as unioned domains only support boolean or op "count", "min", and "max".`}const zCt="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",UCt="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",qCt="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",VCt="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function HCt(t){return`Cannot stack "${t}" if there is already "${t}2".`}function WCt(t){return`Cannot stack non-linear scale (${t}).`}function YCt(t){return`Stacking is applied even though the aggregate function is non-summative ("${t}").`}function GCt(t,e){return`Invalid ${t}: ${o_t(e)}.`}function KCt(t){return`Dropping day from datetime ${o_t(t)} as day cannot be combined with other units.`}function XCt(t,e){return`${e?"extent ":""}${e&&t?"and ":""}${t?"center ":""}${e&&t?"are ":"is "}not needed when data are aggregated.`}function JCt(t,e,n){return`${t} is not usually used with ${e} for ${n}.`}function ZCt(t,e){return`Continuous axis should not have customized aggregation function ${t}; ${e} already agregates the axis.`}function QCt(t,e){return`Center is not needed to be specified in ${e} when extent is ${t}.`}function tEt(t){return`1D error band does not support ${t}.`}function eEt(t){return`Channel ${t} is required for "binned" bin.`}function nEt(t){return`Domain for ${t} is required for threshold scale.`}const rEt=Ext(Axt);let iEt=rEt;function oEt(t){return iEt=t,iEt}function aEt(){return iEt=rEt,iEt}function sEt(...t){iEt.warn(...t)}function uEt(...t){iEt.debug(...t)}function cEt(t){if(t&&Mxt(t))for(const e of _Et)if(e in t)return!0;return!1}const lEt=["january","february","march","april","may","june","july","august","september","october","november","december"],fEt=lEt.map((t=>t.substr(0,3))),hEt=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],dEt=hEt.map((t=>t.substr(0,3)));function pEt(t){if(L_t(t)&&(t=+t),jxt(t))return t>4&&sEt(GCt("quarter",t)),t-1;throw new Error(GCt("quarter",t))}function gEt(t){if(L_t(t)&&(t=+t),jxt(t))return t-1;{const e=t.toLowerCase(),n=lEt.indexOf(e);if(-1!==n)return n;const r=e.substr(0,3),i=fEt.indexOf(r);if(-1!==i)return i;throw new Error(GCt("month",t))}}function mEt(t){if(L_t(t)&&(t=+t),jxt(t))return t%7;{const e=t.toLowerCase(),n=hEt.indexOf(e);if(-1!==n)return n;const r=e.substr(0,3),i=dEt.indexOf(r);if(-1!==i)return i;throw new Error(GCt("day",t))}}function vEt(t,e){const n=[];if(e&&void 0!==t.day&&b_t(t).length>1&&(sEt(KCt(t)),t=n_t(t),delete t.day),void 0!==t.year?n.push(t.year):n.push(2012),void 0!==t.month){const r=e?gEt(t.month):t.month;n.push(r)}else if(void 0!==t.quarter){const r=e?pEt(t.quarter):t.quarter;n.push(jxt(r)?3*r:r+"*3")}else n.push(0);if(void 0!==t.date)n.push(t.date);else if(void 0!==t.day){const r=e?mEt(t.day):t.day;n.push(jxt(r)?r+1:r+"+1")}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const e=t[r];n.push("undefined"===typeof e?0:e)}return n}function yEt(t){const e=vEt(t,!0),n=e.join(", ");return t.utc?`utc(${n})`:`datetime(${n})`}function bEt(t){const e=vEt(t,!1),n=e.join(", ");return t.utc?`utc(${n})`:`datetime(${n})`}function wEt(t){const e=vEt(t,!0);return t.utc?+new Date(Date.UTC(...e)):+new Date(...e)}const xEt={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},_Et=b_t(xEt);function kEt(t){return!!xEt[t]}function AEt(t){return t.startsWith("utc")}function SEt(t){return t.substr(3)}const CEt={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function EEt(t){const e=[];for(const n of _Et)DEt(t,n)&&e.push(n);return e}function DEt(t,e){const n=t.indexOf(e);return!(n<0)&&(!(n>0&&"seconds"===e&&"i"===t.charAt(n-1))&&(!(t.length>n+3&&"day"===e&&"o"===t.charAt(n+3))&&!(n>0&&"year"===e&&"f"===t.charAt(n-1))))}function MEt(t,e,{end:n}={end:!1}){const r=E_t(e),i=AEt(t)?"utc":"";function o(t){return"quarter"===t?`(${i}quarter(${r})-1)`:`${i}${t}(${r})`}let a;const s={};for(const u of _Et)DEt(t,u)&&(s[u]=o(u),a=u);return n&&(s[a]+="+1"),bEt(s)}function TEt(t){if(!t)return;const e=EEt(t);return`timeUnitSpecifier(${Kxt()(e)}, ${Kxt()(CEt)})`}function FEt(t,e,n){if(!t)return;const r=TEt(t),i=n||AEt(t);return`${i?"utc":"time"}Format(${e}, ${r})`}function OEt(t){if(!t)return;let e;return Lxt(t)?e={unit:t}:Mxt(t)&&(e=Object.assign(Object.assign({},t),t.unit?{unit:t.unit}:{})),AEt(e.unit)&&(e.utc=!0,e.unit=SEt(e.unit)),e}function $Et(t){const e=OEt(t),{utc:n}=e,r=qxt(e,["utc"]);return r.unit?(n?"utc":"")+b_t(r).map((t=>k_t(`${"unit"===t?"":`_${t}_`}${r[t]}`))).join(""):(n?"utc":"")+"timeunit"+b_t(r).map((t=>k_t(`_${t}_${r[t]}`))).join("")}function NEt(t){return t&&!!t["signal"]}function BEt(t){return!!t["step"]}function REt(t){return!Dxt(t)&&("fields"in t&&!("data"in t))}function PEt(t){return!Dxt(t)&&("fields"in t&&"data"in t)}function IEt(t){return!Dxt(t)&&("field"in t&&"data"in t)}const jEt={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1},LEt=b_t(jEt),zEt={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},UEt=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function qEt(t){return null===t||void 0===t?void 0:t["selection"]}function VEt(t){return t&&!!t.field&&void 0!==t.equal}function HEt(t){return t&&!!t.field&&void 0!==t.lt}function WEt(t){return t&&!!t.field&&void 0!==t.lte}function YEt(t){return t&&!!t.field&&void 0!==t.gt}function GEt(t){return t&&!!t.field&&void 0!==t.gte}function KEt(t){if(t&&t.field){if(Dxt(t.range)&&2===t.range.length)return!0;if(NEt(t.range))return!0}return!1}function XEt(t){return t&&!!t.field&&(Dxt(t.oneOf)||Dxt(t.in))}function JEt(t){return t&&!!t.field&&void 0!==t.valid}function ZEt(t){return XEt(t)||VEt(t)||KEt(t)||HEt(t)||YEt(t)||WEt(t)||GEt(t)}function QEt(t,e){return kTt(t,{timeUnit:e,wrapTime:!0})}function tDt(t,e){return t.map((t=>QEt(t,e)))}function eDt(t,e=!0){var n;const{field:r}=t,i=null===(n=OEt(t.timeUnit))||void 0===n?void 0:n.unit,o=i?"time("+MEt(i,r)+")":JMt(t,{expr:"datum"});if(VEt(t))return o+"==="+QEt(t.equal,i);if(HEt(t)){const e=t.lt;return`${o}<${QEt(e,i)}`}if(YEt(t)){const e=t.gt;return`${o}>${QEt(e,i)}`}if(WEt(t)){const e=t.lte;return`${o}<=${QEt(e,i)}`}if(GEt(t)){const e=t.gte;return`${o}>=${QEt(e,i)}`}if(XEt(t))return`indexof([${tDt(t.oneOf,i).join(",")}], ${o}) !== -1`;if(JEt(t))return nDt(o,t.valid);if(KEt(t)){const{range:n}=t,r=NEt(n)?{signal:`${n.signal}[0]`}:n[0],a=NEt(n)?{signal:`${n.signal}[1]`}:n[1];if(null!==r&&null!==a&&e)return"inrange("+o+", ["+QEt(r,i)+", "+QEt(a,i)+"])";const s=[];return null!==r&&s.push(`${o} >= ${QEt(r,i)}`),null!==a&&s.push(`${o} <= ${QEt(a,i)}`),s.length>0?s.join(" && "):"true"}throw new Error(`Invalid field predicate: ${JSON.stringify(t)}`)}function nDt(t,e=!0){return e?`isValid(${t}) && isFinite(+${t})`:`!isValid(${t}) || !isFinite(+${t})`}function rDt(t){var e;return ZEt(t)&&t.timeUnit?Object.assign(Object.assign({},t),{timeUnit:null===(e=OEt(t.timeUnit))||void 0===e?void 0:e.unit}):t}const iDt={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};const oDt=iDt.quantitative,aDt=iDt.ordinal,sDt=iDt.temporal,uDt=iDt.nominal,cDt=iDt.geojson,lDt=b_t(iDt);function fDt(t){if(t)switch(t=t.toLowerCase(),t){case"q":case oDt:return"quantitative";case"t":case sDt:return"temporal";case"o":case aDt:return"ordinal";case"n":case uDt:return"nominal";case cDt:return"geojson"}}const hDt={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},dDt={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},pDt=b_t(dDt);function gDt(t,e){const n=dDt[t],r=dDt[e];return n===r||"ordinal-position"===n&&"time"===r||"ordinal-position"===r&&"time"===n}const mDt={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function vDt(t){return mDt[t]}const yDt=["linear","log","pow","sqrt","symlog","time","utc"],bDt=Uxt(yDt),wDt=["linear","log","pow","sqrt","symlog"],xDt=Uxt(wDt);function _Dt(t){return t in xDt}const kDt=["quantile","quantize","threshold"],ADt=Uxt(kDt),SDt=yDt.concat(["quantile","quantize","threshold","sequential","identity"]),CDt=Uxt(SDt),EDt=["ordinal","bin-ordinal","point","band"],DDt=Uxt(EDt);function MDt(t){return t in DDt}function TDt(t){return t in CDt}function FDt(t){return t in bDt}function ODt(t){return t in ADt}const $Dt={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4};function NDt(t){return!Lxt(t)&&!!t["name"]}function BDt(t){return null===t||void 0===t?void 0:t["selection"]}function RDt(t){return t&&t["unionWith"]}const PDt={type:1,domain:1,domainMid:1,align:1,range:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:IDt,domain:jDt,range:LDt,scheme:zDt}=(b_t(PDt),PDt),UDt=qxt(PDt,["type","domain","range","scheme"]),qDt=b_t(UDt);GDt();function VDt(t,e){switch(e){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!u_t(["point","band","identity"],t);case"bins":return!u_t(["point","band","identity","ordinal"],t);case"round":return FDt(t)||"band"===t||"point"===t;case"padding":return FDt(t)||u_t(["point","band"],t);case"paddingOuter":case"align":return u_t(["point","band"],t);case"paddingInner":return"band"===t;case"domainMid":case"clamp":return FDt(t);case"nice":return FDt(t)||"quantize"===t||"threshold"===t;case"exponent":return"pow"===t;case"base":return"log"===t;case"constant":return"symlog"===t;case"zero":return TDt(t)&&!u_t(["log","time","utc","threshold","quantile"],t)}}function HDt(t,e){switch(e){case"interpolate":case"scheme":case"domainMid":return EAt(t)?void 0:DCt(t);case"align":case"type":case"bins":case"domain":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"reverse":case"round":case"clamp":case"zero":return}}function WDt(t,e){return u_t([aDt,uDt],e)?void 0===t||MDt(t):e===sDt?u_t([hDt.TIME,hDt.UTC,void 0],t):e!==oDt||u_t([hDt.LOG,hDt.POW,hDt.SQRT,hDt.SYMLOG,hDt.QUANTILE,hDt.QUANTIZE,hDt.THRESHOLD,hDt.LINEAR,void 0],t)}function YDt(t,e){if(!MSt(t))return!1;switch(t){case Ukt:case qkt:case Gkt:case Wkt:return FDt(e)||u_t(["band","point"],e);case iAt:case cAt:case aAt:case sAt:case uAt:case oAt:return FDt(e)||ODt(e)||u_t(["band","point","ordinal"],e);case tAt:case eAt:case nAt:return"band"!==e;case lAt:return"ordinal"===e||ODt(e);case rAt:return"ordinal"===e}}function GDt(){var t;const e={};for(const n of FAt)for(const r of lDt)for(const i of pDt){const o=KDt(n,r);YDt(n,i)&&WDt(i,r)&&(e[o]=null!==(t=e[o])&&void 0!==t?t:[],e[o].push(i))}return e}function KDt(t,e){return t+"_"+e}function XDt(t){const{channel:e,channelDef:n,markDef:r,scale:i,config:o}=t,a=rMt(t);return IMt(n)&&!Nkt(n.aggregate)&&i&&FDt(i.get("type"))&&!1===i.get("zero")?JDt({fieldDef:n,channel:e,markDef:r,ref:a,config:o}):a}function JDt({fieldDef:t,channel:e,markDef:n,ref:r,config:i}){if(ckt(n.type))return r;const o=$Tt("invalid",n,i);return null===o?r:[ZDt(t,e),r]}function ZDt(t,e){const n=QDt(t,!0),r=VAt(e),i="y"===r?{field:{group:"height"}}:{value:0};return Object.assign({test:n},i)}function QDt(t,e=!0){return nDt(Lxt(t)?t:JMt(t,{expr:"datum"}),!e)}function tMt(t){const{datum:e}=t;return cEt(e)?yEt(e):`${JSON.stringify(e)}`}function eMt(t,e,n,r){const i={};if(e&&(i.scale=e),LMt(t)){const{datum:e}=t;cEt(e)?i.signal=yEt(e):NEt(e)?i.signal=e.signal:i.value=e}else i.field=JMt(t,n);if(r){const{offset:t,band:e}=r;t&&(i.offset=t),e&&(i.band=e)}return i}function nMt({scaleName:t,fieldOrDatumDef:e,fieldOrDatumDef2:n,offset:r,startSuffix:i,band:o=.5}){const a=0<o&&o<1?"datum":void 0,s=JMt(e,{expr:a,suffix:i}),u=void 0!==n?JMt(n,{expr:a}):JMt(e,{suffix:"end",expr:a}),c={};if(0===o||1===o){c.scale=t;const e=0===o?s:u;c.field=e}else{const e=`${o} * ${s} + ${1-o} * ${u}`;c.signal=`scale("${t}", ${e})`}return r&&(c.offset=r),c}function rMt({channel:t,channelDef:e,channel2Def:n,markDef:r,config:i,scaleName:o,scale:a,stack:s,offset:u,defaultRef:c,band:l}){var f;if(e){if(qMt(e)){if(VMt(e)){l=null!==l&&void 0!==l?l:OMt({channel:t,fieldDef:e,fieldDef2:n,markDef:r,stack:s,config:i,isMidPoint:!0});const{bin:a,timeUnit:c,type:f}=e;if(PSt(a)||l&&c&&f===sDt)return s&&s.impute?eMt(e,o,{binSuffix:"mid"},{offset:u}):l?nMt({scaleName:o,fieldOrDatumDef:e,band:l,offset:u}):eMt(e,o,STt(e,t)?{binSuffix:"range"}:{},{offset:u});if(ISt(a)){if(IMt(n))return nMt({scaleName:o,fieldOrDatumDef:e,fieldOrDatumDef2:n,band:l,offset:u});{const e=t===Ukt?Vkt:Hkt;sEt(eEt(e))}}}const c=null===a||void 0===a?void 0:a.get("type");return eMt(e,o,MDt(c)?{binSuffix:"range"}:{},{offset:u,band:"band"===c?null!==(f=null!==l&&void 0!==l?l:e.band)&&void 0!==f?f:.5:void 0})}if(HMt(e)){const n=e.value,r=u?{offset:u}:{};return Object.assign(Object.assign({},iMt(t,n)),r)}}return Ixt(c)&&(c=c()),c?Object.assign(Object.assign({},c),u?{offset:u}:{}):c}function iMt(t,e){return u_t(["x","x2"],t)&&"width"===e?{field:{group:"width"}}:u_t(["y","y2"],t)&&"height"===e?{field:{group:"height"}}:DTt(e)}function oMt(t){return t&&"number"!==t&&"time"!==t}function aMt(t,e,n){return`${t}(${e}${n?`, ${JSON.stringify(n)}`:""})`}const sMt="  ";function uMt({fieldOrDatumDef:t,format:e,formatType:n,expr:r,normalizeStack:i,config:o}){var a,s;if(oMt(n))return lMt({fieldOrDatumDef:t,format:e,formatType:n,expr:r,config:o});const u=cMt(t,r,i);if(xTt(t)){const n=yMt(u,IMt(t)?null===(a=OEt(t.timeUnit))||void 0===a?void 0:a.unit:void 0,e,o.timeFormat,WMt(t)&&(null===(s=t.scale)||void 0===s?void 0:s.type)===hDt.UTC);return n?{signal:n}:void 0}if(e=dMt(jMt(t),e,o),IMt(t)&&PSt(t.bin)){const i=JMt(t,{expr:r,binSuffix:"end"});return{signal:vMt(u,i,e,n,o)}}return e||"quantitative"===jMt(t)?{signal:`${gMt(u,e)}`}:{signal:`isValid(${u}) ? ${u} : ""+${u}`}}function cMt(t,e,n){return IMt(t)?n?`${JMt(t,{expr:e,suffix:"end"})}-${JMt(t,{expr:e,suffix:"start"})}`:JMt(t,{expr:e}):tMt(t)}function lMt({fieldOrDatumDef:t,format:e,formatType:n,expr:r,normalizeStack:i,config:o,field:a}){if(a=null!==a&&void 0!==a?a:cMt(t,r,i),IMt(t)&&PSt(t.bin)){const i=JMt(t,{expr:r,binSuffix:"end"});return{signal:vMt(a,i,e,n,o)}}return{signal:aMt(n,a,e)}}function fMt(t,e,n,r,i,o){var a;if(!oMt(r)){if(xTt(t)){const e=IMt(t)?null===(a=OEt(t.timeUnit))||void 0===a?void 0:a.unit:void 0;return pMt(n,e,i,o)}return dMt(e,n,i)}}function hMt(t,e,n){return t&&(NEt(t)||"number"===t||"time"===t)?t:xTt(e)&&"time"!==n&&"utc"!==n?"time":void 0}function dMt(t,e,n){return Lxt(e)?e:t===oDt?n.numberFormat:void 0}function pMt(t,e,n,r){return t||(e?{signal:TEt(e)}:r?void 0:n.timeFormat)}function gMt(t,e){return`format(${t}, "${e||""}")`}function mMt(t,e,n,r){var i;return oMt(n)?aMt(n,t,e):gMt(t,null!==(i=Lxt(e)?e:void 0)&&void 0!==i?i:r.numberFormat)}function vMt(t,e,n,r,i){const o=mMt(t,n,r,i),a=mMt(e,n,r,i);return`${nDt(t,!1)} ? "null" : ${o} + "${sMt}" + ${a}`}function yMt(t,e,n,r,i){return!e||n?(n=Lxt(n)?n:r,`${i?"utc":"time"}Format(${t}, '${n}')`):FEt(e,t,i)}const bMt="min",wMt={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function xMt(t){return t in wMt}function _Mt(t){return!!t&&!!t["encoding"]}function kMt(t){return!!t&&("count"===t["op"]||!!t["field"])}function AMt(t){return!!t&&Dxt(t)}function SMt(t){return"row"in t||"column"in t}function CMt(t){return!!t&&"header"in t}function EMt(t){return"facet"in t}function DMt(t){return t["selection"]}function MMt(t){return t&&!Lxt(t)&&"repeat"in t}function TMt(t){const{field:e,timeUnit:n,bin:r,aggregate:i}=t;return Object.assign(Object.assign(Object.assign(Object.assign({},n?{timeUnit:n}:{}),r?{bin:r}:{}),i?{aggregate:i}:{}),{field:e})}function FMt(t){return VMt(t)&&"sort"in t}function OMt({channel:t,fieldDef:e,fieldDef2:n,markDef:r,stack:i,config:o,isMidPoint:a}){if(qMt(e)&&void 0!==e.band)return e.band;if(IMt(e)){const{timeUnit:t,bin:i}=e;if(t&&!n)return a?NTt("timeUnitBandPosition",r,o):lkt(r.type)?NTt("timeUnitBand",r,o):0;if(PSt(i))return lkt(r.type)&&!a?1:.5}return(null===i||void 0===i?void 0:i.fieldChannel)===t&&a?.5:void 0}function $Mt(t,e,n,r,i,o){return!!(PSt(e.bin)||e.timeUnit&&VMt(e)&&"temporal"===e.type)&&!!OMt({channel:t,fieldDef:e,fieldDef2:n,stack:r,markDef:i,config:o})}function NMt(t){return!!t&&"condition"in t}function BMt(t){const e=t&&t["condition"];return!!e&&!Dxt(e)&&IMt(e)}function RMt(t){const e=t&&t["condition"];return!!e&&!Dxt(e)&&qMt(e)}function PMt(t){const e=t&&t["condition"];return!!e&&(Dxt(e)||HMt(e))}function IMt(t){return!!t&&(!!t["field"]||"count"===t["aggregate"])}function jMt(t){return t&&t["type"]}function LMt(t){return!!t&&"datum"in t}function zMt(t){return VMt(t)&&QMt(t)||UMt(t)}function UMt(t){return LMt(t)&&jxt(t.datum)}function qMt(t){return IMt(t)||LMt(t)}function VMt(t){return!!t&&("field"in t&&"type"in t||"count"===t["aggregate"])}function HMt(t){return t&&"value"in t&&"value"in t}function WMt(t){return!!t&&("scale"in t||"sort"in t)}function YMt(t){return t&&("axis"in t||"stack"in t||"impute"in t)}function GMt(t){return!!t&&"legend"in t}function KMt(t){return!!t&&("format"in t||"formatType"in t)}function XMt(t){return"op"in t}function JMt(t,e={}){var n,r,i;let o=t.field;const a=e.prefix;let s=e.suffix,u="";if(tTt(t))o=P_t("count");else{let a;if(!e.nofn)if(XMt(t))a=t.op;else{const{bin:c,aggregate:l,timeUnit:f}=t;PSt(c)?(a=RSt(c),s=(null!==(n=e.binSuffix)&&void 0!==n?n:"")+(null!==(r=e.suffix)&&void 0!==r?r:"")):l?Fkt(l)?(u=`["${o}"]`,o=`argmax_${l.argmax}`):Tkt(l)?(u=`["${o}"]`,o=`argmin_${l.argmin}`):a=String(l):f&&(a=$Et(f),s=(!u_t(["range","mid"],e.binSuffix)&&e.binSuffix||"")+(null!==(i=e.suffix)&&void 0!==i?i:""))}a&&(o=o?`${a}_${o}`:a)}return s&&(o=`${o}_${s}`),a&&(o=`${a}_${o}`),e.forAs?O_t(o):e.expr?D_t(o,e.expr)+u:T_t(o)+u}function ZMt(t){switch(t.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return IMt(t)&&!!t.bin;case"temporal":return!1}throw new Error(dCt(t.type))}function QMt(t){return!ZMt(t)}function tTt(t){return"count"===t.aggregate}function eTt(t,e){var n;const{field:r,bin:i,timeUnit:o,aggregate:a}=t;if("count"===a)return e.countTitle;if(PSt(i))return`${r} (binned)`;if(o){const t=null===(n=OEt(o))||void 0===n?void 0:n.unit;if(t)return`${r} (${EEt(t).join("-")})`}else if(a)return Fkt(a)?`${r} for max ${a.argmax}`:Tkt(a)?`${r} for min ${a.argmin}`:`${C_t(a)} of ${r}`;return r}function nTt(t){const{aggregate:e,bin:n,timeUnit:r,field:i}=t;if(Fkt(e))return`${i} for argmax(${e.argmax})`;if(Tkt(e))return`${i} for argmin(${e.argmin})`;const o=OEt(r),a=e||(null===o||void 0===o?void 0:o.unit)||(null===o||void 0===o?void 0:o.maxbins)&&"timeunit"||PSt(n)&&"bin";return a?a.toUpperCase()+"("+i+")":i}const rTt=(t,e)=>{switch(e.fieldTitle){case"plain":return t.field;case"functional":return nTt(t);default:return eTt(t,e)}};let iTt=rTt;function oTt(t){iTt=t}function aTt(){oTt(rTt)}function sTt(t,e,{allowDisabling:n,includeDefault:r=!0}){var i,o;const a=null!==(i=uTt(t))&&void 0!==i?i:{},s=a.title;if(!IMt(t))return s;const u=t,c=r?cTt(u,e):void 0;return n?N_t(s,u.title,c):null!==(o=null!==s&&void 0!==s?s:u.title)&&void 0!==o?o:c}function uTt(t){return YMt(t)&&t.axis?t.axis:GMt(t)&&t.legend?t.legend:CMt(t)&&t.header?t.header:void 0}function cTt(t,e){return iTt(t,e)}function lTt(t){var e;if(KMt(t)){const{format:e,formatType:n}=t;return{format:e,formatType:n}}{const n=null!==(e=uTt(t))&&void 0!==e?e:{},{format:r,formatType:i}=n;return{format:r,formatType:i}}}function fTt(t,e){if(t.timeUnit)return"temporal";if(PSt(t.bin))return"quantitative";switch(BSt(e)){case"continuous":return"quantitative";case"discrete":return"nominal";case"flexible":return"nominal";default:return"quantitative"}}function hTt(t){return IMt(t)?t:BMt(t)?t.condition:void 0}function dTt(t){return qMt(t)?t:RMt(t)?t.condition:void 0}function pTt(t,e,n){if(Lxt(t)||jxt(t)||Pxt(t)){const n=Lxt(t)?"string":jxt(t)?"number":"boolean";return sEt(hCt(e,n,t)),{value:t}}return qMt(t)?gTt(t,e,n):RMt(t)?Object.assign(Object.assign({},t),{condition:gTt(t.condition,e,n)}):t}function gTt(t,e,n){if(KMt(t)){const{format:r,formatType:i}=t,o=qxt(t,["format","formatType"]);if(oMt(i)&&!n.customFormatTypes)return sEt(uCt(e)),gTt(o,e,n)}else{const r=YMt(t)?"axis":GMt(t)?"legend":CMt(t)?"header":null;if(r&&t[r]){const i=t[r],{format:o,formatType:a}=i,s=qxt(i,["format","formatType"]);if(oMt(a)&&!n.customFormatTypes)return sEt(uCt(e)),gTt(Object.assign(Object.assign({},t),{[r]:s}),e,n)}}return IMt(t)?vTt(t,e):mTt(t)}function mTt(t){let e=t["type"];if(e)return t;const{datum:n}=t;return e=jxt(n)?"quantitative":Lxt(n)?"nominal":cEt(n)?"temporal":void 0,Object.assign(Object.assign({},t),{type:e})}function vTt(t,e){const{aggregate:n,timeUnit:r,bin:i,field:o}=t,a=Object.assign({},t);if(!n||Okt(n)||Fkt(n)||Tkt(n)||(sEt(gCt(n)),delete a.aggregate),r&&(a.timeUnit=OEt(r)),o&&(a.field=`${o}`),PSt(i)&&(a.bin=yTt(i,e)),ISt(i)&&!fSt(e)&&sEt(`Channel ${e} should not be used with "binned" bin.`),VMt(a)){const{type:t}=a,e=fDt(t);t!==e&&(a.type=e),"quantitative"!==t&&Nkt(n)&&(sEt(pCt(t,n)),a.type="quantitative")}else if(!qAt(e)){const t=fTt(a,e);sEt(mCt(e,t)),a["type"]=t}if(VMt(a)){const{compatible:t,warning:n}=wTt(a,e);t||sEt(n)}if(FMt(a)&&Lxt(a.sort)){const{sort:t}=a;if(xMt(t))return Object.assign(Object.assign({},a),{sort:{encoding:t}});const e=t.substr(1);if("-"===t.charAt(0)&&xMt(e))return Object.assign(Object.assign({},a),{sort:{encoding:e,order:"descending"}})}if(CMt(a)){const{header:t}=a,{orient:e}=t,n=qxt(t,["orient"]);if(e)return Object.assign(Object.assign({},a),{header:Object.assign(Object.assign({},n),{labelOrient:t.labelOrient||e,titleOrient:t.titleOrient||e})})}return a}function yTt(t,e){return Pxt(t)?{maxbins:zSt(e)}:"binned"===t?{binned:!0}:t.maxbins||t.step?t:Object.assign(Object.assign({},t),{maxbins:zSt(e)})}const bTt={compatible:!0};function wTt(t,e){const n=t.type;if("geojson"===n&&"shape"!==e)return{compatible:!1,warning:`Channel ${e} should not be used with a geojson data.`};switch(e){case jkt:case Lkt:case zkt:return QMt(t)?{compatible:!1,warning:_Ct(e)}:bTt;case Ukt:case qkt:case tAt:case eAt:case nAt:case fAt:case dAt:case pAt:case gAt:case mAt:case vAt:case oAt:case Gkt:case Wkt:case yAt:return bTt;case Jkt:case Qkt:case Xkt:case Zkt:return n!==oDt?{compatible:!1,warning:`Channel ${e} should be used with a quantitative field only, not ${t.type} field.`}:bTt;case aAt:case sAt:case uAt:case cAt:case iAt:case Kkt:case Ykt:case Vkt:case Hkt:return"nominal"!==n||t["sort"]?bTt:{compatible:!1,warning:`Channel ${e} should not be used with an unsorted discrete field.`};case lAt:return u_t(["ordinal","nominal"],t.type)?bTt:{compatible:!1,warning:"StrokeDash channel should be used with only discrete data."};case rAt:return u_t(["ordinal","nominal","geojson"],t.type)?bTt:{compatible:!1,warning:"Shape channel should be used with only either discrete or geojson data."};case hAt:return"nominal"!==t.type||"sort"in t?bTt:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}function xTt(t){const{formatType:e}=lTt(t);return"time"===e||!e&&_Tt(t)}function _Tt(t){return t&&("temporal"===t["type"]||IMt(t)&&!!t.timeUnit)}function kTt(t,{timeUnit:e,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){var o;const a=e&&(null===(o=OEt(e))||void 0===o?void 0:o.unit);let s,u=a||"temporal"===n;return NEt(t)?s=t.signal:cEt(t)?(u=!0,s=yEt(t)):(Lxt(t)||jxt(t))&&u&&(s=`datetime(${JSON.stringify(t)})`,kEt(a)&&(jxt(t)&&t<1e4||Lxt(t)&&isNaN(Date.parse(t)))&&(s=yEt({[a]:t}))),s?r&&u?`time(${s})`:s:i?void 0:JSON.stringify(t)}function ATt(t,e){const{type:n}=t;return e.map((e=>{const r=kTt(e,{timeUnit:IMt(t)?t.timeUnit:void 0,type:n,undefinedIfExprNotRequired:!0});return void 0!==r?{signal:r}:e}))}function STt(t,e){return PSt(t.bin)?MSt(e)&&u_t(["ordinal","nominal"],t.type):(console.warn("Only call this method for binned field defs."),!1)}function CTt(t){const{anchor:e,frame:n,offset:r,orient:i,color:o,subtitleColor:a,subtitleFont:s,subtitleFontSize:u,subtitleFontStyle:c,subtitleFontWeight:l,subtitleLineHeight:f,subtitlePadding:h}=t,d=qxt(t,["anchor","frame","offset","orient","color","subtitleColor","subtitleFont","subtitleFontSize","subtitleFontStyle","subtitleFontWeight","subtitleLineHeight","subtitlePadding"]),p=Object.assign(Object.assign({},d),o?{fill:o}:{}),g=Object.assign(Object.assign(Object.assign(Object.assign({},e?{anchor:e}:{}),n?{frame:n}:{}),r?{offset:r}:{}),i?{orient:i}:{}),m=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},a?{subtitleColor:a}:{}),s?{subtitleFont:s}:{}),u?{subtitleFontSize:u}:{}),c?{subtitleFontStyle:c}:{}),l?{subtitleFontWeight:l}:{}),f?{subtitleLineHeight:f}:{}),h?{subtitlePadding:h}:{}),v=r_t(p,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:p,subtitleMarkConfig:v,nonMark:g,subtitle:m}}function ETt(t){return Lxt(t)||Dxt(t)&&Lxt(t[0])}function DTt(t){return NEt(t)?t:void 0!==t?{value:t}:void 0}function MTt(t){return NEt(t)?t.signal:zxt(t.value)}function TTt(t){return NEt(t)?t.signal:null==t?null:zxt(t)}function FTt(t,e,n){for(const r of n){const n=NTt(r,e.markDef,e.config);void 0!==n&&(t[r]=DTt(n))}return t}function OTt(t){var e;return[].concat(t.type,null!==(e=t.style)&&void 0!==e?e:[])}function $Tt(t,e,n,r={}){const{vgChannel:i,ignoreVgConfig:o}=r;return i&&void 0!==e[i]?e[i]:void 0!==e[t]?e[t]:!o||i&&i!==t?NTt(t,e,n,r):void 0}function NTt(t,e,n,{vgChannel:r}={}){return N_t(r?BTt(t,e,n.style):void 0,BTt(t,e,n.style),r?n[e.type][r]:void 0,n[e.type][t],r?n.mark[r]:n.mark[t])}function BTt(t,e,n){return RTt(t,OTt(e),n)}function RTt(t,e,n){let r;e=Nxt(e);for(const i of e){const e=n[i];e&&void 0!==e[t]&&(r=e[t])}return r}function PTt(t,e){return Nxt(t).reduce(((t,n)=>{var r;return t.field.push(JMt(n,e)),t.order.push(null!==(r=n.sort)&&void 0!==r?r:"ascending"),t}),{field:[],order:[]})}function ITt(t,e){const n=[...t];return e.forEach((t=>{for(const e of n)if(e_t(e,t))return;n.push(t)})),n}function jTt(t,e){return e_t(t,e)||!e?t:t?[...Nxt(t),...Nxt(e)].join(", "):e}function LTt(t,e){const n=t.value,r=e.value;if(null==n||null===r)return{explicit:t.explicit,value:null};if((ETt(n)||NEt(n))&&(ETt(r)||NEt(r)))return{explicit:t.explicit,value:jTt(n,r)};if(ETt(n)||NEt(n))return{explicit:t.explicit,value:n};if(ETt(r)||NEt(r))return{explicit:t.explicit,value:r};if(!ETt(n)&&!NEt(n)&&!ETt(r)&&!NEt(r))return{explicit:t.explicit,value:ITt(n,r)};throw new Error("It should never reach here")}function zTt(t,e){const n=t&&t[e];return!!n&&(Dxt(n)?c_t(n,(t=>!!t.field)):IMt(n)||BMt(n))}function UTt(t){return c_t(FAt,(e=>{if(zTt(t,e)){const n=t[e];if(Dxt(n))return c_t(n,(t=>!!t.aggregate));{const t=hTt(n);return t&&!!t.aggregate}}return!1}))}function qTt(t,e){const n=[],r=[],i=[],o=[],a={};return YTt(t,((s,u)=>{if(IMt(s)){const{field:c,aggregate:l,bin:f,timeUnit:h}=s,d=qxt(s,["field","aggregate","bin","timeUnit"]);if(l||h||f){const t=uTt(s),p=t&&t.title;let g=JMt(s,{forAs:!0});const m=Object.assign(Object.assign(Object.assign({},p?[]:{title:sTt(s,e,{allowDisabling:!0})}),d),{field:g});if(l){let t;if(Fkt(l)?(t="argmax",g=JMt({op:"argmax",field:l.argmax},{forAs:!0}),m.field=`${g}.${c}`):Tkt(l)?(t="argmin",g=JMt({op:"argmin",field:l.argmin},{forAs:!0}),m.field=`${g}.${c}`):"boxplot"!==l&&"errorbar"!==l&&"errorband"!==l&&(t=l),t){const e={op:t,as:g};c&&(e.field=c),o.push(e)}}else if(n.push(g),VMt(s)&&PSt(f)){if(r.push({bin:f,field:c,as:g}),n.push(JMt(s,{binSuffix:"end"})),STt(s,u)&&n.push(JMt(s,{binSuffix:"range"})),fSt(u)){const t={field:g+"_end"};a[u+"2"]=t}m.bin="binned",qAt(u)||(m["type"]=oDt)}else if(h){i.push({timeUnit:h,field:c,as:g});const t=VMt(s)&&s.type!==sDt&&"time";t&&(u===fAt||u===gAt?m["formatType"]=t:SSt(u)?m["legend"]=Object.assign({formatType:t},m["legend"]):fSt(u)&&(m["axis"]=Object.assign({formatType:t},m["axis"])))}a[u]=m}else n.push(c),a[u]=t[u]}else a[u]=t[u]})),{bins:r,timeUnits:i,aggregate:o,groupby:n,encoding:a}}function VTt(t,e,n){const r=TSt(e,n);if(!r)return!1;if("binned"===r){const n=t[e===Vkt?Ukt:qkt];return!!(IMt(n)&&IMt(t[e])&&ISt(n.bin))}return!0}function HTt(t,e,n){const r=e.type;return b_t(t).reduce(((i,o)=>{if(!zAt(o))return sEt(xCt(o)),i;const a=t[o];if("angle"!==o||"arc"!==r||t.theta||(sEt(fCt),o=Gkt),!VTt(t,o,r))return sEt(wCt(o,r)),i;if(o===iAt&&"line"===r){const e=hTt(t[o]);if(null===e||void 0===e?void 0:e.aggregate)return sEt(bCt),i}if(o===tAt&&(e.filled?"fill"in t:"stroke"in t))return sEt(vCt("encoding",{fill:"fill"in t,stroke:"stroke"in t})),i;if(o===dAt||o===hAt&&!Dxt(a)&&!HMt(a)||o===gAt&&Dxt(a))a&&(i[o]=Nxt(a).reduce(((t,e)=>(IMt(e)?t.push(vTt(e,o)):sEt(yCt(e,o)),t)),[]));else{if(o===gAt&&null===a)i[o]=null;else if(!IMt(a)&&!LMt(a)&&!HMt(a)&&!NMt(a)&&!NEt(a))return sEt(yCt(a,o)),i;i[o]=pTt(a,o,n)}return i}),{})}function WTt(t){const e=[];for(const n of b_t(t))if(zTt(t,n)){const r=t[n],i=Nxt(r);for(const t of i)IMt(t)?e.push(t):BMt(t)&&e.push(t.condition)}return e}function YTt(t,e,n){if(t)for(const r of b_t(t)){const i=t[r];if(Dxt(i))for(const t of i)e.call(n,t,r);else e.call(n,i,r)}}function GTt(t,e,n,r){return t?b_t(t).reduce(((n,i)=>{const o=t[i];return Dxt(o)?o.reduce(((t,n)=>e.call(r,t,n,i)),n):e.call(r,n,o,i)}),n):n}function KTt(t,e){return b_t(e).reduce(((n,r)=>{switch(r){case Ukt:case qkt:case mAt:case yAt:case vAt:case Vkt:case Hkt:case Gkt:case Kkt:case Wkt:case Ykt:case Xkt:case Jkt:case Zkt:case Qkt:case fAt:case rAt:case oAt:case gAt:return n;case hAt:if("line"===t||"trail"===t)return n;case dAt:case pAt:{const t=e[r];if(Dxt(t)||IMt(t))for(const e of Nxt(t))e.aggregate||n.push(JMt(e,{}));return n}case iAt:if("trail"===t)return n;case tAt:case eAt:case nAt:case aAt:case sAt:case uAt:case lAt:case cAt:{const t=hTt(e[r]);return t&&!t.aggregate&&n.push(JMt(t,{})),n}}}),[])}function XTt(t){const{tooltip:e}=t,n=qxt(t,["tooltip"]);if(!e)return{filteredEncoding:t};let r,i;if(Dxt(e)){for(const t of e)t.aggregate?(r||(r=[]),r.push(t)):(i||(i=[]),i.push(t));r&&(n.tooltip=r)}else e["aggregate"]?n.tooltip=e:i=e;return Dxt(i)&&1===i.length&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}function JTt(t,e,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};const i=t.map((({fieldPrefix:t,titlePrefix:n})=>{const i=r?` of ${e.field}`:"";return{field:t+e.field,type:e.type,title:NEt(n)?{signal:n+`"${escape(i)}"`}:n+i}}));return{tooltip:[...i,...WTt(n)]}}function ZTt(t){const{axis:e,title:n,field:r}=t;return e&&void 0!==e.title?void 0:N_t(n,r)}function QTt(t,e,n,r,i){const{scale:o,axis:a}=n;return({partName:s,mark:u,positionPrefix:c,endPositionPrefix:l,aria:f,extraEncoding:h={}})=>{const d=ZTt(n);return tFt(t,s,i,f,{mark:u,encoding:Object.assign(Object.assign(Object.assign({[e]:Object.assign(Object.assign(Object.assign({field:c+"_"+n.field,type:n.type},void 0!==d?{title:d}:{}),void 0!==o?{scale:o}:{}),void 0!==a?{axis:a}:{})},Lxt(l)?{[e+"2"]:{field:l+"_"+n.field}}:{}),r),h)})}}function tFt(t,e,n,r,i){const{clip:o,color:a,opacity:s}=t,u=t.type;return t[e]||void 0===t[e]&&n[e]?[Object.assign(Object.assign({},i),{mark:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n[e]),o?{clip:o}:{}),a?{color:a}:{}),s?{opacity:s}:{}),hkt(i.mark)?i.mark:{type:i.mark}),{style:`${u}-${e}`}),Pxt(t[e])?{}:t[e]),!1===r?{aria:r}:{})})]:[]}function eFt(t,e,n){const{encoding:r}=t,i="vertical"===e?"y":"x",o=r[i],a=r[i+"2"],s=r[i+"Error"],u=r[i+"Error2"];return{continuousAxisChannelDef:nFt(o,n),continuousAxisChannelDef2:nFt(a,n),continuousAxisChannelDefError:nFt(s,n),continuousAxisChannelDefError2:nFt(u,n),continuousAxis:i}}function nFt(t,e){if(t&&t.aggregate){const{aggregate:n}=t,r=qxt(t,["aggregate"]);return n!==e&&sEt(ZCt(n,e)),r}return t}function rFt(t,e){const{mark:n,encoding:r}=t,{x:i,y:o}=r;if(zMt(i)){if(zMt(o)){const t=IMt(i)&&i.aggregate,r=IMt(o)&&o.aggregate;if(t||r!==e){if(r||t!==e){if(t===e&&r===e)throw new Error("Both x and y cannot have aggregate");return hkt(n)&&n.orient?n.orient:"vertical"}return"horizontal"}return"vertical"}return"horizontal"}if(zMt(o))return"vertical";throw new Error("Need a valid continuous axis for "+e+"s")}const iFt="boxplot",oFt=["box","median","outliers","rule","ticks"],aFt=new Ekt(iFt,uFt);function sFt(t){return jxt(t)?"tukey":t}function uFt(t,{config:e}){var n,r;const{mark:i,encoding:o,selection:a,projection:s}=t,u=qxt(t,["mark","encoding","selection","projection"]),c=hkt(i)?i:{type:i};a&&sEt(XSt("boxplot"));const l=null!==(n=c.extent)&&void 0!==n?n:e.boxplot.extent,f=$Tt("size",c,e),h=sFt(l),{transform:d,continuousAxisChannelDef:p,continuousAxis:g,groupby:m,aggregate:v,encodingWithoutContinuousAxis:y,ticksOrient:b,boxOrient:w,customTooltipWithoutAggregatedField:x}=lFt(t,l,e),{color:_,size:k}=y,A=qxt(y,["color","size"]),S=t=>QTt(c,g,p,t,e.boxplot),C=S(A),E=S(y),D=S(Object.assign(Object.assign({},A),k?{size:k}:{})),M=JTt([{fieldPrefix:"min-max"===h?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===h?"lower_whisker_":"min_",titlePrefix:"Min"}],p,y),T={type:"tick",color:"black",opacity:1,orient:b,invalid:null},F="min-max"===h?M:JTt([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],p,y),O=[...C({partName:"rule",mark:{type:"rule",invalid:null},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",aria:!1,extraEncoding:F}),...C({partName:"rule",mark:{type:"rule",invalid:null},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",aria:!1,extraEncoding:F}),...C({partName:"ticks",mark:T,positionPrefix:"lower_whisker",aria:!1,extraEncoding:F}),...C({partName:"ticks",mark:T,positionPrefix:"upper_whisker",aria:!1,extraEncoding:F})],$=[..."tukey"!==h?O:[],...E({partName:"box",mark:Object.assign(Object.assign({type:"bar"},f?{size:f}:{}),{orient:w,invalid:null}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",aria:!1,extraEncoding:M}),...D({partName:"median",mark:Object.assign(Object.assign(Object.assign({type:"tick",invalid:null},Mxt(e.boxplot.median)&&e.boxplot.median.color?{color:e.boxplot.median.color}:{}),f?{size:f}:{}),{orient:b,ariaRoleDescription:"box"}),positionPrefix:"mid_box",extraEncoding:M})];let N;if("min-max"!==h){const t=`datum["lower_box_${p.field}"]`,n=`datum["upper_box_${p.field}"]`,r=`(${n} - ${t})`,i=`${t} - ${l} * ${r}`,o=`${n} + ${l} * ${r}`,a=`datum["${p.field}"]`,s={joinaggregate:cFt(p.field),groupby:m};let u;"tukey"===h&&(u={transform:[{filter:`(${i} <= ${a}) && (${a} <= ${o})`},{aggregate:[{op:"min",field:p.field,as:"lower_whisker_"+p.field},{op:"max",field:p.field,as:"upper_whisker_"+p.field},{op:"min",field:"lower_box_"+p.field,as:"lower_box_"+p.field},{op:"max",field:"upper_box_"+p.field,as:"upper_box_"+p.field},...v],groupby:m}],layer:O});const{tooltip:f}=A,d=qxt(A,["tooltip"]),{scale:y,axis:b}=p,w=ZTt(p),_=tFt(c,"outliers",e.boxplot,!0,{transform:[{filter:`(${a} < ${i}) || (${a} > ${o})`}],mark:"point",encoding:Object.assign(Object.assign({[g]:Object.assign(Object.assign(Object.assign({field:p.field,type:p.type},void 0!==w?{title:w}:{}),void 0!==y?{scale:y}:{}),void 0!==b?{axis:b}:{})},d),x?{tooltip:x}:{})})[0];_&&u?N={transform:[s],layer:[_,u]}:_?(N=_,N.transform.unshift(s)):u&&(N=u,N.transform.unshift(s))}return N?Object.assign(Object.assign({},u),{layer:[N,{transform:d,layer:$}]}):Object.assign(Object.assign({},u),{transform:(null!==(r=u.transform)&&void 0!==r?r:[]).concat(d),layer:$})}function cFt(t){return[{op:"q1",field:t,as:"lower_box_"+t},{op:"q3",field:t,as:"upper_box_"+t}]}function lFt(t,e,n){const r=rFt(t,iFt),{continuousAxisChannelDef:i,continuousAxis:o}=eFt(t,r,iFt),a=i.field,s=sFt(e),u=[...cFt(a),{op:"median",field:a,as:"mid_box_"+a},{op:"min",field:a,as:("min-max"===s?"lower_whisker_":"min_")+a},{op:"max",field:a,as:("min-max"===s?"upper_whisker_":"max_")+a}],c="min-max"===s||"tukey"===s?[]:[{calculate:`datum["upper_box_${a}"] - datum["lower_box_${a}"]`,as:"iqr_"+a},{calculate:`min(datum["upper_box_${a}"] + datum["iqr_${a}"] * ${e}, datum["max_${a}"])`,as:"upper_whisker_"+a},{calculate:`max(datum["lower_box_${a}"] - datum["iqr_${a}"] * ${e}, datum["min_${a}"])`,as:"lower_whisker_"+a}],l=t.encoding,f=o,h=(l[f],qxt(l,["symbol"===typeof f?f:f+""])),{customTooltipWithoutAggregatedField:d,filteredEncoding:p}=XTt(h),{bins:g,timeUnits:m,aggregate:v,groupby:y,encoding:b}=qTt(p,n),w="vertical"===r?"horizontal":"vertical",x=r,_=[...g,...m,{aggregate:[...v,...u],groupby:y},...c];return{transform:_,groupby:y,aggregate:v,continuousAxisChannelDef:i,continuousAxis:o,encodingWithoutContinuousAxis:b,ticksOrient:w,boxOrient:x,customTooltipWithoutAggregatedField:d}}const fFt="errorbar",hFt=["ticks","rule"],dFt=new Ekt(fFt,pFt);function pFt(t,{config:e}){const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,ticksOrient:a,markDef:s,outerSpec:u,tooltipEncoding:c}=bFt(t,fFt,e),l=QTt(s,i,r,o,e.errorbar),f={type:"tick",orient:a},h=[...l({partName:"ticks",mark:f,positionPrefix:"lower",aria:!1,extraEncoding:c}),...l({partName:"ticks",mark:f,positionPrefix:"upper",aria:!1,extraEncoding:c}),...l({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar"},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:c})];return Object.assign(Object.assign(Object.assign({},u),{transform:n}),h.length>1?{layer:h}:Object.assign({},h[0]))}function gFt(t,e){const{encoding:n}=t;if(mFt(n))return{orient:rFt(t,e),inputType:"raw"};const r=vFt(n),i=yFt(n),o=n.x,a=n.y;if(r){if(i)throw new Error(`${e} cannot be both type aggregated-upper-lower and aggregated-error`);const t=n.x2,r=n.y2;if(qMt(t)&&qMt(r))throw new Error(`${e} cannot have both x2 and y2`);if(qMt(t)){if(zMt(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${e}`)}if(qMt(r)){if(zMt(a))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${e}`)}throw new Error("No ranged axis")}{const t=n.xError,r=n.xError2,i=n.yError,s=n.yError2;if(qMt(r)&&!qMt(t))throw new Error(`${e} cannot have xError2 without xError`);if(qMt(s)&&!qMt(i))throw new Error(`${e} cannot have yError2 without yError`);if(qMt(t)&&qMt(i))throw new Error(`${e} cannot have both xError and yError with both are quantiative`);if(qMt(t)){if(zMt(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}if(qMt(i)){if(zMt(a))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function mFt(t){return(qMt(t.x)||qMt(t.y))&&!qMt(t.x2)&&!qMt(t.y2)&&!qMt(t.xError)&&!qMt(t.xError2)&&!qMt(t.yError)&&!qMt(t.yError2)}function vFt(t){return qMt(t.x2)||qMt(t.y2)}function yFt(t){return qMt(t.xError)||qMt(t.xError2)||qMt(t.yError)||qMt(t.yError2)}function bFt(t,e,n){var r;const{mark:i,encoding:o,selection:a,projection:s}=t,u=qxt(t,["mark","encoding","selection","projection"]),c=hkt(i)?i:{type:i};a&&sEt(XSt(e));const{orient:l,inputType:f}=gFt(t,e),{continuousAxisChannelDef:h,continuousAxisChannelDef2:d,continuousAxisChannelDefError:p,continuousAxisChannelDefError2:g,continuousAxis:m}=eFt(t,l,e),{errorBarSpecificAggregate:v,postAggregateCalculates:y,tooltipSummary:b,tooltipTitleWithFieldName:w}=wFt(c,h,d,p,g,f,e,n),x=o,_=m,k=(x[_],"x"===m?"x2":"y2"),A=(x[k],"x"===m?"xError":"yError"),S=(x[A],"x"===m?"xError2":"yError2"),C=(x[S],qxt(x,["symbol"===typeof _?_:_+"","symbol"===typeof k?k:k+"","symbol"===typeof A?A:A+"","symbol"===typeof S?S:S+""])),{bins:E,timeUnits:D,aggregate:M,groupby:T,encoding:F}=qTt(C,n),O=[...M,...v],$="raw"!==f?[]:T,N=JTt(b,h,F,w);return{transform:[...null!==(r=u.transform)&&void 0!==r?r:[],...E,...D,...0===O.length?[]:[{aggregate:O,groupby:$}],...y],groupby:$,continuousAxisChannelDef:h,continuousAxis:m,encodingWithoutContinuousAxis:F,ticksOrient:"vertical"===l?"horizontal":"vertical",markDef:c,outerSpec:u,tooltipEncoding:N}}function wFt(t,e,n,r,i,o,a,s){let u=[],c=[];const l=e.field;let f,h=!1;if("raw"===o){const e=t.center?t.center:t.extent?"iqr"===t.extent?"median":"mean":s.errorbar.center,n=t.extent?t.extent:"mean"===e?"stderr":"iqr";if("median"===e!==("iqr"===n)&&sEt(JCt(e,n,a)),"stderr"===n||"stdev"===n)u=[{op:n,field:l,as:"extent_"+l},{op:e,field:l,as:"center_"+l}],c=[{calculate:`datum["center_${l}"] + datum["extent_${l}"]`,as:"upper_"+l},{calculate:`datum["center_${l}"] - datum["extent_${l}"]`,as:"lower_"+l}],f=[{fieldPrefix:"center_",titlePrefix:C_t(e)},{fieldPrefix:"upper_",titlePrefix:xFt(e,n,"+")},{fieldPrefix:"lower_",titlePrefix:xFt(e,n,"-")}],h=!0;else{let e,r,i;t.center&&t.extent&&sEt(QCt(t.extent,a)),"ci"===n?(e="mean",r="ci0",i="ci1"):(e="median",r="q1",i="q3"),u=[{op:r,field:l,as:"lower_"+l},{op:i,field:l,as:"upper_"+l},{op:e,field:l,as:"center_"+l}],f=[{fieldPrefix:"upper_",titlePrefix:sTt({field:l,aggregate:i,type:"quantitative"},s,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:sTt({field:l,aggregate:r,type:"quantitative"},s,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:sTt({field:l,aggregate:e,type:"quantitative"},s,{allowDisabling:!1})}]}}else{(t.center||t.extent)&&sEt(XCt(t.center,t.extent)),"aggregated-upper-lower"===o?(f=[],c=[{calculate:`datum["${n.field}"]`,as:"upper_"+l},{calculate:`datum["${l}"]`,as:"lower_"+l}]):"aggregated-error"===o&&(f=[{fieldPrefix:"",titlePrefix:l}],c=[{calculate:`datum["${l}"] + datum["${r.field}"]`,as:"upper_"+l}],i?c.push({calculate:`datum["${l}"] + datum["${i.field}"]`,as:"lower_"+l}):c.push({calculate:`datum["${l}"] - datum["${r.field}"]`,as:"lower_"+l}));for(const t of c)f.push({fieldPrefix:t.as.substring(0,6),titlePrefix:F_t(F_t(t.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:c,errorBarSpecificAggregate:u,tooltipSummary:f,tooltipTitleWithFieldName:h}}function xFt(t,e,n){return C_t(t)+" "+n+" "+e}const _Ft="errorband",kFt=["band","borders"],AFt=new Ekt(_Ft,SFt);function SFt(t,{config:e}){const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,markDef:a,outerSpec:s,tooltipEncoding:u}=bFt(t,_Ft,e),c=a,l=QTt(c,i,r,o,e.errorband),f=void 0!==t.encoding.x&&void 0!==t.encoding.y;let h={type:f?"area":"rect"},d={type:f?"line":"rule"};const p=Object.assign(Object.assign({},c.interpolate?{interpolate:c.interpolate}:{}),c.tension&&c.interpolate?{tension:c.tension}:{});return f?(h=Object.assign(Object.assign(Object.assign({},h),p),{ariaRoleDescription:"errorband"}),d=Object.assign(Object.assign({},d),p)):c.interpolate?sEt(tEt("interpolate")):c.tension&&sEt(tEt("tension")),Object.assign(Object.assign({},s),{transform:n,layer:[...l({partName:"band",mark:h,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u}),...l({partName:"borders",mark:d,positionPrefix:"lower",aria:!1,extraEncoding:u}),...l({partName:"borders",mark:d,positionPrefix:"upper",aria:!1,extraEncoding:u})]})}const CFt={};function EFt(t,e,n){const r=new Ekt(t,e);CFt[t]={normalizer:r,parts:n}}function DFt(){return b_t(CFt)}EFt(iFt,uFt,oFt),EFt(fFt,pFt,hFt),EFt(_Ft,SFt,kFt);const MFt=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],TFt=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],FFt={fillColor:{part:"legend",vgProp:"fill"},gradientStrokeColor:{part:"gradient",vgProp:"stroke"},labelColor:{part:"labels",vgProp:"fill"},strokeColor:{part:"legend",vgProp:"stroke"},symbolFillColor:{part:"symbols",vgProp:"fill"},symbolStrokeColor:{part:"symbols",vgProp:"stroke"},titleColor:{part:"title",vgProp:"fill"}},OFt={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},$Ft={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},NFt=(b_t($Ft),"_vgsid_"),BFt={single:{on:"click",fields:[NFt],resolve:"global",empty:"all",clear:"dblclick"},multi:{on:"click",fields:[NFt],toggle:"event.shiftKey",resolve:"global",empty:"all",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function RFt(t){return!!t&&("legend"===t||!!t.legend)}function PFt(t){return RFt(t)&&Mxt(t)}function IFt(t){return LFt(t)||zFt(t)||jFt(t)}function jFt(t){return"concat"in t}function LFt(t){return"vconcat"in t}function zFt(t){return"hconcat"in t}function UFt(t){return Mxt(t)&&void 0!==t["step"]}function qFt(t){return t["view"]||t["width"]||t["height"]}const VFt=20,HFt={align:1,bounds:1,center:1,columns:1,spacing:1},WFt=b_t(HFt);function YFt(t,e,n){var r,i;const o=n[e],a={},{spacing:s,columns:u}=o;void 0!==s&&(a.spacing=s),void 0!==u&&(EMt(t)&&!SMt(t.facet)||jFt(t))&&(a.columns=u),LFt(t)&&(a.columns=1);for(const c of WFt)if(void 0!==t[c])if("spacing"===c){const e=t[c];a[c]=jxt(e)?e:{row:null!==(r=e.row)&&void 0!==r?r:s,column:null!==(i=e.column)&&void 0!==i?i:s}}else a[c]=t[c];return a}function GFt(t,e){var n;return null!==(n=t[e])&&void 0!==n?n:t["width"===e?"continuousWidth":"continuousHeight"]}function KFt(t,e){const n=XFt(t,e);return UFt(n)?n.step:JFt}function XFt(t,e){var n;const r=null!==(n=t[e])&&void 0!==n?n:t["width"===e?"discreteWidth":"discreteHeight"];return N_t(r,{step:t.step})}const JFt=20,ZFt={continuousWidth:200,continuousHeight:200,step:JFt};const QFt={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:ZFt,mark:bkt,arc:{},area:{},bar:_kt,circle:{},geoshape:{},image:{},line:{},point:{},rect:kkt,rule:{color:"black"},square:{},text:{color:"black"},tick:Akt,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:$Dt,projection:{},legend:OFt,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:BFt,style:{},title:{},facet:{spacing:VFt},concat:{spacing:VFt}},tOt=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],eOt={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},nOt={blue:tOt[0],orange:tOt[1],red:tOt[2],teal:tOt[3],green:tOt[4],yellow:tOt[5],purple:tOt[6],pink:tOt[7],brown:tOt[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function rOt(t={}){return{signals:[{name:"color",value:Mxt(t)?Object.assign(Object.assign({},nOt),t):nOt}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function iOt(t){return{signals:[{name:"fontSize",value:Mxt(t)?Object.assign(Object.assign({},eOt),t):eOt}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function oOt(t){return{text:{font:t},style:{"guide-label":{font:t},"guide-title":{font:t},"group-title":{font:t},"group-subtitle":{font:t}}}}function aOt(t={}){const{color:e,font:n,fontSize:r}=t,i=qxt(t,["color","font","fontSize"]);return Fxt({},QFt,n?oOt(n):{},e?rOt(e):{},r?iOt(r):{},i||{})}const sOt=["view",...fkt],uOt=["color","fontSize","background","padding","facet","concat","numberFormat","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],cOt=Object.assign({view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},ykt);function lOt(t){t=n_t(t);for(const e of uOt)delete t[e];if(t.axis)for(const e in t.axis)U_t(t.axis[e])&&delete t.axis[e];if(t.legend)for(const e of MFt)delete t.legend[e];if(t.mark){for(const e of vkt)delete t.mark[e];t.mark.tooltip&&Mxt(t.mark.tooltip)&&delete t.mark.tooltip}for(const e of sOt){for(const r of vkt)delete t[e][r];const n=cOt[e];if(n)for(const r of n)delete t[e][r];hOt(t,e)}for(const e of DFt())delete t[e];fOt(t);for(const e in t)Mxt(t[e])&&y_t(t[e])&&delete t[e];return y_t(t)?void 0:t}function fOt(t){const{titleMarkConfig:e,subtitleMarkConfig:n,subtitle:r}=CTt(t.title);y_t(e)||(t.style["group-title"]=Object.assign(Object.assign({},t.style["group-title"]),e)),y_t(n)||(t.style["group-subtitle"]=Object.assign(Object.assign({},t.style["group-subtitle"]),n)),y_t(r)?delete t.title:t.title=r}function hOt(t,e,n,r){const i=r?t[e][r]:t[e];"view"===e&&(n="cell");const o=Object.assign(Object.assign({},i),t.style[null!==n&&void 0!==n?n:e]);y_t(o)||(t.style[null!==n&&void 0!==n?n:e]=o),r||delete t[e]}function dOt(t){return"layer"in t}function pOt(t){return"repeat"in t}function gOt(t){return!Dxt(t.repeat)&&t.repeat["layer"]}class mOt{map(t,e){return EMt(t)?this.mapFacet(t,e):pOt(t)?this.mapRepeat(t,e):zFt(t)?this.mapHConcat(t,e):LFt(t)?this.mapVConcat(t,e):jFt(t)?this.mapConcat(t,e):this.mapLayerOrUnit(t,e)}mapLayerOrUnit(t,e){if(dOt(t))return this.mapLayer(t,e);if(Ckt(t))return this.mapUnit(t,e);throw new Error(USt(t))}mapLayer(t,e){return Object.assign(Object.assign({},t),{layer:t.layer.map((t=>this.mapLayerOrUnit(t,e)))})}mapHConcat(t,e){return Object.assign(Object.assign({},t),{hconcat:t.hconcat.map((t=>this.map(t,e)))})}mapVConcat(t,e){return Object.assign(Object.assign({},t),{vconcat:t.vconcat.map((t=>this.map(t,e)))})}mapConcat(t,e){const{concat:n}=t,r=qxt(t,["concat"]);return Object.assign(Object.assign({},r),{concat:n.map((t=>this.map(t,e)))})}mapFacet(t,e){return Object.assign(Object.assign({},t),{spec:this.map(t.spec,e)})}mapRepeat(t,e){return Object.assign(Object.assign({},t),{spec:this.map(t.spec,e)})}}const vOt={zero:1,center:1,normalize:1};function yOt(t){return t in vOt}const bOt=new Set([K_t,J_t,X_t,nkt,tkt,akt,skt,Q_t,rkt,ikt]),wOt=new Set([J_t,X_t,K_t]);function xOt(t,e){var n,r;const i="x"===e?"y":"radius",o=t[e],a=t[i];if(IMt(o)&&IMt(a))if("quantitative"===jMt(o)&&"quantitative"===jMt(a)){if(o.stack)return e;if(a.stack)return i;const t=IMt(o)&&!!o.aggregate,s=IMt(a)&&!!a.aggregate;if(t!==s)return t?e:i;{const t=null===(n=o.scale)||void 0===n?void 0:n.type,s=null===(r=a.scale)||void 0===r?void 0:r.type;if(t&&"linear"!==t)return i;if(s&&"linear"!==s)return e}}else{if("quantitative"===jMt(o))return e;if("quantitative"===jMt(a))return i}else{if("quantitative"===jMt(o))return e;if("quantitative"===jMt(a))return i}}function _Ot(t){switch(t){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function kOt(t,e,n={}){const r=hkt(t)?t.type:t;if(!bOt.has(r))return null;const i=xOt(e,"x")||xOt(e,"theta");if(!i)return null;const o=e[i],a=IMt(o)?JMt(o,{}):void 0;let s=_Ot(i),u=e[s],c=IMt(u)?JMt(u,{}):void 0;c===a&&(c=void 0,u=void 0,s=void 0);const l=uSt.reduce(((t,n)=>{if("tooltip"!==n&&zTt(e,n)){const r=e[n];for(const e of Nxt(r)){const r=hTt(e);if(r.aggregate)continue;const i=JMt(r,{});i&&i===c||t.push({channel:n,fieldDef:r})}}return t}),[]);let f;if(void 0!==o.stack?f=Pxt(o.stack)?o.stack?"zero":null:o.stack:l.length>0&&wOt.has(r)&&(f="zero"),!f||!yOt(f))return null;if(UTt(e)&&0===l.length)return null;if(o.scale&&o.scale.type&&o.scale.type!==hDt.LINEAR){if(n.disallowNonLinearStack)return null;sEt(WCt(o.scale.type))}return qMt(e[WAt(i)])?(void 0!==o.stack&&sEt(HCt(i)),null):(IMt(o)&&o.aggregate&&!u_t(Rkt,o.aggregate)&&sEt(YCt(o.aggregate)),{groupbyChannel:u?s:void 0,groupbyField:c,fieldChannel:i,impute:null!==o.impute&&ckt(r),stackBy:l,offset:f})}function AOt(t){const{point:e,line:n}=t,r=qxt(t,["point","line"]);return b_t(r).length>1?r:r.type}function SOt(t){for(const e of["line","area","rule","trail"])t[e]&&(t=Object.assign(Object.assign({},t),{[e]:i_t(t[e],["point","line"])}));return t}function COt(t,e={},n){return"transparent"===t.point?{opacity:0}:t.point?Mxt(t.point)?t.point:{}:void 0!==t.point?null:e.point||n.shape?Mxt(e.point)?e.point:{}:void 0}function EOt(t,e={}){return t.line?!0===t.line?{}:t.line:void 0!==t.line?null:e.line?!0===e.line?{}:e.line:void 0}class DOt{constructor(){this.name="path-overlay"}hasMatchingType(t,e){if(Ckt(t)){const{mark:n,encoding:r}=t,i=hkt(n)?n:{type:n};switch(i.type){case"line":case"rule":case"trail":return!!COt(i,e[i.type],r);case"area":return!!COt(i,e[i.type],r)||!!EOt(i,e[i.type])}}return!1}run(t,e,n){const{config:r}=e,{selection:i,projection:o,encoding:a,mark:s}=t,u=qxt(t,["selection","projection","encoding","mark"]),c=hkt(s)?s:{type:s},l=COt(c,r[c.type],a),f="area"===c.type&&EOt(c,r[c.type]),h=[Object.assign(Object.assign({},i?{selection:i}:{}),{mark:AOt(Object.assign(Object.assign({},"area"===c.type&&void 0===c.opacity&&void 0===c.fillOpacity?{opacity:.7}:{}),c)),encoding:i_t(a,["shape"])})],d=kOt(c,a);let p=a;if(d){const{fieldChannel:t,offset:e}=d;p=Object.assign(Object.assign({},a),{[t]:Object.assign(Object.assign({},a[t]),e?{stack:e}:{})})}return f&&h.push(Object.assign(Object.assign({},o?{projection:o}:{}),{mark:Object.assign(Object.assign({type:"line"},r_t(c,["clip","interpolate","tension","tooltip"])),f),encoding:p})),l&&h.push(Object.assign(Object.assign({},o?{projection:o}:{}),{mark:Object.assign(Object.assign({type:"point",opacity:1,filled:!0},r_t(c,["clip","tooltip"])),l),encoding:p})),n(Object.assign(Object.assign({},u),{layer:h}),Object.assign(Object.assign({},e),{config:SOt(r)}))}}class MOt{constructor(){this.name="RangeStep"}hasMatchingType(t){var e;if(Ckt(t)&&t.encoding)for(const n of lSt){const r=t.encoding[n];if(r&&qMt(r)&&(null===(e=null===r||void 0===r?void 0:r.scale)||void 0===e?void 0:e["rangeStep"]))return!0}return!1}run(t){var e;const n={};let r=Object.assign({},t.encoding);for(const i of lSt){const t=YAt(i),o=r[i];if(o&&qMt(o)&&(null===(e=null===o||void 0===o?void 0:o.scale)||void 0===e?void 0:e["rangeStep"])){const{scale:e}=o,a=qxt(o,["scale"]),s=e,{rangeStep:u}=s,c=qxt(s,["rangeStep"]);n[t]={step:e["rangeStep"]},sEt(ECt),r=Object.assign(Object.assign({},r),{[i]:Object.assign(Object.assign({},a),y_t(c)?{}:{scale:c})})}}return Object.assign(Object.assign(Object.assign({},n),t),{encoding:r})}}function TOt(t,e){return e?SMt(t)?ROt(t,e):$Ot(t,e):t}function FOt(t,e){return e?ROt(t,e):t}function OOt(t,e,n){const r=e[t];return MMt(r)?r.repeat in n?Object.assign(Object.assign({},e),{[t]:n[r.repeat]}):void sEt(eCt(r.repeat)):e}function $Ot(t,e){if(t=OOt("field",t,e),void 0!==t){if(null===t)return null;if(FMt(t)&&kMt(t.sort)){const n=OOt("field",t.sort,e);t=Object.assign(Object.assign({},t),n?{sort:n}:{})}return t}}function NOt(t,e){if(IMt(t))return $Ot(t,e);{const n=OOt("datum",t,e);return n===t||n.type||(n.type="nominal"),n}}function BOt(t,e){if(!qMt(t)){if(RMt(t)){const n=NOt(t.condition,e);if(n)return Object.assign(Object.assign({},t),{condition:n});{const{condition:e}=t,n=qxt(t,["condition"]);return n}}return t}{const n=NOt(t,e);if(n)return n;if(NMt(t))return{condition:t.condition}}}function ROt(t,e){const n={};for(const r in t)if(Rxt(t,r)){const i=t[r];if(Dxt(i))n[r]=i.map((t=>BOt(t,e))).filter((t=>t));else{const t=BOt(i,e);void 0!==t&&(n[r]=t)}}return n}class POt{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if(Ckt(t)){const{encoding:e,mark:n}=t;if("line"===n)for(const t of UAt){const n=VAt(t),r=e[n];if(e[t]&&(IMt(r)&&!ISt(r.bin)||LMt(r)))return!0}}return!1}run(t,e,n){const{encoding:r}=t;return sEt(SCt(!!r.x2,!!r.y2)),n(Object.assign(Object.assign({},t),{mark:"rule"}),e)}}class IOt extends mOt{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[aFt,dFt,AFt,new DOt,new POt,new MOt]}map(t,e){if(Ckt(t)){const n=zTt(t.encoding,jkt),r=zTt(t.encoding,Lkt),i=zTt(t.encoding,zkt);if(n||r||i)return this.mapFacetedUnit(t,e)}return super.map(t,e)}mapUnit(t,e){const{parentEncoding:n,parentProjection:r}=e,i=Object.assign(Object.assign({},t),{encoding:FOt(t.encoding,e.repeater)});if(n||r)return this.mapUnitWithParentEncodingOrProjection(i,e);const o=this.mapLayerOrUnit.bind(this);for(const a of this.nonFacetUnitNormalizers)if(a.hasMatchingType(i,e.config))return a.run(i,e,o);return i}mapRepeat(t,e){return gOt(t)?this.mapLayerRepeat(t,e):this.mapNonLayerRepeat(t,e)}mapLayerRepeat(t,e){const{repeat:n,spec:r}=t,i=qxt(t,["repeat","spec"]),{row:o,column:a,layer:s}=n,{repeater:u={},repeaterPrefix:c=""}=e;return o||a?this.mapRepeat(Object.assign(Object.assign({},t),{repeat:Object.assign(Object.assign({},o?{row:o}:{}),a?{column:a}:{}),spec:{repeat:{layer:s},spec:r}}),e):Object.assign(Object.assign({},i),{layer:s.map((t=>{const n=Object.assign(Object.assign({},u),{layer:t}),i=(r.name||"")+c+`child__layer_${k_t(t)}`,o=this.mapLayerOrUnit(r,Object.assign(Object.assign({},e),{repeater:n,repeaterPrefix:i}));return o.name=i,o}))})}mapNonLayerRepeat(t,e){var n;const{repeat:r,spec:i,data:o}=t,a=qxt(t,["repeat","spec","data"]);!Dxt(r)&&t.columns&&(t=i_t(t,["columns"]),sEt(nCt("repeat")));const s=[],{repeater:u={},repeaterPrefix:c=""}=e,l=!Dxt(r)&&r.row||[u?u.row:null],f=!Dxt(r)&&r.column||[u?u.column:null],h=Dxt(r)&&r||[u?u.repeat:null];for(const p of h)for(const t of l)for(const n of f){const o={repeat:p,row:t,column:n,layer:u.layer},a=(i.name||"")+c+"child__"+(Dxt(r)?`${k_t(p)}`:(r.row?`row_${k_t(t)}`:"")+(r.column?`column_${k_t(n)}`:"")),l=this.map(i,Object.assign(Object.assign({},e),{repeater:o,repeaterPrefix:a}));l.name=a,s.push(i_t(l,["data"]))}const d=Dxt(r)?t.columns:r.column?r.column.length:1;return Object.assign(Object.assign({data:null!==(n=i.data)&&void 0!==n?n:o,align:"all"},a),{columns:d,concat:s})}mapFacet(t,e){const{facet:n}=t;return SMt(n)&&t.columns&&(t=i_t(t,["columns"]),sEt(nCt("facet"))),super.mapFacet(t,e)}mapUnitWithParentEncodingOrProjection(t,e){const{encoding:n,projection:r}=t,{parentEncoding:i,parentProjection:o,config:a}=e,s=LOt({parentProjection:o,projection:r}),u=jOt({parentEncoding:i,encoding:FOt(n,e.repeater)});return this.mapUnit(Object.assign(Object.assign(Object.assign({},t),s?{projection:s}:{}),u?{encoding:u}:{}),{config:a})}mapFacetedUnit(t,e){const n=t.encoding,{row:r,column:i,facet:o}=n,a=qxt(n,["row","column","facet"]),{mark:s,width:u,projection:c,height:l,view:f,selection:h,encoding:d}=t,p=qxt(t,["mark","width","projection","height","view","selection","encoding"]),{facetMapping:g,layout:m}=this.getFacetMappingAndLayout({row:r,column:i,facet:o},e),v=FOt(a,e.repeater);return this.mapFacet(Object.assign(Object.assign(Object.assign({},p),m),{facet:g,spec:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},u?{width:u}:{}),l?{height:l}:{}),f?{view:f}:{}),c?{projection:c}:{}),{mark:s,encoding:v}),h?{selection:h}:{})}),e)}getFacetMappingAndLayout(t,e){var n;const{row:r,column:i,facet:o}=t;if(r||i){o&&sEt(kCt([...r?[jkt]:[],...i?[Lkt]:[]]));const e={},a={};for(const r of[jkt,Lkt]){const i=t[r];if(i){const{align:t,center:o,spacing:s,columns:u}=i,c=qxt(i,["align","center","spacing","columns"]);e[r]=c;for(const e of["align","center","spacing"])void 0!==i[e]&&(a[e]=null!==(n=a[e])&&void 0!==n?n:{},a[e][r]=i[e])}}return{facetMapping:e,layout:a}}{const{align:t,center:n,spacing:r,columns:i}=o,a=qxt(o,["align","center","spacing","columns"]);return{facetMapping:TOt(a,e.repeater),layout:Object.assign(Object.assign(Object.assign(Object.assign({},t?{align:t}:{}),n?{center:n}:{}),r?{spacing:r}:{}),i?{columns:i}:{})}}}mapLayer(t,e){var{parentEncoding:n,parentProjection:r}=e,i=qxt(e,["parentEncoding","parentProjection"]);const{encoding:o,projection:a}=t,s=qxt(t,["encoding","projection"]),u=Object.assign(Object.assign({},i),{parentEncoding:jOt({parentEncoding:n,encoding:o}),parentProjection:LOt({parentProjection:r,projection:a})});return super.mapLayer(s,u)}}function jOt(t){const{parentEncoding:e,encoding:n}=t;if(e&&n){const t=b_t(e).reduce(((t,e)=>(n[e]&&t.push(e),t)),[]);t.length>0&&sEt(cCt(t))}const r=Object.assign(Object.assign({},null!==e&&void 0!==e?e:{}),null!==n&&void 0!==n?n:{});return y_t(r)?void 0:r}function LOt(t){const{parentProjection:e,projection:n}=t;return e&&n&&sEt(lCt({parentProjection:e,projection:n})),null!==n&&void 0!==n?n:e}function zOt(t,e){void 0===e&&(e=aOt(t.config));const n=qOt(t,e),{width:r,height:i}=t,o=HOt(n,{width:r,height:i,autosize:t.autosize},e);return Object.assign(Object.assign({},n),o?{autosize:o}:{})}const UOt=new IOt;function qOt(t,e={}){return UOt.map(t,{config:e})}function VOt(t){return Lxt(t)?{type:t}:null!==t&&void 0!==t?t:{}}function HOt(t,e,n){let{width:r,height:i}=e;const o=Ckt(t)||dOt(t),a={};o?"container"==r&&"container"==i?(a.type="fit",a.contains="padding"):"container"==r?(a.type="fit-x",a.contains="padding"):"container"==i&&(a.type="fit-y",a.contains="padding"):("container"==r&&(sEt(VSt("width")),r=void 0),"container"==i&&(sEt(VSt("height")),i=void 0));const s=Object.assign(Object.assign(Object.assign({type:"pad"},a),n?VOt(n.autosize):{}),VOt(t.autosize));if("fit"!==s.type||o||(sEt(qSt),s.type="pad"),"container"==r&&"fit"!=s.type&&"fit-x"!=s.type&&sEt(HSt("width")),"container"==i&&"fit"!=s.type&&"fit-y"!=s.type&&sEt(HSt("height")),!e_t(s,{type:"pad"}))return s}function WOt(t){return"fit"===t||"fit-x"===t||"fit-y"===t}function YOt(t){return t?`fit-${pSt(t)}`:"fit"}const GOt=["background","padding"];function KOt(t){return GOt.reduce(((e,n)=>(t&&void 0!==t[n]&&(e[n]=t[n]),e)),{})}class XOt{constructor(t={},e={}){this.explicit=t,this.implicit=e}clone(){return new XOt(n_t(this.explicit),n_t(this.implicit))}combine(){return Object.assign(Object.assign({},this.explicit),this.implicit)}get(t){return N_t(this.explicit[t],this.implicit[t])}getWithExplicit(t){return void 0!==this.explicit[t]?{explicit:!0,value:this.explicit[t]}:void 0!==this.implicit[t]?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,e){void 0!==e.value&&this.set(t,e.value,e.explicit)}set(t,e,n){return delete this[n?"implicit":"explicit"][t],this[n?"explicit":"implicit"][t]=e,this}copyKeyFromSplit(t,e){void 0!==e.explicit[t]?this.set(t,e.explicit[t],!0):void 0!==e.implicit[t]&&this.set(t,e.implicit[t],!1)}copyKeyFromObject(t,e){void 0!==e[t]&&this.set(t,e[t],!0)}copyAll(t){for(const e of b_t(t.combine())){const n=t.getWithExplicit(e);this.setWithExplicit(e,n)}}}function JOt(t){return{explicit:!0,value:t}}function ZOt(t){return{explicit:!1,value:t}}function QOt(t){return(e,n,r,i)=>{const o=t(e.value,n.value);return o>0?e:o<0?n:t$t(e,n,r,i)}}function t$t(t,e,n,r){return t.explicit&&e.explicit&&sEt(PCt(n,r,t.value,e.value)),t}function e$t(t,e,n,r,i=t$t){return void 0===t||void 0===t.value?e:t.explicit&&!e.explicit?t:e.explicit&&!t.explicit?e:e_t(t.value,e.value)?t:i(t,e,n,r)}class n$t extends XOt{constructor(t={},e={},n=!1){super(t,e),this.explicit=t,this.implicit=e,this.parseNothing=n}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function r$t(t){return"url"in t}function i$t(t){return"values"in t}function o$t(t){return"name"in t&&!r$t(t)&&!i$t(t)&&!a$t(t)}function a$t(t){return t&&(s$t(t)||u$t(t)||c$t(t))}function s$t(t){return"sequence"in t}function u$t(t){return"sphere"in t}function c$t(t){return"graticule"in t}const l$t="main",f$t="raw";function h$t(t){return"filter"in t}function d$t(t){return void 0!==(null===t||void 0===t?void 0:t["stop"])}function p$t(t){return"lookup"in t}function g$t(t){return"data"in t}function m$t(t){return"selection"in t}function v$t(t){return"pivot"in t}function y$t(t){return"density"in t}function b$t(t){return"quantile"in t}function w$t(t){return"regression"in t}function x$t(t){return"loess"in t}function _$t(t){return"sample"in t}function k$t(t){return"window"in t}function A$t(t){return"joinaggregate"in t}function S$t(t){return"flatten"in t}function C$t(t){return"calculate"in t}function E$t(t){return"bin"in t}function D$t(t){return"impute"in t}function M$t(t){return"timeUnit"in t}function T$t(t){return"aggregate"in t}function F$t(t){return"stack"in t}function O$t(t){return"fold"in t}function $$t(t){return t.map((t=>h$t(t)?{filter:t_t(t.filter,rDt)}:t))}function N$t(t,e,n,r){const i=NMt(e)&&e.condition,o=r(e);if(i){const e=Nxt(i),a=e.map((e=>{const n=r(e),i=DMt(e)?YPt(t,e.selection):XPt(t,e.test);return Object.assign({test:i},n)}));return{[n]:[...a,...void 0!==o?[o]:[]]}}return void 0!==o?{[n]:o}:{}}function B$t(t,e="text"){const n=t.encoding[e];return N$t(t,n,e,(e=>R$t(e,t.config)))}function R$t(t,e,n="datum"){if(t){if(HMt(t))return DTt(t.value);if(qMt(t)){const{format:r,formatType:i}=lTt(t);return uMt({fieldOrDatumDef:t,format:r,formatType:i,expr:n,config:e})}}}function P$t(t,e={}){const{encoding:n,markDef:r,config:i,stack:o}=t,a=n.tooltip;if(Dxt(a))return{tooltip:j$t({tooltip:a},o,i,e)};{const s=e.reactiveGeom?"datum.datum":"datum";return N$t(t,a,"tooltip",(t=>{const a=R$t(t,i,s);if(a)return a;if(null===t)return;let u=$Tt("tooltip",r,i);return!0===u&&(u={content:"encoding"}),Lxt(u)?{value:u}:Mxt(u)?"encoding"===u.content?j$t(n,o,i,e):{signal:s}:void 0}))}}function I$t(t,e,n,{reactiveGeom:r}={}){const i={},o=r?"datum.datum":"datum",a=[];function s(r,s){const u=VAt(s),c=VMt(r)?r:Object.assign(Object.assign({},r),{type:t[u].type}),l=Nxt(sTt(c,n,{allowDisabling:!1})).join(", ");let f;if(fSt(s)){const r="x"===s?"x2":"y2",a=hTt(t[r]);if(ISt(c.bin)&&a){const t=JMt(c,{expr:o}),e=JMt(a,{expr:o}),{format:s,formatType:u}=lTt(c);f=vMt(t,e,s,u,n),i[r]=!0}else if(e&&e.fieldChannel===s&&"normalize"===e.offset){const{format:t,formatType:e}=lTt(c);f=uMt({fieldOrDatumDef:c,format:t,formatType:e,expr:o,config:n,normalizeStack:!0}).signal}}f=null!==f&&void 0!==f?f:R$t(c,n,o).signal,a.push({channel:s,key:l,value:f})}YTt(t,((t,e)=>{IMt(t)?s(t,e):BMt(t)&&s(t.condition,e)}));const u={};for(const{channel:c,key:l,value:f}of a)i[c]||u[l]||(u[zxt(l)]=f);return u}function j$t(t,e,n,{reactiveGeom:r}={}){const i=I$t(t,e,n,{reactiveGeom:r}),o=x_t(i).map((({key:t,value:e})=>`${t}: ${e}`));return o.length>0?{signal:`{${o.join(", ")}}`}:void 0}function L$t(t){const{markDef:e,config:n}=t,r=$Tt("aria",e,n);return!1===r?{}:Object.assign(Object.assign(Object.assign({},r?{aria:r}:{}),z$t(t)),U$t(t))}function z$t(t){const{mark:e,markDef:n,config:r}=t;if(!1===r.aria)return{};const i=$Tt("ariaRoleDescription",n,r);return null!=i?{ariaRoleDescription:{value:i}}:e in zEt?{}:{ariaRoleDescription:{value:e}}}function U$t(t){const{encoding:e,markDef:n,config:r,stack:i}=t,o=e.description;if(o)return N$t(t,o,"description",(e=>R$t(e,t.config)));const a=$Tt("description",n,r);if(null!=a)return{description:DTt(a)};if(!1===r.aria)return{};const s=I$t(e,i,r);return y_t(s)?void 0:{description:{signal:x_t(s).map((({key:t,value:e})=>`${t} + ": " + (${e})`)).join(' + "; " + ')}}}function q$t(t,e,n={}){const{markDef:r,encoding:i,config:o}=e,{vgChannel:a}=n;let{defaultRef:s,defaultValue:u}=n;void 0===s&&(u=null!==u&&void 0!==u?u:$Tt(t,r,o,{vgChannel:a,ignoreVgConfig:!0}),void 0!==u&&(s=DTt(u)));const c=i[t];return N$t(e,c,null!==a&&void 0!==a?a:t,(n=>rMt({channel:t,channelDef:n,markDef:r,config:o,scaleName:e.scaleName(t),scale:e.getScaleComponent(t),stack:null,defaultRef:s})))}function V$t(t,e={filled:void 0}){var n,r,i,o;const{markDef:a,encoding:s,config:u}=t,{type:c}=a,l=null!==(n=e.filled)&&void 0!==n?n:$Tt("filled",a,u),f=u_t(["bar","point","circle","square","geoshape"],c)?"transparent":void 0,h=null!==(i=null!==(r=$Tt(!0===l?"color":void 0,a,u,{vgChannel:"fill"}))&&void 0!==r?r:u.mark[!0===l&&"color"])&&void 0!==i?i:f,d=null!==(o=$Tt(!1===l?"color":void 0,a,u,{vgChannel:"stroke"}))&&void 0!==o?o:u.mark[!1===l&&"color"],p=l?"fill":"stroke",g=Object.assign(Object.assign({},h?{fill:DTt(h)}:{}),d?{stroke:DTt(d)}:{});return a.color&&(l?a.fill:a.stroke)&&sEt(vCt("property",{fill:"fill"in a,stroke:"stroke"in a})),Object.assign(Object.assign(Object.assign(Object.assign({},g),q$t("color",t,{vgChannel:p,defaultValue:l?h:d})),q$t("fill",t,{defaultValue:s.fill?h:void 0})),q$t("stroke",t,{defaultValue:s.stroke?d:void 0}))}function H$t(t,e){const n=GAt(t),r=e[n];if(r)return r}function W$t(t,e,{defaultPos:n,vgChannel:r,isMidPoint:i}){const{encoding:o,markDef:a,config:s,stack:u}=e,c=o[t],l=o[WAt(t)],f=e.scaleName(t),h=e.getScaleComponent(t),d=H$t(t,a),p=G$t({model:e,defaultPos:n,channel:t,scaleName:f,scale:h}),g=!c&&fSt(t)&&(o.latitude||o.longitude)?{field:e.getName(t)}:Y$t({channel:t,channelDef:c,channel2Def:l,markDef:a,config:s,isMidPoint:i,scaleName:f,scale:h,stack:u,offset:d,defaultRef:p});return g?{[r||t]:g}:void 0}function Y$t(t){const{channel:e,channelDef:n,isMidPoint:r,scaleName:i,stack:o,offset:a,markDef:s,config:u}=t;if(qMt(n)&&o&&e===o.fieldChannel){if(IMt(n)){const t=OMt({channel:e,fieldDef:n,isMidPoint:r,markDef:s,stack:o,config:u});if(void 0!==t)return nMt({scaleName:i,fieldOrDatumDef:n,startSuffix:"start",band:t,offset:a})}return eMt(n,i,{suffix:"end"},{offset:a})}return XDt(t)}function G$t({model:t,defaultPos:e,channel:n,scaleName:r,scale:i}){const{markDef:o,config:a}=t;return()=>{const s=VAt(n),u=HAt(n),c=$Tt(n,o,a,{vgChannel:u});if(void 0!==c)return iMt(n,c);switch(e){case"zeroOrMin":case"zeroOrMax":if(r){const t=i.get("type");if(u_t([hDt.LOG,hDt.TIME,hDt.UTC],t));else if(i.domainDefinitelyIncludesZero())return{scale:r,value:0}}if("zeroOrMin"===e)return"y"===s?{field:{group:"height"}}:{value:0};switch(s){case"radius":return{signal:`min(${t.width.signal},${t.height.signal})/2`};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":{const e=t[YAt(n)];return Object.assign(Object.assign({},e),{mult:.5})}}}}const K$t={left:"x",center:"xc",right:"x2"},X$t={top:"y",middle:"yc",bottom:"y2"};function J$t(t,e,n,r="middle"){if("radius"===t||"theta"===t)return HAt(t);const i="x"===t?"align":"baseline",o=$Tt(i,e,n);return"x"===t?K$t[o||("top"===r?"left":"center")]:X$t[o||r]}function Z$t(t,e,{defaultPos:n,defaultPos2:r,range:i}){return i?Q$t(t,e,{defaultPos:n,defaultPos2:r}):W$t(t,e,{defaultPos:n})}function Q$t(t,e,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:o}=e,a=WAt(t),s=YAt(t),u=tNt(e,r,a),c=u[s]?J$t(t,i,o):HAt(t);return Object.assign(Object.assign({},W$t(t,e,{defaultPos:n,vgChannel:c})),u)}function tNt(t,e,n){const{encoding:r,mark:i,markDef:o,stack:a,config:s}=t,u=VAt(n),c=YAt(n),l=HAt(n),f=r[u],h=t.scaleName(u),d=t.getScaleComponent(u),p=H$t(n in r||n in o?n:u,t.markDef);if(!f&&("x2"===n||"y2"===n)&&(r.latitude||r.longitude))return{[l]:{field:t.getName(n)}};const g=eNt({channel:n,channelDef:f,channel2Def:r[n],markDef:o,config:s,scaleName:h,scale:d,stack:a,offset:p,defaultRef:void 0});return void 0!==g?{[l]:g}:nNt(n,o)||nNt(n,{[n]:BTt(n,o,s.style),[c]:BTt(c,o,s.style)})||nNt(n,s[i])||nNt(n,s.mark)||{[l]:G$t({model:t,defaultPos:e,channel:n,scaleName:h,scale:d})()}}function eNt({channel:t,channelDef:e,channel2Def:n,markDef:r,config:i,scaleName:o,scale:a,stack:s,offset:u,defaultRef:c}){return qMt(e)&&s&&t.charAt(0)===s.fieldChannel.charAt(0)?eMt(e,o,{suffix:"start"},{offset:u}):XDt({channel:t,channelDef:n,scaleName:o,scale:a,stack:s,markDef:r,config:i,offset:u,defaultRef:c})}function nNt(t,e){const n=YAt(t),r=HAt(t);return void 0!==e[r]?{[r]:iMt(t,e[r])}:void 0!==e[t]?{[r]:iMt(t,e[t])}:e[n]?{[n]:iMt(t,e[n])}:void 0}function rNt(t,e,n){var r,i,o,a;const{config:s,encoding:u,markDef:c,stack:l}=t,f=WAt(e),h=YAt(e),d=u[e],p=u[f],g=t.getScaleComponent(e),m=g?g.get("type"):void 0,v=t.scaleName(e),y=c.orient,b=null!==(i=null!==(r=u[h])&&void 0!==r?r:u.size)&&void 0!==i?i:$Tt("size",c,s,{vgChannel:h}),w="bar"===n&&("x"===e?"vertical"===y:"horizontal"===y);if(IMt(d)&&(PSt(d.bin)||ISt(d.bin)||d.timeUnit&&!p)&&!b&&!MDt(m)){const n=OMt({channel:e,fieldDef:d,stack:l,markDef:c,config:s}),r=null===(o=t.component.axes[e])||void 0===o?void 0:o[0],i=null!==(a=null===r||void 0===r?void 0:r.get("translate"))&&void 0!==a?a:.5;return sNt({fieldDef:d,fieldDef2:p,channel:e,markDef:c,scaleName:v,band:n,axisTranslate:i,spacing:fSt(e)?$Tt("binSpacing",c,s):void 0,reverse:g.get("reverse"),config:s})}return(qMt(d)&&MDt(m)||w)&&!p?oNt(n,d,e,t):Q$t(e,t,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function iNt(t,e,n,r,i,o){if(r){const e=r.get("type");if("point"===e||"band"===e){if(void 0!==i[t].discreteBandSize)return{value:i[t].discreteBandSize};if(e===hDt.POINT){const t=r.get("range");return BEt(t)&&jxt(t.step)?{value:t.step-2}:{value:JFt-2}}return{scale:n,band:o}}return{value:i[t].continuousBandSize}}const a=KFt(i.view,e),s=N_t(i[t].discreteBandSize,a-2);return void 0!==s?{value:s}:void 0}function oNt(t,e,n,r){var i;const{markDef:o,encoding:a,config:s,stack:u}=r,c=o.orient,l=r.scaleName(n),f=r.getScaleComponent(n),h=YAt(n),d=WAt(n),p="horizontal"===c&&"y"===n||"vertical"===c&&"x"===n,g=$Tt(p?"size":h,o,s,{vgChannel:h});let m;(a.size||void 0!==g)&&(p?m=q$t("size",r,{vgChannel:h,defaultValue:g}):sEt(OCt(o.type)));const v=null!==(i=qMt(e)?OMt({channel:n,fieldDef:e,markDef:o,stack:u,config:s}):void 0)&&void 0!==i?i:1;m=m||{[h]:iNt(t,h,l,f,s,v)};const y="band"!==(null===f||void 0===f?void 0:f.get("type"))||!("band"in m[h]),b=J$t(n,o,s,y?"middle":"top"),w=H$t(n,o),x=XDt({channel:n,channelDef:e,markDef:o,config:s,scaleName:l,scale:f,stack:u,offset:w,defaultRef:G$t({model:r,defaultPos:"mid",channel:n,scaleName:l,scale:f}),band:y?.5:(1-v)/2});if(h)return Object.assign({[b]:x},m);{const t=HAt(d),e=m[h],n=w?Object.assign(Object.assign({},e),{offset:w}):e;return{[b]:x,[t]:Dxt(x)?[x[0],Object.assign(Object.assign({},x[1]),{offset:n})]:Object.assign(Object.assign({},x),{offset:n})}}}function aNt(t,e,n,r,i){if(xAt(t))return 0;const o="x"===t||"y2"===t?-e/2:e/2;if(NEt(n)){const t=TTt(i);return{signal:`${n.signal} ? ${r-o}${t?"-"+t:""} : ${r+o}${t?"+"+t:""}`}}if(NEt(i)){const t=r+(n?-o:o);return{signal:`${t||""}${n?" - ":t?" + ":""}${i.signal}`}}return i=i||0,r+(n?-i-o:+i+o)}function sNt({fieldDef:t,fieldDef2:e,channel:n,band:r,scaleName:i,markDef:o,spacing:a=0,axisTranslate:s,reverse:u,config:c}){const l=WAt(n),f=HAt(n),h=HAt(l),d=H$t(n,o);if(PSt(t.bin)||t.timeUnit)return{[h]:uNt({channel:n,fieldDef:t,scaleName:i,markDef:o,band:(1-r)/2,offset:aNt(l,a,u,s,d),config:c}),[f]:uNt({channel:n,fieldDef:t,scaleName:i,markDef:o,band:1-(1-r)/2,offset:aNt(n,a,u,s,d),config:c})};if(ISt(t.bin)){const r=eMt(t,i,{},{offset:aNt(l,a,u,s,d)});if(IMt(e))return{[h]:r,[f]:eMt(e,i,{},{offset:aNt(n,a,u,s,d)})};if(jSt(t.bin)&&t.bin.step)return{[h]:r,[f]:{signal:`scale("${i}", ${JMt(t,{expr:"datum"})} + ${t.bin.step})`,offset:aNt(n,a,u,s,d)}}}sEt(eEt(l))}function uNt({channel:t,fieldDef:e,scaleName:n,markDef:r,band:i,offset:o,config:a}){const s=nMt({scaleName:n,fieldOrDatumDef:e,band:i,offset:o});return JDt({fieldDef:e,channel:t,markDef:r,ref:s,config:a})}const cNt=new Set(["aria"]);function lNt(t,e){const{fill:n,stroke:r}="include"===e.color?V$t(t):{};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},hNt(t.markDef,e)),fNt(t,"fill",n)),fNt(t,"stroke",r)),q$t("opacity",t)),q$t("fillOpacity",t)),q$t("strokeOpacity",t)),q$t("strokeWidth",t)),q$t("strokeDash",t)),P$t(t)),B$t(t,"href")),L$t(t))}function fNt(t,e,n){const{config:r,mark:i,markDef:o}=t,a=$Tt("invalid",o,r);if("hide"===a&&n&&!ckt(i)){const r=dNt(t,{invalid:!0,channels:DSt});if(r)return{[e]:[{test:r,value:null},...Nxt(n)]}}return n?{[e]:n}:{}}function hNt(t,e){return LEt.reduce(((n,r)=>(cNt.has(r)||void 0===t[r]||"ignore"===e[r]||(n[r]=DTt(t[r])),n)),{})}function dNt(t,{invalid:e=!1,channels:n}){const r=n.reduce(((e,n)=>{const r=t.getScaleComponent(n);if(r){const i=r.get("type"),o=t.vgField(n,{expr:"datum"});o&&TDt(i)&&(e[o]=!0)}return e}),{}),i=b_t(r);if(i.length>0){const t=e?"||":"&&";return i.map((t=>QDt(t,e))).join(` ${t} `)}}function pNt(t){const{config:e,markDef:n}=t,r=$Tt("invalid",n,e);if(r){const e=gNt(t,{channels:lSt});if(e)return{defined:{signal:e}}}return{}}function gNt(t,{invalid:e=!1,channels:n}){const r=n.reduce(((e,n)=>{const r=t.getScaleComponent(n);if(r){const i=r.get("type"),o=t.vgField(n,{expr:"datum"});o&&TDt(i)&&(e[o]=!0)}return e}),{}),i=b_t(r);if(i.length>0){const t=e?"||":"&&";return i.map((t=>QDt(t,e))).join(` ${t} `)}}function mNt(t,e){if(void 0!==e)return{[t]:DTt(e)}}const vNt="voronoi",yNt={has:t=>"interval"!==t.type&&t.nearest,parse:(t,e)=>{if(e.events)for(const n of e.events)n.markname=t.getName(vNt)},marks:(t,e,n)=>{const{x:r,y:i}=e.project.hasChannel,o=t.mark;if(ckt(o))return sEt(KSt(o)),n;const a={name:t.getName(vNt),type:"path",interactive:!0,from:{data:t.getName("marks")},encode:{update:Object.assign({fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},P$t(t,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[t.getSizeSignalRef("width"),t.getSizeSignalRef("height")]}]};let s=0,u=!1;return n.forEach(((e,n)=>{var r;const i=null!==(r=e.name)&&void 0!==r?r:"";i===t.component.mark[0].name?s=n:i.indexOf(vNt)>=0&&(u=!0)})),u||n.splice(s+1,0,a),n}};var bNt=yNt;class wNt{constructor(t,e){this.debugName=e,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,e){this._children.indexOf(t)>-1?console.warn("Attempt to add the same child twice."):void 0!==e?this._children.splice(e,0,t):this._children.push(t)}removeChild(t){const e=this._children.indexOf(t);return this._children.splice(e,1),e}remove(){let t=this._parent.removeChild(this);for(const e of this._children)e._parent=this._parent,this._parent.addChild(e,t++)}insertAsParentOf(t){const e=t.parent;e.removeChild(this),this.parent=e,t.parent=this}swapWithParent(){const t=this._parent,e=t.parent;for(const n of this._children)n.parent=t;this._children=[],t.removeChild(this),t.parent.removeChild(t),this.parent=e,t.parent=this}}class xNt extends wNt{constructor(t,e,n,r){super(t,e),this.type=n,this.refCounts=r,this._source=this._name=e,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}clone(){const t=new this.constructor;return t.debugName="clone_"+this.debugName,t._source=this._source,t._name="clone_"+this._name,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}dependentFields(){return new Set}producedFields(){return new Set}hash(){return void 0===this._hash&&(this._hash=`Output ${R_t()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}class _Nt extends wNt{constructor(t,e){super(t),this.formula=e}clone(){return new _Nt(null,n_t(this.formula))}static makeFromEncoding(t,e){const n=e.reduceFieldDef(((t,n,r)=>{const{field:i,timeUnit:o}=n,a=Izt(e)?e.encoding[WAt(r)]:void 0,s=Izt(e)&&$Mt(r,n,a,e.stack,e.markDef,e.config);if(o){const e=JMt(n,{forAs:!0});t[a_t({as:e,field:i,timeUnit:o})]=Object.assign({as:e,field:i,timeUnit:o},s?{band:!0}:{})}return t}),{});return y_t(n)?null:new _Nt(t,n)}static makeFromTransform(t,e){const n=Object.assign({},e),{timeUnit:r}=n,i=qxt(n,["timeUnit"]),o=OEt(r),a=Object.assign(Object.assign({},i),{timeUnit:o});return new _Nt(t,{[a_t(a)]:a})}merge(t){this.formula=Object.assign({},this.formula);for(const e in t.formula)this.formula[e]&&!t.formula[e].band||(this.formula[e]=t.formula[e]);for(const e of t.children)t.removeChild(e),e.parent=this;t.remove()}producedFields(){return new Set(w_t(this.formula).map((t=>t.as)))}dependentFields(){return new Set(w_t(this.formula).map((t=>t.field)))}hash(){return`TimeUnit ${a_t(this.formula)}`}assemble(){const t=[];for(const e of w_t(this.formula)){const{field:n,as:r,timeUnit:i}=e,o=OEt(i),{unit:a,utc:s}=o,u=qxt(o,["unit","utc"]);t.push(Object.assign(Object.assign(Object.assign(Object.assign({field:T_t(n),type:"timeunit"},a?{units:EEt(a)}:{}),s?{timezone:"utc"}:{}),u),{as:[r,`${r}_end`]}))}return t}}const kNt="_tuple_fields";class ANt{constructor(...t){this.items=t,this.hasChannel={},this.hasField={}}}const SNt={has:()=>!0,parse:(t,e,n)=>{var r,i,o;const a=e.name,s=null!==(r=e.project)&&void 0!==r?r:e.project=new ANt,u={},c={},l=new Set,f=(t,e)=>{const n="visual"===e?t.channel:t.field;let r=k_t(`${a}_${n}`);for(let i=1;l.has(r);i++)r=k_t(`${a}_${n}_${i}`);return l.add(r),{[e]:r}};if(!n.fields&&!n.encodings){const e=t.config.selection[n.type];if(n.init)for(const t of Nxt(n.init))for(const r of b_t(t))LAt(r)?(n.encodings||(n.encodings=[])).push(r):"interval"===n.type?(sEt('Interval selections should be initialized using "x" and/or "y" keys.'),n.encodings=e.encodings):(n.fields||(n.fields=[])).push(r);else n.encodings=e.encodings,n.fields=e.fields}for(const h of null!==(i=n.fields)&&void 0!==i?i:[]){const t={type:"E",field:h};t.signals=Object.assign({},f(t,"data")),s.items.push(t),s.hasField[h]=t}for(const h of null!==(o=n.encodings)&&void 0!==o?o:[]){const n=t.fieldDef(h);if(n){let r=n.field;if(n.aggregate){sEt(GSt(h,n.aggregate));continue}if(!r){sEt(YSt(h));continue}if(n.timeUnit){r=t.vgField(h);const e={timeUnit:n.timeUnit,as:r,field:n.field};c[a_t(e)]=e}if(!u[r]){let i="E";if("interval"===e.type){const e=t.getScaleComponent(h).get("type");TDt(e)&&(i="R")}else n.bin&&(i="R-RE");const o={field:r,channel:h,type:i};o.signals=Object.assign(Object.assign({},f(o,"data")),f(o,"visual")),s.items.push(u[r]=o),s.hasField[r]=s.hasChannel[h]=u[r]}}else sEt(YSt(h))}if(n.init){const t=t=>s.items.map((e=>void 0!==t[e.channel]?t[e.channel]:t[e.field]));if("interval"===n.type)e.init=t(n.init);else{const r=Nxt(n.init);e.init=r.map(t)}}y_t(c)||(s.timeUnit=new _Nt(null,c))},signals:(t,e,n)=>{const r=e.name+kNt,i=n.filter((t=>t.name===r));return i.length>0?n:n.concat({name:r,value:e.project.items.map((t=>{const{signals:e,hasLegend:n}=t,r=qxt(t,["signals","hasLegend"]);return r.field=T_t(r.field),r}))})}};var CNt=SNt;const ENt={has:t=>"single"===t.type&&"global"===t.resolve&&t.bind&&"scales"!==t.bind&&!RFt(t.bind),parse:(t,e,n,r)=>{r.on||delete e.events,r.clear||delete e.clear},topLevelSignals:(t,e,n)=>{const r=e.name,i=e.project,o=e.bind,a=e.init&&e.init[0],s=bNt.has(e)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach(((t,i)=>{var u,c;const l=k_t(`${r}_${t.field}`),f=n.filter((t=>t.name===l));f.length||n.unshift(Object.assign(Object.assign({name:l},a?{init:QNt(a[i])}:{value:null}),{on:e.events?[{events:e.events,update:`datum && item().mark.marktype !== 'group' ? ${s}[${zxt(t.field)}] : null`}]:[],bind:null!==(c=null!==(u=o[t.field])&&void 0!==u?u:o[t.channel])&&void 0!==c?c:o}))})),n},signals:(t,e,n)=>{const r=e.name,i=e.project,o=n.filter((t=>t.name===r+wBt))[0],a=r+kNt,s=i.items.map((t=>k_t(`${r}_${t.field}`))),u=s.map((t=>`${t} !== null`)).join(" && ");return s.length&&(o.update=`${u} ? {fields: ${a}, values: [${s.join(", ")}]} : null`),delete o.value,delete o.on,n}};var DNt=ENt;const MNt="_toggle",TNt={has:t=>"multi"===t.type&&!!t.toggle,signals:(t,e,n)=>n.concat({name:e.name+MNt,value:!1,on:[{events:e.events,update:e.toggle}]}),modifyExpr:(t,e)=>{const n=e.name+wBt,r=e.name+MNt;return`${r} ? null : ${n}, `+("global"===e.resolve?`${r} ? null : true, `:`${r} ? null : {unit: ${CBt(t)}}, `)+`${r} ? ${n} : null`}};var FNt=TNt;const ONt={has:t=>void 0!==t.clear&&!1!==t.clear,parse:(t,e,n)=>{n.clear&&(e.clear=Lxt(n.clear)?jwt(n.clear,"scope"):n.clear)},topLevelSignals:(t,e,n)=>{if(DNt.has(e))for(const r of e.project.items){const t=n.findIndex((t=>t.name===k_t(`${e.name}_${r.field}`)));-1!==t&&n[t].on.push({events:e.clear,update:"null"})}return n},signals:(t,e,n)=>{function r(t,r){-1!==t&&n[t].on&&n[t].on.push({events:e.clear,update:r})}if("interval"===e.type)for(const i of e.project.items){const t=n.findIndex((t=>t.name===i.signals.visual));if(r(t,"[0, 0]"),-1===t){const t=n.findIndex((t=>t.name===i.signals.data));r(t,"null")}}else{let t=n.findIndex((t=>t.name===e.name+wBt));r(t,"null"),FNt.has(e)&&(t=n.findIndex((t=>t.name===e.name+MNt)),r(t,"false"))}return n}};var $Nt=ONt;const NNt={has:t=>"interval"===t.type&&"global"===t.resolve&&t.bind&&"scales"===t.bind,parse:(t,e)=>{const n=e.scales=[];for(const r of e.project.items){const i=r.channel;if(!MSt(i))continue;const o=t.getScaleComponent(i),a=o?o.get("type"):void 0;if(!o||!TDt(a)){sEt(ZSt);continue}const s={selection:e.name,field:r.field};o.set("selectionExtent",s,!0),n.push(r)}},topLevelSignals:(t,e,n)=>{const r=e.scales.filter((t=>0===n.filter((e=>e.name===t.signals.data)).length));if(!t.parent||PNt(t)||0===r.length)return n;const i=n.filter((t=>t.name===e.name))[0];let o=i.update;if(o.indexOf(_Bt)>=0)i.update=`{${r.map((t=>`${zxt(t.field)}: ${t.signals.data}`)).join(", ")}}`;else{for(const t of r){const e=`${zxt(t.field)}: ${t.signals.data}`;o.indexOf(e)<0&&(o=`${o.substring(0,o.length-1)}, ${e}}`)}i.update=o}return n.concat(r.map((t=>({name:t.signals.data}))))},signals:(t,e,n)=>{if(t.parent&&!PNt(t))for(const r of e.scales){const t=n.filter((t=>t.name===r.signals.data))[0];t.push="outer",delete t.value,delete t.update}return n}};var BNt=NNt;function RNt(t,e){const n=zxt(t.scaleName(e));return`domain(${n})`}function PNt(t){var e;return t.parent&&zzt(t.parent)&&(null!==(e=!t.parent.parent)&&void 0!==e?e:PNt(t.parent.parent))}const INt={has:t=>{const e="global"===t.resolve&&t.bind&&RFt(t.bind),n=1===t.project.items.length&&t.project.items[0].field!==NFt;return e&&!n&&sEt(QSt),e&&n},parse:(t,e,n,r)=>{var i;if(r.on||delete e.events,r.clear||delete e.clear,r.on||r.clear){const t='event.item && indexof(event.item.mark.role, "legend") < 0';for(const n of e.events)n.filter=Nxt(null!==(i=n.filter)&&void 0!==i?i:[]),n.filter.indexOf(t)<0&&n.filter.push(t)}const o=PFt(e.bind)?e.bind.legend:"click",a=Lxt(o)?jwt(o,"view"):Nxt(o);e.bind={legend:{merge:a}}},topLevelSignals:(t,e,n)=>{const r=e.name,i=PFt(e.bind)&&e.bind.legend,o=t=>e=>{const n=n_t(e);return n.markname=t,n};for(const a of e.project.items){if(!a.hasLegend)continue;const t=`${k_t(a.field)}_legend`,s=`${r}_${t}`,u=n.filter((t=>t.name===s));if(0===u.length){const r=i.merge.map(o(`${t}_symbols`)).concat(i.merge.map(o(`${t}_labels`))).concat(i.merge.map(o(`${t}_entries`)));n.unshift(Object.assign(Object.assign({name:s},e.init?{}:{value:null}),{on:[{events:r,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${s}`,force:!0}]}))}}return n},signals:(t,e,n)=>{const r=e.name,i=e.project,o=n.find((t=>t.name===r+wBt)),a=r+kNt,s=i.items.filter((t=>t.hasLegend)).map((t=>k_t(`${r}_${k_t(t.field)}_legend`))),u=s.map((t=>`${t} !== null`)).join(" && "),c=`${u} ? {fields: ${a}, values: [${s.join(", ")}]} : null`;e.events&&s.length>0?o.on.push({events:s.map((t=>({signal:t}))),update:c}):s.length>0&&(o.update=c,delete o.value,delete o.on);const l=n.find((t=>t.name===r+MNt)),f=PFt(e.bind)&&e.bind.legend;return l&&(e.events?l.on.push(Object.assign(Object.assign({},l.on[0]),{events:f})):l.on[0].events=f),n}};var jNt=INt;function LNt(t,e,n){var r;const i=null===(r=t.fieldDef(e))||void 0===r?void 0:r.field;ABt(t,(t=>{var r,o;const a=null!==(r=t.project.hasField[i])&&void 0!==r?r:t.project.hasChannel[e];if(a&&INt.has(t)){const e=null!==(o=n.get("selections"))&&void 0!==o?o:[];e.push(t.name),n.set("selections",e,!1),a.hasLegend=!0}}))}const zNt="_translate_anchor",UNt="_translate_delta",qNt={has:t=>"interval"===t.type&&t.translate,signals:(t,e,n)=>{const r=e.name,i=BNt.has(e),o=r+zNt,{x:a,y:s}=e.project.hasChannel;let u=jwt(e.translate,"scope");return i||(u=u.map((t=>(t.between[0].markname=r+uBt,t)))),n.push({name:o,value:{},on:[{events:u.map((t=>t.between[0])),update:"{x: x(unit), y: y(unit)"+(void 0!==a?", extent_x: "+(i?RNt(t,Ukt):`slice(${a.signals.visual})`):"")+(void 0!==s?", extent_y: "+(i?RNt(t,qkt):`slice(${s.signals.visual})`):"")+"}"}]},{name:r+UNt,value:{},on:[{events:u,update:`{x: ${o}.x - x(unit), y: ${o}.y - y(unit)}`}]}),void 0!==a&&HNt(t,e,a,"width",n),void 0!==s&&HNt(t,e,s,"height",n),n}};var VNt=qNt;function HNt(t,e,n,r,i){var o;const a=e.name,s=a+zNt,u=a+UNt,c=n.channel,l=BNt.has(e),f=i.filter((t=>t.name===n.signals[l?"data":"visual"]))[0],h=t.getSizeSignalRef(r).signal,d=t.getScaleComponent(c),p=d.get("type"),g=l&&c===Ukt?"-":"",m=`${s}.extent_${c}`,v=`${g}${u}.${c} / `+(l?`${h}`:`span(${m})`),y=l?"log"===p?"panLog":"pow"===p?"panPow":"panLinear":"panLinear",b=`${y}(${m}, ${v}`+(l&&"pow"===p?`, ${null!==(o=d.get("exponent"))&&void 0!==o?o:1}`:"")+")";f.on.push({events:{signal:u},update:l?b:`clampRange(${b}, 0, ${h})`})}const WNt="_zoom_anchor",YNt="_zoom_delta",GNt={has:t=>"interval"===t.type&&t.zoom,signals:(t,e,n)=>{const r=e.name,i=BNt.has(e),o=r+YNt,{x:a,y:s}=e.project.hasChannel,u=zxt(t.scaleName(Ukt)),c=zxt(t.scaleName(qkt));let l=jwt(e.zoom,"scope");return i||(l=l.map((t=>(t.markname=r+uBt,t)))),n.push({name:r+WNt,on:[{events:l,update:i?"{"+[u?`x: invert(${u}, x(unit))`:"",c?`y: invert(${c}, y(unit))`:""].filter((t=>!!t)).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:l,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),void 0!==a&&XNt(t,e,a,"width",n),void 0!==s&&XNt(t,e,s,"height",n),n}};var KNt=GNt;function XNt(t,e,n,r,i){var o;const a=e.name,s=n.channel,u=BNt.has(e),c=i.filter((t=>t.name===n.signals[u?"data":"visual"]))[0],l=t.getSizeSignalRef(r).signal,f=t.getScaleComponent(s),h=f.get("type"),d=u?RNt(t,s):c.name,p=a+YNt,g=`${a}${WNt}.${s}`,m=u?"log"===h?"zoomLog":"pow"===h?"zoomPow":"zoomLinear":"zoomLinear",v=`${m}(${d}, ${g}, ${p}`+(u&&"pow"===h?`, ${null!==(o=f.get("exponent"))&&void 0!==o?o:1}`:"")+")";c.on.push({events:{signal:p},update:u?v:`clampRange(${v}, 0, ${l})`})}const JNt=[CNt,FNt,BNt,jNt,VNt,KNt,DNt,bNt,$Nt];function ZNt(t,e){for(const n of JNt)n.has(t)&&e(n)}function QNt(t,e=!0,n=wxt){if(Dxt(t)){const r=t.map((t=>QNt(t,e,n)));return e?`[${r.join(", ")}]`:r}return cEt(t)?n(e?yEt(t):wEt(t)):e?n(JSON.stringify(t)):t}function tBt(t,e){return ABt(t,((n,r)=>{const i=n.name;let o=r.modifyExpr(t,n);e.push(...r.signals(t,n)),ZNt(n,(r=>{r.signals&&(e=r.signals(t,n,e)),r.modifyExpr&&(o=r.modifyExpr(t,n,o))})),e.push({name:i+xBt,on:[{events:{signal:n.name+wBt},update:`modify(${zxt(n.name+bBt)}, ${o})`}]})})),sBt(e)}function eBt(t,e){if(t.component.selection&&b_t(t.component.selection).length){const n=zxt(t.getName("cell"));e.unshift({name:"facet",value:{},on:[{events:jwt("mousemove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return sBt(e)}function nBt(t,e){let n=!1;if(ABt(t,((r,i)=>{const o=r.name,a=zxt(o+bBt),s=e.filter((t=>t.name===o));if(0===s.length){const t="global"===r.resolve?"union":r.resolve,n="multi"===r.type?", true)":")";e.push({name:r.name,update:`${_Bt}(${a}, ${zxt(t)}${n}`})}n=!0,i.topLevelSignals&&(e=i.topLevelSignals(t,r,e)),ZNt(r,(n=>{n.topLevelSignals&&(e=n.topLevelSignals(t,r,e))}))})),n){const t=e.filter((t=>"unit"===t.name));0===t.length&&e.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]})}return sBt(e)}function rBt(t,e){const n=[...e];return ABt(t,(e=>{const r={name:e.name+bBt};if(e.init){const n=e.project.items.map((t=>{const{signals:e}=t,n=qxt(t,["signals"]);return n})),i=e.init.map((t=>QNt(t,!1)));r.values="interval"===e.type?[{unit:CBt(t,{escape:!1}),fields:n,values:i}]:i.map((e=>({unit:CBt(t,{escape:!1}),fields:n,values:e})))}const i=n.filter((t=>t.name===e.name+bBt));i.length||n.push(r)})),n}function iBt(t,e){return ABt(t,((n,r)=>{e=r.marks?r.marks(t,n,e):e,ZNt(n,(r=>{r.marks&&(e=r.marks(t,n,e))}))})),e}function oBt(t,e){for(const n of t.children)Izt(n)&&(e=iBt(n,e));return e}function aBt(t,e){const n=e.selection,r=t.getSelectionComponent(n,k_t(n));return{signal:GPt(r,e)}}function sBt(t){return t.map((t=>(t.on&&!t.on.length&&delete t.on,t)))}const uBt="_brush",cBt="_scale_trigger",lBt={signals:(t,e)=>{const n=e.name,r=n+kNt,i=BNt.has(e),o=[],a=[],s=[];if(e.translate&&!i){const t=`!event.item || event.item.mark.name !== ${zxt(n+uBt)}`;dBt(e,((e,n)=>{var r;const i=Nxt(null!==(r=n.between[0].filter)&&void 0!==r?r:n.between[0].filter=[]);return i.indexOf(t)<0&&i.push(t),e}))}e.project.items.forEach(((n,r)=>{const i=n.channel;if(i!==Ukt&&i!==qkt)return void sEt("Interval selections only support x and y encoding channels.");const u=e.init?e.init[r]:null,c=hBt(t,e,n,u),l=n.signals.data,f=n.signals.visual,h=zxt(t.scaleName(i)),d=t.getScaleComponent(i).get("type"),p=TDt(d)?"+":"";o.push(...c),a.push(l),s.push({scaleName:t.scaleName(i),expr:`(!isArray(${l}) || (${p}invert(${h}, ${f})[0] === ${p}${l}[0] && ${p}invert(${h}, ${f})[1] === ${p}${l}[1]))`})})),i||o.push({name:n+cBt,value:{},on:[{events:s.map((t=>({scale:t.scaleName}))),update:s.map((t=>t.expr)).join(" && ")+` ? ${n+cBt} : {}`}]});const u=e.init,c=`unit: ${CBt(t)}, fields: ${r}, values`;return o.concat(Object.assign(Object.assign({name:n+wBt},u?{init:`{${c}: ${QNt(u)}}`}:{}),{on:[{events:[{signal:a.join(" || ")}],update:a.join(" && ")+` ? {${c}: [${a}]} : null`}]}))},modifyExpr:(t,e)=>{const n=e.name+wBt;return n+", "+("global"===e.resolve?"true":`{unit: ${CBt(t)}}`)},marks:(t,e,n)=>{const r=e.name,{x:i,y:o}=e.project.hasChannel,a=i&&i.signals.visual,s=o&&o.signals.visual,u=`data(${zxt(e.name+bBt)})`;if(BNt.has(e))return n;const c={x:void 0!==i?{signal:`${a}[0]`}:{value:0},y:void 0!==o?{signal:`${s}[0]`}:{value:0},x2:void 0!==i?{signal:`${a}[1]`}:{field:{group:"width"}},y2:void 0!==o?{signal:`${s}[1]`}:{field:{group:"height"}}};if("global"===e.resolve)for(const m of b_t(c))c[m]=[Object.assign({test:`${u}.length && ${u}[0].unit === ${CBt(t)}`},c[m]),{value:0}];const l=e.mark,{fill:f,fillOpacity:h,cursor:d}=l,p=qxt(l,["fill","fillOpacity","cursor"]),g=b_t(p).reduce(((t,e)=>(t[e]=[{test:[void 0!==i&&`${a}[0] !== ${a}[1]`,void 0!==o&&`${s}[0] !== ${s}[1]`].filter((t=>t)).join(" && "),value:p[e]},{value:null}],t)),{});return[{name:r+uBt+"_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:f},fillOpacity:{value:h}},update:c}},...n,{name:r+uBt,type:"rect",clip:!0,encode:{enter:Object.assign(Object.assign({},d?{cursor:{value:d}}:{}),{fill:{value:"transparent"}}),update:Object.assign(Object.assign({},c),g)}}]}};var fBt=lBt;function hBt(t,e,n,r){const i=n.channel,o=n.signals.visual,a=n.signals.data,s=BNt.has(e),u=zxt(t.scaleName(i)),c=t.getScaleComponent(i),l=c?c.get("type"):void 0,f=t=>`scale(${u}, ${t})`,h=t.getSizeSignalRef(i===Ukt?"width":"height").signal,d=`${i}(unit)`,p=dBt(e,((t,e)=>[...t,{events:e.between[0],update:`[${d}, ${d}]`},{events:e,update:`[${o}[0], clamp(${d}, 0, ${h})]`}]));return p.push({events:{signal:e.name+cBt},update:TDt(l)?`[${f(`${a}[0]`)}, ${f(`${a}[1]`)}]`:"[0, 0]"}),s?[{name:a,on:[]}]:[Object.assign(Object.assign({name:o},r?{init:QNt(r,!0,f)}:{value:[]}),{on:p}),Object.assign(Object.assign({name:a},r?{init:QNt(r)}:{}),{on:[{events:{signal:o},update:`${o}[0] === ${o}[1] ? null : invert(${u}, ${o})`}]})]}function dBt(t,e){return t.events.reduce(((t,n)=>n.between?e(t,n):(sEt(`${n} is not an ordered event stream for interval selections.`),t)),[])}function pBt(t,e){const n=e.name,r=n+kNt,i=e.project,o="(item().isVoronoi ? datum.datum : datum)",a=i.items.map((e=>{const n=t.fieldDef(e.channel);return n&&n.bin?`[${o}[${zxt(t.vgField(e.channel,{}))}], ${o}[${zxt(t.vgField(e.channel,{binSuffix:"end"}))}]]`:`${o}[${zxt(e.field)}]`})).join(", "),s=`unit: ${CBt(t)}, fields: ${r}, values`,u=e.events;return[{name:n+wBt,on:u?[{events:u,update:`datum && item().mark.marktype !== 'group' ? {${s}: [${a}]} : null`,force:!0}]:[]}]}const gBt={signals:pBt,modifyExpr:(t,e)=>{const n=e.name+wBt;return n+", "+("global"===e.resolve?"null":`{unit: ${CBt(t)}}`)}};var mBt=gBt;const vBt={signals:pBt,modifyExpr:(t,e)=>{const n=e.name+wBt;return n+", "+("global"===e.resolve?"true":`{unit: ${CBt(t)}}`)}};var yBt=vBt;const bBt="_store",wBt="_tuple",xBt="_modify",_Bt="vlSelectionResolve",kBt={single:yBt,multi:mBt,interval:fBt};function ABt(t,e){const n=t.component.selection;if(n)for(const r of w_t(n)){const t=e(r,kBt[r.type]);if(!0===t)break}}function SBt(t){let e=t.parent;while(e){if(jzt(e))break;e=e.parent}return e}function CBt(t,{escape:e}={escape:!0}){let n=e?zxt(t.name):t.name;const r=SBt(t);if(r){const{facet:t}=r;for(const e of MAt)t[e]&&(n+=` + '__facet_${e}_' + (facet[${zxt(r.vgField(e))}])`)}return n}function EBt(t){let e=!1;return ABt(t,(t=>{e=e||t.project.items.some((t=>t.field===NFt))})),e}const DBt="RawCode",MBt="Literal",TBt="Property",FBt="Identifier",OBt="ArrayExpression",$Bt="BinaryExpression",NBt="CallExpression",BBt="ConditionalExpression",RBt="LogicalExpression",PBt="MemberExpression",IBt="ObjectExpression",jBt="UnaryExpression";function LBt(t){this.type=t}function zBt(t){switch(t.type){case OBt:return t.elements;case $Bt:case RBt:return[t.left,t.right];case NBt:return[t.callee].concat(t.arguments);case BBt:return[t.test,t.consequent,t.alternate];case PBt:return[t.object,t.property];case IBt:return t.properties;case TBt:return[t.key,t.value];case jBt:return[t.argument];case FBt:case MBt:case DBt:default:return[]}}var UBt,qBt,VBt,HBt,WBt;LBt.prototype.visit=function(t){let e,n,r;if(t(this))return 1;for(e=zBt(this),n=0,r=e.length;n<r;++n)if(e[n].visit(t))return 1};var YBt=1,GBt=2,KBt=3,XBt=4,JBt=5,ZBt=6,QBt=7,tRt=8,eRt=9;UBt={},UBt[YBt]="Boolean",UBt[GBt]="<end>",UBt[KBt]="Identifier",UBt[XBt]="Keyword",UBt[JBt]="Null",UBt[ZBt]="Numeric",UBt[QBt]="Punctuator",UBt[tRt]="String",UBt[eRt]="RegularExpression";var nRt="ArrayExpression",rRt="BinaryExpression",iRt="CallExpression",oRt="ConditionalExpression",aRt="Identifier",sRt="Literal",uRt="LogicalExpression",cRt="MemberExpression",lRt="ObjectExpression",fRt="Property",hRt="UnaryExpression",dRt="Unexpected token %0",pRt="Unexpected number",gRt="Unexpected string",mRt="Unexpected identifier",vRt="Unexpected reserved word",yRt="Unexpected end of input",bRt="Invalid regular expression",wRt="Invalid regular expression: missing /",xRt="Octal literals are not allowed in strict mode.",_Rt="Duplicate data property in object literal not allowed in strict mode",kRt="ILLEGAL",ARt="Disabled.",SRt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),CRt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function ERt(t,e){if(!t)throw new Error("ASSERT: "+e)}function DRt(t){return t>=48&&t<=57}function MRt(t){return"0123456789abcdefABCDEF".indexOf(t)>=0}function TRt(t){return"01234567".indexOf(t)>=0}function FRt(t){return 32===t||9===t||11===t||12===t||160===t||t>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0}function ORt(t){return 10===t||13===t||8232===t||8233===t}function $Rt(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||92===t||t>=128&&SRt.test(String.fromCharCode(t))}function NRt(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||92===t||t>=128&&CRt.test(String.fromCharCode(t))}var BRt={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function RRt(){var t;while(VBt<HBt){if(t=qBt.charCodeAt(VBt),!FRt(t)&&!ORt(t))break;++VBt}}function PRt(t){var e,n,r,i=0;for(n="u"===t?4:2,e=0;e<n;++e)VBt<HBt&&MRt(qBt[VBt])?(r=qBt[VBt++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())):fPt({},dRt,kRt);return String.fromCharCode(i)}function IRt(){var t,e,n,r;t=qBt[VBt],e=0,"}"===t&&fPt({},dRt,kRt);while(VBt<HBt){if(t=qBt[VBt++],!MRt(t))break;e=16*e+"0123456789abcdef".indexOf(t.toLowerCase())}return(e>1114111||"}"!==t)&&fPt({},dRt,kRt),e<=65535?String.fromCharCode(e):(n=55296+(e-65536>>10),r=56320+(e-65536&1023),String.fromCharCode(n,r))}function jRt(){var t,e;t=qBt.charCodeAt(VBt++),e=String.fromCharCode(t),92===t&&(117!==qBt.charCodeAt(VBt)&&fPt({},dRt,kRt),++VBt,t=PRt("u"),t&&"\\"!==t&&$Rt(t.charCodeAt(0))||fPt({},dRt,kRt),e=t);while(VBt<HBt){if(t=qBt.charCodeAt(VBt),!NRt(t))break;++VBt,e+=String.fromCharCode(t),92===t&&(e=e.substr(0,e.length-1),117!==qBt.charCodeAt(VBt)&&fPt({},dRt,kRt),++VBt,t=PRt("u"),t&&"\\"!==t&&NRt(t.charCodeAt(0))||fPt({},dRt,kRt),e+=t)}return e}function LRt(){var t,e;t=VBt++;while(VBt<HBt){if(e=qBt.charCodeAt(VBt),92===e)return VBt=t,jRt();if(!NRt(e))break;++VBt}return qBt.slice(t,VBt)}function zRt(){var t,e,n;return t=VBt,e=92===qBt.charCodeAt(VBt)?jRt():LRt(),n=1===e.length?KBt:BRt.hasOwnProperty(e)?XBt:"null"===e?JBt:"true"===e||"false"===e?YBt:KBt,{type:n,value:e,start:t,end:VBt}}function URt(){var t,e,n,r,i=VBt,o=qBt.charCodeAt(VBt),a=qBt[VBt];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++VBt,{type:QBt,value:String.fromCharCode(o),start:i,end:VBt};default:if(t=qBt.charCodeAt(VBt+1),61===t)switch(o){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return VBt+=2,{type:QBt,value:String.fromCharCode(o)+String.fromCharCode(t),start:i,end:VBt};case 33:case 61:return VBt+=2,61===qBt.charCodeAt(VBt)&&++VBt,{type:QBt,value:qBt.slice(i,VBt),start:i,end:VBt}}}return r=qBt.substr(VBt,4),">>>="===r?(VBt+=4,{type:QBt,value:r,start:i,end:VBt}):(n=r.substr(0,3),">>>"===n||"<<="===n||">>="===n?(VBt+=3,{type:QBt,value:n,start:i,end:VBt}):(e=n.substr(0,2),a===e[1]&&"+-<>&|".indexOf(a)>=0||"=>"===e?(VBt+=2,{type:QBt,value:e,start:i,end:VBt}):"<>=!+-*%&|^/".indexOf(a)>=0?(++VBt,{type:QBt,value:a,start:i,end:VBt}):void fPt({},dRt,kRt)))}function qRt(t){var e="";while(VBt<HBt){if(!MRt(qBt[VBt]))break;e+=qBt[VBt++]}return 0===e.length&&fPt({},dRt,kRt),$Rt(qBt.charCodeAt(VBt))&&fPt({},dRt,kRt),{type:ZBt,value:parseInt("0x"+e,16),start:t,end:VBt}}function VRt(t){var e="0"+qBt[VBt++];while(VBt<HBt){if(!TRt(qBt[VBt]))break;e+=qBt[VBt++]}return($Rt(qBt.charCodeAt(VBt))||DRt(qBt.charCodeAt(VBt)))&&fPt({},dRt,kRt),{type:ZBt,value:parseInt(e,8),octal:!0,start:t,end:VBt}}function HRt(){var t,e,n;if(n=qBt[VBt],ERt(DRt(n.charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),e=VBt,t="","."!==n){if(t=qBt[VBt++],n=qBt[VBt],"0"===t){if("x"===n||"X"===n)return++VBt,qRt(e);if(TRt(n))return VRt(e);n&&DRt(n.charCodeAt(0))&&fPt({},dRt,kRt)}while(DRt(qBt.charCodeAt(VBt)))t+=qBt[VBt++];n=qBt[VBt]}if("."===n){t+=qBt[VBt++];while(DRt(qBt.charCodeAt(VBt)))t+=qBt[VBt++];n=qBt[VBt]}if("e"===n||"E"===n)if(t+=qBt[VBt++],n=qBt[VBt],"+"!==n&&"-"!==n||(t+=qBt[VBt++]),DRt(qBt.charCodeAt(VBt)))while(DRt(qBt.charCodeAt(VBt)))t+=qBt[VBt++];else fPt({},dRt,kRt);return $Rt(qBt.charCodeAt(VBt))&&fPt({},dRt,kRt),{type:ZBt,value:parseFloat(t),start:e,end:VBt}}function WRt(){var t,e,n,r,i="",o=!1;t=qBt[VBt],ERt("'"===t||'"'===t,"String literal must starts with a quote"),e=VBt,++VBt;while(VBt<HBt){if(n=qBt[VBt++],n===t){t="";break}if("\\"===n)if(n=qBt[VBt++],n&&ORt(n.charCodeAt(0)))"\r"===n&&"\n"===qBt[VBt]&&++VBt;else switch(n){case"u":case"x":"{"===qBt[VBt]?(++VBt,i+=IRt()):i+=PRt(n);break;case"n":i+="\n";break;case"r":i+="\r";break;case"t":i+="\t";break;case"b":i+="\b";break;case"f":i+="\f";break;case"v":i+="\v";break;default:TRt(n)?(r="01234567".indexOf(n),0!==r&&(o=!0),VBt<HBt&&TRt(qBt[VBt])&&(o=!0,r=8*r+"01234567".indexOf(qBt[VBt++]),"0123".indexOf(n)>=0&&VBt<HBt&&TRt(qBt[VBt])&&(r=8*r+"01234567".indexOf(qBt[VBt++]))),i+=String.fromCharCode(r)):i+=n;break}else{if(ORt(n.charCodeAt(0)))break;i+=n}}return""!==t&&fPt({},dRt,kRt),{type:tRt,value:i,octal:o,start:e,end:VBt}}function YRt(t,e){var n=t;e.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(function(t,e){if(parseInt(e,16)<=1114111)return"x";fPt({},bRt)})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(Tqt){fPt({},bRt)}try{return new RegExp(t,e)}catch(r){return null}}function GRt(){var t,e,n,r,i;t=qBt[VBt],ERt("/"===t,"Regular expression literal must start with a slash"),e=qBt[VBt++],n=!1,r=!1;while(VBt<HBt)if(t=qBt[VBt++],e+=t,"\\"===t)t=qBt[VBt++],ORt(t.charCodeAt(0))&&fPt({},wRt),e+=t;else if(ORt(t.charCodeAt(0)))fPt({},wRt);else if(n)"]"===t&&(n=!1);else{if("/"===t){r=!0;break}"["===t&&(n=!0)}return r||fPt({},wRt),i=e.substr(1,e.length-2),{value:i,literal:e}}function KRt(){var t,e,n;e="",n="";while(VBt<HBt){if(t=qBt[VBt],!NRt(t.charCodeAt(0)))break;++VBt,"\\"===t&&VBt<HBt?fPt({},dRt,kRt):(n+=t,e+=t)}return n.search(/[^gimuy]/g)>=0&&fPt({},bRt,n),{value:n,literal:e}}function XRt(){var t,e,n,r;return WBt=null,RRt(),t=VBt,e=GRt(),n=KRt(),r=YRt(e.value,n.value),{literal:e.literal+n.literal,value:r,regex:{pattern:e.value,flags:n.value},start:t,end:VBt}}function JRt(t){return t.type===KBt||t.type===XBt||t.type===YBt||t.type===JBt}function ZRt(){var t;return RRt(),VBt>=HBt?{type:GBt,start:VBt,end:VBt}:(t=qBt.charCodeAt(VBt),$Rt(t)?zRt():40===t||41===t||59===t?URt():39===t||34===t?WRt():46===t?DRt(qBt.charCodeAt(VBt+1))?HRt():URt():DRt(t)?HRt():URt())}function QRt(){var t;return t=WBt,VBt=t.end,WBt=ZRt(),VBt=t.end,t}function tPt(){var t;t=VBt,WBt=ZRt(),VBt=t}function ePt(t){var e=new LBt(nRt);return e.elements=t,e}function nPt(t,e,n){var r=new LBt("||"===t||"&&"===t?uRt:rRt);return r.operator=t,r.left=e,r.right=n,r}function rPt(t,e){var n=new LBt(iRt);return n.callee=t,n.arguments=e,n}function iPt(t,e,n){var r=new LBt(oRt);return r.test=t,r.consequent=e,r.alternate=n,r}function oPt(t){var e=new LBt(aRt);return e.name=t,e}function aPt(t){var e=new LBt(sRt);return e.value=t.value,e.raw=qBt.slice(t.start,t.end),t.regex&&("//"===e.raw&&(e.raw="/(?:)/"),e.regex=t.regex),e}function sPt(t,e,n){var r=new LBt(cRt);return r.computed="["===t,r.object=e,r.property=n,r.computed||(n.member=!0),r}function uPt(t){var e=new LBt(lRt);return e.properties=t,e}function cPt(t,e,n){var r=new LBt(fRt);return r.key=e,r.value=n,r.kind=t,r}function lPt(t,e){var n=new LBt(hRt);return n.operator=t,n.argument=e,n.prefix=!0,n}function fPt(t,e){var n,r=Array.prototype.slice.call(arguments,2),i=e.replace(/%(\d)/g,(function(t,e){return ERt(e<r.length,"Message reference must be in range"),r[e]}));throw n=new Error(i),n.index=VBt,n.description=i,n}function hPt(t){t.type===GBt&&fPt(t,yRt),t.type===ZBt&&fPt(t,pRt),t.type===tRt&&fPt(t,gRt),t.type===KBt&&fPt(t,mRt),t.type===XBt&&fPt(t,vRt),fPt(t,dRt,t.value)}function dPt(t){var e=QRt();e.type===QBt&&e.value===t||hPt(e)}function pPt(t){return WBt.type===QBt&&WBt.value===t}function gPt(t){return WBt.type===XBt&&WBt.value===t}function mPt(){var t=[];VBt=WBt.start,dPt("[");while(!pPt("]"))pPt(",")?(QRt(),t.push(null)):(t.push(OPt()),pPt("]")||dPt(","));return QRt(),ePt(t)}function vPt(){var t;return VBt=WBt.start,t=QRt(),t.type===tRt||t.type===ZBt?(t.octal&&fPt(t,xRt),aPt(t)):oPt(t.value)}function yPt(){var t,e,n,r;return VBt=WBt.start,t=WBt,t.type===KBt?(n=vPt(),dPt(":"),r=OPt(),cPt("init",n,r)):t.type!==GBt&&t.type!==QBt?(e=vPt(),dPt(":"),r=OPt(),cPt("init",e,r)):void hPt(t)}function bPt(){var t,e,n,r=[],i={},o=String;VBt=WBt.start,dPt("{");while(!pPt("}"))t=yPt(),e=t.key.type===aRt?t.key.name:o(t.key.value),n="$"+e,Object.prototype.hasOwnProperty.call(i,n)?fPt({},_Rt):i[n]=!0,r.push(t),pPt("}")||dPt(",");return dPt("}"),uPt(r)}function wPt(){var t;return dPt("("),t=$Pt(),dPt(")"),t}var xPt={if:1};function _Pt(){var t,e,n;if(pPt("("))return wPt();if(pPt("["))return mPt();if(pPt("{"))return bPt();if(t=WBt.type,VBt=WBt.start,t===KBt||xPt[WBt.value])n=oPt(QRt().value);else if(t===tRt||t===ZBt)WBt.octal&&fPt(WBt,xRt),n=aPt(QRt());else{if(t===XBt)throw new Error(ARt);t===YBt?(e=QRt(),e.value="true"===e.value,n=aPt(e)):t===JBt?(e=QRt(),e.value=null,n=aPt(e)):pPt("/")||pPt("/=")?(n=aPt(XRt()),tPt()):hPt(QRt())}return n}function kPt(){var t=[];if(dPt("("),!pPt(")"))while(VBt<HBt){if(t.push(OPt()),pPt(")"))break;dPt(",")}return dPt(")"),t}function APt(){var t;return VBt=WBt.start,t=QRt(),JRt(t)||hPt(t),oPt(t.value)}function SPt(){return dPt("."),APt()}function CPt(){var t;return dPt("["),t=$Pt(),dPt("]"),t}function EPt(){var t,e,n;for(t=_Pt();;)if(pPt("."))n=SPt(),t=sPt(".",t,n);else if(pPt("("))e=kPt(),t=rPt(t,e);else{if(!pPt("["))break;n=CPt(),t=sPt("[",t,n)}return t}function DPt(){var t=EPt();if(WBt.type===QBt&&(pPt("++")||pPt("--")))throw new Error(ARt);return t}function MPt(){var t,e;if(WBt.type!==QBt&&WBt.type!==XBt)e=DPt();else{if(pPt("++")||pPt("--"))throw new Error(ARt);if(pPt("+")||pPt("-")||pPt("~")||pPt("!"))t=QRt(),e=MPt(),e=lPt(t.value,e);else{if(gPt("delete")||gPt("void")||gPt("typeof"))throw new Error(ARt);e=DPt()}}return e}function TPt(t){var e=0;if(t.type!==QBt&&t.type!==XBt)return 0;switch(t.value){case"||":e=1;break;case"&&":e=2;break;case"|":e=3;break;case"^":e=4;break;case"&":e=5;break;case"==":case"!=":case"===":case"!==":e=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":e=7;break;case"<<":case">>":case">>>":e=8;break;case"+":case"-":e=9;break;case"*":case"/":case"%":e=11;break;default:break}return e}function FPt(){var t,e,n,r,i,o,a,s,u,c;if(t=WBt,u=MPt(),r=WBt,i=TPt(r),0===i)return u;r.prec=i,QRt(),e=[t,WBt],a=MPt(),o=[u,r,a];while((i=TPt(WBt))>0){while(o.length>2&&i<=o[o.length-2].prec)a=o.pop(),s=o.pop().value,u=o.pop(),e.pop(),n=nPt(s,u,a),o.push(n);r=QRt(),r.prec=i,o.push(r),e.push(WBt),n=MPt(),o.push(n)}c=o.length-1,n=o[c],e.pop();while(c>1)e.pop(),n=nPt(o[c-1].value,o[c-2],n),c-=2;return n}function OPt(){var t,e,n;return t=FPt(),pPt("?")&&(QRt(),e=OPt(),dPt(":"),n=OPt(),t=iPt(t,e,n)),t}function $Pt(){var t=OPt();if(pPt(","))throw new Error(ARt);return t}function NPt(t){qBt=t,VBt=0,HBt=qBt.length,WBt=null,tPt();var e=$Pt();if(WBt.type!==GBt)throw new Error("Unexpect token after expression.");return e}function BPt(t,e,n){return t.fields=e||[],t.fname=n,t}function RPt(t){return 1===t.length?PPt(t[0]):IPt(t)}const PPt=t=>function(e){return e[t]},IPt=t=>{const e=t.length;return function(n){for(let r=0;r<e;++r)n=n[t[r]];return n}};function jPt(t){throw Error(t)}function LPt(t){const e=[],n=t.length;let r,i,o,a=null,s=0,u="";function c(){e.push(u+t.substring(r,i)),u="",r=i+1}for(t+="",r=i=0;i<n;++i)if(o=t[i],"\\"===o)u+=t.substring(r,i++),r=i;else if(o===a)c(),a=null,s=-1;else{if(a)continue;r===s&&'"'===o||r===s&&"'"===o?(r=i+1,a=o):"."!==o||s?"["===o?(i>r&&c(),s=r=i+1):"]"===o&&(s||jPt("Access path missing open bracket: "+t),s>0&&c(),s=0,r=i+1):i>r?c():r=i+1}return s&&jPt("Access path missing closing bracket: "+t),a&&jPt("Access path missing closing quote: "+t),i>r&&(i++,c()),e}function zPt(t,e,n){const r=LPt(t);return t=1===r.length?r[0]:t,BPt((n&&n.get||RPt)(r),[t],e||t)}zPt("id"),BPt((t=>t),[],"identity"),BPt((()=>0),[],"zero"),BPt((()=>1),[],"one"),BPt((()=>!0),[],"true"),BPt((()=>!1),[],"false");Array.isArray;Object.prototype.hasOwnProperty;function UPt(t){const e=[];return"Identifier"===t.type?[t.name]:"Literal"===t.type?[t.value]:("MemberExpression"===t.type&&(e.push(...UPt(t.object)),e.push(...UPt(t.property))),e)}function qPt(t){return"MemberExpression"===t.object.type?qPt(t.object):"datum"===t.object.name}function VPt(t){const e=NPt(t),n=new Set;return e.visit((t=>{"MemberExpression"===t.type&&qPt(t)&&n.add(UPt(t).slice(1).join("."))})),n}class HPt extends wNt{constructor(t,e,n){super(t),this.model=e,this.filter=n,this.expr=XPt(this.model,this.filter,this),this._dependentFields=VPt(this.expr)}clone(){return new HPt(null,this.model,n_t(this.filter))}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function WPt(t,e){var n;const r={},i=t.config.selection;for(const o of b_t(null!==e&&void 0!==e?e:{})){const a=n_t(e[o]),s=i[a.type],{fields:u,encodings:c}=s,l=qxt(s,["fields","encodings"]);for(const t in l)"encodings"===t&&a.fields||"fields"===t&&a.encodings||("mark"===t&&(a[t]=Object.assign(Object.assign({},l[t]),a[t])),void 0!==a[t]&&!0!==a[t]||(a[t]=null!==(n=l[t])&&void 0!==n?n:a[t]));const f=k_t(o),h=r[f]=Object.assign(Object.assign({},a),{name:f,events:Lxt(a.on)?jwt(a.on,"scope"):n_t(a.on)});ZNt(h,(n=>{n.has(h)&&n.parse&&n.parse(t,h,a,e[o])}))}return r}function YPt(t,e,n,r="datum"){const i=[];function o(e){const o=k_t(e),a=t.getSelectionComponent(o,e),s=zxt(o+bBt);if(a.project.timeUnit){const e=null!==n&&void 0!==n?n:t.component.data.raw,r=a.project.timeUnit.clone();e.parent?r.insertAsParentOf(e):e.parent=r}return"none"!==a.empty&&i.push(s),`vlSelectionTest(${s}, ${r}`+("global"===a.resolve?")":`, ${zxt(a.resolve)})`)}const a=A_t(e,o);return(i.length?"!("+i.map((t=>`length(data(${t}))`)).join(" || ")+") || ":"")+`(${a})`}function GPt(t,e){const n=e["encoding"];let r=e["field"];if(n||r){if(n&&!r){const i=t.project.items.filter((t=>t.channel===n));!i.length||i.length>1?(r=t.project.items[0].field,sEt((i.length?"Multiple ":"No ")+`matching ${zxt(n)} encoding found for selection ${zxt(e.selection)}. `+`Using "field": ${zxt(r)}.`)):r=i[0].field}}else r=t.project.items[0].field,t.project.items.length>1&&sEt(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${zxt(r)}.`);return`${t.name}[${zxt(r)}]`}function KPt(t,e){ABt(t,(n=>{const r=n.name,i=t.getName(`lookup_${r}`);t.component.data.outputNodes[i]=n.materialized=new xNt(new HPt(e,t,{selection:r}),i,"lookup",t.component.data.outputNodeRefCounts)}))}function XPt(t,e,n){return A_t(e,(e=>Lxt(e)?e:qEt(e)?YPt(t,e.selection,n):eDt(e)))}function JPt(t,e){if(t)return Dxt(t)&&!ETt(t)?t.map((t=>cTt(t,e))).join(", "):t}function ZPt(t,e,n,r){var i,o,a;t.encode=null!==(i=t.encode)&&void 0!==i?i:{},t.encode[e]=null!==(o=t.encode[e])&&void 0!==o?o:{},t.encode[e].update=null!==(a=t.encode[e].update)&&void 0!==a?a:{},t.encode[e].update[n]=r}function QPt(t,e,n,r={header:!1}){var i,o;const a=t.combine(),{disable:s,orient:u,scale:c,labelExpr:l,title:f,zindex:h}=a,d=qxt(a,["disable","orient","scale","labelExpr","title","zindex"]);if(!s){for(const t in d){const n=V_t[t],r=d[t];if(n&&n!==e&&"both"!==n)delete d[t];else if(U_t(r)){const{condition:e}=r,n=qxt(r,["condition"]),i=Nxt(e),o=z_t[t];if(o){const{vgProp:e,part:r}=o,a=[...i.map((t=>{const{test:e}=t,n=qxt(t,["test"]);return Object.assign({test:XPt(null,e)},n)})),n];ZPt(d,r,e,a),delete d[t]}else if(null===o){const e={signal:i.map((t=>{const{test:e}=t,n=qxt(t,["test"]);return`${XPt(null,e)} ? ${MTt(n)} : `})).join("")+MTt(n)};d[t]=e}}else if(NEt(r)){const e=z_t[t];if(e){const{vgProp:n,part:i}=e;ZPt(d,i,n,r),delete d[t]}}}if("grid"===e){if(!d.grid)return;if(d.encode){const{grid:t}=d.encode;d.encode=Object.assign({},t?{grid:t}:{}),y_t(d.encode)&&delete d.encode}return Object.assign(Object.assign({scale:c,orient:u},d),{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:N_t(h,0)})}{if(!r.header&&t.mainExtracted)return;if(void 0!==l){let t=l;(null===(o=null===(i=d.encode)||void 0===i?void 0:i.labels)||void 0===o?void 0:o.update)&&NEt(d.encode.labels.update.text)&&(t=F_t(l,"datum.label",d.encode.labels.update.text.signal)),ZPt(d,"labels","text",{signal:t})}if(null===d.labelAlign&&delete d.labelAlign,d.encode){for(const e of q_t)t.hasAxisPart(e)||delete d.encode[e];y_t(d.encode)&&delete d.encode}const e=JPt(f,n);return Object.assign(Object.assign(Object.assign(Object.assign({scale:c,orient:u,grid:!1},e?{title:e}:{}),d),!1===n.aria?{aria:!1}:{}),{zindex:N_t(h,0)})}}}function tIt(t){const{axes:e}=t.component,n=[];for(const r of lSt)if(e[r])for(const i of e[r])if(!i.get("disable")&&!i.get("gridScale")){const e="x"===r?"height":"width",i=t.getSizeSignalRef(e).signal;e!==i&&n.push({name:e,update:i})}return n}function eIt(t,e){const{x:n=[],y:r=[]}=t;return[...n.map((t=>QPt(t,"grid",e))),...r.map((t=>QPt(t,"grid",e))),...n.map((t=>QPt(t,"main",e))),...r.map((t=>QPt(t,"main",e)))].filter((t=>t))}const nIt={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},rIt={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},iIt=b_t(nIt),oIt=b_t(rIt);function aIt(t,e,n,r){return Object.assign.apply(null,[{},...t.map((t=>{if("axisOrient"===t){const t="x"===n?"bottom":"left",i=e["x"===n?"axisBottom":"axisLeft"]||{},o=e["x"===n?"axisTop":"axisRight"]||{},a=new Set([...b_t(i),...b_t(o)]),s={};for(const e of a.values())s[e]={signal:`${r["signal"]} === "${t}" ? ${TTt(i[e])} : ${TTt(o[e])}`};return s}return e[t]}))])}function sIt(t,e,n,r){const i="band"===e?["axisDiscrete","axisBand"]:"point"===e?["axisDiscrete","axisPoint"]:_Dt(e)?["axisQuantitative"]:"time"===e||"utc"===e?["axisTemporal"]:[],o="x"===t?"axisX":"axisY",a=NEt(n)?"axisOrient":"axis"+C_t(n),s=[...i,...i.map((t=>o+t.substr(4)))],u=["axis",a,o];return{vlOnlyAxisConfig:aIt(s,r,t,n),vgAxisConfig:aIt(u,r,t,n),axisConfigStyle:uIt([...u,...s],r)}}function uIt(t,e){var n;const r=[{}];for(const i of t){let t=null===(n=e[i])||void 0===n?void 0:n.style;if(t){t=Nxt(t);for(const n of t)r.push(e.style[n])}}return Object.assign.apply(null,r)}function cIt(t,e,n,r={}){var i;const o=RTt(t,n,e.style);if(void 0!==o)return{configFrom:"style",configValue:o};for(const a of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(void 0!==(null===(i=r[a])||void 0===i?void 0:i[t]))return{configFrom:a,configValue:r[a][t]};return{}}const lIt={scale:({model:t,channel:e})=>t.scaleName(e),format:({fieldOrDatumDef:t,config:e,axis:n})=>{const{format:r,formatType:i}=n;return fMt(t,t.type,r,i,e,!0)},formatType:({axis:t,fieldOrDatumDef:e,scaleType:n})=>{const{formatType:r}=t;return hMt(r,e,n)},grid:({fieldOrDatumDef:t,axis:e,scaleType:n})=>{var r;return(!IMt(t)||!ISt(t.bin))&&(null!==(r=e.grid)&&void 0!==r?r:fIt(n,t))},gridScale:({model:t,channel:e})=>hIt(t,e),labelAlign:({axis:t,labelAngle:e,orient:n,channel:r})=>t.labelAlign||mIt(e,n,r),labelAngle:({labelAngle:t})=>t,labelBaseline:({axis:t,labelAngle:e,orient:n,channel:r})=>t.labelBaseline||gIt(e,n,r),labelFlush:({axis:t,fieldOrDatumDef:e,channel:n})=>{var r;return null!==(r=t.labelFlush)&&void 0!==r?r:vIt(e.type,n)},labelOverlap:({axis:t,fieldOrDatumDef:e,scaleType:n})=>{var r;return null!==(r=t.labelOverlap)&&void 0!==r?r:yIt(e.type,n)},orient:({orient:t})=>t,tickCount:({channel:t,model:e,axis:n,fieldOrDatumDef:r,scaleType:i})=>{var o;const a="x"===t?"width":"y"===t?"height":void 0,s=a?e.getSizeSignalRef(a):void 0;return null!==(o=n.tickCount)&&void 0!==o?o:wIt({fieldOrDatumDef:r,scaleType:i,size:s,values:n.values})},title:({axis:t,model:e,channel:n})=>{if(void 0!==t.title)return t.title;const r=xIt(e,n);if(void 0!==r)return r;const i=e.typedFieldDef(n),o="x"===n?"x2":"y2",a=e.fieldDef(o);return ITt(i?[TMt(i)]:[],IMt(a)?[TMt(a)]:[])},values:({axis:t,fieldOrDatumDef:e})=>_It(t,e),zindex:({axis:t,fieldOrDatumDef:e,mark:n})=>{var r;return null!==(r=t.zindex)&&void 0!==r?r:kIt(n,e)}};function fIt(t,e){return!MDt(t)&&IMt(e)&&!PSt(null===e||void 0===e?void 0:e.bin)}function hIt(t,e){const n="x"===e?"y":"x";if(t.getScaleComponent(n))return t.scaleName(n)}function dIt(t,e,n,r,i){const o=null===e||void 0===e?void 0:e.labelAngle;if(void 0!==o)return NEt(o)?o:j_t(o);{const{configValue:o}=cIt("labelAngle",t.config,null===e||void 0===e?void 0:e.style,i);return void 0!==o?j_t(o):n===Ukt&&u_t([uDt,aDt],r.type)?270:void 0}}function pIt(t){return`(((${t.signal} % 360) + 360) % 360)`}function gIt(t,e,n,r){if(void 0!==t){if("x"===n){if(NEt(t)){const n=pIt(t),r=NEt(e)?`(${e.signal} === "top")`:"top"===e;return{signal:`(45 < ${n} && ${n} < 135) || (225 < ${n} && ${n} < 315) ? "middle" :(${n} <= 45 || 315 <= ${n}) === ${r} ? "bottom" : "top"`}}if(45<t&&t<135||225<t&&t<315)return"middle";if(NEt(e)){const n=t<=45||315<=t?"===":"!==";return{signal:`${e.signal} ${n} "top" ? "bottom" : "top"`}}return(t<=45||315<=t)===("top"===e)?"bottom":"top"}if(NEt(t)){const n=pIt(t),i=NEt(e)?`(${e.signal} === "left")`:"left"===e,o=r?'"middle"':"null";return{signal:`${n} <= 45 || 315 <= ${n} || (135 <= ${n} && ${n} <= 225) ? ${o} : (45 <= ${n} && ${n} <= 135) === ${i} ? "top" : "bottom"`}}if(t<=45||315<=t||135<=t&&t<=225)return r?"middle":null;if(NEt(e)){const n=45<=t&&t<=135?"===":"!==";return{signal:`${e.signal} ${n} "left" ? "top" : "bottom"`}}return(45<=t&&t<=135)===("left"===e)?"top":"bottom"}}function mIt(t,e,n){if(void 0===t)return;const r="x"===n,i=r?0:90,o=r?"bottom":"left";if(NEt(t)){const n=pIt(t),a=NEt(e)?`(${e.signal} === "${o}")`:e===o;return{signal:`(${i?"("+n+" + 90)":n} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${n} && ${n} < ${180+i}) === ${a} ? "left" : "right"`}}if((t+i)%180===0)return r?null:"center";if(NEt(e)){const n=i<t&&t<180+i?"===":"!==",r=`${e.signal} ${n} "${o}"`;return{signal:`${r} ? "left" : "right"`}}return(i<t&&t<180+i)===(e===o)?"left":"right"}function vIt(t,e){if("x"===e&&u_t(["quantitative","temporal"],t))return!0}function yIt(t,e){if("nominal"!==t)return"log"!==e||"greedy"}function bIt(t){return"x"===t?"bottom":"left"}function wIt({fieldOrDatumDef:t,scaleType:e,size:n,values:r}){var i;if(!r&&!MDt(e)&&"log"!==e){if(IMt(t)){if(PSt(t.bin))return{signal:`ceil(${n.signal}/10)`};if(t.timeUnit&&u_t(["month","hours","day","quarter"],null===(i=OEt(t.timeUnit))||void 0===i?void 0:i.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function xIt(t,e){const n="x"===e?"x2":"y2",r=t.fieldDef(e),i=t.fieldDef(n),o=r?r.title:void 0,a=i?i.title:void 0;return o&&a?jTt(o,a):o||(a||(void 0!==o?o:void 0!==a?a:void 0))}function _It(t,e){const n=t.values;return Dxt(n)?ATt(e,n):NEt(n)?n:void 0}function kIt(t,e){return"rect"===t&&ZMt(e)?1:0}class AIt extends wNt{constructor(t,e){super(t),this.transform=e,this._dependentFields=VPt(this.transform.calculate)}clone(){return new AIt(null,n_t(this.transform))}static parseAllForSortIndex(t,e){return e.forEachFieldDef(((e,n)=>{if(WMt(e)&&AMt(e.sort)){const{field:r,timeUnit:i}=e,o=e.sort,a=o.map(((t,e)=>`${eDt({field:r,timeUnit:i,equal:t})} ? ${e} : `)).join("")+o.length;t=new AIt(t,{calculate:a,as:SIt(e,n,{forAs:!0})})}})),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${a_t(this.transform)}`}}function SIt(t,e,n){return JMt(t,Object.assign({prefix:e,suffix:"sort_index"},null!==n&&void 0!==n?n:{}))}function CIt(t,e){return u_t(["top","bottom"],e)?"column":u_t(["left","right"],e)||"row"===t?"row":"column"}function EIt(t,e,n,r){const i="row"===r?n.headerRow:"column"===r?n.headerColumn:n.headerFacet;return N_t(((null===e||void 0===e?void 0:e.header)||{})[t],i[t],n.header[t])}function DIt(t,e,n,r){const i={};for(const o of t){const t=EIt(o,e,n,r);void 0!==t&&(i[o]=t)}return i}const MIt=["row","column"],TIt=["header","footer"];function FIt(t,e){const n=t.component.layoutHeaders[e].title,r=t.config?t.config:void 0,i=t.component.layoutHeaders[e].facetFieldDef?t.component.layoutHeaders[e].facetFieldDef:void 0,{titleAnchor:o,titleAngle:a,titleOrient:s}=DIt(["titleAnchor","titleAngle","titleOrient"],i,r,e),u=CIt(e,s),c=j_t(a);return{name:`${e}-title`,type:"group",role:`${u}-title`,title:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:n},"row"===e?{orient:"left"}:{}),{style:"guide-title"}),$It(c,u)),OIt(u,c,o)),zIt(r,i,e,iIt,nIt))}}function OIt(t,e,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=mIt(e,"row"===t?"left":"top","row"===t?"y":"x");return r?{align:r}:{}}function $It(t,e){const n=gIt(t,"row"===e?"left":"top","row"===e?"y":"x",!0);return n?{baseline:n}:{}}function NIt(t,e){const n=t.component.layoutHeaders[e],r=[];for(const i of TIt)if(n[i])for(const o of n[i]){const a=PIt(t,e,i,n,o);null!=a&&r.push(a)}return r}function BIt(t,e){var n;const{sort:r}=t;return kMt(r)?{field:JMt(r,{expr:"datum"}),order:null!==(n=r.order)&&void 0!==n?n:"ascending"}:Dxt(r)?{field:SIt(t,e,{expr:"datum"}),order:"ascending"}:{field:JMt(t,{expr:"datum"}),order:null!==r&&void 0!==r?r:"ascending"}}function RIt(t,e,n){const{format:r,formatType:i,labelAngle:o,labelAnchor:a,labelOrient:s,labelExpr:u}=DIt(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],t,n,e),c=uMt({fieldOrDatumDef:t,format:r,formatType:i,expr:"parent",config:n}).signal,l=CIt(e,s);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:{signal:u?F_t(F_t(u,"datum.label",c),"datum.value",JMt(t,{expr:"parent"})):c}},"row"===e?{orient:"left"}:{}),{style:"guide-label",frame:"group"}),$It(o,l)),OIt(l,o,a)),zIt(n,t,e,oIt,rIt))}function PIt(t,e,n,r,i){if(i){let o=null;const{facetFieldDef:a}=r,s=t.config?t.config:void 0;if(a&&i.labels){const{labelOrient:t}=DIt(["labelOrient"],a,s,e);("row"===e&&!u_t(["top","bottom"],t)||"column"===e&&!u_t(["left","right"],t))&&(o=RIt(a,e,s))}const u=jzt(t)&&!SMt(t.facet),c=i.axes,l=(null===c||void 0===c?void 0:c.length)>0;if(o||l){const s="row"===e?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:t.getName(`${e}_${n}`),type:"group",role:`${e}-${n}`},r.facetFieldDef?{from:{data:t.getName(e+"_domain")},sort:BIt(a,e)}:{}),l&&u?{from:{data:t.getName(`facet_domain_${e}`)}}:{}),o?{title:o}:{}),i.sizeSignal?{encode:{update:{[s]:i.sizeSignal}}}:{}),l?{axes:c}:{})}}return null}const IIt={column:{start:0,end:1},row:{start:1,end:0}};function jIt(t,e){return IIt[e][t]}function LIt(t,e){const n={};for(const r of MAt){const i=t[r];if(null===i||void 0===i?void 0:i.facetFieldDef){const{titleAnchor:t,titleOrient:o}=DIt(["titleAnchor","titleOrient"],i.facetFieldDef,e,r),a=CIt(r,o),s=jIt(t,a);void 0!==s&&(n[a]=s)}}return y_t(n)?void 0:n}function zIt(t,e,n,r,i){const o={};for(const a of r){if(!i[a])continue;const r=EIt(a,e,t,n);void 0!==r&&(o[i[a]]=r)}return o}function UIt(t){return[...qIt(t,"width"),...qIt(t,"height"),...qIt(t,"childWidth"),...qIt(t,"childHeight")]}function qIt(t,e){const n="width"===e?"x":"y",r=t.component.layoutSize.get(e);if(!r||"merged"===r)return[];const i=t.getSizeSignalRef(e).signal;if("step"===r){const e=t.getScaleComponent(n);if(e){const r=e.get("type"),o=e.get("range");if(MDt(r)&&BEt(o)){const r=t.scaleName(n);if(jzt(t.parent)){const e=t.parent.component.resolve;if("independent"===e.scale[n])return[VIt(r,o)]}return[VIt(r,o),{name:i,update:HIt(r,e,`domain('${r}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}if("container"==r){const e=i.endsWith("width"),n=e?"containerSize()[0]":"containerSize()[1]",r=GFt(t.config.view,e?"width":"height"),o=`isFinite(${n}) ? ${n} : ${r}`;return[{name:i,init:o,on:[{update:o,events:"window:resize"}]}]}return[{name:i,value:r}]}function VIt(t,e){return{name:t+"_step",value:e.step}}function HIt(t,e,n){const r=e.get("type"),i=e.get("padding"),o=N_t(e.get("paddingOuter"),i);let a=e.get("paddingInner");return a="band"===r?void 0!==a?a:i:1,`bandspace(${n}, ${a}, ${o}) * ${t}_step`}function WIt(t){return"childWidth"===t?"width":"childHeight"===t?"height":t}function YIt(t,e){return b_t(t).reduce(((n,r)=>{const i=t[r];return Object.assign(Object.assign({},n),N$t(e,i,r,(t=>NEt(t)?t:{value:t.value})))}),{})}function GIt(t,e){if(zzt(e)||jzt(e))return"shared";if(Lzt(e))return fSt(t)?"independent":"shared";throw new Error("invalid model type for resolve")}function KIt(t,e){const n=t.scale[e],r=fSt(e)?"axis":"legend";return"independent"===n?("shared"===t[r][e]&&sEt(jCt(e)),"independent"):t[r][e]||"shared"}const XIt=Object.assign(Object.assign({},$Ft),{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),JIt=b_t(XIt);class ZIt extends XOt{}const QIt={symbols:tjt,gradient:ejt,labels:njt,entries:rjt};function tjt(t,{fieldOrDatumDef:e,model:n,channel:r,legendCmpt:i,legendType:o}){var a,s,u,c,l;if("symbol"!==o)return;const{markDef:f,encoding:h,config:d,mark:p}=n,g=f.filled&&"trail"!==p;let m=Object.assign(Object.assign({},FTt({},n,gkt)),V$t(n,{filled:g}));const v=null!==(a=ijt(h.opacity))&&void 0!==a?a:f.opacity;if(m.fill)if("fill"===r||g&&r===tAt)delete m.fill;else if(m.fill["field"])i.get("symbolFillColor")?delete m.fill:(m.fill=DTt(null!==(s=d.legend.symbolBaseFillColor)&&void 0!==s?s:"black"),m.fillOpacity=DTt(null!==v&&void 0!==v?v:1));else if(Dxt(m.fill)){const t=null!==(l=null!==(c=ojt(null!==(u=h.fill)&&void 0!==u?u:h.color))&&void 0!==c?c:f.fill)&&void 0!==l?l:g&&f.color;t&&(m.fill=DTt(t))}if(m.stroke)if("stroke"===r||!g&&r===tAt)delete m.stroke;else if(m.stroke["field"])delete m.stroke;else if(Dxt(m.stroke)){const t=N_t(ojt(h.stroke||h.color),f.stroke,g?f.color:void 0);t&&(m.stroke={value:t})}if(r!==aAt){const t=IMt(e)&&sjt(n,i,e);t?m.opacity=[Object.assign({test:t},DTt(null!==v&&void 0!==v?v:1)),DTt(d.legend.unselectedOpacity)]:v&&(m.opacity=DTt(v))}return m=Object.assign(Object.assign({},m),t),y_t(m)?void 0:m}function ejt(t,{model:e,legendType:n}){if("gradient"!==n)return;let r={};const i=ijt(e.encoding.opacity)||e.markDef.opacity;return i&&(r.opacity=DTt(i)),r=Object.assign(Object.assign({},r),t),y_t(r)?void 0:r}function njt(t,{fieldOrDatumDef:e,model:n,channel:r,legendCmpt:i}){const o=n.legend(r)||{},a=n.config,s=IMt(e)?sjt(n,i,e):void 0,u=s?[{test:s,value:1},{value:a.legend.unselectedOpacity}]:void 0,{format:c,formatType:l}=o,f=oMt(l)?lMt({fieldOrDatumDef:e,field:"datum.value",format:c,formatType:l,config:a}):void 0,h=Object.assign(Object.assign(Object.assign({},u?{opacity:u}:{}),f?{text:f}:{}),t);return y_t(h)?void 0:h}function rjt(t,{legendCmpt:e}){const n=e.get("selections");return(null===n||void 0===n?void 0:n.length)?Object.assign(Object.assign({},t),{fill:{value:"transparent"}}):t}function ijt(t){return ajt(t,((t,e)=>Math.max(t,e.value)))}function ojt(t){return ajt(t,((t,e)=>N_t(t,e.value)))}function ajt(t,e){return PMt(t)?Nxt(t.condition).reduce(e,t.value):HMt(t)?t.value:void 0}function sjt(t,e,n){const r=e.get("selections");if(!(null===r||void 0===r?void 0:r.length))return;const i=zxt(n.field);return r.map((t=>{const e=zxt(k_t(t)+bBt);return`(!length(data(${e})) || (${t}[${i}] && indexof(${t}[${i}], datum.value) >= 0))`})).join(" || ")}const ujt={direction:({direction:t})=>t,format:({fieldOrDatumDef:t,legend:e,config:n})=>{const{format:r,formatType:i}=e;return fMt(t,t.type,r,i,n,!1)},formatType:({legend:t,fieldOrDatumDef:e,scaleType:n})=>{const{formatType:r}=t;return hMt(r,e,n)},gradientLength:t=>{var e,n;const{legend:r,legendConfig:i}=t;return null!==(n=null!==(e=r.gradientLength)&&void 0!==e?e:i.gradientLength)&&void 0!==n?n:gjt(t)},labelOverlap:({legend:t,legendConfig:e,scaleType:n})=>{var r,i;return null!==(i=null!==(r=t.labelOverlap)&&void 0!==r?r:e.labelOverlap)&&void 0!==i?i:vjt(n)},symbolType:({legend:t,markDef:e,channel:n,encoding:r})=>{var i;return null!==(i=t.symbolType)&&void 0!==i?i:ljt(e.type,n,r.shape,e.shape)},title:({fieldOrDatumDef:t,config:e})=>sTt(t,e,{allowDisabling:!0}),type:({legendType:t,scaleType:e,channel:n})=>{if(EAt(n)&&FDt(e)){if("gradient"===t)return}else if("symbol"===t)return;return t},values:({fieldOrDatumDef:t,legend:e})=>cjt(e,t)};function cjt(t,e){const n=t.values;return Dxt(n)?ATt(e,n):NEt(n)?n:void 0}function ljt(t,e,n,r){var i;if("shape"!==e){const t=null!==(i=ojt(n))&&void 0!==i?i:r;if(t)return t}switch(t){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function fjt(t){const{legend:e}=t;return N_t(e.type,hjt(t))}function hjt({channel:t,timeUnit:e,scaleType:n}){if(EAt(t)){if(u_t(["quarter","month","day"],e))return"symbol";if(FDt(n))return"gradient"}return"symbol"}function djt({legendConfig:t,legendType:e,orient:n,legend:r}){var i,o;return null!==(o=null!==(i=r.direction)&&void 0!==i?i:t[e?"gradientDirection":"symbolDirection"])&&void 0!==o?o:pjt(n,e)}function pjt(t,e){switch(t){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return"gradient"===e?"horizontal":void 0}}function gjt({legendConfig:t,model:e,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:o,gradientHorizontalMinLength:a,gradientVerticalMaxLength:s,gradientVerticalMinLength:u}=t;if(FDt(i))return"horizontal"===n?"top"===r||"bottom"===r?mjt(e,"width",a,o):a:mjt(e,"height",u,s)}function mjt(t,e,n,r){const i=t.getSizeSignalRef(e).signal;return{signal:`clamp(${i}, ${n}, ${r})`}}function vjt(t){if(u_t(["quantile","threshold","log"],t))return"greedy"}function yjt(t){const e=Izt(t)?bjt(t):kjt(t);return t.component.legends=e,e}function bjt(t){const{encoding:e}=t,n={};for(const r of[tAt,...TFt]){const i=dTt(e[r]);i&&t.getScaleComponent(r)&&(r===rAt&&IMt(i)&&i.type===cDt||(n[r]=_jt(t,r)))}return n}function wjt(t,e){const n=t.scaleName(e);if("trail"===t.mark){if("color"===e)return{stroke:n};if("size"===e)return{strokeWidth:n}}return"color"===e?t.markDef.filled?{fill:n}:{stroke:n}:{[e]:n}}function xjt(t,e,n,r){switch(e){case"disable":return void 0!==n;case"values":return!!(null===n||void 0===n?void 0:n.values);case"title":if("title"===e&&t===(null===r||void 0===r?void 0:r.title))return!0}return t===(n||{})[e]}function _jt(t,e){var n,r,i;let o=t.legend(e);const{markDef:a,encoding:s,config:u}=t,c=u.legend,l=new ZIt({},wjt(t,e));LNt(t,e,l);const f=void 0!==o?!o:c.disable;if(l.set("disable",f,void 0!==o),f)return l;o=o||{};const h=t.getScaleComponent(e).get("type"),d=dTt(s[e]),p=IMt(d)?null===(n=OEt(d.timeUnit))||void 0===n?void 0:n.unit:void 0,g=o.orient||u.legend.orient||"right",m=fjt({legend:o,channel:e,timeUnit:p,scaleType:h}),v=djt({legend:o,legendType:m,orient:g,legendConfig:c}),y={legend:o,channel:e,model:t,markDef:a,encoding:s,fieldOrDatumDef:d,legendConfig:c,config:u,scaleType:h,orient:g,legendType:m,direction:v};for(const k of JIt){const n=k in ujt?ujt[k](y):o[k];if(void 0!==n){const r=xjt(n,k,o,t.fieldDef(e));(r||void 0===u.legend[k])&&l.set(k,n,r)}}const b=null!==(r=null===o||void 0===o?void 0:o.encoding)&&void 0!==r?r:{},w=l.get("selections"),x={},_={fieldOrDatumDef:d,model:t,channel:e,legendCmpt:l,legendType:m};for(const k of["labels","legend","title","symbols","gradient","entries"]){const e=YIt(null!==(i=b[k])&&void 0!==i?i:{},t),n=k in QIt?QIt[k](e,_):e;void 0===n||y_t(n)||(x[k]=Object.assign(Object.assign(Object.assign({},(null===w||void 0===w?void 0:w.length)&&IMt(d)?{name:`${k_t(d.field)}_legend_${k}`}:{}),(null===w||void 0===w?void 0:w.length)?{interactive:!!w}:{}),{update:n}))}return y_t(x)||l.set("encode",x,!!(null===o||void 0===o?void 0:o.encoding)),l}function kjt(t){const{legends:e,resolve:n}=t.component;for(const r of t.children){yjt(r);for(const i of b_t(r.component.legends))n.legend[i]=KIt(t.component.resolve,i),"shared"===n.legend[i]&&(e[i]=Ajt(e[i],r.component.legends[i]),e[i]||(n.legend[i]="independent",delete e[i]))}for(const r of b_t(e))for(const e of t.children)e.component.legends[r]&&"shared"===n.legend[r]&&delete e.component.legends[r];return e}function Ajt(t,e){var n,r,i,o;if(!t)return e.clone();const a=t.getWithExplicit("orient"),s=e.getWithExplicit("orient");if(a.explicit&&s.explicit&&a.value!==s.value)return;let u=!1;for(const c of JIt){const n=e$t(t.getWithExplicit(c),e.getWithExplicit(c),c,"legend",((t,e)=>{switch(c){case"symbolType":return Sjt(t,e);case"title":return LTt(t,e);case"type":return u=!0,ZOt("symbol")}return t$t(t,e,c,"legend")}));t.setWithExplicit(c,n)}return u&&((null===(r=null===(n=t.implicit)||void 0===n?void 0:n.encode)||void 0===r?void 0:r.gradient)&&S_t(t.implicit,["encode","gradient"]),(null===(o=null===(i=t.explicit)||void 0===i?void 0:i.encode)||void 0===o?void 0:o.gradient)&&S_t(t.explicit,["encode","gradient"])),t}function Sjt(t,e){return"circle"===e.value?e:t}function Cjt(t,e,n,r){var i,o,a;t.encode=null!==(i=t.encode)&&void 0!==i?i:{},t.encode[e]=null!==(o=t.encode[e])&&void 0!==o?o:{},t.encode[e].update=null!==(a=t.encode[e].update)&&void 0!==a?a:{},t.encode[e].update[n]=r}function Ejt(t){const e=t.component.legends,n={};for(const i of b_t(e)){const r=t.getScaleComponent(i),o=o_t(r.get("domains"));if(n[o])for(const t of n[o]){const r=Ajt(t,e[i]);r||n[o].push(e[i])}else n[o]=[e[i].clone()]}const r=w_t(n).flat().map((e=>Djt(e,t.config))).filter((t=>void 0!==t));return r}function Djt(t,e){var n,r,i;const o=t.combine(),{disable:a,labelExpr:s,selections:u}=o,c=qxt(o,["disable","labelExpr","selections"]);if(!a){if(!1===e.aria&&void 0==c.aria&&(c.aria=!1),null===(n=c.encode)||void 0===n?void 0:n.symbols){const t=c.encode.symbols.update;!t.fill||"transparent"===t.fill["value"]||t.stroke||c.stroke||(t.stroke={value:"transparent"});for(const e of TFt)c[e]&&delete t[e]}if(c.title||delete c.title,void 0!==s){let t=s;(null===(i=null===(r=c.encode)||void 0===r?void 0:r.labels)||void 0===i?void 0:i.update)&&NEt(c.encode.labels.update.text)&&(t=F_t(s,"datum.label",c.encode.labels.update.text.signal)),Cjt(c,"labels","text",{signal:t})}for(const t in c){const e=c[t];if(NEt(e)){const n=FFt[t];if(n){const{vgProp:r,part:i}=n;Cjt(c,i,r,e),delete c[t]}}}return c}}function Mjt(t){return zzt(t)||Lzt(t)?Tjt(t):Fjt(t)}function Tjt(t){return t.children.reduce(((t,e)=>t.concat(e.assembleProjections())),Fjt(t))}function Fjt(t){const e=t.component.projection;if(!e||e.merged)return[];const n=e.combine(),{name:r}=n;if(e.data){const i={signal:`[${e.size.map((t=>t.signal)).join(", ")}]`},o=e.data.reduce(((e,n)=>{const r=NEt(n)?n.signal:`data('${t.lookupDataSource(n)}')`;return u_t(e,r)||e.push(r),e}),[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[Object.assign({name:r,size:i,fit:{signal:o.length>1?`[${o.join(", ")}]`:o[0]}},n)]}return[Object.assign(Object.assign({name:r},{translate:{signal:"[width / 2, height / 2]"}}),n)]}const Ojt=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class $jt extends XOt{constructor(t,e,n,r){super(Object.assign({},e),{name:t}),this.specifiedProjection=e,this.size=n,this.data=r,this.merged=!1}get isFit(){return!!this.data}}function Njt(t){t.component.projection=Izt(t)?Bjt(t):Ijt(t)}function Bjt(t){var e;if(t.hasProjection){const n=t.specifiedProjection,r=!(n&&(null!=n.scale||null!=n.translate)),i=r?[t.getSizeSignalRef("width"),t.getSizeSignalRef("height")]:void 0,o=r?Rjt(t):void 0;return new $jt(t.projectionName(!0),Object.assign(Object.assign({},null!==(e=t.config.projection)&&void 0!==e?e:{}),null!==n&&void 0!==n?n:{}),i,o)}}function Rjt(t){const e=[],{encoding:n}=t;for(const r of[[Jkt,Xkt],[Qkt,Zkt]])(dTt(n[r[0]])||dTt(n[r[1]]))&&e.push({signal:t.getName(`geojson_${e.length}`)});return t.channelHasField(rAt)&&t.typedFieldDef(rAt).type===cDt&&e.push({signal:t.getName(`geojson_${e.length}`)}),0===e.length&&e.push(t.requestDataName(l$t)),e}function Pjt(t,e){const n=l_t(Ojt,(n=>!Rxt(t.explicit,n)&&!Rxt(e.explicit,n)||!(!Rxt(t.explicit,n)||!Rxt(e.explicit,n)||o_t(t.get(n))!==o_t(e.get(n))))),r=o_t(t.size)===o_t(e.size);if(r){if(n)return t;if(o_t(t.explicit)===o_t({}))return e;if(o_t(e.explicit)===o_t({}))return t}return null}function Ijt(t){if(0===t.children.length)return;let e;for(const r of t.children)Njt(r);const n=l_t(t.children,(t=>{const n=t.component.projection;if(n){if(e){const t=Pjt(e,n);return t&&(e=t),!!t}return e=n,!0}return!0}));if(e&&n){const n=t.projectionName(!0),r=new $jt(n,e.specifiedProjection,e.size,n_t(e.data));for(const e of t.children){const t=e.component.projection;t&&(t.isFit&&r.data.push(...e.component.projection.data),e.renameProjection(t.get("name"),n),t.merged=!0)}return r}}function jjt(t,e,n,r){var i,o;if(STt(e,n)){const a=Izt(t)&&null!==(o=null!==(i=t.axis(n))&&void 0!==i?i:t.legend(n))&&void 0!==o?o:{},s=JMt(e,{expr:"datum"}),u=JMt(e,{expr:"datum",binSuffix:"end"});return{formulaAs:JMt(e,{binSuffix:"range",forAs:!0}),formula:vMt(s,u,a.format,a.formatType,r)}}return{}}function Ljt(t,e){return`${RSt(t)}_${e}`}function zjt(t,e){return{signal:t.getName(`${e}_bins`),extentSignal:t.getName(`${e}_extent`)}}function Ujt(t,e,n){var r;const i=null!==(r=yTt(n,void 0))&&void 0!==r?r:{},o=Ljt(i,e);return t.getName(`${o}_bins`)}function qjt(t){return"as"in t}function Vjt(t,e,n){let r,i;r=qjt(t)?Lxt(t.as)?[t.as,`${t.as}_end`]:[t.as[0],t.as[1]]:[JMt(t,{forAs:!0}),JMt(t,{binSuffix:"end",forAs:!0})];const o=Object.assign({},yTt(e,void 0)),a=Ljt(o,t.field),{signal:s,extentSignal:u}=zjt(n,a);if(LSt(o.extent)){const t=o.extent,e=t.selection;i=GPt(n.getSelectionComponent(k_t(e),e),t),delete o.extent}const c=Object.assign(Object.assign(Object.assign({bin:o,field:t.field,as:[r]},s?{signal:s}:{}),u?{extentSignal:u}:{}),i?{span:i}:{});return{key:a,binComponent:c}}class Hjt extends wNt{constructor(t,e){super(t),this.bins=e}clone(){return new Hjt(null,n_t(this.bins))}static makeFromEncoding(t,e){const n=e.reduceFieldDef(((t,n,r)=>{if(VMt(n)&&PSt(n.bin)){const{key:i,binComponent:o}=Vjt(n,n.bin,e);t[i]=Object.assign(Object.assign(Object.assign({},o),t[i]),jjt(e,n,r,e.config))}return t}),{});return y_t(n)?null:new Hjt(t,n)}static makeFromTransform(t,e,n){const{key:r,binComponent:i}=Vjt(e,e.bin,n);return new Hjt(t,{[r]:i})}merge(t,e){for(const n of b_t(t.bins))n in this.bins?(e(t.bins[n].signal,this.bins[n].signal),this.bins[n].as=d_t([...this.bins[n].as,...t.bins[n].as],a_t)):this.bins[n]=t.bins[n];for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}producedFields(){return new Set(w_t(this.bins).map((t=>t.as)).flat(2))}dependentFields(){return new Set(w_t(this.bins).map((t=>t.field)))}hash(){return`Bin ${a_t(this.bins)}`}assemble(){return w_t(this.bins).flatMap((t=>{const e=[],[n,...r]=t.as,i=t.bin,{extent:o}=i,a=qxt(i,["extent"]),s=Object.assign(Object.assign(Object.assign({type:"bin",field:T_t(t.field),as:n,signal:t.signal},LSt(o)?{extent:null}:{extent:o}),t.span?{span:{signal:`span(${t.span})`}}:{}),a);!o&&t.extentSignal&&(e.push({type:"extent",field:T_t(t.field),signal:t.extentSignal}),s.extent={signal:t.extentSignal}),e.push(s);for(const u of r)for(let t=0;t<2;t++)e.push({type:"formula",expr:JMt({field:n[t]},{expr:"datum"}),as:u[t]});return t.formula&&e.push({type:"formula",expr:t.formula,as:t.formulaAs}),e}))}}class Wjt extends wNt{constructor(t){let e;if(super(null),t=null!==t&&void 0!==t?t:{name:"source"},a$t(t)||(e=t.format?Object.assign({},i_t(t.format,["parse"])):{}),i$t(t))this._data={values:t.values};else if(r$t(t)){if(this._data={url:t.url},!e.type){let n=/(?:\.([^.]+))?$/.exec(t.url)[1];u_t(["json","csv","tsv","dsv","topojson"],n)||(n="json"),e.type=n}}else u$t(t)?this._data={values:[{type:"Sphere"}]}:(o$t(t)||a$t(t))&&(this._data={});this._generator=a$t(t),t.name&&(this._name=t.name),e&&!y_t(e)&&(this._data.format=e)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return Object.assign(Object.assign({name:this._name},this._data),{transform:[]})}}function Yjt(t){for(const e of t){for(const t of e.children)if(t.parent!==e)return console.error("Dataflow graph is inconsistent.",e,t),!1;if(!Yjt(e.children))return!1}return!0}class Gjt extends wNt{constructor(t,e){super(t),this.params=e}clone(){return new Gjt(null,this.params)}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${a_t(this.params)}`}assemble(){return Object.assign({type:"graticule"},!0===this.params?{}:this.params)}}class Kjt extends wNt{constructor(t,e){super(t),this.params=e}clone(){return new Kjt(null,this.params)}dependentFields(){return new Set}producedFields(){var t;return new Set([null!==(t=this.params.as)&&void 0!==t?t:"data"])}hash(){return`Hash ${a_t(this.params)}`}assemble(){return Object.assign({type:"sequence"},this.params)}}function Xjt(t){return t instanceof Wjt||t instanceof Gjt||t instanceof Kjt}class Jjt{constructor(){this._mutated=!1}setMutated(){this._mutated=!0}get mutatedFlag(){return this._mutated}}class Zjt extends Jjt{constructor(){super(),this._continue=!1}setContinue(){this._continue=!0}get continueFlag(){return this._continue}get flags(){return{continueFlag:this.continueFlag,mutatedFlag:this.mutatedFlag}}set flags({continueFlag:t,mutatedFlag:e}){t&&this.setContinue(),e&&this.setMutated()}reset(){}optimizeNextFromLeaves(t){if(Xjt(t))return!1;const e=t.parent,{continueFlag:n}=this.run(t);return n&&this.optimizeNextFromLeaves(e),this.mutatedFlag}}class Qjt extends Jjt{}function tLt(t,e,n,r){const i=Izt(r)?r.encoding[WAt(e)]:void 0;if(VMt(n)&&Izt(r)&&$Mt(e,n,i,r.stack,r.markDef,r.config))t.add(JMt(n,{})),t.add(JMt(n,{suffix:"end"})),n.bin&&STt(n,e)&&t.add(JMt(n,{binSuffix:"range"}));else if(AAt(e)){const n=kAt(e);t.add(r.getName(n))}else t.add(JMt(n));return t}function eLt(t,e){var n;for(const r of b_t(e)){const i=e[r];for(const e of b_t(i))r in t?t[r][e]=new Set([...null!==(n=t[r][e])&&void 0!==n?n:[],...i[e]]):t[r]={[e]:i[e]}}}class nLt extends wNt{constructor(t,e,n){super(t),this.dimensions=e,this.measures=n}clone(){return new nLt(null,new Set(this.dimensions),n_t(this.measures))}get groupBy(){return this.dimensions}static makeFromEncoding(t,e){let n=!1;e.forEachFieldDef((t=>{t.aggregate&&(n=!0)}));const r={},i=new Set;return n?(e.forEachFieldDef(((t,n)=>{var o,a,s,u;const{aggregate:c,field:l}=t;if(c)if("count"===c)r["*"]=null!==(o=r["*"])&&void 0!==o?o:{},r["*"]["count"]=new Set([JMt(t,{forAs:!0})]);else{if(Tkt(c)||Fkt(c)){const t=Tkt(c)?"argmin":"argmax",e=c[t];r[e]=null!==(a=r[e])&&void 0!==a?a:{},r[e][t]=new Set([JMt({op:t,field:e},{forAs:!0})])}else r[l]=null!==(s=r[l])&&void 0!==s?s:{},r[l][c]=new Set([JMt(t,{forAs:!0})]);MSt(n)&&"unaggregated"===e.scaleDomain(n)&&(r[l]=null!==(u=r[l])&&void 0!==u?u:{},r[l]["min"]=new Set([JMt({field:l,aggregate:"min"},{forAs:!0})]),r[l]["max"]=new Set([JMt({field:l,aggregate:"max"},{forAs:!0})]))}else tLt(i,n,t,e)})),i.size+b_t(r).length===0?null:new nLt(t,i,r)):null}static makeFromTransform(t,e){var n,r,i;const o=new Set,a={};for(const s of e.aggregate){const{op:t,field:e,as:i}=s;t&&("count"===t?(a["*"]=null!==(n=a["*"])&&void 0!==n?n:{},a["*"]["count"]=new Set([i||JMt(s,{forAs:!0})])):(a[e]=null!==(r=a[e])&&void 0!==r?r:{},a[e][t]=new Set([i||JMt(s,{forAs:!0})])))}for(const s of null!==(i=e.groupby)&&void 0!==i?i:[])o.add(s);return o.size+b_t(a).length===0?null:new nLt(t,o,a)}merge(t){return p_t(this.dimensions,t.dimensions)?(eLt(this.measures,t.measures),!0):(uEt("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...b_t(this.measures)])}producedFields(){const t=new Set;for(const e of b_t(this.measures))for(const n of b_t(this.measures[e])){const r=this.measures[e][n];0===r.size?t.add(`${n}_${e}`):r.forEach(t.add,t)}return t}hash(){return`Aggregate ${a_t({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],e=[],n=[];for(const i of b_t(this.measures))for(const r of b_t(this.measures[i]))for(const o of this.measures[i][r])n.push(o),t.push(r),e.push("*"===i?null:T_t(i));const r={type:"aggregate",groupby:[...this.dimensions].map(T_t),ops:t,fields:e,as:n};return r}}class rLt extends wNt{constructor(t,e,n,r){super(t),this.model=e,this.name=n,this.data=r;for(const i of MAt){const t=e.facet[i];if(t){const{bin:n,sort:r}=t;this[i]=Object.assign({name:e.getName(`${i}_domain`),fields:[JMt(t),...PSt(n)?[JMt(t,{binSuffix:"end"})]:[]]},kMt(r)?{sortField:r}:Dxt(r)?{sortIndexField:SIt(t,i)}:{})}}this.childModel=e.child}hash(){let t="Facet";for(const e of MAt)this[e]&&(t+=` ${e.charAt(0)}:${a_t(this[e])}`);return t}get fields(){var t;const e=[];for(const n of MAt)(null===(t=this[n])||void 0===t?void 0:t.fields)&&e.push(...this[n].fields);return e}dependentFields(){const t=new Set(this.fields);for(const e of MAt)this[e]&&(this[e].sortField&&t.add(this[e].sortField.field),this[e].sortIndexField&&t.add(this[e].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const e of lSt){const n=this.childModel.component.scales[e];if(n&&!n.merged){const r=n.get("type"),i=n.get("range");if(MDt(r)&&BEt(i)){const n=QLt(this.childModel,e),r=ZLt(n);r?t[e]=r:sEt(`Unknown field for ${e}. Cannot calculate view size.`)}}}return t}assembleRowColumnHeaderData(t,e,n){const r={row:"y",column:"x"}[t],i=[],o=[],a=[];n&&n[r]&&(e?(i.push(`distinct_${n[r]}`),o.push("max")):(i.push(n[r]),o.push("distinct")),a.push(`distinct_${n[r]}`));const{sortField:s,sortIndexField:u}=this[t];if(s){const{op:t=bMt,field:e}=s;i.push(e),o.push(t),a.push(JMt(s,{forAs:!0}))}else u&&(i.push(u),o.push("max"),a.push(u));return{name:this[t].name,source:null!==e&&void 0!==e?e:this.data,transform:[Object.assign({type:"aggregate",groupby:this[t].fields},i.length?{fields:i,ops:o,as:a}:{})]}}assembleFacetHeaderData(t){var e,n;const{columns:r}=this.model.layout,{layoutHeaders:i}=this.model.component,o=[],a={};for(const c of MIt){for(const t of TIt){const r=null!==(e=i[c]&&i[c][t])&&void 0!==e?e:[];for(const t of r)if((null===(n=t.axes)||void 0===n?void 0:n.length)>0){a[c]=!0;break}}if(a[c]){const t=`length(data("${this.facet.name}"))`,e="row"===c?r?{signal:`ceil(${t} / ${r})`}:1:r?{signal:`min(${t}, ${r})`}:{signal:t};o.push({name:`${this.facet.name}_${c}`,transform:[{type:"sequence",start:0,stop:e}]})}}const{row:s,column:u}=a;return(s||u)&&o.unshift(this.assembleRowColumnHeaderData("facet",null,t)),o}assemble(){var t,e;const n=[];let r=null;const i=this.getChildIndependentFieldsWithStep(),{column:o,row:a,facet:s}=this;if(o&&a&&(i.x||i.y)){r=`cross_${this.column.name}_${this.row.name}`;const o=[].concat(null!==(t=i.x)&&void 0!==t?t:[],null!==(e=i.y)&&void 0!==e?e:[]),a=o.map((()=>"distinct"));n.push({name:r,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:o,ops:a}]})}for(const u of[Lkt,jkt])this[u]&&n.push(this.assembleRowColumnHeaderData(u,r,i));if(s){const t=this.assembleFacetHeaderData(i);t&&n.push(...t)}return n}}function iLt(t){return"'"===t[0]&&"'"===t[t.length-1]||'"'===t[0]&&'"'===t[t.length-1]?t.slice(1,-1):t}function oLt(t,e){const n=E_t(t);if("number"===e)return`toNumber(${n})`;if("boolean"===e)return`toBoolean(${n})`;if("string"===e)return`toString(${n})`;if("date"===e)return`toDate(${n})`;if("flatten"===e)return n;if(0===e.indexOf("date:")){const t=iLt(e.slice(5,e.length));return`timeParse(${n},'${t}')`}if(0===e.indexOf("utc:")){const t=iLt(e.slice(4,e.length));return`utcParse(${n},'${t}')`}return sEt(iCt(e)),null}function aLt(t){const e={};return Qxt(t.filter,(t=>{var n;if(ZEt(t)){let r=null;VEt(t)?r=t.equal:KEt(t)?r=t.range[0]:XEt(t)&&(r=(null!==(n=t.oneOf)&&void 0!==n?n:t["in"])[0]),r&&(cEt(r)?e[t.field]="date":jxt(r)?e[t.field]="number":Lxt(r)&&(e[t.field]="string")),t.timeUnit&&(e[t.field]="date")}})),e}function sLt(t){const e={};function n(t){xTt(t)?e[t.field]="date":"quantitative"===t.type&&Bkt(t.aggregate)?e[t.field]="number":$_t(t.field)>1?t.field in e||(e[t.field]="flatten"):WMt(t)&&kMt(t.sort)&&$_t(t.sort.field)>1&&(t.sort.field in e||(e[t.sort.field]="flatten"))}if((Izt(t)||jzt(t))&&t.forEachFieldDef(((e,r)=>{if(VMt(e))n(e);else{const i=VAt(r),o=t.fieldDef(i);n(Object.assign(Object.assign({},e),{type:o.type}))}})),Izt(t)){const{mark:n,markDef:r,encoding:i}=t;if(ckt(n)&&!t.encoding.order){const t="horizontal"===r.orient?"y":"x",n=i[t];IMt(n)&&"quantitative"===n.type&&!(n.field in e)&&(e[n.field]="number")}}return e}function uLt(t){const e={};if(Izt(t)&&t.component.selection)for(const n of b_t(t.component.selection)){const r=t.component.selection[n];for(const t of r.project.items)!t.channel&&$_t(t.field)>1&&(e[t.field]="flatten")}return e}class cLt extends wNt{constructor(t,e){super(t),this._parse=e}clone(){return new cLt(null,n_t(this._parse))}hash(){return`Parse ${a_t(this._parse)}`}static makeExplicit(t,e,n){let r={};const i=e.data;return!a$t(i)&&i&&i.format&&i.format.parse&&(r=i.format.parse),this.makeWithAncestors(t,r,{},n)}static makeWithAncestors(t,e,n,r){for(const a of b_t(n)){const t=r.getWithExplicit(a);void 0!==t.value&&(t.explicit||t.value===n[a]||"derived"===t.value||"flatten"===n[a]?delete n[a]:sEt(oCt(a,n[a],t.value)))}for(const a of b_t(e)){const t=r.get(a);void 0!==t&&(t===e[a]?delete e[a]:sEt(oCt(a,e[a],t)))}const i=new XOt(e,n);r.copyAll(i);const o={};for(const a of b_t(i.combine())){const t=i.get(a);null!==t&&(o[a]=t)}return 0===b_t(o).length||r.parseNothing?null:new cLt(t,o)}get parse(){return this._parse}merge(t){this._parse=Object.assign(Object.assign({},this._parse),t.parse),t.remove()}assembleFormatParse(){const t={};for(const e of b_t(this._parse)){const n=this._parse[e];1===$_t(e)&&(t[e]=n)}return t}producedFields(){return new Set(b_t(this._parse))}dependentFields(){return new Set(b_t(this._parse))}assembleTransforms(t=!1){return b_t(this._parse).filter((e=>!t||$_t(e)>1)).map((t=>{const e=oLt(t,this._parse[t]);if(!e)return null;const n={type:"formula",expr:e,as:O_t(t)};return n})).filter((t=>null!==t))}}class lLt extends wNt{clone(){return new lLt(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([NFt])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:NFt}}}class fLt extends wNt{constructor(t,e){super(t),this.transform=e}clone(){return new fLt(null,n_t(this.transform))}addDimensions(t){this.transform.groupby=d_t(this.transform.groupby.concat(t),(t=>t))}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map((t=>t.field)).filter((t=>void 0!==t)).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){var e;return null!==(e=t.as)&&void 0!==e?e:JMt(t)}hash(){return`JoinAggregateTransform ${a_t(this.transform)}`}assemble(){const t=[],e=[],n=[];for(const i of this.transform.joinaggregate)e.push(i.op),n.push(this.getDefaultName(i)),t.push(void 0===i.field?null:i.field);const r=this.transform.groupby;return Object.assign({type:"joinaggregate",as:n,ops:e,fields:t},void 0!==r?{groupby:r}:{})}}function hLt(t){return t.stack.stackBy.reduce(((t,e)=>{const n=e.fieldDef,r=JMt(n);return r&&t.push(r),t}),[])}function dLt(t){return Dxt(t)&&t.every((t=>Lxt(t)))&&t.length>1}class pLt extends wNt{constructor(t,e){super(t),this._stack=e}clone(){return new pLt(null,n_t(this._stack))}static makeFromTransform(t,e){const{stack:n,groupby:r,as:i,offset:o="zero"}=e,a=[],s=[];if(void 0!==e.sort)for(const l of e.sort)a.push(l.field),s.push(N_t(l.order,"ascending"));const u={field:a,order:s};let c;return c=dLt(i)?i:Lxt(i)?[i,i+"_end"]:[e.stack+"_start",e.stack+"_end"],new pLt(t,{stackField:n,groupby:r,offset:o,sort:u,facetby:[],as:c})}static makeFromEncoding(t,e){const n=e.stack,{encoding:r}=e;if(!n)return null;const{groupbyChannel:i,fieldChannel:o,offset:a,impute:s}=n;let u;if(i){const t=r[i];u=hTt(t)}const c=hLt(e),l=e.encoding.order;let f;return f=Dxt(l)||IMt(l)?PTt(l):c.reduce(((t,e)=>(t.field.push(e),t.order.push("y"===o?"descending":"ascending"),t)),{field:[],order:[]}),new pLt(t,{dimensionFieldDef:u,stackField:e.vgField(o),facetby:[],stackby:c,sort:f,offset:a,impute:s,as:[e.vgField(o,{suffix:"start",forAs:!0}),e.vgField(o,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${a_t(this._stack)}`}getGroupbyFields(){const{dimensionFieldDef:t,impute:e,groupby:n}=this._stack;return t?t.bin?e?[JMt(t,{binSuffix:"mid"})]:[JMt(t,{}),JMt(t,{binSuffix:"end"})]:[JMt(t)]:null!==n&&void 0!==n?n:[]}assemble(){const t=[],{facetby:e,dimensionFieldDef:n,stackField:r,stackby:i,sort:o,offset:a,impute:s,as:u}=this._stack;if(s&&n){const{band:o=.5,bin:a}=n;a&&t.push({type:"formula",expr:`${o}*`+JMt(n,{expr:"datum"})+`+${1-o}*`+JMt(n,{expr:"datum",binSuffix:"end"}),as:JMt(n,{binSuffix:"mid",forAs:!0})}),t.push({type:"impute",field:r,groupby:[...i,...e],key:JMt(n,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...e],field:r,sort:o,as:u,offset:a}),t}}class gLt extends wNt{constructor(t,e){super(t),this.transform=e}clone(){return new gLt(null,n_t(this.transform))}addDimensions(t){this.transform.groupby=d_t(this.transform.groupby.concat(t),(t=>t))}dependentFields(){var t,e;const n=new Set;return(null!==(t=this.transform.groupby)&&void 0!==t?t:[]).forEach(n.add,n),(null!==(e=this.transform.sort)&&void 0!==e?e:[]).forEach((t=>n.add(t.field))),this.transform.window.map((t=>t.field)).filter((t=>void 0!==t)).forEach(n.add,n),n}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){var e;return null!==(e=t.as)&&void 0!==e?e:JMt(t)}hash(){return`WindowTransform ${a_t(this.transform)}`}assemble(){var t;const e=[],n=[],r=[],i=[];for(const f of this.transform.window)n.push(f.op),r.push(this.getDefaultName(f)),i.push(void 0===f.param?null:f.param),e.push(void 0===f.field?null:f.field);const o=this.transform.frame,a=this.transform.groupby;if(o&&null===o[0]&&null===o[1]&&n.every((t=>Okt(t))))return Object.assign({type:"joinaggregate",as:r,ops:n,fields:e},void 0!==a?{groupby:a}:{});const s=[],u=[];if(void 0!==this.transform.sort)for(const f of this.transform.sort)s.push(f.field),u.push(null!==(t=f.order)&&void 0!==t?t:"ascending");const c={field:s,order:u},l=this.transform.ignorePeers;return Object.assign(Object.assign(Object.assign({type:"window",params:i,as:r,ops:n,fields:e,sort:c},void 0!==l?{ignorePeers:l}:{}),void 0!==a?{groupby:a}:{}),void 0!==o?{frame:o}:{})}}class mLt extends Zjt{run(t){const e=t.parent;if(t instanceof cLt){if(Xjt(e))return this.flags;if(e.numChildren()>1)return this.setContinue(),this.flags;if(e instanceof cLt)this.setMutated(),e.merge(t);else{if(v_t(e.producedFields(),t.dependentFields()))return this.setContinue(),this.flags;this.setMutated(),t.swapWithParent()}}return this.setContinue(),this.flags}}class vLt extends Qjt{mergeNodes(t,e){const n=e.shift();for(const r of e)t.removeChild(r),r.parent=n,r.remove()}run(t){const e=t.children.map((t=>t.hash())),n={};for(let r=0;r<e.length;r++)void 0===n[e[r]]?n[e[r]]=[t.children[r]]:n[e[r]].push(t.children[r]);for(const r of b_t(n))n[r].length>1&&(this.setMutated(),this.mergeNodes(t,n[r]));for(const r of t.children)this.run(r);return this.mutatedFlag}}class yLt extends Zjt{run(t){return t instanceof xNt||t.numChildren()>0||t instanceof rLt||(this.setMutated(),t.remove()),this.flags}}class bLt extends Zjt{constructor(){super(...arguments),this.fields=new Set,this.prev=null}run(t){if(this.setContinue(),t instanceof _Nt){const e=t.producedFields();g_t(e,this.fields)?(this.setMutated(),this.prev.remove()):this.fields=new Set([...this.fields,...e]),this.prev=t}return this.flags}reset(){this.fields.clear()}}class wLt extends Zjt{run(t){this.setContinue();const e=t.parent,n=e.children.filter((t=>t instanceof _Nt)),r=n.pop();for(const i of n)this.setMutated(),r.merge(i);return this.flags}}function xLt(t){function e(n){if(!(n instanceof rLt)){const r=n.clone();if(r instanceof xNt){const e=TLt+r.getSource();r.setSource(e),t.model.component.data.outputNodes[e]=r}else(r instanceof nLt||r instanceof pLt||r instanceof gLt||r instanceof fLt)&&r.addDimensions(t.fields);for(const t of n.children.flatMap(e))t.parent=r;return[r]}return n.children.flatMap(e)}return e}function _Lt(t){if(t instanceof rLt)if(1!==t.numChildren()||t.children[0]instanceof xNt){const e=t.model.component.data.main;kLt(e);const n=xLt(t),r=t.children.map(n).flat();for(const t of r)t.parent=e}else{const e=t.children[0];(e instanceof nLt||e instanceof pLt||e instanceof gLt||e instanceof fLt)&&e.addDimensions(t.fields),e.swapWithParent(),_Lt(t)}else t.children.map(_Lt)}function kLt(t){if(t instanceof xNt&&t.type===l$t&&1===t.numChildren()){const e=t.children[0];e instanceof rLt||(e.swapWithParent(),kLt(t))}}class ALt extends Qjt{constructor(){super()}run(t){t instanceof xNt&&!t.isRequired()&&(this.setMutated(),t.remove());for(const e of t.children)this.run(e);return this.mutatedFlag}}class SLt extends Qjt{constructor(t){super(),this.requiresSelectionId=t&&EBt(t)}run(t){t instanceof lLt&&(this.requiresSelectionId&&(Xjt(t.parent)||t.parent instanceof nLt||t.parent instanceof cLt)||(this.setMutated(),t.remove()));for(const e of t.children)this.run(e);return this.mutatedFlag}}class CLt extends Zjt{run(t){const e=t.parent,n=[...e.children],r=e.children.filter((t=>t instanceof cLt));if(e.numChildren()>1&&r.length>=1){const t={},i=new Set;for(const e of r){const n=e.parse;for(const e of b_t(n))e in t?t[e]!==n[e]&&i.add(e):t[e]=n[e]}for(const e of i)delete t[e];if(!y_t(t)){this.setMutated();const r=new cLt(e,t);for(const i of n){if(i instanceof cLt)for(const e of b_t(t))delete i.parse[e];e.removeChild(i),i.parent=r,i instanceof cLt&&0===b_t(i.parse).length&&i.remove()}}}return this.setContinue(),this.flags}}class ELt extends Zjt{run(t){const e=t.parent,n=e.children.filter((t=>t instanceof nLt)),r={};for(const i of n){const t=a_t(i.groupBy);t in r||(r[t]=[]),r[t].push(i)}for(const i of b_t(r)){const t=r[i];if(t.length>1){const n=t.pop();for(const r of t)n.merge(r)&&(e.removeChild(r),r.parent=n,r.remove(),this.setMutated())}}return this.setContinue(),this.flags}}class DLt extends Zjt{constructor(t){super(),this.model=t}run(t){const e=t.parent,n=!(Xjt(e)||e instanceof HPt||e instanceof cLt||e instanceof lLt),r=[],i=[];for(const o of e.children)o instanceof Hjt&&(n&&!v_t(e.producedFields(),o.dependentFields())?r.push(o):i.push(o));if(r.length>0){const t=r.pop();for(const e of r)t.merge(e,this.model.renameSignal.bind(this.model));this.setMutated(),e instanceof Hjt?e.merge(t,this.model.renameSignal.bind(this.model)):t.swapWithParent()}if(i.length>1){const t=i.pop();for(const e of i)t.merge(e,this.model.renameSignal.bind(this.model));this.setMutated()}return this.setContinue(),this.flags}}class MLt extends Zjt{run(t){const e=t.parent,n=[...e.children],r=c_t(n,(t=>t instanceof xNt));if(!r||e.numChildren()<=1)return this.setContinue(),this.flags;const i=[];let o;for(const a of n)if(a instanceof xNt){let t=a;while(1===t.numChildren()){const e=t.children[0];if(!(e instanceof xNt))break;t=e}i.push(...t.children),o?(e.removeChild(a),a.parent=o.parent,o.parent.removeChild(o),o.parent=t,this.setMutated()):o=t}else i.push(a);if(i.length){this.setMutated();for(const t of i)t.parent.removeChild(t),t.parent=o}return this.setContinue(),this.flags}}const TLt="scale_",FLt=5;function OLt(t){const e=[];function n(t){if(0===t.numChildren())e.push(t);else for(const e of t.children)n(e)}for(const r of t)n(r);return e}function $Lt(t){return t}function NLt(t,e){const n=e.map((e=>{if(t instanceof Zjt){const n=t.optimizeNextFromLeaves(e);return t.reset(),n}return t.run(e)}));return n.some($Lt)}function BLt(t,e){let n=t.sources;const r=new Set;return r.add(NLt(new ALt,n)),r.add(NLt(new SLt(e),n)),n=n.filter((t=>t.numChildren()>0)),r.add(NLt(new yLt,OLt(n))),n=n.filter((t=>t.numChildren()>0)),r.add(NLt(new mLt,OLt(n))),r.add(NLt(new DLt(e),OLt(n))),r.add(NLt(new bLt,OLt(n))),r.add(NLt(new CLt,OLt(n))),r.add(NLt(new ELt,OLt(n))),r.add(NLt(new wLt,OLt(n))),r.add(NLt(new vLt,n)),r.add(NLt(new MLt,OLt(n))),t.sources=n,r.has(!0)}function RLt(t,e){Yjt(t.sources);let n=0,r=0;for(let i=0;i<FLt;i++){if(!BLt(t,e))break;n++}t.sources.map(_Lt);for(let i=0;i<FLt;i++){if(!BLt(t,e))break;r++}Yjt(t.sources),Math.max(n,r)===FLt&&sEt(`Maximum optimization runs(${FLt}) reached.`)}class PLt{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,e){return new PLt((()=>t(e)))}}function ILt(t){Izt(t)?jLt(t):LLt(t)}function jLt(t){const e=t.component.scales;for(const n of b_t(e)){const r=ULt(t,n),i=e[n];if(i.setWithExplicit("domains",r),YLt(t,n),t.component.data.isFaceted){let e=t;while(!jzt(e)&&e.parent)e=e.parent;const i=e.component.resolve.scale[n];if("shared"===i)for(const t of r.value)IEt(t)&&(t.data=TLt+t.data.replace(TLt,""))}}}function LLt(t){for(const n of t.children)ILt(n);const e=t.component.scales;for(const n of b_t(e)){let r,i=null;for(const e of t.children){const t=e.component.scales[n];if(t){r=void 0===r?t.getWithExplicit("domains"):e$t(r,t.getWithExplicit("domains"),"domains","scale",XLt);const e=t.get("selectionExtent");i&&e&&i.selection!==e.selection&&sEt("The same selection must be used to override scale domains in a layered view."),i=e}}e[n].setWithExplicit("domains",r),i&&e[n].set("selectionExtent",i,!0)}}function zLt(t,e,n,r){if("unaggregated"===t){const{valid:t,reason:r}=KLt(e,n);if(!t)return void sEt(r)}else if(void 0===t&&r.useUnaggregatedDomain){const{valid:t}=KLt(e,n);if(t)return"unaggregated"}return t}function ULt(t,e){const n=t.getScaleComponent(e).get("type"),{encoding:r}=t,i=zLt(t.scaleDomain(e),t.typedFieldDef(e),n,t.config.scale);return i!==t.scaleDomain(e)&&(t.specifiedScales[e]=Object.assign(Object.assign({},t.specifiedScales[e]),{domain:i})),"x"===e&&dTt(r.x2)?dTt(r.x)?e$t(HLt(n,i,t,"x"),HLt(n,i,t,"x2"),"domain","scale",XLt):HLt(n,i,t,"x2"):"y"===e&&dTt(r.y2)?dTt(r.y)?e$t(HLt(n,i,t,"y"),HLt(n,i,t,"y2"),"domain","scale",XLt):HLt(n,i,t,"y2"):HLt(n,i,t,e)}function qLt(t,e,n){return t.map((t=>{const r=kTt(t,{timeUnit:n,type:e});return{signal:`{data: ${r}}`}}))}function VLt(t,e,n){var r;const i=null===(r=OEt(n))||void 0===r?void 0:r.unit;return"temporal"===e||i?qLt(t,e,i):[t]}function HLt(t,e,n,r){const{encoding:i}=n,o=dTt(i[r]),{type:a}=o,s=o["timeUnit"];if(RDt(e)){const i=HLt(t,void 0,n,r),o=VLt(e.unionWith,a,s);return JOt([...i.value,...o])}if(NEt(e))return JOt([e]);if(e&&"unaggregated"!==e&&!BDt(e))return JOt(VLt(e,a,s));const u=n.stack;if(u&&r===u.fieldChannel){if("normalize"===u.offset)return ZOt([[0,1]]);const t=n.requestDataName(l$t);return ZOt([{data:t,field:n.vgField(r,{suffix:"start"})},{data:t,field:n.vgField(r,{suffix:"end"})}])}const c=MSt(r)&&IMt(o)?GLt(n,r,t):void 0;if(LMt(o)){const t=VLt([o.datum],a,s);return ZOt(t)}const l=o;if("unaggregated"===e){const t=n.requestDataName(l$t),{field:e}=o;return ZOt([{data:t,field:JMt({field:e,aggregate:"min"})},{data:t,field:JMt({field:e,aggregate:"max"})}])}if(PSt(l.bin)){if(MDt(t))return ZOt("bin-ordinal"===t?[]:[{data:__t(c)?n.requestDataName(l$t):n.requestDataName(f$t),field:n.vgField(r,STt(l,r)?{binSuffix:"range"}:{}),sort:!0!==c&&Mxt(c)?c:{field:n.vgField(r,{}),op:"min"}}]);{const{bin:t}=l;if(PSt(t)){const e=Ujt(n,l.field,t);return ZOt([new PLt((()=>{const t=n.getSignalName(e);return`[${t}.start, ${t}.stop]`}))])}return ZOt([{data:n.requestDataName(l$t),field:n.vgField(r,{})}])}}if(l.timeUnit&&u_t(["time","utc"],t)&&$Mt(r,l,Izt(n)?n.encoding[WAt(r)]:void 0,n.stack,n.markDef,n.config)){const t=n.requestDataName(l$t);return ZOt([{data:t,field:n.vgField(r)},{data:t,field:n.vgField(r,{suffix:"end"})}])}return ZOt(c?[{data:__t(c)?n.requestDataName(l$t):n.requestDataName(f$t),field:n.vgField(r),sort:c}]:[{data:n.requestDataName(l$t),field:n.vgField(r)}])}function WLt(t,e){const{op:n,field:r,order:i}=t;return Object.assign(Object.assign({op:null!==n&&void 0!==n?n:e?"sum":bMt},r?{field:T_t(r)}:{}),i?{order:i}:{})}function YLt(t,e){var n;const r=t.component.scales[e],i=t.specifiedScales[e].domain,o=null===(n=t.fieldDef(e))||void 0===n?void 0:n.bin,a=BDt(i)&&i,s=jSt(o)&&LSt(o.extent)&&o.extent;(a||s)&&r.set("selectionExtent",null!==a&&void 0!==a?a:s,!0)}function GLt(t,e,n){if(!MDt(n))return;const r=t.fieldDef(e),i=r.sort;if(AMt(i))return{op:"min",field:SIt(r,e),order:"ascending"};const{stack:o}=t,a=o?[...o.groupbyField?[o.groupbyField]:[],...o.stackBy.map((t=>t.fieldDef.field))]:void 0;if(kMt(i)){const t=o&&!u_t(a,i.field);return WLt(i,t)}if(_Mt(i)){const{encoding:e,order:n}=i,r=t.fieldDef(e),{aggregate:s,field:u}=r,c=o&&!u_t(a,u);if(Tkt(s)||Fkt(s))return WLt({field:JMt(r),order:n},c);if(Okt(s)||!s)return WLt({op:s,field:u,order:n},c)}else{if("descending"===i)return{op:"min",field:t.vgField(e),order:"descending"};if(u_t(["ascending",void 0],i))return!0}}function KLt(t,e){const{aggregate:n,type:r}=t;return n?Lxt(n)&&!Ikt[n]?{valid:!1,reason:TCt(n)}:"quantitative"===r&&"log"===e?{valid:!1,reason:FCt(t)}:{valid:!0}:{valid:!1,reason:MCt(t)}}function XLt(t,e,n,r){return t.explicit&&e.explicit&&sEt(ICt(n,r,t.value,e.value)),{explicit:t.explicit,value:[...t.value,...e.value]}}function JLt(t){const e=d_t(t.map((t=>{if(IEt(t)){const{sort:e}=t,n=qxt(t,["sort"]);return n}return t})),a_t),n=d_t(t.map((t=>{if(IEt(t)){const e=t.sort;return void 0===e||__t(e)||("op"in e&&"count"===e.op&&delete e.field,"ascending"===e.order&&delete e.order),e}})).filter((t=>void 0!==t)),a_t);if(0===e.length)return;if(1===e.length){const e=t[0];if(IEt(e)&&n.length>0){let t=n[0];if(n.length>1)sEt(zCt),t=!0;else if(Mxt(t)&&"field"in t){const n=t.field;e.field===n&&(t=!t.order||{order:t.order})}return Object.assign(Object.assign({},e),{sort:t})}return e}const r=d_t(n.map((t=>__t(t)||!("op"in t)||t.op in Mkt?t:(sEt(LCt(t)),!0))),a_t);let i;1===r.length?i=r[0]:r.length>1&&(sEt(zCt),i=!0);const o=d_t(t.map((t=>IEt(t)?t.data:null)),(t=>t));if(1===o.length&&null!==o[0]){const t=Object.assign({data:o[0],fields:e.map((t=>t.field))},i?{sort:i}:{});return t}return Object.assign({fields:e},i?{sort:i}:{})}function ZLt(t){if(IEt(t)&&Lxt(t.field))return t.field;if(REt(t)){let e;for(const n of t.fields)if(IEt(n)&&Lxt(n.field))if(e){if(e!==n.field)return sEt(UCt),e}else e=n.field;return sEt(qCt),e}if(PEt(t)){sEt(VCt);const e=t.fields[0];return Lxt(e)?e:void 0}}function QLt(t,e){const n=t.component.scales[e],r=n.get("domains").map((e=>(IEt(e)&&(e.data=t.lookupDataSource(e.data)),e)));return JLt(r)}function tzt(t){return zzt(t)||Lzt(t)?t.children.reduce(((t,e)=>t.concat(tzt(e))),ezt(t)):ezt(t)}function ezt(t){return b_t(t.component.scales).reduce(((e,n)=>{const r=t.component.scales[n];if(r.merged)return e;const i=r.combine(),{name:o,type:a,selectionExtent:s,domains:u,range:c,reverse:l}=i,f=qxt(i,["name","type","selectionExtent","domains","range","reverse"]),h=nzt(i.range,o,n);let d;s&&(d=aBt(t,s));const p=QLt(t,n);return e.push(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:o,type:a},p?{domain:p}:{}),d?{domainRaw:d}:{}),{range:h}),void 0!==l?{reverse:l}:{}),f)),e}),[])}function nzt(t,e,n){return fSt(n)&&BEt(t)?{step:{signal:e+"_step"}}:t}class rzt extends XOt{constructor(t,e){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",e)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")||c_t(this.get("domains"),(t=>Dxt(t)&&2===t.length&&t[0]<=0&&t[1]>=0))}}const izt=["range","scheme"];function ozt(t){return"x"===t?"width":"y"===t?"height":void 0}function azt(t){const e=t.component.scales;for(const n of DSt){const r=e[n];if(!r)continue;const i=uzt(n,t);r.setWithExplicit("range",i)}}function szt(t,e){const n=t.fieldDef(e);if(n&&n.bin&&PSt(n.bin)){const r=Ujt(t,n.field,n.bin),i=ozt(e),o=t.getName(i);return new PLt((()=>{const e=t.getSignalName(r),n=`(${e}.stop - ${e}.start) / ${e}.step`;return`${t.getSignalName(o)} / (${n})`}))}}function uzt(t,e){const n=e.specifiedScales[t],{size:r}=e,i=e.getScaleComponent(t),o=i.get("type");for(const a of izt)if(void 0!==n[a]){const r=VDt(o,a),i=HDt(t,a);if(r)if(i)sEt(i);else switch(a){case"range":return Dxt(n.range)&&fSt(t)?JOt(n.range.map((t=>{if("width"===t||"height"===t){const n=e.getName(t),r=e.getSignalName.bind(e);return PLt.fromName(r,n)}return t}))):JOt(n.range);case"scheme":return JOt(czt(n[a]))}else sEt(BCt(o,a,t))}if(t===Ukt||t===qkt){const e=t===Ukt?"width":"height",n=r[e];if(UFt(n)){if(MDt(o))return JOt({step:n.step});sEt(RCt(e))}}return ZOt(lzt(t,e))}function czt(t){return NDt(t)?Object.assign({scheme:t.name},i_t(t,["name"])):{scheme:t}}function lzt(t,e){const{size:n,config:r,mark:i,encoding:o}=e,a=e.getSignalName.bind(e),{type:s}=dTt(o[t]),u=e.getScaleComponent(t),c=u.get("type"),{domain:l,domainMid:f}=e.specifiedScales[t];switch(t){case Ukt:case qkt:{if(u_t(["point","band"],c))if(t!==Ukt||n.width){if(t===qkt&&!n.height){const t=XFt(r.view,"height");if(UFt(t))return t}}else{const t=XFt(r.view,"width");if(UFt(t))return t}const i=ozt(t),o=e.getName(i);return t===qkt&&TDt(c)?[PLt.fromName(a,o),0]:[0,PLt.fromName(a,o)]}case iAt:{const o=e.component.scales[t].get("zero"),a=dzt(i,o,r),s=gzt(i,n,e,r);return ODt(c)?hzt(a,s,fzt(c,r,l,t)):[a,s]}case Gkt:return[0,2*Math.PI];case oAt:return[0,360];case Wkt:return[0,new PLt((()=>{const t=e.getSignalName("width"),n=e.getSignalName("height");return`min(${t},${n})/2`}))];case cAt:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case lAt:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case rAt:return"symbol";case tAt:case eAt:case nAt:return"ordinal"===c?"nominal"===s?"category":"ordinal":void 0!==f?"diverging":"rect"===i||"geoshape"===i?"heatmap":"ramp";case aAt:case sAt:case uAt:return[r.scale.minOpacity,r.scale.maxOpacity]}throw new Error(`Scale range undefined for channel ${t}`)}function fzt(t,e,n,r){switch(t){case"quantile":return e.scale.quantileCount;case"quantize":return e.scale.quantizeCount;case"threshold":return void 0!==n&&Dxt(n)?n.length+1:(sEt(nEt(r)),3)}}function hzt(t,e,n){const r=()=>{const r=TTt(e),i=TTt(t),o=`(${r} - ${i}) / (${n} - 1)`;return`sequence(${i}, ${r} + ${o}, ${o})`};return NEt(e)?new PLt(r):{signal:r()}}function dzt(t,e,n){if(e)return NEt(e)?{signal:`${e.signal} ? 0 : ${dzt(t,!1,n)}`}:0;switch(t){case"bar":case"tick":return n.scale.minBandSize;case"line":case"trail":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(wCt("size",t))}const pzt=.95;function gzt(t,e,n,r){const i={x:szt(n,"x"),y:szt(n,"y")};switch(t){case"bar":case"tick":{if(void 0!==r.scale.maxBandSize)return r.scale.maxBandSize;const t=mzt(e,i,r.view);return jxt(t)?t-1:new PLt((()=>`${t.signal} - 1`))}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const t=mzt(e,i,r.view);return jxt(t)?Math.pow(pzt*t,2):new PLt((()=>`pow(${pzt} * ${t.signal}, 2)`))}}throw new Error(wCt("size",t))}function mzt(t,e,n){const r=UFt(t.width)?t.width.step:KFt(n,"width"),i=UFt(t.height)?t.height.step:KFt(n,"height");return e.x||e.y?new PLt((()=>{const t=[e.x?e.x.signal:r,e.y?e.y.signal:i];return`min(${t.join(", ")})`})):Math.min(r,i)}function vzt(t,e){Izt(t)?yzt(t,e):xzt(t,e)}function yzt(t,e){const n=t.component.scales,{config:r,encoding:i,markDef:o,specifiedScales:a}=t;for(const s of b_t(n)){const u=a[s],c=n[s],l=t.getScaleComponent(s),f=dTt(i[s]),h=u[e],d=l.get("type"),p=l.get("padding"),g=l.get("paddingInner"),m=VDt(d,e),v=HDt(s,e);if(void 0!==h&&(m?v&&sEt(v):sEt(BCt(d,e,s))),m&&void 0===v)if(void 0!==h)c.copyKeyFromObject(e,u);else{const n=e in bzt?bzt[e]({model:t,channel:s,fieldOrDatumDef:f,scaleType:d,scalePadding:p,scalePaddingInner:g,domain:u.domain,markDef:o,config:r}):r.scale[e];void 0!==n&&c.set(e,n,!1)}}}const bzt={bins:({model:t,fieldOrDatumDef:e})=>IMt(e)?_zt(t,e):void 0,interpolate:({channel:t,fieldOrDatumDef:e})=>kzt(t,e.type),nice:({scaleType:t,channel:e,fieldOrDatumDef:n})=>Azt(t,e,n),padding:({channel:t,scaleType:e,fieldOrDatumDef:n,markDef:r,config:i})=>Szt(t,e,i.scale,n,r,i.bar),paddingInner:({scalePadding:t,channel:e,markDef:n,config:r})=>Czt(t,e,n.type,r.scale),paddingOuter:({scalePadding:t,channel:e,scaleType:n,markDef:r,scalePaddingInner:i,config:o})=>Ezt(t,e,n,r.type,i,o.scale),reverse:({fieldOrDatumDef:t,scaleType:e,channel:n,config:r})=>{const i=IMt(t)?t.sort:void 0;return Dzt(e,i,n,r.scale)},zero:({channel:t,fieldOrDatumDef:e,domain:n,markDef:r,scaleType:i})=>Mzt(t,e,n,r,i)};function wzt(t){Izt(t)?azt(t):xzt(t,"range")}function xzt(t,e){const n=t.component.scales;for(const r of t.children)"range"===e?wzt(r):vzt(r,e);for(const r of b_t(n)){let i;for(const n of t.children){const t=n.component.scales[r];if(t){const n=t.getWithExplicit(e);i=e$t(i,n,e,"scale",QOt(((t,n)=>{switch(e){case"range":return t.step&&n.step?t.step-n.step:0}return 0})))}}n[r].setWithExplicit(e,i)}}function _zt(t,e){const n=e.bin;if(PSt(n)){const r=Ujt(t,e.field,n);return new PLt((()=>t.getSignalName(r)))}if(ISt(n)&&jSt(n)&&void 0!==n.step)return{step:n.step}}function kzt(t,e){if(u_t([tAt,eAt,nAt],t)&&"nominal"!==e)return"hcl"}function Azt(t,e,n){var r;if(!(null===(r=hTt(n))||void 0===r?void 0:r.bin)&&!u_t([hDt.TIME,hDt.UTC],t))return e in cSt||void 0}function Szt(t,e,n,r,i,o){if(t in cSt){if(FDt(e)){if(void 0!==n.continuousPadding)return n.continuousPadding;const{type:e,orient:a}=i;if("bar"===e&&(!IMt(r)||!r.bin&&!r.timeUnit)&&("vertical"===a&&"x"===t||"horizontal"===a&&"y"===t))return o.continuousBandSize}if(e===hDt.POINT)return n.pointPadding}}function Czt(t,e,n,r){if(void 0===t&&e in cSt){const{bandPaddingInner:t,barBandPaddingInner:e,rectBandPaddingInner:i}=r;return N_t(t,"bar"===n?e:i)}}function Ezt(t,e,n,r,i,o){if(void 0===t&&e in cSt&&n===hDt.BAND){const{bandPaddingOuter:t}=o;return N_t(t,NEt(i)?{signal:`${i.signal}/2`}:i/2)}}function Dzt(t,e,n,r){return"x"===n&&void 0!==r.xReverse?TDt(t)&&"descending"===e?NEt(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse:!(!TDt(t)||"descending"!==e)||void 0}function Mzt(t,e,n,r,i){const o=!!n&&"unaggregated"!==n;if(o&&TDt(i)){if(Dxt(n)){const t=n[0],e=n[n.length-1];if(t<=0&&e>=0)return!0}return!1}if("size"===t&&"quantitative"===e.type&&!ODt(i))return!0;if((!IMt(e)||!e.bin)&&u_t([...lSt,...dSt],t)){const{orient:e,type:n}=r;return!u_t(["bar","area","line","trail"],n)||!("horizontal"===e&&"y"===t||"vertical"===e&&"x"===t)}return!1}function Tzt(t,e,n,r){const i=Fzt(e,n,r),{type:o}=t;return MSt(e)?void 0!==o?YDt(e,o)?IMt(n)&&!WDt(o,n.type)?(sEt(NCt(o,i)),i):o:(sEt($Ct(e,o,i)),i):i:null}function Fzt(t,e,n){var r;switch(e.type){case"nominal":case"ordinal":if(EAt(t)||"discrete"===BSt(t))return"shape"===t&&"ordinal"===e.type&&sEt(ACt(t,"ordinal")),"ordinal";if(t in cSt){if(u_t(["rect","bar","image","rule"],n))return"band"}else if("arc"===n&&t in hSt)return"band";return void 0!==e.band||YMt(e)&&(null===(r=e.axis)||void 0===r?void 0:r.tickBand)?"band":"point";case"temporal":return EAt(t)?"time":"discrete"===BSt(t)?(sEt(ACt(t,"temporal")),"ordinal"):IMt(e)&&e.timeUnit&&OEt(e.timeUnit).utc?"utc":"time";case"quantitative":return EAt(t)?IMt(e)&&PSt(e.bin)?"bin-ordinal":"linear":"discrete"===BSt(t)?(sEt(ACt(t,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(dCt(e.type))}function Ozt(t,{ignoreRange:e}={}){$zt(t),ILt(t);for(const n of qDt)vzt(t,n);e||wzt(t)}function $zt(t){Izt(t)?t.component.scales=Nzt(t):t.component.scales=Rzt(t)}function Nzt(t){const{encoding:e,mark:n}=t;return DSt.reduce(((r,i)=>{const o=dTt(e[i]);if(o&&n===ukt&&i===rAt&&o.type===cDt)return r;let a=o&&o["scale"];if(o&&null!==a&&!1!==a){a=null!==a&&void 0!==a?a:{};const e=Tzt(a,i,o,n);r[i]=new rzt(t.scaleName(i+"",!0),{value:e,explicit:a.type===e})}return r}),{})}const Bzt=QOt(((t,e)=>vDt(t)-vDt(e)));function Rzt(t){var e;const n=t.component.scales={},r={},i=t.component.resolve;for(const o of t.children){$zt(o);for(const n of b_t(o.component.scales))if(i.scale[n]=null!==(e=i.scale[n])&&void 0!==e?e:GIt(n,t),"shared"===i.scale[n]){const t=r[n],e=o.component.scales[n].getWithExplicit("type");t?gDt(t.value,e.value)?r[n]=e$t(t,e,"type","scale",Bzt):(i.scale[n]="independent",delete r[n]):r[n]=e}}for(const o of b_t(r)){const e=t.scaleName(o,!0),i=r[o];n[o]=new rzt(e,i);for(const n of t.children){const t=n.component.scales[o];t&&(n.renameScale(t.get("name"),e),t.merged=!0)}}return n}class Pzt{constructor(){this.nameMap={}}rename(t,e){this.nameMap[t]=e}has(t){return void 0!==this.nameMap[t]}get(t){while(this.nameMap[t]&&t!==this.nameMap[t])t=this.nameMap[t];return t}}function Izt(t){return"unit"===(null===t||void 0===t?void 0:t.type)}function jzt(t){return"facet"===(null===t||void 0===t?void 0:t.type)}function Lzt(t){return"concat"===(null===t||void 0===t?void 0:t.type)}function zzt(t){return"layer"===(null===t||void 0===t?void 0:t.type)}class Uzt{constructor(t,e,n,r,i,o,a){var s,u;this.type=e,this.parent=n,this.config=i,this.view=a,this.children=[],this.correctDataNames=t=>(t.from&&t.from.data&&(t.from.data=this.lookupDataSource(t.from.data)),t.from&&t.from.facet&&t.from.facet.data&&(t.from.facet.data=this.lookupDataSource(t.from.facet.data)),t),this.parent=n,this.config=i,this.name=null!==(s=t.name)&&void 0!==s?s:r,this.title=ETt(t.title)?{text:t.title}:t.title,this.scaleNameMap=n?n.scaleNameMap:new Pzt,this.projectionNameMap=n?n.projectionNameMap:new Pzt,this.signalNameMap=n?n.signalNameMap:new Pzt,this.data=t.data,this.description=t.description,this.transforms=$$t(null!==(u=t.transform)&&void 0!==u?u:[]),this.layout="layer"===e||"unit"===e?{}:YFt(t,e,i),this.component={data:{sources:n?n.component.data.sources:[],outputNodes:n?n.component.data.outputNodes:{},outputNodeRefCounts:n?n.component.data.outputNodeRefCounts:{},isFaceted:EMt(t)||n&&n.component.data.isFaceted&&void 0===t.data},layoutSize:new XOt,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({scale:{},axis:{},legend:{}},o?n_t(o):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){Ozt(this)}parseProjection(){Njt(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){yjt(this)}assembleGroupStyle(){var t,e;if("unit"===this.type||"layer"===this.type)return null!==(e=null===(t=this.view)||void 0===t?void 0:t.style)&&void 0!==e?e:"cell"}assembleEncodeFromView(t){const{style:e}=t,n=qxt(t,["style"]),r={};for(const i of b_t(n)){const t=n[i];void 0!==t&&(r[i]=DTt(t))}return r}assembleGroupEncodeEntry(t){let e={};return this.view&&(e=this.assembleEncodeFromView(this.view)),t||(this.description&&(e["description"]=DTt(this.description)),"unit"!==this.type&&"layer"!==this.type)?y_t(e)?void 0:e:Object.assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!==e&&void 0!==e?e:{})}assembleLayout(){if(!this.layout)return;const t=this.layout,{spacing:e}=t,n=qxt(t,["spacing"]),{component:r,config:i}=this,o=LIt(r.layoutHeaders,i);return Object.assign(Object.assign(Object.assign({padding:e},this.assembleDefaultLayout()),n),o?{titleBand:o}:{})}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let e=[];for(const n of MAt)t[n].title&&e.push(FIt(this,n));for(const n of MIt)e=e.concat(NIt(this,n));return e}assembleAxes(){return eIt(this.component.axes,this.config)}assembleLegends(){return Ejt(this)}assembleProjections(){return Mjt(this)}assembleTitle(){var t,e,n;const r=null!==(t=this.title)&&void 0!==t?t:{},{encoding:i}=r,o=qxt(r,["encoding"]),a=Object.assign(Object.assign(Object.assign({},CTt(this.config.title).nonMark),o),i?{encode:{update:i}}:{});if(a.text)return u_t(["unit","layer"],this.type)?u_t(["middle",void 0],a.anchor)&&(a.frame=null!==(e=a.frame)&&void 0!==e?e:"group"):a.anchor=null!==(n=a.anchor)&&void 0!==n?n:"start",y_t(a)?void 0:a}assembleGroup(t=[]){const e={};t=t.concat(this.assembleSignals()),t.length>0&&(e.signals=t);const n=this.assembleLayout();n&&(e.layout=n),e.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const r=!this.parent||jzt(this.parent)?tzt(this):[];r.length>0&&(e.scales=r);const i=this.assembleAxes();i.length>0&&(e.axes=i);const o=this.assembleLegends();return o.length>0&&(e.legends=o),e}getName(t){return k_t((this.name?this.name+"_":"")+t)}requestDataName(t){var e;const n=this.getName(t),r=this.component.data.outputNodeRefCounts;return r[n]=(null!==(e=r[n])&&void 0!==e?e:0)+1,n}getSizeSignalRef(t){if(jzt(this.parent)){const e=WIt(t),n=pSt(e),r=this.component.scales[n];if(r&&!r.merged){const t=r.get("type"),e=r.get("range");if(MDt(t)&&BEt(e)){const t=r.get("name"),e=QLt(this,n),i=ZLt(e);if(i){const e=JMt({aggregate:"distinct",field:i},{expr:"datum"});return{signal:HIt(t,r,e)}}return sEt(`Unknown field for ${n}. Cannot calculate view size.`),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const e=this.component.data.outputNodes[t];return e?e.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,e){this.signalNameMap.rename(t,e)}renameScale(t,e){this.scaleNameMap.rename(t,e)}renameProjection(t,e){this.projectionNameMap.rename(t,e)}scaleName(t,e){return e?this.getName(t):zAt(t)&&MSt(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t))?this.scaleNameMap.get(this.getName(t)):void 0}projectionName(t){return t?this.getName("projection"):this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection"))?this.projectionNameMap.get(this.getName("projection")):void 0}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const e=this.component.scales[t];return e&&!e.merged?e:this.parent?this.parent.getScaleComponent(t):void 0}getSelectionComponent(t,e){let n=this.component.selection[t];if(!n&&this.parent&&(n=this.parent.getSelectionComponent(t,e)),!n)throw new Error(JSt(e));return n}hasAxisOrientSignalRef(){var t,e;return(null===(t=this.component.axes.x)||void 0===t?void 0:t.some((t=>t.hasOrientSignalRef())))||(null===(e=this.component.axes.y)||void 0===e?void 0:e.some((t=>t.hasOrientSignalRef())))}}class qzt extends Uzt{vgField(t,e={}){const n=this.fieldDef(t);if(n)return JMt(n,e)}reduceFieldDef(t,e){return GTt(this.getMapping(),((e,n,r)=>{const i=hTt(n);return i?t(e,i,r):e}),e)}forEachFieldDef(t,e){YTt(this.getMapping(),((e,n)=>{const r=hTt(e);r&&t(r,n)}),e)}}class Vzt extends wNt{constructor(t,e){var n,r,i;super(t),this.transform=e,this.transform=n_t(e);const o=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(r=o[0])&&void 0!==r?r:"value",null!==(i=o[1])&&void 0!==i?i:"density"]}clone(){return new Vzt(null,n_t(this.transform))}dependentFields(){var t;return new Set([this.transform.density,...null!==(t=this.transform.groupby)&&void 0!==t?t:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${a_t(this.transform)}`}assemble(){const t=this.transform,{density:e}=t,n=qxt(t,["density"]),r=Object.assign({type:"kde",field:e},n);return r}}class Hzt extends wNt{constructor(t,e){super(t),this.filter=e}clone(){return new Hzt(null,Object.assign({},this.filter))}static make(t,e){const{config:n,mark:r,markDef:i}=e,o=$Tt("invalid",i,n);if("filter"!==o)return null;const a=e.reduceFieldDef(((t,n,i)=>{const o=MSt(i)&&e.getScaleComponent(i);if(o){const e=o.get("type");TDt(e)&&"count"!==n.aggregate&&!ckt(r)&&(t[n.field]=n)}return t}),{});return b_t(a).length?new Hzt(t,a):null}dependentFields(){return new Set(b_t(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${a_t(this.filter)}`}assemble(){const t=b_t(this.filter).reduce(((t,e)=>{const n=this.filter[e],r=JMt(n,{expr:"datum"});return null!==n&&("temporal"===n.type?t.push(`(isDate(${r}) || (isValid(${r}) && isFinite(+${r})))`):"quantitative"===n.type&&(t.push(`isValid(${r})`),t.push(`isFinite(+${r})`))),t}),[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}class Wzt extends wNt{constructor(t,e){super(t),this.transform=e,this.transform=n_t(e);const{flatten:n,as:r=[]}=this.transform;this.transform.as=n.map(((t,e)=>{var n;return null!==(n=r[e])&&void 0!==n?n:t}))}clone(){return new Wzt(this.parent,n_t(this.transform))}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${a_t(this.transform)}`}assemble(){const{flatten:t,as:e}=this.transform,n={type:"flatten",fields:t,as:e};return n}}class Yzt extends wNt{constructor(t,e){var n,r,i;super(t),this.transform=e,this.transform=n_t(e);const o=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(r=o[0])&&void 0!==r?r:"key",null!==(i=o[1])&&void 0!==i?i:"value"]}clone(){return new Yzt(null,n_t(this.transform))}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${a_t(this.transform)}`}assemble(){const{fold:t,as:e}=this.transform,n={type:"fold",fields:t,as:e};return n}}class Gzt extends wNt{constructor(t,e,n,r){super(t),this.fields=e,this.geojson=n,this.signal=r}clone(){return new Gzt(null,n_t(this.fields),this.geojson,this.signal)}static parseAll(t,e){if(e.component.projection&&!e.component.projection.isFit)return t;let n=0;for(const r of[[Jkt,Xkt],[Qkt,Zkt]]){const i=r.map((t=>{const n=dTt(e.encoding[t]);return IMt(n)?n.field:LMt(n)?{expr:`${n.datum}`}:HMt(n)?{expr:`${n["value"]}`}:void 0}));(i[0]||i[1])&&(t=new Gzt(t,i,null,e.getName("geojson_"+n++)))}if(e.channelHasField(rAt)){const r=e.typedFieldDef(rAt);r.type===cDt&&(t=new Gzt(t,null,r.field,e.getName("geojson_"+n++)))}return t}dependentFields(){var t;const e=(null!==(t=this.fields)&&void 0!==t?t:[]).filter(Lxt);return new Set([...this.geojson?[this.geojson]:[],...e])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${a_t(this.fields)}`}assemble(){return Object.assign(Object.assign(Object.assign({type:"geojson"},this.fields?{fields:this.fields}:{}),this.geojson?{geojson:this.geojson}:{}),{signal:this.signal})}}class Kzt extends wNt{constructor(t,e,n,r){super(t),this.projection=e,this.fields=n,this.as=r}clone(){return new Kzt(null,this.projection,n_t(this.fields),n_t(this.as))}static parseAll(t,e){if(!e.projectionName())return t;for(const n of[[Jkt,Xkt],[Qkt,Zkt]]){const r=n.map((t=>{const n=dTt(e.encoding[t]);return IMt(n)?n.field:LMt(n)?{expr:`${n.datum}`}:HMt(n)?{expr:`${n["value"]}`}:void 0})),i=n[0]===Qkt?"2":"";(r[0]||r[1])&&(t=new Kzt(t,e.projectionName(),r,[e.getName("x"+i),e.getName("y"+i)]))}return t}dependentFields(){return new Set(this.fields.filter(Lxt))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${a_t(this.fields)} ${a_t(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Xzt extends wNt{constructor(t,e){super(t),this.transform=e}clone(){return new Xzt(null,n_t(this.transform))}dependentFields(){var t;return new Set([this.transform.impute,this.transform.key,...null!==(t=this.transform.groupby)&&void 0!==t?t:[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:e=0,stop:n,step:r}=t,i=[e,n,...r?[r]:[]].join(",");return{signal:`sequence(${i})`}}static makeFromTransform(t,e){return new Xzt(t,e)}static makeFromEncoding(t,e){const n=e.encoding,r=n.x,i=n.y;if(IMt(r)&&IMt(i)){const o=r.impute?r:i.impute?i:void 0;if(void 0===o)return;const a=r.impute?i:i.impute?r:void 0,{method:s,value:u,frame:c,keyvals:l}=o.impute,f=KTt(e.mark,n);return new Xzt(t,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({impute:o.field,key:a.field},s?{method:s}:{}),void 0!==u?{value:u}:{}),c?{frame:c}:{}),void 0!==l?{keyvals:l}:{}),f.length?{groupby:f}:{}))}return null}hash(){return`Impute ${a_t(this.transform)}`}assemble(){const{impute:t,key:e,keyvals:n,method:r,groupby:i,value:o,frame:a=[null,null]}=this.transform,s=Object.assign(Object.assign(Object.assign(Object.assign({type:"impute",field:t,key:e},n?{keyvals:d$t(n)?this.processSequence(n):n}:{}),{method:"value"}),i?{groupby:i}:{}),{value:r&&"value"!==r?null:o});if(r&&"value"!==r){const e=Object.assign({type:"window",as:[`imputed_${t}_value`],ops:[r],fields:[t],frame:a,ignorePeers:!1},i?{groupby:i}:{}),n={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[s,e,n]}return[s]}}class Jzt extends wNt{constructor(t,e){var n,r,i;super(t),this.transform=e,this.transform=n_t(e);const o=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(r=o[0])&&void 0!==r?r:e.on,null!==(i=o[1])&&void 0!==i?i:e.loess]}clone(){return new Jzt(null,n_t(this.transform))}dependentFields(){var t;return new Set([this.transform.loess,this.transform.on,...null!==(t=this.transform.groupby)&&void 0!==t?t:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${a_t(this.transform)}`}assemble(){const t=this.transform,{loess:e,on:n}=t,r=qxt(t,["loess","on"]),i=Object.assign({type:"loess",x:n,y:e},r);return i}}class Zzt extends wNt{constructor(t,e,n){super(t),this.transform=e,this.secondary=n}clone(){return new Zzt(null,n_t(this.transform),this.secondary)}static make(t,e,n,r){const i=e.component.data.sources,{from:o}=n;let a=null;if(g$t(o)){let t=wUt(o.data,i);t||(t=new Wjt(o.data),i.push(t));const n=e.getName(`lookup_${r}`);a=new xNt(t,n,"lookup",e.component.data.outputNodeRefCounts),e.component.data.outputNodes[n]=a}else if(m$t(o)){const t=o.selection;if(n=Object.assign({as:t},n),a=e.getSelectionComponent(k_t(t),t).materialized,!a)throw new Error(tCt(t))}return new Zzt(t,n,a.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?Nxt(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${a_t({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t=Object.assign({values:this.transform.from.fields},this.transform.as?{as:Nxt(this.transform.as)}:{});else{let e=this.transform.as;Lxt(e)||(sEt(sCt),e="_lookup"),t={as:[e]}}return Object.assign(Object.assign({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},t),this.transform.default?{default:this.transform.default}:{})}}class Qzt extends wNt{constructor(t,e){var n,r,i;super(t),this.transform=e,this.transform=n_t(e);const o=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(r=o[0])&&void 0!==r?r:"prob",null!==(i=o[1])&&void 0!==i?i:"value"]}clone(){return new Qzt(null,n_t(this.transform))}dependentFields(){var t;return new Set([this.transform.quantile,...null!==(t=this.transform.groupby)&&void 0!==t?t:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${a_t(this.transform)}`}assemble(){const t=this.transform,{quantile:e}=t,n=qxt(t,["quantile"]),r=Object.assign({type:"quantile",field:e},n);return r}}class tUt extends wNt{constructor(t,e){var n,r,i;super(t),this.transform=e,this.transform=n_t(e);const o=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(r=o[0])&&void 0!==r?r:e.on,null!==(i=o[1])&&void 0!==i?i:e.regression]}clone(){return new tUt(null,n_t(this.transform))}dependentFields(){var t;return new Set([this.transform.regression,this.transform.on,...null!==(t=this.transform.groupby)&&void 0!==t?t:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${a_t(this.transform)}`}assemble(){const t=this.transform,{regression:e,on:n}=t,r=qxt(t,["regression","on"]),i=Object.assign({type:"regression",x:n,y:e},r);return i}}class eUt extends wNt{constructor(t,e){super(t),this.transform=e}clone(){return new eUt(null,n_t(this.transform))}addDimensions(t){var e;this.transform.groupby=d_t((null!==(e=this.transform.groupby)&&void 0!==e?e:[]).concat(t),(t=>t))}producedFields(){}dependentFields(){var t;return new Set([this.transform.pivot,this.transform.value,...null!==(t=this.transform.groupby)&&void 0!==t?t:[]])}hash(){return`PivotTransform ${a_t(this.transform)}`}assemble(){const{pivot:t,value:e,groupby:n,limit:r,op:i}=this.transform;return Object.assign(Object.assign(Object.assign({type:"pivot",field:t,value:e},void 0!==r?{limit:r}:{}),void 0!==i?{op:i}:{}),void 0!==n?{groupby:n}:{})}}class nUt extends wNt{constructor(t,e){super(t),this.transform=e}clone(){return new nUt(null,n_t(this.transform))}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${a_t(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function rUt(t){let e=0;function n(r,i){var o;if(r instanceof Wjt&&!r.isGenerator&&!r$t(r.data)){t.push(i);const e={name:null,source:i.name,transform:[]};i=e}if(r instanceof cLt&&(r.parent instanceof Wjt&&!i.source?(i.format=Object.assign(Object.assign({},null!==(o=i.format)&&void 0!==o?o:{}),{parse:r.assembleFormatParse()}),i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof rLt){i.name||(i.name="data_"+e++),!i.source||i.transform.length>0?(t.push(i),r.data=i.name):r.data=i.source;for(const e of r.assemble())t.push(e)}else{if((r instanceof Gjt||r instanceof Kjt||r instanceof Hzt||r instanceof HPt||r instanceof AIt||r instanceof Kzt||r instanceof Gzt||r instanceof nLt||r instanceof Zzt||r instanceof gLt||r instanceof fLt||r instanceof Yzt||r instanceof Wzt||r instanceof Vzt||r instanceof Jzt||r instanceof Qzt||r instanceof tUt||r instanceof lLt||r instanceof nUt||r instanceof eUt)&&i.transform.push(r.assemble()),(r instanceof Hjt||r instanceof _Nt||r instanceof Xzt||r instanceof pLt)&&i.transform.push(...r.assemble()),r instanceof xNt)if(i.source&&0===i.transform.length)r.setSource(i.source);else if(r.parent instanceof xNt)r.setSource(i.name);else if(i.name||(i.name="data_"+e++),r.setSource(i.name),1===r.numChildren()){t.push(i);const e={name:null,source:i.name,transform:[]};i=e}switch(r.numChildren()){case 0:r instanceof xNt&&(!i.source||i.transform.length>0)&&t.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name="data_"+e++);let o=i.name;!i.source||i.transform.length>0?t.push(i):o=i.source;for(const t of r.children){const e={name:null,source:o,transform:[]};n(t,e)}break}}}}return n}function iUt(t){const e=[],n=rUt(e);for(const r of t.children)n(r,{source:t.name,name:null,transform:[]});return e}function oUt(t,e){var n,r;const i=[],o=rUt(i);let a=0;for(const u of t.sources){u.hasName()||(u.dataName="source_"+a++);const t=u.assemble();o(u,t)}for(const u of i)0===u.transform.length&&delete u.transform;let s=0;for(const[u,c]of i.entries())0!==(null!==(n=c.transform)&&void 0!==n?n:[]).length||c.source||i.splice(s++,0,i.splice(u,1)[0]);for(const u of i)for(const e of null!==(r=u.transform)&&void 0!==r?r:[])"lookup"===e.type&&(e.from=t.outputNodes[e.from].getSource());for(const u of i)u.name in e&&(u.values=e[u.name]);return i}function aUt(t){return"top"===t||"left"===t||NEt(t)?"header":"footer"}function sUt(t){for(const e of MAt)uUt(t,e);lUt(t,"x"),lUt(t,"y")}function uUt(t,e){var n;const{facet:r,config:i,child:o,component:a}=t;if(t.channelHasField(e)){const s=r[e],u=EIt("title",null,i,e);let c=sTt(s,i,{allowDisabling:!0,includeDefault:void 0===u||!!u});o.component.layoutHeaders[e].title&&(c=Dxt(c)?c.join(", "):c,c+=" / "+o.component.layoutHeaders[e].title,o.component.layoutHeaders[e].title=null);const l=EIt("labelOrient",s,i,e),f=null!==(n=s.header)&&void 0!==n?n:{},h=N_t(f.labels,i.header.labels,!0),d=u_t(["bottom","right"],l)?"footer":"header";a.layoutHeaders[e]={title:c,facetFieldDef:s,[d]:"facet"===e?[]:[cUt(t,e,h)]}}}function cUt(t,e,n){const r="row"===e?"height":"width";return{labels:n,sizeSignal:t.child.component.layoutSize.get(r)?t.child.getSizeSignalRef(r):void 0,axes:[]}}function lUt(t,e){var n;const{child:r}=t;if(r.component.axes[e]){const{layoutHeaders:i,resolve:o}=t.component;if(o.axis[e]=KIt(o,e),"shared"===o.axis[e]){const o="x"===e?"column":"row",a=i[o];for(const i of r.component.axes[e]){const e=aUt(i.get("orient"));a[e]=null!==(n=a[e])&&void 0!==n?n:[cUt(t,o,!1)];const r=QPt(i,"main",t.config,{header:!0});r&&a[e][0].axes.push(r),i.mainExtracted=!0}}}}function fUt(t){dUt(t),pUt(t,"width"),pUt(t,"height")}function hUt(t){dUt(t);const e=1===t.layout.columns?"width":"childWidth",n=void 0===t.layout.columns?"height":"childHeight";pUt(t,e),pUt(t,n)}function dUt(t){for(const e of t.children)e.parseLayoutSize()}function pUt(t,e){const n=WIt(e),r=pSt(n),i=t.component.resolve,o=t.component.layoutSize;let a;for(const s of t.children){const t=s.component.layoutSize.getWithExplicit(n),e=i.scale[r];if("independent"===e&&"step"===t.value){a=void 0;break}if(a){if("independent"===e&&a.value!==t.value){a=void 0;break}a=e$t(a,t,n,"")}else a=t}if(a){for(const r of t.children)t.renameSignal(r.getName(n),t.getName(e)),r.component.layoutSize.set(n,"merged",!1);o.setWithExplicit(e,a)}else o.setWithExplicit(e,{explicit:!1,value:void 0})}function gUt(t){const{size:e,component:n}=t;for(const r of lSt){const i=YAt(r);if(e[i]){const t=e[i];n.layoutSize.set(i,UFt(t)?"step":t,!0)}else{const e=mUt(t,i);n.layoutSize.set(i,e,!1)}}}function mUt(t,e){const n="width"===e?"x":"y",r=t.config,i=t.getScaleComponent(n);if(i){const t=i.get("type"),n=i.get("range");if(MDt(t)){const t=XFt(r.view,e);return BEt(n)||UFt(t)?"step":t}return GFt(r.view,e)}if(t.hasProjection||"arc"===t.mark)return GFt(r.view,e);{const t=XFt(r.view,e);return UFt(t)?t.step:t}}function vUt(t,e,n){return JMt(e,Object.assign({suffix:`by_${JMt(t)}`},null!==n&&void 0!==n?n:{}))}class yUt extends qzt{constructor(t,e,n,r){super(t,"facet",e,n,r,t.resolve),this.child=_qt(t.spec,this,this.getName("child"),void 0,r),this.children=[this.child],this.facet=this.initFacet(t.facet,r)}initFacet(t,e){return SMt(t)?GTt(t,((t,n,r)=>u_t([jkt,Lkt],r)?void 0===n.field?(sEt(yCt(n,r)),t):(t[r]=pTt(n,r,e),t):(sEt(wCt(r,"facet")),t)),{}):{facet:pTt(t,"facet",e)}}channelHasField(t){return!!this.facet[t]}fieldDef(t){return this.facet[t]}parseData(){this.component.data=kUt(this),this.child.parseData()}parseLayoutSize(){dUt(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),sUt(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){var t,e,n;const r={};for(const i of MAt)for(const o of TIt){const a=this.component.layoutHeaders[i],s=a[o],{facetFieldDef:u}=a;if(u){const e=EIt("titleOrient",u,this.config,i);if(u_t(["right","bottom"],e)){const n=CIt(i,e);r.titleAnchor=null!==(t=r.titleAnchor)&&void 0!==t?t:{},r.titleAnchor[n]="end"}}if(null===s||void 0===s?void 0:s[0]){const t="row"===i?"height":"width",s="header"===o?"headerBand":"footerBand";"facet"===i||this.child.component.layoutSize.get(t)||(r[s]=null!==(e=r[s])&&void 0!==e?e:{},r[s][i]=.5),a.title&&(r.offset=null!==(n=r.offset)&&void 0!==n?n:{},r.offset["row"===i?"rowTitle":"columnTitle"]=10)}}return r}assembleDefaultLayout(){const{column:t,row:e}=this.facet,n=t?this.columnDistinctSignal():e?1:void 0;let r="all";return(e||"independent"!==this.component.resolve.scale.x)&&(t||"independent"!==this.component.resolve.scale.y)||(r="none"),Object.assign(Object.assign(Object.assign({},this.getHeaderLayoutMixins()),n?{columns:n}:{}),{bounds:"full",align:r})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof yUt)){const t=this.getName("column_domain");return{signal:`length(data('${t}'))`}}}assembleGroup(t){return this.parent&&this.parent instanceof yUt?Object.assign(Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:JMt(this.facet.column,{prefix:"distinct"})}}}}:{}),super.assembleGroup(t)):super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],e=[],n=[];if(this.child instanceof yUt){if(this.child.channelHasField("column")){const r=JMt(this.child.facet.column);t.push(r),e.push("distinct"),n.push(`distinct_${r}`)}}else for(const r of lSt){const i=this.child.component.scales[r];if(i&&!i.merged){const o=i.get("type"),a=i.get("range");if(MDt(o)&&BEt(a)){const i=QLt(this.child,r),o=ZLt(i);o?(t.push(o),e.push("distinct"),n.push(`distinct_${o}`)):sEt(`Unknown field for ${r}. Cannot calculate view size.`)}}}return{fields:t,ops:e,as:n}}assembleFacet(){const{name:t,data:e}=this.component.data.facetRoot,{row:n,column:r}=this.facet,{fields:i,ops:o,as:a}=this.getCardinalityAggregateForChild(),s=[];for(const c of MAt){const t=this.facet[c];if(t){s.push(JMt(t));const{bin:e,sort:u}=t;if(PSt(e)&&s.push(JMt(t,{binSuffix:"end"})),kMt(u)){const{field:e,op:s=bMt}=u,c=vUt(t,u);n&&r?(i.push(c),o.push("max"),a.push(c)):(i.push(e),o.push(s),a.push(c))}else if(Dxt(u)){const e=SIt(t,c);i.push(e),o.push("max"),a.push(e)}}}const u=!!n&&!!r;return Object.assign({name:t,data:e,groupby:s},u||i.length>0?{aggregate:Object.assign(Object.assign({},u?{cross:u}:{}),i.length?{fields:i,ops:o,as:a}:{})}:{})}facetSortFields(t){const{facet:e}=this,n=e[t];return n?kMt(n.sort)?[vUt(n,n.sort,{expr:"datum"})]:Dxt(n.sort)?[SIt(n,t,{expr:"datum"})]:[JMt(n,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:e}=this,n=e[t];if(n){const{sort:t}=n,e=(kMt(t)?t.order:!Dxt(t)&&t)||"ascending";return[e]}return[]}assembleLabelTitle(){const{facet:t,config:e}=this;if(t.facet)return RIt(t.facet,"facet",e);const n={row:["top","bottom"],column:["left","right"]};for(const r of MIt)if(t[r]){const i=EIt("labelOrient",t[r],e,r);if(u_t(n[r],i))return RIt(t[r],r,e)}}assembleMarks(){const{child:t}=this,e=this.component.data.facetRoot,n=iUt(e),r=t.assembleGroupEncodeEntry(!1),i=this.assembleLabelTitle()||t.assembleTitle(),o=t.assembleGroupStyle(),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:this.getName("cell"),type:"group"},i?{title:i}:{}),o?{style:o}:{}),{from:{facet:this.assembleFacet()},sort:{field:MAt.map((t=>this.facetSortFields(t))).flat(),order:MAt.map((t=>this.facetSortOrder(t))).flat()}}),n.length>0?{data:n}:{}),r?{encode:{update:r}}:{}),t.assembleGroup(eBt(this,[])));return[a]}getMapping(){return this.facet}}function bUt(t,e){const{row:n,column:r}=e;if(n&&r){let e=null;for(const i of[n,r])if(kMt(i.sort)){const{field:n,op:r=bMt}=i.sort;t=e=new fLt(t,{joinaggregate:[{op:r,field:n,as:vUt(i,i.sort,{forAs:!0})}],groupby:[JMt(i)]})}return e}return null}function wUt(t,e){var n,r,i,o,a,s,u,c,l,f;for(const h of e){const e=h.data;if((!t.name||!h.hasName()||t.name===h.dataName)&&((!(null===(n=t["format"])||void 0===n?void 0:n.mesh)||!(null===(r=e.format)||void 0===r?void 0:r.feature))&&(!(null===(i=t["format"])||void 0===i?void 0:i.feature)&&!(null===(o=e.format)||void 0===o?void 0:o.feature)||(null===(a=t["format"])||void 0===a?void 0:a.feature)===(null===(s=e.format)||void 0===s?void 0:s.feature))&&(!(null===(u=t["format"])||void 0===u?void 0:u.mesh)&&!(null===(c=e.format)||void 0===c?void 0:c.mesh)||(null===(l=t["format"])||void 0===l?void 0:l.mesh)===(null===(f=e.format)||void 0===f?void 0:f.mesh))))if(i$t(t)&&i$t(e)){if(e_t(t.values,e.values))return h}else if(r$t(t)&&r$t(e)){if(t.url===e.url)return h}else if(o$t(t)&&t.name===h.dataName)return h}return null}function xUt(t,e){if(t.data||!t.parent){if(null===t.data){const t=new Wjt({values:[]});return e.push(t),t}const n=wUt(t.data,e);if(n)return a$t(t.data)||(n.data.format=f_t({},t.data.format,n.data.format)),!n.hasName()&&t.data.name&&(n.dataName=t.data.name),n;{const n=new Wjt(t.data);return e.push(n),n}}return t.parent.component.data.facetRoot?t.parent.component.data.facetRoot:t.parent.component.data.main}function _Ut(t,e,n){var r,i;let o=0;for(const a of e.transforms){let s,u;if(C$t(a))u=t=new AIt(t,a),s="derived";else if(h$t(a)){const i=aLt(a);u=t=null!==(r=cLt.makeWithAncestors(t,{},i,n))&&void 0!==r?r:t,t=new HPt(t,e,a.filter)}else if(E$t(a))u=t=Hjt.makeFromTransform(t,a,e),s="number";else if(M$t(a)){s="date";const e=n.getWithExplicit(a.field);void 0===e.value&&(t=new cLt(t,{[a.field]:s}),n.set(a.field,s,!1)),u=t=_Nt.makeFromTransform(t,a)}else if(T$t(a))u=t=nLt.makeFromTransform(t,a),s="number",EBt(e)&&(t=new lLt(t));else if(p$t(a))u=t=Zzt.make(t,e,a,o++),s="derived";else if(k$t(a))u=t=new gLt(t,a),s="number";else if(A$t(a))u=t=new fLt(t,a),s="number";else if(F$t(a))u=t=pLt.makeFromTransform(t,a),s="derived";else if(O$t(a))u=t=new Yzt(t,a),s="derived";else if(S$t(a))u=t=new Wzt(t,a),s="derived";else if(v$t(a))u=t=new eUt(t,a),s="derived";else if(_$t(a))t=new nUt(t,a);else if(D$t(a))u=t=Xzt.makeFromTransform(t,a),s="derived";else if(y$t(a))u=t=new Vzt(t,a),s="derived";else if(b$t(a))u=t=new Qzt(t,a),s="derived";else if(w$t(a))u=t=new tUt(t,a),s="derived";else{if(!x$t(a)){sEt(aCt(a));continue}u=t=new Jzt(t,a),s="derived"}if(u&&void 0!==s)for(const t of null!==(i=u.producedFields())&&void 0!==i?i:[])n.set(t,s,!1)}return t}function kUt(t){var e,n,r,i,o,a,s,u,c,l;let f=xUt(t,t.component.data.sources);const{outputNodes:h,outputNodeRefCounts:d}=t.component.data,p=t.parent?t.parent.component.data.ancestorParse.clone():new n$t,g=t.data;a$t(g)?(s$t(g)?f=new Kjt(f,g.sequence):c$t(g)&&(f=new Gjt(f,g.graticule)),p.parseNothing=!0):null===(null===(e=null===g||void 0===g?void 0:g.format)||void 0===e?void 0:e.parse)&&(p.parseNothing=!0),f=null!==(n=cLt.makeExplicit(f,t,p))&&void 0!==n?n:f,f=new lLt(f);const m=t.parent&&zzt(t.parent);(Izt(t)||jzt(t))&&m&&(f=null!==(r=Hjt.makeFromEncoding(f,t))&&void 0!==r?r:f),t.transforms.length>0&&(f=_Ut(f,t,p));const v=uLt(t),y=sLt(t);f=null!==(i=cLt.makeWithAncestors(f,{},Object.assign(Object.assign({},v),y),p))&&void 0!==i?i:f,Izt(t)&&(f=Gzt.parseAll(f,t),f=Kzt.parseAll(f,t)),(Izt(t)||jzt(t))&&(m||(f=null!==(o=Hjt.makeFromEncoding(f,t))&&void 0!==o?o:f),f=null!==(a=_Nt.makeFromEncoding(f,t))&&void 0!==a?a:f,f=AIt.parseAllForSortIndex(f,t));const b=t.getName(f$t),w=new xNt(f,b,f$t,d);if(h[b]=w,f=w,Izt(t)){const e=nLt.makeFromEncoding(f,t);e&&(f=e,EBt(t)&&(f=new lLt(f))),f=null!==(s=Xzt.makeFromEncoding(f,t))&&void 0!==s?s:f,f=null!==(u=pLt.makeFromEncoding(f,t))&&void 0!==u?u:f}Izt(t)&&(f=null!==(c=Hzt.make(f,t))&&void 0!==c?c:f);const x=t.getName(l$t),_=new xNt(f,x,l$t,d);h[x]=_,f=_,Izt(t)&&KPt(t,_);let k=null;if(jzt(t)){const e=t.getName("facet");f=null!==(l=bUt(f,t.facet))&&void 0!==l?l:f,k=new rLt(f,t,e,_.getSource()),h[e]=k}return Object.assign(Object.assign({},t.component.data),{outputNodes:h,outputNodeRefCounts:d,raw:w,main:_,facetRoot:k,ancestorParse:p})}class AUt extends Uzt{constructor(t,e,n,r){var i,o,a,s;super(t,"concat",e,n,r,t.resolve),"shared"!==(null===(o=null===(i=t.resolve)||void 0===i?void 0:i.axis)||void 0===o?void 0:o.x)&&"shared"!==(null===(s=null===(a=t.resolve)||void 0===a?void 0:a.axis)||void 0===s?void 0:s.y)||sEt(rCt),this.children=this.getChildren(t).map(((t,e)=>_qt(t,this,this.getName("concat_"+e),void 0,r)))}parseData(){this.component.data=kUt(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const e of b_t(t.component.selection))this.component.selection[e]=t.component.selection[e]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return LFt(t)?t.vconcat:zFt(t)?t.hconcat:t.concat}parseLayoutSize(){hUt(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce(((t,e)=>e.assembleSelectionTopLevelSignals(t)),t)}assembleSignals(){return this.children.forEach((t=>t.assembleSignals())),[]}assembleLayoutSignals(){const t=UIt(this);for(const e of this.children)t.push(...e.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce(((t,e)=>e.assembleSelectionData(t)),t)}assembleMarks(){return this.children.map((t=>{const e=t.assembleTitle(),n=t.assembleGroupStyle(),r=t.assembleGroupEncodeEntry(!1);return Object.assign(Object.assign(Object.assign(Object.assign({type:"group",name:t.getName("group")},e?{title:e}:{}),n?{style:n}:{}),r?{encode:{update:r}}:{}),t.assembleGroup())}))}assembleDefaultLayout(){const t=this.layout.columns;return Object.assign(Object.assign({},null!=t?{columns:t}:{}),{bounds:"full",align:"each"})}}function SUt(t){return!1===t||null===t}const CUt=Object.assign(Object.assign({disable:1,gridScale:1,scale:1},H_t),{labelExpr:1,encode:1}),EUt=b_t(CUt);class DUt extends XOt{constructor(t={},e={},n=!1){super(),this.explicit=t,this.implicit=e,this.mainExtracted=n}clone(){return new DUt(n_t(this.explicit),n_t(this.implicit),this.mainExtracted)}hasAxisPart(t){return"axis"===t||("grid"===t||"title"===t?!!this.get(t):!SUt(this.get(t)))}hasOrientSignalRef(){return NEt(this.explicit.orient)}}function MUt(t,e,n){var r;const{encoding:i,config:o}=t,a=null!==(r=dTt(i[e]))&&void 0!==r?r:dTt(i[WAt(e)]),s=t.axis(e)||{},{format:u,formatType:c}=s;return oMt(c)?Object.assign({text:lMt({fieldOrDatumDef:a,field:"datum.value",format:u,formatType:c,config:o})},n):n}function TUt(t){return lSt.reduce(((e,n)=>(t.component.scales[n]&&(e[n]=[PUt(n,t)]),e)),{})}const FUt={bottom:"top",top:"bottom",left:"right",right:"left"};function OUt(t){var e;const{axes:n,resolve:r}=t.component,i={top:0,bottom:0,right:0,left:0};for(const o of t.children){o.parseAxesAndHeaders();for(const e of b_t(o.component.axes))r.axis[e]=KIt(t.component.resolve,e),"shared"===r.axis[e]&&(n[e]=$Ut(n[e],o.component.axes[e]),n[e]||(r.axis[e]="independent",delete n[e]))}for(const o of lSt){for(const a of t.children)if(a.component.axes[o]){if("independent"===r.axis[o]){n[o]=(null!==(e=n[o])&&void 0!==e?e:[]).concat(a.component.axes[o]);for(const t of a.component.axes[o]){const{value:e,explicit:n}=t.getWithExplicit("orient");if(!NEt(e)){if(i[e]>0&&!n){const n=FUt[e];i[e]>i[n]&&t.set("orient",n,!1)}i[e]++}}}delete a.component.axes[o]}if("independent"===r.axis[o]&&n[o]&&n[o].length>1)for(const t of n[o])t.get("grid")&&!t.explicit.grid&&(t.implicit.grid=!1)}}function $Ut(t,e){if(!t)return e.map((t=>t.clone()));{if(t.length!==e.length)return;const n=t.length;for(let r=0;r<n;r++){const n=t[r],i=e[r];if(!!n!==!!i)return;if(n&&i){const e=n.getWithExplicit("orient"),o=i.getWithExplicit("orient");if(e.explicit&&o.explicit&&e.value!==o.value)return;t[r]=NUt(n,i)}}}return t}function NUt(t,e){for(const n of EUt){const r=e$t(t.getWithExplicit(n),e.getWithExplicit(n),n,"axis",((t,e)=>{switch(n){case"title":return LTt(t,e);case"gridScale":return{explicit:t.explicit,value:N_t(t.value,e.value)}}return t$t(t,e,n,"axis")}));t.setWithExplicit(n,r)}return t}function BUt(t,e,n,r,i){if("disable"===e)return void 0!==n;switch(n=n||{},e){case"titleAngle":case"labelAngle":return t===(NEt(n.labelAngle)?n.labelAngle:j_t(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(t===xIt(r,i))return!0}return t===n[e]}const RUt=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function PUt(t,e){var n,r,i;let o=e.axis(t);const a=new DUt,s=dTt(e.encoding[t]),{mark:u,config:c}=e,l=(null===o||void 0===o?void 0:o.orient)||(null===(n=c["x"===t?"axisX":"axisY"])||void 0===n?void 0:n.orient)||(null===(r=c.axis)||void 0===r?void 0:r.orient)||bIt(t),f=e.getScaleComponent(t).get("type"),h=sIt(t,f,l,e.config),d=void 0!==o?!o:cIt("disable",c,null===o||void 0===o?void 0:o.style,h).configValue;if(a.set("disable",d,void 0!==o),d)return a;o=o||{};const p=dIt(e,o,t,s,h),g={fieldOrDatumDef:s,axis:o,channel:t,model:e,scaleType:f,orient:l,labelAngle:p,mark:u,config:c};for(const y of EUt){const n=y in lIt?lIt[y](g):Y_t(y)?o[y]:void 0,r=void 0!==n,i=BUt(n,y,o,e,t);if(r&&i)a.set(y,n,i);else{const{configValue:t,configFrom:s}=Y_t(y)&&"values"!==y?cIt(y,e.config,o.style,h):{},u=void 0!==t;r&&!u?a.set(y,n,i):("vgAxisConfig"!==s||RUt.has(y)&&u||U_t(t)||NEt(t))&&a.set(y,t,!1)}}const m=null!==(i=o.encoding)&&void 0!==i?i:{},v=q_t.reduce(((n,r)=>{var i;if(!a.hasAxisPart(r))return n;const o=YIt(null!==(i=m[r])&&void 0!==i?i:{},e),s="labels"===r?MUt(e,t,o):o;return void 0===s||y_t(s)||(n[r]={update:s}),n}),{});return y_t(v)||a.set("encode",v,!!o.encoding||void 0!==o.labelAngle),a}function IUt({encoding:t,size:e}){for(const n of lSt){const r=YAt(n);UFt(e[r])&&zMt(t[n])&&(delete e[r],sEt(RCt(r)))}return e}function jUt(t,e,n,{graticule:r}){const i=hkt(t)?Object.assign({},t):{type:t},o=$Tt("orient",i,n);if(i.orient=qUt(i.type,e,o),void 0!==o&&o!==i.orient&&sEt(CCt(i.orient,o)),"bar"===i.type&&i.orient){const t=$Tt("cornerRadiusEnd",i,n);if(void 0!==t){const n="horizontal"===i.orient&&e.x2||"vertical"===i.orient&&e.y2?["cornerRadius"]:wkt[i.orient];for(const e of n)i[e]=t;void 0!==i.cornerRadiusEnd&&delete i.cornerRadiusEnd}}const a=$Tt("opacity",i,n);void 0===a&&(i.opacity=zUt(i.type,e));const s=i.filled;void 0===s&&(i.filled=!r&&UUt(i,n));const u=$Tt("cursor",i,n);return void 0===u&&(i.cursor=LUt(i,e,n)),i}function LUt(t,e,n){return e.href||t.href||$Tt("href",t,n)?"pointer":t.cursor}function zUt(t,e){if(u_t([tkt,ikt,akt,skt],t)&&!UTt(e))return.7}function UUt(t,e){const n=NTt("filled",t,e),r=t.type;return N_t(n,r!==tkt&&r!==Q_t&&r!==nkt)}function qUt(t,e,n){switch(t){case tkt:case akt:case skt:case rkt:case ekt:case Z_t:return}const{x:r,y:i,x2:o,y2:a}=e;switch(t){case J_t:if(IMt(r)&&(ISt(r.bin)||IMt(i)&&i.aggregate&&!r.aggregate))return"vertical";if(IMt(i)&&(ISt(i.bin)||IMt(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(a||o){if(n)return n;if(!o&&(IMt(r)&&r.type===oDt&&!PSt(r.bin)||UMt(r)))return"horizontal";if(!a&&(IMt(i)&&i.type===oDt&&!PSt(i.bin)||UMt(i)))return"vertical"}case nkt:if(o&&(!IMt(r)||!ISt(r.bin))&&a&&(!IMt(i)||!ISt(i.bin)))return;case X_t:if(a)return IMt(i)&&ISt(i.bin)?"horizontal":"vertical";if(o)return IMt(r)&&ISt(r.bin)?"vertical":"horizontal";if(t===nkt){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case Q_t:case ikt:{const e=zMt(r),o=zMt(i);if(e&&!o)return"tick"!==t?"horizontal":"vertical";if(!e&&o)return"tick"!==t?"vertical":"horizontal";if(e&&o){const e=r,o=i,a=e.type===sDt,s=o.type===sDt;return a&&!s?"tick"!==t?"vertical":"horizontal":!a&&s?"tick"!==t?"horizontal":"vertical":!e.aggregate&&o.aggregate?"tick"!==t?"vertical":"horizontal":e.aggregate&&!o.aggregate?"tick"!==t?"horizontal":"vertical":n||"vertical"}return n||void 0}}return"vertical"}const VUt={vgMark:"arc",encodeEntry:t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},lNt(t,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),W$t("x",t,{defaultPos:"mid"})),W$t("y",t,{defaultPos:"mid"})),rNt(t,"radius","arc")),rNt(t,"theta","arc"))},HUt={vgMark:"area",encodeEntry:t=>Object.assign(Object.assign(Object.assign(Object.assign({},lNt(t,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"})),Z$t("x",t,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===t.markDef.orient})),Z$t("y",t,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===t.markDef.orient})),pNt(t))},WUt={vgMark:"rect",encodeEntry:t=>Object.assign(Object.assign(Object.assign({},lNt(t,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),rNt(t,"x","bar")),rNt(t,"y","bar"))},YUt={vgMark:"shape",encodeEntry:t=>Object.assign({},lNt(t,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),postEncodingTransform:t=>{const{encoding:e}=t,n=e.shape,r=Object.assign({type:"geoshape",projection:t.projectionName()},n&&IMt(n)&&n.type===cDt?{field:JMt(n,{expr:"datum"})}:{});return[r]}},GUt={vgMark:"image",encodeEntry:t=>Object.assign(Object.assign(Object.assign(Object.assign({},lNt(t,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"})),rNt(t,"x","image")),rNt(t,"y","image")),B$t(t,"url"))},KUt={vgMark:"line",encodeEntry:t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},lNt(t,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),W$t("x",t,{defaultPos:"mid"})),W$t("y",t,{defaultPos:"mid"})),q$t("size",t,{vgChannel:"strokeWidth"})),pNt(t))},XUt={vgMark:"trail",encodeEntry:t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},lNt(t,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),W$t("x",t,{defaultPos:"mid"})),W$t("y",t,{defaultPos:"mid"})),q$t("size",t)),pNt(t))};function JUt(t,e){const{config:n}=t;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},lNt(t,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),W$t("x",t,{defaultPos:"mid"})),W$t("y",t,{defaultPos:"mid"})),q$t("size",t)),q$t("angle",t)),ZUt(t,n,e))}function ZUt(t,e,n){return n?{shape:{value:n}}:q$t("shape",t)}const QUt={vgMark:"symbol",encodeEntry:t=>JUt(t)},tqt={vgMark:"symbol",encodeEntry:t=>JUt(t,"circle")},eqt={vgMark:"symbol",encodeEntry:t=>JUt(t,"square")},nqt={vgMark:"rect",encodeEntry:t=>Object.assign(Object.assign(Object.assign({},lNt(t,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),rNt(t,"x","rect")),rNt(t,"y","rect"))},rqt={vgMark:"rule",encodeEntry:t=>{const{markDef:e}=t,n=e.orient;return t.encoding.x||t.encoding.y||t.encoding.latitude||t.encoding.longitude?Object.assign(Object.assign(Object.assign(Object.assign({},lNt(t,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),Z$t("x",t,{defaultPos:"horizontal"===n?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==n})),Z$t("y",t,{defaultPos:"vertical"===n?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==n})),q$t("size",t,{vgChannel:"strokeWidth"})):{}}},iqt={vgMark:"text",encodeEntry:t=>{const{config:e,encoding:n}=t;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},lNt(t,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"})),W$t("x",t,{defaultPos:"mid"})),W$t("y",t,{defaultPos:"mid"})),B$t(t)),q$t("size",t,{vgChannel:"fontSize"})),q$t("angle",t)),mNt("align",oqt(t.markDef,n,e))),mNt("baseline",aqt(t.markDef,n,e))),W$t("radius",t,{defaultPos:null,isMidPoint:!0})),W$t("theta",t,{defaultPos:null,isMidPoint:!0}))}};function oqt(t,e,n){const r=$Tt("align",t,n);if(void 0===r)return"center"}function aqt(t,e,n){const r=$Tt("baseline",t,n);if(void 0===r)return"middle"}const sqt={vgMark:"rect",encodeEntry:t=>{const{config:e,markDef:n}=t,r=n.orient,i="horizontal"===r?"width":"height",o="horizontal"===r?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},lNt(t,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),W$t("x",t,{defaultPos:"mid",vgChannel:"xc"})),W$t("y",t,{defaultPos:"mid",vgChannel:"yc"})),q$t("size",t,{defaultValue:uqt(t),vgChannel:i})),{[o]:DTt($Tt("thickness",n,e))})}};function uqt(t){var e;const{config:n,markDef:r}=t,{orient:i}=r,o="horizontal"===i?"width":"height",a=t.getScaleComponent("horizontal"===i?"x":"y"),s=null!==(e=$Tt("size",r,n,{vgChannel:o}))&&void 0!==e?e:n.tick.bandSize;if(void 0!==s)return s;{const t=a?a.get("range"):void 0;if(t&&BEt(t)&&jxt(t.step))return 3*t.step/4;const e=KFt(n.view,o);return 3*e/4}}const cqt={arc:VUt,area:HUt,bar:WUt,circle:tqt,geoshape:YUt,image:GUt,line:KUt,point:QUt,rect:nqt,rule:rqt,square:eqt,text:iqt,tick:sqt,trail:XUt};function lqt(t){return u_t([Q_t,X_t,okt],t.mark)?hqt(t):u_t([J_t],t.mark)?pqt(t):mqt(t)}const fqt="faceted_path_";function hqt(t){const e=KTt(t.mark,t.encoding),n=mqt(t,{fromPrefix:e.length>0?fqt:""});return e.length>0?[{name:t.getName("pathgroup"),type:"group",from:{facet:{name:fqt+t.requestDataName(l$t),data:t.requestDataName(l$t),groupby:e}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:n}]:n}const dqt="stack_group_";function pqt(t){const e=UEt.some((e=>$Tt(e,t.markDef,t.config)));if(t.stack&&!t.fieldDef("size")&&e){const[e]=mqt(t,{fromPrefix:dqt}),n=t.scaleName(t.stack.fieldChannel),r=(e={})=>t.vgField(t.stack.fieldChannel,e),i=(t,e)=>{const i=[r({prefix:"min",suffix:"start",expr:e}),r({prefix:"max",suffix:"start",expr:e}),r({prefix:"min",suffix:"end",expr:e}),r({prefix:"max",suffix:"end",expr:e})];return`${t}(${i.map((t=>`scale('${n}',${t})`)).join(",")})`};let o,a;"x"===t.stack.fieldChannel?(o=Object.assign(Object.assign({},r_t(e.encode.update,["y","yc","y2","height",...UEt])),{x:{signal:i("min","datum")},x2:{signal:i("max","datum")},clip:{value:!0}}),a={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},e.encode.update=Object.assign(Object.assign({},i_t(e.encode.update,["y","yc","y2"])),{height:{field:{group:"height"}}})):(o=Object.assign(Object.assign({},r_t(e.encode.update,["x","xc","x2","width"])),{y:{signal:i("min","datum")},y2:{signal:i("max","datum")},clip:{value:!0}}),a={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},e.encode.update=Object.assign(Object.assign({},i_t(e.encode.update,["x","xc","x2"])),{width:{field:{group:"width"}}}));for(const l of UEt){const n=NTt(l,t.markDef,t.config);e.encode.update[l]?(o[l]=e.encode.update[l],delete e.encode.update[l]):n&&(o[l]=DTt(n)),n&&(e.encode.update[l]={value:0})}const s=t.fieldDef(t.stack.groupbyChannel),u=JMt(s)?[JMt(s)]:[];((null===s||void 0===s?void 0:s.bin)||(null===s||void 0===s?void 0:s.timeUnit))&&u.push(JMt(s,{binSuffix:"end"}));const c=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"];return o=c.reduce(((n,r)=>{if(e.encode.update[r])return Object.assign(Object.assign({},n),{[r]:e.encode.update[r]});{const e=NTt(r,t.markDef,t.config);return void 0!==e?Object.assign(Object.assign({},n),{[r]:DTt(e)}):n}}),o),o.stroke&&(o.strokeForeground={value:!0},o.strokeOffset={value:0}),[{type:"group",from:{facet:{data:t.requestDataName(l$t),name:dqt+t.requestDataName(l$t),groupby:u,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:o},marks:[{type:"group",encode:{update:a},marks:[e]}]}]}return mqt(t)}function gqt(t){const{encoding:e,stack:n,mark:r,markDef:i,config:o}=t,a=e.order;if(!(!Dxt(a)&&HMt(a)&&s_t(a.value)||!a&&s_t($Tt("order",i,o)))){if((Dxt(a)||IMt(a))&&!n)return PTt(a,{expr:"datum"});if(ckt(r)){const n="horizontal"===i.orient?"y":"x",r=e[n];if(IMt(r)){const e=r.sort;if(Dxt(e))return{field:JMt(r,{prefix:n,suffix:"sort_index",expr:"datum"})};if(kMt(e))return{field:JMt({aggregate:UTt(t.encoding)?e.op:void 0,field:e.field},{expr:"datum"})};if(_Mt(e)){const n=t.fieldDef(e.encoding);return{field:JMt(n,{expr:"datum"}),order:e.order}}return null===e?void 0:{field:JMt(r,{binSuffix:t.stack&&t.stack.impute?"mid":void 0,expr:"datum"})}}}else;}}function mqt(t,e={fromPrefix:""}){const{mark:n,markDef:r,config:i}=t,o=N_t(r.clip,vqt(t),yqt(t)),a=OTt(r),s=t.encoding.key,u=gqt(t),c=bqt(t),l=$Tt("aria",r,i),f=cqt[n].postEncodingTransform?cqt[n].postEncodingTransform(t):null;return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:t.getName("marks"),type:cqt[n].vgMark},o?{clip:!0}:{}),a?{style:a}:{}),s?{key:s.field}:{}),u?{sort:u}:{}),c||{}),!1===l?{aria:l}:{}),{from:{data:e.fromPrefix+t.requestDataName(l$t)},encode:{update:cqt[n].encodeEntry(t)}}),f?{transform:f}:{})]}function vqt(t){const e=t.getScaleComponent("x"),n=t.getScaleComponent("y");return!!(e&&e.get("selectionExtent")||n&&n.get("selectionExtent"))||void 0}function yqt(t){const e=t.component.projection;return!(!e||e.isFit)||void 0}function bqt(t){if(!t.component.selection)return null;const e=b_t(t.component.selection).length;let n=e,r=t.parent;while(r&&0===n)n=b_t(r.component.selection).length,r=r.parent;return n?{interactive:e>0}:null}class wqt extends qzt{constructor(t,e,n,r={},i){var o,a;super(t,"unit",e,n,i,void 0,qFt(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection={},this.children=[];const s=hkt(t.mark)?t.mark.type:t.mark;this.markDef=jUt(t.mark,null!==(o=t.encoding)&&void 0!==o?o:{},i,{graticule:t.data&&c$t(t.data)});const u=this.encoding=HTt(null!==(a=t.encoding)&&void 0!==a?a:{},this.markDef,i);this.size=IUt({encoding:u,size:qFt(t)?Object.assign(Object.assign(Object.assign({},r),t.width?{width:t.width}:{}),t.height?{height:t.height}:{}):r}),this.stack=kOt(s,u),this.specifiedScales=this.initScales(s,u),this.specifiedAxes=this.initAxes(u),this.specifiedLegends=this.initLegend(u),this.specifiedProjection=t.projection,this.selection=t.selection}get hasProjection(){const{encoding:t}=this,e=this.mark===ukt,n=t&&SAt.some((e=>qMt(t[e])));return e||n}scaleDomain(t){const e=this.specifiedScales[t];return e?e.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,e){return DSt.reduce(((t,n)=>{var r;const i=dTt(e[n]);return i&&(t[n]=null!==(r=i.scale)&&void 0!==r?r:{}),t}),{})}initAxes(t){return lSt.reduce(((e,n)=>{const r=t[n];if(qMt(r)||n===Ukt&&qMt(t.x2)||n===qkt&&qMt(t.y2)){const t=qMt(r)?r.axis:void 0;e[n]=t?Object.assign({},t):t}return e}),{})}initLegend(t){return ASt.reduce(((e,n)=>{const r=dTt(t[n]);if(r&&CSt(n)){const t=r.legend;e[n]=t?Object.assign({},t):t}return e}),{})}parseData(){this.component.data=kUt(this)}parseLayoutSize(){gUt(this)}parseSelections(){this.component.selection=WPt(this,this.selection)}parseMarkGroup(){this.component.mark=lqt(this)}parseAxesAndHeaders(){this.component.axes=TUt(this)}assembleSelectionTopLevelSignals(t){return nBt(this,t)}assembleSignals(){return[...tIt(this),...tBt(this,[])]}assembleSelectionData(t){return rBt(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return UIt(this)}assembleMarks(){var t;let e=null!==(t=this.component.mark)&&void 0!==t?t:[];return this.parent&&zzt(this.parent)||(e=iBt(this,e)),e.map(this.correctDataNames)}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return zTt(this.encoding,t)}fieldDef(t){const e=this.encoding[t];return hTt(e)}typedFieldDef(t){const e=this.fieldDef(t);return VMt(e)?e:null}}class xqt extends Uzt{constructor(t,e,n,r,i){super(t,"layer",e,n,i,t.resolve,t.view);const o=Object.assign(Object.assign(Object.assign({},r),t.width?{width:t.width}:{}),t.height?{height:t.height}:{});this.children=t.layer.map(((t,e)=>{if(dOt(t))return new xqt(t,this,this.getName("layer_"+e),o,i);if(Ckt(t))return new wqt(t,this,this.getName("layer_"+e),o,i);throw new Error(USt(t))}))}parseData(){this.component.data=kUt(this);for(const t of this.children)t.parseData()}parseLayoutSize(){fUt(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const e of b_t(t.component.selection))this.component.selection[e]=t.component.selection[e]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){OUt(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce(((t,e)=>e.assembleSelectionTopLevelSignals(t)),t)}assembleSignals(){return this.children.reduce(((t,e)=>t.concat(e.assembleSignals())),tIt(this))}assembleLayoutSignals(){return this.children.reduce(((t,e)=>t.concat(e.assembleLayoutSignals())),UIt(this))}assembleSelectionData(t){return this.children.reduce(((t,e)=>e.assembleSelectionData(t)),t)}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const e of this.children)if(t=e.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return oBt(this,this.children.flatMap((t=>t.assembleMarks())))}assembleLegends(){return this.children.reduce(((t,e)=>t.concat(e.assembleLegends())),Ejt(this))}}function _qt(t,e,n,r,i){if(EMt(t))return new yUt(t,e,n,i);if(dOt(t))return new xqt(t,e,n,r,i);if(Ckt(t))return new wqt(t,e,n,r,i);if(IFt(t))return new AUt(t,e,n,i);throw new Error(USt(t))}function kqt(t,e={}){e.logger&&oEt(e.logger),e.fieldTitle&&oTt(e.fieldTitle);try{const n=aOt(Fxt(e.config,t.config)),r=zOt(t,n),i=_qt(r,null,"",void 0,n);i.parse(),RLt(i.component.data,i);const o=Sqt(i,Aqt(t,r.autosize,n,i),t.datasets,t.usermeta);return{spec:o,normalized:r}}finally{e.logger&&aEt(),e.fieldTitle&&aTt()}}function Aqt(t,e,n,r){const i=r.component.layoutSize.get("width"),o=r.component.layoutSize.get("height");if(void 0===e?(e={type:"pad"},r.hasAxisOrientSignalRef()&&(e.resize=!0)):Lxt(e)&&(e={type:e}),i&&o&&WOt(e.type))if("step"===i&&"step"===o)sEt(WSt()),e.type="pad";else if("step"===i||"step"===o){const t="step"===i?"width":"height";sEt(WSt(pSt(t)));const n="width"===t?"height":"width";e.type=YOt(n)}return Object.assign(Object.assign(Object.assign({},1===b_t(e).length&&e.type?"pad"===e.type?{}:{autosize:e.type}:{autosize:e}),KOt(n)),KOt(t))}function Sqt(t,e,n={},r){const i=t.config?lOt(t.config):void 0,o=[].concat(t.assembleSelectionData([]),oUt(t.component.data,n)),a=t.assembleProjections(),s=t.assembleTitle(),u=t.assembleGroupStyle(),c=t.assembleGroupEncodeEntry(!0);let l=t.assembleLayoutSignals();return l=l.filter((t=>"width"!==t.name&&"height"!==t.name||void 0===t.value||(e[t.name]=+t.value,!1))),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({$schema:"https://vega.github.io/schema/vega/v5.json"},t.description?{description:t.description}:{}),e),s?{title:s}:{}),u?{style:u}:{}),c?{encode:{update:c}}:{}),{data:o}),a.length>0?{projections:a}:{}),t.assembleGroup([...l,...t.assembleSelectionTopLevelSignals([])])),i?{config:i}:{}),r?{usermeta:r}:{})}class Cqt extends mOt{mapUnit(t,{config:e}){if(t.encoding){const{encoding:n,transform:r}=t,{bins:i,timeUnits:o,aggregate:a,groupby:s,encoding:u}=qTt(n,e),c=[...r||[],...i,...o,...0===a.length?[]:[{aggregate:a,groupby:s}]];return Object.assign(Object.assign(Object.assign({},t),c.length>0?{transform:c}:{}),{encoding:u})}return t}}const Eqt=new Cqt;function Dqt(t,e){return Eqt.map(t,{config:e})}const Mqt=fxt.rE;function Tqt(t){const[e,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(t).slice(1,3);return{library:e,version:n}}var Fqt=Tqt,Oqt="vega-themes",$qt="2.15.0",Nqt="Themes for stylized Vega and Vega-Lite visualizations.",Bqt=["vega","vega-lite","themes","style"],Rqt="BSD-3-Clause",Pqt={name:"UW Interactive Data Lab",url:"https://idl.cs.washington.edu"},Iqt=[{name:"Emily Gu",url:"https://github.com/emilygu"},{name:"Arvind Satyanarayan",url:"http://arvindsatya.com"},{name:"Jeffrey Heer",url:"https://idl.cs.washington.edu"},{name:"Dominik Moritz",url:"https://www.domoritz.de"}],jqt="build/vega-themes.js",Lqt="build/vega-themes.module.js",zqt="build/vega-themes.min.js",Uqt="build/vega-themes.min.js",qqt="build/vega-themes.module.d.ts",Vqt={type:"git",url:"https://github.com/vega/vega-themes.git"},Hqt=["src","build"],Wqt={prebuild:"yarn clean",build:"rollup -c",clean:"rimraf build && rimraf examples/build","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && mkdir -p examples/build && rsync -r build/* examples/build && gh-pages -d examples",preversion:"yarn lint",serve:"browser-sync start -s -f build examples --serveStatic examples",start:"yarn build && concurrently --kill-others -n Server,Rollup 'yarn serve' 'rollup -c -w'",format:"eslint . --fix",lint:"eslint .",release:"release-it"},Yqt={"@babel/core":"^7.24.6","@babel/plugin-transform-runtime":"^7.24.6","@babel/preset-env":"^7.24.6","@babel/preset-typescript":"^7.24.6","@release-it/conventional-changelog":"^8.0.1","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.4","@typescript-eslint/eslint-plugin":"^7.11.0","@typescript-eslint/parser":"^7.11.0","browser-sync":"^3.0.2",concurrently:"^8.2.2",eslint:"^8.45.0","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^5.1.3","gh-pages":"^6.1.1",prettier:"^3.2.5","release-it":"^17.3.0",rollup:"^4.18.0","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-ts":"^3.4.5",typescript:"^5.4.5",vega:"^5.25.0","vega-lite":"^5.9.3"},Gqt={vega:"*","vega-lite":"*"},Kqt={},Xqt={name:Oqt,version:$qt,description:Nqt,keywords:Bqt,license:Rqt,author:Pqt,contributors:Iqt,main:jqt,module:Lqt,unpkg:zqt,jsdelivr:Uqt,types:qqt,repository:Vqt,files:Hqt,scripts:Wqt,devDependencies:Yqt,peerDependencies:Gqt,dependencies:Kqt};const Jqt="#fff",Zqt="#888",Qqt={background:"#333",view:{stroke:Zqt},title:{color:Jqt,subtitleColor:Jqt},style:{"guide-label":{fill:Jqt},"guide-title":{fill:Jqt}},axis:{domainColor:Jqt,gridColor:Zqt,tickColor:Jqt}},tVt="#4572a7",eVt={background:"#fff",arc:{fill:tVt},area:{fill:tVt},line:{stroke:tVt,strokeWidth:2},path:{stroke:tVt},rect:{fill:tVt},shape:{stroke:tVt},symbol:{fill:tVt,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},nVt="#30a2da",rVt="#cbcbcb",iVt="#999",oVt="#333",aVt="#f0f0f0",sVt="#333",uVt={arc:{fill:nVt},area:{fill:nVt},axis:{domainColor:rVt,grid:!0,gridColor:rVt,gridWidth:1,labelColor:iVt,labelFontSize:10,titleColor:oVt,tickColor:rVt,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:aVt,group:{fill:aVt},legend:{labelColor:sVt,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:sVt,titleFontSize:14,titlePadding:10},line:{stroke:nVt,strokeWidth:2},path:{stroke:nVt,strokeWidth:.5},rect:{fill:nVt},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:nVt},bar:{binSpacing:2,fill:nVt,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},cVt="#000",lVt={group:{fill:"#e5e5e5"},arc:{fill:cVt},area:{fill:cVt},line:{stroke:cVt},path:{stroke:cVt},rect:{fill:cVt},shape:{stroke:cVt},symbol:{fill:cVt,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},fVt=22,hVt="normal",dVt="Benton Gothic, sans-serif",pVt=11.5,gVt="normal",mVt="#82c6df",vVt="Benton Gothic Bold, sans-serif",yVt="normal",bVt=13,wVt={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},xVt={background:"#ffffff",title:{anchor:"start",color:"#000000",font:vVt,fontSize:fVt,fontWeight:hVt},arc:{fill:mVt},area:{fill:mVt},line:{stroke:mVt,strokeWidth:2},path:{stroke:mVt},rect:{fill:mVt},shape:{stroke:mVt},symbol:{fill:mVt,size:30},axis:{labelFont:dVt,labelFontSize:pVt,labelFontWeight:gVt,titleFont:vVt,titleFontSize:bVt,titleFontWeight:yVt},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:dVt,labelFontSize:pVt,symbolType:"square",titleFont:vVt,titleFontSize:bVt,titleFontWeight:yVt},range:{category:wVt["category-6"],diverging:wVt["fireandice-6"],heatmap:wVt["fire-7"],ordinal:wVt["fire-7"],ramp:wVt["fire-7"]}},_Vt="#ab5787",kVt="#979797",AVt={background:"#f9f9f9",arc:{fill:_Vt},area:{fill:_Vt},line:{stroke:_Vt},path:{stroke:_Vt},rect:{fill:_Vt},shape:{stroke:_Vt},symbol:{fill:_Vt,size:30},axis:{domainColor:kVt,domainWidth:.5,gridWidth:.2,labelColor:kVt,tickColor:kVt,tickWidth:.2,titleColor:kVt},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},SVt="#3e5c69",CVt={background:"#fff",arc:{fill:SVt},area:{fill:SVt},line:{stroke:SVt},path:{stroke:SVt},rect:{fill:SVt},shape:{stroke:SVt},symbol:{fill:SVt},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},EVt="#1696d2",DVt="#000000",MVt="#FFFFFF",TVt="Lato",FVt="Lato",OVt="Lato",$Vt="#DEDDDD",NVt=18,BVt={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},RVt={background:MVt,title:{anchor:"start",fontSize:NVt,font:TVt},axisX:{domain:!0,domainColor:DVt,domainWidth:1,grid:!1,labelFontSize:12,labelFont:FVt,labelAngle:0,tickColor:DVt,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:TVt},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:$Vt,gridWidth:1,labelFontSize:12,labelFont:FVt,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:TVt,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:FVt,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:TVt,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:BVt["six-groups-cat-1"],diverging:BVt["diverging-colors"],heatmap:BVt["diverging-colors"],ordinal:BVt["six-groups-seq"],ramp:BVt["shades-blue"]},area:{fill:EVt},rect:{fill:EVt},line:{color:EVt,stroke:EVt,strokeWidth:5},trail:{color:EVt,stroke:EVt,strokeWidth:0,size:1},path:{stroke:EVt,strokeWidth:.5},point:{filled:!0},text:{font:OVt,color:EVt,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:EVt,stroke:null}},arc:{fill:EVt},shape:{stroke:EVt},symbol:{fill:EVt,size:30}},PVt="#3366CC",IVt="#ccc",jVt="Arial, sans-serif",LVt={arc:{fill:PVt},area:{fill:PVt},path:{stroke:PVt},rect:{fill:PVt},shape:{stroke:PVt},symbol:{stroke:PVt},circle:{fill:PVt},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:jVt,fontSize:12},"guide-title":{font:jVt,fontSize:12},"group-title":{font:jVt,fontSize:12}},title:{font:jVt,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:IVt,tickColor:IVt,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},zVt=t=>t*(1/3+1),UVt=zVt(9),qVt=zVt(10),VVt=zVt(12),HVt="Segoe UI",WVt="wf_standard-font, helvetica, arial, sans-serif",YVt="#252423",GVt="#605E5C",KVt="transparent",XVt="#C8C6C4",JVt="#118DFF",ZVt="#12239E",QVt="#E66C37",tHt="#6B007B",eHt="#E044A7",nHt="#744EC2",rHt="#D9B300",iHt="#D64550",oHt=JVt,aHt="#DEEFFF",sHt=[aHt,oHt],uHt=[aHt,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",oHt],cHt={view:{stroke:KVt},background:KVt,font:HVt,header:{titleFont:WVt,titleFontSize:VVt,titleColor:YVt,labelFont:HVt,labelFontSize:qVt,labelColor:GVt},axis:{ticks:!1,grid:!1,domain:!1,labelColor:GVt,labelFontSize:UVt,titleFont:WVt,titleColor:YVt,titleFontSize:VVt,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:XVt,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:JVt},line:{stroke:JVt,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:HVt,fontSize:UVt,fill:GVt},arc:{fill:JVt},area:{fill:JVt,line:!0,opacity:.6},path:{stroke:JVt},rect:{fill:JVt},point:{fill:JVt,filled:!0,size:75},shape:{stroke:JVt},symbol:{fill:JVt,strokeWidth:1.5,size:50},legend:{titleFont:HVt,titleFontWeight:"bold",titleColor:GVt,labelFont:HVt,labelFontSize:qVt,labelColor:GVt,symbolType:"circle",symbolSize:75},range:{category:[JVt,ZVt,QVt,tHt,eHt,nHt,rHt,iHt],diverging:sHt,heatmap:sHt,ordinal:uHt}},lHt='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',fHt='IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',hHt=400,dHt={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},pHt=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],gHt=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function mHt({theme:t,background:e}){const n=["white","g10"].includes(t)?"light":"dark",r=dHt.gridBg[t],i=dHt.textPrimary[t],o=dHt.textSecondary[t],a="dark"===n?pHt:gHt,s="dark"===n?"#d4bbff":"#6929c4";return{background:e,arc:{fill:s},area:{fill:s},path:{stroke:s},rect:{fill:s},shape:{stroke:s},symbol:{stroke:s},circle:{fill:s},view:{fill:r,stroke:r},group:{fill:r},title:{color:i,anchor:"start",dy:-15,fontSize:16,font:lHt,fontWeight:600},axis:{labelColor:o,labelFontSize:12,labelFont:fHt,labelFontWeight:hHt,titleColor:i,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:dHt.layerAccent01[t],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:lHt,fill:o,fontWeight:hHt},"guide-title":{font:lHt,fill:o,fontWeight:hHt}},range:{category:a,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const vHt=mHt({theme:"white",background:"#ffffff"}),yHt=mHt({theme:"g10",background:"#f4f4f4"}),bHt=mHt({theme:"g90",background:"#262626"}),wHt=mHt({theme:"g100",background:"#161616"}),xHt=Xqt.version;var _Ht="vega-tooltip",kHt="0.25.1",AHt="A tooltip plugin for Vega-Lite and Vega visualizations.",SHt=["vega-lite","vega","tooltip"],CHt={type:"git",url:"https://github.com/vega/vega-tooltip.git"},EHt={name:"UW Interactive Data Lab",url:"https://idl.cs.washington.edu"},DHt=["Dominik Moritz","Sira Horradarn","Zening Qu","Kanit Wongsuphasawat","Yuri Astrakhan","Jeffrey Heer"],MHt="BSD-3-Clause",THt={url:"https://github.com/vega/vega-tooltip/issues"},FHt="https://github.com/vega/vega-tooltip#readme",OHt="build/vega-tooltip.js",$Ht="build/vega-tooltip.module.js",NHt="build/vega-tooltip.min.js",BHt="build/vega-tooltip.min.js",RHt="build/vega-tooltip.module.d.ts",PHt=["src","build","types"],IHt={prebuild:"yarn clean && yarn build:style",build:"rollup -c","build:style":"./build-style.sh",clean:"rimraf build && rimraf src/style.ts","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && yarn copy:build && gh-pages -d examples && yarn clean",prepublishOnly:"yarn clean && yarn build",preversion:"yarn lint && yarn test",serve:"browser-sync start -s -f build examples --serveStatic examples",start:"yarn build && concurrently --kill-others -n Server,Rollup 'yarn serve' 'rollup -c -w'",pretest:"yarn build:style",test:"beemo jest","test:inspect":"node --inspect-brk ./node_modules/.bin/jest --runInBand",prepare:"beemo create-config && yarn copy:data",prettierbase:"beemo prettier '*.{css,scss,html}'",eslintbase:"beemo eslint .",format:"yarn eslintbase --fix && yarn prettierbase --write",lint:"yarn eslintbase && yarn prettierbase --check"},jHt={"@rollup/plugin-json":"^4.1.0","@rollup/plugin-node-resolve":"^11.2.0","@wessberg/rollup-plugin-ts":"^1.3.8","browser-sync":"^2.26.14",concurrently:"^6.0.0","gh-pages":"^3.1.0","node-sass":"^5.0.0",path:"^0.12.7",rollup:"^2.39.1","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-terser":"^7.0.2",typescript:"~4.2.2","vega-datasets":"^2.2.0","vega-lite-dev-config":"^0.16.1","vega-typings":"^0.19.2"},LHt={"vega-util":"^1.16.0"},zHt={name:_Ht,version:kHt,description:AHt,keywords:SHt,repository:CHt,author:EHt,collaborators:DHt,license:MHt,bugs:THt,homepage:FHt,main:OHt,module:$Ht,unpkg:NHt,jsdelivr:BHt,types:RHt,files:PHt,scripts:IHt,devDependencies:jHt,dependencies:LHt},UHt="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n";const qHt="vg-tooltip-element",VHt={offsetX:10,offsetY:10,id:qHt,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:HHt,maxDepth:2};function HHt(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function WHt(t){if(!/^[A-Za-z]+[-:.\w]*$/.test(t))throw new Error("Invalid HTML ID");return UHt.toString().replace(qHt,t)}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function YHt(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function GHt(t,e,n){if(St(t))return`[${t.map((t=>e(_e(t)?t:XHt(t,n)))).join(", ")}]`;if(Ct(t)){let r="";const i=t,{title:o,image:a}=i,s=YHt(i,["title","image"]);o&&(r+=`<h2>${e(o)}</h2>`),a&&(r+=`<img src="${e(a)}">`);const u=Object.keys(s);if(u.length>0){r+="<table>";for(const t of u){let i=s[t];void 0!==i&&(Ct(i)&&(i=XHt(i,n)),r+=`<tr><td class="key">${e(t)}:</td><td class="value">${e(i)}</td></tr>`)}r+="</table>"}return r||"{}"}return e(t)}function KHt(t){const e=[];return function(n,r){if("object"!==typeof r||null===r)return r;const i=e.indexOf(this)+1;return e.length=i,e.length>t?"[Object]":e.indexOf(r)>=0?"[Circular]":(e.push(r),r)}}function XHt(t,e){return JSON.stringify(t,KHt(e))}function JHt(t,e,n,r){let i=t.clientX+n;i+e.width>window.innerWidth&&(i=+t.clientX-n-e.width);let o=t.clientY+r;return o+e.height>window.innerHeight&&(o=+t.clientY-r-e.height),{x:i,y:o}}class ZHt{constructor(t){this.options=Object.assign(Object.assign({},VHt),t);const e=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const t=document.createElement("style");t.setAttribute("id",this.options.styleId),t.innerHTML=WHt(e);const n=document.head;n.childNodes.length>0?n.insertBefore(t,n.childNodes[0]):n.appendChild(t)}}tooltipHandler(t,e,n,r){this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el));const i=null!=document.fullscreenElement?document.fullscreenElement:document.body;if(i.appendChild(this.el),null==r||""===r)return void this.el.classList.remove("visible",`${this.options.theme}-theme`);this.el.innerHTML=GHt(r,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:o,y:a}=JHt(e,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute("style",`top: ${a}px; left: ${o}px`)}}zHt.version;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function QHt(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{u(r.next(t))}catch(Tqt){o(Tqt)}}function s(t){try{u(r["throw"](t))}catch(Tqt){o(Tqt)}}function u(t){t.done?n(t.value):i(t.value).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function tWt(t,e,n){const r=t.open(e),i=1e4,o=250,{origin:a}=new URL(e);let s=~~(i/o);function u(e){e.source===r&&(s=0,t.removeEventListener("message",u,!1))}function c(){s<=0||(r.postMessage(n,a),setTimeout(c,o),s-=1)}t.addEventListener("message",u,!1),setTimeout(c,o)}var eWt,nWt='.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) > :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n  .vega-embed .chart-wrapper {\n    width: 100%;\n    height: 100%; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n';function rWt(t,...e){for(const n of e)iWt(t,n);return t}function iWt(t,e){for(const n of Object.keys(e))Mt(t,n,e[n],!0)}String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return this.substr(!e||e<0?0:+e,t.length)===t});const oWt=y;let aWt=b;const sWt="undefined"!==typeof window?window:void 0;void 0===aWt&&(null===(eWt=null===sWt||void 0===sWt?void 0:sWt["vl"])||void 0===eWt?void 0:eWt.compile)&&(aWt=sWt["vl"]);const uWt={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},cWt={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},lWt={vega:"Vega","vega-lite":"Vega-Lite"},fWt={vega:oWt.version,"vega-lite":aWt?aWt.version:"not available"},hWt={vega:t=>t,"vega-lite":(t,e)=>aWt.compile(t,{config:e}).spec},dWt='\n<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">\n  <circle r="2" cy="8" cx="2"></circle>\n  <circle r="2" cy="8" cx="8"></circle>\n  <circle r="2" cy="8" cx="14"></circle>\n</svg>',pWt="chart-wrapper";function gWt(t){return"function"===typeof t}function mWt(t,e,n,r){const i=`<html><head>${e}</head><body><pre><code class="json">`,o=`</code></pre>${n}</body></html>`,a=window.open("");a.document.write(i+t+o),a.document.title=`${lWt[r]} JSON Source`}function vWt(t,e){var n;if(t.$schema){const r=Fqt(t.$schema);e&&e!==r.library&&console.warn(`The given visualization spec is written in ${lWt[r.library]}, but mode argument sets ${null!==(n=lWt[e])&&void 0!==n?n:e}.`);const i=r.library;return(0,nt.satisfies)(fWt[i],`^${r.version.slice(1)}`)||console.warn(`The input spec uses ${lWt[i]} ${r.version}, but the current version of ${lWt[i]} is v${fWt[i]}.`),i}return"mark"in t||"encoding"in t||"layer"in t||"hconcat"in t||"vconcat"in t||"facet"in t||"repeat"in t?"vega-lite":"marks"in t||"signals"in t||"scales"in t||"axes"in t?"vega":null!==e&&void 0!==e?e:"vega"}function yWt(t){return!(!t||!("load"in t))}function bWt(t){return yWt(t)?t:oWt.loader(t)}function wWt(t){var e;return null!==(e=t.usermeta&&t.usermeta["embedOptions"])&&void 0!==e?e:{}}function xWt(t,e,n={}){var r,i,o;return QHt(this,void 0,void 0,(function*(){let a,s;_e(e)?(s=bWt(n.loader),a=JSON.parse(yield s.load(e))):a=e;const u=wWt(a).loader;s&&!u||(s=bWt(null!==(r=n.loader)&&void 0!==r?r:u));const c=yield _Wt(wWt(a),s),l=yield _Wt(n,s),f=Object.assign(Object.assign({},rWt(l,c)),{config:Dt(null!==(i=l.config)&&void 0!==i?i:{},null!==(o=c.config)&&void 0!==o?o:{})});return yield AWt(t,a,f,s)}))}function _Wt(t,e){var n;return QHt(this,void 0,void 0,(function*(){const r=_e(t.config)?JSON.parse(yield e.load(t.config)):null!==(n=t.config)&&void 0!==n?n:{},i=_e(t.patch)?JSON.parse(yield e.load(t.patch)):t.patch;return Object.assign(Object.assign(Object.assign({},t),i?{patch:i}:{}),r?{config:r}:{})}))}function kWt(t){var e;const n=t.getRootNode?t.getRootNode():document;return n instanceof ShadowRoot?{root:n,rootContainer:n}:{root:document,rootContainer:null!==(e=document.head)&&void 0!==e?e:document.body}}function AWt(t,e,n={},r){var i,o,a,s,u,c;return QHt(this,void 0,void 0,(function*(){const l=n.theme?Dt(w[n.theme],null!==(i=n.config)&&void 0!==i?i:{}):n.config,f=ve(n.actions)?n.actions:rWt({},uWt,null!==(o=n.actions)&&void 0!==o?o:{}),h=Object.assign(Object.assign({},cWt),n.i18n),d=null!==(a=n.renderer)&&void 0!==a?a:"canvas",p=null!==(s=n.logLevel)&&void 0!==s?s:oWt.Warn,g=null!==(u=n.downloadFileName)&&void 0!==u?u:"visualization",m="string"===typeof t?document.querySelector(t):t;if(!m)throw new Error(`${t} does not exist`);if(!1!==n.defaultStyle){const t="vega-embed-style",{root:e,rootContainer:r}=kWt(m);if(!e.getElementById(t)){const e=document.createElement("style");e.id=t,e.innerText=void 0===n.defaultStyle||!0===n.defaultStyle?nWt.toString():n.defaultStyle,r.appendChild(e)}}const v=vWt(e,n.mode);let y=hWt[v](e,l);if("vega-lite"===v&&y.$schema){const t=Fqt(y.$schema);(0,nt.satisfies)(fWt.vega,`^${t.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${t.version}, but current version is v${fWt.vega}.`)}m.classList.add("vega-embed"),f&&m.classList.add("has-actions"),m.innerHTML="";let b=m;if(f){const t=document.createElement("div");t.classList.add(pWt),m.appendChild(t),b=t}const x=n.patch;x&&(y=x instanceof Function?x(y):I(y,x,!0,!1).newDocument),n.formatLocale&&oWt.formatLocale(n.formatLocale),n.timeFormatLocale&&oWt.timeFormatLocale(n.timeFormatLocale);const{ast:_}=n,k=oWt.parse(y,"vega-lite"===v?{}:l,{ast:_}),A=new(n.viewClass||oWt.View)(k,Object.assign({loader:r,logLevel:p,renderer:d},_?{expr:oWt.expressionInterpreter}:{}));if(!1!==n.tooltip){let t;t=gWt(n.tooltip)?n.tooltip:new ZHt(!0===n.tooltip?{}:n.tooltip).call,A.tooltip(t)}let S,{hover:C}=n;if(void 0===C&&(C="vega"===v),C){const{hoverSet:t,updateSet:e}="boolean"===typeof C?{}:C;A.hover(t,e)}if(n&&(null!=n.width&&A.width(n.width),null!=n.height&&A.height(n.height),null!=n.padding&&A.padding(n.padding)),yield A.initialize(b,n.bind).runAsync(),!1!==f){let t=m;if(!1!==n.defaultStyle){const e=document.createElement("details");e.title=h.CLICK_TO_VIEW_ACTIONS,m.append(e),t=e;const n=document.createElement("summary");n.innerHTML=dWt,e.append(n),S=t=>{e.contains(t.target)||e.removeAttribute("open")},document.addEventListener("click",S)}const r=document.createElement("div");if(t.append(r),r.classList.add("vega-actions"),!0===f||!1!==f.export)for(const e of["svg","png"])if(!0===f||!0===f.export||f.export[e]){const t=h[`${e.toUpperCase()}_ACTION`],i=document.createElement("a");i.text=t,i.href="#",i.target="_blank",i.download=`${g}.${e}`,i.addEventListener("mousedown",(function(t){return QHt(this,void 0,void 0,(function*(){t.preventDefault();const r=yield A.toImageURL(e,n.scaleFactor);this.href=r}))})),r.append(i)}if(!0===f||!1!==f.source){const t=document.createElement("a");t.text=h.SOURCE_ACTION,t.href="#",t.addEventListener("click",(function(t){var r,i;mWt(et()(e),null!==(r=n.sourceHeader)&&void 0!==r?r:"",null!==(i=n.sourceFooter)&&void 0!==i?i:"",v),t.preventDefault()})),r.append(t)}if("vega-lite"===v&&(!0===f||!1!==f.compiled)){const t=document.createElement("a");t.text=h.COMPILED_ACTION,t.href="#",t.addEventListener("click",(function(t){var e,r;mWt(et()(y),null!==(e=n.sourceHeader)&&void 0!==e?e:"",null!==(r=n.sourceFooter)&&void 0!==r?r:"","vega"),t.preventDefault()})),r.append(t)}if(!0===f||!1!==f.editor){const t=null!==(c=n.editorUrl)&&void 0!==c?c:"https://vega.github.io/editor/",i=document.createElement("a");i.text=h.EDITOR_ACTION,i.href="#",i.addEventListener("click",(function(n){tWt(window,t,{config:l,mode:v,renderer:d,spec:et()(e)}),n.preventDefault()})),r.append(i)}}function E(){S&&document.removeEventListener("click",S),A.finalize()}return{view:A,spec:e,vgSpec:y,finalize:E}}))}var SWt=xWt},147:function(t,e,n){const r=Symbol("SemVer ANY");class i{static get ANY(){return r}constructor(t,e){if(e=o(e),t instanceof i){if(t.loose===!!e.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),c("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===r?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(t){const e=this.options.loose?a[s.COMPARATORLOOSE]:a[s.COMPARATOR],n=t.match(e);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new l(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(t){if(c("Comparator.test",t,this.options.loose),this.semver===r||t===r)return!0;if("string"===typeof t)try{t=new l(t,this.options)}catch(e){return!1}return u(t,this.operator,this.semver,this.options)}intersects(t,e){if(!(t instanceof i))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new f(t.value,e).test(this.value):""===t.operator?""===t.value||new f(this.value,e).test(t.semver):(e=o(e),(!e.includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==t.value)&&(!(!e.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!t.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!t.operator.startsWith("<"))||(!(this.semver.version!==t.semver.version||!this.operator.includes("=")||!t.operator.includes("="))||(!!(u(this.semver,"<",t.semver,e)&&this.operator.startsWith(">")&&t.operator.startsWith("<"))||!!(u(this.semver,">",t.semver,e)&&this.operator.startsWith("<")&&t.operator.startsWith(">"))))))))}}t.exports=i;const o=n(8324),{safeRe:a,t:s}=n(6063),u=n(4806),c=n(9847),l=n(6283),f=n(2894)},2894:function(t,e,n){const r=/\s+/g;class i{constructor(t,e){if(e=s(e),t instanceof i)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new i(t.raw,e);if(t instanceof u)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t.trim().replace(r," "),this.set=this.raw.split("||").map((t=>this.parseRange(t.trim()))).filter((t=>t.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const t=this.set[0];if(this.set=this.set.filter((t=>!y(t[0]))),0===this.set.length)this.set=[t];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&b(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let t=0;t<this.set.length;t++){t>0&&(this.formatted+="||");const e=this.set[t];for(let t=0;t<e.length;t++)t>0&&(this.formatted+=" "),this.formatted+=e[t].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(t){const e=(this.options.includePrerelease&&m)|(this.options.loose&&v),n=e+":"+t,r=a.get(n);if(r)return r;const i=this.options.loose,o=i?f[h.HYPHENRANGELOOSE]:f[h.HYPHENRANGE];t=t.replace(o,F(this.options.includePrerelease)),c("hyphen replace",t),t=t.replace(f[h.COMPARATORTRIM],d),c("comparator trim",t),t=t.replace(f[h.TILDETRIM],p),c("tilde trim",t),t=t.replace(f[h.CARETTRIM],g),c("caret trim",t);let s=t.split(" ").map((t=>x(t,this.options))).join(" ").split(/\s+/).map((t=>T(t,this.options)));i&&(s=s.filter((t=>(c("loose invalid filter",t,this.options),!!t.match(f[h.COMPARATORLOOSE]))))),c("range list",s);const l=new Map,b=s.map((t=>new u(t,this.options)));for(const a of b){if(y(a))return[a];l.set(a.value,a)}l.size>1&&l.has("")&&l.delete("");const w=[...l.values()];return a.set(n,w),w}intersects(t,e){if(!(t instanceof i))throw new TypeError("a Range is required");return this.set.some((n=>w(n,e)&&t.set.some((t=>w(t,e)&&n.every((n=>t.every((t=>n.intersects(t,e)))))))))}test(t){if(!t)return!1;if("string"===typeof t)try{t=new l(t,this.options)}catch(e){return!1}for(let n=0;n<this.set.length;n++)if(O(this.set[n],t,this.options))return!0;return!1}}t.exports=i;const o=n(4967),a=new o,s=n(8324),u=n(147),c=n(9847),l=n(6283),{safeRe:f,t:h,comparatorTrimReplace:d,tildeTrimReplace:p,caretTrimReplace:g}=n(6063),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:v}=n(3101),y=t=>"<0.0.0-0"===t.value,b=t=>""===t.value,w=(t,e)=>{let n=!0;const r=t.slice();let i=r.pop();while(n&&r.length)n=r.every((t=>i.intersects(t,e))),i=r.pop();return n},x=(t,e)=>(c("comp",t,e),t=S(t,e),c("caret",t),t=k(t,e),c("tildes",t),t=E(t,e),c("xrange",t),t=M(t,e),c("stars",t),t),_=t=>!t||"x"===t.toLowerCase()||"*"===t,k=(t,e)=>t.trim().split(/\s+/).map((t=>A(t,e))).join(" "),A=(t,e)=>{const n=e.loose?f[h.TILDELOOSE]:f[h.TILDE];return t.replace(n,((e,n,r,i,o)=>{let a;return c("tilde",t,e,n,r,i,o),_(n)?a="":_(r)?a=`>=${n}.0.0 <${+n+1}.0.0-0`:_(i)?a=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:o?(c("replaceTilde pr",o),a=`>=${n}.${r}.${i}-${o} <${n}.${+r+1}.0-0`):a=`>=${n}.${r}.${i} <${n}.${+r+1}.0-0`,c("tilde return",a),a}))},S=(t,e)=>t.trim().split(/\s+/).map((t=>C(t,e))).join(" "),C=(t,e)=>{c("caret",t,e);const n=e.loose?f[h.CARETLOOSE]:f[h.CARET],r=e.includePrerelease?"-0":"";return t.replace(n,((e,n,i,o,a)=>{let s;return c("caret",t,e,n,i,o,a),_(n)?s="":_(i)?s=`>=${n}.0.0${r} <${+n+1}.0.0-0`:_(o)?s="0"===n?`>=${n}.${i}.0${r} <${n}.${+i+1}.0-0`:`>=${n}.${i}.0${r} <${+n+1}.0.0-0`:a?(c("replaceCaret pr",a),s="0"===n?"0"===i?`>=${n}.${i}.${o}-${a} <${n}.${i}.${+o+1}-0`:`>=${n}.${i}.${o}-${a} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${o}-${a} <${+n+1}.0.0-0`):(c("no pr"),s="0"===n?"0"===i?`>=${n}.${i}.${o}${r} <${n}.${i}.${+o+1}-0`:`>=${n}.${i}.${o}${r} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${o} <${+n+1}.0.0-0`),c("caret return",s),s}))},E=(t,e)=>(c("replaceXRanges",t,e),t.split(/\s+/).map((t=>D(t,e))).join(" ")),D=(t,e)=>{t=t.trim();const n=e.loose?f[h.XRANGELOOSE]:f[h.XRANGE];return t.replace(n,((n,r,i,o,a,s)=>{c("xRange",t,n,r,i,o,a,s);const u=_(i),l=u||_(o),f=l||_(a),h=f;return"="===r&&h&&(r=""),s=e.includePrerelease?"-0":"",u?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&h?(l&&(o=0),a=0,">"===r?(r=">=",l?(i=+i+1,o=0,a=0):(o=+o+1,a=0)):"<="===r&&(r="<",l?i=+i+1:o=+o+1),"<"===r&&(s="-0"),n=`${r+i}.${o}.${a}${s}`):l?n=`>=${i}.0.0${s} <${+i+1}.0.0-0`:f&&(n=`>=${i}.${o}.0${s} <${i}.${+o+1}.0-0`),c("xRange return",n),n}))},M=(t,e)=>(c("replaceStars",t,e),t.trim().replace(f[h.STAR],"")),T=(t,e)=>(c("replaceGTE0",t,e),t.trim().replace(f[e.includePrerelease?h.GTE0PRE:h.GTE0],"")),F=t=>(e,n,r,i,o,a,s,u,c,l,f,h)=>(n=_(r)?"":_(i)?`>=${r}.0.0${t?"-0":""}`:_(o)?`>=${r}.${i}.0${t?"-0":""}`:a?`>=${n}`:`>=${n}${t?"-0":""}`,u=_(c)?"":_(l)?`<${+c+1}.0.0-0`:_(f)?`<${c}.${+l+1}.0-0`:h?`<=${c}.${l}.${f}-${h}`:t?`<${c}.${l}.${+f+1}-0`:`<=${u}`,`${n} ${u}`.trim()),O=(t,e,n)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let n=0;n<t.length;n++)if(c(t[n].semver),t[n].semver!==u.ANY&&t[n].semver.prerelease.length>0){const r=t[n].semver;if(r.major===e.major&&r.minor===e.minor&&r.patch===e.patch)return!0}return!1}return!0}},6283:function(t,e,n){const r=n(9847),{MAX_LENGTH:i,MAX_SAFE_INTEGER:o}=n(3101),{safeRe:a,t:s}=n(6063),u=n(8324),{compareIdentifiers:c}=n(8884);class l{constructor(t,e){if(e=u(e),t instanceof l){if(t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease)return t;t=t.version}else if("string"!==typeof t)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>i)throw new TypeError(`version is longer than ${i} characters`);r("SemVer",t,e),this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease;const n=t.trim().match(e.loose?a[s.LOOSE]:a[s.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((t=>{if(/^[0-9]+$/.test(t)){const e=+t;if(e>=0&&e<o)return e}return t})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(r("SemVer.compare",this.version,this.options,t),!(t instanceof l)){if("string"===typeof t&&t===this.version)return 0;t=new l(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof l||(t=new l(t,this.options)),c(this.major,t.major)||c(this.minor,t.minor)||c(this.patch,t.patch)}comparePre(t){if(t instanceof l||(t=new l(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let e=0;do{const n=this.prerelease[e],i=t.prerelease[e];if(r("prerelease compare",e,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return c(n,i)}while(++e)}compareBuild(t){t instanceof l||(t=new l(t,this.options));let e=0;do{const n=this.build[e],i=t.build[e];if(r("build compare",e,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return c(n,i)}while(++e)}inc(t,e,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e,n),this.inc("pre",e,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e,n),this.inc("pre",e,n);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const t=Number(n)?1:0;if(!e&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[t];else{let r=this.prerelease.length;while(--r>=0)"number"===typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(e===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(t)}}if(e){let r=[e,t];!1===n&&(r=[e]),0===c(this.prerelease[0],e)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}t.exports=l},9479:function(t,e,n){const r=n(7262),i=(t,e)=>{const n=r(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};t.exports=i},4806:function(t,e,n){const r=n(2314),i=n(6638),o=n(4311),a=n(2228),s=n(528),u=n(7645),c=(t,e,n,c)=>{switch(e){case"===":return"object"===typeof t&&(t=t.version),"object"===typeof n&&(n=n.version),t===n;case"!==":return"object"===typeof t&&(t=t.version),"object"===typeof n&&(n=n.version),t!==n;case"":case"=":case"==":return r(t,n,c);case"!=":return i(t,n,c);case">":return o(t,n,c);case">=":return a(t,n,c);case"<":return s(t,n,c);case"<=":return u(t,n,c);default:throw new TypeError(`Invalid operator: ${e}`)}};t.exports=c},5177:function(t,e,n){const r=n(6283),i=n(7262),{safeRe:o,t:a}=n(6063),s=(t,e)=>{if(t instanceof r)return t;if("number"===typeof t&&(t=String(t)),"string"!==typeof t)return null;e=e||{};let n=null;if(e.rtl){const r=e.includePrerelease?o[a.COERCERTLFULL]:o[a.COERCERTL];let i;while((i=r.exec(t))&&(!n||n.index+n[0].length!==t.length))n&&i.index+i[0].length===n.index+n[0].length||(n=i),r.lastIndex=i.index+i[1].length+i[2].length;r.lastIndex=-1}else n=t.match(e.includePrerelease?o[a.COERCEFULL]:o[a.COERCE]);if(null===n)return null;const s=n[2],u=n[3]||"0",c=n[4]||"0",l=e.includePrerelease&&n[5]?`-${n[5]}`:"",f=e.includePrerelease&&n[6]?`+${n[6]}`:"";return i(`${s}.${u}.${c}${l}${f}`,e)};t.exports=s},4320:function(t,e,n){const r=n(6283),i=(t,e,n)=>{const i=new r(t,n),o=new r(e,n);return i.compare(o)||i.compareBuild(o)};t.exports=i},6330:function(t,e,n){const r=n(9349),i=(t,e)=>r(t,e,!0);t.exports=i},9349:function(t,e,n){const r=n(6283),i=(t,e,n)=>new r(t,n).compare(new r(e,n));t.exports=i},9127:function(t,e,n){const r=n(7262),i=(t,e)=>{const n=r(t,null,!0),i=r(e,null,!0),o=n.compare(i);if(0===o)return null;const a=o>0,s=a?n:i,u=a?i:n,c=!!s.prerelease.length,l=!!u.prerelease.length;if(l&&!c)return u.patch||u.minor?s.patch?"patch":s.minor?"minor":"major":"major";const f=c?"pre":"";return n.major!==i.major?f+"major":n.minor!==i.minor?f+"minor":n.patch!==i.patch?f+"patch":"prerelease"};t.exports=i},2314:function(t,e,n){const r=n(9349),i=(t,e,n)=>0===r(t,e,n);t.exports=i},4311:function(t,e,n){const r=n(9349),i=(t,e,n)=>r(t,e,n)>0;t.exports=i},2228:function(t,e,n){const r=n(9349),i=(t,e,n)=>r(t,e,n)>=0;t.exports=i},5810:function(t,e,n){const r=n(6283),i=(t,e,n,i,o)=>{"string"===typeof n&&(o=i,i=n,n=void 0);try{return new r(t instanceof r?t.version:t,n).inc(e,i,o).version}catch(a){return null}};t.exports=i},528:function(t,e,n){const r=n(9349),i=(t,e,n)=>r(t,e,n)<0;t.exports=i},7645:function(t,e,n){const r=n(9349),i=(t,e,n)=>r(t,e,n)<=0;t.exports=i},9823:function(t,e,n){const r=n(6283),i=(t,e)=>new r(t,e).major;t.exports=i},3915:function(t,e,n){const r=n(6283),i=(t,e)=>new r(t,e).minor;t.exports=i},6638:function(t,e,n){const r=n(9349),i=(t,e,n)=>0!==r(t,e,n);t.exports=i},7262:function(t,e,n){const r=n(6283),i=(t,e,n=!1)=>{if(t instanceof r)return t;try{return new r(t,e)}catch(i){if(!n)return null;throw i}};t.exports=i},3236:function(t,e,n){const r=n(6283),i=(t,e)=>new r(t,e).patch;t.exports=i},7810:function(t,e,n){const r=n(7262),i=(t,e)=>{const n=r(t,e);return n&&n.prerelease.length?n.prerelease:null};t.exports=i},4989:function(t,e,n){const r=n(9349),i=(t,e,n)=>r(e,t,n);t.exports=i},6920:function(t,e,n){const r=n(4320),i=(t,e)=>t.sort(((t,n)=>r(n,t,e)));t.exports=i},5435:function(t,e,n){const r=n(2894),i=(t,e,n)=>{try{e=new r(e,n)}catch(i){return!1}return e.test(t)};t.exports=i},3616:function(t,e,n){const r=n(4320),i=(t,e)=>t.sort(((t,n)=>r(t,n,e)));t.exports=i},2348:function(t,e,n){const r=n(7262),i=(t,e)=>{const n=r(t,e);return n?n.version:null};t.exports=i},6392:function(t,e,n){const r=n(6063),i=n(3101),o=n(6283),a=n(8884),s=n(7262),u=n(2348),c=n(9479),l=n(5810),f=n(9127),h=n(9823),d=n(3915),p=n(3236),g=n(7810),m=n(9349),v=n(4989),y=n(6330),b=n(4320),w=n(3616),x=n(6920),_=n(4311),k=n(528),A=n(2314),S=n(6638),C=n(2228),E=n(7645),D=n(4806),M=n(5177),T=n(147),F=n(2894),O=n(5435),$=n(6718),N=n(5753),B=n(7939),R=n(3802),P=n(7569),I=n(8584),j=n(7508),L=n(4285),z=n(5929),U=n(6076),q=n(1969);t.exports={parse:s,valid:u,clean:c,inc:l,diff:f,major:h,minor:d,patch:p,prerelease:g,compare:m,rcompare:v,compareLoose:y,compareBuild:b,sort:w,rsort:x,gt:_,lt:k,eq:A,neq:S,gte:C,lte:E,cmp:D,coerce:M,Comparator:T,Range:F,satisfies:O,toComparators:$,maxSatisfying:N,minSatisfying:B,minVersion:R,validRange:P,outside:I,gtr:j,ltr:L,intersects:z,simplifyRange:U,subset:q,SemVer:o,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:i.SEMVER_SPEC_VERSION,RELEASE_TYPES:i.RELEASE_TYPES,compareIdentifiers:a.compareIdentifiers,rcompareIdentifiers:a.rcompareIdentifiers}},3101:function(t){const e="2.0.0",n=256,r=Number.MAX_SAFE_INTEGER||9007199254740991,i=16,o=n-6,a=["major","premajor","minor","preminor","patch","prepatch","prerelease"];t.exports={MAX_LENGTH:n,MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:o,MAX_SAFE_INTEGER:r,RELEASE_TYPES:a,SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},9847:function(t){const e="object"===typeof process&&{NODE_ENV:"production",BASE_URL:"/"}.NODE_DEBUG&&/\bsemver\b/i.test({NODE_ENV:"production",BASE_URL:"/"}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};t.exports=e},8884:function(t){const e=/^[0-9]+$/,n=(t,n)=>{const r=e.test(t),i=e.test(n);return r&&i&&(t=+t,n=+n),t===n?0:r&&!i?-1:i&&!r?1:t<n?-1:1},r=(t,e)=>n(e,t);t.exports={compareIdentifiers:n,rcompareIdentifiers:r}},4967:function(t){class e{constructor(){this.max=1e3,this.map=new Map}get(t){const e=this.map.get(t);return void 0===e?void 0:(this.map.delete(t),this.map.set(t,e),e)}delete(t){return this.map.delete(t)}set(t,e){const n=this.delete(t);if(!n&&void 0!==e){if(this.map.size>=this.max){const t=this.map.keys().next().value;this.delete(t)}this.map.set(t,e)}return this}}t.exports=e},8324:function(t){const e=Object.freeze({loose:!0}),n=Object.freeze({}),r=t=>t?"object"!==typeof t?e:t:n;t.exports=r},6063:function(t,e,n){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:o}=n(3101),a=n(9847);e=t.exports={};const s=e.re=[],u=e.safeRe=[],c=e.src=[],l=e.t={};let f=0;const h="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",o],[h,i]],p=t=>{for(const[e,n]of d)t=t.split(`${e}*`).join(`${e}{0,${n}}`).split(`${e}+`).join(`${e}{1,${n}}`);return t},g=(t,e,n)=>{const r=p(e),i=f++;a(t,i,e),l[t]=i,c[i]=e,s[i]=new RegExp(e,n?"g":void 0),u[i]=new RegExp(r,n?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),g("MAINVERSION",`(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${c[l.NUMERICIDENTIFIER]}|${c[l.NONNUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${c[l.NUMERICIDENTIFIERLOOSE]}|${c[l.NONNUMERICIDENTIFIER]})`),g("PRERELEASE",`(?:-(${c[l.PRERELEASEIDENTIFIER]}(?:\\.${c[l.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${c[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[l.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${h}+`),g("BUILD",`(?:\\+(${c[l.BUILDIDENTIFIER]}(?:\\.${c[l.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${c[l.MAINVERSION]}${c[l.PRERELEASE]}?${c[l.BUILD]}?`),g("FULL",`^${c[l.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${c[l.MAINVERSIONLOOSE]}${c[l.PRERELEASELOOSE]}?${c[l.BUILD]}?`),g("LOOSE",`^${c[l.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${c[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${c[l.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:${c[l.PRERELEASE]})?${c[l.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:${c[l.PRERELEASELOOSE]})?${c[l.BUILD]}?)?)?`),g("XRANGE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),g("COERCE",`${c[l.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",c[l.COERCEPLAIN]+`(?:${c[l.PRERELEASE]})?`+`(?:${c[l.BUILD]})?(?:$|[^\\d])`),g("COERCERTL",c[l.COERCE],!0),g("COERCERTLFULL",c[l.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${c[l.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",g("TILDE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${c[l.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",g("CARET",`^${c[l.LONECARET]}${c[l.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${c[l.LONECARET]}${c[l.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${c[l.GTLT]}\\s*(${c[l.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]}|${c[l.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${c[l.XRANGEPLAIN]})\\s+-\\s+(${c[l.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${c[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[l.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},7508:function(t,e,n){const r=n(8584),i=(t,e,n)=>r(t,e,">",n);t.exports=i},5929:function(t,e,n){const r=n(2894),i=(t,e,n)=>(t=new r(t,n),e=new r(e,n),t.intersects(e,n));t.exports=i},4285:function(t,e,n){const r=n(8584),i=(t,e,n)=>r(t,e,"<",n);t.exports=i},5753:function(t,e,n){const r=n(6283),i=n(2894),o=(t,e,n)=>{let o=null,a=null,s=null;try{s=new i(e,n)}catch(u){return null}return t.forEach((t=>{s.test(t)&&(o&&-1!==a.compare(t)||(o=t,a=new r(o,n)))})),o};t.exports=o},7939:function(t,e,n){const r=n(6283),i=n(2894),o=(t,e,n)=>{let o=null,a=null,s=null;try{s=new i(e,n)}catch(u){return null}return t.forEach((t=>{s.test(t)&&(o&&1!==a.compare(t)||(o=t,a=new r(o,n)))})),o};t.exports=o},3802:function(t,e,n){const r=n(6283),i=n(2894),o=n(4311),a=(t,e)=>{t=new i(t,e);let n=new r("0.0.0");if(t.test(n))return n;if(n=new r("0.0.0-0"),t.test(n))return n;n=null;for(let i=0;i<t.set.length;++i){const e=t.set[i];let a=null;e.forEach((t=>{const e=new r(t.semver.version);switch(t.operator){case">":0===e.prerelease.length?e.patch++:e.prerelease.push(0),e.raw=e.format();case"":case">=":a&&!o(e,a)||(a=e);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${t.operator}`)}})),!a||n&&!o(n,a)||(n=a)}return n&&t.test(n)?n:null};t.exports=a},8584:function(t,e,n){const r=n(6283),i=n(147),{ANY:o}=i,a=n(2894),s=n(5435),u=n(4311),c=n(528),l=n(7645),f=n(2228),h=(t,e,n,h)=>{let d,p,g,m,v;switch(t=new r(t,h),e=new a(e,h),n){case">":d=u,p=l,g=c,m=">",v=">=";break;case"<":d=c,p=f,g=u,m="<",v="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s(t,e,h))return!1;for(let r=0;r<e.set.length;++r){const n=e.set[r];let a=null,s=null;if(n.forEach((t=>{t.semver===o&&(t=new i(">=0.0.0")),a=a||t,s=s||t,d(t.semver,a.semver,h)?a=t:g(t.semver,s.semver,h)&&(s=t)})),a.operator===m||a.operator===v)return!1;if((!s.operator||s.operator===m)&&p(t,s.semver))return!1;if(s.operator===v&&g(t,s.semver))return!1}return!0};t.exports=h},6076:function(t,e,n){const r=n(5435),i=n(9349);t.exports=(t,e,n)=>{const o=[];let a=null,s=null;const u=t.sort(((t,e)=>i(t,e,n)));for(const i of u){const t=r(i,e,n);t?(s=i,a||(a=i)):(s&&o.push([a,s]),s=null,a=null)}a&&o.push([a,null]);const c=[];for(const[r,i]of o)r===i?c.push(r):i||r!==u[0]?i?r===u[0]?c.push(`<=${i}`):c.push(`${r} - ${i}`):c.push(`>=${r}`):c.push("*");const l=c.join(" || "),f="string"===typeof e.raw?e.raw:String(e);return l.length<f.length?l:e}},1969:function(t,e,n){const r=n(2894),i=n(147),{ANY:o}=i,a=n(5435),s=n(9349),u=(t,e,n={})=>{if(t===e)return!0;t=new r(t,n),e=new r(e,n);let i=!1;t:for(const r of t.set){for(const t of e.set){const e=f(r,t,n);if(i=i||null!==e,e)continue t}if(i)return!1}return!0},c=[new i(">=0.0.0-0")],l=[new i(">=0.0.0")],f=(t,e,n)=>{if(t===e)return!0;if(1===t.length&&t[0].semver===o){if(1===e.length&&e[0].semver===o)return!0;t=n.includePrerelease?c:l}if(1===e.length&&e[0].semver===o){if(n.includePrerelease)return!0;e=l}const r=new Set;let i,u,f,p,g,m,v;for(const o of t)">"===o.operator||">="===o.operator?i=h(i,o,n):"<"===o.operator||"<="===o.operator?u=d(u,o,n):r.add(o.semver);if(r.size>1)return null;if(i&&u){if(f=s(i.semver,u.semver,n),f>0)return null;if(0===f&&(">="!==i.operator||"<="!==u.operator))return null}for(const o of r){if(i&&!a(o,String(i),n))return null;if(u&&!a(o,String(u),n))return null;for(const t of e)if(!a(o,String(t),n))return!1;return!0}let y=!(!u||n.includePrerelease||!u.semver.prerelease.length)&&u.semver,b=!(!i||n.includePrerelease||!i.semver.prerelease.length)&&i.semver;y&&1===y.prerelease.length&&"<"===u.operator&&0===y.prerelease[0]&&(y=!1);for(const o of e){if(v=v||">"===o.operator||">="===o.operator,m=m||"<"===o.operator||"<="===o.operator,i)if(b&&o.semver.prerelease&&o.semver.prerelease.length&&o.semver.major===b.major&&o.semver.minor===b.minor&&o.semver.patch===b.patch&&(b=!1),">"===o.operator||">="===o.operator){if(p=h(i,o,n),p===o&&p!==i)return!1}else if(">="===i.operator&&!a(i.semver,String(o),n))return!1;if(u)if(y&&o.semver.prerelease&&o.semver.prerelease.length&&o.semver.major===y.major&&o.semver.minor===y.minor&&o.semver.patch===y.patch&&(y=!1),"<"===o.operator||"<="===o.operator){if(g=d(u,o,n),g===o&&g!==u)return!1}else if("<="===u.operator&&!a(u.semver,String(o),n))return!1;if(!o.operator&&(u||i)&&0!==f)return!1}return!(i&&m&&!u&&0!==f)&&(!(u&&v&&!i&&0!==f)&&(!b&&!y))},h=(t,e,n)=>{if(!t)return e;const r=s(t.semver,e.semver,n);return r>0?t:r<0||">"===e.operator&&">="===t.operator?e:t},d=(t,e,n)=>{if(!t)return e;const r=s(t.semver,e.semver,n);return r<0?t:r>0||"<"===e.operator&&"<="===t.operator?e:t};t.exports=u},6718:function(t,e,n){const r=n(2894),i=(t,e)=>new r(t,e).set.map((t=>t.map((t=>t.value)).join(" ").trim().split(" ")));t.exports=i},7569:function(t,e,n){const r=n(2894),i=(t,e)=>{try{return new r(t,e).range||"*"}catch(n){return null}};t.exports=i},8729:function(t){var e=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}var e,n,r;try{e=Map}catch(l){e=function(){}}try{n=Set}catch(l){n=function(){}}try{r=Promise}catch(l){r=function(){}}function i(o,a,s,u,l){"object"===typeof a&&(s=a.depth,u=a.prototype,l=a.includeNonEnumerable,a=a.circular);var f=[],h=[],d="undefined"!=typeof Buffer;function p(o,s){if(null===o)return null;if(0===s)return o;var g,m;if("object"!=typeof o)return o;if(t(o,e))g=new e;else if(t(o,n))g=new n;else if(t(o,r))g=new r((function(t,e){o.then((function(e){t(p(e,s-1))}),(function(t){e(p(t,s-1))}))}));else if(i.__isArray(o))g=[];else if(i.__isRegExp(o))g=new RegExp(o.source,c(o)),o.lastIndex&&(g.lastIndex=o.lastIndex);else if(i.__isDate(o))g=new Date(o.getTime());else{if(d&&Buffer.isBuffer(o))return g=Buffer.allocUnsafe?Buffer.allocUnsafe(o.length):new Buffer(o.length),o.copy(g),g;t(o,Error)?g=Object.create(o):"undefined"==typeof u?(m=Object.getPrototypeOf(o),g=Object.create(m)):(g=Object.create(u),m=u)}if(a){var v=f.indexOf(o);if(-1!=v)return h[v];f.push(o),h.push(g)}for(var y in t(o,e)&&o.forEach((function(t,e){var n=p(e,s-1),r=p(t,s-1);g.set(n,r)})),t(o,n)&&o.forEach((function(t){var e=p(t,s-1);g.add(e)})),o){var b;m&&(b=Object.getOwnPropertyDescriptor(m,y)),b&&null==b.set||(g[y]=p(o[y],s-1))}if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(o);for(y=0;y<w.length;y++){var x=w[y],_=Object.getOwnPropertyDescriptor(o,x);(!_||_.enumerable||l)&&(g[x]=p(o[x],s-1),_.enumerable||Object.defineProperty(g,x,{enumerable:!1}))}}if(l){var k=Object.getOwnPropertyNames(o);for(y=0;y<k.length;y++){var A=k[y];_=Object.getOwnPropertyDescriptor(o,A);_&&_.enumerable||(g[A]=p(o[A],s-1),Object.defineProperty(g,A,{enumerable:!1}))}}return g}return"undefined"==typeof a&&(a=!0),"undefined"==typeof s&&(s=1/0),p(o,s)}function o(t){return Object.prototype.toString.call(t)}function a(t){return"object"===typeof t&&"[object Date]"===o(t)}function s(t){return"object"===typeof t&&"[object Array]"===o(t)}function u(t){return"object"===typeof t&&"[object RegExp]"===o(t)}function c(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return i.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},i.__objToStr=o,i.__isDate=a,i.__isArray=s,i.__isRegExp=u,i.__getRegExpFlags=c,i}();t.exports&&(t.exports=e)},2721:function(t){(function(e,n){t.exports=n()})("undefined"!==typeof self&&self,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"00ee":function(t,e,n){var r=n("b622"),i=r("toStringTag"),o={};o[i]="z",t.exports="[object z]"===String(o)},"0366":function(t,e,n){var r=n("e330"),i=n("59ed"),o=n("40d5"),a=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?a(t,e):function(){return t.apply(e,arguments)}}},"057f":function(t,e,n){var r=n("c6b6"),i=n("fc6a"),o=n("241c").f,a=n("4dae"),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(t){try{return o(t)}catch(e){return a(s)}};t.exports.f=function(t){return s&&"Window"==r(t)?u(t):o(i(t))}},"06cf":function(t,e,n){var r=n("83ab"),i=n("c65b"),o=n("d1e7"),a=n("5c6c"),s=n("fc6a"),u=n("a04b"),c=n("1a2d"),l=n("0cfb"),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=s(t),e=u(e),l)try{return f(t,e)}catch(n){}if(c(t,e))return a(!i(o.f,t,e),t[e])}},"07fa":function(t,e,n){var r=n("50c4");t.exports=function(t){return r(t.length)}},"0b42":function(t,e,n){var r=n("da84"),i=n("e8b5"),o=n("68ee"),a=n("861d"),s=n("b622"),u=s("species"),c=r.Array;t.exports=function(t){var e;return i(t)&&(e=t.constructor,o(e)&&(e===c||i(e.prototype))?e=void 0:a(e)&&(e=e[u],null===e&&(e=void 0))),void 0===e?c:e}},"0cfb":function(t,e,n){var r=n("83ab"),i=n("d039"),o=n("cc12");t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"0d51":function(t,e,n){var r=n("da84"),i=r.String;t.exports=function(t){try{return i(t)}catch(e){return"Object"}}},"159b":function(t,e,n){var r=n("da84"),i=n("fdbc"),o=n("785a"),a=n("17c2"),s=n("9112"),u=function(t){if(t&&t.forEach!==a)try{s(t,"forEach",a)}catch(e){t.forEach=a}};for(var c in i)i[c]&&u(r[c]&&r[c].prototype);u(o)},1626:function(t,e){t.exports=function(t){return"function"==typeof t}},"17c2":function(t,e,n){"use strict";var r=n("b727").forEach,i=n("a640"),o=i("forEach");t.exports=o?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},"1a2d":function(t,e,n){var r=n("e330"),i=n("7b0b"),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},"1be4":function(t,e,n){var r=n("d066");t.exports=r("document","documentElement")},"1d80":function(t,e,n){var r=n("da84"),i=r.TypeError;t.exports=function(t){if(void 0==t)throw i("Can't call method on "+t);return t}},"1dde":function(t,e,n){var r=n("d039"),i=n("b622"),o=n("2d00"),a=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[],n=e.constructor={};return n[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"23cb":function(t,e,n){var r=n("5926"),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},"23e7":function(t,e,n){var r=n("da84"),i=n("06cf").f,o=n("9112"),a=n("6eeb"),s=n("ce4e"),u=n("e893"),c=n("94ca");t.exports=function(t,e){var n,l,f,h,d,p,g=t.target,m=t.global,v=t.stat;if(l=m?r:v?r[g]||s(g,{}):(r[g]||{}).prototype,l)for(f in e){if(d=e[f],t.noTargetGet?(p=i(l,f),h=p&&p.value):h=l[f],n=c(m?f:g+(v?".":"#")+f,t.forced),!n&&void 0!==h){if(typeof d==typeof h)continue;u(d,h)}(t.sham||h&&h.sham)&&o(d,"sham",!0),a(l,f,d,t)}}},"241c":function(t,e,n){var r=n("ca84"),i=n("7839"),o=i.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},"2ba4":function(t,e,n){var r=n("40d5"),i=Function.prototype,o=i.apply,a=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},"2d00":function(t,e,n){var r,i,o=n("da84"),a=n("342f"),s=o.process,u=o.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(r=l.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(r=a.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),t.exports=i},"342f":function(t,e,n){var r=n("d066");t.exports=r("navigator","userAgent")||""},"37e8":function(t,e,n){var r=n("83ab"),i=n("aed9"),o=n("9bf2"),a=n("825a"),s=n("fc6a"),u=n("df75");e.f=r&&!i?Object.defineProperties:function(t,e){a(t);var n,r=s(e),i=u(e),c=i.length,l=0;while(c>l)o.f(t,n=i[l++],r[n]);return t}},"3a9b":function(t,e,n){var r=n("e330");t.exports=r({}.isPrototypeOf)},"40d5":function(t,e,n){var r=n("d039");t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},"428f":function(t,e,n){var r=n("da84");t.exports=r},"44ad":function(t,e,n){var r=n("da84"),i=n("e330"),o=n("d039"),a=n("c6b6"),s=r.Object,u=i("".split);t.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"==a(t)?u(t,""):s(t)}:s},"485a":function(t,e,n){var r=n("da84"),i=n("c65b"),o=n("1626"),a=n("861d"),s=r.TypeError;t.exports=function(t,e){var n,r;if("string"===e&&o(n=t.toString)&&!a(r=i(n,t)))return r;if(o(n=t.valueOf)&&!a(r=i(n,t)))return r;if("string"!==e&&o(n=t.toString)&&!a(r=i(n,t)))return r;throw s("Can't convert object to primitive value")}},4930:function(t,e,n){var r=n("2d00"),i=n("d039");t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},"4d64":function(t,e,n){var r=n("fc6a"),i=n("23cb"),o=n("07fa"),a=function(t){return function(e,n,a){var s,u=r(e),c=o(u),l=i(a,c);if(t&&n!=n){while(c>l)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},"4dae":function(t,e,n){var r=n("da84"),i=n("23cb"),o=n("07fa"),a=n("8418"),s=r.Array,u=Math.max;t.exports=function(t,e,n){for(var r=o(t),c=i(e,r),l=i(void 0===n?r:n,r),f=s(u(l-c,0)),h=0;c<l;c++,h++)a(f,h,t[c]);return f.length=h,f}},"4de4":function(t,e,n){"use strict";var r=n("23e7"),i=n("b727").filter,o=n("1dde"),a=o("filter");r({target:"Array",proto:!0,forced:!a},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"50c4":function(t,e,n){var r=n("5926"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},5692:function(t,e,n){var r=n("c430"),i=n("c6cd");(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.21.1",mode:r?"pure":"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},"56ef":function(t,e,n){var r=n("d066"),i=n("e330"),o=n("241c"),a=n("7418"),s=n("825a"),u=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(s(t)),n=a.f;return n?u(e,n(t)):e}},"577e":function(t,e,n){var r=n("da84"),i=n("f5df"),o=r.String;t.exports=function(t){if("Symbol"===i(t))throw TypeError("Cannot convert a Symbol value to a string");return o(t)}},5926:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){var e=+t;return e!==e||0===e?0:(e>0?r:n)(e)}},"59ed":function(t,e,n){var r=n("da84"),i=n("1626"),o=n("0d51"),a=r.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not a function")}},"5c6c":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"5e77":function(t,e,n){var r=n("83ab"),i=n("1a2d"),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),u=s&&"something"===function(){}.name,c=s&&(!r||r&&a(o,"name").configurable);t.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},"65f0":function(t,e,n){var r=n("0b42");t.exports=function(t,e){return new(r(t))(0===e?0:e)}},"68ee":function(t,e,n){var r=n("e330"),i=n("d039"),o=n("1626"),a=n("f5df"),s=n("d066"),u=n("8925"),c=function(){},l=[],f=s("Reflect","construct"),h=/^\s*(?:class|function)\b/,d=r(h.exec),p=!h.exec(c),g=function(t){if(!o(t))return!1;try{return f(c,l,t),!0}catch(e){return!1}},m=function(t){if(!o(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!d(h,u(t))}catch(e){return!0}};m.sham=!0,t.exports=!f||i((function(){var t;return g(g.call)||!g(Object)||!g((function(){t=!0}))||t}))?m:g},"69f3":function(t,e,n){var r,i,o,a=n("7f9a"),s=n("da84"),u=n("e330"),c=n("861d"),l=n("9112"),f=n("1a2d"),h=n("c6cd"),d=n("f772"),p=n("d012"),g="Object already initialized",m=s.TypeError,v=s.WeakMap,y=function(t){return o(t)?i(t):r(t,{})},b=function(t){return function(e){var n;if(!c(e)||(n=i(e)).type!==t)throw m("Incompatible receiver, "+t+" required");return n}};if(a||h.state){var w=h.state||(h.state=new v),x=u(w.get),_=u(w.has),k=u(w.set);r=function(t,e){if(_(w,t))throw new m(g);return e.facade=t,k(w,t,e),e},i=function(t){return x(w,t)||{}},o=function(t){return _(w,t)}}else{var A=d("state");p[A]=!0,r=function(t,e){if(f(t,A))throw new m(g);return e.facade=t,l(t,A,e),e},i=function(t){return f(t,A)?t[A]:{}},o=function(t){return f(t,A)}}t.exports={set:r,get:i,has:o,enforce:y,getterFor:b}},"6eeb":function(t,e,n){var r=n("da84"),i=n("1626"),o=n("1a2d"),a=n("9112"),s=n("ce4e"),u=n("8925"),c=n("69f3"),l=n("5e77").CONFIGURABLE,f=c.get,h=c.enforce,d=String(String).split("String");(t.exports=function(t,e,n,u){var c,f=!!u&&!!u.unsafe,p=!!u&&!!u.enumerable,g=!!u&&!!u.noTargetGet,m=u&&void 0!==u.name?u.name:e;i(n)&&("Symbol("===String(m).slice(0,7)&&(m="["+String(m).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!o(n,"name")||l&&n.name!==m)&&a(n,"name",m),c=h(n),c.source||(c.source=d.join("string"==typeof m?m:""))),t!==r?(f?!g&&t[e]&&(p=!0):delete t[e],p?t[e]=n:a(t,e,n)):p?t[e]=n:s(e,n)})(Function.prototype,"toString",(function(){return i(this)&&f(this).source||u(this)}))},7418:function(t,e){e.f=Object.getOwnPropertySymbols},"746f":function(t,e,n){var r=n("428f"),i=n("1a2d"),o=n("e538"),a=n("9bf2").f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},7839:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"785a":function(t,e,n){var r=n("cc12"),i=r("span").classList,o=i&&i.constructor&&i.constructor.prototype;t.exports=o===Object.prototype?void 0:o},"7b0b":function(t,e,n){var r=n("da84"),i=n("1d80"),o=r.Object;t.exports=function(t){return o(i(t))}},"7c73":function(t,e,n){var r,i=n("825a"),o=n("37e8"),a=n("7839"),s=n("d012"),u=n("1be4"),c=n("cc12"),l=n("f772"),f=">",h="<",d="prototype",p="script",g=l("IE_PROTO"),m=function(){},v=function(t){return h+p+f+t+h+"/"+p+f},y=function(t){t.write(v("")),t.close();var e=t.parentWindow.Object;return t=null,e},b=function(){var t,e=c("iframe"),n="java"+p+":";return e.style.display="none",u.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(v("document.F=Object")),t.close(),t.F},w=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}w="undefined"!=typeof document?document.domain&&r?y(r):b():y(r);var t=a.length;while(t--)delete w[d][a[t]];return w()};s[g]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(m[d]=i(t),n=new m,m[d]=null,n[g]=t):n=w(),void 0===e?n:o.f(n,e)}},"7f9a":function(t,e,n){var r=n("da84"),i=n("1626"),o=n("8925"),a=r.WeakMap;t.exports=i(a)&&/native code/.test(o(a))},"825a":function(t,e,n){var r=n("da84"),i=n("861d"),o=r.String,a=r.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not an object")}},"83ab":function(t,e,n){var r=n("d039");t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(t,e,n){"use strict";var r=n("a04b"),i=n("9bf2"),o=n("5c6c");t.exports=function(t,e,n){var a=r(e);a in t?i.f(t,a,o(0,n)):t[a]=n}},"861d":function(t,e,n){var r=n("1626");t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},8875:function(t,e,n){var r,i,o;(function(n,a){i=[],r=a,o="function"===typeof r?r.apply(e,i):r,void 0===o||(t.exports=o)})("undefined"!==typeof self&&self,(function(){function t(){var e=Object.getOwnPropertyDescriptor(document,"currentScript");if(!e&&"currentScript"in document&&document.currentScript)return document.currentScript;if(e&&e.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(d){var n,r,i,o=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,a=/@([^@]*):(\d+):(\d+)\s*$/gi,s=o.exec(d.stack)||a.exec(d.stack),u=s&&s[1]||!1,c=s&&s[2]||!1,l=document.location.href.replace(document.location.hash,""),f=document.getElementsByTagName("script");u===l&&(n=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(c-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),i=n.replace(r,"$1").trim());for(var h=0;h<f.length;h++){if("interactive"===f[h].readyState)return f[h];if(f[h].src===u)return f[h];if(u===l&&f[h].innerHTML&&f[h].innerHTML.trim()===i)return f[h]}return null}}return t}))},8925:function(t,e,n){var r=n("e330"),i=n("1626"),o=n("c6cd"),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return a(t)}),t.exports=o.inspectSource},"90e3":function(t,e,n){var r=n("e330"),i=0,o=Math.random(),a=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+o,36)}},9112:function(t,e,n){var r=n("83ab"),i=n("9bf2"),o=n("5c6c");t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},"94ca":function(t,e,n){var r=n("d039"),i=n("1626"),o=/#|\.prototype\./,a=function(t,e){var n=u[s(t)];return n==l||n!=c&&(i(e)?r(e):!!e)},s=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},"9bf2":function(t,e,n){var r=n("da84"),i=n("83ab"),o=n("0cfb"),a=n("aed9"),s=n("825a"),u=n("a04b"),c=r.TypeError,l=Object.defineProperty,f=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",p="writable";e.f=i?a?function(t,e,n){if(s(t),e=u(e),s(n),"function"===typeof t&&"prototype"===e&&"value"in n&&p in n&&!n[p]){var r=f(t,e);r&&r[p]&&(t[e]=n.value,n={configurable:d in n?n[d]:r[d],enumerable:h in n?n[h]:r[h],writable:!1})}return l(t,e,n)}:l:function(t,e,n){if(s(t),e=u(e),s(n),o)try{return l(t,e,n)}catch(r){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},a04b:function(t,e,n){var r=n("c04e"),i=n("d9b5");t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},a4d3:function(t,e,n){"use strict";var r=n("23e7"),i=n("da84"),o=n("d066"),a=n("2ba4"),s=n("c65b"),u=n("e330"),c=n("c430"),l=n("83ab"),f=n("4930"),h=n("d039"),d=n("1a2d"),p=n("e8b5"),g=n("1626"),m=n("861d"),v=n("3a9b"),y=n("d9b5"),b=n("825a"),w=n("7b0b"),x=n("fc6a"),_=n("a04b"),k=n("577e"),A=n("5c6c"),S=n("7c73"),C=n("df75"),E=n("241c"),D=n("057f"),M=n("7418"),T=n("06cf"),F=n("9bf2"),O=n("37e8"),$=n("d1e7"),N=n("f36a"),B=n("6eeb"),R=n("5692"),P=n("f772"),I=n("d012"),j=n("90e3"),L=n("b622"),z=n("e538"),U=n("746f"),q=n("d44e"),V=n("69f3"),H=n("b727").forEach,W=P("hidden"),Y="Symbol",G="prototype",K=L("toPrimitive"),X=V.set,J=V.getterFor(Y),Z=Object[G],Q=i.Symbol,tt=Q&&Q[G],et=i.TypeError,nt=i.QObject,rt=o("JSON","stringify"),it=T.f,ot=F.f,at=D.f,st=$.f,ut=u([].push),ct=R("symbols"),lt=R("op-symbols"),ft=R("string-to-symbol-registry"),ht=R("symbol-to-string-registry"),dt=R("wks"),pt=!nt||!nt[G]||!nt[G].findChild,gt=l&&h((function(){return 7!=S(ot({},"a",{get:function(){return ot(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=it(Z,e);r&&delete Z[e],ot(t,e,n),r&&t!==Z&&ot(Z,e,r)}:ot,mt=function(t,e){var n=ct[t]=S(tt);return X(n,{type:Y,tag:t,description:e}),l||(n.description=e),n},vt=function(t,e,n){t===Z&&vt(lt,e,n),b(t);var r=_(e);return b(n),d(ct,r)?(n.enumerable?(d(t,W)&&t[W][r]&&(t[W][r]=!1),n=S(n,{enumerable:A(0,!1)})):(d(t,W)||ot(t,W,A(1,{})),t[W][r]=!0),gt(t,r,n)):ot(t,r,n)},yt=function(t,e){b(t);var n=x(e),r=C(n).concat(kt(n));return H(r,(function(e){l&&!s(wt,n,e)||vt(t,e,n[e])})),t},bt=function(t,e){return void 0===e?S(t):yt(S(t),e)},wt=function(t){var e=_(t),n=s(st,this,e);return!(this===Z&&d(ct,e)&&!d(lt,e))&&(!(n||!d(this,e)||!d(ct,e)||d(this,W)&&this[W][e])||n)},xt=function(t,e){var n=x(t),r=_(e);if(n!==Z||!d(ct,r)||d(lt,r)){var i=it(n,r);return!i||!d(ct,r)||d(n,W)&&n[W][r]||(i.enumerable=!0),i}},_t=function(t){var e=at(x(t)),n=[];return H(e,(function(t){d(ct,t)||d(I,t)||ut(n,t)})),n},kt=function(t){var e=t===Z,n=at(e?lt:x(t)),r=[];return H(n,(function(t){!d(ct,t)||e&&!d(Z,t)||ut(r,ct[t])})),r};if(f||(Q=function(){if(v(tt,this))throw et("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?k(arguments[0]):void 0,e=j(t),n=function(t){this===Z&&s(n,lt,t),d(this,W)&&d(this[W],e)&&(this[W][e]=!1),gt(this,e,A(1,t))};return l&&pt&&gt(Z,e,{configurable:!0,set:n}),mt(e,t)},tt=Q[G],B(tt,"toString",(function(){return J(this).tag})),B(Q,"withoutSetter",(function(t){return mt(j(t),t)})),$.f=wt,F.f=vt,O.f=yt,T.f=xt,E.f=D.f=_t,M.f=kt,z.f=function(t){return mt(L(t),t)},l&&(ot(tt,"description",{configurable:!0,get:function(){return J(this).description}}),c||B(Z,"propertyIsEnumerable",wt,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:Q}),H(C(dt),(function(t){U(t)})),r({target:Y,stat:!0,forced:!f},{for:function(t){var e=k(t);if(d(ft,e))return ft[e];var n=Q(e);return ft[e]=n,ht[n]=e,n},keyFor:function(t){if(!y(t))throw et(t+" is not a symbol");if(d(ht,t))return ht[t]},useSetter:function(){pt=!0},useSimple:function(){pt=!1}}),r({target:"Object",stat:!0,forced:!f,sham:!l},{create:bt,defineProperty:vt,defineProperties:yt,getOwnPropertyDescriptor:xt}),r({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:_t,getOwnPropertySymbols:kt}),r({target:"Object",stat:!0,forced:h((function(){M.f(1)}))},{getOwnPropertySymbols:function(t){return M.f(w(t))}}),rt){var At=!f||h((function(){var t=Q();return"[null]"!=rt([t])||"{}"!=rt({a:t})||"{}"!=rt(Object(t))}));r({target:"JSON",stat:!0,forced:At},{stringify:function(t,e,n){var r=N(arguments),i=e;if((m(e)||void 0!==t)&&!y(t))return p(e)||(e=function(t,e){if(g(i)&&(e=s(i,this,t,e)),!y(e))return e}),r[1]=e,a(rt,null,r)}})}if(!tt[K]){var St=tt.valueOf;B(tt,K,(function(t){return s(St,this)}))}q(Q,Y),I[W]=!0},a640:function(t,e,n){"use strict";var r=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){return 1},1)}))}},aed9:function(t,e,n){var r=n("83ab"),i=n("d039");t.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},b041:function(t,e,n){"use strict";var r=n("00ee"),i=n("f5df");t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},b622:function(t,e,n){var r=n("da84"),i=n("5692"),o=n("1a2d"),a=n("90e3"),s=n("4930"),u=n("fdbf"),c=i("wks"),l=r.Symbol,f=l&&l["for"],h=u?l:l&&l.withoutSetter||a;t.exports=function(t){if(!o(c,t)||!s&&"string"!=typeof c[t]){var e="Symbol."+t;s&&o(l,t)?c[t]=l[t]:c[t]=u&&f?f(e):h(e)}return c[t]}},b64b:function(t,e,n){var r=n("23e7"),i=n("7b0b"),o=n("df75"),a=n("d039"),s=a((function(){o(1)}));r({target:"Object",stat:!0,forced:s},{keys:function(t){return o(i(t))}})},b727:function(t,e,n){var r=n("0366"),i=n("e330"),o=n("44ad"),a=n("7b0b"),s=n("07fa"),u=n("65f0"),c=i([].push),l=function(t){var e=1==t,n=2==t,i=3==t,l=4==t,f=6==t,h=7==t,d=5==t||f;return function(p,g,m,v){for(var y,b,w=a(p),x=o(w),_=r(g,m),k=s(x),A=0,S=v||u,C=e?S(p,k):n||h?S(p,0):void 0;k>A;A++)if((d||A in x)&&(y=x[A],b=_(y,A,w),t))if(e)C[A]=b;else if(b)switch(t){case 3:return!0;case 5:return y;case 6:return A;case 2:c(C,y)}else switch(t){case 4:return!1;case 7:c(C,y)}return f?-1:i||l?l:C}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},c04e:function(t,e,n){var r=n("da84"),i=n("c65b"),o=n("861d"),a=n("d9b5"),s=n("dc4a"),u=n("485a"),c=n("b622"),l=r.TypeError,f=c("toPrimitive");t.exports=function(t,e){if(!o(t)||a(t))return t;var n,r=s(t,f);if(r){if(void 0===e&&(e="default"),n=i(r,t,e),!o(n)||a(n))return n;throw l("Can't convert object to primitive value")}return void 0===e&&(e="number"),u(t,e)}},c430:function(t,e){t.exports=!1},c65b:function(t,e,n){var r=n("40d5"),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},c6b6:function(t,e,n){var r=n("e330"),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},c6cd:function(t,e,n){var r=n("da84"),i=n("ce4e"),o="__core-js_shared__",a=r[o]||i(o,{});t.exports=a},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},ca84:function(t,e,n){var r=n("e330"),i=n("1a2d"),o=n("fc6a"),a=n("4d64").indexOf,s=n("d012"),u=r([].push);t.exports=function(t,e){var n,r=o(t),c=0,l=[];for(n in r)!i(s,n)&&i(r,n)&&u(l,n);while(e.length>c)i(r,n=e[c++])&&(~a(l,n)||u(l,n));return l}},cc12:function(t,e,n){var r=n("da84"),i=n("861d"),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},ce4e:function(t,e,n){var r=n("da84"),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},d012:function(t,e){t.exports={}},d039:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},d066:function(t,e,n){var r=n("da84"),i=n("1626"),o=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t]):r[t]&&r[t][e]}},d1e7:function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},d3b7:function(t,e,n){var r=n("00ee"),i=n("6eeb"),o=n("b041");r||i(Object.prototype,"toString",o,{unsafe:!0})},d44e:function(t,e,n){var r=n("9bf2").f,i=n("1a2d"),o=n("b622"),a=o("toStringTag");t.exports=function(t,e,n){t&&!n&&(t=t.prototype),t&&!i(t,a)&&r(t,a,{configurable:!0,value:e})}},d9b5:function(t,e,n){var r=n("da84"),i=n("d066"),o=n("1626"),a=n("3a9b"),s=n("fdbf"),u=r.Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return o(e)&&a(e.prototype,u(t))}},da84:function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,n("c8ba"))},dbb4:function(t,e,n){var r=n("23e7"),i=n("83ab"),o=n("56ef"),a=n("fc6a"),s=n("06cf"),u=n("8418");r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){var e,n,r=a(t),i=s.f,c=o(r),l={},f=0;while(c.length>f)n=i(r,e=c[f++]),void 0!==n&&u(l,e,n);return l}})},dc4a:function(t,e,n){var r=n("59ed");t.exports=function(t,e){var n=t[e];return null==n?void 0:r(n)}},df75:function(t,e,n){var r=n("ca84"),i=n("7839");t.exports=Object.keys||function(t){return r(t,i)}},e330:function(t,e,n){var r=n("40d5"),i=Function.prototype,o=i.bind,a=i.call,s=r&&o.bind(a,a);t.exports=r?function(t){return t&&s(t)}:function(t){return t&&function(){return a.apply(t,arguments)}}},e439:function(t,e,n){var r=n("23e7"),i=n("d039"),o=n("fc6a"),a=n("06cf").f,s=n("83ab"),u=i((function(){a(1)})),c=!s||u;r({target:"Object",stat:!0,forced:c,sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},e538:function(t,e,n){var r=n("b622");e.f=r},e893:function(t,e,n){var r=n("1a2d"),i=n("56ef"),o=n("06cf"),a=n("9bf2");t.exports=function(t,e,n){for(var s=i(e),u=a.f,c=o.f,l=0;l<s.length;l++){var f=s[l];r(t,f)||n&&r(n,f)||u(t,f,c(e,f))}}},e8b5:function(t,e,n){var r=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}},f36a:function(t,e,n){var r=n("e330");t.exports=r([].slice)},f5df:function(t,e,n){var r=n("da84"),i=n("00ee"),o=n("1626"),a=n("c6b6"),s=n("b622"),u=s("toStringTag"),c=r.Object,l="Arguments"==a(function(){return arguments}()),f=function(t,e){try{return t[e]}catch(n){}};t.exports=i?a:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=f(e=c(t),u))?n:l?a(e):"Object"==(r=a(e))&&o(e.callee)?"Arguments":r}},f772:function(t,e,n){var r=n("5692"),i=n("90e3"),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},fb15:function(t,e,n){"use strict";if(n.r(e),n.d(e,"VueMathjax",(function(){return g})),"undefined"!==typeof window){var r=window.document.currentScript,i=n("8875");r=i(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:i});var o=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(n.p=o[1])}var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{ref:"mathJaxEl"},[t._v(t._s(t.formula))])},s=[];function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n("b64b"),n("a4d3"),n("4de4"),n("d3b7"),n("e439"),n("159b"),n("dbb4");var f={name:"VueMathjax",props:{formula:{type:String,default:""},safe:{type:Boolean,default:!0},options:{type:Object,default:function(){return{}}}},watch:{formula:function(){this.renderMathJax()}},mounted:function(){this.renderMathJax()},methods:{renderContent:function(){this.safe?this.$refs.mathJaxEl.textContent=this.formula:this.$refs.mathJaxEl.innerHTML=this.formula},renderMathJax:function(){this.renderContent(),window.MathJax&&(window.MathJax.Hub.Config(l({tex2jax:{inlineMath:[["$","$"],["(",")"]],displayMath:[["$$","$$"],["[","]"]],processEscapes:!0,processEnvironments:!0},displayAlign:"center","HTML-CSS":{styles:{".MathJax_Display":{margin:0}},linebreaks:{automatic:!0}}},this.options)),window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,this.$refs.mathJaxEl]))}}},h=f;function d(t,e,n,r,i,o,a,s){var u,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=u):i&&(u=s?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),u)if(c.functional){c._injectStyles=u;var l=c.render;c.render=function(t,e){return u.call(e),l(t,e)}}else{var f=c.beforeCreate;c.beforeCreate=f?[].concat(f,u):[u]}return{exports:t,options:c}}var p=d(h,a,s,!1,null,null,null),g=p.exports,m={install:function(t){t.component("vue-mathjax",g)}};e["default"]=m},fc6a:function(t,e,n){var r=n("44ad"),i=n("1d80");t.exports=function(t){return r(i(t))}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(t,e,n){var r=n("4930");t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}})}))},5471:function(t,e,n){"use strict";n.d(e,{Ay:function(){return wi},EW:function(){return ae},IG:function(){return Jt},KR:function(){return te},Kh:function(){return Vt},QW:function(){return ie},R1:function(){return ne},WQ:function(){return xe},dY:function(){return On},g8:function(){return Yt},hZ:function(){return zt},i9:function(){return Qt},jr:function(){return be},nI:function(){return vt},o5:function(){return ye},uY:function(){return me},ux:function(){return Xt},wB:function(){return de}});
/*!
 * Vue.js v2.7.16
 * (c) 2014-2023 Evan You
 * Released under the MIT License.
 */
var r=Object.freeze({}),i=Array.isArray;function o(t){return void 0===t||null===t}function a(t){return void 0!==t&&null!==t}function s(t){return!0===t}function u(t){return!1===t}function c(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function l(t){return"function"===typeof t}function f(t){return null!==t&&"object"===typeof t}var h=Object.prototype.toString;function d(t){return"[object Object]"===h.call(t)}function p(t){return"[object RegExp]"===h.call(t)}function g(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function m(t){return a(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function v(t){return null==t?"":Array.isArray(t)||d(t)&&t.toString===h?JSON.stringify(t,y,2):String(t)}function y(t,e){return e&&e.__v_isRef?e.value:e}function b(t){var e=parseFloat(t);return isNaN(e)?t:e}function w(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}w("slot,component",!0);var x=w("key,ref,slot,slot-scope,is");function _(t,e){var n=t.length;if(n){if(e===t[n-1])return void(t.length=n-1);var r=t.indexOf(e);if(r>-1)return t.splice(r,1)}}var k=Object.prototype.hasOwnProperty;function A(t,e){return k.call(t,e)}function S(t){var e=Object.create(null);return function(n){var r=e[n];return r||(e[n]=t(n))}}var C=/-(\w)/g,E=S((function(t){return t.replace(C,(function(t,e){return e?e.toUpperCase():""}))})),D=S((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),M=/\B([A-Z])/g,T=S((function(t){return t.replace(M,"-$1").toLowerCase()}));function F(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function O(t,e){return t.bind(e)}var $=Function.prototype.bind?O:F;function N(t,e){e=e||0;var n=t.length-e,r=new Array(n);while(n--)r[n]=t[n+e];return r}function B(t,e){for(var n in e)t[n]=e[n];return t}function R(t){for(var e={},n=0;n<t.length;n++)t[n]&&B(e,t[n]);return e}function P(t,e,n){}var I=function(t,e,n){return!1},j=function(t){return t};function L(t,e){if(t===e)return!0;var n=f(t),r=f(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var i=Array.isArray(t),o=Array.isArray(e);if(i&&o)return t.length===e.length&&t.every((function(t,n){return L(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(i||o)return!1;var a=Object.keys(t),s=Object.keys(e);return a.length===s.length&&a.every((function(n){return L(t[n],e[n])}))}catch(u){return!1}}function z(t,e){for(var n=0;n<t.length;n++)if(L(t[n],e))return n;return-1}function U(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function q(t,e){return t===e?0===t&&1/t!==1/e:t===t||e===e}var V="data-server-rendered",H=["component","directive","filter"],W=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],Y={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:I,isReservedAttr:I,isUnknownElement:I,getTagNamespace:P,parsePlatformTagName:j,mustUseProp:I,async:!0,_lifecycleHooks:W},G=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function K(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function X(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var J=new RegExp("[^".concat(G.source,".$_\\d]"));function Z(t){if(!J.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}var Q="__proto__"in{},tt="undefined"!==typeof window,et=tt&&window.navigator.userAgent.toLowerCase(),nt=et&&/msie|trident/.test(et),rt=et&&et.indexOf("msie 9.0")>0,it=et&&et.indexOf("edge/")>0;et&&et.indexOf("android");var ot=et&&/iphone|ipad|ipod|ios/.test(et);et&&/chrome\/\d+/.test(et),et&&/phantomjs/.test(et);var at,st=et&&et.match(/firefox\/(\d+)/),ut={}.watch,ct=!1;if(tt)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){ct=!0}}),window.addEventListener("test-passive",null,lt)}catch(xs){}var ft=function(){return void 0===at&&(at=!tt&&"undefined"!==typeof n.g&&(n.g["process"]&&"server"===n.g["process"].env.VUE_ENV)),at},ht=tt&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function dt(t){return"function"===typeof t&&/native code/.test(t.toString())}var pt,gt="undefined"!==typeof Symbol&&dt(Symbol)&&"undefined"!==typeof Reflect&&dt(Reflect.ownKeys);pt="undefined"!==typeof Set&&dt(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var mt=null;function vt(){return mt&&{proxy:mt}}function yt(t){void 0===t&&(t=null),t||mt&&mt._scope.off(),mt=t,t&&t._scope.on()}var bt=function(){function t(t,e,n,r,i,o,a,s){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(t.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),t}(),wt=function(t){void 0===t&&(t="");var e=new bt;return e.text=t,e.isComment=!0,e};function xt(t){return new bt(void 0,void 0,void 0,String(t))}function _t(t){var e=new bt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}"function"===typeof SuppressedError&&SuppressedError;var kt=0,At=[],St=function(){for(var t=0;t<At.length;t++){var e=At[t];e.subs=e.subs.filter((function(t){return t})),e._pending=!1}At.length=0},Ct=function(){function t(){this._pending=!1,this.id=kt++,this.subs=[]}return t.prototype.addSub=function(t){this.subs.push(t)},t.prototype.removeSub=function(t){this.subs[this.subs.indexOf(t)]=null,this._pending||(this._pending=!0,At.push(this))},t.prototype.depend=function(e){t.target&&t.target.addDep(this)},t.prototype.notify=function(t){var e=this.subs.filter((function(t){return t}));for(var n=0,r=e.length;n<r;n++){var i=e[n];0,i.update()}},t}();Ct.target=null;var Et=[];function Dt(t){Et.push(t),Ct.target=t}function Mt(){Et.pop(),Ct.target=Et[Et.length-1]}var Tt=Array.prototype,Ft=Object.create(Tt),Ot=["push","pop","shift","unshift","splice","sort","reverse"];Ot.forEach((function(t){var e=Tt[t];X(Ft,t,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i,o=e.apply(this,n),a=this.__ob__;switch(t){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2);break}return i&&a.observeArray(i),a.dep.notify(),o}))}));var $t=Object.getOwnPropertyNames(Ft),Nt={},Bt=!0;function Rt(t){Bt=t}var Pt={notify:P,depend:P,addSub:P,removeSub:P},It=function(){function t(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!1),this.value=t,this.shallow=e,this.mock=n,this.dep=n?Pt:new Ct,this.vmCount=0,X(t,"__ob__",this),i(t)){if(!n)if(Q)t.__proto__=Ft;else for(var r=0,o=$t.length;r<o;r++){var a=$t[r];X(t,a,Ft[a])}e||this.observeArray(t)}else{var s=Object.keys(t);for(r=0;r<s.length;r++){a=s[r];Lt(t,a,Nt,void 0,e,n)}}}return t.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)jt(t[e],!1,this.mock)},t}();function jt(t,e,n){return t&&A(t,"__ob__")&&t.__ob__ instanceof It?t.__ob__:!Bt||!n&&ft()||!i(t)&&!d(t)||!Object.isExtensible(t)||t.__v_skip||Qt(t)||t instanceof bt?void 0:new It(t,e,n)}function Lt(t,e,n,r,o,a,s){void 0===s&&(s=!1);var u=new Ct,c=Object.getOwnPropertyDescriptor(t,e);if(!c||!1!==c.configurable){var l=c&&c.get,f=c&&c.set;l&&!f||n!==Nt&&2!==arguments.length||(n=t[e]);var h=o?n&&n.__ob__:jt(n,!1,a);return Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=l?l.call(t):n;return Ct.target&&(u.depend(),h&&(h.dep.depend(),i(e)&&qt(e))),Qt(e)&&!o?e.value:e},set:function(e){var r=l?l.call(t):n;if(q(r,e)){if(f)f.call(t,e);else{if(l)return;if(!o&&Qt(r)&&!Qt(e))return void(r.value=e);n=e}h=o?e&&e.__ob__:jt(e,!1,a),u.notify()}}}),u}}function zt(t,e,n){if(!Kt(t)){var r=t.__ob__;return i(t)&&g(e)?(t.length=Math.max(t.length,e),t.splice(e,1,n),r&&!r.shallow&&r.mock&&jt(n,!1,!0),n):e in t&&!(e in Object.prototype)?(t[e]=n,n):t._isVue||r&&r.vmCount?n:r?(Lt(r.value,e,n,void 0,r.shallow,r.mock),r.dep.notify(),n):(t[e]=n,n)}}function Ut(t,e){if(i(t)&&g(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||Kt(t)||A(t,e)&&(delete t[e],n&&n.dep.notify())}}function qt(t){for(var e=void 0,n=0,r=t.length;n<r;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),i(e)&&qt(e)}function Vt(t){return Wt(t,!1),t}function Ht(t){return Wt(t,!0),X(t,"__v_isShallow",!0),t}function Wt(t,e){if(!Kt(t)){jt(t,e,ft());0}}function Yt(t){return Kt(t)?Yt(t["__v_raw"]):!(!t||!t.__ob__)}function Gt(t){return!(!t||!t.__v_isShallow)}function Kt(t){return!(!t||!t.__v_isReadonly)}function Xt(t){var e=t&&t["__v_raw"];return e?Xt(e):t}function Jt(t){return Object.isExtensible(t)&&X(t,"__v_skip",!0),t}var Zt="__v_isRef";function Qt(t){return!(!t||!0!==t.__v_isRef)}function te(t){return ee(t,!1)}function ee(t,e){if(Qt(t))return t;var n={};return X(n,Zt,!0),X(n,"__v_isShallow",e),X(n,"dep",Lt(n,"value",t,null,e,ft())),n}function ne(t){return Qt(t)?t.value:t}function re(t,e,n){Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function(){var t=e[n];if(Qt(t))return t.value;var r=t&&t.__ob__;return r&&r.dep.depend(),t},set:function(t){var r=e[n];Qt(r)&&!Qt(t)?r.value=t:e[n]=t}})}function ie(t){var e=i(t)?new Array(t.length):{};for(var n in t)e[n]=oe(t,n);return e}function oe(t,e,n){var r=t[e];if(Qt(r))return r;var i={get value(){var r=t[e];return void 0===r?n:r},set value(n){t[e]=n}};return X(i,Zt,!0),i}function ae(t,e){var n,r,i=l(t);i?(n=t,r=P):(n=t.get,r=t.set);var o=ft()?null:new zn(mt,n,P,{lazy:!0});var a={effect:o,get value(){return o?(o.dirty&&o.evaluate(),Ct.target&&o.depend(),o.value):n()},set value(t){r(t)}};return X(a,Zt,!0),X(a,"__v_isReadonly",i),a}var se="watcher",ue="".concat(se," callback"),ce="".concat(se," getter"),le="".concat(se," cleanup");var fe,he={};function de(t,e,n){return pe(t,e,n)}function pe(t,e,n){var o=void 0===n?r:n,a=o.immediate,s=o.deep,u=o.flush,c=void 0===u?"pre":u;o.onTrack,o.onTrigger;var f,h,d=mt,p=function(t,e,n){void 0===n&&(n=null);var r=wn(t,null,n,d,e);return s&&r&&r.__ob__&&r.__ob__.dep.depend(),r},g=!1,m=!1;if(Qt(t)?(f=function(){return t.value},g=Gt(t)):Yt(t)?(f=function(){return t.__ob__.dep.depend(),t},s=!0):i(t)?(m=!0,g=t.some((function(t){return Yt(t)||Gt(t)})),f=function(){return t.map((function(t){return Qt(t)?t.value:Yt(t)?(t.__ob__.dep.depend(),Pn(t)):l(t)?p(t,ce):void 0}))}):f=l(t)?e?function(){return p(t,ce)}:function(){if(!d||!d._isDestroyed)return h&&h(),p(t,se,[y])}:P,e&&s){var v=f;f=function(){return Pn(v())}}var y=function(t){h=b.onStop=function(){p(t,le)}};if(ft())return y=P,e?a&&p(e,ue,[f(),m?[]:void 0,y]):f(),P;var b=new zn(mt,f,P,{lazy:!0});b.noRecurse=!e;var w=m?[]:he;return b.run=function(){if(b.active)if(e){var t=b.get();(s||g||(m?t.some((function(t,e){return q(t,w[e])})):q(t,w)))&&(h&&h(),p(e,ue,[t,w===he?void 0:w,y]),w=t)}else b.get()},"sync"===c?b.update=b.run:"post"===c?(b.post=!0,b.update=function(){return br(b)}):b.update=function(){if(d&&d===mt&&!d._isMounted){var t=d._preWatchers||(d._preWatchers=[]);t.indexOf(b)<0&&t.push(b)}else br(b)},e?a?b.run():w=b.get():"post"===c&&d?d.$once("hook:mounted",(function(){return b.get()})):b.get(),function(){b.teardown()}}var ge=function(){function t(t){void 0===t&&(t=!1),this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=fe,!t&&fe&&(this.index=(fe.scopes||(fe.scopes=[])).push(this)-1)}return t.prototype.run=function(t){if(this.active){var e=fe;try{return fe=this,t()}finally{fe=e}}else 0},t.prototype.on=function(){fe=this},t.prototype.off=function(){fe=this.parent},t.prototype.stop=function(t){if(this.active){var e=void 0,n=void 0;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].teardown();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this.active=!1}},t}();function me(t){return new ge(t)}function ve(t,e){void 0===e&&(e=fe),e&&e.active&&e.effects.push(t)}function ye(){return fe}function be(t){fe&&fe.cleanups.push(t)}function we(t){var e=t._provided,n=t.$parent&&t.$parent._provided;return n===e?t._provided=Object.create(n):e}function xe(t,e,n){void 0===n&&(n=!1);var r=mt;if(r){var i=r.$parent&&r.$parent._provided;if(i&&t in i)return i[t];if(arguments.length>1)return n&&l(e)?e.call(r):e}else 0}var _e=S((function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var r="!"===t.charAt(0);return t=r?t.slice(1):t,{name:t,once:n,capture:r,passive:e}}));function ke(t,e){function n(){var t=n.fns;if(!i(t))return wn(t,null,arguments,e,"v-on handler");for(var r=t.slice(),o=0;o<r.length;o++)wn(r[o],null,arguments,e,"v-on handler")}return n.fns=t,n}function Ae(t,e,n,r,i,a){var u,c,l,f;for(u in t)c=t[u],l=e[u],f=_e(u),o(c)||(o(l)?(o(c.fns)&&(c=t[u]=ke(c,a)),s(f.once)&&(c=t[u]=i(f.name,c,f.capture)),n(f.name,c,f.capture,f.passive,f.params)):c!==l&&(l.fns=c,t[u]=l));for(u in e)o(t[u])&&(f=_e(u),r(f.name,e[u],f.capture))}function Se(t,e,n){var r;t instanceof bt&&(t=t.data.hook||(t.data.hook={}));var i=t[e];function u(){n.apply(this,arguments),_(r.fns,u)}o(i)?r=ke([u]):a(i.fns)&&s(i.merged)?(r=i,r.fns.push(u)):r=ke([i,u]),r.merged=!0,t[e]=r}function Ce(t,e,n){var r=e.options.props;if(!o(r)){var i={},s=t.attrs,u=t.props;if(a(s)||a(u))for(var c in r){var l=T(c);Ee(i,u,c,l,!0)||Ee(i,s,c,l,!1)}return i}}function Ee(t,e,n,r,i){if(a(e)){if(A(e,n))return t[n]=e[n],i||delete e[n],!0;if(A(e,r))return t[n]=e[r],i||delete e[r],!0}return!1}function De(t){for(var e=0;e<t.length;e++)if(i(t[e]))return Array.prototype.concat.apply([],t);return t}function Me(t){return c(t)?[xt(t)]:i(t)?Fe(t):void 0}function Te(t){return a(t)&&a(t.text)&&u(t.isComment)}function Fe(t,e){var n,r,u,l,f=[];for(n=0;n<t.length;n++)r=t[n],o(r)||"boolean"===typeof r||(u=f.length-1,l=f[u],i(r)?r.length>0&&(r=Fe(r,"".concat(e||"","_").concat(n)),Te(r[0])&&Te(l)&&(f[u]=xt(l.text+r[0].text),r.shift()),f.push.apply(f,r)):c(r)?Te(l)?f[u]=xt(l.text+r):""!==r&&f.push(xt(r)):Te(r)&&Te(l)?f[u]=xt(l.text+r.text):(s(t._isVList)&&a(r.tag)&&o(r.key)&&a(e)&&(r.key="__vlist".concat(e,"_").concat(n,"__")),f.push(r)));return f}function Oe(t,e){var n,r,o,s,u=null;if(i(t)||"string"===typeof t)for(u=new Array(t.length),n=0,r=t.length;n<r;n++)u[n]=e(t[n],n);else if("number"===typeof t)for(u=new Array(t),n=0;n<t;n++)u[n]=e(n+1,n);else if(f(t))if(gt&&t[Symbol.iterator]){u=[];var c=t[Symbol.iterator](),l=c.next();while(!l.done)u.push(e(l.value,u.length)),l=c.next()}else for(o=Object.keys(t),u=new Array(o.length),n=0,r=o.length;n<r;n++)s=o[n],u[n]=e(t[s],s,n);return a(u)||(u=[]),u._isVList=!0,u}function $e(t,e,n,r){var i,o=this.$scopedSlots[t];o?(n=n||{},r&&(n=B(B({},r),n)),i=o(n)||(l(e)?e():e)):i=this.$slots[t]||(l(e)?e():e);var a=n&&n.slot;return a?this.$createElement("template",{slot:a},i):i}function Ne(t){return Yr(this.$options,"filters",t,!0)||j}function Be(t,e){return i(t)?-1===t.indexOf(e):t!==e}function Re(t,e,n,r,i){var o=Y.keyCodes[e]||n;return i&&r&&!Y.keyCodes[e]?Be(i,r):o?Be(o,t):r?T(r)!==e:void 0===t}function Pe(t,e,n,r,o){if(n)if(f(n)){i(n)&&(n=R(n));var a=void 0,s=function(i){if("class"===i||"style"===i||x(i))a=t;else{var s=t.attrs&&t.attrs.type;a=r||Y.mustUseProp(e,s,i)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var u=E(i),c=T(i);if(!(u in a)&&!(c in a)&&(a[i]=n[i],o)){var l=t.on||(t.on={});l["update:".concat(i)]=function(t){n[i]=t}}};for(var u in n)s(u)}else;return t}function Ie(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e||(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,this._c,this),Le(r,"__static__".concat(t),!1)),r}function je(t,e,n){return Le(t,"__once__".concat(e).concat(n?"_".concat(n):""),!0),t}function Le(t,e,n){if(i(t))for(var r=0;r<t.length;r++)t[r]&&"string"!==typeof t[r]&&ze(t[r],"".concat(e,"_").concat(r),n);else ze(t,e,n)}function ze(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Ue(t,e){if(e)if(d(e)){var n=t.on=t.on?B({},t.on):{};for(var r in e){var i=n[r],o=e[r];n[r]=i?[].concat(i,o):o}}else;return t}function qe(t,e,n,r){e=e||{$stable:!n};for(var o=0;o<t.length;o++){var a=t[o];i(a)?qe(a,e,n):a&&(a.proxy&&(a.fn.proxy=!0),e[a.key]=a.fn)}return r&&(e.$key=r),e}function Ve(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"===typeof r&&r&&(t[e[n]]=e[n+1])}return t}function He(t,e){return"string"===typeof t?e+t:t}function We(t){t._o=je,t._n=b,t._s=v,t._l=Oe,t._t=$e,t._q=L,t._i=z,t._m=Ie,t._f=Ne,t._k=Re,t._b=Pe,t._v=xt,t._e=wt,t._u=qe,t._g=Ue,t._d=Ve,t._p=He}function Ye(t,e){if(!t||!t.length)return{};for(var n={},r=0,i=t.length;r<i;r++){var o=t[r],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==e&&o.fnContext!==e||!a||null==a.slot)(n.default||(n.default=[])).push(o);else{var s=a.slot,u=n[s]||(n[s]=[]);"template"===o.tag?u.push.apply(u,o.children||[]):u.push(o)}}for(var c in n)n[c].every(Ge)&&delete n[c];return n}function Ge(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Ke(t){return t.isComment&&t.asyncFactory}function Xe(t,e,n,i){var o,a=Object.keys(n).length>0,s=e?!!e.$stable:!a,u=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(s&&i&&i!==r&&u===i.$key&&!a&&!i.$hasNormal)return i;for(var c in o={},e)e[c]&&"$"!==c[0]&&(o[c]=Je(t,n,c,e[c]))}else o={};for(var l in n)l in o||(o[l]=Ze(n,l));return e&&Object.isExtensible(e)&&(e._normalized=o),X(o,"$stable",s),X(o,"$key",u),X(o,"$hasNormal",a),o}function Je(t,e,n,r){var o=function(){var e=mt;yt(t);var n=arguments.length?r.apply(null,arguments):r({});n=n&&"object"===typeof n&&!i(n)?[n]:Me(n);var o=n&&n[0];return yt(e),n&&(!o||1===n.length&&o.isComment&&!Ke(o))?void 0:n};return r.proxy&&Object.defineProperty(e,n,{get:o,enumerable:!0,configurable:!0}),o}function Ze(t,e){return function(){return t[e]}}function Qe(t){var e=t.$options,n=e.setup;if(n){var r=t._setupContext=tn(t);yt(t),Dt();var i=wn(n,null,[t._props||Ht({}),r],t,"setup");if(Mt(),yt(),l(i))e.render=i;else if(f(i))if(t._setupState=i,i.__sfc){var o=t._setupProxy={};for(var a in i)"__sfc"!==a&&re(o,i,a)}else for(var a in i)K(a)||re(t,i,a);else 0}}function tn(t){return{get attrs(){if(!t._attrsProxy){var e=t._attrsProxy={};X(e,"_v_attr_proxy",!0),en(e,t.$attrs,r,t,"$attrs")}return t._attrsProxy},get listeners(){if(!t._listenersProxy){var e=t._listenersProxy={};en(e,t.$listeners,r,t,"$listeners")}return t._listenersProxy},get slots(){return rn(t)},emit:$(t.$emit,t),expose:function(e){e&&Object.keys(e).forEach((function(n){return re(t,e,n)}))}}}function en(t,e,n,r,i){var o=!1;for(var a in e)a in t?e[a]!==n[a]&&(o=!0):(o=!0,nn(t,a,r,i));for(var a in t)a in e||(o=!0,delete t[a]);return o}function nn(t,e,n,r){Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){return n[r][e]}})}function rn(t){return t._slotsProxy||on(t._slotsProxy={},t.$scopedSlots),t._slotsProxy}function on(t,e){for(var n in e)t[n]=e[n];for(var n in t)n in e||delete t[n]}function an(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,i=n&&n.context;t.$slots=Ye(e._renderChildren,i),t.$scopedSlots=n?Xe(t.$parent,n.data.scopedSlots,t.$slots):r,t._c=function(e,n,r,i){return gn(t,e,n,r,i,!1)},t.$createElement=function(e,n,r,i){return gn(t,e,n,r,i,!0)};var o=n&&n.data;Lt(t,"$attrs",o&&o.attrs||r,null,!0),Lt(t,"$listeners",e._parentListeners||r,null,!0)}var sn=null;function un(t){We(t.prototype),t.prototype.$nextTick=function(t){return On(t,this)},t.prototype._render=function(){var t=this,e=t.$options,n=e.render,r=e._parentVnode;r&&t._isMounted&&(t.$scopedSlots=Xe(t.$parent,r.data.scopedSlots,t.$slots,t.$scopedSlots),t._slotsProxy&&on(t._slotsProxy,t.$scopedSlots)),t.$vnode=r;var o,a=mt,s=sn;try{yt(t),sn=t,o=n.call(t._renderProxy,t.$createElement)}catch(xs){bn(xs,t,"render"),o=t._vnode}finally{sn=s,yt(a)}return i(o)&&1===o.length&&(o=o[0]),o instanceof bt||(o=wt()),o.parent=r,o}}function cn(t,e){return(t.__esModule||gt&&"Module"===t[Symbol.toStringTag])&&(t=t.default),f(t)?e.extend(t):t}function ln(t,e,n,r,i){var o=wt();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:r,tag:i},o}function fn(t,e){if(s(t.error)&&a(t.errorComp))return t.errorComp;if(a(t.resolved))return t.resolved;var n=sn;if(n&&a(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),s(t.loading)&&a(t.loadingComp))return t.loadingComp;if(n&&!a(t.owners)){var r=t.owners=[n],i=!0,u=null,c=null;n.$on("hook:destroyed",(function(){return _(r,n)}));var l=function(t){for(var e=0,n=r.length;e<n;e++)r[e].$forceUpdate();t&&(r.length=0,null!==u&&(clearTimeout(u),u=null),null!==c&&(clearTimeout(c),c=null))},h=U((function(n){t.resolved=cn(n,e),i?r.length=0:l(!0)})),d=U((function(e){a(t.errorComp)&&(t.error=!0,l(!0))})),p=t(h,d);return f(p)&&(m(p)?o(t.resolved)&&p.then(h,d):m(p.component)&&(p.component.then(h,d),a(p.error)&&(t.errorComp=cn(p.error,e)),a(p.loading)&&(t.loadingComp=cn(p.loading,e),0===p.delay?t.loading=!0:u=setTimeout((function(){u=null,o(t.resolved)&&o(t.error)&&(t.loading=!0,l(!1))}),p.delay||200)),a(p.timeout)&&(c=setTimeout((function(){c=null,o(t.resolved)&&d(null)}),p.timeout)))),i=!1,t.loading?t.loadingComp:t.resolved}}function hn(t){if(i(t))for(var e=0;e<t.length;e++){var n=t[e];if(a(n)&&(a(n.componentOptions)||Ke(n)))return n}}var dn=1,pn=2;function gn(t,e,n,r,o,a){return(i(n)||c(n))&&(o=r,r=n,n=void 0),s(a)&&(o=pn),mn(t,e,n,r,o)}function mn(t,e,n,r,o){if(a(n)&&a(n.__ob__))return wt();if(a(n)&&a(n.is)&&(e=n.is),!e)return wt();var s,u;if(i(r)&&l(r[0])&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),o===pn?r=Me(r):o===dn&&(r=De(r)),"string"===typeof e){var c=void 0;u=t.$vnode&&t.$vnode.ns||Y.getTagNamespace(e),s=Y.isReservedTag(e)?new bt(Y.parsePlatformTagName(e),n,r,void 0,void 0,t):n&&n.pre||!a(c=Yr(t.$options,"components",e))?new bt(e,n,r,void 0,void 0,t):Tr(c,n,t,r,e)}else s=Tr(e,n,t,r);return i(s)?s:a(s)?(a(u)&&vn(s,u),a(n)&&yn(n),s):wt()}function vn(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),a(t.children))for(var r=0,i=t.children.length;r<i;r++){var u=t.children[r];a(u.tag)&&(o(u.ns)||s(n)&&"svg"!==u.tag)&&vn(u,e,n)}}function yn(t){f(t.style)&&Pn(t.style),f(t.class)&&Pn(t.class)}function bn(t,e,n){Dt();try{if(e){var r=e;while(r=r.$parent){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{var a=!1===i[o].call(r,t,e,n);if(a)return}catch(xs){xn(xs,r,"errorCaptured hook")}}}xn(t,e,n)}finally{Mt()}}function wn(t,e,n,r,i){var o;try{o=n?t.apply(e,n):t.call(e),o&&!o._isVue&&m(o)&&!o._handled&&(o.catch((function(t){return bn(t,r,i+" (Promise/async)")})),o._handled=!0)}catch(xs){bn(xs,r,i)}return o}function xn(t,e,n){if(Y.errorHandler)try{return Y.errorHandler.call(null,t,e,n)}catch(xs){xs!==t&&_n(xs,null,"config.errorHandler")}_n(t,e,n)}function _n(t,e,n){if(!tt||"undefined"===typeof console)throw t;console.error(t)}var kn,An=!1,Sn=[],Cn=!1;function En(){Cn=!1;var t=Sn.slice(0);Sn.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&dt(Promise)){var Dn=Promise.resolve();kn=function(){Dn.then(En),ot&&setTimeout(P)},An=!0}else if(nt||"undefined"===typeof MutationObserver||!dt(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())kn="undefined"!==typeof setImmediate&&dt(setImmediate)?function(){setImmediate(En)}:function(){setTimeout(En,0)};else{var Mn=1,Tn=new MutationObserver(En),Fn=document.createTextNode(String(Mn));Tn.observe(Fn,{characterData:!0}),kn=function(){Mn=(Mn+1)%2,Fn.data=String(Mn)},An=!0}function On(t,e){var n;if(Sn.push((function(){if(t)try{t.call(e)}catch(xs){bn(xs,e,"nextTick")}else n&&n(e)})),Cn||(Cn=!0,kn()),!t&&"undefined"!==typeof Promise)return new Promise((function(t){n=t}))}function $n(t){return function(e,n){if(void 0===n&&(n=mt),n)return Nn(n,t,e)}}function Nn(t,e,n){var r=t.$options;r[e]=jr(r[e],n)}$n("beforeMount"),$n("mounted"),$n("beforeUpdate"),$n("updated"),$n("beforeDestroy"),$n("destroyed"),$n("activated"),$n("deactivated"),$n("serverPrefetch"),$n("renderTracked"),$n("renderTriggered"),$n("errorCaptured");var Bn="2.7.16";var Rn=new pt;function Pn(t){return In(t,Rn),Rn.clear(),t}function In(t,e){var n,r,o=i(t);if(!(!o&&!f(t)||t.__v_skip||Object.isFrozen(t)||t instanceof bt)){if(t.__ob__){var a=t.__ob__.dep.id;if(e.has(a))return;e.add(a)}if(o){n=t.length;while(n--)In(t[n],e)}else if(Qt(t))In(t.value,e);else{r=Object.keys(t),n=r.length;while(n--)In(t[r[n]],e)}}}var jn,Ln=0,zn=function(){function t(t,e,n,r,i){ve(this,fe&&!fe._vm?fe:t?t._scope:void 0),(this.vm=t)&&i&&(t._watcher=this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++Ln,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new pt,this.newDepIds=new pt,this.expression="",l(e)?this.getter=e:(this.getter=Z(e),this.getter||(this.getter=P)),this.value=this.lazy?void 0:this.get()}return t.prototype.get=function(){var t;Dt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(xs){if(!this.user)throw xs;bn(xs,e,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&Pn(t),Mt(),this.cleanupDeps()}return t},t.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},t.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},t.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():br(this)},t.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||f(t)||this.deep){var e=this.value;if(this.value=t,this.user){var n='callback for watcher "'.concat(this.expression,'"');wn(this.cb,this.vm,[t,e],this.vm,n)}else this.cb.call(this.vm,t,e)}}},t.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},t.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},t.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&_(this.vm._scope.effects,this),this.active){var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},t}();function Un(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Wn(t,e)}function qn(t,e){jn.$on(t,e)}function Vn(t,e){jn.$off(t,e)}function Hn(t,e){var n=jn;return function r(){var i=e.apply(null,arguments);null!==i&&n.$off(t,r)}}function Wn(t,e,n){jn=t,Ae(e,n||{},qn,Vn,Hn,t),jn=void 0}function Yn(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(i(t))for(var o=0,a=t.length;o<a;o++)r.$on(t[o],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(i(t)){for(var r=0,o=t.length;r<o;r++)n.$off(t[r],e);return n}var a,s=n._events[t];if(!s)return n;if(!e)return n._events[t]=null,n;var u=s.length;while(u--)if(a=s[u],a===e||a.fn===e){s.splice(u,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?N(n):n;for(var r=N(arguments,1),i='event handler for "'.concat(t,'"'),o=0,a=n.length;o<a;o++)wn(n[o],e,r,e,i)}return e}}var Gn=null;function Kn(t){var e=Gn;return Gn=t,function(){Gn=e}}function Xn(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._provided=n?n._provided:Object.create(null),t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Jn(t){t.prototype._update=function(t,e){var n=this,r=n.$el,i=n._vnode,o=Kn(n);n._vnode=t,n.$el=i?n.__patch__(i,t):n.__patch__(n.$el,t,e,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n);var a=n;while(a&&a.$vnode&&a.$parent&&a.$vnode===a.$parent._vnode)a.$parent.$el=a.$el,a=a.$parent},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){rr(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||_(e.$children,t),t._scope.stop(),t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),rr(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function Zn(t,e,n){var r;t.$el=e,t.$options.render||(t.$options.render=wt),rr(t,"beforeMount"),r=function(){t._update(t._render(),n)};var i={before:function(){t._isMounted&&!t._isDestroyed&&rr(t,"beforeUpdate")}};new zn(t,r,P,i,!0),n=!1;var o=t._preWatchers;if(o)for(var a=0;a<o.length;a++)o[a].run();return null==t.$vnode&&(t._isMounted=!0,rr(t,"mounted")),t}function Qn(t,e,n,i,o){var a=i.data.scopedSlots,s=t.$scopedSlots,u=!!(a&&!a.$stable||s!==r&&!s.$stable||a&&t.$scopedSlots.$key!==a.$key||!a&&t.$scopedSlots.$key),c=!!(o||t.$options._renderChildren||u),l=t.$vnode;t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i),t.$options._renderChildren=o;var f=i.data.attrs||r;t._attrsProxy&&en(t._attrsProxy,f,l.data&&l.data.attrs||r,t,"$attrs")&&(c=!0),t.$attrs=f,n=n||r;var h=t.$options._parentListeners;if(t._listenersProxy&&en(t._listenersProxy,n,h||r,t,"$listeners"),t.$listeners=t.$options._parentListeners=n,Wn(t,n,h),e&&t.$options.props){Rt(!1);for(var d=t._props,p=t.$options._propKeys||[],g=0;g<p.length;g++){var m=p[g],v=t.$options.props;d[m]=Gr(m,v,e,t)}Rt(!0),t.$options.propsData=e}c&&(t.$slots=Ye(o,i.context),t.$forceUpdate())}function tr(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function er(t,e){if(e){if(t._directInactive=!1,tr(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)er(t.$children[n]);rr(t,"activated")}}function nr(t,e){if((!e||(t._directInactive=!0,!tr(t)))&&!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)nr(t.$children[n]);rr(t,"deactivated")}}function rr(t,e,n,r){void 0===r&&(r=!0),Dt();var i=mt,o=ye();r&&yt(t);var a=t.$options[e],s="".concat(e," hook");if(a)for(var u=0,c=a.length;u<c;u++)wn(a[u],t,n||null,t,s);t._hasHookEvent&&t.$emit("hook:"+e),r&&(yt(i),o&&o.on()),Mt()}var ir=[],or=[],ar={},sr=!1,ur=!1,cr=0;function lr(){cr=ir.length=or.length=0,ar={},sr=ur=!1}var fr=0,hr=Date.now;if(tt&&!nt){var dr=window.performance;dr&&"function"===typeof dr.now&&hr()>document.createEvent("Event").timeStamp&&(hr=function(){return dr.now()})}var pr=function(t,e){if(t.post){if(!e.post)return 1}else if(e.post)return-1;return t.id-e.id};function gr(){var t,e;for(fr=hr(),ur=!0,ir.sort(pr),cr=0;cr<ir.length;cr++)t=ir[cr],t.before&&t.before(),e=t.id,ar[e]=null,t.run();var n=or.slice(),r=ir.slice();lr(),yr(n),mr(r),St(),ht&&Y.devtools&&ht.emit("flush")}function mr(t){var e=t.length;while(e--){var n=t[e],r=n.vm;r&&r._watcher===n&&r._isMounted&&!r._isDestroyed&&rr(r,"updated")}}function vr(t){t._inactive=!1,or.push(t)}function yr(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,er(t[e],!0)}function br(t){var e=t.id;if(null==ar[e]&&(t!==Ct.target||!t.noRecurse)){if(ar[e]=!0,ur){var n=ir.length-1;while(n>cr&&ir[n].id>t.id)n--;ir.splice(n+1,0,t)}else ir.push(t);sr||(sr=!0,On(gr))}}function wr(t){var e=t.$options.provide;if(e){var n=l(e)?e.call(t):e;if(!f(n))return;for(var r=we(t),i=gt?Reflect.ownKeys(n):Object.keys(n),o=0;o<i.length;o++){var a=i[o];Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))}}}function xr(t){var e=_r(t.$options.inject,t);e&&(Rt(!1),Object.keys(e).forEach((function(n){Lt(t,n,e[n])})),Rt(!0))}function _r(t,e){if(t){for(var n=Object.create(null),r=gt?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){var a=t[o].from;if(a in e._provided)n[o]=e._provided[a];else if("default"in t[o]){var s=t[o].default;n[o]=l(s)?s.call(e):s}else 0}}return n}}function kr(t,e,n,o,a){var u,c=this,l=a.options;A(o,"_uid")?(u=Object.create(o),u._original=o):(u=o,o=o._original);var f=s(l._compiled),h=!f;this.data=t,this.props=e,this.children=n,this.parent=o,this.listeners=t.on||r,this.injections=_r(l.inject,o),this.slots=function(){return c.$slots||Xe(o,t.scopedSlots,c.$slots=Ye(n,o)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Xe(o,t.scopedSlots,this.slots())}}),f&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=Xe(o,t.scopedSlots,this.$slots)),l._scopeId?this._c=function(t,e,n,r){var a=gn(u,t,e,n,r,h);return a&&!i(a)&&(a.fnScopeId=l._scopeId,a.fnContext=o),a}:this._c=function(t,e,n,r){return gn(u,t,e,n,r,h)}}function Ar(t,e,n,o,s){var u=t.options,c={},l=u.props;if(a(l))for(var f in l)c[f]=Gr(f,l,e||r);else a(n.attrs)&&Cr(c,n.attrs),a(n.props)&&Cr(c,n.props);var h=new kr(n,c,s,o,t),d=u.render.call(null,h._c,h);if(d instanceof bt)return Sr(d,n,h.parent,u,h);if(i(d)){for(var p=Me(d)||[],g=new Array(p.length),m=0;m<p.length;m++)g[m]=Sr(p[m],n,h.parent,u,h);return g}}function Sr(t,e,n,r,i){var o=_t(t);return o.fnContext=n,o.fnOptions=r,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function Cr(t,e){for(var n in e)t[E(n)]=e[n]}function Er(t){return t.name||t.__name||t._componentTag}We(kr.prototype);var Dr={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;Dr.prepatch(n,n)}else{var r=t.componentInstance=Fr(t,Gn);r.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions,r=e.componentInstance=t.componentInstance;Qn(r,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,rr(n,"mounted")),t.data.keepAlive&&(e._isMounted?vr(n):er(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?nr(e,!0):e.$destroy())}},Mr=Object.keys(Dr);function Tr(t,e,n,r,i){if(!o(t)){var u=n.$options._base;if(f(t)&&(t=u.extend(t)),"function"===typeof t){var c;if(o(t.cid)&&(c=t,t=fn(c,u),void 0===t))return ln(c,e,n,r,i);e=e||{},yi(t),a(e.model)&&Nr(t.options,e);var l=Ce(e,t,i);if(s(t.options.functional))return Ar(t,l,e,n,r);var h=e.on;if(e.on=e.nativeOn,s(t.options.abstract)){var d=e.slot;e={},d&&(e.slot=d)}Or(e);var p=Er(t.options)||i,g=new bt("vue-component-".concat(t.cid).concat(p?"-".concat(p):""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:l,listeners:h,tag:i,children:r},c);return g}}}function Fr(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;return a(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new t.componentOptions.Ctor(n)}function Or(t){for(var e=t.hook||(t.hook={}),n=0;n<Mr.length;n++){var r=Mr[n],i=e[r],o=Dr[r];i===o||i&&i._merged||(e[r]=i?$r(o,i):o)}}function $r(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}function Nr(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var o=e.on||(e.on={}),s=o[r],u=e.model.callback;a(s)?(i(s)?-1===s.indexOf(u):s!==u)&&(o[r]=[u].concat(s)):o[r]=u}var Br=P,Rr=Y.optionMergeStrategies;function Pr(t,e,n){if(void 0===n&&(n=!0),!e)return t;for(var r,i,o,a=gt?Reflect.ownKeys(e):Object.keys(e),s=0;s<a.length;s++)r=a[s],"__ob__"!==r&&(i=t[r],o=e[r],n&&A(t,r)?i!==o&&d(i)&&d(o)&&Pr(i,o):zt(t,r,o));return t}function Ir(t,e,n){return n?function(){var r=l(e)?e.call(n,n):e,i=l(t)?t.call(n,n):t;return r?Pr(r,i):i}:e?t?function(){return Pr(l(e)?e.call(this,this):e,l(t)?t.call(this,this):t)}:e:t}function jr(t,e){var n=e?t?t.concat(e):i(e)?e:[e]:t;return n?Lr(n):n}function Lr(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function zr(t,e,n,r){var i=Object.create(t||null);return e?B(i,e):i}Rr.data=function(t,e,n){return n?Ir(t,e,n):e&&"function"!==typeof e?t:Ir(t,e)},W.forEach((function(t){Rr[t]=jr})),H.forEach((function(t){Rr[t+"s"]=zr})),Rr.watch=function(t,e,n,r){if(t===ut&&(t=void 0),e===ut&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var o={};for(var a in B(o,t),e){var s=o[a],u=e[a];s&&!i(s)&&(s=[s]),o[a]=s?s.concat(u):i(u)?u:[u]}return o},Rr.props=Rr.methods=Rr.inject=Rr.computed=function(t,e,n,r){if(!t)return e;var i=Object.create(null);return B(i,t),e&&B(i,e),i},Rr.provide=function(t,e){return t?function(){var n=Object.create(null);return Pr(n,l(t)?t.call(this):t),e&&Pr(n,l(e)?e.call(this):e,!1),n}:e};var Ur=function(t,e){return void 0===e?t:e};function qr(t,e){var n=t.props;if(n){var r,o,a,s={};if(i(n)){r=n.length;while(r--)o=n[r],"string"===typeof o&&(a=E(o),s[a]={type:null})}else if(d(n))for(var u in n)o=n[u],a=E(u),s[a]=d(o)?o:{type:o};else 0;t.props=s}}function Vr(t,e){var n=t.inject;if(n){var r=t.inject={};if(i(n))for(var o=0;o<n.length;o++)r[n[o]]={from:n[o]};else if(d(n))for(var a in n){var s=n[a];r[a]=d(s)?B({from:a},s):{from:s}}else 0}}function Hr(t){var e=t.directives;if(e)for(var n in e){var r=e[n];l(r)&&(e[n]={bind:r,update:r})}}function Wr(t,e,n){if(l(e)&&(e=e.options),qr(e,n),Vr(e,n),Hr(e),!e._base&&(e.extends&&(t=Wr(t,e.extends,n)),e.mixins))for(var r=0,i=e.mixins.length;r<i;r++)t=Wr(t,e.mixins[r],n);var o,a={};for(o in t)s(o);for(o in e)A(t,o)||s(o);function s(r){var i=Rr[r]||Ur;a[r]=i(t[r],e[r],n,r)}return a}function Yr(t,e,n,r){if("string"===typeof n){var i=t[e];if(A(i,n))return i[n];var o=E(n);if(A(i,o))return i[o];var a=D(o);if(A(i,a))return i[a];var s=i[n]||i[o]||i[a];return s}}function Gr(t,e,n,r){var i=e[t],o=!A(n,t),a=n[t],s=Qr(Boolean,i.type);if(s>-1)if(o&&!A(i,"default"))a=!1;else if(""===a||a===T(t)){var u=Qr(String,i.type);(u<0||s<u)&&(a=!0)}if(void 0===a){a=Kr(r,i,t);var c=Bt;Rt(!0),jt(a),Rt(c)}return a}function Kr(t,e,n){if(A(e,"default")){var r=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:l(r)&&"Function"!==Jr(e.type)?r.call(t):r}}var Xr=/^\s*function (\w+)/;function Jr(t){var e=t&&t.toString().match(Xr);return e?e[1]:""}function Zr(t,e){return Jr(t)===Jr(e)}function Qr(t,e){if(!i(e))return Zr(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(Zr(e[n],t))return n;return-1}var ti={enumerable:!0,configurable:!0,get:P,set:P};function ei(t,e,n){ti.get=function(){return this[e][n]},ti.set=function(t){this[e][n]=t},Object.defineProperty(t,n,ti)}function ni(t){var e=t.$options;if(e.props&&ri(t,e.props),Qe(t),e.methods&&fi(t,e.methods),e.data)ii(t);else{var n=jt(t._data={});n&&n.vmCount++}e.computed&&si(t,e.computed),e.watch&&e.watch!==ut&&hi(t,e.watch)}function ri(t,e){var n=t.$options.propsData||{},r=t._props=Ht({}),i=t.$options._propKeys=[],o=!t.$parent;o||Rt(!1);var a=function(o){i.push(o);var a=Gr(o,e,n,t);Lt(r,o,a,void 0,!0),o in t||ei(t,"_props",o)};for(var s in e)a(s);Rt(!0)}function ii(t){var e=t.$options.data;e=t._data=l(e)?oi(e,t):e||{},d(e)||(e={});var n=Object.keys(e),r=t.$options.props,i=(t.$options.methods,n.length);while(i--){var o=n[i];0,r&&A(r,o)||K(o)||ei(t,"_data",o)}var a=jt(e);a&&a.vmCount++}function oi(t,e){Dt();try{return t.call(e,e)}catch(xs){return bn(xs,e,"data()"),{}}finally{Mt()}}var ai={lazy:!0};function si(t,e){var n=t._computedWatchers=Object.create(null),r=ft();for(var i in e){var o=e[i],a=l(o)?o:o.get;0,r||(n[i]=new zn(t,a||P,P,ai)),i in t||ui(t,i,o)}}function ui(t,e,n){var r=!ft();l(n)?(ti.get=r?ci(e):li(n),ti.set=P):(ti.get=n.get?r&&!1!==n.cache?ci(e):li(n.get):P,ti.set=n.set||P),Object.defineProperty(t,e,ti)}function ci(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),Ct.target&&e.depend(),e.value}}function li(t){return function(){return t.call(this,this)}}function fi(t,e){t.$options.props;for(var n in e)t[n]="function"!==typeof e[n]?P:$(e[n],t)}function hi(t,e){for(var n in e){var r=e[n];if(i(r))for(var o=0;o<r.length;o++)di(t,n,r[o]);else di(t,n,r)}}function di(t,e,n,r){return d(n)&&(r=n,n=n.handler),"string"===typeof n&&(n=t[n]),t.$watch(e,n,r)}function pi(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=zt,t.prototype.$delete=Ut,t.prototype.$watch=function(t,e,n){var r=this;if(d(e))return di(r,t,e,n);n=n||{},n.user=!0;var i=new zn(r,t,e,n);if(n.immediate){var o='callback for immediate watcher "'.concat(i.expression,'"');Dt(),wn(e,r,[i.value],r,o),Mt()}return function(){i.teardown()}}}var gi=0;function mi(t){t.prototype._init=function(t){var e=this;e._uid=gi++,e._isVue=!0,e.__v_skip=!0,e._scope=new ge(!0),e._scope.parent=void 0,e._scope._vm=!0,t&&t._isComponent?vi(e,t):e.$options=Wr(yi(e.constructor),t||{},e),e._renderProxy=e,e._self=e,Xn(e),Un(e),an(e),rr(e,"beforeCreate",void 0,!1),xr(e),ni(e),wr(e),rr(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function vi(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function yi(t){var e=t.options;if(t.super){var n=yi(t.super),r=t.superOptions;if(n!==r){t.superOptions=n;var i=bi(t);i&&B(t.extendOptions,i),e=t.options=Wr(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function bi(t){var e,n=t.options,r=t.sealedOptions;for(var i in n)n[i]!==r[i]&&(e||(e={}),e[i]=n[i]);return e}function wi(t){this._init(t)}function xi(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=N(arguments,1);return n.unshift(this),l(t.install)?t.install.apply(t,n):l(t)&&t.apply(null,n),e.push(t),this}}function _i(t){t.mixin=function(t){return this.options=Wr(this.options,t),this}}function ki(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,i=t._Ctor||(t._Ctor={});if(i[r])return i[r];var o=Er(t)||Er(n.options);var a=function(t){this._init(t)};return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=e++,a.options=Wr(n.options,t),a["super"]=n,a.options.props&&Ai(a),a.options.computed&&Si(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,H.forEach((function(t){a[t]=n[t]})),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=B({},a.options),i[r]=a,a}}function Ai(t){var e=t.options.props;for(var n in e)ei(t.prototype,"_props",n)}function Si(t){var e=t.options.computed;for(var n in e)ui(t.prototype,n,e[n])}function Ci(t){H.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&d(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&l(n)&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}function Ei(t){return t&&(Er(t.Ctor.options)||t.tag)}function Di(t,e){return i(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!p(t)&&t.test(e)}function Mi(t,e){var n=t.cache,r=t.keys,i=t._vnode,o=t.$vnode;for(var a in n){var s=n[a];if(s){var u=s.name;u&&!e(u)&&Ti(n,a,r,i)}}o.componentOptions.children=void 0}function Ti(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,_(n,e)}mi(wi),pi(wi),Yn(wi),Jn(wi),un(wi);var Fi=[String,RegExp,Array],Oi={name:"keep-alive",abstract:!0,props:{include:Fi,exclude:Fi,max:[String,Number]},methods:{cacheVNode:function(){var t=this,e=t.cache,n=t.keys,r=t.vnodeToCache,i=t.keyToCache;if(r){var o=r.tag,a=r.componentInstance,s=r.componentOptions;e[i]={name:Ei(s),tag:o,componentInstance:a},n.push(i),this.max&&n.length>parseInt(this.max)&&Ti(e,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Ti(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",(function(e){Mi(t,(function(t){return Di(e,t)}))})),this.$watch("exclude",(function(e){Mi(t,(function(t){return!Di(e,t)}))}))},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=hn(t),n=e&&e.componentOptions;if(n){var r=Ei(n),i=this,o=i.include,a=i.exclude;if(o&&(!r||!Di(o,r))||a&&r&&Di(a,r))return e;var s=this,u=s.cache,c=s.keys,l=null==e.key?n.Ctor.cid+(n.tag?"::".concat(n.tag):""):e.key;u[l]?(e.componentInstance=u[l].componentInstance,_(c,l),c.push(l)):(this.vnodeToCache=e,this.keyToCache=l),e.data.keepAlive=!0}return e||t&&t[0]}},$i={KeepAlive:Oi};function Ni(t){var e={get:function(){return Y}};Object.defineProperty(t,"config",e),t.util={warn:Br,extend:B,mergeOptions:Wr,defineReactive:Lt},t.set=zt,t.delete=Ut,t.nextTick=On,t.observable=function(t){return jt(t),t},t.options=Object.create(null),H.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,B(t.options.components,$i),xi(t),_i(t),ki(t),Ci(t)}Ni(wi),Object.defineProperty(wi.prototype,"$isServer",{get:ft}),Object.defineProperty(wi.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(wi,"FunctionalRenderContext",{value:kr}),wi.version=Bn;var Bi=w("style,class"),Ri=w("input,textarea,option,select,progress"),Pi=function(t,e,n){return"value"===n&&Ri(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},Ii=w("contenteditable,draggable,spellcheck"),ji=w("events,caret,typing,plaintext-only"),Li=function(t,e){return Hi(e)||"false"===e?"false":"contenteditable"===t&&ji(e)?e:"true"},zi=w("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Ui="http://www.w3.org/1999/xlink",qi=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Vi=function(t){return qi(t)?t.slice(6,t.length):""},Hi=function(t){return null==t||!1===t};function Wi(t){var e=t.data,n=t,r=t;while(a(r.componentInstance))r=r.componentInstance._vnode,r&&r.data&&(e=Yi(r.data,e));while(a(n=n.parent))n&&n.data&&(e=Yi(e,n.data));return Gi(e.staticClass,e.class)}function Yi(t,e){return{staticClass:Ki(t.staticClass,e.staticClass),class:a(t.class)?[t.class,e.class]:e.class}}function Gi(t,e){return a(t)||a(e)?Ki(t,Xi(e)):""}function Ki(t,e){return t?e?t+" "+e:t:e||""}function Xi(t){return Array.isArray(t)?Ji(t):f(t)?Zi(t):"string"===typeof t?t:""}function Ji(t){for(var e,n="",r=0,i=t.length;r<i;r++)a(e=Xi(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function Zi(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var Qi={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},to=w("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),eo=w("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),no=function(t){return to(t)||eo(t)};function ro(t){return eo(t)?"svg":"math"===t?"math":void 0}var io=Object.create(null);function oo(t){if(!tt)return!0;if(no(t))return!1;if(t=t.toLowerCase(),null!=io[t])return io[t];var e=document.createElement(t);return t.indexOf("-")>-1?io[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:io[t]=/HTMLUnknownElement/.test(e.toString())}var ao=w("text,number,password,search,email,tel,url");function so(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function uo(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n}function co(t,e){return document.createElementNS(Qi[t],e)}function lo(t){return document.createTextNode(t)}function fo(t){return document.createComment(t)}function ho(t,e,n){t.insertBefore(e,n)}function po(t,e){t.removeChild(e)}function go(t,e){t.appendChild(e)}function mo(t){return t.parentNode}function vo(t){return t.nextSibling}function yo(t){return t.tagName}function bo(t,e){t.textContent=e}function wo(t,e){t.setAttribute(e,"")}var xo=Object.freeze({__proto__:null,createElement:uo,createElementNS:co,createTextNode:lo,createComment:fo,insertBefore:ho,removeChild:po,appendChild:go,parentNode:mo,nextSibling:vo,tagName:yo,setTextContent:bo,setStyleScope:wo}),_o={create:function(t,e){ko(e)},update:function(t,e){t.data.ref!==e.data.ref&&(ko(t,!0),ko(e))},destroy:function(t){ko(t,!0)}};function ko(t,e){var n=t.data.ref;if(a(n)){var r=t.context,o=t.componentInstance||t.elm,s=e?null:o,u=e?void 0:o;if(l(n))wn(n,r,[s],r,"template ref function");else{var c=t.data.refInFor,f="string"===typeof n||"number"===typeof n,h=Qt(n),d=r.$refs;if(f||h)if(c){var p=f?d[n]:n.value;e?i(p)&&_(p,o):i(p)?p.includes(o)||p.push(o):f?(d[n]=[o],Ao(r,n,d[n])):n.value=[o]}else if(f){if(e&&d[n]!==o)return;d[n]=u,Ao(r,n,s)}else if(h){if(e&&n.value!==o)return;n.value=s}else 0}}}function Ao(t,e,n){var r=t._setupState;r&&A(r,e)&&(Qt(r[e])?r[e].value=n:r[e]=n)}var So=new bt("",{},[]),Co=["create","activate","update","remove","destroy"];function Eo(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&a(t.data)===a(e.data)&&Do(t,e)||s(t.isAsyncPlaceholder)&&o(e.asyncFactory.error))}function Do(t,e){if("input"!==t.tag)return!0;var n,r=a(n=t.data)&&a(n=n.attrs)&&n.type,i=a(n=e.data)&&a(n=n.attrs)&&n.type;return r===i||ao(r)&&ao(i)}function Mo(t,e,n){var r,i,o={};for(r=e;r<=n;++r)i=t[r].key,a(i)&&(o[i]=r);return o}function To(t){var e,n,r={},u=t.modules,l=t.nodeOps;for(e=0;e<Co.length;++e)for(r[Co[e]]=[],n=0;n<u.length;++n)a(u[n][Co[e]])&&r[Co[e]].push(u[n][Co[e]]);function f(t){return new bt(l.tagName(t).toLowerCase(),{},[],void 0,t)}function h(t,e){function n(){0===--n.listeners&&d(t)}return n.listeners=e,n}function d(t){var e=l.parentNode(t);a(e)&&l.removeChild(e,t)}function p(t,e,n,r,i,o,u){if(a(t.elm)&&a(o)&&(t=o[u]=_t(t)),t.isRootInsert=!i,!g(t,e,n,r)){var c=t.data,f=t.children,h=t.tag;a(h)?(t.elm=t.ns?l.createElementNS(t.ns,h):l.createElement(h,t),k(t),b(t,f,e),a(c)&&_(t,e),y(n,t.elm,r)):s(t.isComment)?(t.elm=l.createComment(t.text),y(n,t.elm,r)):(t.elm=l.createTextNode(t.text),y(n,t.elm,r))}}function g(t,e,n,r){var i=t.data;if(a(i)){var o=a(t.componentInstance)&&i.keepAlive;if(a(i=i.hook)&&a(i=i.init)&&i(t,!1),a(t.componentInstance))return m(t,e),y(n,t.elm,r),s(o)&&v(t,e,n,r),!0}}function m(t,e){a(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,x(t)?(_(t,e),k(t)):(ko(t),e.push(t))}function v(t,e,n,i){var o,s=t;while(s.componentInstance)if(s=s.componentInstance._vnode,a(o=s.data)&&a(o=o.transition)){for(o=0;o<r.activate.length;++o)r.activate[o](So,s);e.push(s);break}y(n,t.elm,i)}function y(t,e,n){a(t)&&(a(n)?l.parentNode(n)===t&&l.insertBefore(t,e,n):l.appendChild(t,e))}function b(t,e,n){if(i(e)){0;for(var r=0;r<e.length;++r)p(e[r],n,t.elm,null,!0,e,r)}else c(t.text)&&l.appendChild(t.elm,l.createTextNode(String(t.text)))}function x(t){while(t.componentInstance)t=t.componentInstance._vnode;return a(t.tag)}function _(t,n){for(var i=0;i<r.create.length;++i)r.create[i](So,t);e=t.data.hook,a(e)&&(a(e.create)&&e.create(So,t),a(e.insert)&&n.push(t))}function k(t){var e;if(a(e=t.fnScopeId))l.setStyleScope(t.elm,e);else{var n=t;while(n)a(e=n.context)&&a(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e),n=n.parent}a(e=Gn)&&e!==t.context&&e!==t.fnContext&&a(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e)}function A(t,e,n,r,i,o){for(;r<=i;++r)p(n[r],o,t,e,!1,n,r)}function S(t){var e,n,i=t.data;if(a(i))for(a(e=i.hook)&&a(e=e.destroy)&&e(t),e=0;e<r.destroy.length;++e)r.destroy[e](t);if(a(e=t.children))for(n=0;n<t.children.length;++n)S(t.children[n])}function C(t,e,n){for(;e<=n;++e){var r=t[e];a(r)&&(a(r.tag)?(E(r),S(r)):d(r.elm))}}function E(t,e){if(a(e)||a(t.data)){var n,i=r.remove.length+1;for(a(e)?e.listeners+=i:e=h(t.elm,i),a(n=t.componentInstance)&&a(n=n._vnode)&&a(n.data)&&E(n,e),n=0;n<r.remove.length;++n)r.remove[n](t,e);a(n=t.data.hook)&&a(n=n.remove)?n(t,e):e()}else d(t.elm)}function D(t,e,n,r,i){var s,u,c,f,h=0,d=0,g=e.length-1,m=e[0],v=e[g],y=n.length-1,b=n[0],w=n[y],x=!i;while(h<=g&&d<=y)o(m)?m=e[++h]:o(v)?v=e[--g]:Eo(m,b)?(T(m,b,r,n,d),m=e[++h],b=n[++d]):Eo(v,w)?(T(v,w,r,n,y),v=e[--g],w=n[--y]):Eo(m,w)?(T(m,w,r,n,y),x&&l.insertBefore(t,m.elm,l.nextSibling(v.elm)),m=e[++h],w=n[--y]):Eo(v,b)?(T(v,b,r,n,d),x&&l.insertBefore(t,v.elm,m.elm),v=e[--g],b=n[++d]):(o(s)&&(s=Mo(e,h,g)),u=a(b.key)?s[b.key]:M(b,e,h,g),o(u)?p(b,r,t,m.elm,!1,n,d):(c=e[u],Eo(c,b)?(T(c,b,r,n,d),e[u]=void 0,x&&l.insertBefore(t,c.elm,m.elm)):p(b,r,t,m.elm,!1,n,d)),b=n[++d]);h>g?(f=o(n[y+1])?null:n[y+1].elm,A(t,f,n,d,y,r)):d>y&&C(e,h,g)}function M(t,e,n,r){for(var i=n;i<r;i++){var o=e[i];if(a(o)&&Eo(t,o))return i}}function T(t,e,n,i,u,c){if(t!==e){a(e.elm)&&a(i)&&(e=i[u]=_t(e));var f=e.elm=t.elm;if(s(t.isAsyncPlaceholder))a(e.asyncFactory.resolved)?$(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(s(e.isStatic)&&s(t.isStatic)&&e.key===t.key&&(s(e.isCloned)||s(e.isOnce)))e.componentInstance=t.componentInstance;else{var h,d=e.data;a(d)&&a(h=d.hook)&&a(h=h.prepatch)&&h(t,e);var p=t.children,g=e.children;if(a(d)&&x(e)){for(h=0;h<r.update.length;++h)r.update[h](t,e);a(h=d.hook)&&a(h=h.update)&&h(t,e)}o(e.text)?a(p)&&a(g)?p!==g&&D(f,p,g,n,c):a(g)?(a(t.text)&&l.setTextContent(f,""),A(f,null,g,0,g.length-1,n)):a(p)?C(p,0,p.length-1):a(t.text)&&l.setTextContent(f,""):t.text!==e.text&&l.setTextContent(f,e.text),a(d)&&a(h=d.hook)&&a(h=h.postpatch)&&h(t,e)}}}function F(t,e,n){if(s(n)&&a(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var O=w("attrs,class,staticClass,staticStyle,key");function $(t,e,n,r){var i,o=e.tag,u=e.data,c=e.children;if(r=r||u&&u.pre,e.elm=t,s(e.isComment)&&a(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(a(u)&&(a(i=u.hook)&&a(i=i.init)&&i(e,!0),a(i=e.componentInstance)))return m(e,n),!0;if(a(o)){if(a(c))if(t.hasChildNodes())if(a(i=u)&&a(i=i.domProps)&&a(i=i.innerHTML)){if(i!==t.innerHTML)return!1}else{for(var l=!0,f=t.firstChild,h=0;h<c.length;h++){if(!f||!$(f,c[h],n,r)){l=!1;break}f=f.nextSibling}if(!l||f)return!1}else b(e,c,n);if(a(u)){var d=!1;for(var p in u)if(!O(p)){d=!0,_(e,n);break}!d&&u["class"]&&Pn(u["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,i){if(!o(e)){var u=!1,c=[];if(o(t))u=!0,p(e,c);else{var h=a(t.nodeType);if(!h&&Eo(t,e))T(t,e,c,null,null,i);else{if(h){if(1===t.nodeType&&t.hasAttribute(V)&&(t.removeAttribute(V),n=!0),s(n)&&$(t,e,c))return F(e,c,!0),t;t=f(t)}var d=t.elm,g=l.parentNode(d);if(p(e,c,d._leaveCb?null:g,l.nextSibling(d)),a(e.parent)){var m=e.parent,v=x(e);while(m){for(var y=0;y<r.destroy.length;++y)r.destroy[y](m);if(m.elm=e.elm,v){for(var b=0;b<r.create.length;++b)r.create[b](So,m);var w=m.data.hook.insert;if(w.merged)for(var _=w.fns.slice(1),k=0;k<_.length;k++)_[k]()}else ko(m);m=m.parent}}a(g)?C([t],0,0):a(t.tag)&&S(t)}}return F(e,c,u),e.elm}a(t)&&S(t)}}var Fo={create:Oo,update:Oo,destroy:function(t){Oo(t,So)}};function Oo(t,e){(t.data.directives||e.data.directives)&&$o(t,e)}function $o(t,e){var n,r,i,o=t===So,a=e===So,s=Bo(t.data.directives,t.context),u=Bo(e.data.directives,e.context),c=[],l=[];for(n in u)r=s[n],i=u[n],r?(i.oldValue=r.value,i.oldArg=r.arg,Po(i,"update",e,t),i.def&&i.def.componentUpdated&&l.push(i)):(Po(i,"bind",e,t),i.def&&i.def.inserted&&c.push(i));if(c.length){var f=function(){for(var n=0;n<c.length;n++)Po(c[n],"inserted",e,t)};o?Se(e,"insert",f):f()}if(l.length&&Se(e,"postpatch",(function(){for(var n=0;n<l.length;n++)Po(l[n],"componentUpdated",e,t)})),!o)for(n in s)u[n]||Po(s[n],"unbind",t,t,a)}var No=Object.create(null);function Bo(t,e){var n,r,i=Object.create(null);if(!t)return i;for(n=0;n<t.length;n++){if(r=t[n],r.modifiers||(r.modifiers=No),i[Ro(r)]=r,e._setupState&&e._setupState.__sfc){var o=r.def||Yr(e,"_setupState","v-"+r.name);r.def="function"===typeof o?{bind:o,update:o}:o}r.def=r.def||Yr(e.$options,"directives",r.name,!0)}return i}function Ro(t){return t.rawName||"".concat(t.name,".").concat(Object.keys(t.modifiers||{}).join("."))}function Po(t,e,n,r,i){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,r,i)}catch(xs){bn(xs,n.context,"directive ".concat(t.name," ").concat(e," hook"))}}var Io=[_o,Fo];function jo(t,e){var n=e.componentOptions;if((!a(n)||!1!==n.Ctor.options.inheritAttrs)&&(!o(t.data.attrs)||!o(e.data.attrs))){var r,i,u,c=e.elm,l=t.data.attrs||{},f=e.data.attrs||{};for(r in(a(f.__ob__)||s(f._v_attr_proxy))&&(f=e.data.attrs=B({},f)),f)i=f[r],u=l[r],u!==i&&Lo(c,r,i,e.data.pre);for(r in(nt||it)&&f.value!==l.value&&Lo(c,"value",f.value),l)o(f[r])&&(qi(r)?c.removeAttributeNS(Ui,Vi(r)):Ii(r)||c.removeAttribute(r))}}function Lo(t,e,n,r){r||t.tagName.indexOf("-")>-1?zo(t,e,n):zi(e)?Hi(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):Ii(e)?t.setAttribute(e,Li(e,n)):qi(e)?Hi(n)?t.removeAttributeNS(Ui,Vi(e)):t.setAttributeNS(Ui,e,n):zo(t,e,n)}function zo(t,e,n){if(Hi(n))t.removeAttribute(e);else{if(nt&&!rt&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var Uo={create:jo,update:jo};function qo(t,e){var n=e.elm,r=e.data,i=t.data;if(!(o(r.staticClass)&&o(r.class)&&(o(i)||o(i.staticClass)&&o(i.class)))){var s=Wi(e),u=n._transitionClasses;a(u)&&(s=Ki(s,Xi(u))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var Vo,Ho={create:qo,update:qo},Wo="__r",Yo="__c";function Go(t){if(a(t[Wo])){var e=nt?"change":"input";t[e]=[].concat(t[Wo],t[e]||[]),delete t[Wo]}a(t[Yo])&&(t.change=[].concat(t[Yo],t.change||[]),delete t[Yo])}function Ko(t,e,n){var r=Vo;return function i(){var o=e.apply(null,arguments);null!==o&&Zo(t,i,n,r)}}var Xo=An&&!(st&&Number(st[1])<=53);function Jo(t,e,n,r){if(Xo){var i=fr,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}Vo.addEventListener(t,e,ct?{capture:n,passive:r}:n)}function Zo(t,e,n,r){(r||Vo).removeEventListener(t,e._wrapper||e,n)}function Qo(t,e){if(!o(t.data.on)||!o(e.data.on)){var n=e.data.on||{},r=t.data.on||{};Vo=e.elm||t.elm,Go(n),Ae(n,r,Jo,Zo,Ko,e.context),Vo=void 0}}var ta,ea={create:Qo,update:Qo,destroy:function(t){return Qo(t,So)}};function na(t,e){if(!o(t.data.domProps)||!o(e.data.domProps)){var n,r,i=e.elm,u=t.data.domProps||{},c=e.data.domProps||{};for(n in(a(c.__ob__)||s(c._v_attr_proxy))&&(c=e.data.domProps=B({},c)),u)n in c||(i[n]="");for(n in c){if(r=c[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),r===u[n])continue;1===i.childNodes.length&&i.removeChild(i.childNodes[0])}if("value"===n&&"PROGRESS"!==i.tagName){i._value=r;var l=o(r)?"":String(r);ra(i,l)&&(i.value=l)}else if("innerHTML"===n&&eo(i.tagName)&&o(i.innerHTML)){ta=ta||document.createElement("div"),ta.innerHTML="<svg>".concat(r,"</svg>");var f=ta.firstChild;while(i.firstChild)i.removeChild(i.firstChild);while(f.firstChild)i.appendChild(f.firstChild)}else if(r!==u[n])try{i[n]=r}catch(xs){}}}}function ra(t,e){return!t.composing&&("OPTION"===t.tagName||ia(t,e)||oa(t,e))}function ia(t,e){var n=!0;try{n=document.activeElement!==t}catch(xs){}return n&&t.value!==e}function oa(t,e){var n=t.value,r=t._vModifiers;if(a(r)){if(r.number)return b(n)!==b(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}var aa={create:na,update:na},sa=S((function(t){var e={},n=/;(?![^(]*\))/g,r=/:(.+)/;return t.split(n).forEach((function(t){if(t){var n=t.split(r);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}));function ua(t){var e=ca(t.style);return t.staticStyle?B(t.staticStyle,e):e}function ca(t){return Array.isArray(t)?R(t):"string"===typeof t?sa(t):t}function la(t,e){var n,r={};if(e){var i=t;while(i.componentInstance)i=i.componentInstance._vnode,i&&i.data&&(n=ua(i.data))&&B(r,n)}(n=ua(t.data))&&B(r,n);var o=t;while(o=o.parent)o.data&&(n=ua(o.data))&&B(r,n);return r}var fa,ha=/^--/,da=/\s*!important$/,pa=function(t,e,n){if(ha.test(e))t.style.setProperty(e,n);else if(da.test(n))t.style.setProperty(T(e),n.replace(da,""),"important");else{var r=ma(e);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)t.style[r]=n[i];else t.style[r]=n}},ga=["Webkit","Moz","ms"],ma=S((function(t){if(fa=fa||document.createElement("div").style,t=E(t),"filter"!==t&&t in fa)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<ga.length;n++){var r=ga[n]+e;if(r in fa)return r}}));function va(t,e){var n=e.data,r=t.data;if(!(o(n.staticStyle)&&o(n.style)&&o(r.staticStyle)&&o(r.style))){var i,s,u=e.elm,c=r.staticStyle,l=r.normalizedStyle||r.style||{},f=c||l,h=ca(e.data.style)||{};e.data.normalizedStyle=a(h.__ob__)?B({},h):h;var d=la(e,!0);for(s in f)o(d[s])&&pa(u,s,"");for(s in d)i=d[s],pa(u,s,null==i?"":i)}}var ya={create:va,update:va},ba=/\s+/;function wa(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(ba).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" ".concat(t.getAttribute("class")||""," ");n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function xa(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(ba).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var n=" ".concat(t.getAttribute("class")||""," "),r=" "+e+" ";while(n.indexOf(r)>=0)n=n.replace(r," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function _a(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&B(e,ka(t.name||"v")),B(e,t),e}return"string"===typeof t?ka(t):void 0}}var ka=S((function(t){return{enterClass:"".concat(t,"-enter"),enterToClass:"".concat(t,"-enter-to"),enterActiveClass:"".concat(t,"-enter-active"),leaveClass:"".concat(t,"-leave"),leaveToClass:"".concat(t,"-leave-to"),leaveActiveClass:"".concat(t,"-leave-active")}})),Aa=tt&&!rt,Sa="transition",Ca="animation",Ea="transition",Da="transitionend",Ma="animation",Ta="animationend";Aa&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Ea="WebkitTransition",Da="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Ma="WebkitAnimation",Ta="webkitAnimationEnd"));var Fa=tt?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Oa(t){Fa((function(){Fa(t)}))}function $a(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),wa(t,e))}function Na(t,e){t._transitionClasses&&_(t._transitionClasses,e),xa(t,e)}function Ba(t,e,n){var r=Pa(t,e),i=r.type,o=r.timeout,a=r.propCount;if(!i)return n();var s=i===Sa?Da:Ta,u=0,c=function(){t.removeEventListener(s,l),n()},l=function(e){e.target===t&&++u>=a&&c()};setTimeout((function(){u<a&&c()}),o+1),t.addEventListener(s,l)}var Ra=/\b(transform|all)(,|$)/;function Pa(t,e){var n,r=window.getComputedStyle(t),i=(r[Ea+"Delay"]||"").split(", "),o=(r[Ea+"Duration"]||"").split(", "),a=Ia(i,o),s=(r[Ma+"Delay"]||"").split(", "),u=(r[Ma+"Duration"]||"").split(", "),c=Ia(s,u),l=0,f=0;e===Sa?a>0&&(n=Sa,l=a,f=o.length):e===Ca?c>0&&(n=Ca,l=c,f=u.length):(l=Math.max(a,c),n=l>0?a>c?Sa:Ca:null,f=n?n===Sa?o.length:u.length:0);var h=n===Sa&&Ra.test(r[Ea+"Property"]);return{type:n,timeout:l,propCount:f,hasTransform:h}}function Ia(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return ja(e)+ja(t[n])})))}function ja(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function La(t,e){var n=t.elm;a(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=_a(t.data.transition);if(!o(r)&&!a(n._enterCb)&&1===n.nodeType){var i=r.css,s=r.type,u=r.enterClass,c=r.enterToClass,h=r.enterActiveClass,d=r.appearClass,p=r.appearToClass,g=r.appearActiveClass,m=r.beforeEnter,v=r.enter,y=r.afterEnter,w=r.enterCancelled,x=r.beforeAppear,_=r.appear,k=r.afterAppear,A=r.appearCancelled,S=r.duration,C=Gn,E=Gn.$vnode;while(E&&E.parent)C=E.context,E=E.parent;var D=!C._isMounted||!t.isRootInsert;if(!D||_||""===_){var M=D&&d?d:u,T=D&&g?g:h,F=D&&p?p:c,O=D&&x||m,$=D&&l(_)?_:v,N=D&&k||y,B=D&&A||w,R=b(f(S)?S.enter:S);0;var P=!1!==i&&!rt,I=qa($),j=n._enterCb=U((function(){P&&(Na(n,F),Na(n,T)),j.cancelled?(P&&Na(n,M),B&&B(n)):N&&N(n),n._enterCb=null}));t.data.show||Se(t,"insert",(function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),$&&$(n,j)})),O&&O(n),P&&($a(n,M),$a(n,T),Oa((function(){Na(n,M),j.cancelled||($a(n,F),I||(Ua(R)?setTimeout(j,R):Ba(n,s,j)))}))),t.data.show&&(e&&e(),$&&$(n,j)),P||I||j()}}}function za(t,e){var n=t.elm;a(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=_a(t.data.transition);if(o(r)||1!==n.nodeType)return e();if(!a(n._leaveCb)){var i=r.css,s=r.type,u=r.leaveClass,c=r.leaveToClass,l=r.leaveActiveClass,h=r.beforeLeave,d=r.leave,p=r.afterLeave,g=r.leaveCancelled,m=r.delayLeave,v=r.duration,y=!1!==i&&!rt,w=qa(d),x=b(f(v)?v.leave:v);0;var _=n._leaveCb=U((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),y&&(Na(n,c),Na(n,l)),_.cancelled?(y&&Na(n,u),g&&g(n)):(e(),p&&p(n)),n._leaveCb=null}));m?m(k):k()}function k(){_.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),h&&h(n),y&&($a(n,u),$a(n,l),Oa((function(){Na(n,u),_.cancelled||($a(n,c),w||(Ua(x)?setTimeout(_,x):Ba(n,s,_)))}))),d&&d(n,_),y||w||_())}}function Ua(t){return"number"===typeof t&&!isNaN(t)}function qa(t){if(o(t))return!1;var e=t.fns;return a(e)?qa(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Va(t,e){!0!==e.data.show&&La(e)}var Ha=tt?{create:Va,activate:Va,remove:function(t,e){!0!==t.data.show?za(t,e):e()}}:{},Wa=[Uo,Ho,ea,aa,ya,Ha],Ya=Wa.concat(Io),Ga=To({nodeOps:xo,modules:Ya});rt&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&ns(t,"input")}));var Ka={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?Se(n,"postpatch",(function(){Ka.componentUpdated(t,e,n)})):Xa(t,e,n.context),t._vOptions=[].map.call(t.options,Qa)):("textarea"===n.tag||ao(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",ts),t.addEventListener("compositionend",es),t.addEventListener("change",es),rt&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Xa(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,Qa);if(i.some((function(t,e){return!L(t,r[e])}))){var o=t.multiple?e.value.some((function(t){return Za(t,i)})):e.value!==e.oldValue&&Za(e.value,i);o&&ns(t,"change")}}}};function Xa(t,e,n){Ja(t,e,n),(nt||it)&&setTimeout((function(){Ja(t,e,n)}),0)}function Ja(t,e,n){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var o,a,s=0,u=t.options.length;s<u;s++)if(a=t.options[s],i)o=z(r,Qa(a))>-1,a.selected!==o&&(a.selected=o);else if(L(Qa(a),r))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}}function Za(t,e){return e.every((function(e){return!L(e,t)}))}function Qa(t){return"_value"in t?t._value:t.value}function ts(t){t.target.composing=!0}function es(t){t.target.composing&&(t.target.composing=!1,ns(t.target,"input"))}function ns(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function rs(t){return!t.componentInstance||t.data&&t.data.transition?t:rs(t.componentInstance._vnode)}var is={bind:function(t,e,n){var r=e.value;n=rs(n);var i=n.data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&i?(n.data.show=!0,La(n,(function(){t.style.display=o}))):t.style.display=r?o:"none"},update:function(t,e,n){var r=e.value,i=e.oldValue;if(!r!==!i){n=rs(n);var o=n.data&&n.data.transition;o?(n.data.show=!0,r?La(n,(function(){t.style.display=t.__vOriginalDisplay})):za(n,(function(){t.style.display="none"}))):t.style.display=r?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}},os={model:Ka,show:is},as={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function ss(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?ss(hn(e.children)):t}function us(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var r in i)e[E(r)]=i[r];return e}function cs(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function ls(t){while(t=t.parent)if(t.data.transition)return!0}function fs(t,e){return e.key===t.key&&e.tag===t.tag}var hs=function(t){return t.tag||Ke(t)},ds=function(t){return"show"===t.name},ps={name:"transition",props:as,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(hs),n.length)){0;var r=this.mode;0;var i=n[0];if(ls(this.$vnode))return i;var o=ss(i);if(!o)return i;if(this._leaving)return cs(t,i);var a="__transition-".concat(this._uid,"-");o.key=null==o.key?o.isComment?a+"comment":a+o.tag:c(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var s=(o.data||(o.data={})).transition=us(this),u=this._vnode,l=ss(u);if(o.data.directives&&o.data.directives.some(ds)&&(o.data.show=!0),l&&l.data&&!fs(o,l)&&!Ke(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var f=l.data.transition=B({},s);if("out-in"===r)return this._leaving=!0,Se(f,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),cs(t,i);if("in-out"===r){if(Ke(o))return u;var h,d=function(){h()};Se(s,"afterEnter",d),Se(s,"enterCancelled",d),Se(f,"delayLeave",(function(t){h=t}))}}return i}}},gs=B({tag:String,moveClass:String},as);delete gs.mode;var ms={props:gs,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var i=Kn(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=us(this),s=0;s<i.length;s++){var u=i[s];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))o.push(u),n[u.key]=u,(u.data||(u.data={})).transition=a;else;}if(r){var c=[],l=[];for(s=0;s<r.length;s++){u=r[s];u.data.transition=a,u.data.pos=u.elm.getBoundingClientRect(),n[u.key]?c.push(u):l.push(u)}this.kept=t(e,null,c),this.removed=l}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(vs),t.forEach(ys),t.forEach(bs),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,r=n.style;$a(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(Da,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(Da,t),n._moveCb=null,Na(n,e))})}})))},methods:{hasMove:function(t,e){if(!Aa)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){xa(n,t)})),wa(n,e),n.style.display="none",this.$el.appendChild(n);var r=Pa(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function vs(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function ys(t){t.data.newPos=t.elm.getBoundingClientRect()}function bs(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate(".concat(r,"px,").concat(i,"px)"),o.transitionDuration="0s"}}var ws={Transition:ps,TransitionGroup:ms};wi.config.mustUseProp=Pi,wi.config.isReservedTag=no,wi.config.isReservedAttr=Bi,wi.config.getTagNamespace=ro,wi.config.isUnknownElement=oo,B(wi.options.directives,os),B(wi.options.components,ws),wi.prototype.__patch__=tt?Ga:P,wi.prototype.$mount=function(t,e){return t=t&&tt?so(t):void 0,Zn(this,t,e)},tt&&setTimeout((function(){Y.devtools&&ht&&ht.emit("init",wi)}),0)},9306:function(t,e,n){"use strict";var r=n(4901),i=n(6823),o=TypeError;t.exports=function(t){if(r(t))return t;throw new o(i(t)+" is not a function")}},7080:function(t,e,n){"use strict";var r=n(4402).has;t.exports=function(t){return r(t),t}},8551:function(t,e,n){"use strict";var r=n(34),i=String,o=TypeError;t.exports=function(t){if(r(t))return t;throw new o(i(t)+" is not an object")}},9617:function(t,e,n){"use strict";var r=n(5397),i=n(5610),o=n(6198),a=function(t){return function(e,n,a){var s=r(e),u=o(s);if(0===u)return!t&&-1;var c,l=i(a,u);if(t&&n!==n){while(u>l)if(c=s[l++],c!==c)return!0}else for(;u>l;l++)if((t||l in s)&&s[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},4527:function(t,e,n){"use strict";var r=n(3724),i=n(4376),o=TypeError,a=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=s?function(t,e){if(i(t)&&!a(t,"length").writable)throw new o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},4576:function(t,e,n){"use strict";var r=n(9504),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},6955:function(t,e,n){"use strict";var r=n(2140),i=n(4901),o=n(4576),a=n(8227),s=a("toStringTag"),u=Object,c="Arguments"===o(function(){return arguments}()),l=function(t,e){try{return t[e]}catch(n){}};t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=l(e=u(t),s))?n:c?o(e):"Object"===(r=o(e))&&i(e.callee)?"Arguments":r}},7740:function(t,e,n){"use strict";var r=n(9297),i=n(5031),o=n(7347),a=n(4913);t.exports=function(t,e,n){for(var s=i(e),u=a.f,c=o.f,l=0;l<s.length;l++){var f=s[l];r(t,f)||n&&r(n,f)||u(t,f,c(e,f))}}},6699:function(t,e,n){"use strict";var r=n(3724),i=n(4913),o=n(6980);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},6980:function(t){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},2106:function(t,e,n){"use strict";var r=n(283),i=n(4913);t.exports=function(t,e,n){return n.get&&r(n.get,e,{getter:!0}),n.set&&r(n.set,e,{setter:!0}),i.f(t,e,n)}},6840:function(t,e,n){"use strict";var r=n(4901),i=n(4913),o=n(283),a=n(9433);t.exports=function(t,e,n,s){s||(s={});var u=s.enumerable,c=void 0!==s.name?s.name:e;if(r(n)&&o(n,c,s),s.global)u?t[e]=n:a(e,n);else{try{s.unsafe?t[e]&&(u=!0):delete t[e]}catch(l){}u?t[e]=n:i.f(t,e,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return t}},9433:function(t,e,n){"use strict";var r=n(4475),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},3724:function(t,e,n){"use strict";var r=n(9039);t.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4055:function(t,e,n){"use strict";var r=n(4475),i=n(34),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},6837:function(t){"use strict";var e=TypeError,n=9007199254740991;t.exports=function(t){if(t>n)throw e("Maximum allowed index exceeded");return t}},9392:function(t){"use strict";t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7388:function(t,e,n){"use strict";var r,i,o=n(4475),a=n(9392),s=o.process,u=o.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(r=l.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(r=a.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),t.exports=i},8727:function(t){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6518:function(t,e,n){"use strict";var r=n(4475),i=n(7347).f,o=n(6699),a=n(6840),s=n(9433),u=n(7740),c=n(2796);t.exports=function(t,e){var n,l,f,h,d,p,g=t.target,m=t.global,v=t.stat;if(l=m?r:v?r[g]||s(g,{}):r[g]&&r[g].prototype,l)for(f in e){if(d=e[f],t.dontCallGetSet?(p=i(l,f),h=p&&p.value):h=l[f],n=c(m?f:g+(v?".":"#")+f,t.forced),!n&&void 0!==h){if(typeof d==typeof h)continue;u(d,h)}(t.sham||h&&h.sham)&&o(d,"sham",!0),a(l,f,d,t)}}},9039:function(t){"use strict";t.exports=function(t){try{return!!t()}catch(e){return!0}}},616:function(t,e,n){"use strict";var r=n(9039);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},9565:function(t,e,n){"use strict";var r=n(616),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},350:function(t,e,n){"use strict";var r=n(3724),i=n(9297),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),u=s&&"something"===function(){}.name,c=s&&(!r||r&&a(o,"name").configurable);t.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},6706:function(t,e,n){"use strict";var r=n(9504),i=n(9306);t.exports=function(t,e,n){try{return r(i(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(o){}}},9504:function(t,e,n){"use strict";var r=n(616),i=Function.prototype,o=i.call,a=r&&i.bind.bind(o,o);t.exports=r?a:function(t){return function(){return o.apply(t,arguments)}}},7751:function(t,e,n){"use strict";var r=n(4475),i=n(4901),o=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t]):r[t]&&r[t][e]}},1767:function(t){"use strict";t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},5966:function(t,e,n){"use strict";var r=n(9306),i=n(4117);t.exports=function(t,e){var n=t[e];return i(n)?void 0:r(n)}},3789:function(t,e,n){"use strict";var r=n(9306),i=n(8551),o=n(9565),a=n(1291),s=n(1767),u="Invalid size",c=RangeError,l=TypeError,f=Math.max,h=function(t,e){this.set=t,this.size=f(e,0),this.has=r(t.has),this.keys=r(t.keys)};h.prototype={getIterator:function(){return s(i(o(this.keys,this.set)))},includes:function(t){return o(this.has,this.set,t)}},t.exports=function(t){i(t);var e=+t.size;if(e!==e)throw new l(u);var n=a(e);if(n<0)throw new c(u);return new h(t,n)}},4475:function(t,e,n){"use strict";var r=function(t){return t&&t.Math===Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:function(t,e,n){"use strict";var r=n(9504),i=n(8981),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},421:function(t){"use strict";t.exports={}},5917:function(t,e,n){"use strict";var r=n(3724),i=n(9039),o=n(4055);t.exports=!r&&!i((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},7055:function(t,e,n){"use strict";var r=n(9504),i=n(9039),o=n(4576),a=Object,s=r("".split);t.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"===o(t)?s(t,""):a(t)}:a},3706:function(t,e,n){"use strict";var r=n(9504),i=n(4901),o=n(7629),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return a(t)}),t.exports=o.inspectSource},1181:function(t,e,n){"use strict";var r,i,o,a=n(8622),s=n(4475),u=n(34),c=n(6699),l=n(9297),f=n(7629),h=n(6119),d=n(421),p="Object already initialized",g=s.TypeError,m=s.WeakMap,v=function(t){return o(t)?i(t):r(t,{})},y=function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw new g("Incompatible receiver, "+t+" required");return n}};if(a||f.state){var b=f.state||(f.state=new m);b.get=b.get,b.has=b.has,b.set=b.set,r=function(t,e){if(b.has(t))throw new g(p);return e.facade=t,b.set(t,e),e},i=function(t){return b.get(t)||{}},o=function(t){return b.has(t)}}else{var w=h("state");d[w]=!0,r=function(t,e){if(l(t,w))throw new g(p);return e.facade=t,c(t,w,e),e},i=function(t){return l(t,w)?t[w]:{}},o=function(t){return l(t,w)}}t.exports={set:r,get:i,has:o,enforce:v,getterFor:y}},4376:function(t,e,n){"use strict";var r=n(4576);t.exports=Array.isArray||function(t){return"Array"===r(t)}},4901:function(t){"use strict";var e="object"==typeof document&&document.all;t.exports="undefined"==typeof e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},2796:function(t,e,n){"use strict";var r=n(9039),i=n(4901),o=/#|\.prototype\./,a=function(t,e){var n=u[s(t)];return n===l||n!==c&&(i(e)?r(e):!!e)},s=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},4117:function(t){"use strict";t.exports=function(t){return null===t||void 0===t}},34:function(t,e,n){"use strict";var r=n(4901);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},6395:function(t){"use strict";t.exports=!1},757:function(t,e,n){"use strict";var r=n(7751),i=n(4901),o=n(1625),a=n(7040),s=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return i(e)&&o(e.prototype,s(t))}},507:function(t,e,n){"use strict";var r=n(9565);t.exports=function(t,e,n){var i,o,a=n?t:t.iterator,s=t.next;while(!(i=r(s,a)).done)if(o=e(i.value),void 0!==o)return o}},9539:function(t,e,n){"use strict";var r=n(9565),i=n(8551),o=n(5966);t.exports=function(t,e,n){var a,s;i(t);try{if(a=o(t,"return"),!a){if("throw"===e)throw n;return n}a=r(a,t)}catch(u){s=!0,a=u}if("throw"===e)throw n;if(s)throw a;return i(a),n}},6198:function(t,e,n){"use strict";var r=n(8014);t.exports=function(t){return r(t.length)}},283:function(t,e,n){"use strict";var r=n(9504),i=n(9039),o=n(4901),a=n(9297),s=n(3724),u=n(350).CONFIGURABLE,c=n(3706),l=n(1181),f=l.enforce,h=l.get,d=String,p=Object.defineProperty,g=r("".slice),m=r("".replace),v=r([].join),y=s&&!i((function(){return 8!==p((function(){}),"length",{value:8}).length})),b=String(String).split("String"),w=t.exports=function(t,e,n){"Symbol("===g(d(e),0,7)&&(e="["+m(d(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!a(t,"name")||u&&t.name!==e)&&(s?p(t,"name",{value:e,configurable:!0}):t.name=e),y&&n&&a(n,"arity")&&t.length!==n.arity&&p(t,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&p(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(i){}var r=f(t);return a(r,"source")||(r.source=v(b,"string"==typeof e?e:"")),t};Function.prototype.toString=w((function(){return o(this)&&h(this).source||c(this)}),"toString")},741:function(t){"use strict";var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},4913:function(t,e,n){"use strict";var r=n(3724),i=n(5917),o=n(8686),a=n(8551),s=n(6969),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,f="enumerable",h="configurable",d="writable";e.f=r?o?function(t,e,n){if(a(t),e=s(e),a(n),"function"===typeof t&&"prototype"===e&&"value"in n&&d in n&&!n[d]){var r=l(t,e);r&&r[d]&&(t[e]=n.value,n={configurable:h in n?n[h]:r[h],enumerable:f in n?n[f]:r[f],writable:!1})}return c(t,e,n)}:c:function(t,e,n){if(a(t),e=s(e),a(n),i)try{return c(t,e,n)}catch(r){}if("get"in n||"set"in n)throw new u("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},7347:function(t,e,n){"use strict";var r=n(3724),i=n(9565),o=n(8773),a=n(6980),s=n(5397),u=n(6969),c=n(9297),l=n(5917),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=s(t),e=u(e),l)try{return f(t,e)}catch(n){}if(c(t,e))return a(!i(o.f,t,e),t[e])}},8480:function(t,e,n){"use strict";var r=n(1828),i=n(8727),o=i.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},3717:function(t,e){"use strict";e.f=Object.getOwnPropertySymbols},1625:function(t,e,n){"use strict";var r=n(9504);t.exports=r({}.isPrototypeOf)},1828:function(t,e,n){"use strict";var r=n(9504),i=n(9297),o=n(5397),a=n(9617).indexOf,s=n(421),u=r([].push);t.exports=function(t,e){var n,r=o(t),c=0,l=[];for(n in r)!i(s,n)&&i(r,n)&&u(l,n);while(e.length>c)i(r,n=e[c++])&&(~a(l,n)||u(l,n));return l}},8773:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},4270:function(t,e,n){"use strict";var r=n(9565),i=n(4901),o=n(34),a=TypeError;t.exports=function(t,e){var n,s;if("string"===e&&i(n=t.toString)&&!o(s=r(n,t)))return s;if(i(n=t.valueOf)&&!o(s=r(n,t)))return s;if("string"!==e&&i(n=t.toString)&&!o(s=r(n,t)))return s;throw new a("Can't convert object to primitive value")}},5031:function(t,e,n){"use strict";var r=n(7751),i=n(9504),o=n(8480),a=n(3717),s=n(8551),u=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(s(t)),n=a.f;return n?u(e,n(t)):e}},7750:function(t,e,n){"use strict";var r=n(4117),i=TypeError;t.exports=function(t){if(r(t))throw new i("Can't call method on "+t);return t}},9286:function(t,e,n){"use strict";var r=n(4402),i=n(8469),o=r.Set,a=r.add;t.exports=function(t){var e=new o;return i(t,(function(t){a(e,t)})),e}},3440:function(t,e,n){"use strict";var r=n(7080),i=n(4402),o=n(9286),a=n(5170),s=n(3789),u=n(8469),c=n(507),l=i.has,f=i.remove;t.exports=function(t){var e=r(this),n=s(t),i=o(e);return a(e)<=n.size?u(e,(function(t){n.includes(t)&&f(i,t)})):c(n.getIterator(),(function(t){l(e,t)&&f(i,t)})),i}},4402:function(t,e,n){"use strict";var r=n(9504),i=Set.prototype;t.exports={Set:Set,add:r(i.add),has:r(i.has),remove:r(i["delete"]),proto:i}},8750:function(t,e,n){"use strict";var r=n(7080),i=n(4402),o=n(5170),a=n(3789),s=n(8469),u=n(507),c=i.Set,l=i.add,f=i.has;t.exports=function(t){var e=r(this),n=a(t),i=new c;return o(e)>n.size?u(n.getIterator(),(function(t){f(e,t)&&l(i,t)})):s(e,(function(t){n.includes(t)&&l(i,t)})),i}},4449:function(t,e,n){"use strict";var r=n(7080),i=n(4402).has,o=n(5170),a=n(3789),s=n(8469),u=n(507),c=n(9539);t.exports=function(t){var e=r(this),n=a(t);if(o(e)<=n.size)return!1!==s(e,(function(t){if(n.includes(t))return!1}),!0);var l=n.getIterator();return!1!==u(l,(function(t){if(i(e,t))return c(l,"normal",!1)}))}},3838:function(t,e,n){"use strict";var r=n(7080),i=n(5170),o=n(8469),a=n(3789);t.exports=function(t){var e=r(this),n=a(t);return!(i(e)>n.size)&&!1!==o(e,(function(t){if(!n.includes(t))return!1}),!0)}},8527:function(t,e,n){"use strict";var r=n(7080),i=n(4402).has,o=n(5170),a=n(3789),s=n(507),u=n(9539);t.exports=function(t){var e=r(this),n=a(t);if(o(e)<n.size)return!1;var c=n.getIterator();return!1!==s(c,(function(t){if(!i(e,t))return u(c,"normal",!1)}))}},8469:function(t,e,n){"use strict";var r=n(9504),i=n(507),o=n(4402),a=o.Set,s=o.proto,u=r(s.forEach),c=r(s.keys),l=c(new a).next;t.exports=function(t,e,n){return n?i({iterator:c(t),next:l},e):u(t,e)}},4916:function(t,e,n){"use strict";var r=n(7751),i=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};t.exports=function(t){var e=r("Set");try{(new e)[t](i(0));try{return(new e)[t](i(-1)),!1}catch(n){return!0}}catch(o){return!1}}},5170:function(t,e,n){"use strict";var r=n(6706),i=n(4402);t.exports=r(i.proto,"size","get")||function(t){return t.size}},3650:function(t,e,n){"use strict";var r=n(7080),i=n(4402),o=n(9286),a=n(3789),s=n(507),u=i.add,c=i.has,l=i.remove;t.exports=function(t){var e=r(this),n=a(t).getIterator(),i=o(e);return s(n,(function(t){c(e,t)?l(i,t):u(i,t)})),i}},4204:function(t,e,n){"use strict";var r=n(7080),i=n(4402).add,o=n(9286),a=n(3789),s=n(507);t.exports=function(t){var e=r(this),n=a(t).getIterator(),u=o(e);return s(n,(function(t){i(u,t)})),u}},6119:function(t,e,n){"use strict";var r=n(5745),i=n(3392),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},7629:function(t,e,n){"use strict";var r=n(6395),i=n(4475),o=n(9433),a="__core-js_shared__",s=t.exports=i[a]||o(a,{});(s.versions||(s.versions=[])).push({version:"3.37.1",mode:r?"pure":"global",copyright:" 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(t,e,n){"use strict";var r=n(7629);t.exports=function(t,e){return r[t]||(r[t]=e||{})}},4495:function(t,e,n){"use strict";var r=n(7388),i=n(9039),o=n(4475),a=o.String;t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol("symbol detection");return!a(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},5610:function(t,e,n){"use strict";var r=n(1291),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},5397:function(t,e,n){"use strict";var r=n(7055),i=n(7750);t.exports=function(t){return r(i(t))}},1291:function(t,e,n){"use strict";var r=n(741);t.exports=function(t){var e=+t;return e!==e||0===e?0:r(e)}},8014:function(t,e,n){"use strict";var r=n(1291),i=Math.min;t.exports=function(t){var e=r(t);return e>0?i(e,9007199254740991):0}},8981:function(t,e,n){"use strict";var r=n(7750),i=Object;t.exports=function(t){return i(r(t))}},2777:function(t,e,n){"use strict";var r=n(9565),i=n(34),o=n(757),a=n(5966),s=n(4270),u=n(8227),c=TypeError,l=u("toPrimitive");t.exports=function(t,e){if(!i(t)||o(t))return t;var n,u=a(t,l);if(u){if(void 0===e&&(e="default"),n=r(u,t,e),!i(n)||o(n))return n;throw new c("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},6969:function(t,e,n){"use strict";var r=n(2777),i=n(757);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},2140:function(t,e,n){"use strict";var r=n(8227),i=r("toStringTag"),o={};o[i]="z",t.exports="[object z]"===String(o)},655:function(t,e,n){"use strict";var r=n(6955),i=String;t.exports=function(t){if("Symbol"===r(t))throw new TypeError("Cannot convert a Symbol value to a string");return i(t)}},6823:function(t){"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(n){return"Object"}}},3392:function(t,e,n){"use strict";var r=n(9504),i=0,o=Math.random(),a=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+o,36)}},7040:function(t,e,n){"use strict";var r=n(4495);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:function(t,e,n){"use strict";var r=n(3724),i=n(9039);t.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},2812:function(t){"use strict";var e=TypeError;t.exports=function(t,n){if(t<n)throw new e("Not enough arguments");return t}},8622:function(t,e,n){"use strict";var r=n(4475),i=n(4901),o=r.WeakMap;t.exports=i(o)&&/native code/.test(String(o))},8227:function(t,e,n){"use strict";var r=n(4475),i=n(5745),o=n(9297),a=n(3392),s=n(4495),u=n(7040),c=r.Symbol,l=i("wks"),f=u?c["for"]||c:c&&c.withoutSetter||a;t.exports=function(t){return o(l,t)||(l[t]=s&&o(c,t)?c[t]:f("Symbol."+t)),l[t]}},4114:function(t,e,n){"use strict";var r=n(6518),i=n(8981),o=n(6198),a=n(4527),s=n(6837),u=n(9039),c=u((function(){return 4294967297!==[].push.call({length:4294967296},1)})),l=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},f=c||!l();r({target:"Array",proto:!0,arity:1,forced:f},{push:function(t){var e=i(this),n=o(e),r=arguments.length;s(n+r);for(var u=0;u<r;u++)e[n]=arguments[u],n++;return a(e,n),n}})},7642:function(t,e,n){"use strict";var r=n(6518),i=n(3440),o=n(4916);r({target:"Set",proto:!0,real:!0,forced:!o("difference")},{difference:i})},8004:function(t,e,n){"use strict";var r=n(6518),i=n(9039),o=n(8750),a=n(4916),s=!a("intersection")||i((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}));r({target:"Set",proto:!0,real:!0,forced:s},{intersection:o})},3853:function(t,e,n){"use strict";var r=n(6518),i=n(4449),o=n(4916);r({target:"Set",proto:!0,real:!0,forced:!o("isDisjointFrom")},{isDisjointFrom:i})},5876:function(t,e,n){"use strict";var r=n(6518),i=n(3838),o=n(4916);r({target:"Set",proto:!0,real:!0,forced:!o("isSubsetOf")},{isSubsetOf:i})},2475:function(t,e,n){"use strict";var r=n(6518),i=n(8527),o=n(4916);r({target:"Set",proto:!0,real:!0,forced:!o("isSupersetOf")},{isSupersetOf:i})},5024:function(t,e,n){"use strict";var r=n(6518),i=n(3650),o=n(4916);r({target:"Set",proto:!0,real:!0,forced:!o("symmetricDifference")},{symmetricDifference:i})},1698:function(t,e,n){"use strict";var r=n(6518),i=n(4204),o=n(4916);r({target:"Set",proto:!0,real:!0,forced:!o("union")},{union:i})},3375:function(t,e,n){"use strict";n(7642)},9225:function(t,e,n){"use strict";n(8004)},3972:function(t,e,n){"use strict";n(3853)},9209:function(t,e,n){"use strict";n(5876)},5714:function(t,e,n){"use strict";n(2475)},7561:function(t,e,n){"use strict";n(5024)},6197:function(t,e,n){"use strict";n(1698)},4603:function(t,e,n){"use strict";var r=n(6840),i=n(9504),o=n(655),a=n(2812),s=URLSearchParams,u=s.prototype,c=i(u.append),l=i(u["delete"]),f=i(u.forEach),h=i([].push),d=new s("a=1&a=2&b=3");d["delete"]("a",1),d["delete"]("b",void 0),d+""!=="a=2"&&r(u,"delete",(function(t){var e=arguments.length,n=e<2?void 0:arguments[1];if(e&&void 0===n)return l(this,t);var r=[];f(this,(function(t,e){h(r,{key:e,value:t})})),a(e,1);var i,s=o(t),u=o(n),d=0,p=0,g=!1,m=r.length;while(d<m)i=r[d++],g||i.key===s?(g=!0,l(this,i.key)):p++;while(p<m)i=r[p++],i.key===s&&i.value===u||c(this,i.key,i.value)}),{enumerable:!0,unsafe:!0})},7566:function(t,e,n){"use strict";var r=n(6840),i=n(9504),o=n(655),a=n(2812),s=URLSearchParams,u=s.prototype,c=i(u.getAll),l=i(u.has),f=new s("a=1");!f.has("a",2)&&f.has("a",void 0)||r(u,"has",(function(t){var e=arguments.length,n=e<2?void 0:arguments[1];if(e&&void 0===n)return l(this,t);var r=c(this,t);a(e,1);var i=o(n),s=0;while(s<r.length)if(r[s++]===i)return!0;return!1}),{enumerable:!0,unsafe:!0})},8721:function(t,e,n){"use strict";var r=n(3724),i=n(9504),o=n(2106),a=URLSearchParams.prototype,s=i(a.forEach);r&&!("size"in a)&&o(a,"size",{get:function(){var t=0;return s(this,(function(){t++})),t},configurable:!0,enumerable:!0})},8487:function(t){"use strict";var e=/("(?:[^\\"]|\\.)*")|[:,]/g;t.exports=function(t,n){var r,i,o;return n=n||{},r=JSON.stringify([1],void 0,void 0===n.indent?2:n.indent).slice(2,-3),i=""===r?1/0:void 0===n.maxLength?80:n.maxLength,o=n.replacer,function t(n,a,s){var u,c,l,f,h,d,p,g,m,v,y,b;if(n&&"function"===typeof n.toJSON&&(n=n.toJSON()),y=JSON.stringify(n,o),void 0===y)return y;if(p=i-a.length-s,y.length<=p&&(m=y.replace(e,(function(t,e){return e||t+" "})),m.length<=p))return m;if(null!=o&&(n=JSON.parse(y),o=void 0),"object"===typeof n&&null!==n){if(g=a+r,l=[],c=0,Array.isArray(n))for(v="[",u="]",p=n.length;c<p;c++)l.push(t(n[c],g,c===p-1?0:1)||"null");else for(v="{",u="}",d=Object.keys(n),p=d.length;c<p;c++)f=d[c],h=JSON.stringify(f)+": ",b=t(n[f],g,h.length+(c===p-1?0:1)),void 0!==b&&l.push(h+b);if(l.length>0)return[v,r+l.join(",\n"+g),u].join("\n"+a)}return y}(t,"",0)}},4335:function(t,e,n){"use strict";n.d(e,{A:function(){return vn}});var r={};function i(t,e){return function(){return t.apply(e,arguments)}}n.r(r),n.d(r,{hasBrowserEnv:function(){return It},hasStandardBrowserEnv:function(){return jt},hasStandardBrowserWebWorkerEnv:function(){return Lt},origin:function(){return zt}});const{toString:o}=Object.prototype,{getPrototypeOf:a}=Object,s=(t=>e=>{const n=o.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),u=t=>(t=t.toLowerCase(),e=>s(e)===t),c=t=>e=>typeof e===t,{isArray:l}=Array,f=c("undefined");function h(t){return null!==t&&!f(t)&&null!==t.constructor&&!f(t.constructor)&&m(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const d=u("ArrayBuffer");function p(t){let e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&d(t.buffer),e}const g=c("string"),m=c("function"),v=c("number"),y=t=>null!==t&&"object"===typeof t,b=t=>!0===t||!1===t,w=t=>{if("object"!==s(t))return!1;const e=a(t);return(null===e||e===Object.prototype||null===Object.getPrototypeOf(e))&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},x=u("Date"),_=u("File"),k=u("Blob"),A=u("FileList"),S=t=>y(t)&&m(t.pipe),C=t=>{let e;return t&&("function"===typeof FormData&&t instanceof FormData||m(t.append)&&("formdata"===(e=s(t))||"object"===e&&m(t.toString)&&"[object FormData]"===t.toString()))},E=u("URLSearchParams"),[D,M,T,F]=["ReadableStream","Request","Response","Headers"].map(u),O=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $(t,e,{allOwnKeys:n=!1}={}){if(null===t||"undefined"===typeof t)return;let r,i;if("object"!==typeof t&&(t=[t]),l(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function N(t,e){e=e.toLowerCase();const n=Object.keys(t);let r,i=n.length;while(i-- >0)if(r=n[i],e===r.toLowerCase())return r;return null}const B=(()=>"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global)(),R=t=>!f(t)&&t!==B;function P(){const{caseless:t}=R(this)&&this||{},e={},n=(n,r)=>{const i=t&&N(e,r)||r;w(e[i])&&w(n)?e[i]=P(e[i],n):w(n)?e[i]=P({},n):l(n)?e[i]=n.slice():e[i]=n};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&$(arguments[r],n);return e}const I=(t,e,n,{allOwnKeys:r}={})=>($(e,((e,r)=>{n&&m(e)?t[r]=i(e,n):t[r]=e}),{allOwnKeys:r}),t),j=t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),L=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},z=(t,e,n,r)=>{let i,o,s;const u={};if(e=e||{},null==t)return e;do{i=Object.getOwnPropertyNames(t),o=i.length;while(o-- >0)s=i[o],r&&!r(s,t,e)||u[s]||(e[s]=t[s],u[s]=!0);t=!1!==n&&a(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},U=(t,e,n)=>{t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return-1!==r&&r===n},q=t=>{if(!t)return null;if(l(t))return t;let e=t.length;if(!v(e))return null;const n=new Array(e);while(e-- >0)n[e]=t[e];return n},V=(t=>e=>t&&e instanceof t)("undefined"!==typeof Uint8Array&&a(Uint8Array)),H=(t,e)=>{const n=t&&t[Symbol.iterator],r=n.call(t);let i;while((i=r.next())&&!i.done){const n=i.value;e.call(t,n[0],n[1])}},W=(t,e)=>{let n;const r=[];while(null!==(n=t.exec(e)))r.push(n);return r},Y=u("HTMLFormElement"),G=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n})),K=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),X=u("RegExp"),J=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};$(n,((n,i)=>{let o;!1!==(o=e(n,i,t))&&(r[i]=o||n)})),Object.defineProperties(t,r)},Z=t=>{J(t,((e,n)=>{if(m(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=t[n];m(r)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},Q=(t,e)=>{const n={},r=t=>{t.forEach((t=>{n[t]=!0}))};return l(t)?r(t):r(String(t).split(e)),n},tt=()=>{},et=(t,e)=>null!=t&&Number.isFinite(t=+t)?t:e,nt="abcdefghijklmnopqrstuvwxyz",rt="0123456789",it={DIGIT:rt,ALPHA:nt,ALPHA_DIGIT:nt+nt.toUpperCase()+rt},ot=(t=16,e=it.ALPHA_DIGIT)=>{let n="";const{length:r}=e;while(t--)n+=e[Math.random()*r|0];return n};function at(t){return!!(t&&m(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])}const st=t=>{const e=new Array(10),n=(t,r)=>{if(y(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[r]=t;const i=l(t)?[]:{};return $(t,((t,e)=>{const o=n(t,r+1);!f(o)&&(i[e]=o)})),e[r]=void 0,i}}return t};return n(t,0)},ut=u("AsyncFunction"),ct=t=>t&&(y(t)||m(t))&&m(t.then)&&m(t.catch),lt=((t,e)=>t?setImmediate:e?((t,e)=>(B.addEventListener("message",(({source:n,data:r})=>{n===B&&r===t&&e.length&&e.shift()()}),!1),n=>{e.push(n),B.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))("function"===typeof setImmediate,m(B.postMessage)),ft="undefined"!==typeof queueMicrotask?queueMicrotask.bind(B):"undefined"!==typeof process&&process.nextTick||lt;var ht={isArray:l,isArrayBuffer:d,isBuffer:h,isFormData:C,isArrayBufferView:p,isString:g,isNumber:v,isBoolean:b,isObject:y,isPlainObject:w,isReadableStream:D,isRequest:M,isResponse:T,isHeaders:F,isUndefined:f,isDate:x,isFile:_,isBlob:k,isRegExp:X,isFunction:m,isStream:S,isURLSearchParams:E,isTypedArray:V,isFileList:A,forEach:$,merge:P,extend:I,trim:O,stripBOM:j,inherits:L,toFlatObject:z,kindOf:s,kindOfTest:u,endsWith:U,toArray:q,forEachEntry:H,matchAll:W,isHTMLForm:Y,hasOwnProperty:K,hasOwnProp:K,reduceDescriptors:J,freezeMethods:Z,toObjectSet:Q,toCamelCase:G,noop:tt,toFiniteNumber:et,findKey:N,global:B,isContextDefined:R,ALPHABET:it,generateString:ot,isSpecCompliantForm:at,toJSONObject:st,isAsyncFn:ut,isThenable:ct,setImmediate:lt,asap:ft};function dt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}ht.inherits(dt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ht.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const pt=dt.prototype,gt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{gt[t]={value:t}})),Object.defineProperties(dt,gt),Object.defineProperty(pt,"isAxiosError",{value:!0}),dt.from=(t,e,n,r,i,o)=>{const a=Object.create(pt);return ht.toFlatObject(t,a,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),dt.call(a,t.message,e,n,r,i),a.cause=t,a.name=t.name,o&&Object.assign(a,o),a};var mt=dt,vt=null;function yt(t){return ht.isPlainObject(t)||ht.isArray(t)}function bt(t){return ht.endsWith(t,"[]")?t.slice(0,-2):t}function wt(t,e,n){return t?t.concat(e).map((function(t,e){return t=bt(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}function xt(t){return ht.isArray(t)&&!t.some(yt)}const _t=ht.toFlatObject(ht,{},null,(function(t){return/^is[A-Z]/.test(t)}));function kt(t,e,n){if(!ht.isObject(t))throw new TypeError("target must be an object");e=e||new(vt||FormData),n=ht.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!ht.isUndefined(e[t])}));const r=n.metaTokens,i=n.visitor||l,o=n.dots,a=n.indexes,s=n.Blob||"undefined"!==typeof Blob&&Blob,u=s&&ht.isSpecCompliantForm(e);if(!ht.isFunction(i))throw new TypeError("visitor must be a function");function c(t){if(null===t)return"";if(ht.isDate(t))return t.toISOString();if(!u&&ht.isBlob(t))throw new mt("Blob is not supported. Use a Buffer instead.");return ht.isArrayBuffer(t)||ht.isTypedArray(t)?u&&"function"===typeof Blob?new Blob([t]):Buffer.from(t):t}function l(t,n,i){let s=t;if(t&&!i&&"object"===typeof t)if(ht.endsWith(n,"{}"))n=r?n:n.slice(0,-2),t=JSON.stringify(t);else if(ht.isArray(t)&&xt(t)||(ht.isFileList(t)||ht.endsWith(n,"[]"))&&(s=ht.toArray(t)))return n=bt(n),s.forEach((function(t,r){!ht.isUndefined(t)&&null!==t&&e.append(!0===a?wt([n],r,o):null===a?n:n+"[]",c(t))})),!1;return!!yt(t)||(e.append(wt(i,n,o),c(t)),!1)}const f=[],h=Object.assign(_t,{defaultVisitor:l,convertValue:c,isVisitable:yt});function d(t,n){if(!ht.isUndefined(t)){if(-1!==f.indexOf(t))throw Error("Circular reference detected in "+n.join("."));f.push(t),ht.forEach(t,(function(t,r){const o=!(ht.isUndefined(t)||null===t)&&i.call(e,t,ht.isString(r)?r.trim():r,n,h);!0===o&&d(t,n?n.concat(r):[r])})),f.pop()}}if(!ht.isObject(t))throw new TypeError("data must be an object");return d(t),e}var At=kt;function St(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function Ct(t,e){this._pairs=[],t&&At(t,this,e)}const Et=Ct.prototype;Et.append=function(t,e){this._pairs.push([t,e])},Et.toString=function(t){const e=t?function(e){return t.call(this,e,St)}:St;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};var Dt=Ct;function Mt(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Tt(t,e,n){if(!e)return t;const r=n&&n.encode||Mt,i=n&&n.serialize;let o;if(o=i?i(e,n):ht.isURLSearchParams(e)?e.toString():new Dt(e,n).toString(r),o){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}class Ft{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ht.forEach(this.handlers,(function(e){null!==e&&t(e)}))}}var Ot=Ft,$t={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Nt="undefined"!==typeof URLSearchParams?URLSearchParams:Dt,Bt="undefined"!==typeof FormData?FormData:null,Rt="undefined"!==typeof Blob?Blob:null,Pt={isBrowser:!0,classes:{URLSearchParams:Nt,FormData:Bt,Blob:Rt},protocols:["http","https","file","blob","url","data"]};const It="undefined"!==typeof window&&"undefined"!==typeof document,jt=(t=>It&&["ReactNative","NativeScript","NS"].indexOf(t)<0)("undefined"!==typeof navigator&&navigator.product),Lt=(()=>"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts)(),zt=It&&window.location.href||"http://localhost";var Ut={...r,...Pt};function qt(t,e){return At(t,new Ut.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,r){return Ut.isNode&&ht.isBuffer(t)?(this.append(e,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function Vt(t){return ht.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}function Ht(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function Wt(t){function e(t,n,r,i){let o=t[i++];if("__proto__"===o)return!0;const a=Number.isFinite(+o),s=i>=t.length;if(o=!o&&ht.isArray(r)?r.length:o,s)return ht.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a;r[o]&&ht.isObject(r[o])||(r[o]=[]);const u=e(t,n,r[o],i);return u&&ht.isArray(r[o])&&(r[o]=Ht(r[o])),!a}if(ht.isFormData(t)&&ht.isFunction(t.entries)){const n={};return ht.forEachEntry(t,((t,r)=>{e(Vt(t),r,n,0)})),n}return null}var Yt=Wt;function Gt(t,e,n){if(ht.isString(t))try{return(e||JSON.parse)(t),ht.trim(t)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(t)}const Kt={transitional:$t,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const n=e.getContentType()||"",r=n.indexOf("application/json")>-1,i=ht.isObject(t);i&&ht.isHTMLForm(t)&&(t=new FormData(t));const o=ht.isFormData(t);if(o)return r?JSON.stringify(Yt(t)):t;if(ht.isArrayBuffer(t)||ht.isBuffer(t)||ht.isStream(t)||ht.isFile(t)||ht.isBlob(t)||ht.isReadableStream(t))return t;if(ht.isArrayBufferView(t))return t.buffer;if(ht.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return qt(t,this.formSerializer).toString();if((a=ht.isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return At(a?{"files[]":t}:t,e&&new e,this.formSerializer)}}return i||r?(e.setContentType("application/json",!1),Gt(t)):t}],transformResponse:[function(t){const e=this.transitional||Kt.transitional,n=e&&e.forcedJSONParsing,r="json"===this.responseType;if(ht.isResponse(t)||ht.isReadableStream(t))return t;if(t&&ht.isString(t)&&(n&&!this.responseType||r)){const n=e&&e.silentJSONParsing,o=!n&&r;try{return JSON.parse(t)}catch(i){if(o){if("SyntaxError"===i.name)throw mt.from(i,mt.ERR_BAD_RESPONSE,this,null,this.response);throw i}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ut.classes.FormData,Blob:Ut.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ht.forEach(["delete","get","head","post","put","patch"],(t=>{Kt.headers[t]={}}));var Xt=Kt;const Jt=ht.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Zt=t=>{const e={};let n,r,i;return t&&t.split("\n").forEach((function(t){i=t.indexOf(":"),n=t.substring(0,i).trim().toLowerCase(),r=t.substring(i+1).trim(),!n||e[n]&&Jt[n]||("set-cookie"===n?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)})),e};const Qt=Symbol("internals");function te(t){return t&&String(t).trim().toLowerCase()}function ee(t){return!1===t||null==t?t:ht.isArray(t)?t.map(ee):String(t)}function ne(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;while(r=n.exec(t))e[r[1]]=r[2];return e}const re=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ie(t,e,n,r,i){return ht.isFunction(r)?r.call(this,e,n):(i&&(e=n),ht.isString(e)?ht.isString(r)?-1!==e.indexOf(r):ht.isRegExp(r)?r.test(e):void 0:void 0)}function oe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,n)=>e.toUpperCase()+n))}function ae(t,e){const n=ht.toCamelCase(" "+e);["get","set","has"].forEach((r=>{Object.defineProperty(t,r+n,{value:function(t,n,i){return this[r].call(this,e,t,n,i)},configurable:!0})}))}class se{constructor(t){t&&this.set(t)}set(t,e,n){const r=this;function i(t,e,n){const i=te(e);if(!i)throw new Error("header name must be a non-empty string");const o=ht.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||e]=ee(t))}const o=(t,e)=>ht.forEach(t,((t,n)=>i(t,n,e)));if(ht.isPlainObject(t)||t instanceof this.constructor)o(t,e);else if(ht.isString(t)&&(t=t.trim())&&!re(t))o(Zt(t),e);else if(ht.isHeaders(t))for(const[a,s]of t.entries())i(s,a,n);else null!=t&&i(e,t,n);return this}get(t,e){if(t=te(t),t){const n=ht.findKey(this,t);if(n){const t=this[n];if(!e)return t;if(!0===e)return ne(t);if(ht.isFunction(e))return e.call(this,t,n);if(ht.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=te(t),t){const n=ht.findKey(this,t);return!(!n||void 0===this[n]||e&&!ie(this,this[n],n,e))}return!1}delete(t,e){const n=this;let r=!1;function i(t){if(t=te(t),t){const i=ht.findKey(n,t);!i||e&&!ie(n,n[i],i,e)||(delete n[i],r=!0)}}return ht.isArray(t)?t.forEach(i):i(t),r}clear(t){const e=Object.keys(this);let n=e.length,r=!1;while(n--){const i=e[n];t&&!ie(this,this[i],i,t,!0)||(delete this[i],r=!0)}return r}normalize(t){const e=this,n={};return ht.forEach(this,((r,i)=>{const o=ht.findKey(n,i);if(o)return e[o]=ee(r),void delete e[i];const a=t?oe(i):String(i).trim();a!==i&&delete e[i],e[a]=ee(r),n[a]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return ht.forEach(this,((n,r)=>{null!=n&&!1!==n&&(e[r]=t&&ht.isArray(n)?n.join(", "):n)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach((t=>n.set(t))),n}static accessor(t){const e=this[Qt]=this[Qt]={accessors:{}},n=e.accessors,r=this.prototype;function i(t){const e=te(t);n[e]||(ae(r,t),n[e]=!0)}return ht.isArray(t)?t.forEach(i):i(t),this}}se.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ht.reduceDescriptors(se.prototype,(({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(t){this[n]=t}}})),ht.freezeMethods(se);var ue=se;function ce(t,e){const n=this||Xt,r=e||n,i=ue.from(r.headers);let o=r.data;return ht.forEach(t,(function(t){o=t.call(n,o,i.normalize(),e?e.status:void 0)})),i.normalize(),o}function le(t){return!(!t||!t.__CANCEL__)}function fe(t,e,n){mt.call(this,null==t?"canceled":t,mt.ERR_CANCELED,e,n),this.name="CanceledError"}ht.inherits(fe,mt,{__CANCEL__:!0});var he=fe;function de(t,e,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(new mt("Request failed with status code "+n.status,[mt.ERR_BAD_REQUEST,mt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}function pe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function ge(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i,o=0,a=0;return e=void 0!==e?e:1e3,function(s){const u=Date.now(),c=r[a];i||(i=u),n[o]=s,r[o]=u;let l=a,f=0;while(l!==o)f+=n[l++],l%=t;if(o=(o+1)%t,o===a&&(a=(a+1)%t),u-i<e)return;const h=c&&u-c;return h?Math.round(1e3*f/h):void 0}}var me=ge;function ve(t,e){let n,r,i=0,o=1e3/e;const a=(e,o=Date.now())=>{i=o,n=null,r&&(clearTimeout(r),r=null),t.apply(null,e)},s=(...t)=>{const e=Date.now(),s=e-i;s>=o?a(t,e):(n=t,r||(r=setTimeout((()=>{r=null,a(n)}),o-s)))},u=()=>n&&a(n);return[s,u]}var ye=ve;const be=(t,e,n=3)=>{let r=0;const i=me(50,250);return ye((n=>{const o=n.loaded,a=n.lengthComputable?n.total:void 0,s=o-r,u=i(s),c=o<=a;r=o;const l={loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:u||void 0,estimated:u&&a&&c?(a-o)/u:void 0,event:n,lengthComputable:null!=a,[e?"download":"upload"]:!0};t(l)}),n)},we=(t,e)=>{const n=null!=t;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},xe=t=>(...e)=>ht.asap((()=>t(...e)));var _e=Ut.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let n;function r(n){let r=n;return t&&(e.setAttribute("href",r),r=e.href),e.setAttribute("href",r),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return n=r(window.location.href),function(t){const e=ht.isString(t)?r(t):t;return e.protocol===n.protocol&&e.host===n.host}}():function(){return function(){return!0}}(),ke=Ut.hasStandardBrowserEnv?{write(t,e,n,r,i,o){const a=[t+"="+encodeURIComponent(e)];ht.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),ht.isString(r)&&a.push("path="+r),ht.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ae(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Se(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Ce(t,e){return t&&!Ae(e)?Se(t,e):e}const Ee=t=>t instanceof ue?{...t}:t;function De(t,e){e=e||{};const n={};function r(t,e,n){return ht.isPlainObject(t)&&ht.isPlainObject(e)?ht.merge.call({caseless:n},t,e):ht.isPlainObject(e)?ht.merge({},e):ht.isArray(e)?e.slice():e}function i(t,e,n){return ht.isUndefined(e)?ht.isUndefined(t)?void 0:r(void 0,t,n):r(t,e,n)}function o(t,e){if(!ht.isUndefined(e))return r(void 0,e)}function a(t,e){return ht.isUndefined(e)?ht.isUndefined(t)?void 0:r(void 0,t):r(void 0,e)}function s(n,i,o){return o in e?r(n,i):o in t?r(void 0,n):void 0}const u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(t,e)=>i(Ee(t),Ee(e),!0)};return ht.forEach(Object.keys(Object.assign({},t,e)),(function(r){const o=u[r]||i,a=o(t[r],e[r],r);ht.isUndefined(a)&&o!==s||(n[r]=a)})),n}var Me=t=>{const e=De({},t);let n,{data:r,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:a,headers:s,auth:u}=e;if(e.headers=s=ue.from(s),e.url=Tt(Ce(e.baseURL,e.url),t.params,t.paramsSerializer),u&&s.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),ht.isFormData(r))if(Ut.hasStandardBrowserEnv||Ut.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[t,...e]=n?n.split(";").map((t=>t.trim())).filter(Boolean):[];s.setContentType([t||"multipart/form-data",...e].join("; "))}if(Ut.hasStandardBrowserEnv&&(i&&ht.isFunction(i)&&(i=i(e)),i||!1!==i&&_e(e.url))){const t=o&&a&&ke.read(a);t&&s.set(o,t)}return e};const Te="undefined"!==typeof XMLHttpRequest;var Fe=Te&&function(t){return new Promise((function(e,n){const r=Me(t);let i=r.data;const o=ue.from(r.headers).normalize();let a,s,u,c,l,{responseType:f,onUploadProgress:h,onDownloadProgress:d}=r;function p(){c&&c(),l&&l(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let g=new XMLHttpRequest;function m(){if(!g)return;const r=ue.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),i=f&&"text"!==f&&"json"!==f?g.response:g.responseText,o={data:i,status:g.status,statusText:g.statusText,headers:r,config:t,request:g};de((function(t){e(t),p()}),(function(t){n(t),p()}),o),g=null}g.open(r.method.toUpperCase(),r.url,!0),g.timeout=r.timeout,"onloadend"in g?g.onloadend=m:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(m)},g.onabort=function(){g&&(n(new mt("Request aborted",mt.ECONNABORTED,t,g)),g=null)},g.onerror=function(){n(new mt("Network Error",mt.ERR_NETWORK,t,g)),g=null},g.ontimeout=function(){let e=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||$t;r.timeoutErrorMessage&&(e=r.timeoutErrorMessage),n(new mt(e,i.clarifyTimeoutError?mt.ETIMEDOUT:mt.ECONNABORTED,t,g)),g=null},void 0===i&&o.setContentType(null),"setRequestHeader"in g&&ht.forEach(o.toJSON(),(function(t,e){g.setRequestHeader(e,t)})),ht.isUndefined(r.withCredentials)||(g.withCredentials=!!r.withCredentials),f&&"json"!==f&&(g.responseType=r.responseType),d&&([u,l]=be(d,!0),g.addEventListener("progress",u)),h&&g.upload&&([s,c]=be(h),g.upload.addEventListener("progress",s),g.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=e=>{g&&(n(!e||e.type?new he(null,t,g):e),g.abort(),g=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const v=pe(r.url);v&&-1===Ut.protocols.indexOf(v)?n(new mt("Unsupported protocol "+v+":",mt.ERR_BAD_REQUEST,t)):g.send(i||null)}))};const Oe=(t,e)=>{let n,r=new AbortController;const i=function(t){if(!n){n=!0,a();const e=t instanceof Error?t:this.reason;r.abort(e instanceof mt?e:new he(e instanceof Error?e.message:e))}};let o=e&&setTimeout((()=>{i(new mt(`timeout ${e} of ms exceeded`,mt.ETIMEDOUT))}),e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach((t=>{t&&(t.removeEventListener?t.removeEventListener("abort",i):t.unsubscribe(i))})),t=null)};t.forEach((t=>t&&t.addEventListener&&t.addEventListener("abort",i)));const{signal:s}=r;return s.unsubscribe=a,[s,()=>{o&&clearTimeout(o),o=null}]};var $e=Oe;const Ne=function*(t,e){let n=t.byteLength;if(!e||n<e)return void(yield t);let r,i=0;while(i<n)r=i+e,yield t.slice(i,r),i=r},Be=async function*(t,e,n){for await(const r of t)yield*Ne(ArrayBuffer.isView(r)?r:await n(String(r)),e)},Re=(t,e,n,r,i)=>{const o=Be(t,e,i);let a,s=0,u=t=>{a||(a=!0,r&&r(t))};return new ReadableStream({async pull(t){try{const{done:e,value:r}=await o.next();if(e)return u(),void t.close();let i=r.byteLength;if(n){let t=s+=i;n(t)}t.enqueue(new Uint8Array(r))}catch(e){throw u(e),e}},cancel(t){return u(t),o.return()}},{highWaterMark:2})},Pe="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Ie=Pe&&"function"===typeof ReadableStream,je=Pe&&("function"===typeof TextEncoder?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Le=(t,...e)=>{try{return!!t(...e)}catch(n){return!1}},ze=Ie&&Le((()=>{let t=!1;const e=new Request(Ut.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})),Ue=65536,qe=Ie&&Le((()=>ht.isReadableStream(new Response("").body))),Ve={stream:qe&&(t=>t.body)};Pe&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Ve[e]&&(Ve[e]=ht.isFunction(t[e])?t=>t[e]():(t,n)=>{throw new mt(`Response type '${e}' is not supported`,mt.ERR_NOT_SUPPORT,n)})}))})(new Response);const He=async t=>null==t?0:ht.isBlob(t)?t.size:ht.isSpecCompliantForm(t)?(await new Request(t).arrayBuffer()).byteLength:ht.isArrayBufferView(t)||ht.isArrayBuffer(t)?t.byteLength:(ht.isURLSearchParams(t)&&(t+=""),ht.isString(t)?(await je(t)).byteLength:void 0),We=async(t,e)=>{const n=ht.toFiniteNumber(t.getContentLength());return null==n?He(e):n};var Ye=Pe&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:o,timeout:a,onDownloadProgress:s,onUploadProgress:u,responseType:c,headers:l,withCredentials:f="same-origin",fetchOptions:h}=Me(t);c=c?(c+"").toLowerCase():"text";let d,p,[g,m]=i||o||a?$e([i,o],a):[];const v=()=>{!d&&setTimeout((()=>{g&&g.unsubscribe()})),d=!0};let y;try{if(u&&ze&&"get"!==n&&"head"!==n&&0!==(y=await We(l,r))){let t,n=new Request(e,{method:"POST",body:r,duplex:"half"});if(ht.isFormData(r)&&(t=n.headers.get("content-type"))&&l.setContentType(t),n.body){const[t,e]=we(y,be(xe(u)));r=Re(n.body,Ue,t,e,je)}}ht.isString(f)||(f=f?"include":"omit"),p=new Request(e,{...h,signal:g,method:n.toUpperCase(),headers:l.normalize().toJSON(),body:r,duplex:"half",credentials:f});let i=await fetch(p);const o=qe&&("stream"===c||"response"===c);if(qe&&(s||o)){const t={};["status","statusText","headers"].forEach((e=>{t[e]=i[e]}));const e=ht.toFiniteNumber(i.headers.get("content-length")),[n,r]=s&&we(e,be(xe(s),!0))||[];i=new Response(Re(i.body,Ue,n,(()=>{r&&r(),o&&v()}),je),t)}c=c||"text";let a=await Ve[ht.findKey(Ve,c)||"text"](i,t);return!o&&v(),m&&m(),await new Promise(((e,n)=>{de(e,n,{data:a,headers:ue.from(i.headers),status:i.status,statusText:i.statusText,config:t,request:p})}))}catch(b){if(v(),b&&"TypeError"===b.name&&/fetch/i.test(b.message))throw Object.assign(new mt("Network Error",mt.ERR_NETWORK,t,p),{cause:b.cause||b});throw mt.from(b,b&&b.code,t,p)}});const Ge={http:vt,xhr:Fe,fetch:Ye};ht.forEach(Ge,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(n){}Object.defineProperty(t,"adapterName",{value:e})}}));const Ke=t=>`- ${t}`,Xe=t=>ht.isFunction(t)||null===t||!1===t;var Je={getAdapter:t=>{t=ht.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){let e;if(n=t[o],r=n,!Xe(n)&&(r=Ge[(e=String(n)).toLowerCase()],void 0===r))throw new mt(`Unknown adapter '${e}'`);if(r)break;i[e||"#"+o]=r}if(!r){const t=Object.entries(i).map((([t,e])=>`adapter ${t} `+(!1===e?"is not supported by the environment":"is not available in the build")));let n=e?t.length>1?"since :\n"+t.map(Ke).join("\n"):" "+Ke(t[0]):"as no adapter specified";throw new mt("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r},adapters:Ge};function Ze(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new he(null,t)}function Qe(t){Ze(t),t.headers=ue.from(t.headers),t.data=ce.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);const e=Je.getAdapter(t.adapter||Xt.adapter);return e(t).then((function(e){return Ze(t),e.data=ce.call(t,t.transformResponse,e),e.headers=ue.from(e.headers),e}),(function(e){return le(e)||(Ze(t),e&&e.response&&(e.response.data=ce.call(t,t.transformResponse,e.response),e.response.headers=ue.from(e.response.headers))),Promise.reject(e)}))}const tn="1.7.3",en={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{en[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));const nn={};function rn(t,e,n){if("object"!==typeof t)throw new mt("options must be an object",mt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;while(i-- >0){const o=r[i],a=e[o];if(a){const e=t[o],n=void 0===e||a(e,o,t);if(!0!==n)throw new mt("option "+o+" must be "+n,mt.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new mt("Unknown option "+o,mt.ERR_BAD_OPTION)}}en.transitional=function(t,e,n){function r(t,e){return"[Axios v"+tn+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return(n,i,o)=>{if(!1===t)throw new mt(r(i," has been removed"+(e?" in "+e:"")),mt.ERR_DEPRECATED);return e&&!nn[i]&&(nn[i]=!0,console.warn(r(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,i,o)}};var on={assertOptions:rn,validators:en};const an=on.validators;class sn{constructor(t){this.defaults=t,this.interceptors={request:new Ot,response:new Ot}}async request(t,e){try{return await this._request(t,e)}catch(n){if(n instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const e=t.stack?t.stack.replace(/^.+\n/,""):"";try{n.stack?e&&!String(n.stack).endsWith(e.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+e):n.stack=e}catch(r){}}throw n}}_request(t,e){"string"===typeof t?(e=e||{},e.url=t):e=t||{},e=De(this.defaults,e);const{transitional:n,paramsSerializer:r,headers:i}=e;void 0!==n&&on.assertOptions(n,{silentJSONParsing:an.transitional(an.boolean),forcedJSONParsing:an.transitional(an.boolean),clarifyTimeoutError:an.transitional(an.boolean)},!1),null!=r&&(ht.isFunction(r)?e.paramsSerializer={serialize:r}:on.assertOptions(r,{encode:an.function,serialize:an.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let o=i&&ht.merge(i.common,i[e.method]);i&&ht.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete i[t]})),e.headers=ue.concat(o,i);const a=[];let s=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(s=s&&t.synchronous,a.unshift(t.fulfilled,t.rejected))}));const u=[];let c;this.interceptors.response.forEach((function(t){u.push(t.fulfilled,t.rejected)}));let l,f=0;if(!s){const t=[Qe.bind(this),void 0];t.unshift.apply(t,a),t.push.apply(t,u),l=t.length,c=Promise.resolve(e);while(f<l)c=c.then(t[f++],t[f++]);return c}l=a.length;let h=e;f=0;while(f<l){const t=a[f++],e=a[f++];try{h=t(h)}catch(d){e.call(this,d);break}}try{c=Qe.call(this,h)}catch(d){return Promise.reject(d)}f=0,l=u.length;while(f<l)c=c.then(u[f++],u[f++]);return c}getUri(t){t=De(this.defaults,t);const e=Ce(t.baseURL,t.url);return Tt(e,t.params,t.paramsSerializer)}}ht.forEach(["delete","get","head","options"],(function(t){sn.prototype[t]=function(e,n){return this.request(De(n||{},{method:t,url:e,data:(n||{}).data}))}})),ht.forEach(["post","put","patch"],(function(t){function e(e){return function(n,r,i){return this.request(De(i||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}sn.prototype[t]=e(),sn.prototype[t+"Form"]=e(!0)}));var un=sn;class cn{constructor(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const n=this;this.promise.then((t=>{if(!n._listeners)return;let e=n._listeners.length;while(e-- >0)n._listeners[e](t);n._listeners=null})),this.promise.then=t=>{let e;const r=new Promise((t=>{n.subscribe(t),e=t})).then(t);return r.cancel=function(){n.unsubscribe(e)},r},t((function(t,r,i){n.reason||(n.reason=new he(t,r,i),e(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;const e=new cn((function(e){t=e}));return{token:e,cancel:t}}}var ln=cn;function fn(t){return function(e){return t.apply(null,e)}}function hn(t){return ht.isObject(t)&&!0===t.isAxiosError}const dn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(dn).forEach((([t,e])=>{dn[e]=t}));var pn=dn;function gn(t){const e=new un(t),n=i(un.prototype.request,e);return ht.extend(n,un.prototype,e,{allOwnKeys:!0}),ht.extend(n,e,null,{allOwnKeys:!0}),n.create=function(e){return gn(De(t,e))},n}const mn=gn(Xt);mn.Axios=un,mn.CanceledError=he,mn.CancelToken=ln,mn.isCancel=le,mn.VERSION=tn,mn.toFormData=At,mn.AxiosError=mt,mn.Cancel=mn.CanceledError,mn.all=function(t){return Promise.all(t)},mn.spread=fn,mn.isAxiosError=hn,mn.mergeConfig=De,mn.AxiosHeaders=ue,mn.formToJSON=t=>Yt(ht.isHTMLForm(t)?new FormData(t):t),mn.getAdapter=Je.getAdapter,mn.HttpStatusCode=pn,mn.default=mn;var vn=mn},6957:function(t,e,n){"use strict";n.d(e,{Ay:function(){return _},Gw:function(){return E},KI:function(){return R},Q1:function(){return i},Qh:function(){return C},Uw:function(){return a},b:function(){return S},ef:function(){return o}});var r=n(871);function i(){}var o=.7,a=1/o,s="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",c="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",l=/^#([0-9a-f]{3,8})$/,f=new RegExp(`^rgb\\(${s},${s},${s}\\)$`),h=new RegExp(`^rgb\\(${c},${c},${c}\\)$`),d=new RegExp(`^rgba\\(${s},${s},${s},${u}\\)$`),p=new RegExp(`^rgba\\(${c},${c},${c},${u}\\)$`),g=new RegExp(`^hsl\\(${u},${c},${c}\\)$`),m=new RegExp(`^hsla\\(${u},${c},${c},${u}\\)$`),v={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(){return this.rgb().formatHex()}function b(){return this.rgb().formatHex8()}function w(){return B(this).formatHsl()}function x(){return this.rgb().formatRgb()}function _(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=l.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?k(e):3===n?new E(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?A(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?A(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=f.exec(t))?new E(e[1],e[2],e[3],1):(e=h.exec(t))?new E(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=d.exec(t))?A(e[1],e[2],e[3],e[4]):(e=p.exec(t))?A(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=g.exec(t))?N(e[1],e[2]/100,e[3]/100,1):(e=m.exec(t))?N(e[1],e[2]/100,e[3]/100,e[4]):v.hasOwnProperty(t)?k(v[t]):"transparent"===t?new E(NaN,NaN,NaN,0):null}function k(t){return new E(t>>16&255,t>>8&255,255&t,1)}function A(t,e,n,r){return r<=0&&(t=e=n=NaN),new E(t,e,n,r)}function S(t){return t instanceof i||(t=_(t)),t?(t=t.rgb(),new E(t.r,t.g,t.b,t.opacity)):new E}function C(t,e,n,r){return 1===arguments.length?S(t):new E(t,e,n,null==r?1:r)}function E(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function D(){return`#${$(this.r)}${$(this.g)}${$(this.b)}`}function M(){return`#${$(this.r)}${$(this.g)}${$(this.b)}${$(255*(isNaN(this.opacity)?1:this.opacity))}`}function T(){const t=F(this.opacity);return`${1===t?"rgb(":"rgba("}${O(this.r)}, ${O(this.g)}, ${O(this.b)}${1===t?")":`, ${t})`}`}function F(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function O(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function $(t){return t=O(t),(t<16?"0":"")+t.toString(16)}function N(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new P(t,e,n,r)}function B(t){if(t instanceof P)return new P(t.h,t.s,t.l,t.opacity);if(t instanceof i||(t=_(t)),!t)return new P;if(t instanceof P)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,u=a-o,c=(a+o)/2;return u?(s=e===a?(n-r)/u+6*(n<r):n===a?(r-e)/u+2:(e-n)/u+4,u/=c<.5?a+o:2-a-o,s*=60):u=c>0&&c<1?0:s,new P(s,u,c,t.opacity)}function R(t,e,n,r){return 1===arguments.length?B(t):new P(t,e,n,null==r?1:r)}function P(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function I(t){return t=(t||0)%360,t<0?t+360:t}function j(t){return Math.max(0,Math.min(1,t||0))}function L(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}(0,r.A)(i,_,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:y,formatHex:y,formatHex8:b,formatHsl:w,formatRgb:x,toString:x}),(0,r.A)(E,C,(0,r.X)(i,{brighter(t){return t=null==t?a:Math.pow(a,t),new E(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?o:Math.pow(o,t),new E(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new E(O(this.r),O(this.g),O(this.b),F(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:D,formatHex:D,formatHex8:M,formatRgb:T,toString:T})),(0,r.A)(P,R,(0,r.X)(i,{brighter(t){return t=null==t?a:Math.pow(a,t),new P(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?o:Math.pow(o,t),new P(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new E(L(t>=240?t-240:t+120,i,r),L(t,i,r),L(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new P(I(this.h),j(this.s),j(this.l),F(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=F(this.opacity);return`${1===t?"hsl(":"hsla("}${I(this.h)}, ${100*j(this.s)}%, ${100*j(this.l)}%${1===t?")":`, ${t})`}`}}))},5653:function(t,e,n){"use strict";n.d(e,{A:function(){return g}});var r=n(871),i=n(6957),o=n(9710),a=-.14861,s=1.78277,u=-.29227,c=-.90649,l=1.97294,f=l*c,h=l*s,d=s*u-c*a;function p(t){if(t instanceof m)return new m(t.h,t.s,t.l,t.opacity);t instanceof i.Gw||(t=(0,i.b)(t));var e=t.r/255,n=t.g/255,r=t.b/255,a=(d*r+f*e-h*n)/(d+f-h),s=r-a,p=(l*(n-a)-u*s)/c,g=Math.sqrt(p*p+s*s)/(l*a*(1-a)),v=g?Math.atan2(p,s)*o.u-120:NaN;return new m(v<0?v+360:v,g,a,t.opacity)}function g(t,e,n,r){return 1===arguments.length?p(t):new m(t,e,n,null==r?1:r)}function m(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}(0,r.A)(m,g,(0,r.X)(i.Q1,{brighter(t){return t=null==t?i.Uw:Math.pow(i.Uw,t),new m(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?i.ef:Math.pow(i.ef,t),new m(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*o.F,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),f=Math.sin(t);return new i.Gw(255*(e+n*(a*r+s*f)),255*(e+n*(u*r+c*f)),255*(e+n*(l*r)),this.opacity)}}))},871:function(t,e,n){"use strict";function r(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function i(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}n.d(e,{A:function(){return r},X:function(){return i}})},9710:function(t,e,n){"use strict";n.d(e,{F:function(){return r},u:function(){return i}});const r=Math.PI/180,i=180/Math.PI},4709:function(t,e,n){"use strict";n.d(e,{Ay:function(){return u},lG:function(){return a},uN:function(){return s}});var r=n(3116);function i(t,e){return function(n){return t+n*e}}function o(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function a(t,e){var n=e-t;return n?i(t,n>180||n<-180?n-360*Math.round(n/360):n):(0,r.A)(isNaN(t)?e:t)}function s(t){return 1===(t=+t)?u:function(e,n){return n-e?o(e,n,t):(0,r.A)(isNaN(e)?n:e)}}function u(t,e){var n=e-t;return n?i(t,n):(0,r.A)(isNaN(t)?e:t)}},3116:function(t,e){"use strict";e.A=t=>()=>t},9837:function(t,e,n){"use strict";n.d(e,{w:function(){return a}});var r=n(5653),i=n(4709);function o(t){return function e(n){function o(e,o){var a=t((e=(0,r.A)(e)).h,(o=(0,r.A)(o)).h),s=(0,i.Ay)(e.s,o.s),u=(0,i.Ay)(e.l,o.l),c=(0,i.Ay)(e.opacity,o.opacity);return function(t){return e.h=a(t),e.s=s(t),e.l=u(Math.pow(t,n)),e.opacity=c(t),e+""}}return n=+n,o.gamma=e,o}(1)}e.A=o(i.lG);var a=o(i.Ay)},8512:function(t,e,n){"use strict";var r=n(938);e.A=(0,r.A)("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab")},938:function(t,e,n){"use strict";function r(t){var e=t.length/6|0,n=new Array(e),r=0;while(r<e)n[r]="#"+t.slice(6*r,6*++r);return n}n.d(e,{A:function(){return r}})},5988:function(t,e,n){"use strict";n.d(e,{Ay:function(){return a}});var r=n(5653),i=n(9837),o=((0,i.w)((0,r.A)(-100,.75,.35),(0,r.A)(80,1.5,.8)),(0,i.w)((0,r.A)(260,.75,.35),(0,r.A)(80,1.5,.8)),(0,r.A)());function a(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return o.h=360*t-100,o.s=1.5-1.5*e,o.l=.8-.9*e,o+""}},5907:function(t,e,n){"use strict";n.d(e,{BR:function(){return o},uq:function(){return i}});var r=n(673);r.y3,r.jy,r.oN,r.Hc,r.cg,r.hj,r.LU,r.Tb;const i=r.uq,o=(r.Zm,r.Dq,r.__,r.q0,r.lh,r.pI,r.zC,r.zg,r.g6,r.OL,r.ks,r.QR,r.jp,r.mk,r.W2,r.l,r.KY,r.dv,r.BR);r.Wu;r.uq,r.uq;r.a4,r.DI,r.Jo,r.Zi,r.kH,r.LV},8444:function(t,e,n){"use strict";n.d(e,{R2:function(){return St},Ey:function(){return ft},nY:function(){return At}});var r=n(5471),i=!0;r.Ay.util.warn;function o(){return!!(0,r.nI)()}function a(){return s().__VUE_DEVTOOLS_GLOBAL_HOOK__}function s(){return"undefined"!==typeof navigator&&"undefined"!==typeof window?window:"undefined"!==typeof globalThis?globalThis:{}}const u="function"===typeof Proxy,c="devtools-plugin:setup",l="plugin:settings:set";let f,h,d;function p(){var t;return void 0!==f||("undefined"!==typeof window&&window.performance?(f=!0,h=window.performance):"undefined"!==typeof globalThis&&(null===(t=globalThis.perf_hooks)||void 0===t?void 0:t.performance)?(f=!0,h=globalThis.perf_hooks.performance):f=!1),f}function g(){return p()?h.now():Date.now()}class m{constructor(t,e){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=e;const n={};if(t.settings)for(const a in t.settings){const e=t.settings[a];n[a]=e.defaultValue}const r=`__vue-devtools-plugin-settings__${t.id}`;let i=Object.assign({},n);try{const t=localStorage.getItem(r),e=JSON.parse(t);Object.assign(i,e)}catch(o){}this.fallbacks={getSettings(){return i},setSettings(t){try{localStorage.setItem(r,JSON.stringify(t))}catch(o){}i=t},now(){return g()}},e&&e.on(l,((t,e)=>{t===this.plugin.id&&this.fallbacks.setSettings(e)})),this.proxiedOn=new Proxy({},{get:(t,e)=>this.target?this.target.on[e]:(...t)=>{this.onQueue.push({method:e,args:t})}}),this.proxiedTarget=new Proxy({},{get:(t,e)=>this.target?this.target[e]:"on"===e?this.proxiedOn:Object.keys(this.fallbacks).includes(e)?(...t)=>(this.targetQueue.push({method:e,args:t,resolve:()=>{}}),this.fallbacks[e](...t)):(...t)=>new Promise((n=>{this.targetQueue.push({method:e,args:t,resolve:n})}))})}async setRealTarget(t){this.target=t;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(await this.target[e.method](...e.args))}}function v(t,e){const n=t,r=s(),i=a(),o=u&&n.enableEarlyProxy;if(!i||!r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&o){const t=o?new m(n,i):null,a=r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[];a.push({pluginDescriptor:n,setupFn:e,proxy:t}),t&&e(t.proxiedTarget)}else i.emit(c,t,e)}const y=t=>d=t,b=Symbol();function w(t){return t&&"object"===typeof t&&"[object Object]"===Object.prototype.toString.call(t)&&"function"!==typeof t.toJSON}var x;(function(t){t["direct"]="direct",t["patchObject"]="patch object",t["patchFunction"]="patch function"})(x||(x={}));const _="undefined"!==typeof window,k="undefined"!==typeof __VUE_PROD_DEVTOOLS__&&__VUE_PROD_DEVTOOLS__&&_,A=(()=>"object"===typeof window&&window.window===window?window:"object"===typeof self&&self.self===self?self:"object"===typeof global&&global.global===global?global:"object"===typeof globalThis?globalThis:{HTMLElement:null})();function S(t,{autoBom:e=!1}={}){return e&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}function C(t,e,n){const r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){F(r.response,e,n)},r.onerror=function(){console.error("could not download file")},r.send()}function E(t){const e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(n){}return e.status>=200&&e.status<=299}function D(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}const M="object"===typeof navigator?navigator:{userAgent:""},T=(()=>/Macintosh/.test(M.userAgent)&&/AppleWebKit/.test(M.userAgent)&&!/Safari/.test(M.userAgent))(),F=_?"undefined"!==typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype&&!T?O:"msSaveOrOpenBlob"in M?$:N:()=>{};function O(t,e="download",n){const r=document.createElement("a");r.download=e,r.rel="noopener","string"===typeof t?(r.href=t,r.origin!==location.origin?E(r.href)?C(t,e,n):(r.target="_blank",D(r)):D(r)):(r.href=URL.createObjectURL(t),setTimeout((function(){URL.revokeObjectURL(r.href)}),4e4),setTimeout((function(){D(r)}),0))}function $(t,e="download",n){if("string"===typeof t)if(E(t))C(t,e,n);else{const e=document.createElement("a");e.href=t,e.target="_blank",setTimeout((function(){D(e)}))}else navigator.msSaveOrOpenBlob(S(t,n),e)}function N(t,e,n,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),"string"===typeof t)return C(t,e,n);const i="application/octet-stream"===t.type,o=/constructor/i.test(String(A.HTMLElement))||"safari"in A,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&o||T)&&"undefined"!==typeof FileReader){const e=new FileReader;e.onloadend=function(){let t=e.result;if("string"!==typeof t)throw r=null,new Error("Wrong reader.result type");t=a?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location.assign(t),r=null},e.readAsDataURL(t)}else{const e=URL.createObjectURL(t);r?r.location.assign(e):location.href=e,r=null,setTimeout((function(){URL.revokeObjectURL(e)}),4e4)}}function B(t,e){const n=" "+t;"function"===typeof __VUE_DEVTOOLS_TOAST__?__VUE_DEVTOOLS_TOAST__(n,e):"error"===e?console.error(n):"warn"===e?console.warn(n):console.log(n)}function R(t){return"_a"in t&&"install"in t}function P(){if(!("clipboard"in navigator))return B("Your browser doesn't support the Clipboard API","error"),!0}function I(t){return!!(t instanceof Error&&t.message.toLowerCase().includes("document is not focused"))&&(B('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0)}async function j(t){if(!P())try{await navigator.clipboard.writeText(JSON.stringify(t.state.value)),B("Global state copied to clipboard.")}catch(e){if(I(e))return;B("Failed to serialize the state. Check the console for more details.","error"),console.error(e)}}async function L(t){if(!P())try{H(t,JSON.parse(await navigator.clipboard.readText())),B("Global state pasted from clipboard.")}catch(e){if(I(e))return;B("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(e)}}async function z(t){try{F(new Blob([JSON.stringify(t.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(e){B("Failed to export the state as JSON. Check the console for more details.","error"),console.error(e)}}let U;function q(){function t(){return new Promise(((t,e)=>{U.onchange=async()=>{const e=U.files;if(!e)return t(null);const n=e.item(0);return t(n?{text:await n.text(),file:n}:null)},U.oncancel=()=>t(null),U.onerror=e,U.click()}))}return U||(U=document.createElement("input"),U.type="file",U.accept=".json"),t}async function V(t){try{const e=q(),n=await e();if(!n)return;const{text:r,file:i}=n;H(t,JSON.parse(r)),B(`Global state imported from "${i.name}".`)}catch(e){B("Failed to import the state from JSON. Check the console for more details.","error"),console.error(e)}}function H(t,e){for(const n in e){const r=t.state.value[n];r?Object.assign(r,e[n]):t.state.value[n]=e[n]}}function W(t){return{_custom:{display:t}}}const Y=" Pinia (root)",G="_root";function K(t){return R(t)?{id:G,label:Y}:{id:t.$id,label:t.$id}}function X(t){if(R(t)){const e=Array.from(t._s.keys()),n=t._s,r={state:e.map((e=>({editable:!0,key:e,value:t.state.value[e]}))),getters:e.filter((t=>n.get(t)._getters)).map((t=>{const e=n.get(t);return{editable:!1,key:t,value:e._getters.reduce(((t,n)=>(t[n]=e[n],t)),{})}}))};return r}const e={state:Object.keys(t.$state).map((e=>({editable:!0,key:e,value:t.$state[e]})))};return t._getters&&t._getters.length&&(e.getters=t._getters.map((e=>({editable:!1,key:e,value:t[e]})))),t._customProperties.size&&(e.customProperties=Array.from(t._customProperties).map((e=>({editable:!0,key:e,value:t[e]})))),e}function J(t){return t?Array.isArray(t)?t.reduce(((t,e)=>(t.keys.push(e.key),t.operations.push(e.type),t.oldValue[e.key]=e.oldValue,t.newValue[e.key]=e.newValue,t)),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:W(t.type),key:W(t.key),oldValue:t.oldValue,newValue:t.newValue}:{}}function Z(t){switch(t){case x.direct:return"mutation";case x.patchFunction:return"$patch";case x.patchObject:return"$patch";default:return"unknown"}}let Q=!0;const tt=[],et="pinia:mutations",nt="pinia",{assign:rt}=Object,it=t=>" "+t;function ot(t,e){v({id:"dev.esm.pinia",label:"Pinia ",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:tt,app:t},(n=>{"function"!==typeof n.now&&B("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),n.addTimelineLayer({id:et,label:"Pinia ",color:15064968}),n.addInspector({id:nt,label:"Pinia ",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{j(e)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await L(e),n.sendInspectorTree(nt),n.sendInspectorState(nt)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{z(e)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await V(e),n.sendInspectorTree(nt),n.sendInspectorState(nt)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:t=>{const n=e._s.get(t);n?"function"!==typeof n.$reset?B(`Cannot reset "${t}" store because it doesn't have a "$reset" method implemented.`,"warn"):(n.$reset(),B(`Store "${t}" reset.`)):B(`Cannot reset "${t}" store because it wasn't found.`,"warn")}}]}),n.on.inspectComponent(((t,e)=>{const n=t.componentInstance&&t.componentInstance.proxy;if(n&&n._pStores){const e=t.componentInstance.proxy._pStores;Object.values(e).forEach((e=>{t.instanceData.state.push({type:it(e.$id),key:"state",editable:!0,value:e._isOptionsAPI?{_custom:{value:(0,r.ux)(e.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>e.$reset()}]}}:Object.keys(e.$state).reduce(((t,n)=>(t[n]=e.$state[n],t)),{})}),e._getters&&e._getters.length&&t.instanceData.state.push({type:it(e.$id),key:"getters",editable:!1,value:e._getters.reduce(((t,n)=>{try{t[n]=e[n]}catch(r){t[n]=r}return t}),{})})}))}})),n.on.getInspectorTree((n=>{if(n.app===t&&n.inspectorId===nt){let t=[e];t=t.concat(Array.from(e._s.values())),n.rootNodes=(n.filter?t.filter((t=>"$id"in t?t.$id.toLowerCase().includes(n.filter.toLowerCase()):Y.toLowerCase().includes(n.filter.toLowerCase()))):t).map(K)}})),n.on.getInspectorState((n=>{if(n.app===t&&n.inspectorId===nt){const t=n.nodeId===G?e:e._s.get(n.nodeId);if(!t)return;t&&(n.state=X(t))}})),n.on.editInspectorState(((n,r)=>{if(n.app===t&&n.inspectorId===nt){const t=n.nodeId===G?e:e._s.get(n.nodeId);if(!t)return B(`store "${n.nodeId}" not found`,"error");const{path:r}=n;R(t)?r.unshift("state"):1===r.length&&t._customProperties.has(r[0])&&!(r[0]in t.$state)||r.unshift("$state"),Q=!1,n.set(t,r,n.state.value),Q=!0}})),n.on.editComponentState((t=>{if(t.type.startsWith("")){const n=t.type.replace(/^\s*/,""),r=e._s.get(n);if(!r)return B(`store "${n}" not found`,"error");const{path:i}=t;if("state"!==i[0])return B(`Invalid path for store "${n}":\n${i}\nOnly state can be modified.`);i[0]="$state",Q=!1,t.set(r,i,t.state.value),Q=!0}}))}))}function at(t,e){tt.includes(it(e.$id))||tt.push(it(e.$id)),v({id:"dev.esm.pinia",label:"Pinia ",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:tt,app:t,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},(t=>{const n="function"===typeof t.now?t.now.bind(t):Date.now;e.$onAction((({after:r,onError:i,name:o,args:a})=>{const s=ut++;t.addTimelineEvent({layerId:et,event:{time:n(),title:" "+o,subtitle:"start",data:{store:W(e.$id),action:W(o),args:a},groupId:s}}),r((r=>{st=void 0,t.addTimelineEvent({layerId:et,event:{time:n(),title:" "+o,subtitle:"end",data:{store:W(e.$id),action:W(o),args:a,result:r},groupId:s}})})),i((r=>{st=void 0,t.addTimelineEvent({layerId:et,event:{time:n(),logType:"error",title:" "+o,subtitle:"end",data:{store:W(e.$id),action:W(o),args:a,error:r},groupId:s}})}))}),!0),e._customProperties.forEach((i=>{(0,r.wB)((()=>(0,r.R1)(e[i])),((e,r)=>{t.notifyComponentUpdate(),t.sendInspectorState(nt),Q&&t.addTimelineEvent({layerId:et,event:{time:n(),title:"Change",subtitle:i,data:{newValue:e,oldValue:r},groupId:st}})}),{deep:!0})})),e.$subscribe((({events:r,type:i},o)=>{if(t.notifyComponentUpdate(),t.sendInspectorState(nt),!Q)return;const a={time:n(),title:Z(i),data:rt({store:W(e.$id)},J(r)),groupId:st};i===x.patchFunction?a.subtitle="":i===x.patchObject?a.subtitle="":r&&!Array.isArray(r)&&(a.subtitle=r.type),r&&(a.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:r}}),t.addTimelineEvent({layerId:et,event:a})}),{detached:!0,flush:"sync"});const i=e._hotUpdate;e._hotUpdate=(0,r.IG)((r=>{i(r),t.addTimelineEvent({layerId:et,event:{time:n(),title:" "+e.$id,subtitle:"HMR update",data:{store:W(e.$id),info:W("HMR update")}}}),t.notifyComponentUpdate(),t.sendInspectorTree(nt),t.sendInspectorState(nt)}));const{$dispose:o}=e;e.$dispose=()=>{o(),t.notifyComponentUpdate(),t.sendInspectorTree(nt),t.sendInspectorState(nt),t.getSettings().logStoreChanges&&B(`Disposed "${e.$id}" store `)},t.notifyComponentUpdate(),t.sendInspectorTree(nt),t.sendInspectorState(nt),t.getSettings().logStoreChanges&&B(`"${e.$id}" store installed `)}))}let st,ut=0;function ct(t,e,n){const i=e.reduce(((e,n)=>(e[n]=(0,r.ux)(t)[n],e)),{});for(const r in i)t[r]=function(){const e=ut,o=n?new Proxy(t,{get(...t){return st=e,Reflect.get(...t)},set(...t){return st=e,Reflect.set(...t)}}):t;st=e;const a=i[r].apply(o,arguments);return st=void 0,a}}function lt({app:t,store:e,options:n}){if(e.$id.startsWith("__hot:"))return;e._isOptionsAPI=!!n.state,ct(e,Object.keys(n.actions),e._isOptionsAPI);const i=e._hotUpdate;(0,r.ux)(e)._hotUpdate=function(t){i.apply(this,arguments),ct(e,Object.keys(t._hmrPayload.actions),!!e._isOptionsAPI)},at(t,e)}function ft(){const t=(0,r.uY)(!0),e=t.run((()=>(0,r.KR)({})));let n=[],o=[];const a=(0,r.IG)({install(t){y(a),i||(a._a=t,t.provide(b,a),t.config.globalProperties.$pinia=a,k&&ot(t,a),o.forEach((t=>n.push(t))),o=[])},use(t){return this._a||i?n.push(t):o.push(t),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return k&&"undefined"!==typeof Proxy&&a.use(lt),a}const ht=()=>{};function dt(t,e,n,i=ht){t.push(e);const o=()=>{const n=t.indexOf(e);n>-1&&(t.splice(n,1),i())};return!n&&(0,r.o5)()&&(0,r.jr)(o),o}function pt(t,...e){t.slice().forEach((t=>{t(...e)}))}const gt=t=>t();function mt(t,e){t instanceof Map&&e instanceof Map&&e.forEach(((e,n)=>t.set(n,e))),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],o=t[n];w(o)&&w(i)&&t.hasOwnProperty(n)&&!(0,r.i9)(i)&&!(0,r.g8)(i)?t[n]=mt(o,i):t[n]=i}return t}const vt=Symbol(),yt=new WeakMap;function bt(t){return i?!yt.has(t):!w(t)||!t.hasOwnProperty(vt)}const{assign:wt}=Object;function xt(t){return!(!(0,r.i9)(t)||!t.effect)}function _t(t,e,n,o){const{state:a,actions:s,getters:u}=e,c=n.state.value[t];let l;function f(){c||(i?(0,r.hZ)(n.state.value,t,a?a():{}):n.state.value[t]=a?a():{});const e=(0,r.QW)(n.state.value[t]);return wt(e,s,Object.keys(u||{}).reduce(((e,o)=>(e[o]=(0,r.IG)((0,r.EW)((()=>{y(n);const e=n._s.get(t);if(!i||e._r)return u[o].call(e,e)}))),e)),{}))}return l=kt(t,f,e,n,o,!0),l}function kt(t,e,n={},o,a,s){let u;const c=wt({actions:{}},n);const l={deep:!0};let f,h;let d,p=[],g=[];const m=o.state.value[t];s||m||(i?(0,r.hZ)(o.state.value,t,{}):o.state.value[t]={});const v=(0,r.KR)({});let b;function w(e){let n;f=h=!1,"function"===typeof e?(e(o.state.value[t]),n={type:x.patchFunction,storeId:t,events:d}):(mt(o.state.value[t],e),n={type:x.patchObject,payload:e,storeId:t,events:d});const i=b=Symbol();(0,r.dY)().then((()=>{b===i&&(f=!0)})),h=!0,pt(p,n,o.state.value[t])}const _=s?function(){const{state:t}=n,e=t?t():{};this.$patch((t=>{wt(t,e)}))}:ht;function A(){u.stop(),p=[],g=[],o._s.delete(t)}function S(e,n){return function(){y(o);const r=Array.from(arguments),i=[],a=[];function s(t){i.push(t)}function u(t){a.push(t)}let c;pt(g,{args:r,name:e,store:D,after:s,onError:u});try{c=n.apply(this&&this.$id===t?this:D,r)}catch(l){throw pt(a,l),l}return c instanceof Promise?c.then((t=>(pt(i,t),t))).catch((t=>(pt(a,t),Promise.reject(t)))):(pt(i,c),c)}}const C=(0,r.IG)({actions:{},getters:{},state:[],hotState:v}),E={_p:o,$id:t,$onAction:dt.bind(null,g),$patch:w,$reset:_,$subscribe(e,n={}){const i=dt(p,e,n.detached,(()=>a())),a=u.run((()=>(0,r.wB)((()=>o.state.value[t]),(r=>{("sync"===n.flush?h:f)&&e({storeId:t,type:x.direct,events:d},r)}),wt({},l,n))));return i},$dispose:A};i&&(E._r=!1);const D=(0,r.Kh)(k?wt({_hmrPayload:C,_customProperties:(0,r.IG)(new Set)},E):E);o._s.set(t,D);const M=o._a&&o._a.runWithContext||gt,T=M((()=>o._e.run((()=>(u=(0,r.uY)()).run(e)))));for(const y in T){const e=T[y];if((0,r.i9)(e)&&!xt(e)||(0,r.g8)(e))s||(m&&bt(e)&&((0,r.i9)(e)?e.value=m[y]:mt(e,m[y])),i?(0,r.hZ)(o.state.value[t],y,e):o.state.value[t][y]=e);else if("function"===typeof e){const t=S(y,e);i?(0,r.hZ)(T,y,t):T[y]=t,c.actions[y]=e}else 0}if(i?Object.keys(T).forEach((t=>{(0,r.hZ)(D,t,T[t])})):(wt(D,T),wt((0,r.ux)(D),T)),Object.defineProperty(D,"$state",{get:()=>o.state.value[t],set:t=>{w((e=>{wt(e,t)}))}}),k){const t={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach((e=>{Object.defineProperty(D,e,wt({value:D[e]},t))}))}return i&&(D._r=!0),o._p.forEach((t=>{if(k){const e=u.run((()=>t({store:D,app:o._a,pinia:o,options:c})));Object.keys(e||{}).forEach((t=>D._customProperties.add(t))),wt(D,e)}else wt(D,u.run((()=>t({store:D,app:o._a,pinia:o,options:c}))))})),m&&s&&n.hydrate&&n.hydrate(D.$state,m),f=!0,h=!0,D}function At(t,e,n){let i,a;const s="function"===typeof e;function u(t,n){const u=o();t=t||(u?(0,r.WQ)(b,null):null),t&&y(t),t=d,t._s.has(i)||(s?kt(i,e,a,t):_t(i,a,t));const c=t._s.get(i);return c}return"string"===typeof t?(i=t,a=s?n:e):(a=t,i=t.id),u.$id=i,u}const St=function(t){t.mixin({beforeCreate(){const t=this.$options;if(t.pinia){const e=t.pinia;if(!this._provided){const t={};Object.defineProperty(this,"_provided",{get:()=>t,set:e=>Object.assign(t,e)})}this._provided[b]=e,this.$pinia||(this.$pinia=e),e._a=this,_&&y(e),k&&ot(e._a,e)}else!this.$pinia&&t.parent&&t.parent.$pinia&&(this.$pinia=t.parent.$pinia)},destroyed(){delete this._pStores}})}},6740:function(t,e,n){"use strict";function r(t){if(0===t.length)return 0;var e,n=t[0],r=0;if("number"!==typeof n)return NaN;for(var i=1;i<t.length;i++){if("number"!==typeof t[i])return NaN;e=n+t[i],Math.abs(n)>=Math.abs(t[i])?r+=n-e+t[i]:r+=t[i]-e+n,n=e}return n+r}function i(t){if(0===t.length)throw new Error("mean requires at least one data point");return r(t)/t.length}function o(t,e){var n,r,o=i(t),a=0;if(2===e)for(r=0;r<t.length;r++)n=t[r]-o,a+=n*n;else for(r=0;r<t.length;r++)a+=Math.pow(t[r]-o,e);return a}function a(t){if(0===t.length)throw new Error("variance requires at least one data point");return o(t,2)/t.length}function s(t){if(1===t.length)return 0;var e=a(t);return Math.sqrt(e)}function u(t){if(0===t.length)throw new Error("min requires at least one data point");for(var e=t[0],n=1;n<t.length;n++)t[n]<e&&(e=t[n]);return e}function c(t){if(0===t.length)throw new Error("max requires at least one data point");for(var e=t[0],n=1;n<t.length;n++)t[n]>e&&(e=t[n]);return e}function l(t,e){var n=t.length*e;if(0===t.length)throw new Error("quantile requires at least one data point.");if(e<0||e>1)throw new Error("quantiles must be between 0 and 1");return 1===e?t[t.length-1]:0===e?t[0]:n%1!==0?t[Math.ceil(n)-1]:t.length%2===0?(t[n-1]+t[n])/2:t[n]}function f(t,e,n,r){n=n||0,r=r||t.length-1;while(r>n){if(r-n>600){var i=r-n+1,o=e-n+1,a=Math.log(i),s=.5*Math.exp(2*a/3),u=.5*Math.sqrt(a*s*(i-s)/i);o-i/2<0&&(u*=-1);var c=Math.max(n,Math.floor(e-o*s/i+u)),l=Math.min(r,Math.floor(e+(i-o)*s/i+u));f(t,e,c,l)}var d=t[e],p=n,g=r;h(t,n,e),t[r]>d&&h(t,n,r);while(p<g){h(t,p,g),p++,g--;while(t[p]<d)p++;while(t[g]>d)g--}t[n]===d?h(t,n,g):(g++,h(t,g,r)),g<=e&&(n=g+1),e<=g&&(r=g-1)}}function h(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function d(t,e){var n=t.slice();if(Array.isArray(e)){g(n,e);for(var r=[],i=0;i<e.length;i++)r[i]=l(n,e[i]);return r}var o=v(n.length,e);return p(n,o,0,n.length-1),l(n,e)}function p(t,e,n,r){e%1===0?f(t,e,n,r):(e=Math.floor(e),f(t,e,n,r),f(t,e+1,e+1,r))}function g(t,e){for(var n=[0],r=0;r<e.length;r++)n.push(v(t.length,e[r]));n.push(t.length-1),n.sort(m);var i=[0,n.length-1];while(i.length){var o=Math.ceil(i.pop()),a=Math.floor(i.pop());if(!(o-a<=1)){var s=Math.floor((a+o)/2);p(t,n[s],Math.floor(n[a]),Math.ceil(n[o])),i.push(a,s,s,o)}}}function m(t,e){return t-e}function v(t,e){var n=t*e;return 1===e?t-1:0===e?0:n%1!==0?Math.ceil(n)-1:t%2===0?n-.5:n}function y(t){var e=d(t,.75),n=d(t,.25);if("number"===typeof e&&"number"===typeof n)return e-n}function b(t,e){if(t.length<2)return t;for(var n=u(t),r=c(t),i=[n],o=(r-n)/e,a=1;a<e;a++)i.push(i[0]+o*a);return i.push(r),i}function w(t){if(t.length<2)throw new Error("sampleVariance requires at least two data points");var e=o(t,2),n=t.length-1;return e/n}function x(t){var e=w(t);return Math.sqrt(e)}n.d(e,{Fx:function(){return s},JL:function(){return E},Wj:function(){return b},Z0:function(){return y}});var _=function(){this.totalCount=0,this.data={}};_.prototype.train=function(t,e){for(var n in this.data[e]||(this.data[e]={}),t){var r=t[n];void 0===this.data[e][n]&&(this.data[e][n]={}),void 0===this.data[e][n][r]&&(this.data[e][n][r]=0),this.data[e][n][r]++}this.totalCount++},_.prototype.score=function(t){var e,n={};for(var r in t){var i=t[r];for(e in this.data)n[e]={},this.data[e][r]?n[e][r+"_"+i]=(this.data[e][r][i]||0)/this.totalCount:n[e][r+"_"+i]=0}var o={};for(e in n)for(var a in o[e]=0,n[e])o[e]+=n[e][a];return o};var k=function(){this.weights=[],this.bias=0};k.prototype.predict=function(t){if(t.length!==this.weights.length)return null;for(var e=0,n=0;n<this.weights.length;n++)e+=this.weights[n]*t[n];return e+=this.bias,e>0?1:0},k.prototype.train=function(t,e){if(0!==e&&1!==e)return null;t.length!==this.weights.length&&(this.weights=t,this.bias=1);var n=this.predict(t);if("number"===typeof n&&n!==e){for(var r=e-n,i=0;i<this.weights.length;i++)this.weights[i]+=r*t[i];this.bias+=r}return this};Math.log(Math.sqrt(2*Math.PI));var A=Math.sqrt(2*Math.PI),S={gaussian:function(t){return Math.exp(-.5*t*t)/A}},C={nrd:function(t){var e=x(t),n=y(t);return"number"===typeof n&&(e=Math.min(e,n/1.34)),1.06*e*Math.pow(t.length,-.2)}};function E(t,e,n){var r,i;if(void 0===e)r=S.gaussian;else if("string"===typeof e){if(!S[e])throw new Error('Unknown kernel "'+e+'"');r=S[e]}else r=e;if("undefined"===typeof n)i=C.nrd(t);else if("string"===typeof n){if(!C[n])throw new Error('Unknown bandwidth method "'+n+'"');i=C[n](t)}else i=n;return function(e){var n=0,o=0;for(n=0;n<t.length;n++)o+=r((e-t[n])/i);return o/i/t.length}}var D=Math.sqrt(2*Math.PI);function M(t){for(var e=t,n=t,r=1;r<15;r++)n*=t*t/(2*r+1),e+=n;return Math.round(1e4*(.5+e/D*Math.exp(-t*t/2)))/1e4}for(var T=[],F=0;F<=3.09;F+=.01)T.push(M(F))},1114:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function o(t){var e=i(t,"string");return"symbol"==r(e)?e:e+""}function a(t,e,n){return(e=o(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{A:function(){return a}})}}]);
//# sourceMappingURL=chunk-vendors.28374ac5.js.map