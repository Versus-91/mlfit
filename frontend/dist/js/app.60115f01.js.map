{"version":3,"file":"js/app.60115f01.js","mappings":"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","sources":["webpack://mlfit/./src/App.vue","webpack://mlfit/./src/components/sidebar-component.vue","webpack://mlfit/./src/components/upload-component.vue","webpack://mlfit/./src/helpers/parser/parser.js","webpack://mlfit/./src/helpers/parser/csv_parser.js","webpack://mlfit/./src/helpers/parser/txt_parser.js","webpack://mlfit/./src/helpers/parser/parser_factory.js","webpack://mlfit/./src/utils/danfo_loader.js","webpack://mlfit/./src/stores/settings.js","webpack://mlfit/src/components/upload-component.vue","webpack://mlfit/./src/components/upload-component.vue?4aa8","webpack://mlfit/./src/components/upload-component.vue?14a8","webpack://mlfit/./src/helpers/settings.js","webpack://mlfit/./src/helpers/py-worker.js","webpack://mlfit/./src/helpers/dimensionality-reduction/pca.js","webpack://mlfit/./src/helpers/utils.js","webpack://mlfit/./src/helpers/dimensionality-reduction/tsne.js","webpack://mlfit/./src/helpers/charts.js","webpack://mlfit/./src/helpers/ui.js","webpack://mlfit/./src/helpers/model.js","webpack://mlfit/./src/helpers/classification/logistic_regression.js","webpack://mlfit/./src/helpers/regression_model.js","webpack://mlfit/./src/helpers/regression/linear_regression.js","webpack://mlfit/./src/helpers/regression/bspline_regression.js","webpack://mlfit/./src/helpers/classification/svm.js","webpack://mlfit/./src/helpers/regression/svm.js","webpack://mlfit/./src/helpers/classification/knn.js","webpack://mlfit/./src/helpers/regression/knn_regressor.js","webpack://mlfit/./src/helpers/classification/random_forest.js","webpack://mlfit/./src/helpers/regression/random_forest.js","webpack://mlfit/./src/helpers/classification/NaiveBayes.js","webpack://mlfit/./src/helpers/classification/lda.js","webpack://mlfit/./src/helpers/regression/polynomial_regression.js","webpack://mlfit/./src/helpers/regression/kernel_regression.js","webpack://mlfit/./src/helpers/classification/boosting.js","webpack://mlfit/./src/helpers/regression/boosting.js","webpack://mlfit/./src/helpers/model_factory.js","webpack://mlfit/src/components/sidebar-component.vue","webpack://mlfit/./src/components/sidebar-component.vue?5c0f","webpack://mlfit/./src/components/sidebar-component.vue?e4f8","webpack://mlfit/./src/components/main-component.vue","webpack://mlfit/./src/components/tabs/dmensionality-reduction-componenet.vue","webpack://mlfit/src/components/tabs/dmensionality-reduction-componenet.vue","webpack://mlfit/./src/components/tabs/dmensionality-reduction-componenet.vue?9063","webpack://mlfit/./src/components/tabs/dmensionality-reduction-componenet.vue?359e","webpack://mlfit/./src/components/tabs/results-component.vue","webpack://mlfit/./src/components/tabs/classification-view-component.vue","webpack://mlfit/src/components/tabs/classification-view-component.vue","webpack://mlfit/./src/components/tabs/classification-view-component.vue?e406","webpack://mlfit/./src/components/tabs/classification-view-component.vue?de8c","webpack://mlfit/./src/components/tabs/regression-view-component.vue","webpack://mlfit/src/components/tabs/regression-view-component.vue","webpack://mlfit/./src/components/tabs/regression-view-component.vue?6ab4","webpack://mlfit/./src/components/tabs/regression-view-component.vue?8435","webpack://mlfit/src/components/tabs/results-component.vue","webpack://mlfit/./src/components/tabs/results-component.vue?b709","webpack://mlfit/./src/components/tabs/results-component.vue?73e9","webpack://mlfit/./src/components/visualization/scatterplot-matrix-component.vue","webpack://mlfit/./src/components/visualization/parallel-coordinate-plot-component.vue","webpack://mlfit/src/components/visualization/parallel-coordinate-plot-component.vue","webpack://mlfit/./src/components/visualization/parallel-coordinate-plot-component.vue?23a4","webpack://mlfit/./src/components/visualization/parallel-coordinate-plot-component.vue?081d","webpack://mlfit/src/components/visualization/scatterplot-matrix-component.vue","webpack://mlfit/./src/components/visualization/scatterplot-matrix-component.vue?4516","webpack://mlfit/./src/components/visualization/scatterplot-matrix-component.vue?dd01","webpack://mlfit/./src/components/tabs/methods-tab-component.vue","webpack://mlfit/src/components/tabs/methods-tab-component.vue","webpack://mlfit/./src/components/tabs/methods-tab-component.vue?7317","webpack://mlfit/./src/components/tabs/methods-tab-component.vue?411b","webpack://mlfit/./src/helpers/sns-worker.js","webpack://mlfit/./src/helpers/correlation/correlation-matrix.js","webpack://mlfit/src/components/main-component.vue","webpack://mlfit/./src/components/main-component.vue?f8f6","webpack://mlfit/./src/components/main-component.vue?26f6","webpack://mlfit/src/App.vue","webpack://mlfit/./src/App.vue?c036","webpack://mlfit/./src/App.vue?0e40","webpack://mlfit/./src/main.js","webpack://mlfit/webpack/bootstrap","webpack://mlfit/webpack/runtime/amd define","webpack://mlfit/webpack/runtime/amd options","webpack://mlfit/webpack/runtime/chunk loaded","webpack://mlfit/webpack/runtime/compat get default export","webpack://mlfit/webpack/runtime/define property getters","webpack://mlfit/webpack/runtime/ensure chunk","webpack://mlfit/webpack/runtime/get javascript chunk filename","webpack://mlfit/webpack/runtime/get mini-css chunk filename","webpack://mlfit/webpack/runtime/global","webpack://mlfit/webpack/runtime/hasOwnProperty shorthand","webpack://mlfit/webpack/runtime/load script","webpack://mlfit/webpack/runtime/make namespace object","webpack://mlfit/webpack/runtime/node module decorator","webpack://mlfit/webpack/runtime/publicPath","webpack://mlfit/webpack/runtime/jsonp chunk loading","webpack://mlfit/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container\"},[_c('b-notification',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.settings.getDatasizeFlag),expression:\"this.settings.getDatasizeFlag\"}],staticClass:\"mt-2\",attrs:{\"type\":\"is-warning\",\"has-icon\":\"\",\"aria-close-label\":\"Close notification\",\"role\":\"alert\"}},[_vm._v(\" Due to the large size of dataset only 10,000 radom samples from dataset would be used. \")]),_c('div',{staticClass:\"columns is-multiline\",attrs:{\"id\":\"app\"}},[_c('SidebarComponent',{ref:\"sidebar\",on:{\"updateFeatures\":_vm.updateFeatureStats}}),_c('MainComponent',{ref:\"main\",attrs:{\"dataframe\":this.settings.df},on:{\"check-target\":function($event){return _vm.checkTarget()}}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"column is-2 has-background-info-light\",staticStyle:{\"height\":\"100%\"}},[_vm._m(0),_c('section',[_c('upload-component',{on:{\"uploaded\":_vm.generateTargetDropdown,\"uploaded-file\":_vm.setFile}}),_c('div',{staticClass:\"column is-12\"},[_c('b-field',{attrs:{\"label\":\"Seed\",\"label-position\":'on-border'}},[_c('b-input',{attrs:{\"size\":\"is-small\",\"placeholder\":\"Seed\",\"type\":\"number\",\"min\":\"0\"},model:{value:(_vm.seed),callback:function ($$v) {_vm.seed=$$v},expression:\"seed\"}})],1),_c('b-field',{attrs:{\"label\":\"Target\",\"label-position\":'on-border'}},[_c('b-select',{attrs:{\"expanded\":true,\"size\":\"is-small\"},on:{\"input\":_vm.checkmodelTask},model:{value:(_vm.modelTarget),callback:function ($$v) {_vm.modelTarget=$$v},expression:\"modelTarget\"}},_vm._l((_vm.columns),function(option){return _c('option',{key:option,domProps:{\"value\":option}},[_vm._v(\" \"+_vm._s(option)+\" \")])}),0)],1),_c('b-field',{attrs:{\"label\":\"Imputation\",\"label-position\":'on-border'}},[_c('b-select',{attrs:{\"expanded\":true,\"size\":\"is-small\"},model:{value:(_vm.imputationOption),callback:function ($$v) {_vm.imputationOption=$$v},expression:\"imputationOption\"}},_vm._l((_vm.imputationOptions),function(option){return _c('option',{key:option.id,domProps:{\"value\":option.id}},[_vm._v(\" \"+_vm._s(option.label)+\" \")])}),0)],1),_c('b-field',{attrs:{\"label\":\"Cross Validation\",\"label-position\":'on-border'}},[_c('b-select',{attrs:{\"expanded\":true,\"size\":\"is-small\"},model:{value:(_vm.crossValidationOption),callback:function ($$v) {_vm.crossValidationOption=$$v},expression:\"crossValidationOption\"}},_vm._l((_vm.crossValidationOptions),function(option){return _c('option',{key:option.id,domProps:{\"value\":option.id}},[_vm._v(\" \"+_vm._s(option.label)+\" \")])}),0)],1),_c('b-field',{attrs:{\"label\":\"Model\",\"label-position\":'on-border'}},[_c('b-select',{attrs:{\"disabled\":_vm.tuneModel,\"expanded\":true,\"size\":\"is-small\"},model:{value:(_vm.modelOption),callback:function ($$v) {_vm.modelOption=$$v},expression:\"modelOption\"}},_vm._l((_vm.modelOptions),function(option){return _c('option',{key:option.id,domProps:{\"value\":option.id}},[_vm._v(\" \"+_vm._s(option.title)+\" \")])}),0),_c('b-button',{attrs:{\"size\":\"is-small\",\"icon-pack\":\"fas\",\"icon-left\":!this.tuneModel ? 'cog' : 'arrow-left'},on:{\"click\":_vm.configureModel}})],1),(_vm.tuneModel)?_c('section',{staticClass:\"mx-1\"},_vm._l((_vm.modelConfigurations),function(option,i){return _c('b-field',{key:i,attrs:{\"label\":option.label,\"label-position\":'on-border'}},[(option.type === 'select')?_c('b-select',{attrs:{\"expanded\":true,\"size\":\"is-small\"},model:{value:(option.value),callback:function ($$v) {_vm.$set(option, \"value\", $$v)},expression:\"option.value\"}},_vm._l((option.values),function(item,index){return _c('option',{key:index,domProps:{\"value\":item.value}},[_vm._v(\" \"+_vm._s(item.label)+\" \")])}),0):(option.type === 'number')?_c('b-input',{attrs:{\"size\":\"is-small\",\"type\":\"number\"},model:{value:(option.value),callback:function ($$v) {_vm.$set(option, \"value\", $$v)},expression:\"option.value\"}}):(option.type === 'text')?_c('b-input',{attrs:{\"size\":\"is-small\",\"type\":\"text\"},model:{value:(option.value),callback:function ($$v) {_vm.$set(option, \"value\", $$v)},expression:\"option.value\"}}):_vm._e()],1)}),1):_vm._e(),_c('b-field',[_c('b-checkbox',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.dataScalingBehavior),callback:function ($$v) {_vm.dataScalingBehavior=$$v},expression:\"dataScalingBehavior\"}},[_vm._v(\"Standardize by default\")])],1),_c('b-field',[_c('b-checkbox',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.explainModel),callback:function ($$v) {_vm.explainModel=$$v},expression:\"explainModel\"}},[_vm._v(\"Explain the model\")])],1),_c('b-field',[_c('b-checkbox',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.usePCAs),callback:function ($$v) {_vm.usePCAs=$$v},expression:\"usePCAs\"}},[_vm._v(\"Use PC components\")])],1),(_vm.usePCAs)?_c('b-field',{attrs:{\"label\":\"Number of Components\",\"label-position\":'on-border'}},[_c('b-input',{attrs:{\"size\":\"is-small\",\"type\":\"number\"},model:{value:(_vm.numberOfComponents),callback:function ($$v) {_vm.numberOfComponents=$$v},expression:\"numberOfComponents\"}})],1):_vm._e(),_c('b-field',[_c('b-checkbox',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.useHPC),callback:function ($$v) {_vm.useHPC=$$v},expression:\"useHPC\"}},[_vm._v(\"Use HPC resources\")])],1),_c('b-field',[_c('b-button',{attrs:{\"size\":\"is-small\",\"icon-pack\":\"fas\",\"icon-left\":\"play\",\"loading\":_vm.training,\"disabled\":!_vm.dataframe || _vm.modelOption == null},on:{\"click\":_vm.train}},[_vm._v(\" train\")]),_c('button',{staticClass:\"button is-small\",attrs:{\"disabled\":!_vm.useHPC},on:{\"click\":function($event){return _vm.upload()}}},[_vm._v(\"Upload to HPC\")])],1),_c('b-loading',{attrs:{\"is-full-page\":false},model:{value:(_vm.training),callback:function ($$v) {_vm.training=$$v},expression:\"training\"}})],1)],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('figure',{staticClass:\"image is-96x96\"},[_c('img',{attrs:{\"src\":\"/logo.png\"}})])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"column is-12 has-background-light\"},[_c('b-field',{staticClass:\"file is-success is-fullwidth\",class:{ 'has-name': !!_vm.file }},[_c('b-upload',{staticClass:\"file-label\",attrs:{\"accept\":\".csv,.txt,.xlsx\"},model:{value:(_vm.file),callback:function ($$v) {_vm.file=$$v},expression:\"file\"}},[_c('a',{staticClass:\"button is-success is-small is-fullwidth\"},[_c('b-icon',{staticClass:\"file-icon\",attrs:{\"pack\":\"fas\",\"icon\":\"upload\"}}),_c('span',{staticClass:\"file-label\"},[_vm._v(_vm._s(this.settings.datasetName || \"Upload\"))])],1)])],1),_c('b-field',[_c('b-checkbox',{attrs:{\"size\":\"is-small\"},model:{value:(_vm.header),callback:function ($$v) {_vm.header=$$v},expression:\"header\"}},[_vm._v(\"Header\")])],1),_c('b-field',{attrs:{\"label\":\"Separator\",\"label-position\":'on-border'}},[_c('b-select',{attrs:{\"expanded\":true,\"size\":\"is-small\"},model:{value:(_vm.separator),callback:function ($$v) {_vm.separator=$$v},expression:\"separator\"}},_vm._l((_vm.separatorOptions),function(option){return _c('option',{key:option.id,domProps:{\"value\":option.id}},[_vm._v(\" \"+_vm._s(option.label)+\" \")])}),0)],1),_c('b-field',{attrs:{\"label\":\"Decimal\",\"label-position\":'on-border'}},[_c('b-select',{attrs:{\"expanded\":true,\"size\":\"is-small\",\"label-position\":'on-border'},model:{value:(_vm.decimal),callback:function ($$v) {_vm.decimal=$$v},expression:\"decimal\"}},_vm._l((_vm.decimalOptions),function(option){return _c('option',{key:option.id,domProps:{\"value\":option.id}},[_vm._v(\" \"+_vm._s(option.label)+\" \")])}),0)],1),_c('b-field',[_c('b-select',{attrs:{\"expanded\":true,\"size\":\"is-small\"},on:{\"input\":_vm.handleFileSelect},model:{value:(_vm.sampleDataset),callback:function ($$v) {_vm.sampleDataset=$$v},expression:\"sampleDataset\"}},_vm._l((_vm.samplDataOptions),function(option){return _c('option',{key:option.id,domProps:{\"value\":option.name}},[_vm._v(\" \"+_vm._s(option.label)+\" \")])}),0)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable no-unused-vars */\r\nexport class DataParser {\r\n    parse(_content) {\r\n        throw new Error(\"Not implemented.\")\r\n    }\r\n}","import { DataParser } from './parser';\r\nimport Papa from 'papaparse';\r\n\r\nexport class CSVParser extends DataParser {\r\n    constructor(options) {\r\n        super();\r\n        this.separators = { 0: ',', 1: '.', 2: ',', 3: ' ' }\r\n        this.separator = options.separator;\r\n        this.delimiter = options.delimiter;\r\n        this.has_header = options.header\r\n    }\r\n    parse(content) {\r\n        return new Promise((resolve) => {\r\n            Papa.parse(content, {\r\n                worker: false,\r\n                header: this.has_header,\r\n                delimiter: this.separators[this.separator],\r\n                transform: (val) => {\r\n                    if (val === \"?\" || val === \"NA\") {\r\n                        return NaN\r\n                    }\r\n                    return val\r\n                },\r\n                // transformHeader: (val) => {\r\n                //     return val.replace(/[^a-zA-Z0-9 ]/g, \"\").trim()\r\n                // },\r\n                skipEmptyLines: true,\r\n                dynamicTyping: true,\r\n                complete: async function (result) {\r\n                    resolve(result.data)\r\n                }\r\n            })\r\n        }\r\n        )\r\n    }\r\n}","import { DataParser } from './parser';\r\nimport Papa from 'papaparse';\r\n\r\nexport class TXTParser extends DataParser {\r\n    constructor(options) {\r\n        super();\r\n        this.separators = { 0: ',', 1: '.', 2: ',', 3: ' ' }\r\n        this.separator = options.separator;\r\n        this.delimiter = options.delimiter;\r\n        this.has_header = options.header\r\n    }\r\n    parse(content) {\r\n        return new Promise((resolve) => {\r\n            Papa.parse(content, {\r\n                worker: false,\r\n                header: this.has_header,\r\n                delimiter: this.separators[this.separator],\r\n                transform: (val) => {\r\n                    if (val === \"?\" || val === \"NA\") {\r\n                        return NaN\r\n                    }\r\n                    return val\r\n                },\r\n                // transformHeader: (val) => {\r\n                //     return val.replace(/[^a-zA-Z0-9 ]/g, \"\").trim()\r\n                // },\r\n                skipEmptyLines: true,\r\n                dynamicTyping: true,\r\n                complete: async function (result) {\r\n                    if (this.delimiter == 1) {\r\n                        for (let i = 0; i < result.data.length; i++) {\r\n                            const element = result.data[i];\r\n                            for (let j = 0; j < element.length; j++) {\r\n                                result.data[i][j] = parseFloat(result.data[i][j].replace(/\\./g, '').replace(',', '.'));\r\n                            }\r\n                        }\r\n                    }\r\n                    resolve(result.data)\r\n                }\r\n            })\r\n        }\r\n        )\r\n    }\r\n}","import { CSVParser } from './csv_parser'\r\nimport { TXTParser } from './txt_parser'\r\n\r\n\r\nexport class ParserFactory {\r\n    static createParser(fileType, options) {\r\n        switch (fileType.toLowerCase()) {\r\n            case 'csv':\r\n                return new CSVParser(options);\r\n            case 'txt': {\r\n                let parser = new TXTParser(options)\r\n                return parser\r\n            }\r\n            // case 'xlsx':\r\n            //     return new XLXParser();\r\n            default:\r\n                throw new Error(`Unsupported file type: ${fileType}`);\r\n        }\r\n    }\r\n}\r\n","let danfoPromise = null;\r\nexport const getDanfo = async () => {\r\n    if (!danfoPromise) {\r\n        danfoPromise = import('danfojs')\r\n    }\r\n    return danfoPromise\r\n}","import { defineStore } from 'pinia'\r\n\r\nexport const settingStore = defineStore({\r\n    id: 'cart',\r\n    state: () => ({\r\n        counter: 1,\r\n        df: {},\r\n        id: null,\r\n        rawData: {},\r\n        features: [],\r\n        transformations: [],\r\n        classTransformations: [],\r\n        results: [],\r\n        messages: [],\r\n        datasetName: '',\r\n        activeTab: 0,\r\n        dataSizeFlag: false,\r\n        resultActiveTab: '',\r\n        datasetShape: {\r\n            count: 0,\r\n            columns: 0\r\n        },\r\n        target: null,\r\n        isClassification: true,\r\n        seed: 123,\r\n    }),\r\n    getters: {\r\n        items: (state) => {\r\n            return state.features\r\n        },\r\n        getDatasizeFlag: (state) => {\r\n            return state.dataSizeFlag\r\n        },\r\n        getCounter: (state) => {\r\n            return state.counter\r\n        },\r\n        getUID: () => {\r\n            let id = Math.random().toString(16).slice(2);\r\n            return id;\r\n        },\r\n        getMessages: (state) => {\r\n            return state.messages.reverse()\r\n        },\r\n        getDatasetName: (state) => {\r\n            return state.datasetName\r\n        },\r\n        getDatasetShape: (state) => {\r\n            return state.datasetShape\r\n        },\r\n        getDataset: (state) => {\r\n            return state.df;\r\n        },\r\n        getRawData: (state) => {\r\n            return state.rawData;\r\n        },\r\n        currentTab: (state) => {\r\n            return state.activeTab\r\n        },\r\n        mergedClasses: (state) => {\r\n            return state.classTransformations\r\n        },\r\n        getSeed: (state) => {\r\n            return state.seed\r\n        },\r\n        getMethodResults: (state) => {\r\n            return state.results\r\n        },\r\n        getResultTab: (state) => {\r\n            return state.resultActiveTab\r\n        },\r\n        outputs: (state) => state.results,\r\n        transformationsList: (state) => state.transformations,\r\n        modelTarget: (state) => state.target,\r\n        classificationTask: (state) => state.isClassification,\r\n    },\r\n    actions: {\r\n        setSeed(seed) {\r\n            this.seed = seed\r\n        },\r\n        setDatasetName(name) {\r\n            this.datasetName = name;\r\n        },\r\n        setDatasetShape(shape) {\r\n            this.datasetShape = shape;\r\n        },\r\n        resetFeatures() {\r\n            this.features = []\r\n            this.transformations = []\r\n            this.classTransformations = []\r\n        },\r\n        resetClassTransformations() {\r\n            this.classTransformations = []\r\n        },\r\n        resetTransformations() {\r\n            this.transformations = []\r\n        },\r\n        setDatasizeFlag(flag) {\r\n            this.dataSizeFlag = flag;\r\n        },\r\n        resetDataset() {\r\n            this.datasetName = '';\r\n            this.datasetShape = {\r\n                count: 0,\r\n                columns: 0\r\n            };\r\n\r\n        },\r\n        increaseCounter() {\r\n            this.counter++;\r\n        },\r\n        setDataframe(data) {\r\n            this.df = data;\r\n        },\r\n        setRawData(data) {\r\n            this.rawData = data;\r\n        },\r\n        addFeature(feature) {\r\n            feature.scaler = 0;\r\n            let index = this.features.findIndex(m => m.name === feature.name);\r\n            if (index !== -1) {\r\n                this.features[index] = feature\r\n                return\r\n            }\r\n            this.features.push(feature)\r\n        },\r\n        setClassTransformation(transformations) {\r\n            this.classTransformations.push(transformations)\r\n        },\r\n\r\n        addTransformation(transformation) {\r\n            let index = this.transformations.findIndex(m => m.name === transformation.name);\r\n            if (index !== -1) {\r\n                this.transformations[index] = transformation\r\n                return\r\n            }\r\n            this.transformations.push(transformation)\r\n        },\r\n        addResult(result) {\r\n            this.results.push(result)\r\n        },\r\n        addMessage(message) {\r\n            var date = new Date();\r\n            message['date'] = date.toLocaleString()\r\n            this.messages.push(message)\r\n        },\r\n        removeResult(id) {\r\n            const i = this.results.findIndex(m => m.id === id)\r\n            if (i > -1) {\r\n                this.results.splice(i, 1);\r\n            }\r\n        },\r\n        getResultVisualizations(id) {\r\n            const i = this.results.findIndex(m => m.id === id)\r\n            if (i > -1) {\r\n                let tables = this.results[i].tables;\r\n                let plots = this.results[i].plots;\r\n                return [tables, plots]\r\n            }\r\n        },\r\n        resetDF() {\r\n            this.df = {}\r\n        },\r\n        updateFeature(feature) {\r\n            let index = this.features.findIndex(m => m.name === feature.name);\r\n            if (index !== -1) {\r\n                this.features[index] = feature\r\n            }\r\n        },\r\n        removeItem(name) {\r\n            const i = this.features.lastIndexOf(name)\r\n            if (i > -1) this.features.splice(i, 1)\r\n        },\r\n        setTarget(target) {\r\n            this.target = target\r\n        },\r\n        setmodelTask(type) {\r\n            this.isClassification = type\r\n        },\r\n        setActiveTab(index) {\r\n            this.activeTab = index\r\n        },\r\n        setResultActiveTab(index) {\r\n            this.resultActiveTab = index\r\n        }\r\n    },\r\n})\r\n\r\n","<template>\r\n    <div class=\"column is-12 has-background-light\">\r\n        <b-field class=\"file is-success is-fullwidth\" :class=\"{ 'has-name': !!file }\">\r\n            <b-upload accept=\".csv,.txt,.xlsx\" v-model=\"file\" class=\"file-label\">\r\n                <a class=\"button is-success is-small is-fullwidth\">\r\n                    <b-icon pack=\"fas\" class=\"file-icon\" icon=\"upload\"></b-icon>\r\n                    <span class=\"file-label\">{{ this.settings.datasetName || \"Upload\" }}</span>\r\n                </a>\r\n            </b-upload>\r\n        </b-field>\r\n        <b-field>\r\n            <b-checkbox size=\"is-small\" v-model=\"header\">Header</b-checkbox>\r\n        </b-field>\r\n        <b-field label=\"Separator\" :label-position=\"'on-border'\">\r\n            <b-select :expanded=\"true\" v-model=\"separator\" size=\"is-small\">\r\n                <option v-for=\"option in separatorOptions\" :value=\"option.id\" :key=\"option.id\">\r\n                    {{ option.label }}\r\n                </option>\r\n            </b-select>\r\n        </b-field>\r\n        <b-field label=\"Decimal\" :label-position=\"'on-border'\">\r\n            <b-select :expanded=\"true\" v-model=\"decimal\" size=\"is-small\" :label-position=\"'on-border'\">\r\n                <option v-for=\"option in decimalOptions\" :value=\"option.id\" :key=\"option.id\">\r\n                    {{ option.label }}\r\n                </option>\r\n            </b-select>\r\n        </b-field>\r\n        <b-field>\r\n            <b-select :expanded=\"true\" @input=\"handleFileSelect\" size=\"is-small\" v-model=\"sampleDataset\">\r\n                <option v-for=\"option in samplDataOptions\" :value=\"option.name\" :key=\"option.id\">\r\n                    {{ option.label }}\r\n                </option>\r\n            </b-select>\r\n        </b-field>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { ParserFactory } from '../helpers/parser/parser_factory.js'\r\nimport { getDanfo } from '@/utils/danfo_loader';\r\nimport { settingStore } from '@/stores/settings'\r\n\r\nconst DATASET_SIZE = 10000;\r\nexport default {\r\n    setup() {\r\n        const settings = settingStore()\r\n        return { settings }\r\n    },\r\n    name: 'UploadComponent',\r\n    props: {\r\n        msg: String\r\n    },\r\n    data() {\r\n        return {\r\n            sampleDataset: 'none',\r\n            file: null,\r\n            separator: 2,\r\n            header: true,\r\n            decimal: 1,\r\n            decimalOptions:\r\n                [\r\n                    {\r\n                        id: 1,\r\n                        label: '.',\r\n                    }, {\r\n                        id: 2,\r\n                        label: ',',\r\n                    }]\r\n            ,\r\n            separatorOptions:\r\n                [\r\n                    {\r\n                        id: 1,\r\n                        label: '.',\r\n                    }, {\r\n                        id: 2,\r\n                        label: ',',\r\n                    }\r\n                    , {\r\n                        id: 3,\r\n                        label: 'space',\r\n                    }]\r\n            ,\r\n            samplDataOptions:\r\n                [\r\n                    {\r\n                        id: 0,\r\n                        name: 'none',\r\n                        label: 'Select toy dataset',\r\n\r\n                    },\r\n                    {\r\n                        id: 1,\r\n                        name: 'iris',\r\n                        label: 'iris',\r\n                    }, {\r\n                        id: 2,\r\n                        name: 'wine',\r\n                        label: 'wine',\r\n\r\n                    }\r\n                    , {\r\n                        id: 3,\r\n                        name: 'diabetes',\r\n                        label: 'diabetes',\r\n                    }, {\r\n                        id: 4,\r\n                        name: 'housing',\r\n                        label: 'California Housing',\r\n                    }, {\r\n                        id: 5,\r\n                        name: 'Titanic',\r\n                        label: 'Titanic',\r\n\r\n                    },]\r\n            ,\r\n        }\r\n    },\r\n    watch: {\r\n        file: async function (val) {\r\n            try {\r\n                let dataset = await this.process_file(val, val.name.split('.')[1])\r\n                this.initDataframe(dataset, val.name.split('.')[0])\r\n            } catch (error) {\r\n                this.$buefy.toast.open('Failed to parse the dataset.')\r\n            }\r\n\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        shuffle(array, seed) {\r\n            var m = array.length, t, i;\r\n            // While there remain elements to shuffle\r\n            while (m) {\r\n\r\n                // Pick a remaining element\r\n                i = Math.floor(this.random(seed) * m--);\r\n\r\n                // And swap it with the current element.\r\n                t = array[m];\r\n                array[m] = array[i];\r\n                array[i] = t;\r\n                ++seed\r\n            }\r\n        },\r\n        random(seed) {\r\n            var x = Math.sin(seed++) * 10000;\r\n            return x - Math.floor(x);\r\n        },\r\n        async initDataframe(dataset, name) {\r\n            this.settings.resetFeatures();\r\n            this.settings.setDatasetName(name);\r\n            this.settings.setDatasetShape({ count: dataset.$data.length, columns: dataset.columns.length });\r\n            let df = await dataset.sample(dataset.$data.length, { seed: this.settings.getSeed });\r\n            this.settings.setDataframe(df)\r\n            this.$emit('uploaded', true)\r\n        },\r\n        async process_file(file, type) {\r\n            let options = {\r\n                separator: this.separator,\r\n                delimiter: this.decimal,\r\n                header: this.header\r\n            }\r\n            let processdDataset = await ParserFactory.createParser(type, options).parse(file)\r\n            if (processdDataset.length > DATASET_SIZE) {\r\n                this.settings.setDatasizeFlag(true);\r\n                this.shuffle(processdDataset, this.settings.getSeed)\r\n                processdDataset = processdDataset.slice(0, DATASET_SIZE)\r\n            } else {\r\n                this.settings.setDatasizeFlag(false);\r\n            }\r\n            const danfo = await getDanfo();\r\n            let dataFrame = new danfo.DataFrame(processdDataset);\r\n            let idIndex = dataFrame.columns.findIndex(col => col.toLowerCase() === 'id')\r\n            if (idIndex > -1)\r\n                dataFrame.drop({ columns: dataFrame.columns[idIndex], inplace: true })\r\n            this.settings.setRawData(processdDataset);\r\n            this.$emit(\"uploaded-file\", file)\r\n            return dataFrame\r\n        },\r\n        async handleFileSelect(name) {\r\n            if (name == 'none') {\r\n                return\r\n            }\r\n            name += '.csv';\r\n            let current = this;\r\n            let file;\r\n            fetch(name)\r\n                .then(response => response.blob())\r\n                .then(async blob => {\r\n                    file = new File([blob], name);\r\n                    let dataframe = await this.process_file(file, 'csv');\r\n                    current.initDataframe(dataframe, name.split('.')[0])\r\n                })\r\n                .catch(error => {\r\n                    console.error('Error fetching the file:', error);\r\n                });\r\n\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style></style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./upload-component.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./upload-component.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./upload-component.vue?vue&type=template&id=f0e36240\"\nimport script from \"./upload-component.vue?vue&type=script&lang=js\"\nexport * from \"./upload-component.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export const FeatureCategories = {\r\n    \"Numerical\": {\r\n        id: 1,\r\n        name: \"Numerical\"\r\n    }\r\n    , \"Nominal\": {\r\n        id: 2,\r\n        name: \"Nominal\"\r\n    }\r\n    , \"Ordinal\": {\r\n        id: 3,\r\n        name: \"Ordinal\"\r\n    }\r\n};\r\nexport const CV_OPTIONS = {\r\n    SPLIT: 1,\r\n    NO: 2,\r\n    KFOLD: 3\r\n}\r\nexport const REGRESSION = 1;\r\nexport const CLASSIFICATION = 2;\r\n\r\n\r\nexport const ScaleOptions = {\r\n    \"No\": {\r\n        id: 0,\r\n        name: \"No\",\r\n    },\r\n    \"Scale\": {\r\n        id: 1,\r\n        name: \"Scale\"\r\n    }\r\n    , \"x^2\": {\r\n        id: 2,\r\n        name: \"x^2\"\r\n    }\r\n    , \"ln(x)\": {\r\n        id: 3,\r\n        name: \"ln(x)\"\r\n    }, \"Standardize\": {\r\n        id: 4,\r\n        name: \"Standardize\"\r\n    }\r\n}\r\nexport const Settings = {\r\n    \"classification\": {\r\n        \"logistic_regression\": {\r\n            \"id\": 1,\r\n            \"label\": \"Logistic Regression\",\r\n            \"title\": \"Logi.Reg\",\r\n            \"value\": 1,\r\n            \"options\": {\r\n                \"regularization\": {\r\n                    \"label\": \"regulrization\",\r\n                    \"type\": \"select\",\r\n                    default: \"Lasso\",\r\n                    value: \"Lasso\",\r\n                    \"values\": [{ label: \"adaptive lasso\", value: \"Lasso\" }, { label: \"ridge\", value: \"ridge\" }]\r\n                }\r\n            }\r\n        },\r\n        \"discriminant_analysis\": {\r\n            \"id\": 2,\r\n            \"label\": \"Discriminant Analysis\",\r\n            \"title\": \"DA\",\r\n            \"value\": 2,\r\n            \"options\": {\r\n                \"type\": {\r\n                    \"label\": \"type\",\r\n                    \"type\": \"select\",\r\n                    default: \"linear\",\r\n                    \"values\": [{ label: \"linear\", value: \"linear\" }, { label: \"quadratic\", value: \"quadratic\" }]\r\n                },\r\n                \"priors\": {\r\n                    label: \"priors\",\r\n                    type: \"text\",\r\n                    placeholder: \"comma separated priors\"\r\n                },\r\n            }\r\n        },\r\n        \"k_nearest_neighbour\": {\r\n            \"id\": 3,\r\n            \"label\": \"k nearest neighbour\",\r\n            \"title\": \"KNN\",\r\n            \"value\": 3,\r\n            \"options\": {\r\n                \"min\": {\r\n                    \"label\": \"min\",\r\n                    type: \"number\",\r\n                    default: 3\r\n                },\r\n                \"max\": {\r\n                    \"label\": \"max\",\r\n                    type: \"number\",\r\n                    default: 9\r\n                },\r\n                \"metric\": {\r\n                    label: \"metrics\",\r\n                    type: \"select\",\r\n                    default: \"manhattan\",\r\n                    values: [{ label: \"euclidean\", value: \"euclidean\" }, { label: \"manhattan\", value: \"manhattan\" }]\r\n                },\r\n            },\r\n        },\r\n        \"support_vector_machine\": {\r\n            \"id\": 4,\r\n            \"label\": \"Support vector machine\",\r\n            \"title\": \"SVM\",\r\n            \"value\": 4,\r\n            \"options\": {\r\n                \"kernel\": {\r\n                    label: 'kernel',\r\n                    type: \"select\",\r\n                    default: \"rbf\",\r\n                    values: [{ label: \"RBF\", value: \"rbf\" }, { label: \"Linear\", value: \"linear\" }, { label: \"Polynomial\", value: \"poly\" }\r\n                        , { label: \"Sigmoid\", value: \"sigmoid\" }]\r\n                },\r\n\r\n                \"bias\": {\r\n                    \"label\": \"bias\",\r\n                    type: \"number\",\r\n                    for: [\"Sigmoid\", \"Sigmoid\"],\r\n                    default: 0\r\n                },\r\n                \"c\": {\r\n                    \"label\": \"Regularization parameter\",\r\n                    type: \"number\",\r\n                    default: 1\r\n                },\r\n                \"degree\": {\r\n                    label: 'degree',\r\n                    type: \"number\",\r\n                    for: [\"Polynomial\"],\r\n                    default: 3\r\n                },\r\n            },\r\n        },\r\n        \"random_forest\": {\r\n            \"id\": 5,\r\n            \"label\": \"Random forest\",\r\n            \"title\": \"RF\",\r\n            \"value\": 5,\r\n            \"options\": {\r\n                \"estimators\": {\r\n                    label: \"estimators\",\r\n                    type: \"number\",\r\n                    default: 100\r\n                },\r\n                \"features\": {\r\n                    label: \"features\",\r\n                    type: \"number\",\r\n                    default: \"sqrt\"\r\n                },\r\n                \"depth\": {\r\n                    label: \"depth\",\r\n                    type: \"number\",\r\n                    default: 5\r\n                },\r\n                \"criteria\": {\r\n                    label: \"criteria\",\r\n                    type: \"select\",\r\n                    default: \"gini\",\r\n                    \"values\": [{ label: \"gini\", value: \"gini\" }, { label: \"log loss\", value: \"log_loss\" },\r\n                    { label: \"entropy\", value: \"entropy\" }]\r\n                }\r\n            },\r\n        },\r\n        \"boosting\": {\r\n            \"id\": 6,\r\n            \"label\": \"Boosting\",\r\n            \"title\": \"Boosting\",\r\n            \"value\": 6,\r\n            \"options\": {\r\n                \"booster\": {\r\n                    type: \"select\",\r\n                    label: \"booster\",\r\n                    default: \"gbtree\",\r\n                    values: [{ label: \"gbtree\", value: \"gbtree\" }, { label: \"gblinear\", value: \"gblinear\" }, { label: \"dart\", value: \"dart\" }]\r\n                },\r\n                \"eta\": {\r\n                    label: \"learning rate\",\r\n                    type: \"number\",\r\n                    default: 0.3\r\n                },\r\n                \"estimators\": {\r\n                    label: \"estimators\",\r\n                    type: \"number\",\r\n                    default: 200\r\n                },\r\n                \"depth\": {\r\n                    label: \"depth\",\r\n                    type: \"number\",\r\n                    default: 5\r\n                },\r\n\r\n            },\r\n        },\r\n        \"naive_bayes\": {\r\n            \"label\": \"Naive Bayes\",\r\n            \"title\": \"NB\",\r\n            \"value\": 7,\r\n            \"id\": 7,\r\n            \"options\": {\r\n                \"laplace\": {\r\n                    label: \"laplace smoothing\",\r\n                    type: \"number\",\r\n                    default: 0.05\r\n                },\r\n                \"priors\": {\r\n                    label: \"priors\",\r\n                    type: \"text\",\r\n                    placeholder: \"comma separated priors\"\r\n                },\r\n                \"type\": {\r\n                    label: \"type\",\r\n                    type: \"select\",\r\n                    default: \"Gaussian\",\r\n                    values: [{ label: \"Gaussian\", value: \"Gaussian\" }, { label: \"Multinomial\", value: \"Multinomial\" }, { label: \"Bernoulli\", value: \"Bernoulli\" }]\r\n                }\r\n            }\r\n\r\n        },\r\n    },\r\n    \"regression\": {\r\n        \"linear_regression\": {\r\n            \"label\": \"Linear Regression\",\r\n            \"title\": \"Lin.Reg\",\r\n            \"value\": 9,\r\n            \"id\": 9,\r\n            \"feature_selection\": [\"no\", \"Lasso\", \"ridge\"],\r\n            \"criteria\": [\"AIC\", \"BIC\", \"AR2\",],\r\n            \"options\": {\r\n                \"regularization\": {\r\n                    label: \"regularization\",\r\n                    type: \"select\",\r\n                    default: \"Lasso\",\r\n                    values: [{ label: \"adaptive lasso\", value: \"Lasso\" }, { label: \"Ridge\", value: \"Ridge\" }]\r\n                }\r\n            }\r\n        },\r\n        \"polynomial_regression\": {\r\n            \"label\": \"Polynomial Regression\",\r\n            \"title\": \"Poly.Reg\",\r\n            \"value\": 14,\r\n            \"id\": 14,\r\n            \"feature_selection\": [\"no\", \"Lasso\", \"ridge\"],\r\n            \"criteria\": [\"AIC\", \"BIC\", \"AR2\",],\r\n            \"options\": {\r\n                \"regularization\": {\r\n                    label: \"regularization\",\r\n                    type: \"select\",\r\n                    default: \"Lasso\",\r\n                    values: [{ label: \"Lasso\", value: \"Lasso\" }, { label: \"Ridge\", value: \"Ridge\" }]\r\n                },\r\n                \"degree\": {\r\n                    label: \"Degree\",\r\n                    type: \"number\",\r\n                    default: 2,\r\n                }\r\n            }\r\n        },\r\n        \"k_nearest_neighbour\": {\r\n            \"label\": \"k nearest neighbour Regression\",\r\n            \"title\": \"KNN\",\r\n            \"value\": 10,\r\n            \"id\": 10,\r\n            \"options\": {\r\n                \"min\": {\r\n                    label: \"min\",\r\n                    type: \"number\",\r\n                    default: 3\r\n                },\r\n                \"max\": {\r\n                    label: \"max\",\r\n                    type: \"number\",\r\n                    default: 9\r\n                },\r\n            },\r\n        },\r\n        \"boosting\": {\r\n            \"label\": \"Boosting Regression\",\r\n            \"title\": \"Boosting\",\r\n            \"value\": 11,\r\n            \"id\": 11,\r\n            \"options\": {\r\n                \"booster\": {\r\n                    label: \"booster\",\r\n                    type: \"select\",\r\n                    default: \"gbtree\",\r\n                    values: [{ label: \"gbtree\", value: \"gbtree\" }, { label: \"gblinear\", value: \"gblinear\" }, { label: \"dart\", value: \"dart\" }]\r\n                },\r\n                \"eta\": {\r\n                    label: \"learning rate\",\r\n                    type: \"number\",\r\n                    default: 0.3\r\n                },\r\n                \"estimators\": {\r\n                    label: \"estimators\",\r\n                    type: \"number\",\r\n                    default: 200\r\n                },\r\n                \"depth\": {\r\n                    label: \"depth\",\r\n                    type: \"number\",\r\n                    default: 5\r\n                },\r\n\r\n            },\r\n        },\r\n        \"support_vector_machine\": {\r\n            \"label\": \"Support vector machine Regression\",\r\n            \"title\": \"SVM.Reg\",\r\n            \"value\": 12,\r\n            \"id\": 12,\r\n            \"options\": {\r\n                \"kernel\": {\r\n                    label: \"kernel\",\r\n                    type: \"select\",\r\n                    default: \"rbf\",\r\n                    values: [{ label: \"RBF\", value: \"rbf\" }, { label: \"Linear\", value: \"linear\" }, { label: \"Polynomial\", value: \"poly\" }\r\n                        , { label: \"Sigmoid\", value: \"sigmoid\" }]\r\n                },\r\n                \"gamma\": {\r\n                    label: \"gamma\",\r\n                    type: \"number\",\r\n                    for: [\"RBF\", \"Sigmoid\", \"Polynomial\"],\r\n                    default: 1\r\n                },\r\n                \"bias\": {\r\n                    label: \"bias\",\r\n                    type: \"number\",\r\n                    for: [\"Sigmoid\", \"Sigmoid\"],\r\n                    default: 0\r\n                },\r\n                \"degree\": {\r\n                    label: \"degree polynomial\",\r\n                    type: \"number\",\r\n                    for: [\"Polynomial\"],\r\n                    default: 3\r\n                },\r\n            },\r\n        },\r\n        \"random_forest\": {\r\n            \"label\": \"Random forest Regression\",\r\n            \"title\": \"RF.Reg\",\r\n            \"value\": 13,\r\n            \"id\": 13,\r\n            \"options\": {\r\n                \"estimators\": {\r\n                    label: \"num of estimators\",\r\n                    type: \"number\",\r\n                    default: 100\r\n                },\r\n                \"features\": {\r\n                    label: \"features length\",\r\n                    type: \"number\",\r\n                    default: \"sqrt\"\r\n                },\r\n                \"depth\": {\r\n                    label: \"depth\",\r\n                    type: \"number\",\r\n                    default: 5\r\n                },\r\n                \"criteria\": {\r\n                    type: \"select\",\r\n                    label: \"criteria\",\r\n                    default: \"squared_error\",\r\n                    \"values\": [{ label: \"squared_error\", value: \"squared_error\" }, { label: \"absolute_error\", value: \"absolute_error\" },\r\n                    { label: \"friedman_mse\", value: \"friedman_mse\" }, { label: \"poisson\", value: \"poisson\" }]\r\n                }\r\n            },\r\n        },\r\n        \"kernel_regression\": {\r\n            \"label\": \"Kernel Regression\",\r\n            \"title\": \"Ker.Reg\",\r\n            \"value\": 15,\r\n            \"id\": 15,\r\n            \"options\": {\r\n                \"estimators\": {\r\n                    type: \"number\",\r\n                    default: 100\r\n                },\r\n            },\r\n        },\r\n        \"bspline_regression\": {\r\n            \"label\": \"Bspline Regression\",\r\n            \"title\": \"Bspl.Reg\",\r\n            \"value\": 16,\r\n            \"id\": 16,\r\n\r\n            \"options\": {\r\n                \"knots\": {\r\n                    label: \"knots\",\r\n                    type: \"number\",\r\n                    default: 5\r\n                },\r\n                \"degree\": {\r\n                    label: \"degree\",\r\n                    type: \"number\",\r\n                    default: 3\r\n                },\r\n            },\r\n        },\r\n    },\r\n};","const pyodideWorker = new Worker(new URL('./webworker.js', import.meta.url))\r\n\r\nconst callbacks = {};\r\n\r\npyodideWorker.onmessage = (event) => {\r\n    const { id, ...data } = event.data;\r\n    const onSuccess = callbacks[id];\r\n    delete callbacks[id];\r\n    onSuccess(data);\r\n};\r\n\r\nconst asyncRun = (() => {\r\n    let id = 0; // identify a Promise\r\n    return (script, context) => {\r\n        // the id could be generated more carefully\r\n        id = (id + 1) % Number.MAX_SAFE_INTEGER;\r\n        return new Promise((onSuccess) => {\r\n            callbacks[id] = onSuccess;\r\n            pyodideWorker.postMessage({\r\n                ...context,\r\n                python: script,\r\n                id,\r\n            });\r\n        });\r\n    };\r\n})();\r\n\r\nexport { asyncRun };","import { asyncRun } from \"../py-worker\";\r\nexport default class PCA {\r\n    constructor() {\r\n    }\r\n    async predict(x, n, x_test = []) {\r\n        this.context = {\r\n            x_train: x,\r\n            x_test: x_test,\r\n            has_test_set: x_test.length > 0,\r\n            n: +n,\r\n        };\r\n        const script = `\r\n        import matplotlib.pyplot as plt\r\n        import numpy as np\r\n        from sklearn.decomposition import PCA\r\n        from js import x_train,n,x_test,has_test_set\r\n        from sklearn.preprocessing import StandardScaler\r\n        x_train = np.array(x_train)\r\n        scaler = StandardScaler()\r\n        X_scaled = scaler.fit_transform(x_train) \r\n        pca_x = PCA(n_components=n,random_state = 42)\r\n        pca = pca_x.fit_transform(np.array(X_scaled))\r\n        pca_test=[]\r\n        if has_test_set:\r\n            x_test = np.array(x_test)\r\n            x_test_scaled= scaler.transform(x_test) \r\n            pca_test = pca_x.fit_transform(np.array(x_test_scaled))\r\n        ccircle = []\r\n        eucl_dist = []\r\n        for i,j in enumerate(x_train.T):\r\n            corr1 = np.corrcoef(j,pca[:,0])[0,1]\r\n            corr2 = np.corrcoef(j,pca[:,1])[0,1]\r\n            ccircle.append((corr1, corr2))\r\n            eucl_dist.append(np.sqrt(corr1**2 + corr2**2))\r\n        (pca,np.arange(1, len(pca_x.explained_variance_ratio_) + 1), pca_x.explained_variance_ratio_,ccircle,eucl_dist,pca_test)\r\n    `;\r\n        try {\r\n            const { results, error } = await asyncRun(script, this.context);\r\n            if (results) {\r\n                return results;\r\n            } else if (error) {\r\n                throw Error(\"Faced errot fitting PCA\")\r\n            }\r\n        } catch (e) {\r\n            throw Error(\"Failed to fit PCA\")\r\n        }\r\n    }\r\n\r\n}\r\n","/* eslint-disable no-undef */\r\nimport { asyncRun } from \"./py-worker\";\r\nimport { MinMaxScaler, StandardScaler, LabelEncoder, getDummies } from '@/utils/danfo_loader';\r\nimport { FeatureCategories } from '../helpers/settings'\r\n\r\nimport * as Papa from 'papaparse';\r\nasync function parseCsv(data) {\r\n    return new Promise(resolve => {\r\n        data = data.map((row) => {\r\n            return Object.keys(row).sort().map(key => parseFloat(row[key]));\r\n        });\r\n        resolve(data);\r\n    });\r\n}\r\n\r\n/**\r\n * Downloads and returns the csv.\r\n *\r\n * @param {string} filename Name of file to be loaded.\r\n *\r\n * @returns {Promise.Array<number[]>} Resolves to parsed csv data.\r\n */\r\nexport async function loadCsv(filename) {\r\n    return new Promise(resolve => {\r\n        const url = `${BASE_URL}${filename}.csv`;\r\n\r\n        Papa.parse(url, {\r\n            download: true,\r\n            header: true,\r\n            complete: (results) => {\r\n                resolve(parseCsv(results['data']));\r\n            }\r\n        })\r\n    });\r\n}\r\n\r\n/**\r\n * Shuffles data and label using Fisher-Yates algorithm.\r\n */\r\nexport async function shuffle(data, label) {\r\n    let counter = data.length;\r\n    let temp = 0;\r\n    let index = 0;\r\n    while (counter > 0) {\r\n        index = (Math.random() * counter) | 0;\r\n        counter--;\r\n        // data:\r\n        temp = data[counter];\r\n        data[counter] = data[index];\r\n        data[index] = temp;\r\n        // label:\r\n        temp = label[counter];\r\n        label[counter] = label[index];\r\n        label[index] = temp;\r\n    }\r\n}\r\n\r\n/**\r\n * Calculate the arithmetic mean of a vector.\r\n *\r\n * @param {Array} vector The vector represented as an Array of Numbers.\r\n *\r\n * @returns {number} The arithmetic mean.\r\n */\r\nfunction mean(vector) {\r\n    let sum = 0;\r\n    for (const x of vector) {\r\n        sum += x;\r\n    }\r\n    return sum / vector.length;\r\n}\r\n\r\n/**\r\n * Calculate the standard deviation of a vector.\r\n *\r\n * @param {Array} vector The vector represented as an Array of Numbers.\r\n *\r\n * @returns {number} The standard deviation.\r\n */\r\nfunction stddev(vector) {\r\n    let squareSum = 0;\r\n    const vectorMean = mean(vector);\r\n    for (const x of vector) {\r\n        squareSum += (x - vectorMean) * (x - vectorMean);\r\n    }\r\n    return Math.sqrt(squareSum / (vector.length - 1));\r\n}\r\n\r\n/**\r\n * Normalize a vector by its mean and standard deviation.\r\n *\r\n * @param {Array} vector Vector to be normalized.\r\n * @param {number} vectorMean Mean to be used.\r\n * @param {number} vectorStddev Standard Deviation to be used.\r\n *\r\n * @returns {Array} Normalized vector.\r\n */\r\nconst normalizeVector = (vector, vectorMean, vectorStddev) => {\r\n    return vector.map(x => (x - vectorMean) / vectorStddev);\r\n};\r\n\r\n/**\r\n * Normalizes the dataset\r\n *\r\n * @param {Array} dataset Dataset to be normalized.\r\n * @param {boolean} isTrainData Whether it is training data or not.\r\n * @param {Array} vectorMeans Mean of each column of dataset.\r\n * @param {Array} vectorStddevs Standard deviation of each column of dataset.\r\n *\r\n * @returns {Object} Contains normalized dataset, mean of each vector column,\r\n *                   standard deviation of each vector column.\r\n */\r\nexport function normalizeDataset(\r\n    dataset, isTrainData = true, vectorMeans = [], vectorStddevs = []) {\r\n    const numFeatures = dataset[0].length;\r\n    let vectorMean;\r\n    let vectorStddev;\r\n\r\n    for (let i = 0; i < numFeatures; i++) {\r\n        const vector = dataset.map(row => row[i]);\r\n\r\n        if (isTrainData) {\r\n            vectorMean = mean(vector);\r\n            vectorStddev = stddev(vector);\r\n\r\n            vectorMeans.push(vectorMean);\r\n            vectorStddevs.push(vectorStddev);\r\n        } else {\r\n            vectorMean = vectorMeans[i];\r\n            vectorStddev = vectorStddevs[i];\r\n        }\r\n\r\n        const vectorNormalized =\r\n            normalizeVector(vector, vectorMean, vectorStddev);\r\n\r\n        vectorNormalized.forEach((value, index) => {\r\n            dataset[index][i] = value;\r\n        });\r\n    }\r\n\r\n    return { dataset, vectorMeans, vectorStddevs };\r\n}\r\n\r\n/**\r\n * Binarizes a tensor based on threshold of 0.5.\r\n *\r\n * @param {tf.Tensor} y Tensor to be binarized.\r\n * @param {number} threshold (default: 0.5).\r\n * @returns {tf.Tensor} Binarized tensor.\r\n */\r\nexport function binarize(y, threshold) {\r\n    if (threshold == null) {\r\n        threshold = 0.5;\r\n    }\r\n    tf.util.assert(\r\n        threshold >= 0 && threshold <= 1,\r\n        `Expected threshold to be >=0 and <=1, but got ${threshold}`);\r\n\r\n    return tf.tidy(() => {\r\n        const condition = y.greater(tf.scalar(threshold));\r\n        return tf.where(condition, tf.onesLike(y), tf.zerosLike(y));\r\n    });\r\n}\r\nexport function encode_name(key) {\r\n    let str_encoded = key.replace(/\\s/g, '').replace(/[^\\w-]/g, '_');\r\n    return str_encoded\r\n}\r\nexport function calculatePrecision(classIndex, confusionMatrix) {\r\n    let truePositive = confusionMatrix[classIndex][classIndex];\r\n    let falsePositive = 0;\r\n\r\n    for (let i = 0; i < confusionMatrix.length; i++) {\r\n        if (i !== classIndex) {\r\n            falsePositive += confusionMatrix[i][classIndex];\r\n        }\r\n    }\r\n\r\n    if (truePositive === 0 && falsePositive === 0) {\r\n        return 1;\r\n    }\r\n\r\n    return truePositive / (truePositive + falsePositive);\r\n}\r\n\r\nexport function calculateRecall(classIndex, confusionMatrix) {\r\n    let truePositive = confusionMatrix[classIndex][classIndex];\r\n    let falseNegative = 0;\r\n    for (let i = 0; i < confusionMatrix.length; i++) {\r\n        falseNegative += confusionMatrix[classIndex][i];\r\n    }\r\n    falseNegative -= truePositive;\r\n    if (truePositive === 0 && falseNegative === 0) {\r\n        return 1;\r\n    }\r\n    return truePositive / (truePositive + falseNegative);\r\n}\r\n\r\n\r\nexport function calculateF1Score(classIndex, confusionMatrix) {\r\n    const precision = calculatePrecision(classIndex, confusionMatrix);\r\n    const recall = calculateRecall(classIndex, confusionMatrix);\r\n    return (2 * precision * recall) / (precision + recall);\r\n}\r\n\r\nexport async function metrics(y, y_pred, labels) {\r\n    const context = {\r\n        y: y,\r\n        y_pred: y_pred,\r\n        labels: labels\r\n    };\r\n    const script = `\r\n        from sklearn.metrics import precision_recall_fscore_support, classification_report, f1_score,accuracy_score\r\n        from js import y_pred,y,labels       \r\n        from sklearn.metrics import recall_score,precision_score\r\n\r\n        precision = precision_score(y, y_pred, average=None,labels=labels)\r\n        recall = recall_score(y, y_pred, average=None,labels=labels)\r\n        f1_micro = f1_score(y, y_pred, average='micro')\r\n        f1_macro = f1_score(y, y_pred, average='macro')\r\n        accuracy = accuracy_score(y, y_pred)\r\n        (precision,recall,f1_micro,f1_macro,accuracy)\r\n    `;\r\n    try {\r\n        const { results, error } = await asyncRun(script, context);\r\n        if (results) {\r\n            return {\r\n                precision: results[0],\r\n                recall: results[1],\r\n                f1_micro: results[2],\r\n                f1_macro: results[3],\r\n                accuracy: results[4],\r\n\r\n            }\r\n        } else if (error) {\r\n            throw error\r\n        }\r\n    } catch (e) {\r\n        throw (\"Something went wrong\", e)\r\n    }\r\n}\r\nexport function calculateRSquared(actual, predicted) {\r\n    const meanActual = mean_array(actual);\r\n    const totalSumOfSquares = actual.reduce((acc, val) => acc + Math.pow(val - meanActual, 2), 0);\r\n    const residualSumOfSquares = actual.reduce((acc, val, index) => acc + Math.pow(val - predicted[index], 2), 0);\r\n    return 1 - (residualSumOfSquares / totalSumOfSquares);\r\n}\r\nexport function calculateMSE(actualValues, predictedValues) {\r\n    if (actualValues.length !== predictedValues.length) {\r\n        throw new Error(\"The lengths of actual values and predicted values must be the same.\");\r\n    }\r\n\r\n    const n = actualValues.length;\r\n    let sumSquaredError = 0;\r\n\r\n    for (let i = 0; i < n; i++) {\r\n        const squaredError = Math.pow(actualValues[i] - predictedValues[i], 2);\r\n        sumSquaredError += squaredError;\r\n    }\r\n\r\n    const meanSquaredError = sumSquaredError / n;\r\n    return meanSquaredError;\r\n}\r\nfunction mean_array(array) {\r\n    return array.reduce((acc, val) => acc + val, 0) / array.length;\r\n}\r\nexport function evaluate_classification(predictions, y_test, encoder) {\r\n    console.assert(predictions.length === y_test.length, \"predictions and test should have the same length.\")\r\n    let missclassification_indexes = []\r\n    let missclassification_preds = []\r\n    let currect_classifications_sum = 0\r\n    y_test.forEach((element, i) => {\r\n        if (element === predictions[i]) {\r\n            currect_classifications_sum++\r\n        } else {\r\n            missclassification_indexes.push(i)\r\n            let label = [predictions[i]]\r\n            let result = encoder.inverseTransform(label)\r\n            missclassification_preds.push(result[0])\r\n\r\n        }\r\n    });\r\n    return {\r\n        accuracy: Number((currect_classifications_sum / predictions.length) * 100),\r\n        indexes: missclassification_indexes,\r\n        mispredictions: missclassification_preds\r\n    }\r\n}\r\nexport function scale_data(dataset, column, normalization_type) {\r\n    try {\r\n\r\n\r\n        switch (normalization_type) {\r\n            case \"0\":\r\n                {\r\n                    break;\r\n                }\r\n            case \"1\":\r\n                {\r\n                    let scaler = new MinMaxScaler()\r\n                    scaler.fit(dataset[column])\r\n                    dataset.addColumn(column, scaler.transform(dataset[column]), { inplace: true })\r\n                    break;\r\n                }\r\n            case \"2\":\r\n                dataset.addColumn(column, dataset[column].apply((x) => x * x), { inplace: true })\r\n                break;\r\n            case \"3\":\r\n                dataset.addColumn(column, dataset[column].apply((x) => {\r\n                    let ln = Math.log(x);\r\n                    if (isNaN(ln)) {\r\n                        throw new Error('falied at data transformation.');\r\n                    }\r\n                    return Math.log(x)\r\n                }\r\n                ), { inplace: true })\r\n                break;\r\n            case \"4\":\r\n                {\r\n                    let scaler = new StandardScaler()\r\n                    scaler.fit(dataset[column])\r\n                    dataset.addColumn(column, scaler.transform(dataset[column]), { inplace: true })\r\n                    break;\r\n                }\r\n            default:\r\n                break;\r\n        }\r\n    } catch (error) {\r\n        throw new Error('falied at data transformation.')\r\n    }\r\n}\r\nexport function applyDataTransformation(dataset, column_names, transformations) {\r\n    for (let i = 0; i < column_names.length; i++) {\r\n        const column = column_names[i];\r\n        let transformation = transformations.find(transformation => transformation.name === column)\r\n        if (transformation) {\r\n            scale_data(dataset, column, transformation.scaler.toString())\r\n        }\r\n    }\r\n    return dataset\r\n}\r\nexport function handle_missing_values(data_frame, impute = false) {\r\n    // to do normalization\r\n    if (impute) {\r\n        let string_columns = []\r\n        let numeric_columns = []\r\n        let string_column_modes = []\r\n        let numeric_column_means = []\r\n        data_frame.columns.forEach((item) => {\r\n            if (data_frame.column(item)?.dtype === 'string') {\r\n                string_columns.push(item)\r\n            } else {\r\n                numeric_columns.push(item)\r\n            }\r\n        })\r\n        string_columns.forEach(element => {\r\n            let mode = getCategoricalMode(data_frame.column(element).values).mode\r\n            string_column_modes.push(mode)\r\n        });\r\n        numeric_columns.forEach(element => {\r\n            let mean = data_frame.column(element).mean()\r\n            numeric_column_means.push(mean)\r\n        });\r\n        data_frame = data_frame.fillNa(string_column_modes, { columns: string_columns })\r\n        data_frame = data_frame.fillNa(numeric_column_means, { columns: numeric_columns })\r\n    } else {\r\n        data_frame.dropNa({ axis: 1, inplace: true })\r\n    }\r\n    return data_frame\r\n}\r\nexport function getCategoricalMode(arr) {\r\n    if (arr.length === 0) {\r\n        return null;\r\n    }\r\n\r\n    const categoryCount = {};\r\n    categoryCount['total'] = 0\r\n    categoryCount['mode'] = ''\r\n    for (let i = 0; i < arr.length; i++) {\r\n        const category = arr[i];\r\n        if (category === null || category === undefined) {\r\n            continue\r\n        }\r\n        categoryCount['total']++\r\n        if (category in categoryCount) {\r\n            categoryCount[category]++;\r\n        } else {\r\n            categoryCount[category] = 1;\r\n        }\r\n    }\r\n\r\n    let modeCategory = null;\r\n    let modeCount = 0;\r\n    for (const category in categoryCount) {\r\n        if (category === 'total') {\r\n            continue\r\n        }\r\n        if (categoryCount[category] > modeCount) {\r\n            modeCategory = category;\r\n            modeCount = categoryCount[category];\r\n        }\r\n    }\r\n    categoryCount['mode'] = modeCategory;\r\n    return categoryCount;\r\n}\r\nexport function encode_dataset(data_frame, columns_types) {\r\n    let df = data_frame.copy()\r\n\r\n    let categorical_columns = columns_types.filter(column => column.type === FeatureCategories.Nominal.id || column.type === FeatureCategories.Ordinal.id)\r\n    let categoriclaFeaturesAfterEncoding = []\r\n    categorical_columns.forEach((column) => {\r\n        if (column.type === FeatureCategories.Ordinal.id) {\r\n            let encoder = new LabelEncoder()\r\n            encoder.fit(df[column.name])\r\n            let encoded_column = encoder.transform(df[column.name])\r\n            df.addColumn(column.name, encoded_column.values, { inplace: true })\r\n            categoriclaFeaturesAfterEncoding.push(column.name)\r\n        } else {\r\n            df = getDummies(df, { columns: [column.name] })\r\n            df.drop({ columns: [df.columns.find(m => m.includes(column.name + \"_\"))], inplace: true });\r\n            categoriclaFeaturesAfterEncoding.push(...df.columns.filter(m => m.includes(column.name + \"_\")))\r\n\r\n        }\r\n    })\r\n    return [df, categoriclaFeaturesAfterEncoding]\r\n}\r\n\r\nexport function merge_classes(classes, dataframe) {\r\n    let newClass = classes.map(m => m.class).join('_');\r\n    classes.forEach(cls => {\r\n        dataframe.replace(cls.class, newClass, { columns: [this.settings.modelTarget], inplace: true })\r\n    });\r\n    let message = { message: 'merged classes: ' + newClass, type: 'info' }\r\n    this.$buefy.toast.open('merged classes: ' + newClass)\r\n    this.settings.addMessage(message)\r\n}\r\n\r\n","import { asyncRun } from \"../py-worker\";\r\nexport default class TSNE {\r\n    constructor() {\r\n    }\r\n    async predict(x, n, seed = 123) {\r\n        this.context = {\r\n            x_train: x,\r\n            n: +n,\r\n            seed: seed\r\n        };\r\n        const script = `\r\n        import matplotlib.pyplot as plt\r\n        from sklearn.manifold import TSNE\r\n        import numpy as np\r\n        from js import x_train,n,seed\r\n        from sklearn.preprocessing import StandardScaler\r\n        X = np.array(x_train)\r\n        embedded = TSNE(n_components=n, learning_rate='auto', random_state=seed).fit_transform(X)\r\n        embedded\r\n    `;\r\n        try {\r\n            const { results, error } = await asyncRun(script, this.context);\r\n            if (results) {\r\n                return results;\r\n            } else if (error) {\r\n                throw Error(\"Faced errot fitting PCA\")\r\n            }\r\n        } catch (e) {\r\n            throw Error(\"Failed to fit PCA\")\r\n        }\r\n    }\r\n\r\n}\r\n","/* eslint-disable no-unused-vars */\r\n/* eslint-disable no-undef */\r\nimport PCA from './dimensionality-reduction/pca';\r\nimport { binarize } from './utils'\r\nimport { equalIntervalBreaks, kernelDensityEstimation, standardDeviation, interquartileRange } from \"simple-statistics\"\r\nimport { schemeTableau10, interpolateBlues, interpolateRainbow } from 'd3-scale-chromatic';\r\nimport { FeatureCategories } from \"./settings\";\r\nimport { metrics as ClassificationMetric, encode_name } from './utils.js';\r\nimport { metrics } from '@tensorflow/tfjs-vis/';\r\nimport { scale_data } from './utils';\r\nimport { corrcoeff } from 'jstat'\r\nimport { tensorflow, LabelEncoder, MinMaxScaler } from '@/utils/danfo_loader';\r\nimport TSNE from './dimensionality-reduction/tsne';\r\nconst plotlyImageExportConfig = {\r\n    toImageButtonOptions: {\r\n        format: 'png', // one of png, svg, jpeg, webp\r\n        height: null,\r\n        width: null,\r\n        scale: 2\r\n    }\r\n};\r\nexport default class ChartController {\r\n    constructor() {\r\n        this.color_scheme = schemeTableau10;\r\n        this.color_scheme_sequential = interpolateRainbow;\r\n\r\n    }\r\n\r\n    // eslint-disable-next-line no-unused-vars\r\n    classification_target_chart(values, labels, name, container, title = \"\") {\r\n        var uniqueLabels = [...new Set(labels)];\r\n        var colorIndices = labels.map(label => this.indexToColor(uniqueLabels.indexOf(label)));\r\n        var data = [];\r\n        data.push({\r\n            name: \"Count\",\r\n            data: values.map((item, i) => ({ y: item, color: colorIndices[i] }))\r\n        })\r\n\r\n        Highcharts.chart(container, {\r\n            credits: {\r\n                enabled: false\r\n            },\r\n            title: {\r\n                text: \"\"\r\n            },\r\n            chart: {\r\n                type: 'column'\r\n            },\r\n            xAxis: {\r\n                categories: uniqueLabels,\r\n            },\r\n            yAxis: {\r\n                min: 0,\r\n            },\r\n            plotOptions: {\r\n                column: {\r\n                    pointPadding: 0.1,\r\n                    borderWidth: 0\r\n                }\r\n            },\r\n            colors: colorIndices,\r\n            series: data\r\n        });\r\n    }\r\n    regression_target_chart(items, container, name) {\r\n        let kde_data = [];\r\n        let ys = [];\r\n        let items_range = items\r\n        var breaks = equalIntervalBreaks(items_range, 100);\r\n        let kde = kernelDensityEstimation(items, 'gaussian', 'nrd');\r\n        breaks.forEach((item) => {\r\n            ys.push(kde(item, 'nrd'));\r\n            kde_data.push([item, ys[ys.length - 1]]);\r\n        });\r\n\r\n\r\n        Highcharts.chart(container, {\r\n            credits: {\r\n                enabled: false\r\n            },\r\n            legend: {\r\n                enabled: false,\r\n                verticalAlign: 'top',\r\n            },\r\n            chart: {\r\n                height: '300',\r\n                type: \"spline\",\r\n                animation: true,\r\n            },\r\n            title: {\r\n                text: name // Assuming `column` is defined elsewhere\r\n            },\r\n            yAxis: {\r\n                title: { text: null }\r\n            },\r\n            tooltip: {\r\n                valueDecimals: 3\r\n            },\r\n            plotOptions: {\r\n                series: {\r\n                    marker: {\r\n                        enabled: false\r\n                    },\r\n                    dashStyle: \"shortdot\",\r\n                    area: true\r\n                }\r\n            },\r\n            series: [{\r\n                type: 'area',\r\n                dashStyle: \"solid\",\r\n                lineWidth: 2,\r\n                data: kde_data\r\n            }]\r\n        });\r\n    }\r\n    draw_categorical_barplot(column_values, target, title) {\r\n        const key = title + \"- barplot\";\r\n        $(\"#categories_barplots\").append(`<div class=\"column is-4\" style=\"height:40vh;\" id=\"${key}\"></div>`)\r\n        const countOccurrences = column_values.reduce((acc, val) => {\r\n            acc[val] = (acc[val] || 0) + 1;\r\n            return acc;\r\n        }, {});\r\n        const countArray = Object.entries(countOccurrences).map(([value, count]) => ({ value: value, count }));\r\n        countArray.sort((a, b) => b.count - a.count);\r\n        const top5 = countArray.slice(0, 5);\r\n        new Highcharts.Chart({\r\n            chart: {\r\n                renderTo: key,\r\n                type: 'column'\r\n            },\r\n            xAxis: {\r\n                categories: top5.map(m => m.value),\r\n            },\r\n            title: {\r\n                text: title\r\n            },\r\n            yAxis: {\r\n                min: 0,\r\n                labels: {\r\n                    overflow: 'justify'\r\n                }\r\n            },\r\n            credits: {\r\n                enabled: false\r\n            },\r\n            plotOptions: {\r\n                bar: {\r\n                    dataLabels: {\r\n                        enabled: true\r\n                    }\r\n                }\r\n            },\r\n            series: [{\r\n                showInLegend: false,\r\n                name: title,\r\n                data: top5.map(m => m.count)\r\n            }]\r\n        });\r\n\r\n    }\r\n    roc_chart(container, true_positive_rates, false_positive_rates) {\r\n        var trace = {\r\n            x: false_positive_rates,\r\n            y: true_positive_rates,\r\n            type: 'scatter',\r\n            mode: 'lines',\r\n            name: 'ROC Curve',\r\n        };\r\n        var trace2 = {\r\n            x: [0, 1],\r\n            y: [0, 1],\r\n            type: 'scatter',\r\n            name: 'diagonal',\r\n        };\r\n        var layout = {\r\n            showlegend: false,\r\n            title: 'ROC Curve',\r\n            xaxis: { title: 'False Positive Rate' },\r\n            yaxis: { title: 'True Positive Rate' },\r\n        };\r\n\r\n        var data = [trace, trace2];\r\n\r\n        Plotly.newPlot(container, data, layout);\r\n    }\r\n    falsePositives(yTrue, yPred) {\r\n        return tf.tidy(() => {\r\n            const one = tf.scalar(1);\r\n            const zero = tf.scalar(0);\r\n            return tf.logicalAnd(yTrue.equal(zero), yPred.equal(one))\r\n                .sum()\r\n                .cast('float32');\r\n        });\r\n    }\r\n    indexToColor(index, max) {\r\n        return this.color_scheme_sequential((index + 1) / max);\r\n    }\r\n    indexToColorSequential(value, min, max) {\r\n        let normalizer_value = (value - min) / (max - min)\r\n        return this.color_scheme_sequential(normalizer_value);\r\n    }\r\n    reshape(array, shape) {\r\n        if (shape.length === 0) return array[0];\r\n\r\n        const [size, ...restShape] = shape;\r\n        const result = [];\r\n        const restSize = restShape.reduce((a, b) => a * b, 1);\r\n        console.log(restSize);\r\n\r\n        for (let i = 0; i < size; i++) {\r\n            result.push(this.reshape(array.slice(i * restSize, (i + 1) * restSize), restShape));\r\n        }\r\n\r\n        return result;\r\n    }\r\n    async plot_tsne(data, is_classification, labels, seed, n) {\r\n        labels = labels.flat()\r\n        const tsne = new TSNE();\r\n        let Y = await tsne.predict(data, n, seed)\r\n        let tsneComponents = Y[0].length\r\n        let tsne_traces = []\r\n        let index = 1;\r\n        let colors = []\r\n        if (is_classification) {\r\n            var uniqueLabels = [...new Set(labels.flat())];\r\n            colors = labels.map(l => this.indexToColor(uniqueLabels.indexOf(l), uniqueLabels.length));\r\n        } else {\r\n            let max = Math.max(...labels)\r\n            let min = Math.min(...labels)\r\n            colors = labels.map(item => this.indexToColorSequential(item, min, max));\r\n        }\r\n        for (let i = 0; i < tsneComponents; i++) {\r\n            for (let j = 0; j < tsneComponents; j++) {\r\n                if (j < i) {\r\n                    let x = Y.map(values => values[j]);\r\n                    let y = Y.map(values => values[i]);\r\n                    tsne_traces.push({\r\n                        x: x,\r\n                        y: y,\r\n                        mode: 'markers',\r\n                        type: 'scatter',\r\n                        xaxis: 'x' + (index),\r\n                        yaxis: 'y' + (index),\r\n                        marker: {\r\n                            color: colors,\r\n                            size: 2,\r\n                        },\r\n                    })\r\n\r\n                }\r\n                index++;\r\n            }\r\n        }\r\n        var layout = {\r\n            width: tsneComponents * 150,\r\n            height: tsneComponents * 150,\r\n            spacing: 0,\r\n            title: {\r\n                text: 'TSNE Matrix',\r\n                font: {\r\n                    size: 14\r\n                },\r\n                xref: 'paper',\r\n                x: 0.05,\r\n            },\r\n            showlegend: false,\r\n            boxmode: 'overlay',\r\n            grid: { rows: tsneComponents, xgap: 0.0, ygap: 0.0, columns: tsneComponents, pattern: 'independent' },\r\n            margin: { t: 30, r: 30, l: 30, b: 40 },\r\n        };\r\n        for (var i = 0; i < tsneComponents; i++) {\r\n            for (var j = 0; j < tsneComponents; j++) {\r\n                var xAxisKey = 'xaxis' + ((i * tsneComponents) + j + 1);\r\n                var yAxisKey = 'yaxis' + ((i * tsneComponents) + j + 1);\r\n                let fontSize = 10;\r\n                layout[xAxisKey] = {\r\n                    linecolor: 'black',\r\n                    linewidth: 1,\r\n                    mirror: true,\r\n                    showgrid: false,\r\n                    showticklabels: false,\r\n                    tickfont: {\r\n                        size: fontSize\r\n                    },\r\n                };\r\n                layout[yAxisKey] = {\r\n                    linecolor: 'black',\r\n                    linewidth: 1,\r\n                    mirror: true,\r\n                    showgrid: false,\r\n                    showticklabels: false,\r\n                    tickfont: {\r\n                        size: fontSize\r\n                    },\r\n                };\r\n                if (i === tsneComponents - 1) {\r\n                    layout[xAxisKey] = {\r\n                        linecolor: 'black',\r\n                        linewidth: 1,\r\n                        mirror: true,\r\n                        tickfont: {\r\n                            size: fontSize\r\n                        },\r\n                        title: {\r\n                            text: 'Component-' + (j + 1), font: {\r\n                                size: fontSize\r\n                            },\r\n                        }\r\n                    };\r\n\r\n                }\r\n                if (j === 0) {\r\n                    layout[yAxisKey] = {\r\n                        linecolor: 'black',\r\n                        linewidth: 1,\r\n                        mirror: true,\r\n                        tickfont: {\r\n                            size: fontSize\r\n                        },\r\n                        title: {\r\n                            text: 'Component-' + (i + 1), font: {\r\n                                size: fontSize\r\n                            },\r\n                        }\r\n                    };\r\n                }\r\n            }\r\n        }\r\n        Plotly.react('tsne', tsne_traces, layout, {\r\n            ...plotlyImageExportConfig,\r\n            staticPlot: true,\r\n        })\r\n\r\n    }\r\n    trueNegatives(yTrue, yPred) {\r\n        return tf.tidy(() => {\r\n            const zero = tf.scalar(0);\r\n            return tf.logicalAnd(yTrue.equal(zero), yPred.equal(zero))\r\n                .sum()\r\n                .cast('float32');\r\n        });\r\n    }\r\n\r\n    // TODO(cais): Use tf.metrics.falsePositiveRate when available.\r\n    falsePositiveRate(yTrue, yPred) {\r\n        return tf.tidy(() => {\r\n            const fp = this.falsePositives(yTrue, yPred);\r\n            const tn = this.trueNegatives(yTrue, yPred);\r\n            return fp.div(fp.add(tn));\r\n        });\r\n    }\r\n    drawROC(targets, probs) {\r\n\r\n        return tf.tidy(() => {\r\n            const thresholds = [\r\n                0.0, 0.05, 0.1, 0.15, 0.2, 0.25, 0.3, 0.35, 0.4, 0.45, 0.5, 0.55,\r\n                0.6, 0.65, 0.7, 0.75, 0.8, 0.85, 0.9, 0.92, 0.94, 0.96, 0.98, 1.0\r\n            ];\r\n            const tprs = [];  // True positive rates.\r\n            const fprs = [];  // False positive rates.\r\n            let area = 0;\r\n            for (let i = 0; i < thresholds.length; ++i) {\r\n                const threshold = thresholds[i];\r\n                const threshPredictions = binarize(probs, threshold).as1D();\r\n\r\n                const fpr = this.falsePositiveRate(targets, threshPredictions).dataSync()[0];\r\n                const tpr = tf.metrics.recall(targets, threshPredictions).dataSync()[0];\r\n\r\n                fprs.push(fpr);\r\n                tprs.push(tpr);\r\n                // Accumulate to area for AUC calculation.\r\n                if (i > 0) {\r\n                    area += (tprs[i] + tprs[i - 1]) * (fprs[i - 1] - fprs[i]) / 2;\r\n                }\r\n            }\r\n            return [area, fprs, tprs];\r\n        });\r\n    }\r\n    nrd(x) {\r\n        let s = standardDeviation(x);\r\n        const iqr = interquartileRange(x);\r\n        if (typeof iqr === \"number\") {\r\n            s = Math.min(s, iqr / 1.34);\r\n        }\r\n        return 1.06 * s * Math.pow(x.length, -0.2);\r\n    }\r\n    hexToRgb(hex) {\r\n        var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n        return result ? {\r\n            r: parseInt(result[1], 16),\r\n            g: parseInt(result[2], 16),\r\n            b: parseInt(result[3], 16),\r\n            a: 0.5\r\n        } : null;\r\n    }\r\n    kernelFunctions = {\r\n        gaussian: function (u) {\r\n            return Math.exp(-0.5 * u * u) / Math.sqrt(2 * Math.PI);\r\n        },\r\n        uniform: function (x) {\r\n            return Math.abs(x) <= 1 ? 0.5 : 0;\r\n        },\r\n        triangular: function (x) {\r\n            return Math.abs(x) <= 1 ? 1 - Math.abs(x) : 0;\r\n        },\r\n        biweight: function (x) {\r\n            return Math.abs(x) <= 1 ? 15 / 16 * Math.pow(1 - x * x, 2) : 0;\r\n        },\r\n        triweight: function (x) {\r\n            return Math.abs(x) <= 1 ? 35 / 32 * Math.pow(1 - x * x, 3) : 0;\r\n        },\r\n        Epanechnikov: function (x) {\r\n            return Math.abs(x) <= 1 ? 0.75 * (1 - x * x) : 0;\r\n        }\r\n    };\r\n\r\n    draw_kde(dataset, column, target_name, bandwidth = \"nrd\", is_classification = false, redrawing = false) {\r\n        try {\r\n\r\n\r\n            let items = dataset.column(column).values;\r\n            let default_bandwidth = this.nrd(items).toFixed(2);\r\n            let raw_values = dataset.loc({ columns: [column, target_name] });\r\n            let uniqueLabels = [...new Set(raw_values.column(target_name).values)];\r\n            if (uniqueLabels.length === 2) {\r\n                uniqueLabels.sort()\r\n            }\r\n            let column_values = raw_values.values;\r\n            let subsets = [];\r\n            var colorIndices = uniqueLabels.map(label => this.indexToColor(uniqueLabels.indexOf(label), uniqueLabels.legend));\r\n            if (!is_classification) {\r\n                subsets.push(dataset[column].values);\r\n            } else {\r\n                for (let i = 0; i < uniqueLabels.length; i++) {\r\n                    const label = uniqueLabels[i];\r\n                    let subset = [];\r\n                    for (let i = 0; i < column_values.length; i++) {\r\n                        const item = column_values[i];\r\n                        if (item[1] === label) {\r\n                            subset.push(item[0])\r\n                        }\r\n                    }\r\n                    subsets.push(subset);\r\n                }\r\n            }\r\n\r\n            document.getElementById(\"kde_panel\").style.display = \"block\";\r\n\r\n            var newColumn = document.createElement(\"div\");\r\n            newColumn.className = \"column is-3\";\r\n            newColumn.setAttribute(\"id\", column + '-kde-plot');\r\n            if (!redrawing) {\r\n                let key = encode_name(column)\r\n\r\n                $(\"#container\").append(\r\n                    `<div class=\"column is-4 is-size-6-tablet my-1\">\r\n                <div class=\"columns is-multiline\">\r\n                <div class=\"column is-12\" >\r\n                    <div id=\"${key + '-kde-plot'}\"> </div>\r\n                    <div id=\"${key + '-boxplot'}\" style=\"height:20vh;width: 100%\">\r\n                    </div>\r\n                    <div class=\"field has-addons has-addons-centered my-1\">\r\n                    <div class=\"control\">\r\n                    <span class=\"select is-small\">\r\n                      <select id=\"${key + '-kernel_type'}\">\r\n                      <option value=\"gaussian\">gaussian</option>\r\n                        <option value=\"uniform\">uniform</option>\r\n                        <option value=\"triangular\">triangular</option>\r\n                        <option value=\"biweight\">biweight</option>\r\n                        <option value=\"triweight\">triweight</option>\r\n                        <option value=\"Epanechnikov\">Epanechnikov</option>\r\n                      </select>\r\n                    </span>\r\n                    <p class=\"help is-success\">Kernel</p>\r\n                  </div>\r\n                  <div class=\"control\">\r\n                        <div class=\"select is-small\">\r\n                            <select id=\"${key + '--normal'}\">\r\n                                <option value=\"0\">No</option>\r\n                                <option value=\"1\">Scale</option>\r\n                                <option value=\"2\">x^2</option>\r\n                                <option value=\"3\">ln(x)</option>\r\n                                <option value=\"4\">Standardize </option>\r\n                            </select>\r\n                        </div>\r\n                    <p class=\"help is-success\">Normalization</p>\r\n                    </div>\r\n                        <div class=\"control\">\r\n                            <input class=\"input is-small\" type=\"number\"  min=\"0\" id=\"${key + '-kde'}\" value=\"${default_bandwidth}\">\r\n                            <p class=\"help is-success\">Bandwidth</p>\r\n                        </div>\r\n                        <p class=\"control\">\r\n                            <a class=\"button is-success is-small\" id=\"${key + '-kde-button'}\">\r\n                                Apply\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                  </div>\r\n                </div>`\r\n                );\r\n                document.getElementById(key + '--normal').addEventListener('change', function () {\r\n                    const target = document.getElementById(\"target\").value;\r\n                    let is_classification = document.getElementById(target).value !== FeatureCategories.Numerical;\r\n                    let data = dataset.loc({ columns: [column, target] });\r\n                    let normalization_type = document.getElementById(key + '--normal').value\r\n                    scale_data(data, column, normalization_type)\r\n                    data.dropNa({ axis: 1, inplace: true })\r\n                    var newBandwidth = parseFloat(document.getElementById(key + '-kde').value);\r\n                    current_class.draw_kde(data, column, target, newBandwidth, is_classification, true);\r\n                });\r\n            }\r\n            var current_class = this;\r\n            let key = encode_name(column)\r\n\r\n            document.getElementById(key + '-kde-button').addEventListener(\"click\", function () {\r\n                const target = document.getElementById(\"target\").value;\r\n                let is_classification = document.getElementById(target).value !== FeatureCategories.Numerical;\r\n                let data = dataset.loc({ columns: [column, target] });\r\n                let normalization_type = document.getElementById(key + '--normal').value\r\n                scale_data(data, column, normalization_type)\r\n                var newBandwidth = parseFloat(document.getElementById(key + '-kde').value);\r\n                data.dropNa({ axis: 1, inplace: true })\r\n                current_class.draw_kde(data, column, target, newBandwidth, is_classification, true);\r\n            });\r\n            let container_id = key + '-kde-plot';\r\n            let items_range = [...raw_values.column(column).values]\r\n            // let minValue = Math.min(...items_range);\r\n            // let maxValue = Math.max(...items_range);\r\n            // items_range.push(minValue - parseFloat(default_bandwidth))\r\n            // items_range.push(maxValue + parseFloat(default_bandwidth))\r\n            var breaks = equalIntervalBreaks(items_range, 100);\r\n            let allData = [];\r\n            let kernel_type = document.getElementById(key + \"-kernel_type\")?.value ?? \"gaussian\"\r\n            // Loop through subsets to generate data for all subsets\r\n            let traces = []\r\n            let kde;\r\n            if (is_classification) {\r\n                for (let i = 0; i < subsets.length; i++) {\r\n                    if (subsets[i].length > 2) {\r\n                        let ys = [];\r\n                        kde = kernelDensityEstimation(subsets[i], this.kernelFunctions[kernel_type], bandwidth);\r\n                        let data = [];\r\n                        breaks.forEach((item) => {\r\n                            ys.push(kde(item, bandwidth));\r\n                            data.push([item, ys[ys.length - 1]]);\r\n                        });\r\n                        allData.push(data);\r\n                    } else {\r\n                        allData.push([]);\r\n                    }\r\n                    traces.push({\r\n                        name: uniqueLabels[i],\r\n                        x: subsets[i],\r\n                        marker: {\r\n                            color: colorIndices[i]\r\n                        },\r\n                        type: 'box',\r\n                    })\r\n                }\r\n            } else {\r\n                for (let i = 0; i < subsets.length; i++) {\r\n                    if (subsets[i].length > 2) {\r\n                        let ys = [];\r\n                        kde = kernelDensityEstimation(subsets[i], this.kernelFunctions[kernel_type], bandwidth);\r\n                        let data = [];\r\n                        breaks.forEach((item) => {\r\n                            ys.push(kde(item, bandwidth));\r\n                            data.push([item, ys[ys.length - 1]]);\r\n                        });\r\n                        allData.push(data);\r\n                    } else {\r\n                        allData.push([]);\r\n                    }\r\n                }\r\n                traces.push({\r\n                    name: column,\r\n                    x: items,\r\n                    type: 'box',\r\n                })\r\n            }\r\n\r\n            let animationDuration = 4000;\r\n\r\n            var layout = {\r\n\r\n                yaxis: {\r\n                    visible: false,\r\n                },\r\n                showlegend: false,\r\n                margin: {\r\n                    l: 20,\r\n                    r: 10,\r\n                    b: 60,\r\n                    t: 10,\r\n                },\r\n                legend: {\r\n                    x: 1,\r\n                    xanchor: 'right',\r\n                    y: 1\r\n                },\r\n            };\r\n            Plotly.newPlot(key + '-boxplot', traces, layout, { autosize: true, responsive: true, modeBarButtonsToRemove: ['pan', 'resetScale2d', 'select2d', 'resetViews', 'sendDataToCloud', 'hoverCompareCartesian', 'lasso2d', 'drawopenpath '] });\r\n            Highcharts.chart(container_id, {\r\n                credits: {\r\n                    enabled: false\r\n                },\r\n                legend: {\r\n                    enabled: is_classification ? true : false, align: 'right',\r\n                    verticalAlign: 'top',\r\n                },\r\n                chart: {\r\n                    height: '300',\r\n                    type: \"spline\",\r\n                    animation: true,\r\n                },\r\n                title: {\r\n                    text: column // Assuming `column` is defined elsewhere\r\n                },\r\n                yAxis: {\r\n                    title: { text: null }\r\n                },\r\n                tooltip: {\r\n                    valueDecimals: 3\r\n                },\r\n                plotOptions: {\r\n                    series: {\r\n                        marker: {\r\n                            enabled: false\r\n                        },\r\n                        dashStyle: \"shortdot\",\r\n                        color: colorIndices,\r\n                        animation: {\r\n                            duration: animationDuration\r\n                        },\r\n                        area: true\r\n                    }\r\n                },\r\n                series: allData.map((data, index) => ({\r\n                    type: 'area',\r\n                    name: uniqueLabels[index],\r\n                    dashStyle: \"solid\",\r\n                    lineWidth: 2,\r\n                    color: colorIndices[index],\r\n                    data: data\r\n                }))\r\n            });\r\n            window.dispatchEvent(new Event('resize'));\r\n        } catch (error) {\r\n            throw new Error('falied at plotting kde.')\r\n        }\r\n    }\r\n    downloadPlot(container) {\r\n        Plotly.toImage(container, {\r\n            format: 'png',\r\n            width: null,\r\n            height: null,\r\n            scale: 2\r\n        }).then(function (dataUrl) {\r\n            const a = document.createElement('a');\r\n            a.href = dataUrl;\r\n            a.download = 'plot.png';\r\n            document.body.appendChild(a);\r\n            a.click();\r\n            document.body.removeChild(a);\r\n        });\r\n    }\r\n    async classificationPCA(dataset, labels, missclassifications, uniqueLabels, index, n) {\r\n        labels = labels.flat()\r\n        const pca = new PCA();\r\n        var colorIndices = labels.map(label => this.indexToColor(uniqueLabels.indexOf(label), uniqueLabels.length));\r\n        const pca_data = await pca.predict(dataset, n)\r\n        let x = []\r\n        let y = []\r\n        let x_error = []\r\n        let y_error = []\r\n        let error_texts = []\r\n        let real_labels = []\r\n        let missclassificationColors = []\r\n        let truePredsColors = []\r\n        pca_data[0].forEach((element, i) => {\r\n            if (missclassifications['indexes'].includes(i)) {\r\n                let index = missclassifications['indexes'].findIndex(index => index == i)\r\n                error_texts.push(dataset[i].join())\r\n                real_labels.push([labels[i], missclassifications['mispredictions'][index]])\r\n                x_error.push(element[0])\r\n                y_error.push(element[1])\r\n                missclassificationColors.push(colorIndices[i])\r\n            } else {\r\n                x.push(element[0])\r\n                y.push(element[1])\r\n                truePredsColors.push(colorIndices[i])\r\n            }\r\n\r\n        });\r\n        var trace1 = {\r\n            x: x,\r\n            y: y,\r\n            name: 'Predictions',\r\n            text: labels,\r\n            mode: 'markers',\r\n            type: 'scatter',\r\n            marker: {\r\n                size: 4,\r\n                color: truePredsColors,\r\n                symbol: 'circle'\r\n            },\r\n        };\r\n        var trace2 = {\r\n            name: 'Missclassifications',\r\n            x: x_error,\r\n            y: y_error,\r\n            text: error_texts,\r\n            customdata: real_labels,\r\n            mode: 'markers',\r\n            type: 'scatter',\r\n            marker: {\r\n                size: 7,\r\n                color: missclassificationColors,\r\n                symbol: 'cross'\r\n            },\r\n            hovertemplate:\r\n                \"Features : %{text}<br>\" +\r\n                \"True class: %{customdata[0]}<br>\" +\r\n                \"Predited class: %{customdata[1]}\" +\r\n                \"<extra></extra>\"\r\n\r\n        };\r\n        var data = [trace1, trace2];\r\n\r\n        Plotly.newPlot('pca_results_' + index, data, {\r\n            title: {\r\n                text: 'Principle Component Analysis of Predictions'\r\n            },\r\n            hovermode: \"closest\",\r\n            hoverlabel: { bgcolor: \"#FFF\" },\r\n            showlegend: true,\r\n            legend: {\r\n                x: 1,\r\n                xanchor: 'right',\r\n                y: 1,\r\n                bgcolor: 'rgba(0,0,0,0)',\r\n\r\n            },\r\n            xaxis: {\r\n                linecolor: 'black',\r\n                linewidth: 1,\r\n                mirror: true,\r\n                title: 'PC1'\r\n            },\r\n            yaxis: {\r\n                linecolor: 'black',\r\n                linewidth: 1,\r\n                mirror: true,\r\n                title: 'PC2'\r\n            }\r\n        }, { ...plotlyImageExportConfig, staticPlot: false, responsive: true, modeBarButtonsToRemove: ['resetScale2d', 'select2d', 'resetViews', 'sendDataToCloud', 'hoverCompareCartesian', 'lasso2d', 'drawopenpath '] });\r\n\r\n    }\r\n    purge_charts(id) {\r\n        Plotly.purge(id)\r\n    }\r\n    async draw_pca(dataset, is_classification, labels, numberOfComponents, axes, columns, drawScreePlot = false) {\r\n        const pca = new PCA();\r\n        labels = labels.flat()\r\n        const [pca_data, _, explained_variances, circels, distances] = await pca.predict(dataset, numberOfComponents)\r\n        let pcaComponents = pca_data[0].length;\r\n\r\n        let x = []\r\n        let pca_traces = []\r\n        for (let i = 0; i < axes.length; i++) {\r\n            let principle_components = []\r\n            let axis = axes[i]\r\n            pca_data.forEach((element, i) => {\r\n                principle_components.push({\r\n                    x: element[axis[0] - 1],\r\n                    y: element[axis[1] - 1],\r\n                    label: labels[i]\r\n                })\r\n                x.push(labels[i][0])\r\n            });\r\n        }\r\n        pca_traces = []\r\n        let index = 1;\r\n        let colors = []\r\n        if (is_classification) {\r\n            var uniqueLabels = [...new Set(labels)];\r\n            colors = labels.map(l => this.indexToColor(uniqueLabels.indexOf(l), uniqueLabels.length));\r\n        } else {\r\n            let max = Math.max(...labels)\r\n            let min = Math.min(...labels)\r\n            colors = labels.map(item => this.indexToColorSequential(item, min, max));\r\n        }\r\n        for (let i = 0; i < pcaComponents; i++) {\r\n            for (let j = 0; j < pcaComponents; j++) {\r\n                if (j < i) {\r\n                    let x = pca_data.map(pca_values => pca_values[j]);\r\n                    let y = pca_data.map(pca_values => pca_values[i]);\r\n                    pca_traces.push({\r\n                        x: x,\r\n                        y: y,\r\n                        mode: 'markers',\r\n                        type: 'scatter',\r\n                        xaxis: 'x' + (index),\r\n                        yaxis: 'y' + (index),\r\n                        marker: {\r\n                            color: colors,\r\n                            size: 2,\r\n                        },\r\n                    })\r\n\r\n                } else if (j > i) {\r\n                    let x = pca_data.map(data => data[j]);\r\n                    let y = dataset.map(data => data[i]);\r\n                    pca_traces.push({\r\n                        x: x,\r\n                        y: y,\r\n                        mode: 'markers',\r\n                        type: 'scatter',\r\n                        xaxis: 'x' + (index),\r\n                        yaxis: 'y' + (index),\r\n                        marker: {\r\n                            color: colors,\r\n                            size: 2,\r\n                        },\r\n                    })\r\n                } else {\r\n                    let x = pca_data.map(data => data[j]);\r\n                    let y = dataset.map(data => data[i]);\r\n                    pca_traces.push({\r\n                        x: x,\r\n                        y: y,\r\n                        mode: 'markers',\r\n                        type: 'scattergl',\r\n                        xaxis: 'x' + (index),\r\n                        yaxis: 'y' + (index),\r\n                        marker: {\r\n                            color: colors,\r\n                            size: 2,\r\n                        },\r\n                    })\r\n                }\r\n                index++;\r\n            }\r\n        }\r\n        var layout = {\r\n            width: pcaComponents * 150,\r\n            height: pcaComponents * 150,\r\n            spacing: 0,\r\n            title: {\r\n                text: 'PCA Matrix',\r\n                font: {\r\n                    size: 14\r\n                },\r\n                xref: 'paper',\r\n                x: 0.05,\r\n            },\r\n            showlegend: false,\r\n            boxmode: 'overlay',\r\n            grid: { rows: pcaComponents, xgap: 0.0, ygap: 0.0, columns: pcaComponents, pattern: 'independent' },\r\n            margin: { t: 30, r: 30, l: 30, b: 40 },\r\n        };\r\n        for (var i = 0; i < pcaComponents; i++) {\r\n            for (var j = 0; j < pcaComponents; j++) {\r\n                var xAxisKey = 'xaxis' + ((i * pcaComponents) + j + 1);\r\n                var yAxisKey = 'yaxis' + ((i * pcaComponents) + j + 1);\r\n                let fontSize = 10;\r\n                layout[xAxisKey] = {\r\n                    linecolor: 'black',\r\n                    linewidth: 1,\r\n                    mirror: true,\r\n                    showgrid: false,\r\n                    showticklabels: false,\r\n                    tickfont: {\r\n                        size: fontSize\r\n                    },\r\n                };\r\n                layout[yAxisKey] = {\r\n                    linecolor: 'black',\r\n                    linewidth: 1,\r\n                    mirror: true,\r\n                    showgrid: false,\r\n                    showticklabels: false,\r\n                    tickfont: {\r\n                        size: fontSize\r\n                    },\r\n                };\r\n                if (i === pcaComponents - 1) {\r\n                    layout[xAxisKey] = {\r\n                        linecolor: 'black',\r\n                        linewidth: 1,\r\n                        mirror: true,\r\n                        tickfont: {\r\n                            size: fontSize\r\n                        },\r\n                        title: {\r\n                            text: 'PC-' + (j + 1), font: {\r\n                                size: fontSize\r\n                            },\r\n                        }\r\n                    };\r\n\r\n                }\r\n                if (j === 0) {\r\n                    layout[yAxisKey] = {\r\n                        linecolor: 'black',\r\n                        linewidth: 1,\r\n                        mirror: true,\r\n                        tickfont: {\r\n                            size: fontSize\r\n                        },\r\n                        title: {\r\n                            text: 'PC-' + (i + 1), font: {\r\n                                size: fontSize\r\n                            },\r\n                        }\r\n                    };\r\n                }\r\n            }\r\n        }\r\n        Plotly.newPlot('pca_matrix', pca_traces, layout, {\r\n            ...plotlyImageExportConfig,\r\n            staticPlot: true,\r\n        })\r\n\r\n        let arrows = [];\r\n        let shapes = []\r\n\r\n        distances.forEach((distance, i) => {\r\n            arrows.push({\r\n                axref: 'x',\r\n                x: 0,\r\n                ayref: 'y',\r\n                y: 0,\r\n                arrowside: 'start',\r\n                arrowcolor: this.indexToColor(i, distances.length),\r\n                font: {\r\n                    color: this.indexToColor(i, distances.length),\r\n                    size: 8\r\n                },\r\n                xanchor: 'left',   // Align text properly\r\n                yanchor: 'top', // Align text properly\r\n                arrowwidth: 1.2,\r\n                arrowhead: 5,\r\n                text: columns[i],\r\n                hovertext: columns[i] + `(${circels[i][0].toFixed(2)},${circels[i][1].toFixed(2)})`,\r\n                ax: circels[i][0],\r\n                ay: circels[i][1],\r\n            });\r\n        })\r\n        shapes = [\r\n            {\r\n                type: 'circle',\r\n                xref: 'x',\r\n                yref: 'y',\r\n                x0: -1,\r\n                y0: -1,\r\n                x1: 1,\r\n                y1: 1,\r\n                line: {\r\n                    color: 'rgba(50, 171, 96, 1)'\r\n                }\r\n            },\r\n\r\n        ]\r\n\r\n        Plotly.newPlot('correlation_circle', [{\r\n            x: [],\r\n            y: [],\r\n            type: 'scattergl',\r\n            mode: 'markers'\r\n        }], {\r\n            title: {\r\n                text: 'Biplot',\r\n                font: {\r\n                    size: 14\r\n                },\r\n                xref: 'paper',\r\n                x: 0.05,\r\n            },\r\n            annotations: arrows,\r\n            shapes: shapes,\r\n            showlegend: true,\r\n            height: 300,\r\n            width: 300,\r\n            margin: {\r\n                l: 60,\r\n                r: 40,\r\n                b: 60,\r\n                t: 40,\r\n                pad: 10\r\n            },\r\n            legend: {\r\n                x: 1,\r\n                xanchor: 'right',\r\n                y: 1, bgcolor: 'rgba(0,0,0,0)',\r\n\r\n            },\r\n            xaxis: {\r\n                range: [-1.2, 1.2],\r\n                linecolor: 'black',\r\n                linewidth: 1,\r\n                mirror: true,\r\n                title: 'cor with PC1'\r\n            },\r\n            yaxis: {\r\n                range: [-1.2, 1.2],\r\n                linecolor: 'black',\r\n                linewidth: 1,\r\n                mirror: true,\r\n                title: 'cor with PC2'\r\n            }\r\n        }, { ...plotlyImageExportConfig, responsive: true });\r\n\r\n        let cumulatedExplainedVaraince = []\r\n        let sum = 0\r\n        let compnentsaxis = []\r\n        explained_variances.forEach((element, i) => {\r\n            sum = sum + element\r\n            compnentsaxis.push(i + 1)\r\n            cumulatedExplainedVaraince.push(sum)\r\n        });\r\n        var trace1 = {\r\n            name: 'Propotional',\r\n            x: compnentsaxis,\r\n            y: explained_variances,\r\n            type: 'scatter'\r\n        };\r\n\r\n        var trace2 = {\r\n            name: 'Cumulative',\r\n            x: compnentsaxis,\r\n            y: cumulatedExplainedVaraince,\r\n            type: 'scatter'\r\n        };\r\n        var trace3 = {\r\n            showlegend: false,\r\n            x: [1.1, 1.1],\r\n            y: [0.92, 0.82],\r\n            text: ['0.9', '0.8'],\r\n            mode: 'text'\r\n        };\r\n        var data = [trace1, trace2, trace3];\r\n        if (drawScreePlot) {\r\n            Plotly.newPlot('scree_plot', data, {\r\n                title: {\r\n                    text: 'Scree Plot',\r\n                    font: {\r\n                        size: 14\r\n                    },\r\n                    xref: 'paper',\r\n                    x: 0.05,\r\n                },\r\n                legend: {\r\n                    x: 0.1,\r\n                    y: 0.2,\r\n                    traceorder: 'normal',\r\n                    orientation: \"h\",\r\n                    font: {\r\n                        size: 8,\r\n                    },\r\n                    bgcolor: 'rgba(0,0,0,0)',\r\n                },\r\n                shapes: [\r\n                    {\r\n                        type: 'line',\r\n                        x0: 1,\r\n                        y0: 0.9,\r\n                        x1: Math.max(...compnentsaxis),\r\n                        y1: 0.9,\r\n                        line: {\r\n                            color: 'rgb(250, 0, 0)',\r\n                            width: 1.5,\r\n                            dash: 'dashdot'\r\n                        }\r\n                    }, {\r\n                        type: 'line',\r\n                        x0: 1,\r\n                        y0: 0.8,\r\n                        x1: Math.max(...compnentsaxis),\r\n                        y1: 0.8,\r\n                        line: {\r\n                            color: 'rgb(50, 171, 96)',\r\n                            width: 1.5,\r\n                            dash: 'dashdot'\r\n                        }\r\n                    }],\r\n                margin: {\r\n                    l: 60,\r\n                    r: 60,\r\n                    b: 40,\r\n                    t: 40,\r\n                    pad: 10\r\n                },\r\n                xaxis: {\r\n                    linecolor: 'black',\r\n                    linewidth: 1,\r\n                    tickmode: 'linear',\r\n                    dtick: 1,\r\n                    mirror: true,\r\n                    zeroline: false,\r\n                    title: 'Number of PCs'\r\n                },\r\n                yaxis: {\r\n                    linecolor: 'black',\r\n                    linewidth: 1,\r\n                    rang: [0, 1],\r\n                    zeroline: false,\r\n                    mirror: true,\r\n                    title: 'Explained variance'\r\n                }\r\n            }, { ...plotlyImageExportConfig, responsive: true });\r\n        }\r\n\r\n        // Highcharts.chart('scree_plot', {\r\n        //     credits: {\r\n        //         enabled: false\r\n        //     },\r\n\r\n        //     title: {\r\n        //         text: 'Explained Variance',\r\n        //     },\r\n        //     legend: {\r\n        //         verticalAlign: 'bottom',\r\n        //         align: 'left',\r\n        //         floating: true,\r\n        //     },\r\n        //     yAxis: {\r\n        //         linecolor: 'black',\r\n        //         linewidth: 2,\r\n        //         mirror: true,\r\n        //         min: 0,\r\n        //         max: 1,\r\n        //         title: {\r\n        //             text: 'Explained variance'\r\n        //         },\r\n        //         plotLines: [{\r\n        //             value: 0.9,\r\n        //             dashStyle: 'shortdash',\r\n        //             color: 'grey',\r\n        //             width: 1,\r\n        //             zIndex: 4,\r\n        //             label: {\r\n        //                 text: '0.9', align: \"right\",\r\n        //             }\r\n        //         }, {\r\n        //             value: 0.8,\r\n        //             dashStyle: 'shortdash',\r\n        //             color: 'darkgrey',\r\n        //             width: 1,\r\n        //             zIndex: 4,\r\n        //             label: {\r\n        //                 text: '0.8', align: \"right\",\r\n        //             }\r\n        //         }]\r\n\r\n        //     },\r\n        //     xAxis: {\r\n        //         linecolor: 'black',\r\n        //         linewidth: 2,\r\n        //         mirror: true,\r\n        //         labels: {\r\n        //             enabled: true,\r\n        //             formatter: function () {\r\n        //                 return this.value + 1;\r\n        //             }\r\n        //         },\r\n\r\n        //         title: {\r\n        //             text: 'Number of PCs'\r\n        //         },\r\n        //     },\r\n        //     series: [{\r\n        //         name: 'Propotional',\r\n        //         color: \"blue\",\r\n        //         data: explained_variances\r\n        //     },\r\n        //     {\r\n        //         name: 'Cumulative',\r\n        //         color: \"red\",\r\n        //         data: cumulatedExplainedVaraince\r\n        //     }],\r\n\r\n        // });\r\n        return [pca_data.map(item => Array.from(item)), cumulatedExplainedVaraince]\r\n    }\r\n    // eslint-disable-next-line no-unused-vars\r\n    drawStackedHorizontalChart(categories, lable) {\r\n        var trace1 = {\r\n            x: [20, 14, 23],\r\n            y: ['giraffes', 'orangutans', 'monkeys'],\r\n            name: 'SF Zoo',\r\n            orientation: 'h',\r\n            marker: {\r\n                color: 'rgba(55,128,191,0.6)',\r\n                width: 1\r\n            },\r\n            type: 'bar'\r\n        };\r\n\r\n        var trace2 = {\r\n            x: [12, 18, 29],\r\n            y: ['giraffes', 'orangutans', 'monkeys'],\r\n            name: 'LA Zoo',\r\n            orientation: 'h',\r\n            type: 'bar',\r\n            marker: {\r\n                color: 'rgba(255,153,51,0.6)',\r\n                width: 1\r\n            }\r\n        };\r\n\r\n        var data = [trace1, trace2];\r\n\r\n        var layout = {\r\n            title: 'Colored Bar Chart',\r\n            barmode: 'stack'\r\n        };\r\n\r\n        Plotly.newPlot('myDiv', data, layout);\r\n\r\n    }\r\n    regularization_plot(xs, ys, labels) {\r\n        const traces = []\r\n        labels.forEach((element, i) => {\r\n            traces.push({\r\n                x: xs,\r\n                y: ys.map(m => m[i]),\r\n                type: 'scatter',\r\n                name: element,\r\n                mode: 'line'\r\n            })\r\n        });\r\n        var layout = {\r\n            colorway: ['#f3cec9', '#e7a4b6', '#cd7eaf', '#a262a9', '#6f4d96', '#3d3b72', '#182844'],\r\n            title: 'Lasso Coefficients as Alpha varies',\r\n            xaxis: {\r\n                type: 'log',\r\n                title: 'Alpha (Regularization Strength)'\r\n            },\r\n            yaxis: {\r\n                title: 'Coefficient Value'\r\n            }\r\n        };\r\n        Plotly.newPlot('lasso_plot', traces, layout);\r\n    }\r\n    argmax(array) {\r\n        return array.reduce((maxIndex, currentValue, currentIndex, array) => {\r\n            return currentValue > array[maxIndex] ? currentIndex : maxIndex;\r\n        }, 0);\r\n    }\r\n    probabilities_boxplot(probs, labels, uniqueLabels, index) {\r\n        let traces = [];\r\n        let probablitiesFormatted = []\r\n        let subsets = {};\r\n        labels.forEach((true_label, i) => {\r\n            if (!(true_label in subsets)) {\r\n                subsets[true_label] = [];\r\n            }\r\n            subsets[true_label].push(probs[i]);\r\n        });\r\n        for (const trueClass in subsets) {\r\n            const classProbas = subsets[trueClass];\r\n            classProbas.forEach((proba) => {\r\n                const max = Math.max(...proba)\r\n                probablitiesFormatted.push({\r\n                    trueClass: trueClass,\r\n                    predicted: proba.findIndex(prob => prob == max),\r\n                    probablity: proba\r\n                })\r\n            })\r\n        }\r\n        let i = 0;\r\n        let x = probablitiesFormatted.map(prob => prob.predicted);\r\n        for (let true_label in subsets) {\r\n            let classIndex = uniqueLabels.findIndex(m => m == true_label)\r\n            traces.push({\r\n                type: 'box',\r\n                name: true_label,\r\n                marker: {\r\n                    color: this.indexToColor(classIndex, uniqueLabels.length),\r\n                    size: 2,\r\n                    line: {\r\n                        outlierwidth: 0.3\r\n                    }\r\n                },\r\n                line: {\r\n                    width: 0.5\r\n                },\r\n                y: probablitiesFormatted.map(m => m.probablity[i]),\r\n                x: x\r\n            });\r\n            i++;\r\n        }\r\n        // traces.forEach(trace => {\r\n        //     trace['type'] = 'violin'\r\n        // })\r\n        // Plotly.newPlot(\"proba_violin_plot_\" + index, traces, {\r\n        //     xaxis: {\r\n        //         linecolor: 'black',\r\n        //         linewidth: 1,\r\n        //         mirror: true,\r\n        //     },\r\n        //     yaxis: {\r\n        //         title: 'Predicted Probability',\r\n        //         linecolor: 'black',\r\n        //         zeroline: false,\r\n        //         linewidth: 1,\r\n        //         mirror: true,\r\n        //     },\r\n        //     legend: {\r\n        //         x: 1,\r\n        //         xanchor: 'right',\r\n        //         y: 1\r\n        //     },\r\n        //     violinmode: 'group'\r\n        // }, { responsive: true });\r\n        // traces.forEach(trace => {\r\n        //     trace['type'] = 'box'\r\n        // })\r\n        Plotly.newPlot(\"proba_plot_\" + index, traces, {\r\n            xaxis: {\r\n                linecolor: 'black',\r\n                linewidth: 1,\r\n                mirror: true,\r\n                title: 'class'\r\n            },\r\n            yaxis: {\r\n                title: 'Predicted Probability',\r\n                linecolor: 'black',\r\n                zeroline: false,\r\n                linewidth: 1,\r\n                mirror: true,\r\n            },\r\n            legend: {\r\n                x: 1,\r\n                xanchor: 'right',\r\n                y: 1,\r\n                bgcolor: 'rgba(0,0,0,0)',\r\n\r\n            },\r\n            boxmode: 'group'\r\n        }, { responsive: true });\r\n    }\r\n\r\n    async plotConfusionMatrix(y, predictedLabels, labels, uniqueClasses, tab_index) {\r\n\r\n        const confusionMatrix = await metrics.confusionMatrix(y, predictedLabels, uniqueClasses.length);\r\n        let metric = await ClassificationMetric(y.arraySync(), predictedLabels.arraySync(), uniqueClasses)\r\n        let accuracy = metric.accuracy.toFixed(2);\r\n        let f1Micro = metric.f1_micro.toFixed(2)\r\n        let f1Macro = metric.f1_macro.toFixed(2)\r\n\r\n        let len = confusionMatrix[0].length\r\n        let preceissions = [];\r\n        let recalls = [];\r\n        for (let j = 0; j < len; j++) {\r\n            preceissions.push(parseFloat(metric.precision[j].toFixed(2)))\r\n        }\r\n        for (let j = 0; j < len; j++) {\r\n            recalls.push(parseFloat(metric.recall[j].toFixed(2)))\r\n        }\r\n        tensorflow.dispose(y)\r\n        tensorflow.dispose(predictedLabels)\r\n        const metric_labels = [\"Precession\", \"Recall\", \"F1 score\", \"Support\"]\r\n        labels.push(\"Precession\")\r\n        recalls.push(0)\r\n        confusionMatrix.push(preceissions)\r\n        let items_labels = labels.filter(x => !metric_labels.includes(x))\r\n        let formatted_matrix = []\r\n        for (let i = 0; i < confusionMatrix.length; i++) {\r\n            const element = confusionMatrix[i];\r\n            if (i < confusionMatrix.length - 1) {\r\n                element.push(recalls[i])\r\n            }\r\n            for (let j = 0; j < element.length; j++) {\r\n                const item = element[j];\r\n                formatted_matrix.push([j, i, item])\r\n            }\r\n        }\r\n        items_labels.push(\"Recall\")\r\n\r\n        Highcharts.chart(\"confusion_matrix_\" + tab_index, {\r\n            credits: {\r\n                enabled: false\r\n            },\r\n            exporting: {\r\n                enabled: true\r\n            },\r\n            chart: {\r\n                type: 'heatmap',\r\n                plotBorderWidth: 1\r\n            },\r\n            title: {\r\n                text: '',\r\n                style: {\r\n                    fontSize: '0.75em'\r\n                }\r\n            },\r\n\r\n            xAxis: [{\r\n                categories: items_labels,\r\n                title: {\r\n                    text: 'Predicted Class'\r\n                }\r\n            }, {\r\n                linkedTo: 0,\r\n                opposite: true,\r\n                tickLength: 0,\r\n                labels: {\r\n                    formatter: function () {\r\n                        var chart = this.chart,\r\n                            each = Highcharts.each,\r\n                            series = chart.series[0],\r\n                            sum = 0,\r\n                            x = this.value;\r\n\r\n                        series.options.data.forEach(function (p, i) {\r\n                            if (p[0] === x) {\r\n                                if (p[1] < uniqueClasses.length) {\r\n                                    sum += p[2];\r\n                                }\r\n                            }\r\n                        });\r\n\r\n                        return +sum.toFixed(2);\r\n                    }\r\n                }\r\n            }],\r\n            yAxis: [{\r\n                categories: labels,\r\n                title: {\r\n                    text: 'Actual Class'\r\n                },\r\n                reversed: true, endOnTick: false\r\n            }, {\r\n                linkedTo: 0,\r\n                opposite: true,\r\n                tickLength: 0,\r\n                labels: {\r\n                    formatter: function () {\r\n                        var chart = this.chart,\r\n                            each = Highcharts.each,\r\n                            series = chart.series[0],\r\n                            sum = 0,\r\n                            x = this.value;\r\n                        series.options.data.forEach(function (p, i) {\r\n                            if (p[1] < uniqueClasses.length) {\r\n                                if (p[1] === x) {\r\n                                    if (p[0] < uniqueClasses.length) {\r\n                                        sum += p[2];\r\n                                    }\r\n\r\n                                }\r\n                            }\r\n                        });\r\n                        return +sum.toFixed(2);\r\n                    }\r\n                },\r\n                title: null\r\n            }],\r\n            colorAxis: {\r\n                min: 0,\r\n                minColor: '#FFFFFF',\r\n                maxColor: Highcharts.getOptions().colors[0]\r\n            },\r\n            legend: {\r\n                enabled: false,\r\n                align: 'center',\r\n                layout: 'horizontal',\r\n                margin: 0,\r\n                verticalAlign: 'top',\r\n                y: 5,\r\n                symbolHeight: 10\r\n            },\r\n            series: [{\r\n                name: '',\r\n                borderWidth: 1,\r\n                data: formatted_matrix,\r\n                dataLabels: {\r\n                    enabled: true,\r\n                    useHTML: true,\r\n                    color: '#000000',\r\n                    formatter: function () {\r\n                        var totalCount = this.series.data.reduce(function (acc, cur, i) {\r\n                            if ((i + 1) % (uniqueClasses.length + 1) === 0) {\r\n                                return acc\r\n                            }\r\n                            return +(acc + cur?.value).toFixed(2);\r\n                        }, 0);\r\n                        var count = this.point.value;\r\n                        var skip = this.point.index >= this.series.data.length - (1 * (uniqueClasses.length + 1));\r\n\r\n                        if (!skip && !((this.point.index + 1) % (uniqueClasses.length + 1) === 0)) {\r\n                            var percentage = +((count / totalCount) * 100).toFixed(2);\r\n                            return '<p style=\"margin:auto; text-align:center;\">' + (+count.toFixed(2)) + '<br/>(' + (+percentage).toFixed(2) + '%)</p> ';\r\n                        } else {\r\n                            return '<p style=\"margin:auto; text-align:center;\">' + (+count.toFixed(2)) + '</p>';\r\n                        }\r\n                    }\r\n                }\r\n            }],\r\n            responsive: {\r\n                rules: [{\r\n                    condition: {\r\n                        maxWidth: 200\r\n                    },\r\n                    chartOptions: {\r\n                        yAxis: {\r\n                            labels: {\r\n                                format: '{substr value 0 1}',\r\n                                padding: 0,\r\n                                style: {\r\n                                    fontSize: '6px'\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }]\r\n            }\r\n        });\r\n        return [accuracy, f1Micro, f1Macro]\r\n    }\r\n\r\n\r\n\r\n\r\n    plot_regularization(weights, alphas, names, tab_index) {\r\n        let content = `\r\n                    <div class=\"column is-6\" id=\"regularization_${tab_index}\" style=\"height: 40vh;\">\r\n                    </div>\r\n    `\r\n        $(\"#tabs_info li[data-index='\" + tab_index + \"'] #results_\" + tab_index + \"\").append(content);\r\n\r\n        let serieses = []\r\n        for (let i = 0; i < names.length; i++) {\r\n            serieses.push({\r\n                name: names[i],\r\n                data: weights.map(m => m[i])\r\n            })\r\n        }\r\n        const alphas_formatted = [];\r\n        for (let i = 0; i < alphas.length; i++) {\r\n            alphas_formatted.push(alphas[i].toFixed(2));\r\n        }\r\n        Highcharts.chart(\"regularization_\" + tab_index, {\r\n\r\n            title: {\r\n                text: '',\r\n            },\r\n            yAxis: {\r\n                title: {\r\n                    text: 'Coefficients'\r\n                }\r\n            },\r\n            xAxis: {\r\n                title: {\r\n                    text: 'penalty weight'\r\n                },\r\n                categories: alphas_formatted,\r\n            },\r\n            legend: {\r\n                layout: 'vertical',\r\n                align: 'right',\r\n                verticalAlign: 'middle'\r\n            },\r\n\r\n            plotOptions: {\r\n                series: {\r\n                    label: {\r\n                        connectorAllowed: false\r\n                    },\r\n                }\r\n            },\r\n            series: serieses,\r\n            responsive: {\r\n                rules: [{\r\n                    condition: {\r\n                        maxWidth: 500\r\n                    },\r\n                    chartOptions: {\r\n                        legend: {\r\n                            layout: 'horizontal',\r\n                            align: 'center',\r\n                            verticalAlign: 'bottom'\r\n                        }\r\n                    }\r\n                }]\r\n            }\r\n        });\r\n    }\r\n    yhat_plot(y_test, predictions, container, title = '') {\r\n        Plotly.newPlot(container, [{\r\n            x: y_test,\r\n            y: predictions,\r\n            type: 'scatter',\r\n            name: \"y\",\r\n            mode: 'markers',\r\n            marker: {\r\n                color: 'blue',\r\n                size: 4\r\n            },\r\n        }, {\r\n            x: y_test,\r\n            y: y_test,\r\n            mode: 'lines',\r\n            type: 'scatter',\r\n            line: { color: 'red', dash: 'solid' },\r\n            name: 'y = x line'\r\n        }], {\r\n            height: 300,\r\n            width: 300,\r\n            title: {\r\n                text: title,\r\n                font: {\r\n                    size: 14\r\n                },\r\n                xref: 'paper',\r\n                x: 0.05,\r\n            },\r\n            showlegend: false,\r\n            xaxis: {\r\n                linecolor: 'black',\r\n                linewidth: 1,\r\n                mirror: true,\r\n                title: {\r\n                    text: 'y',\r\n                    font: {\r\n                        size: 14,\r\n                    }\r\n                },\r\n            },\r\n            yaxis: {\r\n                linecolor: 'black',\r\n                linewidth: 1,\r\n                mirror: true,\r\n                title: {\r\n                    text: 'Predictions',\r\n                    font: {\r\n                        size: 14,\r\n                    }\r\n                }\r\n            },\r\n            margin: {\r\n                l: 40,\r\n                r: 10,\r\n                b: 40,\r\n                t: 40,\r\n                pad: 0\r\n            }\r\n        }, {\r\n            responsive: true, staticPlot: false, ...plotlyImageExportConfig\r\n        });\r\n    }\r\n    comparison(x, y, container, title = '', yLabel = '') {\r\n        Plotly.newPlot(container, [{\r\n            x: x,\r\n            y: y,\r\n            type: 'scatter',\r\n            name: \"y\",\r\n            mode: 'line',\r\n            marker: {\r\n                color: 'blue',\r\n                size: 4\r\n            },\r\n        }], {\r\n            height: 300,\r\n            width: 300,\r\n            title: {\r\n                text: title,\r\n                font: {\r\n                    size: 14\r\n                },\r\n                xref: 'paper',\r\n                x: 0.05,\r\n            },\r\n            showlegend: false,\r\n            xaxis: {\r\n                linecolor: 'black',\r\n                tickangle: -45,\r\n                linewidth: 1,\r\n                mirror: true,\r\n                title: {\r\n                    font: {\r\n                        size: 14,\r\n                    }\r\n                },\r\n            },\r\n            yaxis: {\r\n                linecolor: 'black',\r\n                linewidth: 1,\r\n                mirror: true,\r\n                title: {\r\n                    text: yLabel,\r\n                    font: {\r\n                        size: 14,\r\n                    }\r\n                }\r\n            },\r\n            margin: {\r\n                l: 40,\r\n                r: 10,\r\n                b: 80,\r\n                t: 40,\r\n                pad: 0\r\n            }\r\n        }, {\r\n            responsive: true, staticPlot: false, ...plotlyImageExportConfig\r\n        });\r\n    }\r\n    residual_plot(y, residuals, container, title = '') {\r\n        Plotly.newPlot(container, [\r\n\r\n            {\r\n                x: y,\r\n                y: residuals,\r\n                type: 'scatter',\r\n                name: \"y\",\r\n                mode: 'markers',\r\n                marker: {\r\n                    color: 'blue',\r\n                    size: 4\r\n                },\r\n            },\r\n            {\r\n                x: y,\r\n                y: y.map(m => 0),\r\n                mode: 'lines',\r\n                type: 'scatter',\r\n                line: { color: 'red', dash: 'solid' },\r\n            }\r\n        ],\r\n            {\r\n                height: 300,\r\n                width: 300,\r\n                title: {\r\n                    text: title,\r\n                    font: {\r\n                        size: 14\r\n                    },\r\n                    xref: 'paper',\r\n                    x: 0.05,\r\n                },\r\n                showlegend: false,\r\n                xaxis: {\r\n                    linecolor: 'black',\r\n                    linewidth: 1,\r\n                    mirror: true,\r\n                    title: {\r\n                        text: 'y',\r\n                        font: {\r\n                            size: 14,\r\n                        }\r\n                    },\r\n                },\r\n                yaxis: {\r\n                    linecolor: 'black',\r\n                    linewidth: 1,\r\n                    mirror: true,\r\n                    title: {\r\n                        text: 'Residuals',\r\n                        font: {\r\n                            size: 14,\r\n                        }\r\n                    }\r\n                },\r\n                margin: {\r\n                    l: 40,\r\n                    r: 10,\r\n                    b: 40,\r\n                    t: 40,\r\n                    pad: 0\r\n                }\r\n            }, { responsive: true, ...plotlyImageExportConfig, staticPlot: false });\r\n    }\r\n\r\n    ScatterplotMatrix(items, features, labels, number_of_categoricals, is_classification = true, numeric_columns, categorical_columns, dataset) {\r\n        return new Promise((resolve, reject) => {\r\n            setTimeout(() => {\r\n\r\n                let unique_labels = [...new Set(labels)];\r\n                if (unique_labels.length === 2) {\r\n                    unique_labels.sort()\r\n                }\r\n                console.log('splom', unique_labels);\r\n\r\n                var colors = labels.map(label => this.indexToColor(unique_labels.indexOf(label), unique_labels.length));\r\n                let traces = []\r\n                let index = 1;\r\n                for (let i = 0; i < features.length; i++) {\r\n                    for (let j = 0; j < features.length; j++) {\r\n                        if (i === j) {\r\n                            let subsets = [];\r\n                            let kde;\r\n                            let breaks = []\r\n                            let allData = []\r\n                            if (is_classification) {\r\n\r\n                                if (i >= features.length - number_of_categoricals) {\r\n                                    if (i === features.length - 1) {\r\n                                        for (let k = 0; k < unique_labels.length; k++) {\r\n                                            subsets.push(items.filter(m => m[items[0].length - 1] === unique_labels[k]).map(m => m[i]));\r\n                                        }\r\n                                        traces.push({\r\n                                            x: unique_labels.map(label => '' + label),\r\n                                            y: subsets.map(set => set.length),\r\n                                            type: 'bar',\r\n                                            xaxis: 'x' + (index),\r\n                                            yaxis: 'y' + (index),\r\n                                            marker: {\r\n                                                color: unique_labels.map((_, z) => this.indexToColor(z, unique_labels.length))\r\n                                                , opacity: 0.7\r\n                                            }\r\n                                        })\r\n                                    } else {\r\n                                        let unique_labels_feature = [...new Set(items.map(m => m[i]))];\r\n                                        for (let k = 0; k < unique_labels.length; k++) {\r\n                                            let lablel_items = items.filter(m => m[items[0].length - 1] === unique_labels[k])\r\n                                            let counts = [];\r\n                                            unique_labels_feature.forEach(label =>\r\n                                                counts.push(lablel_items.filter(m => m[i] === label).length)\r\n                                            )\r\n                                            subsets.push({\r\n                                                items: lablel_items,\r\n                                                counts: counts\r\n                                            });\r\n                                        }\r\n                                        unique_labels.forEach((_, i) => {\r\n                                            traces.push({\r\n                                                x: unique_labels_feature,\r\n                                                y: subsets[i].counts,\r\n                                                type: 'bar',\r\n                                                xaxis: 'x' + (index),\r\n                                                yaxis: 'y' + (index),\r\n                                                marker: {\r\n                                                    color: this.indexToColor(i, unique_labels.length)\r\n                                                    , opacity: 0.7\r\n                                                }\r\n                                            })\r\n                                        })\r\n                                    }\r\n                                } else {\r\n                                    for (let k = 0; k < unique_labels.length; k++) {\r\n                                        subsets.push(items.filter(m => m[items[0].length - 1] === unique_labels[k]).map(m => m[i]));\r\n                                    }\r\n                                    for (let ii = 0; ii < subsets.length; ii++) {\r\n                                        if (subsets[ii].length > 2) {\r\n                                            let default_bandwidth = this.nrd(subsets[ii]).toFixed(2);\r\n                                            breaks = equalIntervalBreaks(subsets[ii], 100);\r\n\r\n                                            let ys = [];\r\n                                            kde = kernelDensityEstimation(subsets[ii], 'gaussian', 'nrd');\r\n                                            let data = [];\r\n                                            breaks.forEach((item) => {\r\n                                                ys.push(kde(item, default_bandwidth));\r\n                                                data.push([item, ys[ys.length - 1]]);\r\n                                            });\r\n                                            allData.push(data);\r\n                                        } else {\r\n                                            allData.push([]);\r\n                                        }\r\n                                    }\r\n                                    for (let i = 0; i < allData.length; i++) {\r\n                                        traces.push({\r\n                                            type: 'scatter',\r\n                                            x: allData[i].map(m => m[0]),\r\n                                            y: allData[i].map(m => m[1]),\r\n                                            xaxis: 'x' + (index),\r\n                                            yaxis: 'y' + (index),\r\n                                            mode: 'lines',\r\n                                            name: 'Red',\r\n                                            fill: 'tozeroy',\r\n                                            line: {\r\n                                                color: this.indexToColor(i, unique_labels.length),\r\n                                                opacity: 0.7,\r\n                                                width: 3\r\n                                            }\r\n                                        })\r\n\r\n                                    }\r\n                                }\r\n\r\n                            } else {\r\n                                if (categorical_columns.includes(features[i])) {\r\n                                    let column_items = items.map(m => m[i]);\r\n                                    let unique_classes = [...new Set(column_items)];\r\n                                    let class_frequencies = []\r\n                                    for (let i = 0; i < unique_classes.length; i++) {\r\n                                        const class_label = unique_classes[i];\r\n                                        class_frequencies.push(column_items.filter(m => m === class_label).length)\r\n                                    }\r\n                                    traces.push({\r\n                                        x: unique_classes,\r\n                                        y: class_frequencies,\r\n                                        type: 'bar',\r\n                                        name: 'Trace 1',\r\n                                        xaxis: 'x' + (index),\r\n                                        yaxis: 'y' + (index),\r\n                                    })\r\n                                } else {\r\n                                    subsets.push(items.map(m => m[i]));\r\n                                    for (let i = 0; i < subsets.length; i++) {\r\n                                        if (subsets[i].length > 2) {\r\n                                            let ys = [];\r\n                                            let default_bandwidth = this.nrd(subsets[i]).toFixed(2);\r\n                                            breaks = equalIntervalBreaks(subsets[i], 100);\r\n                                            kde = kernelDensityEstimation(subsets[i], 'gaussian', 'nrd');\r\n                                            let data = [];\r\n                                            breaks.forEach((item) => {\r\n                                                ys.push(kde(item, default_bandwidth));\r\n                                                data.push([item, ys[ys.length - 1]]);\r\n                                            });\r\n                                            allData.push(data);\r\n                                        } else {\r\n                                            allData.push([]);\r\n                                        }\r\n                                    }\r\n                                    traces.push({\r\n                                        type: 'scatter',\r\n                                        x: allData[0].map(m => m[0]),\r\n                                        y: allData[0].map(m => m[1]),\r\n                                        mode: 'lines',\r\n                                        fill: 'tozeroy',\r\n                                        xaxis: 'x' + (index),\r\n                                        yaxis: 'y' + (index),\r\n                                        name: 'Red',\r\n                                        line: {\r\n                                            color: 'rgb(219, 64, 82)',\r\n                                            opacity: 0.7,\r\n                                            width: 3\r\n                                        }\r\n                                    })\r\n                                }\r\n\r\n                            }\r\n                        }\r\n                        else if (i === features.length - 1) {\r\n                            traces.push({\r\n                                y: items.map(m => m[i]),\r\n                                x: items.map(m => m[j]),\r\n                                color: colors,\r\n                                marker: {\r\n                                    colorscale: 'Portland',\r\n                                    color: is_classification ? colors : labels,\r\n                                    opacity: 0.7,\r\n                                    size: 2,\r\n                                },\r\n                                type: 'scattergl',\r\n                                mode: 'markers',\r\n                                xaxis: 'x' + (index),\r\n                                yaxis: 'y' + (index),\r\n                            })\r\n                        } else if (j >= features.length - number_of_categoricals) {\r\n                            if (!is_classification) {\r\n                                traces.push({\r\n                                    x: [],\r\n                                    y: [],\r\n                                    mode: 'lines',\r\n                                    name: 'Trace 1'\r\n                                })\r\n                            } else {\r\n\r\n                                let boxplot_labels = [...new Set(items.map(m => m[j]))].sort((a, b) => a - b)\r\n                                let boxtraces = []\r\n                                for (let m = 0; m < unique_labels.length; m++) {\r\n                                    for (let n = 0; n < boxplot_labels.length; n++) {\r\n\r\n                                        let box_items = items.filter(item => item[j] === boxplot_labels[n] && item[features.length - 1] === unique_labels[m])\r\n                                        if (box_items) {\r\n                                            boxtraces.push({\r\n                                                y: box_items.map(item => item[i]),\r\n                                                marker: {\r\n                                                    color: this.indexToColor(m, unique_labels.length),\r\n                                                    size: 2,\r\n                                                    line: {\r\n                                                        outlierwidth: 0.3\r\n                                                    }\r\n                                                },\r\n                                                type: 'box',\r\n                                                xaxis: 'x' + (index),\r\n                                                yaxis: 'y' + (index),\r\n                                                line: {\r\n                                                    width: 0.5\r\n                                                }\r\n                                            })\r\n                                        }\r\n                                    }\r\n                                }\r\n                                if (j < features.length - 1) {\r\n                                    for (let i = 0; i < (boxtraces.length) / 2; i++) {\r\n                                        boxtraces[i]['x'] = Array(boxtraces[i]['y'].length).fill(i);\r\n                                        if (boxtraces[((boxtraces.length) / 2) + i]) {\r\n                                            boxtraces[((boxtraces.length) / 2) + i]['x'] = Array(boxtraces[i]['y'].length).fill(i + 0.5);\r\n                                        }\r\n                                    }\r\n                                    traces = traces.concat(boxtraces)\r\n                                } else {\r\n                                    traces = traces.concat(boxtraces)\r\n                                }\r\n                            }\r\n                        }\r\n                        else {\r\n                            if (j > i) {\r\n                                let arr1 = items.map(m => m[i])\r\n                                let arr2 = items.map(m => m[j])\r\n                                traces.push({\r\n                                    x: [1.5],\r\n                                    y: [1.5],\r\n                                    text: [corrcoeff(arr1, arr2).toFixed(2)],\r\n                                    mode: 'text',\r\n                                    textfont: {\r\n                                        size: 12, // Font size for the text\r\n                                        color: 'black'\r\n                                    },\r\n                                    xaxis: 'x' + (index),\r\n                                    yaxis: 'y' + (index),\r\n                                    type: 'scatter'\r\n                                });\r\n\r\n                            } else {\r\n                                traces.push({\r\n                                    y: items.map(m => m[i]),\r\n                                    x: items.map(m => m[j]),\r\n                                    color: colors,\r\n\r\n                                    type: 'scattergl',\r\n                                    mode: 'markers',\r\n                                    marker: {\r\n                                        colorscale: 'Portland',\r\n                                        color: is_classification ? colors : labels,\r\n                                        size: 2,\r\n                                    },\r\n                                    xaxis: 'x' + (index),\r\n                                    yaxis: 'y' + (index),\r\n                                })\r\n                            }\r\n                        }\r\n                        index++\r\n                    }\r\n\r\n                }\r\n\r\n                var layout = {\r\n                    width: features.length * 100,\r\n                    height: features.length * 100,\r\n                    spacing: 0,\r\n                    showlegend: false,\r\n                    boxmode: 'overlay',\r\n                    grid: { rows: features.length, xgap: 0.0, ygap: 0.0, columns: features.length, pattern: 'independent' },\r\n                    margin: { t: 20, r: 20 },\r\n\r\n                };\r\n                for (var i = 0; i < features.length; i++) {\r\n                    for (var j = 0; j < features.length; j++) {\r\n                        var xAxisKey = 'xaxis' + ((i * features.length) + j + 1);\r\n                        var yAxisKey = 'yaxis' + ((i * features.length) + j + 1);\r\n                        let fontSize = 10;\r\n                        layout[xAxisKey] = {\r\n                            linecolor: 'black',\r\n                            linewidth: 1,\r\n                            mirror: true,\r\n                            showgrid: false,\r\n                            showticklabels: false,\r\n                            tickfont: {\r\n                                size: fontSize\r\n                            },\r\n                        };\r\n                        layout[yAxisKey] = {\r\n                            linecolor: 'black',\r\n                            linewidth: 1,\r\n                            mirror: true,\r\n                            showgrid: false,\r\n                            showticklabels: false,\r\n                            tickfont: {\r\n                                size: fontSize\r\n                            },\r\n                        };\r\n                        if (i === features.length - 1) {\r\n                            layout[xAxisKey] = {\r\n                                linecolor: 'black',\r\n                                linewidth: 1,\r\n                                mirror: true,\r\n                                tickfont: {\r\n                                    size: fontSize\r\n                                },\r\n                                title: {\r\n                                    text: features[j], font: {\r\n                                        size: fontSize\r\n                                    },\r\n                                }\r\n                            };\r\n\r\n                        }\r\n                        if (j === 0) {\r\n                            layout[yAxisKey] = {\r\n                                linecolor: 'black',\r\n                                linewidth: 1,\r\n                                mirror: true,\r\n                                tickfont: {\r\n                                    size: fontSize\r\n                                },\r\n                                title: {\r\n                                    text: features[i], font: {\r\n                                        size: fontSize\r\n                                    },\r\n                                }\r\n                            };\r\n                        }\r\n                    }\r\n                }\r\n\r\n                Plotly.react('scatterplot_mtx', traces, layout, {\r\n                    ...plotlyImageExportConfig,\r\n                    staticPlot: true,\r\n                    modeBarButtonsToRemove: ['resetScale2d', 'select2d', 'resetViews', 'sendDataToCloud', 'hoverCompareCartesian', 'lasso2d', 'drawopenpath ']\r\n                })\r\n                resolve()\r\n            }, 1000);\r\n        })\r\n    }\r\n\r\n    KNNPerformancePlot(results, best_n, id, label = \"Accuracy\") {\r\n        let traces = []\r\n        traces.push({\r\n            x: results.map(m => m[1]),\r\n            y: results.filter(n => n[0] === 'manhattan').map(m => Number(m[2])),\r\n            mode: 'lines',\r\n            name: 'manhattan test set',\r\n            line: {\r\n                color: 'rgb(55, 128, 191)',\r\n                width: 2\r\n            }\r\n        });\r\n\r\n        traces.push({\r\n            x: results.map(m => m[1]),\r\n            y: results.filter(n => n[0] === 'euclidean').map(m => Number(m[2])),\r\n            mode: 'lines',\r\n            name: 'euclidean test set',\r\n            line: {\r\n                color: 'rgb(219, 64, 82)',\r\n                width: 2\r\n            }\r\n        });\r\n\r\n        var layout = {\r\n            showlegend: true,\r\n            legend: {\r\n                x: 0.1,\r\n                y: 0.2,\r\n                traceorder: 'normal',\r\n                orientation: \"h\",\r\n                font: {\r\n                    size: 12,\r\n                },\r\n                bgcolor: 'rgba(0,0,0,0)',\r\n            },\r\n            xaxis: {\r\n                linecolor: 'black',\r\n                linewidth: 1,\r\n                mirror: true,\r\n                title: {\r\n                    text: 'K',\r\n                },\r\n            },\r\n            yaxis: {\r\n                range: [0, 1],\r\n                linecolor: 'black',\r\n                linewidth: 1,\r\n                mirror: true,\r\n                title: {\r\n                    text: label,\r\n                }\r\n            },\r\n            shapes: [\r\n                {\r\n                    type: 'line',\r\n                    x0: best_n,\r\n                    y0: 0,\r\n                    x1: best_n,\r\n                    y1: 1,\r\n                    line: {\r\n                        dash: 'dot',\r\n                        color: 'rgb(55, 128, 191)',\r\n                        width: 1\r\n                    }\r\n                },]\r\n        };\r\n        Plotly.newPlot(\"knn_table_\" + id, traces, layout, { responsive: true });\r\n    }\r\n    KNNPerformancePlotRegression(results, optimalTrainSpec, optimalTestSpec, id) {\r\n        let traces = []\r\n        traces.push({\r\n            x: results.map(m => m.k),\r\n            y: results.filter(n => n.metric === 'manhattan').map(m => Number((m.evaluation).toFixed(2))),\r\n            mode: 'lines',\r\n            name: 'manhattan test set',\r\n            line: {\r\n                color: 'rgb(55, 128, 191)',\r\n                width: 2\r\n            }\r\n        });\r\n\r\n        traces.push({\r\n            x: results.map(m => m.k),\r\n            y: results.filter(n => n.metric === 'euclidean').map(m => Number((m.evaluation).toFixed(2))),\r\n            mode: 'lines',\r\n            name: 'euclidean test set',\r\n            line: {\r\n                color: 'rgb(219, 64, 82)',\r\n                width: 2\r\n            }\r\n        });\r\n        traces.push({\r\n            x: results.map(m => m.k),\r\n            y: results.filter(n => n.metric === 'manhattan').map(m => Number((m.evaluation_train).toFixed(2))),\r\n            mode: 'lines',\r\n            name: 'manhattan train set',\r\n            line: {\r\n                color: 'rgb(55, 128, 191)',\r\n                width: 1\r\n            }\r\n        });\r\n        traces.push({\r\n            x: results.map(m => m.k),\r\n            y: results.filter(n => n.metric === 'euclidean').map(m => Number((m.evaluation_train).toFixed(2))),\r\n            mode: 'lines',\r\n            name: 'euclidean train set',\r\n            line: {\r\n                color: 'rgb(219, 64, 82)',\r\n                width: 1\r\n            }\r\n        });\r\n        var min_y = Number.POSITIVE_INFINITY;\r\n        var max_y = Number.NEGATIVE_INFINITY;\r\n        traces.forEach(trace => {\r\n            let min = Math.min(...trace.y)\r\n            let max = Math.max(...trace.y)\r\n            if (min < min_y) {\r\n                min_y = min\r\n            }\r\n            if (max > max_y) {\r\n                max_y = max\r\n            }\r\n\r\n        })\r\n        var layout = {\r\n            showlegend: true,\r\n            legend: {\r\n                x: 0.1,\r\n                y: 0.2,\r\n                traceorder: 'normal',\r\n                orientation: \"h\",\r\n                font: {\r\n                    size: 10,\r\n                },\r\n                bgcolor: 'rgba(0,0,0,0)',\r\n            },\r\n            xaxis: {\r\n                title: {\r\n                    text: 'K',\r\n                },\r\n            },\r\n            yaxis: {\r\n                title: {\r\n                    text: 'MSE',\r\n                }\r\n            },\r\n            shapes: [\r\n                {\r\n                    type: 'line',\r\n                    x0: optimalTrainSpec.k,\r\n                    y0: min_y,\r\n                    x1: optimalTrainSpec.k,\r\n                    y1: max_y,\r\n                    line: {\r\n                        color: 'rgb(55, 128, 191)',\r\n                        width: 1\r\n                    }\r\n                }, {\r\n                    type: 'line',\r\n                    x0: optimalTestSpec.k,\r\n                    y0: min_y,\r\n                    x1: optimalTestSpec.k,\r\n                    y1: max_y,\r\n                    line: {\r\n                        color: 'rgb(55, 128, 191)',\r\n                        width: 1\r\n                    }\r\n                },]\r\n        };\r\n        Plotly.newPlot(\"knn_table_\" + id, traces, layout);\r\n    }\r\n    correaltoinMatrixColorscale(correlations) {\r\n        let featuresCount = correlations[0].length;\r\n        let corrs = [];\r\n\r\n        for (let i = 0; i < featuresCount; i++) {\r\n            corrs.push(...correlations[i])\r\n        }\r\n        corrs.sort()\r\n        let countNegatives = 0\r\n        for (let i = 0; i < corrs.length; i++) {\r\n            if (corrs[i] < 0) {\r\n                countNegatives += 1\r\n            } else {\r\n                break\r\n            }\r\n        }\r\n\r\n        let portionOfNegativeValues = Math.round(((countNegatives - 1) / corrs.length) * 100) / 100\r\n\r\n        let colorscale = [\r\n            [0, 'rgb(0, 0, 100)'],\r\n            [portionOfNegativeValues, 'rgb(161, 161, 255)'],\r\n            [portionOfNegativeValues + 0.001, 'rgb(253, 237, 237)'],\r\n            [1.0, 'rgb(255, 0, 0)']\r\n        ]\r\n        return colorscale\r\n    }\r\n    async correlationHeatmap(id, correlations, names) {\r\n\r\n        var data = [\r\n            {\r\n                z: correlations,\r\n                x: names,\r\n                y: names,\r\n                type: 'heatmap',\r\n                zmin: -1,\r\n                zmax: 1,\r\n                hoverongaps: false,\r\n                colorscale: [\r\n                    [0, 'rgb(74,141,255)'],\r\n                    [0.10, 'rgb(102,151,255)'],\r\n                    [0.20, 'rgb(121,170,255)'],\r\n                    [0.30, 'rgb(137,187,255)'],\r\n                    [0.40, 'rgb(205,221,255)'],\r\n                    [0.50, 'rgb(255,255,255)'],\r\n                    [0.51, 'rgb(253, 237, 237)'],\r\n                    [0.6, 'rgb(255,169,169)'],\r\n                    [0.75, 'rgb(249,100,100)'],\r\n                    [0.95, 'rgb(225,0,0)'],\r\n                    [1.0, 'rgb(165,0,0)']\r\n                ],\r\n                showscale: false,\r\n            }\r\n        ];\r\n        var layout = {\r\n\r\n            annotations: [],\r\n            font: {\r\n                size: 10\r\n            },\r\n            xaxis: {\r\n                ticks: '',\r\n                side: 'bottom',\r\n                tickangle: -90,\r\n            },\r\n            yaxis: {\r\n                autorange: \"reversed\",\r\n                tickangle: -45,\r\n                ticks: '',\r\n                ticksuffix: ' ',\r\n            },\r\n            autosize: true,\r\n\r\n        };\r\n        for (var i = 0; i < names.length; i++) {\r\n            for (var j = names.length - 1; j >= 0; j--) {\r\n                var currentValue = correlations[i][j];\r\n                let textColor\r\n                if (currentValue <= 0.0) {\r\n                    textColor = 'black';\r\n                } else {\r\n                    textColor = 'black';\r\n                }\r\n                var result = {\r\n                    xref: 'x1',\r\n                    yref: 'y1',\r\n                    x: names[i],\r\n                    y: names[j],\r\n                    text: currentValue.toFixed(2),\r\n                    font: {\r\n                        family: 'Arial',\r\n                        size: 8,\r\n                        color: textColor\r\n                    },\r\n                    showarrow: false,\r\n                };\r\n                layout.annotations.push(result);\r\n            }\r\n        }\r\n\r\n        await Plotly.newPlot(id, data, layout, { ...plotlyImageExportConfig, responsive: true });\r\n    }\r\n    async dendogramPlot(id, correlations, linkage, names, originalColumns) {\r\n\r\n        var trace4 = {\r\n            x: names,\r\n            y: names,\r\n            z: correlations,\r\n            type: 'heatmap',\r\n            zmin: -1,\r\n            zmax: 1,\r\n            hoverongaps: false,\r\n            colorscale: [\r\n                [0, 'rgb(74,141,255)'],\r\n                [0.10, 'rgb(102,151,255)'],\r\n                [0.20, 'rgb(121,170,255)'],\r\n                [0.30, 'rgb(137,187,255)'],\r\n                [0.40, 'rgb(205,221,255)'],\r\n                [0.50, 'rgb(255,255,255)'],\r\n                [0.51, 'rgb(253, 237, 237)'],\r\n                [0.6, 'rgb(255,169,169)'],\r\n                [0.75, 'rgb(249,100,100)'],\r\n                [0.95, 'rgb(225,0,0)'],\r\n                [1.0, 'rgb(165,0,0)']\r\n            ],\r\n            xaxis: 'x',\r\n            yaxis: 'y',\r\n            colorbar: {\r\n                thickness: 10,\r\n                len: 0.5,\r\n            }\r\n        };\r\n        let indices = []\r\n        let linksLength = linkage.length + 1;\r\n        let currentLimitY = 0;\r\n        let prevLimitY = 0;\r\n        let clusterY = 0\r\n        let clusterX = 0\r\n        for (let i = 0; i < originalColumns.length; i++) {\r\n            indices.push(names.findIndex(name => name == originalColumns[i]))\r\n        }\r\n        let tickValues = []\r\n        for (let i = 0; i < linksLength; i++) {\r\n            tickValues.push((i + 1) * 10)\r\n        }\r\n\r\n        let dendrogramUP = {\r\n            'data': [],\r\n            'layout': {\r\n                'width': '100%', 'showlegend': false,\r\n                'xaxis': {\r\n                    'showticklabels': true, 'tickmode': 'array', 'ticks': 'outside',\r\n                    'showgrid': false, 'mirror': 'allticks', 'zeroline': false, 'showline': true, 'rangemode': 'tozero',\r\n                    'type': 'linear'\r\n                }, 'yaxis': {\r\n                    'showticklabels': true, 'ticks': 'outside', 'showgrid': false, 'mirror': 'allticks', 'zeroline':\r\n                        false, 'showline': true, 'rangemode': 'tozero', 'type': 'linear'\r\n                }, 'hovermode': 'closest', 'autosize': false, 'height': '100%'\r\n            }\r\n        }\r\n\r\n        let dendrogramRIGHT = {\r\n            'data': [],\r\n            'layout': {\r\n                'width': '100%', 'showlegend': false,\r\n                'xaxis': {\r\n                    'showticklabels': true, 'ticks': 'outside', 'showgrid': false, 'mirror': 'allticks', 'zeroline': false, 'showline': true,\r\n                    'rangemode': 'tozero', 'type': 'linear'\r\n                }, 'yaxis': {\r\n                    'showticklabels': true, 'tickmode': 'array', 'ticks': 'outside', 'showgrid': false,\r\n                    'mirror': 'allticks', 'zeroline': false, 'showline': true, 'rangemode': 'tozero',\r\n                    'type': 'linear'\r\n                }, 'hovermode': 'closest', 'autosize': false,\r\n                'height': '100%'\r\n            }\r\n        }\r\n        let history = {}\r\n\r\n        linkage.forEach((link, i) => {\r\n            let l0, l1;\r\n            if (indices[link[0]] + 1) {\r\n                l0 = indices[link[0]] + 1 ?? link[0] + 1\r\n            }\r\n            if (indices[link[1]] + 1) {\r\n                l1 = indices[link[1]] + 1 ?? link[1] + 1\r\n            }\r\n            if (currentLimitY == 0) {\r\n                currentLimitY = (parseFloat(i + 1) / linksLength);\r\n            }\r\n            if (l0 <= linksLength && l1 <= linksLength) {\r\n                clusterX = ((l0 * (Math.max(...tickValues) / linksLength) + l1 * (Math.max(...tickValues) / linksLength)) / 2)\r\n                dendrogramUP.data.push({\r\n                    'yaxis': 'y2', 'x': [l0 * 10, l0 * 10, l1 * 10, l1 * 10],\r\n                    'mode': 'lines', 'xaxis': 'x', 'marker': { 'color': `${this.indexToColor(i)}` },\r\n                    'y': [\r\n                        prevLimitY, currentLimitY,\r\n                        currentLimitY, prevLimitY\r\n                    ],\r\n                    'type': 'scatter'\r\n                })\r\n\r\n            } else {\r\n                prevLimitY = l0 <= linksLength ? currentLimitY : history[link[0]]?.y_current;\r\n                currentLimitY = (parseFloat(i + 1) / linksLength);\r\n                let x = [\r\n                    (l0 <= linksLength ? l0 * 10. : history[link[0]]?.x),\r\n                    (l0 <= linksLength ? l0 * 10. : history[link[0]]?.x),\r\n                    (l1 <= linksLength ? l1 * 10. : history[link[1]]?.x),\r\n                    (l1 <= linksLength ? l1 * 10. : history[link[1]]?.x),\r\n                ]\r\n                let y = [\r\n                    history[link[0]]?.y_current ?? 0, currentLimitY,\r\n                    currentLimitY, history[link[1]]?.y_current ?? 0\r\n                ]\r\n                dendrogramUP.data.push({\r\n                    'yaxis': 'y2', 'x': x,\r\n                    'mode': 'lines', 'xaxis': 'x', 'marker': { 'color': `${this.indexToColor(i)}` },\r\n                    'y': y,\r\n                    'type': 'scatter'\r\n                })\r\n                clusterX = x.reduce((prev, curr) => prev + curr, 0) / 4;\r\n\r\n            }\r\n            history[linksLength + i] = { x: clusterX, y_current: currentLimitY }\r\n\r\n        })\r\n\r\n\r\n\r\n        let currentLimitX = 0;\r\n        let prevLimitX = 0;\r\n        history = []\r\n        linkage.forEach((link, i) => {\r\n            let l0 = indices[link[0]] + 1\r\n            let l1 = indices[link[1]] + 1\r\n\r\n            if (currentLimitX == 0) {\r\n                currentLimitX = (parseFloat(i + 1) / linksLength);\r\n            }\r\n            if (l0 <= linksLength && l1 <= linksLength) {\r\n                clusterY = ((l0 * -10 + l1 * -10) / 2) - 2\r\n                dendrogramRIGHT.data.push({\r\n                    'yaxis': 'y', 'y': [l0 * -10, l0 * -10, l1 * -10, l1 * -10],\r\n                    'mode': 'lines', 'xaxis': 'x2', 'marker': { 'color': `${this.indexToColor(i)}` },\r\n                    'x': [\r\n                        prevLimitX, currentLimitX,\r\n                        currentLimitX, prevLimitX\r\n                    ],\r\n                    'type': 'scatter'\r\n                })\r\n            } else {\r\n                prevLimitX = l0 <= linksLength ? currentLimitX : history[link[0]].x;\r\n                currentLimitX = (parseFloat(i + 1) / linksLength);\r\n                let y = [\r\n                    (l0 <= linksLength ? l0 * -10. : history[link[0]]?.y),\r\n                    (l0 <= linksLength ? l0 * -10. : history[link[0]]?.y),\r\n                    (l1 <= linksLength ? l1 * -10. : history[link[1]]?.y),\r\n                    (l1 <= linksLength ? l1 * -10. : history[link[1]]?.y),\r\n                ]\r\n                dendrogramRIGHT.data.push({\r\n                    'yaxis': 'y', 'y': y,\r\n                    'mode': 'lines', 'xaxis': 'x2', 'marker': { 'color': `${this.indexToColor(i)}` },\r\n                    'x': [\r\n                        history[link[0]]?.x ?? 0, currentLimitX,\r\n                        currentLimitX, history[link[1]]?.x ?? 0\r\n                    ],\r\n                    'type': 'scatter'\r\n                })\r\n                clusterY = y.reduce((prev, curr) => prev + curr, 0) / 4\r\n            }\r\n            history[linksLength + i] = { y: clusterY, x: currentLimitX }\r\n        })\r\n\r\n        var layout2 = {\r\n            annotations: [],\r\n            font: {\r\n                size: 10\r\n            },\r\n            autosize: true,\r\n\r\n            yaxis: {\r\n                domain: [0, 0.75],\r\n                mirror: false,\r\n                showgrid: false,\r\n                showline: false,\r\n                zeroline: false,\r\n                showticklabels: true,\r\n                ticks: \"\",\r\n                tickvals: tickValues.map(tick => -tick),\r\n                ticktext: names,\r\n                tickangle: -45,\r\n\r\n            },\r\n            xaxis: {\r\n                domain: [0, 0.75],\r\n                mirror: false,\r\n                showgrid: false,\r\n                showline: false,\r\n                zeroline: false,\r\n                showticklabels: true,\r\n                ticks: \"\",\r\n                tickvals: tickValues,\r\n                ticktext: names,\r\n                tickangle: -90,\r\n\r\n            },\r\n            xaxis2: {\r\n                domain: [0.75, 1],\r\n                mirror: false,\r\n                showgrid: false,\r\n                showline: false,\r\n                zeroline: false,\r\n                showticklabels: false,\r\n                ticks: \"\",\r\n                ticktext: names,\r\n            },\r\n            yaxis2: {\r\n                domain: [0.75, 1],\r\n                mirror: false,\r\n                showgrid: false,\r\n                showline: false,\r\n                zeroline: false,\r\n                showticklabels: false,\r\n                ticktext: names,\r\n            },\r\n            showlegend: false,\r\n            coloraxis: {\r\n                colorscale: 'YlGnBu',\r\n                showscale: true,\r\n                cmin: -1,\r\n                cmax: 1\r\n            },\r\n            margin: { l: 60, r: 30, b: 60, t: 30 },\r\n\r\n        };\r\n        for (var i = 0; i < names.length; i++) {\r\n            for (var j = names.length - 1; j >= 0; j--) {\r\n                var currentValue = correlations[i][j];\r\n                let textColor\r\n                if (currentValue <= 0.0) {\r\n                    textColor = 'black';\r\n                } else {\r\n                    textColor = 'black';\r\n                }\r\n                var result = {\r\n                    xref: 'x',\r\n                    yref: 'y',\r\n                    x: tickValues[i],\r\n                    y: -tickValues[j],\r\n                    text: currentValue.toFixed(2),\r\n                    font: {\r\n                        family: 'Arial',\r\n                        size: 8,\r\n                        color: textColor\r\n                    },\r\n                    showarrow: false,\r\n                };\r\n                layout2.annotations.push(result);\r\n            }\r\n        }\r\n        let data = dendrogramUP['data']\r\n        data = data.concat(dendrogramRIGHT['data'])\r\n\r\n        trace4['x'] = tickValues\r\n        trace4['y'] = tickValues.map(tick => -tick)\r\n\r\n        data = data.concat(trace4)\r\n\r\n        Plotly.newPlot(id, data, layout2, { ...plotlyImageExportConfig, responsive: true });\r\n    }\r\n    PFIBoxplot(id, importances, columns) {\r\n        let traces = []\r\n        let avgs = []\r\n        importances.forEach(importance => {\r\n            const importancesMean = importance.reduce((a, b) => a + b, 0)\r\n            avgs.push((importancesMean / importance.length))\r\n        });\r\n        let max = Math.max(...avgs)\r\n        let min = Math.min(...avgs)\r\n\r\n        importances.forEach((importance, index) => {\r\n\r\n            traces.push(\r\n                {\r\n                    x: Array.from(importance),\r\n                    type: 'box',\r\n                    name: columns[index],\r\n                    marker: { color: this.indexToColor(index, importances.length) },\r\n                }\r\n            )\r\n        });\r\n        var layout = {\r\n            title: {\r\n                text: 'Permutation Feature Importance',\r\n                font: {\r\n                    size: 14\r\n                },\r\n                xref: 'paper',\r\n                x: 0.05,\r\n            },\r\n            showlegend: false,\r\n            xaxis: {\r\n                linecolor: 'black',\r\n                linewidth: 1,\r\n                mirror: true,\r\n                zeroline: false,\r\n\r\n            },\r\n            yaxis: {\r\n                linecolor: 'black',\r\n                linewidth: 1,\r\n                mirror: true,\r\n                automargin: true,\r\n                zeroline: false,\r\n\r\n            },\r\n        };\r\n\r\n        Plotly.newPlot('pfi_boxplot_' + id, traces, layout, { responsive: true });\r\n    }\r\n    plotPDP(id, averages, grids, labels, columns, categorical_columns) {\r\n        let pfiChartId = 'pdp_containers_' + id;\r\n        id = 'pdp_plot_' + id\r\n\r\n        grids.forEach((grid, i) => {\r\n            let element = document.getElementById(pfiChartId);\r\n            let chartContainer = document.createElement(\"div\");\r\n            chartContainer.classList.add(\"column\", \"is-6\");\r\n            let chartId = id + '_' + i;\r\n            chartContainer.id = chartId\r\n            chartContainer.style.height = \"400px\";\r\n            element.after(chartContainer)\r\n            let traces = []\r\n            const isCategorical = categorical_columns.includes(columns[i])\r\n            averages[i].forEach((average, index) => {\r\n                if (isCategorical) {\r\n                    traces.push(\r\n                        {\r\n                            x: grid,\r\n                            y: Array.from(average),\r\n                            type: 'bar',\r\n                            name: labels[index],\r\n                            marker: { color: this.indexToColor(index, averages[i].length) }\r\n                        }\r\n                    )\r\n                } else {\r\n                    traces.push(\r\n                        {\r\n                            x: grid,\r\n                            y: Array.from(average),\r\n                            mode: 'line',\r\n                            name: labels[index],\r\n                            marker: { color: this.indexToColor(index, averages[i].length) }\r\n                        }\r\n                    )\r\n                }\r\n\r\n            });\r\n            var layout = {\r\n\r\n                title: {\r\n                    text: 'Partial Dependence Plot - ' + columns[i],\r\n                    font: {\r\n                        size: 14\r\n                    },\r\n                    xref: 'paper',\r\n                    x: 0.05,\r\n                },\r\n                legend: { \"orientation\": \"h\" },\r\n\r\n                font: {\r\n                    size: 10\r\n                },\r\n                autosize: true,\r\n                xaxis: {\r\n                    linecolor: 'black',\r\n                    linewidth: 1,\r\n                    mirror: true,\r\n                    zeroline: false,\r\n                },\r\n                yaxis: {\r\n                    linecolor: 'black',\r\n                    zeroline: false,\r\n                    linewidth: 1,\r\n                    mirror: true,\r\n                    title: {\r\n                        text: 'Prediction',\r\n                    }\r\n                },\r\n            };\r\n\r\n            Plotly.newPlot(chartId, traces, layout, { ...plotlyImageExportConfig, responsive: true });\r\n        });\r\n    }\r\n    plotPDPRegression(id, averages, grids, labels, columns, categoricals) {\r\n        let pfiChartId = 'pfi_boxplot_' + id;\r\n        let element = document.getElementById(pfiChartId);\r\n        let chartContainer = document.createElement(\"div\");\r\n        chartContainer.classList.add(\"column\", \"is-6\");\r\n        const chartId = id + '_number';\r\n        chartContainer.id = chartId\r\n        chartContainer.style.height = \"400px\";\r\n        element.after(chartContainer);\r\n        element = document.getElementById(chartId);\r\n\r\n        chartContainer = document.createElement(\"div\");\r\n        chartContainer.classList.add(\"column\", \"is-6\");\r\n        const chartIdCategorical = id + '_class';\r\n        chartContainer.id = chartIdCategorical\r\n        chartContainer.style.height = \"400px\";\r\n        element.after(chartContainer);\r\n\r\n        let traces = []\r\n        let traces_categoricals = []\r\n        let allxs = []\r\n        // grids.forEach((grid, i) => {\r\n        //     if (!categoricals.includes(columns[i])) {\r\n        //         allxs = allxs.concat(grid)\r\n        //     }\r\n        // })\r\n        // scaler.fit(allxs)\r\n        grids.forEach((grid, i) => {\r\n            if (!categoricals.includes(columns[i])) {\r\n                averages[i].forEach((average, index) => {\r\n                    let scaler = new MinMaxScaler();\r\n                    scaler.fit(grid)\r\n                    // let xs = scaler.transform(grid)\r\n                    let xs = grid\r\n\r\n                    traces.push(\r\n                        {\r\n                            x: xs,\r\n                            y: Array.from(average),\r\n                            mode: 'line',\r\n                            name: columns[i],\r\n                            marker: { color: this.indexToColor(i, averages.length) }\r\n                        }\r\n                    )\r\n                });\r\n            } else {\r\n                averages[i].forEach((average, index) => {\r\n                    traces_categoricals.push(\r\n                        {\r\n                            x: grid,\r\n                            y: Array.from(average),\r\n                            type: 'bar',\r\n                            name: columns[i],\r\n                            marker: { color: this.indexToColor(i, averages.length), opacity: 0.7 }\r\n                        }\r\n                    )\r\n                });\r\n            }\r\n\r\n        });\r\n        var layout = {\r\n            title: {\r\n                text: 'Partial Dependence Plot',\r\n                font: {\r\n                    size: 14\r\n                },\r\n                xref: 'paper',\r\n                x: 0.05,\r\n            },\r\n            legend: {\r\n                x: 0.1,\r\n                y: 1,\r\n                orientation: \"h\",\r\n                font: {\r\n                    size: 8\r\n                },\r\n                bgcolor: 'rgba(0,0,0,0)',\r\n            },\r\n\r\n            font: {\r\n                size: 10\r\n            },\r\n            autosize: true,\r\n            xaxis: {\r\n                linecolor: 'black',\r\n                linewidth: 1,\r\n                mirror: true,\r\n                zeroline: false,\r\n                title: {\r\n                    text: 'Feature',\r\n                }\r\n            },\r\n            yaxis: {\r\n                linecolor: 'black',\r\n                linewidth: 1,\r\n                mirror: true,\r\n                zeroline: false,\r\n                title: {\r\n                    text: 'Prediction',\r\n                }\r\n            },\r\n        };\r\n        Plotly.newPlot(chartId, traces, layout, { ...plotlyImageExportConfig, responsive: true });\r\n        var layout2 = {\r\n            title: {\r\n                text: 'Partial Dependence Plot',\r\n                font: {\r\n                    size: 14\r\n                },\r\n                xref: 'paper',\r\n                x: 0.05,\r\n            },\r\n\r\n            barmode: 'group',\r\n            font: {\r\n                size: 10\r\n            },\r\n            autosize: true,\r\n            xaxis: {\r\n                linecolor: 'black',\r\n                linewidth: 1,\r\n                mirror: true,\r\n                title: {\r\n                    text: 'Feature',\r\n                }\r\n            },\r\n            bargap: 0.05,\r\n            yaxis: {\r\n                linecolor: 'black',\r\n                linewidth: 1,\r\n                mirror: true,\r\n                title: {\r\n                    text: 'Prediction',\r\n                }\r\n            },\r\n        };\r\n\r\n        Plotly.newPlot(chartIdCategorical, traces_categoricals, layout2);\r\n    }\r\n    drawAutoencoder(points, xIndex = 1, yIndex = 0, labels, is_classification) {\r\n        labels = labels.map(l => l[0])\r\n        let colors = [];\r\n        if (is_classification) {\r\n            var uniqueLabels = [...new Set(labels)];\r\n            colors = points.map((_, i) => this.indexToColor(uniqueLabels.indexOf(labels[i]), uniqueLabels.length))\r\n        } else {\r\n            let min = Math.min(...labels);\r\n            let max = Math.max(...labels);\r\n            colors = labels.map(label => this.indexToColorSequential(label, min, max))\r\n        }\r\n        var trace1 = {\r\n            x: points.map(point => point[xIndex]),\r\n            y: points.map(point => point[yIndex]),\r\n            mode: 'markers',\r\n            type: 'scatter',\r\n            marker: {\r\n                size: 3,\r\n                color: colors\r\n            }\r\n        };\r\n\r\n        var data = [trace1];\r\n\r\n        var layout = {\r\n            legend: {\r\n                y: 0.5,\r\n                yref: 'paper',\r\n                font: {\r\n                    family: 'Arial, sans-serif',\r\n                    size: 20,\r\n                    color: 'grey',\r\n                }\r\n            },\r\n            xaxis: {\r\n                linecolor: 'black',\r\n                linewidth: 1,\r\n                mirror: true,\r\n                zeroline: false,\r\n\r\n            },\r\n            yaxis: {\r\n                linecolor: 'black',\r\n                linewidth: 1,\r\n                zeroline: false,\r\n                mirror: true,\r\n            },\r\n            margin: {\r\n                l: 50,\r\n                r: 40,\r\n                b: 50,\r\n                t: 40,\r\n                pad: 20\r\n            },\r\n        };\r\n\r\n        Plotly.newPlot('autoencoder', data, layout);\r\n    }\r\n    plotROC(id, fprs, tprs, labels, auc) {\r\n\r\n        let traces = []\r\n        fprs.forEach((fpr, index) => {\r\n            traces.push(\r\n                {\r\n                    x: fpr,\r\n                    y: tprs[index],\r\n                    mode: 'line',\r\n                    name: labels[index],\r\n                    marker: { color: this.indexToColor(index, labels.length) }\r\n                }\r\n            )\r\n        });\r\n        traces.push(\r\n            {\r\n                x: [0, 1],\r\n                y: [0, 1],\r\n                mode: 'line',\r\n                name: 'Chance Line',\r\n                marker: { color: 'black' },\r\n                line: {\r\n                    dash: 'dot',\r\n                    width: 1\r\n                }\r\n            }\r\n        )\r\n        var layout = {\r\n            title: {\r\n                text: (labels.length > 2 ? ' One-vs-Rest Strategy ROC Curve' : 'ROC Curve') + ' AUC: ' + (+auc).toFixed(2),\r\n                font: {\r\n                    size: 14\r\n                },\r\n            },\r\n            margin: {\r\n                b: 40,\r\n            },\r\n            legend: {\r\n                x: 1,\r\n                xanchor: 'right',\r\n                y: 0.1,\r\n                bgcolor: 'rgba(0,0,0,0)',\r\n\r\n            },\r\n            showlegend: true,\r\n            xaxis: {\r\n                linecolor: 'black',\r\n                linewidth: 1,\r\n                range: [-0.1, 1.1],\r\n                mirror: true,\r\n                title: {\r\n                    text: 'False positive rate',\r\n                },\r\n            },\r\n            yaxis: {\r\n                linecolor: 'black',\r\n                linewidth: 1,\r\n                mirror: true,\r\n                range: [-0.1, 1.1],\r\n                title: {\r\n                    text: 'True positive rate',\r\n                }\r\n            },\r\n        };\r\n\r\n        Plotly.newPlot('roc_plot_' + id, traces, layout, { responsive: true });\r\n    }\r\n\r\n    uniformSplist(n) {\r\n        let numbers = []\r\n        for (let i = 0; i < n; i++) {\r\n            numbers.push(i / (n - 1))\r\n        }\r\n        return numbers;\r\n    }\r\n    parallelCoordinatePlot(features, labels, column_names, is_classification) {\r\n        let labelEncoder = new LabelEncoder()\r\n        if (is_classification) {\r\n            labelEncoder.fit(labels)\r\n            labels = labelEncoder.transform(labels)\r\n        }\r\n        var uniqueLabels = [...new Set(labels)];\r\n        if (uniqueLabels.length === 2) {\r\n            uniqueLabels.sort()\r\n        }\r\n        console.log('pc labels', uniqueLabels);\r\n\r\n        let points = this.uniformSplist(uniqueLabels.length)\r\n        let colorMapping = uniqueLabels.map((label, i) => [points[i], this.indexToColor(uniqueLabels.indexOf(label), uniqueLabels.length)])\r\n\r\n        var data = [{\r\n            type: 'parcoords',\r\n            pad: [20, 20, 20, 20],\r\n            line: {\r\n                color: labels,\r\n                colorscale: is_classification ? colorMapping : 'jet',\r\n            },\r\n            dimensions: []\r\n        }];\r\n\r\n        column_names.forEach((column_name, i) => {\r\n            data[0].dimensions.push({\r\n                label: column_name,\r\n                values: features.map(m => m[i])\r\n            })\r\n\r\n        })\r\n        var layout = {\r\n            title: {\r\n                text: 'Parallel Coordinate Plot',\r\n                font: {\r\n                    size: 14\r\n                },\r\n                xref: 'paper',\r\n                x: 0.05,\r\n            },\r\n            xaxis: {\r\n                linecolor: 'black',\r\n                linewidth: 1,\r\n                mirror: true,\r\n            },\r\n            yaxis: {\r\n                linecolor: 'black',\r\n                linewidth: 1,\r\n                mirror: true,\r\n            },\r\n        };\r\n\r\n        Plotly.newPlot('parallel_coordinate_plot', data, layout, { ...plotlyImageExportConfig, responsive: true, modeBarButtonsToRemove: ['resetScale2d', 'select2d', 'resetViews', 'sendDataToCloud', 'hoverCompareCartesian', 'lasso2d', 'drawopenpath '] });\r\n    }\r\n}","/* eslint-disable no-unused-vars */\r\n/* eslint-disable no-undef */\r\n\r\nimport { getDanfo } from '@/utils/danfo_loader';\r\nimport { encode_name } from './utils';\r\nimport { FeatureCategories, Settings } from \"./settings.js\";\r\nexport default class UI {\r\n    constructor(parser, chart_controller) {\r\n        this.data_parser = parser\r\n        this.chart_controller = chart_controller\r\n    }\r\n\r\n    get_model_settings() {\r\n        let model_settings = {};\r\n        let model_name = parseInt(document.getElementById('model_name').value);\r\n        const target = document.getElementById(\"target\").value;\r\n        let is_classification = document.getElementById(target).value !== FeatureCategories.Numerical;\r\n        var model;\r\n        if (is_classification) {\r\n            for (const m in Settings.classification) {\r\n                if (Settings.classification[m].value === model_name) {\r\n                    model_name = m\r\n                    model_settings.name = Settings.classification[m].label\r\n                    model = Settings.classification[model_name];\r\n                    break;\r\n                }\r\n            }\r\n        } else {\r\n            for (const m in Settings.regression) {\r\n                if (Settings.regression[m].value === model_name) {\r\n                    model_name = m\r\n                    model_settings.name = Settings.regression[m].label\r\n                    model = Settings.regression[model_name];\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        model_name = parseInt(document.getElementById('model_name').value);\r\n        for (const option in model?.options) {\r\n            if (model.options[option].type === \"select\") {\r\n                let option_value = document.getElementById(option + \"_\" + model_name)?.value;\r\n                model_settings[option] = option_value ?? model.options[option].default\r\n            } else {\r\n                if (model.options[option].type === \"number\") {\r\n                    let option_value = document.getElementById(option + \"_\" + model_name)?.value;\r\n                    model_settings[option] = !option_value ? model.options[option].default : parseFloat(option_value)\r\n                } else {\r\n                    let option_value = document.getElementById(option + \"_\" + model_name)?.value;\r\n                    model_settings[option] = option_value ?? model.options[option].default\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        return model_settings\r\n    }\r\n\r\n    async scale_data(dataset, column, normalization_type) {\r\n        const danfo = await getDanfo();\r\n        switch (normalization_type) {\r\n            case \"1\": {\r\n                let scaler = new danfo.MinMaxScaler()\r\n                scaler.fit(dataset[column])\r\n                dataset.addColumn(column, scaler.transform(dataset[column]), { inplace: true })\r\n                break;\r\n            }\r\n            case \"2\":\r\n                dataset.addColumn(column, dataset[column].apply((x) => x * x), { inplace: true })\r\n                break;\r\n            case \"3\":\r\n                dataset.addColumn(column, dataset[column].apply((x) => Math.log(x)), { inplace: true })\r\n                break;\r\n            case \"4\": {\r\n                let scaler = new danfo.StandardScaler()\r\n                scaler.fit(dataset[column])\r\n                dataset.addColumn(column, scaler.transform(dataset[column]), { inplace: true })\r\n                break;\r\n            }\r\n            default:\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n\r\n    createAlgorithmsSelect(category) {\r\n        let result = '<div id=\"algorithm\" class=\"column is-9\"><div class=\"select is-small mb-1\"> <select id=\"model_name\" class=\"select\">'\r\n        const label = category == 1 ? \"regression\" : \"classification\"\r\n        for (const key in Settings[label]) {\r\n            if (Settings.hasOwnProperty.call(Settings[label], key)) {\r\n                const item = Settings[label][key];\r\n                result += `<option value=\"${item.value}\">${item.label}</option>`\r\n            }\r\n        }\r\n        result += '</select></div></div>'\r\n\r\n        return result\r\n    }\r\n    updateAlgorithmsSelect(category) {\r\n        let result = '<div class=\"select is-small mb-1\"> <select id=\"model_name\" class=\"select\">'\r\n        const label = category == 1 ? \"regression\" : \"classification\"\r\n        for (const key in Settings[label]) {\r\n            if (Settings.hasOwnProperty.call(Settings[label], key)) {\r\n                const item = Settings[label][key];\r\n                result += `<option value=\"${item.value}\">${item.label}</option>`\r\n            }\r\n        }\r\n        result += '</select></div>'\r\n        return result\r\n    }\r\n\r\n    find_selected_columns(columns, get_all = false) {\r\n        const selected_columns = [];\r\n        columns.forEach(column => {\r\n            let key = encode_name(column)\r\n            if (document.getElementById(key + '-checkbox').checked || get_all) {\r\n                selected_columns.push(column);\r\n            }\r\n        });\r\n        return selected_columns;\r\n    }\r\n    find_selected_columns_types(columns, include_target = true) {\r\n        if (include_target === false) {\r\n            const target = document.getElementById(\"target\").value;\r\n            columns = columns.filter(column => column !== target)\r\n        }\r\n        const column_types = []\r\n        columns.forEach(column => {\r\n            let key = encode_name(column)\r\n            column_types.push({\r\n                name: column,\r\n                type: document.getElementById(key).value\r\n            })\r\n        });\r\n        return column_types\r\n    }\r\n    createTargetDropdown(items) {\r\n        let result = '<div  class=\"column is-12\"><div class=\"label is-size-7\">Target</div><div class=\"select is-fullwidth is-small mb-1\"> <select id=\"target\">'\r\n        items.columns.forEach(column => {\r\n            let key = encode_name(column)\r\n            result += `<option value=\"${key}\">${key}</option>`\r\n\r\n        });\r\n        result += '</select></div></div>'\r\n        return result\r\n    }\r\n    createFeaturesDropdown(items) {\r\n        let result = '<div  class=\"column is-4\"><h4>Target</h4><div class=\"select mb-1\"> <select class=\"select\" id=\"kde_feature\">'\r\n        for (const key in items) {\r\n            result += `<option value=\"${key}\">${key}</option>`\r\n        }\r\n        result += '</select></div></div>'\r\n        return result\r\n    }\r\n    insertSpaces(string) {\r\n        string = string.replace(/([a-z])([A-Z])/g, '$1 $2');\r\n        string = string.replace(/([A-Z])([A-Z][a-z])/g, '$1 $2')\r\n        return string;\r\n    }\r\n    renderDatasetStats(data, continuousFeatures, categoricalFeatures) {\r\n        //build numerical feature table table\r\n        let continuousFeaturesStats = []\r\n        let categoricalFeaturesStats = []\r\n\r\n        const continuousHeaders =\r\n            [{ field: 'name', label: '#' }, { field: 'min', label: 'Min' }, { field: 'max', label: 'Max' },\r\n            { field: 'mean', label: 'Mean' },\r\n            { field: 'median', label: 'Median' }\r\n                , { field: 'std', label: 'std' }, { field: 'missingVlauesCount', label: '# NAs' }\r\n                , { field: 'type', label: 'type' }\r\n            ];\r\n        const categoricalHeaders =\r\n            [{ field: 'name', label: '#' }, { field: 'shape', label: 'Shape' }, { field: 'mode', label: 'Mode' }, { field: 'percentage', label: 'Mode Percentage' }\r\n                , { field: 'missingVlauesCount', label: '# NAs' }\r\n            ];\r\n\r\n        for (let i = 0; i < continuousFeatures.length; i++) {\r\n            const column = continuousFeatures[i].name;\r\n            continuousFeaturesStats.push({\r\n                name: column,\r\n                min: data.column(column).min().toFixed(2),\r\n                max: data.column(column).max().toFixed(2),\r\n                median: data.column(column).median().toFixed(2),\r\n                mean: data.column(column).mean().toFixed(2),\r\n                std: data.column(column).std().toFixed(2),\r\n                missingValuesCount: data.column(column).isNa().sum(),\r\n                type: 1,\r\n                selected: continuousFeatures[i].selected\r\n            })\r\n        }\r\n\r\n\r\n        categoricalFeatures.forEach((item) => {\r\n            let column = item.name\r\n            const shape = [...new Set(data.column(column).values)];\r\n            const category_info = this.getCategoricalMode(data.column(column).values)\r\n            categoricalFeaturesStats.push({\r\n                name: column,\r\n                shape: shape.length,\r\n                mode: category_info['mode'],\r\n                percentage: ((category_info[category_info['mode']] / category_info['total'])).toFixed(2),\r\n                missingValuesCount: data.column(column).isNa().sum(),\r\n                type: 2,\r\n                selected: item.selected\r\n            })\r\n\r\n        });\r\n        return [\r\n            continuousHeaders,\r\n            continuousFeaturesStats,\r\n            categoricalHeaders,\r\n            categoricalFeaturesStats,\r\n        ]\r\n\r\n    }\r\n    getCategoricalMode(arr) {\r\n        if (arr.length === 0) {\r\n            return null;\r\n        }\r\n\r\n        const categoryCount = {};\r\n        categoryCount['total'] = 0\r\n        categoryCount['mode'] = ''\r\n        for (let i = 0; i < arr.length; i++) {\r\n            const category = arr[i];\r\n            if (category === null || category === undefined) {\r\n                continue\r\n            }\r\n            categoryCount['total']++\r\n            if (category in categoryCount) {\r\n                categoryCount[category]++;\r\n            } else {\r\n                categoryCount[category] = 1;\r\n            }\r\n        }\r\n\r\n        let modeCategory = null;\r\n        let modeCount = 0;\r\n        for (const category in categoryCount) {\r\n            if (category === 'total') {\r\n                continue\r\n            }\r\n            if (categoryCount[category] > modeCount) {\r\n                modeCategory = category;\r\n                modeCount = categoryCount[category];\r\n            }\r\n        }\r\n        categoryCount['mode'] = modeCategory;\r\n        return categoryCount;\r\n    }\r\n\r\n    get_numeric_columns(dataset, filter) {\r\n        let selected_columns = this.find_selected_columns(dataset.columns, !filter)\r\n        let selected_columns_types = this.find_selected_columns_types(selected_columns);\r\n        selected_columns = selected_columns.filter(column => {\r\n            let i = selected_columns_types.findIndex(col => col.name === column)\r\n            if (selected_columns_types[i]?.type === FeatureCategories.Numerical) {\r\n                return true;\r\n            }\r\n            return false;\r\n        })\r\n        let numericColumns = []\r\n        dataset.columns.forEach(column => {\r\n            if (dataset.column(column).dtype !== 'string' && column !== \"Id\" && selected_columns.includes(column)) {\r\n                numericColumns.push(column)\r\n            }\r\n        });\r\n        return numericColumns\r\n    }\r\n    get_categorical_columns(dataset, filter) {\r\n        let selected_columns = this.find_selected_columns(dataset.columns, !filter)\r\n        let selected_columns_types = this.find_selected_columns_types(selected_columns);\r\n        selected_columns = selected_columns.filter(column => {\r\n            let i = selected_columns_types.findIndex(col => col.name === column)\r\n            if (i !== -1 && selected_columns_types[i]?.type !== FeatureCategories.Numerical) {\r\n                return true;\r\n            }\r\n            return false;\r\n        })\r\n        let categorical_columns = []\r\n        dataset.columns.forEach(column => {\r\n            if (column !== \"Id\" && selected_columns.includes(column)) {\r\n                categorical_columns.push(column)\r\n            }\r\n        });\r\n        return categorical_columns\r\n    }\r\n    column_types(columns) {\r\n        let selected_columns = this.find_selected_columns(columns, false)\r\n        return this.find_selected_columns_types(selected_columns);\r\n    }\r\n    async visualize(dataset, file_name) {\r\n        this.renderDatasetStats(dataset);\r\n        let numericColumns = this.get_numeric_columns(dataset, true)\r\n        let categorical_columns = this.get_categorical_columns(dataset, true)\r\n        const target = document.getElementById(\"target\").value;\r\n        let columns = [...new Set(numericColumns.concat(categorical_columns))];\r\n\r\n        const filterd_dataset = dataset.loc({ columns: columns })\r\n        filterd_dataset.dropNa({ axis: 1, inplace: true })\r\n        numericColumns = numericColumns.filter(m => m !== target)\r\n        let is_classification = document.getElementById(target).value !== FeatureCategories.Numerical;\r\n        //draw kdes\r\n        let limit = 0\r\n        if (numericColumns.length > 0 && limit < 10) {\r\n            document.getElementById(\"container\").innerHTML = \"\";\r\n            numericColumns.forEach(col => {\r\n                if (col !== target) {\r\n                    this.chart_controller.draw_kde(filterd_dataset, col, target, \"nrd\", is_classification);\r\n                }\r\n            });\r\n            limit++;\r\n        }\r\n        limit = 0\r\n        //draw categories barplot\r\n        if (categorical_columns.length > 0 && limit < 10) {\r\n            document.getElementById(\"categories_barplots\").innerHTML = \"\";\r\n            categorical_columns.forEach(col => {\r\n                if (col !== target) {\r\n                    this.chart_controller.draw_categorical_barplot(filterd_dataset.loc({ columns: [col] }).values, target, col);\r\n                }\r\n            });\r\n            limit++;\r\n        }\r\n        if (is_classification) {\r\n            let labels = dataset.column(target).values;\r\n            let unique_labels = [...new Set(labels)];\r\n            let counts = [];\r\n            for (let i = 0; i < unique_labels.length; i++) {\r\n                counts.push(labels.filter(m => m === unique_labels[i]).length);\r\n            }\r\n            this.chart_controller.classification_target_chart(counts, unique_labels, file_name, \"target_chart\", target);\r\n        } else {\r\n            this.chart_controller.regression_target_chart(dataset.column(target).values, \"target_chart\", target);\r\n        }\r\n\r\n        numericColumns = this.get_numeric_columns(dataset, true)\r\n        categorical_columns = this.get_categorical_columns(dataset, true)\r\n        // features = Object.values(numericColumns).concat(Object.values(categorical_columns))\r\n\r\n        dataset = this.data_parser.handle_missing_values(dataset)\r\n        // this.chart_controller.ScatterplotMatrix(dataset.loc({ columns: features }).values, features, dataset.column(target).values, categorical_columns.length,\r\n        //     is_classification, numericColumns, categorical_columns, dataset).then(() => {\r\n        //         document.getElementById('splom_update').addEventListener('click', async function (e) {\r\n        //             console.log('update');\r\n        //             Plotly.purge('scatterplot_mtx');\r\n        //             $('#scatterplot_mtx').empty()\r\n        //             await current_class.visualize(dataset);\r\n        //         });\r\n        //     })\r\n\r\n    }\r\n\r\n\r\n    // async createSampleDataTable(dataset) {\r\n    //     let cols = []\r\n    //     let column_names = dataset.columns\r\n    //     for (let i = 0; i < column_names.length; i++) {\r\n    //         cols.push({ title: column_names[i] })\r\n    //     }\r\n    //     new DataTable('#sample_data_table', {\r\n    //         responsive: true,\r\n    //         columns: cols,\r\n    //         data: dataset.head(5).values,\r\n    //         info: false,\r\n    //         search: false,\r\n    //         ordering: false,\r\n    //         dom: '<\"my-class\">',\r\n    //         initComplete: function (settings, json) {\r\n    //             $('.my-class').html('Sample Data');\r\n    //         },\r\n    //         searching: false,\r\n    //         paging: false,\r\n    //         bDestroy: true,\r\n    //     });\r\n\r\n    // }\r\n    toggle_loading_progress(show = false) {\r\n        let element = document.getElementById(\"progress\");\r\n        if (!show) {\r\n            element.style.display = \"block\";\r\n        } else {\r\n            element.style.display = \"none\";\r\n        }\r\n\r\n    }\r\n    // show_settings(settings, numeric_columns, categorical_columns, target, dataset_name, i) {\r\n    //     let columns = numeric_columns.concat(categorical_columns)\r\n    //     let column_types = [];\r\n    //     for (let i = 0; i < columns.length; i++) {\r\n    //         const column = columns[i];\r\n    //         column_types.push({ column: column, type: document.getElementById(column + '--normal') })\r\n    //     }\r\n    //     let columns_transformation = '';\r\n    //     for (let i = 0; i < columns.length; i++) {\r\n    //         const column_name = encode_name(columns[i]);\r\n    //         let normalization_type = document.getElementById(column_name + '--normal')?.value;\r\n    //         if (normalization_type && normalization_type !== \"0\") {\r\n    //             columns_transformation += columns[i] + ': ' + normalization_type + ' '\r\n    //         }\r\n    //     }\r\n\r\n    //     let content = `\r\n    //     <div class=\"column is-12\">\r\n    //     <div class=\"notification\">\r\n    //     <p class=\"title my-1 is-5\">${settings.name}</p>\r\n    //     <div class=\"columns is-multiline is-gapless\">`;\r\n    //     for (const key in settings) {\r\n    //         if (key !== 'name') {\r\n    //             if (Object.hasOwnProperty.call(settings, key)) {\r\n    //                 const element = settings[key];\r\n    //                 content += `<div class=\"column is-12 \"><p><strong>${key}</strong>: ${element}</p></div>`\r\n    //             }\r\n    //         }\r\n\r\n    //     }\r\n    //     content += `<div class=\"column is-12 \"><p><strong>Dataset name :</strong> ${dataset_name}</p></div>`\r\n    //     content += `<div class=\"column is-12 \"><p><strong>Target :</strong> ${target}</p></div>`\r\n    //     content += `<div class=\"column is-12 \"><p><strong>Continuous featues :</strong> ${numeric_columns}</p></div>`\r\n    //     content += `<div class=\"column is-12 \"><p><strong>Categorical featues :</strong> ${categorical_columns}</p></div>`\r\n    //     content += `<div class=\"column is-12 \"><p><strong>Transformations :</strong> ${columns_transformation}</p></div>`\r\n    //     content += `<div class=\"column is-12 \">\r\n    //     <button class=\"button is-danger\" id=\"remove_${i}\"> Remove results </button>\r\n    //     </div>`\r\n\r\n    //     content += `</div></div></div>`\r\n    //     $(\"#tabs_info li[data-index='\" + i + \"'] #results_\" + i + \"\").append(content);\r\n\r\n    //     document.getElementById(\"remove_\" + i).addEventListener('click', () => {\r\n    //         $('#' + 'tab_' + i).remove();\r\n    //         if (document.getElementById(target).value !== FeatureCategories.Numerical) {\r\n    //             Plotly.purge('pca_results_' + i)\r\n    //             $('#predictions_table_' + i).DataTable().destroy();\r\n    //             $('#' + 'info_' + i).remove();\r\n    //         } else {\r\n    //             Plotly.purge('regression_y_yhat_' + i)\r\n    //             $('#predictions_table_' + i).DataTable().destroy();\r\n    //             $('#' + 'info_' + i).remove();\r\n    //         }\r\n\r\n    //     });\r\n    // }\r\n    // create_model_result_tab(index) {\r\n    //     $(\"#tabs_content\").append(`\r\n    //     <li data-index=\"${index}\" id=\"tab_${index}\">\r\n    //        <a>${index}</a>\r\n    //     </li>`)\r\n    //     $(\"#tabs_info\").append(`\r\n    //     <li data-index=\"${index}\" id=\"info_${index}\"  class=\" tabs-li\">\r\n    //     <div id=\"results_${index}\" class=\"columns is-multiline\"></div>\r\n    //     </li>`)\r\n    //     $(\"#tabs_content li\").removeClass(\"is-active\");\r\n    //     $(\"#tabs_info li\").removeClass(\"is-active\");\r\n    //     $(\"#tabs_info li[data-index='\" + index + \"']\").addClass(\"is-active\");\r\n    //     $(\"#tabs_content li[data-index='\" + index + \"']\").addClass(\"is-active\");\r\n    // }\r\n\r\n    init_tooltips(tippy) {\r\n        tippy('#kde_help', {\r\n            interactive: true,\r\n            popperOptions: {\r\n                positionFixed: true,\r\n            },\r\n            content: 'Default bandwidth method :Silvermans rule of thumb',\r\n        });\r\n        tippy('#normalization_help', {\r\n            interactive: true,\r\n            popperOptions: {\r\n                positionFixed: true,\r\n            },\r\n            content: '<p>not functional yet</p><p>standard scaler uses z = (x - u) / s</p><p>Transform features by scaling each feature to a given range</p>',\r\n            allowHTML: true,\r\n        });\r\n        tippy('#imputation_help', {\r\n            interactive: true,\r\n            popperOptions: {\r\n                positionFixed: true,\r\n            },\r\n            content: 'currently we are just deleting rows with missing values',\r\n            allowHTML: true,\r\n        });\r\n        tippy('#cv_help', {\r\n            interactive: true,\r\n            popperOptions: {\r\n                positionFixed: true,\r\n            },\r\n            content: 'option 1 and 2 are working',\r\n            allowHTML: true,\r\n        });\r\n    }\r\n\r\n    // init_tabs_events() {\r\n    //     $(\"#tabs_content\").on(\"click\", \"li\", function () {\r\n    //         var index = $(this).data(\"index\");\r\n    //         $(\"#tabs_content li\").not(this).removeClass(\"is-active\");\r\n    //         $(\"#tabs_info li\").removeClass(\"is-active\");\r\n    //         $(\"#tabs_info li[data-index='\" + index + \"']\").addClass(\"is-active\");\r\n    //         $(this).toggleClass(\"is-active \");\r\n    //     });\r\n    //     $(\".tabs ul li\").click(function () {\r\n    //         window.dispatchEvent(new Event('resize'));\r\n    //     });\r\n    // }\r\n    predictions_table_regression(x, y, predictions, tab_index) {\r\n        let table_columns = [];\r\n        x.addColumn(\"residuals: \", y.map((item, i) => item - predictions[i]), { inplace: true });\r\n        x.addColumn(\"predictions: \", predictions, { inplace: true });\r\n        x.addColumn(\"y\", y, { inplace: true });\r\n\r\n\r\n        x.columns.forEach(element => {\r\n            table_columns.push({ title: element });\r\n        });\r\n        let columns = x.columns.slice().reverse();\r\n        new DataTable('#predictions_table_' + tab_index, {\r\n            pageLength: 5,\r\n            responsive: false,\r\n            paging: true,\r\n            columnDefs: [\r\n                {\r\n                    render: function (data) {\r\n                        return data.toFixed(2);\r\n                    },\r\n                    targets: \"_all\",\r\n                }\r\n            ],\r\n            bPaginate: true,\r\n            columns: table_columns.reverse(),\r\n            data: x.loc({ columns: columns }).values,\r\n            bDestroy: true,\r\n        });\r\n    }\r\n    removeTable(tableId) {\r\n        $(tableId).DataTable().destroy()\r\n\r\n    }\r\n    predictions_table(x, y, predictions, probs = null, tab_index = 0) {\r\n        let table_columns = [];\r\n        if (probs !== null) {\r\n            x.addColumn(\"probs\", probs, { inplace: true });\r\n        }\r\n        x.addColumn(\"y\", y, { inplace: true });\r\n        x.addColumn(\"predictions\", predictions, { inplace: true });\r\n        x.columns.forEach(element => {\r\n            table_columns.push({ title: element });\r\n        });\r\n        let columns = x.columns.slice().reverse();\r\n        new DataTable('#predictions_table_' + tab_index, {\r\n            pageLength: 10,\r\n            responsive: false,\r\n            paging: true,\r\n            \"bPaginate\": true,\r\n            columns: table_columns.reverse(),\r\n            data: x.loc({ columns: columns }).values,\r\n            bDestroy: true,\r\n            columnDefs: [\r\n                {\r\n                    // render: function (data, type, row) {\r\n                    //     for (let i = 0; i < data.length; i++) {\r\n                    //         data[i] = data[i].toFixed(2);\r\n                    //     }\r\n                    //     return data\r\n                    // },\r\n                    // targets: [-3]\r\n                },\r\n                {\r\n                    render: function (data) {\r\n                        return data.toFixed(2);\r\n                    },\r\n                    targets: [...Array(table_columns.length).keys()].filter(m => m >= 2)\r\n                }\r\n            ],\r\n            rowCallback: function (row, data) {\r\n                var prediction = data[0];\r\n                var y = data[1];\r\n                if (prediction !== y) {\r\n                    $(row).addClass('is-danger');\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n}","\r\nimport ChartController from '@/helpers/charts';\r\nimport { tensorflow } from '@/utils/danfo_loader';\r\nimport UI from '@/helpers/ui';\r\nimport { metrics } from './utils.js';\r\n\r\nexport class ClassificationModel {\r\n\r\n    constructor() {\r\n        this.chartController = new ChartController();\r\n        this.ui = new UI(null, null)\r\n        this.task = null;\r\n        this.predictions = [];\r\n        this.hasProbability = false;\r\n        this.plots = [];\r\n        this.tables = [];\r\n        this.seed = 1;\r\n        this.hasExplaination = true;\r\n        this.id = null;\r\n        this.helpSectionId = 'help';\r\n\r\n    }\r\n    async train(x, y, x_test, y_test) {\r\n        throw new Error('Not implemented', x, y, x_test, y_test)\r\n    }\r\n    async evaluateModel(y, predictions, uniqueClasses) {\r\n        return await metrics(y, predictions, uniqueClasses);\r\n    }\r\n    generatePythonCode(model_import, model_fit) {\r\n        return `\r\nfrom sklearn.datasets import load_iris\r\n${model_import}\r\nfrom sklearn.inspection import partial_dependence, PartialDependenceDisplay, permutation_importance\r\nfrom sklearn.model_selection import train_test_split\r\nfrom sklearn.metrics import confusion_matrix, ConfusionMatrixDisplay\r\nfrom sklearn.decomposition import PCA\r\nimport matplotlib.pyplot as plt\r\nimport numpy as np\r\nimport pandas as pd\r\n\r\n# Load the Iris dataset\r\niris = load_iris()\r\nX, y = iris.data, iris.target\r\nfeature_names = iris.feature_names\r\nclass_names = iris.target_names\r\n\r\n# Split the data into train and test sets\r\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)\r\n\r\n# Fit the model\r\n${model_fit}\r\nmodel.fit(X_train,y_train)\r\n# Confusion Matrix\r\ny_pred = model.predict(X_test)\r\nconf_matrix = confusion_matrix(y_test, y_pred, labels=np.unique(y))\r\ndisp = ConfusionMatrixDisplay(confusion_matrix=conf_matrix, display_labels=class_names)\r\ndisp.plot(cmap=plt.cm.Blues, values_format=\"d\")\r\nplt.title(\"Confusion Matrix\")\r\nplt.show()\r\n\r\n# PCA of Results\r\npca = PCA(n_components=2)\r\nX_test_pca = pca.fit_transform(X_test)\r\n\r\n# Plot PCA results with true labels and predicted labels\r\nplt.figure(figsize=(12, 6))\r\n\r\n# Subplot 1: PCA with True Labels\r\nplt.subplot(1, 2, 1)\r\nscatter = plt.scatter(X_test_pca[:, 0], X_test_pca[:, 1], c=y_test, cmap='viridis', s=50)\r\nplt.colorbar(scatter, ticks=np.arange(len(class_names)), label=\"True Labels\")\r\nplt.title(\"PCA of Test Set (True Labels)\")\r\nplt.xlabel(\"Principal Component 1\")\r\nplt.ylabel(\"Principal Component 2\")\r\n\r\n\r\nplt.tight_layout()\r\nplt.show()\r\n# Compute and plot Partial Dependence Plot (PDP)\r\nfig, ax = plt.subplots(figsize=(12, 8))\r\nPartialDependenceDisplay.from_estimator(\r\n    model, X_train, [0, 1,2,3], feature_names=feature_names, ax=ax,target=0\r\n)\r\nplt.show()\r\n\r\n# Compute and plot Permutation Feature Importance (PFI)\r\npfi = permutation_importance(model, X_test, y_test, n_repeats=10, random_state=42)\r\n# Convert PFI results to a DataFrame for easier manipulation\r\npfi_df = pd.DataFrame({\r\n    \"Feature\": np.repeat(feature_names, repeats=pfi.importances.shape[1]),\r\n    \"Importance\": pfi.importances.ravel()\r\n})\r\n\r\n# Create boxplots for Permutation Feature Importance\r\nplt.figure(figsize=(10, 6))\r\npfi_df.boxplot(by=\"Feature\", column=\"Importance\", grid=False, vert=False, showmeans=False)\r\nplt.xlabel(\"Permutation Importance\")\r\nplt.ylabel(\"Feature\")\r\nplt.title(\"Permutation Feature Importance (PFI)\")\r\nplt.suptitle(\"\")  # Remove automatic suptitle from boxplot\r\nplt.show()\r\n        `.trim()\r\n    }\r\n    async visualize(x_test, y_test, uniqueLabels, predictions, encoder) {\r\n        // const evaluation_result = evaluate_classification(predictions, y_test, encoder);\r\n        const classes = Object.keys(encoder.$labels);\r\n\r\n        await this.chartController.plotConfusionMatrix(tensorflow.tensor(predictions), tensorflow.tensor(y_test), classes, Object.values(encoder.$labels), this.id);\r\n        // await this.chartController.classificationPCA(x_test.values, encoder.inverseTransform(y_test), evaluation_result, uniqueLabels, this.id, 2);\r\n        this.ui.predictions_table(x_test, encoder.inverseTransform(y_test), encoder.inverseTransform(predictions), null, this.id);\r\n        // this.plots.push('pca_results_' + this.id);\r\n        this.tables.push('#predictions_table_' + this.id);\r\n\r\n    }\r\n}","\r\n/* eslint-disable no-undef */\r\n/* eslint-disable no-unused-vars */\r\n\r\n\r\nimport { ClassificationModel } from '../model';\r\n\r\nexport default class LogisticRegression extends ClassificationModel {\r\n    constructor(options) {\r\n        super();\r\n        this.options = options;\r\n        this.model = null;\r\n        this.summary = null;\r\n        this.model_stats_matrix = null;\r\n\r\n    }\r\n\r\n    async train(x_train, y_train, x_test, y_test, labels, categorical_columns) {\r\n        this.context = {\r\n            X_train: x_train,\r\n            y_train: y_train,\r\n            y_test: y_test,\r\n            X_test: x_test,\r\n            seed: this.seed,\r\n            regularization_type: this.options.regularization.value === \"Lasso\" ? 1 : 0,\r\n            labels: labels\r\n        };\r\n\r\n        const webR = window.webr;\r\n        await webR.init();\r\n        await webR.installPackages(['jsonlite', 'ggplot2', 'plotly', 'nnet', 'purrr', 'dplyr', 'ggrepel', 'glmnet', 'modelsummary', 'broom'], { quiet: true });\r\n        await webR.objs.globalEnv.bind('xx', x_train);\r\n        await webR.objs.globalEnv.bind('random_seed', this.seed);\r\n        await webR.objs.globalEnv.bind('x_test', x_test);\r\n\r\n        await webR.objs.globalEnv.bind('y', y_train);\r\n        await webR.objs.globalEnv.bind('names', labels);\r\n        await webR.objs.globalEnv.bind('categorical_columns', categorical_columns?.length === 0 ? ['empty'] : categorical_columns);\r\n\r\n        await webR.objs.globalEnv.bind('is_lasso', this.context.regularization_type);\r\n\r\n\r\n        const plotlyData = await webR.evalR(`\r\n                    library(plotly)\r\n                    library(ggplot2)\r\n                    library(purrr)\r\n                    library(dplyr)\r\n                    library(ggrepel)\r\n                    library(modelsummary)\r\n                    library(jsonlite)\r\n                    library(glmnet)\r\n                    library(broom)\r\n                    set.seed(random_seed)\r\n                    # Select all columns except the first as predictors. \r\n                    x <- as.matrix(xx)  \r\n                    colnames(x) <- names\r\n                    scale_df <- as.data.frame(x)\r\n                    cols_to_scale <- setdiff(names, categorical_columns)\r\n                    scale_df[cols_to_scale] <- scale(scale_df[cols_to_scale])\r\n                    if(is_lasso){\r\n                        cvfit = cv.glmnet(as.matrix(scale_df), y, alpha = 1, family = \"multinomial\", type.measure = \"class\")\r\n                    }else{\r\n                       cvfit = cv.glmnet(as.matrix(scale_df), y, alpha = 0, family = \"multinomial\", type.measure = \"class\")\r\n                    }\r\n                    betas = as.matrix(cvfit$glmnet.fit$beta)\r\n                    lambdas = cvfit$lambda\r\n                    names(lambdas) = colnames(betas)\r\n                    \r\n                    df  <- data.frame(\r\n                        log_lambda = log(cvfit$lambda),       \r\n                        mean_cv_error = cvfit$cvm,                \r\n                        lower_error = cvfit$cvup,    \r\n                        upper_error = cvfit$cvlo    \r\n                        )\r\n                    lambda_min <- log(cvfit$lambda.min) \r\n                    lambda_1se <- log(cvfit$lambda.1se)  \r\n            \r\n                    p <-ggplot(df,aes(x=log_lambda,y=mean_cv_error)) + \r\n                    geom_point(col=\"#f05454\") + \r\n                    geom_errorbar(aes(ymin = lower_error,ymax=upper_error),col=\"#30475e\") + \r\n                    geom_vline(xintercept=c(lambda_1se,lambda_min),\r\n                                linetype=\"dashed\")+\r\n                    annotate(\"text\", x = lambda_min, y = max(df$mean_cv_error), \r\n                            label = \"Min\", color = \"black\", hjust = -0.1) +\r\n                    annotate(\"text\", x = lambda_1se, y = max(df$mean_cv_error) - 0.02, \r\n                            label = \"1-SE\", color = \"black\", hjust = -0.1) +\r\n                    xlab(\"log lambda\") +\r\n                    ylab(\"Error\")+\r\n                    theme_bw()\r\n\r\n\r\n                    colnames(x_test) <- names\r\n                    model <- nnet::multinom(y ~ . , data = as.data.frame(x))\r\n                    s <- summary(model)\r\n                    coefs <- s$coefficients\r\n                    stds <- s$standard.errors\r\n                    z_scores <- coefs / stds\r\n                    p_values <- 2 * (1 - pnorm(abs(z_scores)))\r\n                    preds <- predict(model,newdata=as.data.frame(x_test))\r\n                    preds_probs <- predict(model,type = 'probs',newdata=as.data.frame(x_test))\r\n                    # confidence interval\r\n                    z <- 1.96  \r\n                    conf_int <- list()\r\n\r\n                    for (class in rownames(coef(model))) {\r\n                    conf_int[[class]] <- cbind(\r\n                        class = class,\r\n                        Estimate = coefs[class, ],\r\n                        Lower = coefs[class, ] - z * stds[class, ],\r\n                        Upper = coefs[class, ] + z * stds[class, ]\r\n                    )\r\n                    }\r\n                    conf_int_df <- do.call(rbind, conf_int)\r\n                    best_model <- glmnet(x, y, alpha =is_lasso,family = \"multinomial\", type.measure = \"class\", lambda = cvfit$lambda.min)\r\n                    coefficients <- coef(best_model)\r\n\r\n                    non_zero_features <- list()\r\n                    for (class_name in names(coefficients)) {\r\n                    class_coefficients <- coefficients[[class_name]]\r\n                    dense_coefficients <- as.matrix(class_coefficients)\r\n                    non_zero_indices <- which(dense_coefficients != 0, arr.ind = TRUE)\r\n                    non_zero_features <- c(non_zero_features,rownames(dense_coefficients)[non_zero_indices[, 1]])\r\n                    }\r\n                    non_zero_features <- unique(non_zero_features)\r\n                    non_zero_features <- unlist(Filter(function(x) x != \"\", non_zero_features))\r\n                    x_filterd <- x[,unlist(non_zero_features)]\r\n                    x_test_filterd <- x_test[,unlist(non_zero_features)]\r\n\r\n\r\n                    model_lambda_min <- nnet::multinom(y ~ . , data = as.data.frame(x_filterd))\r\n                    s <- summary(model_lambda_min)\r\n                    coefs_lambda_min <- s$coefficients\r\n                    stds_lambda_min <- s$standard.errors\r\n                    z_scores_lambda_min <- coefs_lambda_min / stds_lambda_min\r\n                    p_values_lambda_min <- 2 * (1 - pnorm(abs(z_scores_lambda_min)))\r\n                    preds_lambda_min <- predict(model_lambda_min,newdata=as.data.frame(x_test_filterd))\r\n                    preds_probs_lambda_min <- predict(model_lambda_min,type = 'probs',newdata=as.data.frame(x_test_filterd))\r\n                    # confidence interval\r\n                    z <- 1.96  \r\n                    conf_int <- list()\r\n\r\n                    for (class in rownames(coef(model_lambda_min))) {\r\n                    conf_int[[class]] <- cbind(\r\n                        class = class,\r\n                        Estimate = coefs_lambda_min[class, ],\r\n                        Lower = coefs_lambda_min[class, ] - z * stds_lambda_min[class, ],\r\n                        Upper = coefs_lambda_min[class, ] + z * stds_lambda_min[class, ]\r\n                    )\r\n                    }\r\n\r\n\r\n                    \r\n                    conf_int_lambda_min_df <- do.call(rbind, conf_int)\r\n\r\n                    best_model <- glmnet(x, y, alpha =is_lasso,family = \"multinomial\", type.measure = \"class\", lambda = cvfit$lambda.1se)\r\n                    coefficients <- coef(best_model)\r\n                    print(\"got here\")\r\n                    non_zero_features <- list()\r\n                    for (class_name in names(coefficients)) {\r\n                    class_coefficients <- coefficients[[class_name]]\r\n                    dense_coefficients <- as.matrix(class_coefficients)\r\n                    non_zero_indices <- which(dense_coefficients != 0, arr.ind = TRUE)\r\n                    non_zero_features <- c(non_zero_features,rownames(dense_coefficients)[non_zero_indices[, 1]])\r\n                    }\r\n                    non_zero_features <- unique(non_zero_features)\r\n                    non_zero_features <- unlist(Filter(function(x) x != \"\", non_zero_features))\r\n\r\n                    x_filterd <- x[,unlist(non_zero_features)]\r\n                    x_test_filterd <- x_test[,unlist(non_zero_features)]\r\n                    model_lambda_1se <- nnet::multinom(y ~ . , data = as.data.frame(x_filterd))\r\n                    s <- summary(model_lambda_1se)\r\n                    coefs_lambda_1se <- s$coefficients\r\n                    stds_lambda_1se <- s$standard.errors\r\n                    z_scores_lambda_1se <- coefs_lambda_1se / stds_lambda_1se\r\n                    p_values_lambda_1se <- 2 * (1 - pnorm(abs(z_scores_lambda_1se)))\r\n                    preds_lambda_1se <- predict(model_lambda_1se,newdata=as.data.frame(x_test_filterd))\r\n                    preds_probs_lambda_1se <- predict(model_lambda_1se,type = 'probs',newdata=as.data.frame(x_test_filterd))\r\n                    # confidence interval\r\n                    z <- 1.96  \r\n                    conf_int <- list()\r\n\r\n                    for (class in rownames(coef(model_lambda_1se))) {\r\n                    conf_int[[class]] <- cbind(\r\n                        class = class,\r\n                        Estimate = coefs_lambda_1se[class, ],\r\n                        Lower = coefs_lambda_1se[class, ] - z * stds_lambda_1se[class, ],\r\n                        Upper = coefs_lambda_1se[class, ] + z * stds_lambda_1se[class, ]\r\n                    )\r\n                    }\r\n                    conf_int_lambda_1se_df <- do.call(rbind, conf_int)\r\n\r\n                    lambda_values <- cvfit$glmnet.fit$lambda\r\n\r\n                    coef_list <- coef(cvfit$glmnet.fit)\r\n\r\n                    cv_summary <- map_df(names(coef_list), function(class) {\r\n                    coef_matrix <- as.matrix(coef_list[[class]])[-1, ]  # Remove intercept\r\n                    data.frame(\r\n                        lambda = rep(lambda_values, each = nrow(coef_matrix)),\r\n                        predictor = rep(rownames(coef_matrix), length(lambda_values)),\r\n                        coefficient = as.vector(coef_matrix),\r\n                        class = class\r\n                    )\r\n                    })\r\n\r\n                    list(\r\n                    plotly_json(p, pretty = FALSE)\r\n                    ,rownames(coefs)\r\n                    ,toJSON(coefs,pretty = TRUE)\r\n                    ,toJSON(stds,pretty = TRUE)\r\n                    ,toJSON(z_scores,pretty = TRUE)\r\n                    ,toJSON(p_values,pretty = TRUE)\r\n                    ,preds_probs\r\n                    ,preds \r\n                    ,toJSON(conf_int_df)\r\n                    ,rownames(conf_int_df)\r\n\r\n                    ,rownames(conf_int_lambda_min_df)\r\n                    ,toJSON(coefs_lambda_min,pretty = TRUE)\r\n                    ,toJSON(stds_lambda_min,pretty = TRUE)\r\n                    ,toJSON(p_values_lambda_min,pretty = TRUE)\r\n\r\n                    ,rownames(conf_int_lambda_1se_df)\r\n                    ,toJSON(coefs_lambda_1se,pretty = TRUE)\r\n                    ,toJSON(stds_lambda_1se,pretty = TRUE)\r\n                    ,toJSON(p_values_lambda_1se,pretty = TRUE)\r\n                    ,model[[\"AIC\"]]\r\n                    ,model_lambda_min[[\"AIC\"]]\r\n                    ,model_lambda_1se[[\"AIC\"]]\r\n                    ,toJSON(cv_summary)\r\n                    ,toJSON(conf_int_lambda_min_df)\r\n                    ,toJSON(conf_int_lambda_1se_df)\r\n                    ,lambda_min\r\n                    ,lambda_1se\r\n                    )\r\n\r\n                    `);\r\n        let results = await plotlyData.toArray()\r\n\r\n        this.summary = {\r\n            regularization_plot: JSON.parse(await results[0].toString()),\r\n            classes: await results[1].toArray(),\r\n            coefs: JSON.parse(await results[2].toArray()),\r\n            stds: JSON.parse(await results[3].toArray()),\r\n            z_scores: JSON.parse(await results[4].toArray()),\r\n            p_values: JSON.parse(await results[5].toArray()),\r\n            probabities: await results[6].toArray(),\r\n            predictions: (await results[7].toArray()).map(pred => pred - 1),\r\n            confidence_intervals: JSON.parse(await results[8].toString()),\r\n            confidence_intervals_row_names: await results[9].toArray(),\r\n            aic: await results[18].toNumber(),\r\n            best_fit_min: {\r\n                names: await results[10].toArray(),\r\n                confidence_intervals: JSON.parse(await results[22].toString()),\r\n                coefs: JSON.parse(await results[11].toArray()),\r\n                stds: JSON.parse(await results[12].toArray()),\r\n                p_values: JSON.parse(await results[13].toArray()),\r\n                aic: await results[19].toNumber(),\r\n\r\n            },\r\n            best_fit_1se: {\r\n                names: await results[14].toArray(),\r\n                confidence_intervals: JSON.parse(await results[23].toString()),\r\n                coefs: JSON.parse(await results[15].toArray()),\r\n                stds: JSON.parse(await results[16].toArray()),\r\n                p_values: JSON.parse(await results[17].toArray()),\r\n                aic: await results[20].toNumber(),\r\n            },\r\n            fit: JSON.parse(await results[21].toArray()),\r\n            lambda_min: await results[24].toNumber(),\r\n            lambda_1se: await results[25].toNumber(),\r\n\r\n        };\r\n\r\n        this.model_stats_matrix = [];\r\n        let cols = [...labels]\r\n        cols.unshift(\"(Intercept)\")\r\n        let min_ols_columns = [...new Set(this.summary['best_fit_min'].names)].map(m => m.replace(/^`|`$/g, ''));\r\n        let se_ols_columns = [...new Set(this.summary['best_fit_1se'].names)].map(m => m.replace(/^`|`$/g, ''));\r\n\r\n\r\n\r\n        this.summary.regularization_plot.layout['showlegend'] = false;\r\n        this.summary.regularization_plot.layout['autosize'] = true;\r\n        this.summary.regularization_plot.layout.legend = {\r\n            font: {\r\n                size: 8,\r\n                color: '#000'\r\n            },\r\n        };\r\n\r\n\r\n        for (let j = 0; j < this.summary.classes.length; j++) {\r\n            for (let i = 0; i < cols.length; i++) {\r\n                let row = [];\r\n                row.push(cols[i])\r\n                row.push((isNaN(this.summary['coefs'][j][i]) ? ' ' : this.summary['coefs'][j][i].toFixed(2)))\r\n                row.push((isNaN(this.summary['stds'][j][i]) ? ' ' : this.summary['stds'][j][i].toFixed(2)))\r\n                row.push((isNaN(this.summary['p_values'][j][i]) ? ' ' : this.summary['p_values'][j][i].toFixed(2)))\r\n\r\n                let index = min_ols_columns.findIndex(m => m === cols[i])\r\n                if (index !== -1) {\r\n                    let coef = this.summary['best_fit_min']['coefs'][j][index]\r\n                    let std = this.summary['best_fit_min']['stds'][j][index]\r\n                    let pval = this.summary['best_fit_min']['p_values'][j][index]\r\n                    row.push(isNaN(coef) ? 0 : coef.toFixed(2))\r\n                    row.push(isNaN(std) ? 0 : std.toFixed(2))\r\n                    row.push(isNaN(pval) ? 0 : pval.toFixed(2))\r\n                } else {\r\n                    row.push(' ')\r\n                    row.push(' ')\r\n                    row.push(' ')\r\n                }\r\n                index = se_ols_columns.findIndex(m => m === cols[i])\r\n                if (index !== -1) {\r\n                    let coef = this.summary['best_fit_1se']['coefs'][j][index]\r\n                    let std = this.summary['best_fit_1se']['stds'][j][index]\r\n                    let pval = this.summary['best_fit_1se']['p_values'][j][index]\r\n                    row.push(isNaN(coef) ? 0 : coef.toFixed(2))\r\n                    row.push(isNaN(std) ? 0 : std.toFixed(2))\r\n                    row.push(isNaN(pval) ? 0 : pval.toFixed(2))\r\n                } else {\r\n                    row.push(' ')\r\n                    row.push(' ')\r\n                    row.push(' ')\r\n                }\r\n                this.model_stats_matrix.push(row)\r\n            }\r\n            if (j < this.summary.classes.length - 1) {\r\n                let placeholder_row = this.model_stats_matrix[0].map(m => '');\r\n                this.model_stats_matrix.push(placeholder_row)\r\n            }\r\n        }\r\n        return this.summary['predictions'];\r\n    }\r\n    async visualize(x_test, y_test, uniqueLabels, predictions, encoder, columns, categorical_columns) {\r\n        await super.visualize(x_test, y_test, uniqueLabels, predictions, encoder)\r\n        setTimeout(async () => {\r\n            let current = this;\r\n            new DataTable('#metrics_table_' + current.id, {\r\n                responsive: false,\r\n                \"footerCallback\": function (row, data, start, end, display) {\r\n                    var api = this.api();\r\n                    $(api.column(2).footer()).html(\r\n                        'AIC : ' + current.summary.aic.toFixed(2)\r\n                    );\r\n                    $(api.column(5).footer()).html(\r\n                        'AIC : ' + current.summary[\"best_fit_min\"].aic.toFixed(2)\r\n                    );\r\n                    $(api.column(8).footer()).html(\r\n                        'AIC : ' + current.summary[\"best_fit_1se\"].aic.toFixed(2)\r\n                    );\r\n                },\r\n                data: current.model_stats_matrix,\r\n                info: false,\r\n                search: false,\r\n                ordering: false,\r\n                searching: false,\r\n                paging: false,\r\n                bDestroy: true,\r\n            });\r\n            await Plotly.newPlot('regularization_' + current.id, current.summary.regularization_plot, { autosize: true });\r\n            let y_classes = this.summary.confidence_intervals_row_names\r\n                .map((item, i) => item + '_' + this.summary.confidence_intervals[i][0]).reverse()\r\n            let conf_intervals = this.summary.confidence_intervals.reverse()\r\n            let traces_params = []\r\n            let ols_y = y_classes.map((m, i) => i);\r\n            traces_params.push({\r\n                name: 'OLS',\r\n                x: conf_intervals.map(item => item[1]),\r\n                y: ols_y,\r\n                error_x: {\r\n                    type: 'data',\r\n                    array: conf_intervals.map(item => Math.abs(item[3] - item[1])),\r\n                },\r\n                type: 'scatter', mode: 'markers',\r\n                showlegend: true,  // Make sure the trace appears in the legend\r\n            })\r\n            let y_classes_min = this.summary.best_fit_min.names\r\n                .map((item, i) => item + '_' + this.summary.best_fit_min.confidence_intervals[i][0]).reverse()\r\n            let conf_intervals_min = this.summary.best_fit_min.confidence_intervals.reverse()\r\n            let lasso_y = y_classes_min.map((m, i) => i + 0.2);\r\n            traces_params.push({\r\n                name: 'lasso min',\r\n                x: conf_intervals_min.map(item => item[1]),\r\n                y: lasso_y,\r\n                error_x: {\r\n                    type: 'data',\r\n                    array: conf_intervals_min.map(item => Math.abs(item[3] - item[1])),\r\n                },\r\n                type: 'scatter', mode: 'markers',\r\n                showlegend: true,  // Make sure the trace appears in the legend\r\n            })\r\n            let _1se_y = y_classes_min.map((m, i) => i + 0.4);\r\n            let y_classes_1se = this.summary.best_fit_1se.names\r\n                .map((item, i) => item + '_' + this.summary.best_fit_1se.confidence_intervals[i][0]).reverse()\r\n            let conf_intervals_1se = this.summary.best_fit_1se.confidence_intervals.reverse()\r\n            traces_params.push({\r\n                name: 'lasso 1se',\r\n                x: conf_intervals_1se.map(item => item[1]),\r\n                y: _1se_y,\r\n                error_x: {\r\n                    type: 'data',\r\n                    array: conf_intervals_1se.map(item => Math.abs(item[3] - item[1])),\r\n                },\r\n                type: 'scatter', mode: 'markers',\r\n                showlegend: true,  // Make sure the trace appears in the legend\r\n            })\r\n            await Plotly.newPlot('parameters_plot_' + current.id, {\r\n                'data': traces_params,\r\n                'layout': {\r\n                    margin: {\r\n                        l: 80,\r\n                        r: 40,\r\n                        b: 40,\r\n                        t: 40,\r\n                        pad: 10\r\n                    },\r\n                    showlegend: true,\r\n                    legend: {\r\n                        xanchor: 'left',\r\n                        yanchor: 'top',\r\n                        x: 0.02,\r\n                        y: 0.98,\r\n                        font: {\r\n                            size: 8,  // Set font size for legend\r\n                            color: \"black\" // Change font color if needed\r\n                        },\r\n                        bgcolor: \"rgba(0,0,0,0)\"\r\n                    },\r\n                    xaxis: {\r\n                        linecolor: 'black',\r\n                        linewidth: 1,\r\n                        zeroline: true,\r\n                        mirror: true,\r\n                        title: 'Confidence interval',\r\n                    },\r\n                    yaxis: {\r\n                        linecolor: 'black',\r\n                        linewidth: 1,\r\n                        zeroline: false,\r\n                        mirror: true,\r\n                        tickvals: lasso_y,\r\n                        ticktext: y_classes_1se,\r\n                        tickfont: { size: 10 }\r\n                    },\r\n                }\r\n            });\r\n\r\n            this.summary.fit.sort((a, b) => a.lambda - b.lambda);\r\n            let subset = this.summary.fit.filter(m => m.class == '1')\r\n            let params = new Set(...[subset.filter(m => !!m.predictor).map(m => m.predictor)])\r\n            let traces = []\r\n            let annotations = []\r\n            params.forEach(param => {\r\n                let coefs = subset.filter(m => m.predictor == param).map(m => m.coefficient)\r\n                let lambdas = subset.filter(m => m.predictor == param).map(m => Math.log(m.lambda))\r\n                traces.push({\r\n                    name: param,\r\n                    y: coefs,\r\n                    x: lambdas,\r\n                    mode: 'lines',\r\n                });\r\n                annotations.push({\r\n                    xref: 'paper',\r\n                    x: .01,\r\n                    y: coefs[0],\r\n                    xanchor: 'left',\r\n                    yanchor: 'middle',\r\n                    text: param,\r\n                    font: {\r\n                        family: 'Arial',\r\n                        size: 8,\r\n                        color: 'black'\r\n                    },\r\n                    showarrow: false\r\n                });\r\n                annotations = annotations.concat([\r\n                    {\r\n                        x: this.summary.lambda_min,\r\n                        y: 0.5, // Center the text along the line\r\n                        xref: 'x',\r\n                        yref: 'paper',\r\n                        text: \"Lambda min\",\r\n                        showarrow: false,\r\n                        font: {\r\n                            size: 8,\r\n                            color: \"black\"\r\n                        },\r\n                        textangle: -90, // Rotate text to be vertical\r\n                        align: \"center\"\r\n                    },\r\n                    {\r\n                        x: this.summary.lambda_1se,\r\n                        y: 0.5, // Center the text along the line\r\n                        xref: 'x',\r\n                        yref: 'paper',\r\n                        text: \"Lambda 1se\",\r\n                        showarrow: false,\r\n                        font: {\r\n                            size: 8,\r\n                            color: \"black\"\r\n                        },\r\n                        textangle: -90, // Rotate text to be vertical\r\n                        align: \"center\"\r\n                    }\r\n                ])\r\n            });\r\n\r\n            await Plotly.newPlot('errors_' + current.id, {\r\n\r\n                'data': traces,\r\n                'layout': {\r\n                    shapes: [\r\n                        {\r\n                            type: 'line',\r\n                            x0: this.summary.lambda_min,\r\n                            x1: this.summary.lambda_min,\r\n                            y0: 0,\r\n                            y1: 1,\r\n                            xref: 'x',\r\n                            yref: 'paper',\r\n                            line: {\r\n                                color: 'black',\r\n                                dash: 'dashdot',\r\n                                width: 1\r\n                            }\r\n                        },\r\n                        {\r\n                            type: 'line',\r\n                            x0: this.summary.lambda_1se,\r\n                            x1: this.summary.lambda_1se,\r\n                            y0: 0,\r\n                            y1: 1,\r\n                            xref: 'x',\r\n                            yref: 'paper',\r\n                            line: {\r\n                                color: 'black',\r\n                                dash: 'dashdot',\r\n                                width: 1\r\n                            }\r\n                        },\r\n                    ],\r\n                    annotations: annotations,\r\n                    showlegend: false,\r\n                    margin: {\r\n                        l: 40,\r\n                        r: 40,\r\n                        b: 40,\r\n                        t: 40,\r\n                        pad: 10\r\n                    },\r\n                    autosize: true,\r\n                    xaxis: {\r\n                        linecolor: 'black',\r\n                        linewidth: 1,\r\n                        zeroline: false,\r\n                        mirror: true,\r\n                        title: 'log lambda'\r\n                    },\r\n                    yaxis: {\r\n                        linecolor: 'black',\r\n                        linewidth: 1,\r\n                        zeroline: false,\r\n                        mirror: true,\r\n                        title: 'coefficient'\r\n                    }\r\n                }\r\n            });\r\n            window.dispatchEvent(new Event('resize'));\r\n        }, 500);\r\n\r\n    }\r\n}","\r\nimport ChartController from '@/helpers/charts';\r\nimport UI from '@/helpers/ui';\r\nimport { calculateMSE, calculateRSquared } from './utils.js';\r\n\r\nexport class RegressionModel {\r\n\r\n    constructor() {\r\n        this.chartController = new ChartController();\r\n        this.ui = new UI(null, null)\r\n        this.task = null;\r\n        this.predictions = [];\r\n        this.id = null;\r\n        this.plots = [];\r\n        this.tables = [];\r\n        this.helpSectionId = 'help';\r\n        this.hasExplaination = true;\r\n        this.seed = 123;\r\n\r\n    }\r\n    async train(x, y, x_test, y_test) {\r\n        throw new Error('Not implemented', x, y, x_test, y_test)\r\n    }\r\n    async evaluateModel(y, predictions) {\r\n        return { mse: calculateMSE(y, predictions), rsquared: calculateRSquared(y, predictions) };\r\n    }\r\n    async visualize(x_test, y_test, _, predictions) {\r\n        let current = this;\r\n        return new Promise((resolve) => {\r\n            setTimeout(() => {\r\n                let y = y_test\r\n                let residuals = [];\r\n                predictions.forEach((element, i) => {\r\n                    residuals.push(y[i] - element)\r\n                });\r\n                current.chartController.yhat_plot(y, predictions, 'regression_y_yhat_' + current.id, 'Predictions vs y')\r\n                current.chartController.residual_plot(predictions, residuals, 'errors_' + current.id, 'Residuals vs y')\r\n                this.ui.predictions_table_regression(x_test, y_test, predictions, this.id);\r\n                this.plots.push('regression_y_yhat_' + current.id);\r\n                this.plots.push('errors_' + current.id);\r\n                this.tables.push('#predictions_table_' + this.id);\r\n                resolve('resolved');\r\n            }, 500);\r\n        });\r\n    }\r\n}","\r\n/* eslint-disable no-undef */\r\n/* eslint-disable no-unused-vars */\r\n\r\n\r\nimport { RegressionModel } from '../regression_model';\r\n\r\nexport default class LinearRegression extends RegressionModel {\r\n    constructor(options) {\r\n        super();\r\n        this.options = options;\r\n        this.model = null;\r\n        this.summary = null;\r\n        this.model_stats_matrix = null;\r\n        this.hasExplaination = false;\r\n\r\n    }\r\n\r\n    async train(x_train, y_train, x_test, y_test, labels, categorical_columns) {\r\n        this.context = {\r\n            X_train: x_train,\r\n            y_train: y_train,\r\n            y_test: y_test,\r\n            X_test: x_test,\r\n            regularization_type: this.options.regularization.value === \"Lasso\" ? 1 : 0,\r\n            labels: labels\r\n        };\r\n\r\n        const webR = window.webr;\r\n        await webR.init();\r\n        await webR.installPackages(['jsonlite', 'iml', 'ggplot2', 'plotly', 'tidyr', 'dplyr', 'ggrepel', 'glmnet', 'modelsummary'], { quiet: true });\r\n        await webR.objs.globalEnv.bind('xx', x_train);\r\n        await webR.objs.globalEnv.bind('x_test', x_test);\r\n        await webR.objs.globalEnv.bind('random_seed', this.seed);\r\n        await webR.objs.globalEnv.bind('y', y_train);\r\n        await webR.objs.globalEnv.bind('names', labels);\r\n        await webR.objs.globalEnv.bind('categorical_columns', categorical_columns?.length === 0 ? ['empty'] : categorical_columns);\r\n\r\n        await webR.objs.globalEnv.bind('is_lasso', this.context.regularization_type);\r\n\r\n\r\n        const plotlyData = await webR.evalR(`\r\n                    library(plotly)\r\n                    library(ggplot2)\r\n                    library(tidyr)\r\n                    library(iml)\r\n                    library(dplyr)\r\n                    library(ggrepel)\r\n                    library(modelsummary)\r\n                    library(glmnet)\r\n                    set.seed(random_seed)\r\n\r\n                    # Select all columns except the first as predictors. \r\n                    x <- as.matrix(xx)  \r\n                    colnames(x) <- names\r\n                    scale_df <- as.data.frame(x)\r\n\r\n                    cols_to_scale <- setdiff(names, categorical_columns)\r\n                    scale_df[cols_to_scale] <- scale(scale_df[cols_to_scale])\r\n                    scaled_y <- scale(y)\r\n                    base_model = cv.glmnet(as.matrix(scale_df), scaled_y)\r\n                    weights <- 1 / abs(coef(base_model)[-1])\r\n                    if(is_lasso){\r\n                        cvfit = cv.glmnet(as.matrix(scale_df), scaled_y, alpha = 1,penalty.factor = weights)\r\n                    }else{\r\n                       cvfit = cv.glmnet(as.matrix(scale_df), scaled_y, alpha = 0)\r\n                    }\r\n                    betas = as.matrix(cvfit$glmnet.fit$beta)\r\n                    lambdas = cvfit$lambda\r\n                    names(lambdas) = colnames(betas)\r\n                    \r\n                    \r\n                    p <- as.data.frame(betas) %>% \r\n                      tibble::rownames_to_column(\"variable\") %>% \r\n                      pivot_longer(-variable) %>% \r\n                      mutate(lambda=lambdas[name]) %>% \r\n                    ggplot(aes(x=lambda,y=value,col=variable)) + \r\n                      geom_line() + \r\n                      geom_label_repel(data=~subset(.x,lambda==min(lambda)),\r\n                                       aes(label=variable),nudge_x=-0.5) +\r\n                      geom_vline(xintercept=c(cvfit$lambda.1se,cvfit$lambda.min),\r\n                                linetype=\"dashed\")+\r\n                      scale_x_log10()+ labs(y = \"Coefficients\") + theme_bw()\r\n                    df = with(cvfit,\r\n                            data.frame(lambda = lambdas,MSE = cvm,MSEhi=cvup,MSElow=cvlo))\r\n\r\n                    p2<-ggplot(df,aes(x=lambda,y=MSE)) + \r\n                    geom_point(col=\"#f05454\") + \r\n                    scale_x_log10(\"lambda\") + \r\n                    geom_errorbar(aes(ymin = MSElow,ymax=MSEhi),col=\"#30475e\") + \r\n                    geom_vline(xintercept=c(cvfit$lambda.1se,cvfit$lambda.min),\r\n                                linetype=\"dashed\")+\r\n                    theme_bw()\r\n\r\n                    # Get lambda.min and lambda.1se\r\n                    lambda_min = cvfit$lambda.min\r\n                    lambda_1se = cvfit$lambda.1se\r\n\r\n                    # Get the coefficients at lambda.min and lambda.1se\r\n                    coef_lambda_min = coef(cvfit, s = \"lambda.min\")\r\n                    coef_lambda_1se = coef(cvfit, s = \"lambda.1se\")\r\n\r\n                    # Convert the sparse matrix to a regular matrix to make indexing easier\r\n                    coef_lambda_min_matrix = as.matrix(coef_lambda_min)\r\n                    coef_lambda_1se_matrix = as.matrix(coef_lambda_1se)\r\n                    coef_lambda_min_matrix = coef_lambda_min_matrix[-1, , drop = FALSE]\r\n                    coef_lambda_1se_matrix = coef_lambda_1se_matrix[-1, , drop = FALSE]\r\n                    # Find the non-zero features at lambda.min and lambda.1se\r\n                    non_zero_features_min = rownames(coef_lambda_min_matrix)[coef_lambda_min_matrix != 0]\r\n                    non_zero_features_1se = rownames(coef_lambda_1se_matrix)[coef_lambda_1se_matrix != 0]\r\n\r\n                    print(non_zero_features_min)\r\n                    print(non_zero_features_1se)\r\n\r\n                    model <- lm(y ~ ., data = as.data.frame(x))\r\n                    x <- as.matrix(x_test)  \r\n                    colnames(x) <- names\r\n                    predictions <- predict(model, newdata = as.data.frame(x))\r\n                    # Get coefficients, p-values, and standard errors\r\n                    coefs <- coef(model)\r\n                    pvals <- summary(model)$coefficients[,4]\r\n                    std_error <- summary(model)$coefficients[,2]\r\n                    aic_value <- AIC(model)\r\n                    bic_value <- BIC(model)\r\n                    rsquared <- summary(model)$r.squared\r\n                    residuals_ols <- resid(model)\r\n                    fitted_values_ols <- fitted(model)\r\n\r\n                    x <- as.matrix(xx)  \r\n                    colnames(x) <- names\r\n                    X_reduced <- x[, non_zero_features_min]\r\n                    linear_model_min_features <- non_zero_features_min\r\n\r\n                    # Fit a linear regression model using the non-zero features\r\n                    linear_model_min <- lm(y ~ ., data = as.data.frame(X_reduced))\r\n                    coefs_min <- coef(linear_model_min)\r\n                    pvals_min <- summary(linear_model_min)$coefficients[,4]\r\n                    std_error_min <- summary(linear_model_min)$coefficients[,2]\r\n                    aic_min <- AIC(linear_model_min)\r\n                    rsquared_min <- summary(linear_model_min)$r.squared\r\n                    best_lambda <- cvfit$lambda.1se\r\n                    best_model <- glmnet(x, y, alpha =is_lasso, lambda = best_lambda)\r\n                    coefficients <- as.matrix(coef(best_model))\r\n                    residuals_min <- resid(linear_model_min)\r\n                    fitted_values_min <- fitted(linear_model_min)\r\n\r\n\r\n                    x <- as.matrix(x_test)  \r\n                    colnames(x) <- names\r\n                    x <- x[, non_zero_features_min]\r\n                    predictions_min <- predict(linear_model_min, newdata = as.data.frame(x))\r\n\r\n\r\n\r\n                    x <- as.matrix(xx)  \r\n                    colnames(x) <- names\r\n\r\n                    X_reduced <- x[, non_zero_features_1se]\r\n                    linear_model_1se_features <- non_zero_features_1se\r\n                    linear_model_1se <- lm(y ~ ., data = as.data.frame(X_reduced))\r\n                    coefs_1se <- coef(linear_model_1se)\r\n                    print(coefs_1se)\r\n                    pvals_1se <- summary(linear_model_1se)$coefficients[,4]\r\n                    aic_1se<- AIC(linear_model_1se)\r\n                    rsquared_1se <- summary(linear_model_1se)$r.squared\r\n                    std_error_1se <- summary(linear_model_1se)$coefficients[,2]\r\n                    residuals_1se <- resid(linear_model_1se)\r\n                    fitted_values_1se <- fitted(linear_model_1se)\r\n                    \r\n                    x <- as.matrix(x_test)  \r\n                    colnames(x) <- names\r\n                    x <- x[, non_zero_features_1se]\r\n                    predictions_1se <- predict(linear_model_1se, newdata = as.data.frame(x))\r\n\r\n\r\n                    models <- list(\r\n                        \"OLS\" = model,\r\n                        \"Lasso Min \" = linear_model_min,\r\n                        \"Lasso 1se \" = linear_model_1se\r\n                        )\r\n                    z <- modelplot(models =models,coef_omit = 'Interc')\r\n                    qqplot_ols <-ggplot(data.frame(residuals = residuals_ols), aes(sample = residuals_ols)) +\r\n                        stat_qq(color = \"blue\") +\r\n                        stat_qq_line(col = \"red\") +\r\n                        labs(title = \"QQ Plot of Residuals\",\r\n                            x = \"Theoretical Quantiles\",\r\n                            y = \"Sample Quantiles\") +\r\n                        theme_bw()\r\n                    qqplot_1se <-ggplot(data.frame(residuals = residuals_1se), aes(sample = residuals_1se)) +\r\n                        stat_qq(color = \"blue\") +\r\n                        stat_qq_line(col = \"red\") +\r\n                        labs(title = \"QQ Plot of Residuals\",\r\n                            x = \"Theoretical Quantiles\",\r\n                            y = \"Sample Quantiles\") +\r\n                        theme_bw()\r\n                    qqplot_min <-ggplot(data.frame(residuals = residuals_min), aes(sample = residuals_min)) +\r\n                        stat_qq(color = \"blue\") +\r\n                        stat_qq_line(col = \"red\") +\r\n                        labs(title = \"QQ Plot of Residuals\",\r\n                            x = \"Theoretical Quantiles\",\r\n                            y = \"Sample Quantiles\") +\r\n                        theme_bw()\r\n                        \r\n\r\n\r\n\r\n                    list(plotly_json(p, pretty = FALSE),plotly_json(p2, pretty = FALSE),coefs,\r\n                    pvals,std_error,predictions,aic_value,bic_value,rsquared\r\n                    ,coefs_min,pvals_min,std_error_min\r\n                    ,coefs_1se,pvals_1se,std_error_1se,plotly_json(z, pretty = FALSE),linear_model_min_features,linear_model_1se_features\r\n                    ,residuals_ols,residuals_1se,residuals_min,predictions_1se,predictions_min,rsquared_1se,aic_1se,rsquared_min,aic_min\r\n                    ,plotly_json(qqplot_ols, pretty = FALSE)\r\n                    ,plotly_json(qqplot_1se, pretty = FALSE)\r\n                    ,plotly_json(qqplot_min, pretty = FALSE)\r\n                    \r\n                    )\r\n                    `);\r\n        let results = await plotlyData.toArray()\r\n\r\n        this.summary = {\r\n            params: await results[2].toArray(),\r\n            bse: await results[4].toArray(),\r\n            pvalues: await results[3].toArray(),\r\n            predictions: await results[5].toArray(),\r\n            predictions1se: await results[21].toArray(),\r\n            predictionsmin: await results[22].toArray(),\r\n            residuals_ols: await results[18].toArray(),\r\n            residuals_1se: await results[19].toArray(),\r\n            residuals_min: await results[20].toArray(),\r\n            aic: await results[6].toNumber(),\r\n            bic: await results[7].toNumber(),\r\n            r2: await results[8].toNumber(),\r\n            best_fit_min: {\r\n                r2: await results[25].toNumber(),\r\n                aic: await results[26].toNumber(),\r\n                names: await results[16].toArray(),\r\n                coefs: await results[9].toArray(),\r\n                bse: await results[11].toArray(),\r\n                pvalues: await results[10].toArray(),\r\n            },\r\n            best_fit_1se: {\r\n                r2: await results[23].toNumber(),\r\n                aic: await results[24].toNumber(),\r\n                names: await results[17].toArray(),\r\n                coefs: await results[12].toArray(),\r\n                bse: await results[14].toArray(),\r\n                pvalues: await results[13].toArray(),\r\n            },\r\n        };\r\n        this.model_stats_matrix = [];\r\n        let cols = [...labels]\r\n        cols.unshift(\"intercept\")\r\n        let min_ols_columns = this.summary['best_fit_min'].names;\r\n\r\n        min_ols_columns.unshift('intercept');\r\n        let se_ols_columns = this.summary['best_fit_1se'].names;\r\n        se_ols_columns.unshift('intercept');\r\n\r\n        for (let i = 0; i < cols.length; i++) {\r\n            let row = [];\r\n            row.push(cols[i])\r\n            row.push(this.summary['params'][i]?.toFixed(2) ?? ' ')\r\n            row.push(this.summary['bse'][i]?.toFixed(2) ?? ' ')\r\n            row.push(this.summary['pvalues'][i]?.toFixed(2) ?? ' ')\r\n            let index = min_ols_columns.findIndex(m => m === cols[i])\r\n            if (index !== -1) {\r\n                row.push(this.summary['best_fit_min']['coefs'][index]?.toFixed(2) ?? ' ')\r\n                row.push(this.summary['best_fit_min']['bse'][index]?.toFixed(2) ?? ' ')\r\n                row.push(this.summary['best_fit_min']['pvalues'][index]?.toFixed(2) ?? ' ')\r\n            } else {\r\n                row.push(' ')\r\n                row.push(' ')\r\n                row.push(' ')\r\n            }\r\n            index = se_ols_columns.findIndex(m => m === cols[i])\r\n            if (index !== -1) {\r\n                row.push(this.summary['best_fit_1se']['coefs'][index]?.toFixed(2) ?? ' ')\r\n                row.push(this.summary['best_fit_1se']['bse'][index]?.toFixed(2) ?? ' ')\r\n                row.push(this.summary['best_fit_1se']['pvalues'][index]?.toFixed(2) ?? ' ')\r\n            } else {\r\n                row.push(' ')\r\n                row.push(' ')\r\n                row.push(' ')\r\n            }\r\n            this.model_stats_matrix.push(row)\r\n        }\r\n        this.model_stats_matrix.reverse()\r\n        let reg_plot = JSON.parse(await results[0].toString())\r\n\r\n        reg_plot.layout['showlegend'] = false;\r\n        reg_plot.layout.legend = {\r\n            font: {\r\n\r\n                size: 8,\r\n                color: '#000'\r\n            },\r\n        };\r\n        let coefs_plot = JSON.parse(await results[15].toString())\r\n        coefs_plot.layout.legend = {\r\n            x: 0,\r\n            y: 1,\r\n            traceorder: 'normal',\r\n            font: {\r\n                size: 8,\r\n                color: '#000'\r\n            },\r\n            bgcolor: 'rgba(0,0,0,0)',\r\n        };\r\n        coefs_plot.layout.xaxis.title.font = {\r\n            size: 10\r\n        };\r\n\r\n        coefs_plot.layout.xaxis.linecolor = 'rgba(235, 235, 235, 1)';\r\n        coefs_plot.layout.xaxis.linewidth = 3;\r\n        coefs_plot.layout.xaxis.mirror = true;\r\n        coefs_plot.layout.xaxis.zeroline = true;\r\n\r\n        coefs_plot.layout.yaxis.linecolor = 'rgba(235, 235, 235, 1)';\r\n        coefs_plot.layout.yaxis.linewidth = 2;\r\n        coefs_plot.layout.yaxis.mirror = true;\r\n        coefs_plot.layout.yaxis.zeroline = true;\r\n\r\n        this.summary.coefs_plot = coefs_plot;\r\n\r\n        this.summary.regularization_plot = reg_plot;\r\n        this.summary.errors_plot = JSON.parse(await results[1].toString());\r\n        this.summary.qqplot_ols_plot = JSON.parse(await results[27].toString());\r\n        this.summary.qqplot_1se_plot = JSON.parse(await results[28].toString());\r\n        this.summary.qqplot_min_plot = JSON.parse(await results[29].toString());\r\n        this.summary.qqplot_ols_plot.layout.title.font = {\r\n\r\n            size: 10\r\n        };\r\n\r\n\r\n\r\n        this.summary.qqplot_ols_plot.data[0].marker.size = 3;\r\n        this.summary.qqplot_ols_plot.data[0].marker.color = \"blue\";\r\n        this.summary.qqplot_ols_plot.layout.height = 300\r\n        this.summary.qqplot_ols_plot.layout.width = 300\r\n\r\n        this.summary.qqplot_ols_plot.layout.xaxis.title.font = {\r\n\r\n            size: 10\r\n        };\r\n        this.summary.qqplot_ols_plot.layout.yaxis.title.font = {\r\n\r\n            size: 10\r\n        };\r\n\r\n        this.summary.qqplot_1se_plot.layout.height = 300\r\n        this.summary.qqplot_1se_plot.layout.width = 300\r\n        this.summary.qqplot_1se_plot.layout.title.font = {\r\n\r\n            size: 10\r\n        };\r\n        this.summary.qqplot_1se_plot.data[0].marker.size = 3;\r\n\r\n        this.summary.qqplot_1se_plot.layout.xaxis.title.font = {\r\n\r\n            size: 10\r\n        };\r\n        this.summary.qqplot_1se_plot.layout.yaxis.title.font = {\r\n\r\n            size: 10\r\n        };\r\n\r\n\r\n        this.summary.qqplot_min_plot.layout.height = 300\r\n        this.summary.qqplot_min_plot.layout.width = 300\r\n        this.summary.qqplot_min_plot.layout.title.font = {\r\n\r\n            size: 10\r\n        };\r\n        this.summary.qqplot_min_plot.layout.xaxis.title.font = {\r\n\r\n            size: 10\r\n        };\r\n        this.summary.qqplot_min_plot.layout.yaxis.title.font = {\r\n\r\n            size: 10\r\n        };\r\n\r\n\r\n        this.summary.qqplot_min_plot.data[0].marker.size = 1;\r\n        return this.summary['predictions'];\r\n    }\r\n    async visualize(x_test, y_test, uniqueLabels, predictions, encoder) {\r\n        await super.visualize(x_test, y_test, uniqueLabels, predictions)\r\n        let current = this;\r\n        new DataTable('#metrics_table_' + current.id, {\r\n            responsive: false,\r\n            \"footerCallback\": function (row, data, start, end, display) {\r\n                var api = this.api();\r\n                $(api.column(2).footer()).html(\r\n                    'R2 : ' + current.summary.r2.toFixed(2) + ' AIC: ' + current.summary.aic.toFixed(2)\r\n                );\r\n                $(api.column(5).footer()).html(\r\n                    'R2 : ' + current.summary['best_fit_min'].r2.toFixed(2) + ' AIC: ' + current.summary['best_fit_min'].aic.toFixed(2)\r\n                );\r\n                $(api.column(8).footer()).html(\r\n                    'R2 : ' + current.summary['best_fit_1se'].r2.toFixed(2) + ' AIC: ' + current.summary['best_fit_1se'].aic.toFixed(2)\r\n                );\r\n            },\r\n            data: current.model_stats_matrix,\r\n            info: false,\r\n            search: false,\r\n            ordering: false,\r\n            searching: false,\r\n            paging: false,\r\n            bDestroy: true,\r\n            columnDefs: [\r\n                {\r\n                    \"targets\": 3,\r\n                    \"createdCell\": function (td, cellData, rowData, row, col) {\r\n                        if (rowData[3] <= 0.05) {\r\n                            $(td).css('color', 'red')\r\n                            $(td).css('font-weight', '700')\r\n\r\n                        }\r\n                    }\r\n                },\r\n                {\r\n                    \"targets\": 6,\r\n                    \"createdCell\": function (td, cellData, rowData, row, col) {\r\n                        if (rowData[6] <= 0.05) {\r\n                            $(td).css('color', 'red')\r\n                            $(td).css('font-weight', '700')\r\n                        }\r\n                    }\r\n                },\r\n                {\r\n                    \"targets\": 9,\r\n                    \"createdCell\": function (td, cellData, rowData, row, col) {\r\n                        if (rowData[9] <= 0.05) {\r\n                            $(td).css('color', 'red')\r\n                            $(td).css('font-weight', '700')\r\n                        }\r\n                    }\r\n                }\r\n            ],\r\n        });\r\n\r\n        await Plotly.newPlot('parameters_plot_' + current.id, current.summary.coefs_plot, { autosize: true, responsive: true });\r\n        await Plotly.newPlot('regularization_' + current.id, current.summary.regularization_plot, { autosize: true, responsive: true });\r\n        await Plotly.newPlot('errors_' + current.id, current.summary.errors_plot, { autosize: true, responsive: true });\r\n        await Plotly.newPlot('qqplot_ols_' + current.id, current.summary.qqplot_ols_plot, { autosize: true, staticPlot: true, });\r\n        await Plotly.newPlot('qqplot_min_' + current.id, current.summary.qqplot_min_plot, { autosize: true, staticPlot: true, });\r\n        await Plotly.newPlot('qqplot_1se_' + current.id, current.summary.qqplot_1se_plot, { autosize: true, staticPlot: true, });\r\n        current.chartController.yhat_plot(y_test, this.summary['predictions'], 'regression_y_yhat_' + current.id, 'OLS predictions')\r\n        current.chartController.yhat_plot(y_test, this.summary['predictionsmin'], 'regression_y_yhat_min_' + current.id, 'lasso min predictions')\r\n        current.chartController.yhat_plot(y_test, this.summary['predictions1se'], 'regression_y_yhat_1se_' + current.id, 'lasso 1se predictions')\r\n        current.chartController.residual_plot(y_test, this.summary['residuals_ols'], 'regression_residual_' + current.id, 'OLS residuals')\r\n        current.chartController.residual_plot(y_test, this.summary['residuals_min'], 'regression_residual_min_' + current.id, 'lasso min residuals')\r\n        current.chartController.residual_plot(y_test, this.summary['residuals_1se'], 'regression_residual_1se_' + current.id, 'lasso 1se residuals')\r\n        this.ui.predictions_table_regression(x_test, y_test, predictions, this.id);\r\n        window.dispatchEvent(new Event('resize'));\r\n\r\n    }\r\n}","import { asyncRun } from \"@/helpers/py-worker\";\r\nimport { RegressionModel } from \"../regression_model\";\r\n\r\n\r\nexport default class BSplineRegression extends RegressionModel {\r\n    constructor(options) {\r\n        super();\r\n        this.options = options;\r\n        this.model = null;\r\n        this.hasExplaination = false;\r\n\r\n    }\r\n    async train(x_train, y_train, x_test, y_test, columns) {\r\n        this.context = {\r\n            X_train: x_train,\r\n            y_train: y_train,\r\n            X_test: x_test,\r\n            y_test: y_test,\r\n            knots: +this.options.knots.value,\r\n            explain: this.hasExplaination,\r\n            degree: +this.options.degree.value,\r\n            features: [...Array(columns.length).keys()]\r\n\r\n\r\n        };\r\n        const script = `\r\n        from sklearn.preprocessing import SplineTransformer\r\n        from sklearn.inspection import PartialDependenceDisplay\r\n        from sklearn.inspection import permutation_importance\r\n        from sklearn.ensemble import GradientBoostingRegressor\r\n        import pandas as pd\r\n        import matplotlib\r\n        matplotlib.use(\"AGG\")\r\n        from sklearn import linear_model\r\n        from sklearn.metrics import mean_squared_error\r\n        from sklearn.pipeline import make_pipeline\r\n        from js import X_train,y_train,X_test,knots,degree,y_test,features,explain\r\n\r\n\r\n        features_importance = []\r\n        partial_dependence_plot_grids = []\r\n        partial_dependence_plot_avgs = []\r\n        \r\n        model = make_pipeline(\r\n            SplineTransformer(n_knots=knots, degree=degree), \r\n            linear_model.LinearRegression()\r\n            )\r\n        model.fit(X_train, y_train)\r\n        pred_train = model.predict(X_train)\r\n        rmse_train = mean_squared_error(y_train, pred_train, squared=True)\r\n        y_pred = model.predict(X_test)\r\n        if explain:\r\n            pdp = PartialDependenceDisplay.from_estimator(model, X_train, features,method ='brute')\r\n            fi = permutation_importance(model,X_test,y_test,n_repeats=10)\r\n            partial_dependence_plot_avgs = list(map(lambda item:item['average'],pdp.pd_results))\r\n            grids = list(map(lambda item:item['grid_values'],pdp.pd_results))\r\n            features_importance = list(fi.importances)\r\n            partial_dependence_plot_grids = [item[0].tolist() for item in grids ]\r\n        y_pred,partial_dependence_plot_avgs,partial_dependence_plot_grids, features_importance\r\n\r\n        `;\r\n        try {\r\n            const { results, error } = await asyncRun(script, this.context);\r\n            if (results) {\r\n                this.predictions = Array.from(results[0]);\r\n                this.pdp_averages = Array.from(results[1]);\r\n                this.pdp_grid = Array.from(results[2]);\r\n                this.importances = Array.from(results[3]);\r\n                return Array.from(results[0]);\r\n            } else if (error) {\r\n                console.log(\"pyodideWorker error: \", error);\r\n            }\r\n        } catch (e) {\r\n            throw Error(`Error in pyodideWorker at ${e.filename}, Line: ${e.lineno}, ${e.message}`,)\r\n\r\n        }\r\n    }\r\n    async visualize(x_test, y_test, uniqueLabels, predictions, encoder, columns, categorical_columns) {\r\n        await super.visualize(x_test, y_test, uniqueLabels, predictions, encoder)\r\n        if (this.hasExplaination) {\r\n            this.chartController.PFIBoxplot(this.id, this.importances, columns);\r\n            this.chartController.plotPDPRegression(this.id, this.pdp_averages, this.pdp_grid, uniqueLabels, columns, categorical_columns);\r\n        }\r\n    }\r\n}","import { ClassificationModel } from \"../model\";\r\nimport { asyncRun } from \"@/helpers/py-worker\";\r\n\r\nexport default class SupportVectorMachine extends ClassificationModel {\r\n    constructor(opt) {\r\n        super();\r\n        // eslint-disable-next-line no-unused-vars\r\n        this.options = {\r\n            kernel: opt.kernel.value.toLowerCase(),\r\n            coef: opt.bias.value,\r\n            degree: opt.degree.value,\r\n            c: opt.c.value,\r\n            quiet: true\r\n        };\r\n        this.helpSectionId = 'svm_help';\r\n    }\r\n    // eslint-disable-next-line no-unused-vars\r\n    async train(x_train, y_train, x_test, y_test, columns, __, pdpIndex) {\r\n\r\n        this.context = {\r\n            X_train: x_train,\r\n            y_train: y_train,\r\n            X_test: x_test,\r\n            y_test: y_test,\r\n            pdpIndex: pdpIndex,\r\n            explain: this.hasExplaination,\r\n            kernel: this.options.kernel,\r\n            coef: this.options.coef,\r\n            c: +this.options.c,\r\n            degree: this.options.degree,\r\n            seed: this.seed,\r\n            features: [...Array(columns.length).keys()]\r\n\r\n        };\r\n        const script = `\r\n        from sklearn import svm\r\n        from js import X_train,y_train,X_test,y_test,kernel,coef,degree,features,seed,c,explain\r\n        import matplotlib\r\n        matplotlib.use(\"AGG\")\r\n        from sklearn.inspection import PartialDependenceDisplay\r\n        from sklearn.inspection import permutation_importance\r\n        features_importance = []\r\n        partial_dependence_plot_grids = []\r\n        partial_dependence_plot_avgs = []\r\n\r\n        model = svm.SVC(kernel=kernel,random_state = seed,C=c,degree=degree)\r\n        model.fit(X_train, y_train)\r\n        y_pred = model.predict(X_test)\r\n\r\n        if explain:\r\n            pdp = PartialDependenceDisplay.from_estimator(model, X_train, features,target=0,method ='brute')\r\n            fi = permutation_importance(model,X_test,y_test,n_repeats=10)\r\n            partial_dependence_plot_avgs = list(map(lambda item:item['average'],pdp.pd_results))\r\n            grids = list(map(lambda item:item['grid_values'],pdp.pd_results))\r\n            features_importance = list(fi.importances)\r\n            partial_dependence_plot_grids = [item[0].tolist() for item in grids ]\r\n        y_pred,partial_dependence_plot_avgs,partial_dependence_plot_grids,features_importance\r\n    `;\r\n        try {\r\n            const { results, error } = await asyncRun(script, this.context);\r\n            if (results) {\r\n                this.predictions = Array.from(results[0]);\r\n                this.pdp_averages = Array.from(results[1]);\r\n                this.pdp_grid = Array.from(results[2]);\r\n                this.importances = Array.from(results[3]);\r\n                return Array.from(results[0]);\r\n            } else if (error) {\r\n                console.log(\"pyodideWorker error: \", error);\r\n            }\r\n        } catch (e) {\r\n            throw Error(`Error in pyodideWorker at ${e.filename}, Line: ${e.lineno}, ${e.message}`,)\r\n\r\n        }\r\n    }\r\n    generatePythonCode() {\r\n        let model_import = \"from sklearn import svm\"\r\n        let model_fit = `\r\nmodel = model = svm.SVC(kernel=\"${this.options.kernel}\",random_state = ${this.seed})`\r\n        return super.generatePythonCode(model_import, model_fit)\r\n    }\r\n    async visualize(x_test, y_test, uniqueLabels, predictions, encoder, columns, categorical_columns) {\r\n        await super.visualize(x_test, y_test, uniqueLabels, predictions, encoder)\r\n        if (this.hasExplaination) {\r\n            this.chartController.PFIBoxplot(this.id, this.importances, columns);\r\n            this.chartController.plotPDP(this.id, this.pdp_averages, this.pdp_grid, uniqueLabels, columns, categorical_columns);\r\n        }\r\n    }\r\n}","import { RegressionModel } from \"../regression_model\";\r\nimport { asyncRun } from \"@/helpers/py-worker\";\r\nexport default class SupportVectorMachineRegression extends RegressionModel {\r\n    constructor(opt, chartControler) {\r\n        super(chartControler);\r\n        let options = {\r\n            kernel: opt.kernel.value ?? \"linear\",\r\n            gamma: opt.gamma.value,\r\n            degree: opt.degree.value,\r\n        }\r\n        this.options = options;\r\n        this.helpSectionId = 'svm_help';\r\n\r\n    }\r\n    async train(x_train, y_train, x_test, y_test, columns) {\r\n\r\n        this.context = {\r\n            X_train: x_train,\r\n            y_train: y_train,\r\n            X_test: x_test,\r\n            y_test: y_test,\r\n            kernel: this.options.kernel,\r\n            gamma: this.options.gamma,\r\n            degree: this.options.degree,\r\n            explain: this.hasExplaination,\r\n            seed: this.seed,\r\n            features: [...Array(columns.length).keys()]\r\n        };\r\n        const script = `\r\n        from sklearn import svm\r\n        import matplotlib\r\n        matplotlib.use(\"AGG\")\r\n        from js import X_train,y_train,X_test,y_test,kernel,gamma,degree,seed,features,explain\r\n        from sklearn.inspection import PartialDependenceDisplay\r\n        from sklearn.inspection import permutation_importance\r\n\r\n        \r\n        features_importance = []\r\n        partial_dependence_plot_grids = []\r\n        partial_dependence_plot_avgs = []\r\n        model = svm.SVR(kernel=kernel)\r\n        model.fit(X_train, y_train)\r\n        y_pred = model.predict(X_test)\r\n\r\n        if explain:\r\n            pdp = PartialDependenceDisplay.from_estimator(model, X_train, features)\r\n            fi = permutation_importance(model,X_test,y_test,n_repeats=10)\r\n            partial_dependence_plot_avgs = list(map(lambda item:item['average'],pdp.pd_results))\r\n            grids = list(map(lambda item:item['grid_values'],pdp.pd_results))\r\n            features_importance = list(fi.importances)\r\n            partial_dependence_plot_grids = [item[0].tolist() for item in grids ]\r\n        y_pred,partial_dependence_plot_avgs,partial_dependence_plot_grids, features_importance\r\n    `;\r\n        try {\r\n            const { results, error } = await asyncRun(script, this.context);\r\n            if (results) {\r\n                this.predictions = Array.from(results[0]);\r\n                this.pdp_averages = Array.from(results[1]);\r\n                this.pdp_grid = Array.from(results[2]);\r\n                this.importances = Array.from(results[3]);\r\n                return Array.from(results[0]);\r\n            } else if (error) {\r\n                console.log(\"pyodideWorker error: \", error);\r\n            }\r\n        } catch (e) {\r\n            throw Error(`Error in pyodideWorker at ${e.filename}, Line: ${e.lineno}, ${e.message}`,)\r\n\r\n        }\r\n    }\r\n    async visualize(x_test, y_test, uniqueLabels, predictions, encoder, columns, categorical_columns) {\r\n        await super.visualize(x_test, y_test, uniqueLabels, predictions, encoder)\r\n        if (this.hasExplaination) {\r\n            this.chartController.PFIBoxplot(this.id, this.importances, columns);\r\n            this.chartController.plotPDPRegression(this.id, this.pdp_averages, this.pdp_grid, uniqueLabels, columns, categorical_columns);\r\n        }\r\n    }\r\n}","\r\nimport { ClassificationModel } from '../model';\r\nimport { asyncRun } from \"@/helpers/py-worker\";\r\n\r\nexport default class KNNModel extends ClassificationModel {\r\n    constructor(options) {\r\n        super();\r\n        this.options = options\r\n        this.model = null;\r\n        this.helpSectionId = 'knn_help';\r\n\r\n\r\n    }\r\n    // eslint-disable-next-line no-unused-vars\r\n    async train(x, y, x_test, y_test, columns, __, pdpIndex) {\r\n        this.context = {\r\n            X_train: x,\r\n            y_train: y,\r\n            X_test: x_test,\r\n            y_test: y_test,\r\n            min: +this.options.min.value,\r\n            max: +this.options.max.value,\r\n            explain: this.hasExplaination,\r\n            features: [...Array(columns.length).keys()]\r\n        };\r\n        const script = `\r\n        import matplotlib\r\n        matplotlib.use(\"AGG\")\r\n        from js import X_train,y_train,X_test,y_test,features,min,max,explain\r\n        from sklearn.inspection import PartialDependenceDisplay\r\n        from sklearn.inspection import permutation_importance\r\n        from sklearn.neighbors import KNeighborsClassifier\r\n        from sklearn.metrics import accuracy_score\r\n\r\n        features_importance = []\r\n        partial_dependence_plot_grids = []\r\n        partial_dependence_plot_avgs = []\r\n\r\n        k_neighbor_results=[]\r\n        best_model = None\r\n        best_accuracy = 0\r\n        best_preds = []\r\n        for i,metric in enumerate(['manhattan','euclidean']):\r\n            for n in range(min,max+1):\r\n                model = KNeighborsClassifier(n_neighbors=n,metric=metric)\r\n                model.fit(X_train, y_train)\r\n                preds = model.predict(X_test)\r\n                accuracy = accuracy_score(y_test,preds)\r\n                k_neighbor_results.append([metric,n,accuracy])\r\n                if accuracy > best_accuracy:\r\n                    best_accuracy = accuracy\r\n                    best_model = model\r\n                    best_n = n\r\n                    best_preds = preds\r\n        if explain:\r\n            pdp = PartialDependenceDisplay.from_estimator(best_model, X_train, features,target=0,method ='brute')\r\n            fi = permutation_importance(best_model,X_test,y_test,n_repeats=10)\r\n            partial_dependence_plot_avgs = list(map(lambda item:item['average'],pdp.pd_results))\r\n            grids = list(map(lambda item:item['grid_values'],pdp.pd_results))\r\n            features_importance = list(fi.importances)\r\n            partial_dependence_plot_grids = [item[0].tolist() for item in grids ]\r\n        best_preds,partial_dependence_plot_avgs,partial_dependence_plot_grids, features_importance,k_neighbor_results,best_n\r\n    `;\r\n        try {\r\n            const { results, error } = await asyncRun(script, this.context);\r\n            if (results) {\r\n                this.predictions = Array.from(results[0]);\r\n                this.pdp_averages = Array.from(results[1]);\r\n                this.pdp_grid = Array.from(results[2]);\r\n                this.importances = Array.from(results[3]);\r\n                this.k_neighbor_results = Array.from(results[4]);\r\n                this.best_n = results[5];\r\n                return Array.from(results[0]);\r\n            } else if (error) {\r\n                console.log(\"pyodideWorker error: \", error);\r\n            }\r\n        } catch (e) {\r\n            throw Error(`Error in pyodideWorker at ${e.filename}, Line: ${e.lineno}, ${e.message}`,)\r\n\r\n        }\r\n    }\r\n    generatePythonCode() {\r\n        let model_import = `\r\nfrom sklearn.neighbors import KNeighborsClassifier\r\nfrom sklearn.metrics import accuracy_score`.trim();\r\n        let model_fit = `\r\nbest_model = None\r\nbest_accuracy = 0\r\nbest_preds = []\r\nfor i,metric in enumerate(['manhattan','euclidean']):\r\n    for n in range(${+this.options.min.value},${+this.options.max.value + 1}):\r\n        model = KNeighborsClassifier(n_neighbors=n,metric=metric)\r\n        model.fit(X_train, y_train)\r\n        preds = model.predict(X_test)\r\n        accuracy = accuracy_score(y_test,preds)\r\n        if accuracy > best_accuracy:\r\n            best_accuracy = accuracy\r\n            best_model = model\r\n            best_n = n\r\n            best_preds = preds\r\nmodel = best_model\r\n`.trim();\r\n        return super.generatePythonCode(model_import, model_fit)\r\n    }\r\n    async visualize(x_test, y_test, uniqueLabels, predictions, encoder, columns, categorical_columns) {\r\n        await super.visualize(x_test, y_test, uniqueLabels, predictions, encoder)\r\n        this.chartController.KNNPerformancePlot(this.k_neighbor_results, this.best_n, this.id);\r\n        this.plots.push('knn_table_' + this.id);\r\n        if (this.hasExplaination) {\r\n            this.chartController.PFIBoxplot(this.id, this.importances, columns);\r\n            this.chartController.plotPDP(this.id, this.pdp_averages, this.pdp_grid, uniqueLabels, columns, categorical_columns);\r\n        }\r\n\r\n    }\r\n\r\n}","\r\nimport { RegressionModel } from '../regression_model'\r\nimport { asyncRun } from \"@/helpers/py-worker\";\r\n\r\nexport default class KNNRegressor extends RegressionModel {\r\n    constructor(options) {\r\n        super();\r\n        this.options = options\r\n        this.model = null;\r\n        this.helpSectionId = 'knn_help';\r\n\r\n\r\n    }\r\n    // eslint-disable-next-line no-unused-vars\r\n    async train(x, y, x_test, y_test, columns, __, pdpIndex) {\r\n        this.context = {\r\n            X_train: x,\r\n            y_train: y,\r\n            X_test: x_test,\r\n            y_test: y_test,\r\n            min: +this.options.min.value,\r\n            max: +this.options.max.value,\r\n            explain: this.hasExplaination,\r\n            features: [...Array(columns.length).keys()]\r\n        };\r\n        const script = `\r\n        import matplotlib\r\n        matplotlib.use(\"AGG\")\r\n        from js import X_train,y_train,X_test,y_test,features,min,max,explain\r\n        from sklearn.inspection import PartialDependenceDisplay\r\n        from sklearn.inspection import permutation_importance\r\n        from sklearn.neighbors import KNeighborsRegressor\r\n\r\n        features_importance = []\r\n        partial_dependence_plot_grids = []\r\n        partial_dependence_plot_avgs = []\r\n        k_neighbor_results=[]\r\n        best_model = None\r\n        best_r2 = 0\r\n        best_preds = []\r\n\r\n        for i,metric in enumerate(['manhattan','euclidean']):\r\n            for n in range(min,max+1):\r\n                model = KNeighborsRegressor(n_neighbors=n,metric=metric)\r\n                model.fit(X_train, y_train)\r\n                preds = model.predict(X_test)\r\n                r2 = model.score(X_test,y_test)\r\n                k_neighbor_results.append([metric,n,r2])\r\n                if r2 > best_r2:\r\n                    best_r2 = r2\r\n                    best_model = model\r\n                    best_n = n\r\n                    best_preds = preds\r\n\r\n        if explain:\r\n            pdp = PartialDependenceDisplay.from_estimator(best_model, X_train, features)\r\n            fi = permutation_importance(best_model,X_test,y_test,n_repeats=10)\r\n            partial_dependence_plot_avgs = list(map(lambda item:item['average'],pdp.pd_results))\r\n            grids = list(map(lambda item:item['grid_values'],pdp.pd_results))\r\n            features_importance = list(fi.importances)\r\n            partial_dependence_plot_grids = [item[0].tolist() for item in grids ]\r\n        best_preds,partial_dependence_plot_avgs,partial_dependence_plot_grids, features_importance,k_neighbor_results,best_n\r\n    `;\r\n        try {\r\n            const { results, error } = await asyncRun(script, this.context);\r\n            if (results) {\r\n                this.predictions = Array.from(results[0]);\r\n                this.pdp_averages = Array.from(results[1]);\r\n                this.pdp_grid = Array.from(results[2]);\r\n                this.importances = Array.from(results[3]);\r\n                this.k_neighbor_results = Array.from(results[4]);\r\n                this.best_n = results[5];\r\n                return Array.from(results[0]);\r\n            } else if (error) {\r\n                console.log(\"pyodideWorker error: \", error);\r\n            }\r\n        } catch (e) {\r\n            throw Error(`Error in pyodideWorker at ${e.filename}, Line: ${e.lineno}, ${e.message}`,)\r\n\r\n        }\r\n    }\r\n    async visualize(x_test, y_test, uniqueLabels, predictions, encoder, columns, categorical_columns) {\r\n        await super.visualize(x_test, y_test, uniqueLabels, predictions, encoder)\r\n        this.chartController.KNNPerformancePlot(this.k_neighbor_results, this.best_n, this.id, \"MSE\");\r\n        this.plots.push('knn_table_' + this.id);\r\n        if (this.hasExplaination) {\r\n            this.chartController.PFIBoxplot(this.id, this.importances, columns);\r\n            this.chartController.plotPDPRegression(this.id, this.pdp_averages, this.pdp_grid, uniqueLabels, columns, categorical_columns);\r\n        }\r\n    }\r\n}","import { asyncRun } from \"@/helpers/py-worker\";\r\nimport { ClassificationModel } from \"../model\";\r\n\r\n\r\nexport default class RandomForest extends ClassificationModel {\r\n    constructor(options, chartController) {\r\n        super(chartController)\r\n        this.helpSectionId = 'cart_help';\r\n        this.options = options;\r\n        this.model = null;\r\n        this.predictions = [];\r\n        this.hasProbability = true;\r\n\r\n    }\r\n    // eslint-disable-next-line no-unused-vars\r\n    async train(x_train, y_train, x_test, y_test, columns, __, pdpIndex) {\r\n        this.context = {\r\n            X_train: x_train,\r\n            y_train: y_train,\r\n            X_test: x_test,\r\n            y_test: y_test,\r\n            pdpIndex: pdpIndex,\r\n            explain: this.hasExplaination,\r\n            rf_type: this.options.criteria.value,\r\n            max_features: this.options.features.value,\r\n            num_estimators: this.options.estimators.value <= 0 || !this.options.estimators.value ? 100 : +this.options.estimators.value,\r\n            max_depth: this.options.depth.value <= 0 ? 5 : +this.options.depth.value,\r\n            seed: this.seed,\r\n            features: [...Array(columns.length).keys()],\r\n            num_classes: [...new Set(y_train)].length,\r\n\r\n\r\n        };\r\n        const script = `\r\n            from sklearn.model_selection import train_test_split\r\n            from sklearn.ensemble import RandomForestClassifier\r\n            from sklearn.metrics import accuracy_score\r\n            import matplotlib\r\n            matplotlib.use(\"AGG\")\r\n            from sklearn.inspection import PartialDependenceDisplay\r\n            from sklearn.inspection import permutation_importance\r\n            from js import seed,X_train,y_train,X_test,y_test,rf_type,max_features,num_estimators,max_depth, features,explain,num_classes\r\n            from sklearn.metrics import roc_auc_score\r\n            from sklearn.metrics import roc_curve\r\n            from sklearn.preprocessing import LabelBinarizer\r\n\r\n\r\n            features_importance = []\r\n            partial_dependence_plot_grids = []\r\n            partial_dependence_plot_avgs = []\r\n            model = RandomForestClassifier(criterion=rf_type,max_features = max_features,n_estimators=num_estimators,max_depth = max_depth, random_state=seed)\r\n            model.fit(X_train, y_train)\r\n            y_pred = model.predict(X_test)\r\n            \r\n            probas = model.predict_proba(X_test)\r\n            tprs=[]\r\n            fprs=[]\r\n            aucs=[]\r\n            label_binrize = LabelBinarizer().fit(y_train)\r\n            y_test_one_hot = label_binrize.transform(y_test)\r\n            \r\n            try:\r\n                fpr,tpr,_  = roc_curve(y_test,probas[:,1])\r\n                fprs.append(fpr)\r\n                tprs.append(tpr)\r\n                auc = roc_auc_score(y_test,probas[:,1])\r\n                aucs.append(auc)\r\n            except Exception as e:\r\n                auc = roc_auc_score(y_test,probas,multi_class = 'ovr')\r\n                aucs.append(auc)\r\n                for i in range(num_classes):\r\n                    fpr,tpr,_ = roc_curve(y_test_one_hot[:,i],probas[:,i])\r\n                    fprs.append(fpr)\r\n                    tprs.append(tpr)\r\n\r\n            if explain:\r\n                pdp = PartialDependenceDisplay.from_estimator(model, X_train, features,target=0,method ='brute')\r\n                fi = permutation_importance(model,X_test,y_test,n_repeats=10)\r\n                partial_dependence_plot_avgs = list(map(lambda item:item['average'],pdp.pd_results))\r\n                grids = list(map(lambda item:item['grid_values'],pdp.pd_results))\r\n                features_importance = list(fi.importances)\r\n                partial_dependence_plot_grids = [item[0].tolist() for item in grids ]\r\n            y_pred,partial_dependence_plot_avgs,partial_dependence_plot_grids,features_importance,fprs,tprs,aucs,probas\r\n        `;\r\n        try {\r\n            const { results, error } = await asyncRun(script, this.context);\r\n            if (results) {\r\n                this.predictions = Array.from(results[0]);\r\n                this.pdp_averages = Array.from(results[1]);\r\n                this.pdp_grid = Array.from(results[2]);\r\n                this.importances = Array.from(results[3]);\r\n                this.fpr = Array.from(results[4]);\r\n                this.tpr = Array.from(results[5]);\r\n                this.auc = Array.from(results[6]);\r\n                this.probas = Array.from(results[7]);\r\n\r\n            } else if (error) {\r\n                throw Error(\"Faced errot fitting Random Forest\")\r\n            }\r\n        } catch (e) {\r\n            throw Error(`Error in pyodideWorker at ${e.filename}, Line: ${e.lineno}, ${e.message}`,)\r\n        }\r\n        return this.predictions\r\n    }\r\n    generatePythonCode() {\r\n        let model_import = \"from sklearn.ensemble import RandomForestClassifier\"\r\n        let model_fit = `\r\nmodel = RandomForestClassifier(criterion=\"${this.options.criteria.value}\",max_features = ${this.options.features.value},n_estimators=${this.options.estimators.value},max_depth = ${this.options.depth.value}, random_state=${this.seed})`\r\n        return super.generatePythonCode(model_import, model_fit)\r\n    }\r\n    async visualize(x_test, y_test, uniqueLabels, predictions, encoder, columns, categorical_columns) {\r\n        await super.visualize(x_test, y_test, uniqueLabels, predictions, encoder)\r\n        if (this.hasExplaination) {\r\n            this.chartController.PFIBoxplot(this.id, this.importances, columns);\r\n            this.chartController.plotPDP(this.id, this.pdp_averages, this.pdp_grid, uniqueLabels, columns, categorical_columns);\r\n        }\r\n        this.chartController.plotROC(this.id, this.fpr, this.tpr, uniqueLabels, this.auc);\r\n        this.chartController.probabilities_boxplot(this.probas, encoder.inverseTransform(predictions), uniqueLabels, this.id);\r\n    }\r\n    predict() {\r\n        return this.predictions;\r\n    }\r\n}","\r\n/* eslint-disable no-undef */\r\n/* eslint-disable no-unused-vars */\r\n\r\nimport { asyncRun } from \"@/helpers/py-worker\";\r\nimport { RegressionModel } from \"../regression_model\";\r\n\r\n\r\nexport default class RandomForestRegressor extends RegressionModel {\r\n    constructor(options) {\r\n        super();\r\n        this.options = options;\r\n        this.model = null;\r\n        this.helpSectionId = 'cart_help';\r\n\r\n    }\r\n    async train(x_train, y_train, x_test, y_test, columns, __, pdpIndex) {\r\n        this.context = {\r\n            X_train: x_train,\r\n            y_train: y_train,\r\n            X_test: x_test,\r\n            y_test: y_test,\r\n            rf_type: this.options.criteria.value,\r\n            max_features: this.options.features.value,\r\n            num_estimators: this.options.estimators.value <= 0 || !this.options.estimators.value ? 100 : +this.options.estimators.value,\r\n            max_depth: this.options.depth.value <= 0 ? 5 : +this.options.depth.value,\r\n            seed: this.seed,\r\n            explain: this.hasExplaination,\r\n            features: [...Array(columns.length).keys()]\r\n        };\r\n        const script = `\r\n            from sklearn.model_selection import train_test_split\r\n            from sklearn.ensemble import RandomForestRegressor\r\n            import matplotlib\r\n            matplotlib.use(\"AGG\")\r\n            from sklearn.metrics import accuracy_score\r\n            from js import X_train,y_train,X_test,y_test,rf_type,max_features,num_estimators,max_depth,seed,features,explain\r\n            from sklearn.inspection import PartialDependenceDisplay\r\n            from sklearn.inspection import permutation_importance\r\n\r\n            features_importance = []\r\n            partial_dependence_plot_grids = []\r\n            partial_dependence_plot_avgs = []\r\n            model = RandomForestRegressor(criterion=rf_type,max_features = max_features,n_estimators=num_estimators,max_depth = max_depth, random_state=seed)\r\n            model.fit(X_train, y_train)\r\n            y_pred = model.predict(X_test)\r\n\r\n            if explain:\r\n                pdp = PartialDependenceDisplay.from_estimator(model, X_train, features)\r\n                fi = permutation_importance(model,X_test,y_test,n_repeats=10)\r\n                partial_dependence_plot_avgs = list(map(lambda item:item['average'],pdp.pd_results))\r\n                grids = list(map(lambda item:item['grid_values'],pdp.pd_results))\r\n                features_importance = list(fi.importances)\r\n                partial_dependence_plot_grids = [item[0].tolist() for item in grids ]\r\n            y_pred,partial_dependence_plot_avgs,partial_dependence_plot_grids, features_importance           \r\n        `;\r\n        try {\r\n            const { results, error } = await asyncRun(script, this.context);\r\n            if (results) {\r\n                this.predictions = Array.from(results[0]);\r\n                this.pdp_averages = Array.from(results[1]);\r\n                this.pdp_grid = Array.from(results[2]);\r\n                this.importances = Array.from(results[3]);\r\n                return Array.from(results[0]);\r\n            } else if (error) {\r\n                console.log(\"pyodideWorker error: \", error);\r\n            }\r\n        } catch (e) {\r\n            throw Error(`Error in pyodideWorker at ${e.filename}, Line: ${e.lineno}, ${e.message}`,)\r\n\r\n        }\r\n\r\n    }\r\n\r\n    predict(x_test) {\r\n        const result = this.model.predict(x_test);\r\n        return result\r\n    }\r\n    async visualize(x_test, y_test, uniqueLabels, predictions, encoder, columns, categorical_columns) {\r\n        await super.visualize(x_test, y_test, uniqueLabels, predictions, encoder)\r\n        if (this.hasExplaination) {\r\n            this.chartController.PFIBoxplot(this.id, this.importances, columns);\r\n            this.chartController.plotPDPRegression(this.id, this.pdp_averages, this.pdp_grid, uniqueLabels, columns, categorical_columns);\r\n        }\r\n    }\r\n}","import { asyncRun } from \"@/helpers/py-worker\";\r\nimport { ClassificationModel } from '../model';\r\n\r\nexport default class NaiveBayes extends ClassificationModel {\r\n    constructor(options) {\r\n        super();\r\n        this.options = options\r\n        this.model = null;\r\n        this.helpSectionId = 'naive_bayes_help';\r\n        this.hasProbability = true;\r\n\r\n\r\n    }\r\n    // eslint-disable-next-line no-unused-vars\r\n    async train(x_train, y_train, x_test, y_test, columns, __, pdpIndex) {\r\n        // const priors = this.options.priors.value ? this.options.priors?.value.split(',').map((m) => parseFloat(m)) : undefined\r\n        this.context = {\r\n            nb_type: this.options.type.value === \"Multinomial\" ? 0 : this.options.type.value === \"Gaussian\" ? 1 : 2,\r\n            priors: this.options.priors.value,\r\n            smoothing: +this.options.laplace.value,\r\n            num_classes: [...new Set(y_train)].length,\r\n            X_train: x_train,\r\n            y_train: y_train,\r\n            y_test: y_test,\r\n            explain: this.hasExplaination,\r\n            X_test: x_test,\r\n\r\n            pdpIndex: pdpIndex,\r\n            features: [...Array(columns.length).keys()]\r\n\r\n        };\r\n        const script = `\r\n            from sklearn.naive_bayes import BernoulliNB\r\n            from sklearn.naive_bayes import MultinomialNB\r\n            import matplotlib\r\n            matplotlib.use(\"AGG\")\r\n            from js import X_train,y_train,X_test,nb_type,priors,smoothing,y_test,num_classes,features,explain\r\n            from sklearn.naive_bayes import GaussianNB\r\n            from sklearn.inspection import PartialDependenceDisplay\r\n            from sklearn.inspection import permutation_importance\r\n            from sklearn.metrics import roc_auc_score\r\n            from sklearn.metrics import roc_curve\r\n            from sklearn.preprocessing import LabelBinarizer\r\n\r\n            features_importance = []\r\n            partial_dependence_plot_grids = []\r\n            partial_dependence_plot_avgs = []\r\n            if priors is not None and priors.strip():\r\n                priors = [float(x) for x in priors.split(',')]\r\n            else:\r\n                priors = None\r\n            print(\"priors\",priors)\r\n            if nb_type == 0:\r\n                model = MultinomialNB(class_prior=priors , alpha = smoothing)\r\n            if nb_type == 1:\r\n                model = GaussianNB(priors=priors)\r\n            else:\r\n                model = BernoulliNB(class_prior=priors , alpha = smoothing)\r\n            model.fit(X_train, y_train)\r\n            y_pred = model.predict(X_test)\r\n            probas = model.predict_proba(X_test)\r\n            tprs=[]\r\n            fprs=[]\r\n            aucs = []\r\n\r\n            label_binrize = LabelBinarizer().fit(y_train)\r\n            y_test_one_hot = label_binrize.transform(y_test)\r\n            \r\n            try:\r\n                fpr,tpr,_  = roc_curve(y_test,probas[:,1])\r\n                auc = roc_auc_score(y_test,probas[:,1])\r\n                aucs.append(auc)\r\n                fprs.append(fpr)\r\n                tprs.append(tpr)\r\n\r\n            except Exception as e:\r\n                print(e)\r\n                auc = roc_auc_score(y_test,probas,multi_class = 'ovr')\r\n                aucs.append(auc)\r\n                for i in range(num_classes):\r\n                    fpr,tpr,_ = roc_curve(y_test_one_hot[:,i],probas[:,i])\r\n                    fprs.append(fpr)\r\n                    tprs.append(tpr)\r\n\r\n            if explain:\r\n                pdp = PartialDependenceDisplay.from_estimator(model, X_train, features,target=0,method ='brute')\r\n                fi = permutation_importance(model,X_test,y_test,n_repeats=10)\r\n                partial_dependence_plot_avgs = list(map(lambda item:item['average'],pdp.pd_results))\r\n                grids = list(map(lambda item:item['grid_values'],pdp.pd_results))\r\n                features_importance = list(fi.importances)\r\n                partial_dependence_plot_grids = [item[0].tolist() for item in grids ]\r\n            y_pred,partial_dependence_plot_avgs,partial_dependence_plot_grids, features_importance,fprs,tprs,aucs,probas\r\n        `;\r\n        try {\r\n            const { results, error } = await asyncRun(script, this.context);\r\n            if (results) {\r\n                this.predictions = Array.from(results[0]);\r\n                this.pdp_averages = Array.from(results[1]);\r\n                this.pdp_grid = Array.from(results[2]);\r\n                this.importances = Array.from(results[3]);\r\n                this.fpr = Array.from(results[4]);\r\n                this.tpr = Array.from(results[5]);\r\n                this.auc = Array.from(results[6]);\r\n                this.probas = Array.from(results[7]);\r\n            } else if (error) {\r\n                console.log(\"pyodideWorker error: \", error);\r\n            }\r\n        } catch (e) {\r\n            throw Error(`Error in pyodideWorker at ${e.filename}, Line: ${e.lineno}, ${e.message}`,)\r\n\r\n        }\r\n        return this.predictions;\r\n    }\r\n    async visualize(x_test, y_test, uniqueLabels, predictions, encoder, columns, categorical_columns) {\r\n        await super.visualize(x_test, y_test, uniqueLabels, predictions, encoder)\r\n        if (this.hasExplaination) {\r\n            this.chartController.PFIBoxplot(this.id, this.importances, columns);\r\n            this.chartController.plotPDP(this.id, this.pdp_averages, this.pdp_grid, uniqueLabels, columns, categorical_columns);\r\n        }\r\n        this.chartController.plotROC(this.id, this.fpr, this.tpr, uniqueLabels, this.auc);\r\n        this.chartController.probabilities_boxplot(this.probas, encoder.inverseTransform(predictions), uniqueLabels, this.id);\r\n    }\r\n}","import { asyncRun } from \"@/helpers/py-worker\";\r\nimport { ClassificationModel } from \"../model\";\r\nexport default class DiscriminantAnalysis extends ClassificationModel {\r\n    constructor(options) {\r\n        super();\r\n        this.options = options\r\n        this.hasProbability = true;\r\n        this.helpSectionId = 'discriminant_analysis_help';\r\n\r\n    }\r\n    async train(x, y, x_test, y_test, columns, __, pdpIndex) {\r\n        this.context = {\r\n            lda_type: this.options.type.value,\r\n            priors: this.options.priors.value,\r\n            X_train: x,\r\n            y_train: y,\r\n            X_test: x_test,\r\n            y_test: y_test,\r\n            pdpIndex: pdpIndex,\r\n            explain: this.hasExplaination,\r\n            features: [...Array(columns.length).keys()],\r\n            num_classes: [...new Set(y)].length,\r\n\r\n\r\n        };\r\n        const script = `\r\n        import matplotlib\r\n        matplotlib.use(\"AGG\")\r\n        from sklearn.discriminant_analysis import QuadraticDiscriminantAnalysis\r\n        from sklearn.discriminant_analysis import LinearDiscriminantAnalysis\r\n        from js import X_train,y_train,X_test,lda_type,priors,y_test,features,explain,num_classes\r\n        from sklearn.inspection import PartialDependenceDisplay\r\n        from sklearn.inspection import permutation_importance\r\n        from sklearn.metrics import roc_auc_score\r\n        from sklearn.metrics import roc_curve\r\n        from sklearn.preprocessing import LabelBinarizer\r\n\r\n\r\n        features_importance = []\r\n        partial_dependence_plot_grids = []\r\n        partial_dependence_plot_avgs = []\r\n        if priors is not None and priors.strip():\r\n            priors = [float(x) for x in priors.split(',')]\r\n        else:\r\n            priors = None\r\n        print(\"priors\",priors)\r\n        if lda_type == 0:\r\n            model = LinearDiscriminantAnalysis(priors=priors)\r\n        else:\r\n            model = QuadraticDiscriminantAnalysis(priors=priors)\r\n        model.fit(X_train, y_train)\r\n        y_pred = model.predict(X_test)\r\n        probas = model.predict_proba(X_test)\r\n        tprs=[]\r\n        fprs=[]\r\n        aucs = []\r\n        label_binrize = LabelBinarizer().fit(y_train)\r\n        y_test_one_hot = label_binrize.transform(y_test)\r\n        \r\n        try:\r\n            fpr,tpr,_  = roc_curve(y_test,probas[:,1])\r\n            auc = roc_auc_score(y_test,probas[:,1])\r\n            aucs.append(auc)\r\n            fprs.append(fpr)\r\n            tprs.append(tpr)\r\n\r\n        except Exception as e:\r\n            auc = roc_auc_score(y_test,probas,multi_class = 'ovr')\r\n            aucs.append(auc)\r\n            for i in range(num_classes):\r\n                fpr,tpr,_ = roc_curve(y_test_one_hot[:,i],probas[:,i])\r\n                fprs.append(fpr)\r\n                tprs.append(tpr)\r\n\r\n        if explain:\r\n            pdp = PartialDependenceDisplay.from_estimator(model, X_train, features,target=0,method ='brute')\r\n            fi = permutation_importance(model,X_test,y_test,n_repeats=10)\r\n            partial_dependence_plot_avgs = list(map(lambda item:item['average'],pdp.pd_results))\r\n            grids = list(map(lambda item:item['grid_values'],pdp.pd_results))\r\n            features_importance = list(fi.importances)\r\n            partial_dependence_plot_grids = [item[0].tolist() for item in grids ]\r\n        y_pred,partial_dependence_plot_avgs,partial_dependence_plot_grids, features_importance,fprs,tprs,aucs,probas\r\n    `;\r\n        try {\r\n            const { results, error } = await asyncRun(script, this.context);\r\n            if (results) {\r\n                this.predictions = Array.from(results[0]);\r\n                this.pdp_averages = Array.from(results[1]);\r\n                this.pdp_grid = Array.from(results[2]);\r\n                this.importances = Array.from(results[3]);\r\n                this.fpr = Array.from(results[4]);\r\n                this.tpr = Array.from(results[5]);\r\n                this.auc = Array.from(results[6]);\r\n                this.probas = Array.from(results[7]);\r\n                return Array.from(results[0]);\r\n            } else if (error) {\r\n                console.log(\"pyodideWorker error: \", error);\r\n            }\r\n        } catch (e) {\r\n            throw Error(`Error in pyodideWorker at ${e.filename}, Line: ${e.lineno}, ${e.message}`,)\r\n\r\n        }\r\n    }\r\n\r\n    async visualize(x_test, y_test, uniqueLabels, predictions, encoder, columns, categorical_columns) {\r\n        await super.visualize(x_test, y_test, uniqueLabels, predictions, encoder)\r\n        if (this.hasExplaination) {\r\n            this.chartController.PFIBoxplot(this.id, this.importances, columns);\r\n            this.chartController.plotPDP(this.id, this.pdp_averages, this.pdp_grid, uniqueLabels, columns, categorical_columns);\r\n        }\r\n        this.chartController.plotROC(this.id, this.fpr, this.tpr, uniqueLabels, this.auc);\r\n        this.chartController.probabilities_boxplot(this.probas,  encoder.inverseTransform(predictions), uniqueLabels, this.id);\r\n    }\r\n\r\n}\r\n","\r\n/* eslint-disable no-undef */\r\n/* eslint-disable no-unused-vars */\r\n\r\n\r\nimport { RegressionModel } from '../regression_model';\r\n\r\nexport default class PolynomialRegression extends RegressionModel {\r\n    constructor(options) {\r\n        super();\r\n        this.options = options;\r\n        this.model = null;\r\n        this.hasExplaination = false\r\n        this.summary = null;\r\n        this.model_stats_matrix = null;\r\n\r\n    }\r\n\r\n    async train(x_train, y_train, x_test, y_test, labels, categorical_columns) {\r\n\r\n        let regularization_type = this.options?.regularization?.value === \"Lasso\" ? 1 : 0;\r\n        let degree = +this.options?.degree?.value;\r\n\r\n        const webR = window.webr;\r\n        await webR.init();\r\n        await webR.installPackages(['jsonlite', 'ggplot2', 'plotly', 'tidyr', 'broom', 'dplyr', 'ggrepel', 'glmnet', 'modelsummary'], { quiet: true });\r\n        await webR.objs.globalEnv.bind('xx', x_train);\r\n        await webR.objs.globalEnv.bind('x_test', x_test);\r\n        await webR.objs.globalEnv.bind('random_seed', this.seed);\r\n\r\n        await webR.objs.globalEnv.bind('y', y_train);\r\n        await webR.objs.globalEnv.bind('degree', degree);\r\n        await webR.objs.globalEnv.bind('names', labels);\r\n        await webR.objs.globalEnv.bind('categorical_columns', categorical_columns?.length === 0 ? ['empty'] : categorical_columns);\r\n\r\n        await webR.objs.globalEnv.bind('is_lasso', regularization_type);\r\n\r\n\r\n        const plotlyData = await webR.evalR(`\r\n                    library(plotly)\r\n                    library(ggplot2)\r\n                    library(tidyr)\r\n                    library(dplyr)\r\n                    library(broom)\r\n\r\n                    library(ggrepel)\r\n                    library(modelsummary)\r\n                    library(glmnet)\r\n                    set.seed(random_seed)\r\n\r\n                    # Select all columns except the first as predictors. \r\n                    add_powers <- function(df, degree,columns) {\r\n                            new_df <- df  # Copy the original data frame\r\n                            for (col in columns) {\r\n                                for (d in 2:degree){\r\n                                    new_col_name <- paste0(col, \"_\", d)\r\n                                    new_df[[new_col_name]] <- df[[col]]^d\r\n                                }\r\n                            }\r\n                            return(new_df)\r\n                        }\r\n                        \r\n                    x <- as.matrix(xx)  \r\n                    colnames(x) <- names\r\n                    cols_numerical <- setdiff(names, categorical_columns)\r\n                    df_main <- add_powers(as.data.frame(x), degree,cols_numerical)\r\n                    scale_df <- add_powers(as.data.frame(x), degree,cols_numerical)\r\n                    all_column_names <- colnames(scale_df)\r\n                    cols_to_scale <- setdiff(all_column_names, categorical_columns)\r\n                    scale_df[cols_to_scale] <- scale(scale_df[cols_to_scale])\r\n                    \r\n                    x <- as.matrix(x_test)  \r\n                    colnames(x) <- names\r\n                    df_test <- add_powers(as.data.frame(x), degree,cols_numerical)\r\n                    base_model = cv.glmnet(as.matrix(scale_df), y)\r\n                    weights <- 1 / abs(coef(base_model)[-1])\r\n\r\n                    if(is_lasso){\r\n                        cvfit = cv.glmnet(as.matrix(scale_df), y, alpha = 1)\r\n                    }else{\r\n                       cvfit = cv.glmnet(as.matrix(scale_df), y, alpha = 0)\r\n                    }\r\n                    betas = as.matrix(cvfit$glmnet.fit$beta)\r\n                    lambdas = cvfit$lambda\r\n                    names(lambdas) = colnames(betas)\r\n                    \r\n                    p <- as.data.frame(betas) %>% \r\n                      tibble::rownames_to_column(\"variable\") %>% \r\n                      pivot_longer(-variable) %>% \r\n                      mutate(lambda=lambdas[name]) %>% \r\n                      mutate(variable = factor(variable, levels = sort(unique(variable)))) %>%\r\n\r\n                    ggplot(aes(x=lambda,y=value,col=variable)) + \r\n                      geom_line() + \r\n                      geom_label_repel(data=~subset(.x,lambda==min(lambda)),\r\n                                       aes(label=variable),nudge_x=-0.5) +\r\n                      geom_vline(xintercept=c(cvfit$lambda.1se,cvfit$lambda.min),\r\n                                linetype=\"dashed\")+\r\n                      scale_x_log10() +\r\n                      labs(y = \"Coefficient\") +\r\n                    theme_bw()\r\n                    \r\n                    df = with(cvfit,\r\n                            data.frame(lambda = lambdas,MSE = cvm,MSEhi=cvup,MSElow=cvlo))\r\n\r\n                    p2<-ggplot(df,aes(x=lambda,y=MSE)) + \r\n                    geom_point(col=\"#f05454\") + \r\n                    scale_x_log10(\"lambda\") + \r\n                    geom_errorbar(aes(ymin = MSElow,ymax=MSEhi),col=\"#30475e\") + \r\n                    geom_vline(xintercept=c(cvfit$lambda.1se,cvfit$lambda.min),\r\n                                linetype=\"dashed\")+\r\n                    theme_bw()\r\n\r\n                     # Get lambda.min and lambda.1se\r\n                    lambda_min = cvfit$lambda.min\r\n                    lambda_1se = cvfit$lambda.1se\r\n\r\n                    # Get the coefficients at lambda.min and lambda.1se\r\n                    coef_lambda_min = coef(cvfit, s = \"lambda.min\")\r\n                    coef_lambda_1se = coef(cvfit, s = \"lambda.1se\")\r\n\r\n                    # Convert the sparse matrix to a regular matrix to make indexing easier\r\n                    coef_lambda_min_matrix = as.matrix(coef_lambda_min)\r\n                    coef_lambda_1se_matrix = as.matrix(coef_lambda_1se)\r\n                    coef_lambda_min_matrix = coef_lambda_min_matrix[-1, , drop = FALSE]\r\n                    coef_lambda_1se_matrix = coef_lambda_1se_matrix[-1, , drop = FALSE]\r\n                    # Find the non-zero features at lambda.min and lambda.1se\r\n                    non_zero_features_min = rownames(coef_lambda_min_matrix)[coef_lambda_min_matrix != 0]\r\n                    non_zero_features_1se = rownames(coef_lambda_1se_matrix)[coef_lambda_1se_matrix != 0]\r\n                    print(non_zero_features_min)\r\n                    print(non_zero_features_1se)\r\n                    x <- as.matrix(df_main)\r\n                    colnames(x) <- all_column_names\r\n\r\n                    model <- lm(y ~ ., data = as.data.frame(x))\r\n\r\n                    x <- as.matrix(df_test)  \r\n                    colnames(x) <- all_column_names\r\n\r\n                    predictions <- predict(model, newdata = as.data.frame(x))\r\n                    # Get coefficients, p-values, and standard errors\r\n                    coefs <- coef(model)\r\n                    pvals <- summary(model)$coefficients[,4]\r\n                    std_error <- summary(model)$coefficients[,2]\r\n                    aic_value <- AIC(model)\r\n                    bic_value <- BIC(model)\r\n                    rsquared <- summary(model)$r.squared\r\n                    residuals_ols <- resid(model)\r\n                    fitted_values_ols <- fitted(model)\r\n\r\n                    x <- as.matrix(df_main)  \r\n                    colnames(x) <- all_column_names\r\n                    X_reduced <- x[, non_zero_features_min]\r\n                    linear_model_min_features <- non_zero_features_min\r\n                    # Fit a linear regression model using the non-zero features\r\n                    print(colnames(X_reduced))\r\n                    linear_model_min <- lm(y ~ ., data = as.data.frame(X_reduced))\r\n                    coefs_min <- coef(linear_model_min)\r\n                    pvals_min <- summary(linear_model_min)$coefficients[,4]\r\n                    std_error_min <- summary(linear_model_min)$coefficients[,2]\r\n                    aic_min <- AIC(linear_model_min)\r\n                    rsquared_min <- summary(linear_model_min)$r.squared\r\n                    best_lambda <- cvfit$lambda.1se\r\n                    best_model <- glmnet(x, y, alpha =is_lasso, lambda = best_lambda)\r\n                    coefficients <- as.matrix(coef(best_model))\r\n                    residuals_min <- resid(linear_model_min)\r\n                    fitted_values_min <- fitted(linear_model_min)\r\n                    x <- as.matrix(df_test)  \r\n                    colnames(x) <- all_column_names\r\n                    predictions_min <- predict(linear_model_min, newdata = as.data.frame(x))\r\n\r\n\r\n\r\n\r\n\r\n                    x <- as.matrix(df_main)  \r\n                    colnames(x) <- all_column_names\r\n                    \r\n                    X_reduced <- x[, non_zero_features_1se]\r\n                    linear_model_1se_features <- non_zero_features_1se\r\n                    print(colnames(X_reduced))\r\n                    linear_model_1se <- lm(y ~ ., data = as.data.frame(X_reduced))\r\n                    coefs_1se <- coef(linear_model_1se)\r\n                    print(coefs_1se)\r\n                    pvals_1se <- summary(linear_model_1se)$coefficients[,4]\r\n                    aic_1se<- AIC(linear_model_1se)\r\n                    rsquared_1se <- summary(linear_model_1se)$r.squared\r\n                    std_error_1se <- summary(linear_model_1se)$coefficients[,2]\r\n                    residuals_1se <- resid(linear_model_1se)\r\n                    fitted_values_1se <- fitted(linear_model_1se)\r\n                    x <- as.matrix(df_test) \r\n                    colnames(x) <- all_column_names \r\n                    x <- x[, linear_model_1se_features]\r\n                    predictions_1se <- predict(linear_model_1se, newdata = as.data.frame(x))\r\n                    models <- list(\r\n                        \"OLS\" = model,\r\n                        \"Lasso Min \" = linear_model_min,\r\n                        \"Lasso 1se \" = linear_model_1se\r\n                        )\r\n\r\n                    z <- modelplot(models =models,coef_omit = 'Interc')\r\n                    qqplot_ols <-ggplot(data.frame(residuals = residuals_ols), aes(sample = residuals_ols)) +\r\n                        stat_qq(color = \"blue\") +\r\n                        stat_qq_line(col = \"red\") +\r\n                        labs(title = \"QQ Plot of Residuals\",\r\n                            x = \"Theoretical Quantiles\",\r\n                            y = \"Sample Quantiles\") +\r\n                        theme_bw()\r\n                    qqplot_1se <-ggplot(data.frame(residuals = residuals_1se), aes(sample = residuals_1se)) +\r\n                        stat_qq(color = \"blue\") +\r\n                        stat_qq_line(col = \"red\") +\r\n                        labs(title = \"QQ Plot of Residuals\",\r\n                            x = \"Theoretical Quantiles\",\r\n                            y = \"Sample Quantiles\") +\r\n                        theme_bw()\r\n                    qqplot_min <-ggplot(data.frame(residuals = residuals_min), aes(sample = residuals_min)) +\r\n                        stat_qq(color = \"blue\") +\r\n                        stat_qq_line(col = \"red\") +\r\n                        labs(title = \"QQ Plot of Residuals\",\r\n                            x = \"Theoretical Quantiles\",\r\n                            y = \"Sample Quantiles\") +\r\n                        theme_bw()\r\n                    list(plotly_json(p, pretty = FALSE),plotly_json(p2, pretty = FALSE),coefs,\r\n                    pvals,std_error,predictions,aic_value,bic_value,rsquared\r\n                    ,coefs_min,pvals_min,std_error_min\r\n                    ,coefs_1se,pvals_1se,std_error_1se,plotly_json(z, pretty = FALSE),linear_model_min_features,linear_model_1se_features\r\n                    ,residuals_ols,residuals_1se,residuals_min,predictions_1se,predictions_min,rsquared_1se,aic_1se,rsquared_min,aic_min\r\n                    ,plotly_json(qqplot_ols, pretty = FALSE)\r\n                    ,plotly_json(qqplot_1se, pretty = FALSE)\r\n                    ,plotly_json(qqplot_min, pretty = FALSE)\r\n                    ,all_column_names\r\n                    )\r\n                    `);\r\n        let results = await plotlyData.toArray()\r\n\r\n        this.summary = {\r\n            params: await results[2].toArray(),\r\n            bse: await results[4].toArray(),\r\n            pvalues: await results[3].toArray(),\r\n            predictions: await results[5].toArray(),\r\n            predictions1se: await results[21].toArray(),\r\n            predictionsmin: await results[22].toArray(),\r\n            residuals_ols: await results[18].toArray(),\r\n            residuals_1se: await results[19].toArray(),\r\n            residuals_min: await results[20].toArray(),\r\n            aic: await results[6].toNumber(),\r\n            bic: await results[7].toNumber(),\r\n            r2: await results[8].toNumber(),\r\n            best_fit_min: {\r\n                r2: await results[25].toNumber(),\r\n                aic: await results[26].toNumber(),\r\n                names: await results[16].toArray(),\r\n                coefs: await results[9].toArray(),\r\n                bse: await results[11].toArray(),\r\n                pvalues: await results[10].toArray(),\r\n            },\r\n            best_fit_1se: {\r\n                r2: await results[23].toNumber(),\r\n                aic: await results[24].toNumber(),\r\n                names: await results[17].toArray(),\r\n                coefs: await results[12].toArray(),\r\n                bse: await results[14].toArray(),\r\n                pvalues: await results[13].toArray(),\r\n            },\r\n            columnNames: await results[30].toArray()\r\n        };\r\n        this.model_stats_matrix = [];\r\n        let cols = this.summary.columnNames\r\n        cols.unshift(\"intercept\")\r\n        let min_ols_columns = this.summary['best_fit_min'].names;\r\n\r\n        min_ols_columns.unshift('intercept');\r\n        let se_ols_columns = this.summary['best_fit_1se'].names;\r\n        se_ols_columns.unshift('intercept');\r\n        function isNumeric(value) {\r\n            return /^-?\\d+$/.test(value);\r\n        }\r\n\r\n        for (let i = 0; i < cols.length; i++) {\r\n            let row = [];\r\n            row.push(cols[i])\r\n            row.push(this.summary['params'][i]?.toFixed(2) ?? ' ')\r\n            row.push(this.summary['bse'][i]?.toFixed(2) ?? ' ')\r\n            row.push(this.summary['pvalues'][i]?.toFixed(2) ?? ' ')\r\n            let index = min_ols_columns.findIndex(m => m === cols[i])\r\n            if (index !== -1) {\r\n                row.push(this.summary['best_fit_min']['coefs'][index]?.toFixed(2) ?? ' ')\r\n                row.push(this.summary['best_fit_min']['bse'][index]?.toFixed(2) ?? ' ')\r\n                row.push(this.summary['best_fit_min']['pvalues'][index]?.toFixed(2) ?? ' ')\r\n            } else {\r\n                row.push(' ')\r\n                row.push(' ')\r\n                row.push(' ')\r\n            }\r\n            index = se_ols_columns.findIndex(m => m === cols[i])\r\n            if (index !== -1) {\r\n                row.push(this.summary['best_fit_1se']['coefs'][index]?.toFixed(2) ?? ' ')\r\n                row.push(this.summary['best_fit_1se']['bse'][index]?.toFixed(2) ?? ' ')\r\n                row.push(this.summary['best_fit_1se']['pvalues'][index]?.toFixed(2) ?? ' ')\r\n            } else {\r\n                row.push(' ')\r\n                row.push(' ')\r\n                row.push(' ')\r\n            }\r\n            this.model_stats_matrix.push(row)\r\n        }\r\n        this.model_stats_matrix = this.model_stats_matrix.sort(function (a, b) {\r\n            if (a[0] > b[0]) {\r\n                return 1\r\n            }\r\n            if (a[0] < b[0]) {\r\n                return -1\r\n            }\r\n            return 0\r\n        })\r\n        this.model_stats_matrix.reverse()\r\n        let reg_plot = JSON.parse(await results[0].toString())\r\n        reg_plot.layout['showlegend'] = true;\r\n        reg_plot.layout['autosize'] = true;\r\n        reg_plot.layout['responsive'] = true;\r\n        reg_plot.layout.xaxis['side'] = 'top';\r\n        reg_plot.layout.legend = {\r\n            orientation: 'h',\r\n            font: {\r\n\r\n                size: 8,\r\n                color: '#000'\r\n            },\r\n        };\r\n        let coefs_plot = JSON.parse(await results[15].toString())\r\n        coefs_plot.layout.legend = {\r\n            x: 0,\r\n            y: 1,\r\n            traceorder: 'normal',\r\n            font: {\r\n\r\n                size: 8,\r\n                color: '#000'\r\n            },\r\n        };\r\n        this.summary.coefs_plot = coefs_plot;\r\n        this.summary.coefs_plot.layout['autosize'] = true;\r\n        this.summary.coefs_plot.layout['responsive'] = true;\r\n        this.summary.coefs_plot.layout.xaxis.title.font = {\r\n            size: 10\r\n        };\r\n        this.summary.regularization_plot = reg_plot;\r\n        this.summary.errors_plot = JSON.parse(await results[1].toString());\r\n        this.summary.qqplot_ols_plot = JSON.parse(await results[27].toString());\r\n        this.summary.qqplot_1se_plot = JSON.parse(await results[28].toString());\r\n        this.summary.qqplot_min_plot = JSON.parse(await results[29].toString());\r\n\r\n        this.summary.qqplot_ols_plot.layout.height = 300\r\n        this.summary.qqplot_ols_plot.layout.width = 300\r\n        this.summary.qqplot_ols_plot.layout.title.font = {\r\n\r\n            size: 10\r\n        };\r\n        this.summary.qqplot_ols_plot.data[0].marker.size = 3;\r\n        this.summary.qqplot_ols_plot.layout.xaxis.title.font = {\r\n\r\n            size: 10\r\n        };\r\n        this.summary.qqplot_ols_plot.layout.yaxis.title.font = {\r\n\r\n            size: 10\r\n        };\r\n\r\n        this.summary.qqplot_1se_plot.layout.height = 300\r\n        this.summary.qqplot_1se_plot.layout.width = 300\r\n        this.summary.qqplot_1se_plot.layout.title.font = {\r\n\r\n            size: 10\r\n        };\r\n        this.summary.qqplot_1se_plot.data[0].marker.size = 3;\r\n\r\n        this.summary.qqplot_1se_plot.layout.xaxis.title.font = {\r\n\r\n            size: 10\r\n        };\r\n        this.summary.qqplot_1se_plot.layout.yaxis.title.font = {\r\n\r\n            size: 10\r\n        };\r\n\r\n        this.summary.qqplot_min_plot.layout.height = 300\r\n        this.summary.qqplot_min_plot.layout.width = 300\r\n        this.summary.qqplot_min_plot.layout.title.font = {\r\n\r\n            size: 10\r\n        };\r\n        this.summary.qqplot_min_plot.layout.xaxis.title.font = {\r\n\r\n            size: 10\r\n        };\r\n        this.summary.qqplot_min_plot.layout.yaxis.title.font = {\r\n\r\n            size: 10\r\n        };\r\n        this.summary.qqplot_min_plot.data[0].marker.size = 3;\r\n        return this.summary['predictions'];\r\n    }\r\n    async visualize(x_test, y_test, uniqueLabels, predictions, encoder) {\r\n        await super.visualize(x_test, y_test, uniqueLabels, predictions)\r\n        let current = this;\r\n\r\n        new DataTable('#metrics_table_' + current.id, {\r\n            responsive: false,\r\n            \"footerCallback\": function (row, data, start, end, display) {\r\n                var api = this.api();\r\n                $(api.column(2).footer()).html(\r\n                    'R2 : ' + current.summary.r2.toFixed(2) + ' AIC: ' + current.summary.aic.toFixed(2)\r\n                );\r\n                $(api.column(5).footer()).html(\r\n                    'R2 : ' + current.summary['best_fit_min'].r2.toFixed(2) + ' AIC: ' + current.summary['best_fit_min'].aic.toFixed(2)\r\n                );\r\n                $(api.column(8).footer()).html(\r\n                    'R2 : ' + current.summary['best_fit_1se'].r2.toFixed(2) + ' AIC: ' + current.summary['best_fit_1se'].aic.toFixed(2)\r\n                );\r\n            },\r\n            data: current.model_stats_matrix,\r\n            info: false,\r\n            search: false,\r\n            ordering: false,\r\n            searching: false,\r\n            paging: false,\r\n            bDestroy: true,\r\n            columnDefs: [\r\n                {\r\n                    \"targets\": 3,\r\n                    \"createdCell\": function (td, cellData, rowData, row, col) {\r\n                        if (rowData[3] <= 0.05) {\r\n                            $(td).css('color', 'red')\r\n                        }\r\n                    }\r\n                },\r\n                {\r\n                    \"targets\": 6,\r\n                    \"createdCell\": function (td, cellData, rowData, row, col) {\r\n                        if (rowData[6] <= 0.05) {\r\n                            $(td).css('color', 'red')\r\n                        }\r\n                    }\r\n                },\r\n                {\r\n                    \"targets\": 9,\r\n                    \"createdCell\": function (td, cellData, rowData, row, col) {\r\n                        if (rowData[9] <= 0.05) {\r\n                            $(td).css('color', 'red')\r\n                        }\r\n                    }\r\n                }\r\n            ],\r\n        });\r\n\r\n        Plotly.newPlot('regularization_' + current.id, current.summary.regularization_plot, { autosize: true, responsive: true });\r\n        Plotly.newPlot('parameters_plot_' + current.id, current.summary.coefs_plot, { autosize: true, responsive: true });\r\n        Plotly.newPlot('errors_' + current.id, current.summary.errors_plot, { autosize: true, responsive: true });\r\n        Plotly.newPlot('qqplot_ols_' + current.id, current.summary.qqplot_ols_plot);\r\n        Plotly.newPlot('qqplot_min_' + current.id, current.summary.qqplot_min_plot);\r\n        Plotly.newPlot('qqplot_1se_' + current.id, current.summary.qqplot_1se_plot);\r\n        current.chartController.yhat_plot(y_test, this.summary['predictions'], 'regression_y_yhat_' + + current.id, 'OLS predictions')\r\n        current.chartController.yhat_plot(y_test, this.summary['predictionsmin'], 'regression_y_yhat_min_' + + current.id, 'lasso min predictions')\r\n        current.chartController.yhat_plot(y_test, this.summary['predictions1se'], 'regression_y_yhat_1se_' + + current.id, 'lasso 1se predictions')\r\n        current.chartController.residual_plot(y_test, this.summary['residuals_ols'], 'regression_residual_' + + current.id, 'OLS residuals')\r\n        current.chartController.residual_plot(y_test, this.summary['residuals_min'], 'regression_residual_min_' + + current.id, 'lasso min residuals')\r\n        current.chartController.residual_plot(y_test, this.summary['residuals_1se'], 'regression_residual_1se_' + + current.id, 'lasso 1se residuals')\r\n        this.ui.predictions_table_regression(x_test, y_test, predictions, this.id);\r\n    }\r\n\r\n}","import { asyncRun } from \"@/helpers/py-worker\";\r\n\r\n\r\nexport default class KernelRegression {\r\n    constructor(options) {\r\n        this.options = options;\r\n        this.model = null;\r\n        this.hasExplaination = false;\r\n\r\n    }\r\n    async train(x_train, y_train, x_test, _, labels) {\r\n        this.context = {\r\n            X_train: x_train,\r\n            y_train: y_train,\r\n            X_test: x_test,\r\n            types: this.options.types,\r\n            labels: labels\r\n        };\r\n        const script = `\r\n        import numpy as np\r\n        import statsmodels.api as sm\r\n        from js import X_train,y_train,X_test,labels,types\r\n        from statsmodels.nonparametric.kernel_regression import KernelReg\r\n        import pandas as pd\r\n\r\n        df_test = pd.DataFrame(X_test,columns=labels)\r\n        x_test = df_test.iloc[:,:]\r\n\r\n        df_train = pd.DataFrame(X_train,columns=labels)\r\n        x_train = df_train.iloc[:,:]\r\n\r\n        model = KernelReg(endog=np.array(y_train), exog=x_train, var_type=types)\r\n        \r\n        preds = model.fit(x_test)\r\n\r\n        \r\n        preds\r\n        `;\r\n        try {\r\n            const { results, error } = await asyncRun(script, this.context);\r\n            if (results) {\r\n                return results;\r\n            } else if (error) {\r\n                console.log(\"pyodideWorker error: \", error);\r\n            }\r\n        } catch (e) {\r\n            throw Error(`Error in pyodideWorker at ${e.filename}, Line: ${e.lineno}, ${e.message}`,)\r\n\r\n        }\r\n\r\n    }\r\n    predict(x_test) {\r\n        const result = this.model.predict(x_test);\r\n        return result\r\n    }\r\n}","import { asyncRun } from \"@/helpers/py-worker\";\r\nimport { ClassificationModel } from '../model';\r\nexport default class Boosting extends ClassificationModel {\r\n    constructor(opt, chartControler) {\r\n        super(chartControler);\r\n        let options = {\r\n            booster: opt.booster.value ?? \"gbtree\",\r\n            objective: \"multi:softmax\",\r\n            max_depth: +opt.depth.value,\r\n            eta: +opt.eta.value,\r\n            estimators: opt.estimators.value ?? 200\r\n        }\r\n        this.options = options;\r\n        this.helpSectionId = 'cart_help';\r\n\r\n    }\r\n    // eslint-disable-next-line no-unused-vars\r\n    async train(x, y, x_test, y_test, columns, __, pdpIndex) {\r\n        this.context = {\r\n            X_train: x,\r\n            y_train: y,\r\n            X_test: x_test,\r\n            y_test: y_test,\r\n            objective: this.options.objective,\r\n            max_depth: this.options.max_depth,\r\n            eta: this.options.eta,\r\n            estimators: this.options.estimators,\r\n            seed: this.seed,\r\n            pdpIndex: pdpIndex,\r\n            features: [...Array(columns.length).keys()],\r\n            explain: this.hasExplaination\r\n        };\r\n        const script = `\r\n        import matplotlib\r\n        matplotlib.use(\"AGG\")\r\n        from js import X_train,y_train,X_test,y_test,objective,max_depth,eta,estimators,seed,features,explain\r\n        from sklearn.inspection import PartialDependenceDisplay\r\n        from sklearn.inspection import permutation_importance\r\n        from sklearn.ensemble import GradientBoostingClassifier\r\n\r\n        features_importance = []\r\n        partial_dependence_plot_grids = []\r\n        partial_dependence_plot_avgs = []\r\n\r\n        model = GradientBoostingClassifier(learning_rate = eta,n_estimators = estimators,max_depth =max_depth,random_state = seed )\r\n        model.fit(X_train, y_train)\r\n        y_pred = model.predict(X_test)\r\n        if explain:\r\n            pdp = PartialDependenceDisplay.from_estimator(model, X_train, features,target=0,method ='brute')\r\n            fi = permutation_importance(model,X_test,y_test,n_repeats=10)\r\n            partial_dependence_plot_avgs = list(map(lambda item:item['average'],pdp.pd_results))\r\n            grids = list(map(lambda item:item['grid_values'],pdp.pd_results))\r\n            features_importance = list(fi.importances)\r\n            partial_dependence_plot_grids = [item[0].tolist() for item in grids ]\r\n        y_pred,partial_dependence_plot_avgs,partial_dependence_plot_grids, features_importance\r\n    `;\r\n        try {\r\n            const { results, error } = await asyncRun(script, this.context);\r\n            if (results) {\r\n                this.predictions = Array.from(results[0]);\r\n                this.pdp_averages = Array.from(results[1]);\r\n                this.pdp_grid = Array.from(results[2]);\r\n                this.importances = Array.from(results[3]);\r\n                return Array.from(results[0]);\r\n            } else if (error) {\r\n                console.log(\"pyodideWorker error: \", error);\r\n            }\r\n        } catch (e) {\r\n            throw Error(`Error in pyodideWorker at ${e.filename}, Line: ${e.lineno}, ${e.message}`,)\r\n\r\n        }\r\n    }\r\n    generatePythonCode() {\r\n        let model_import = \"from sklearn.ensemble import GradientBoostingClassifier\"\r\n        let model_fit =\r\n            `model = GradientBoostingClassifier(learning_rate = ${this.options.eta} ,n_estimators = ${this.options.estimators} ,max_depth =${this.options.max_depth} ,random_state = ${this.seed} )`;\r\n        return super.generatePythonCode(model_import, model_fit)\r\n    }\r\n    async visualize(x_test, y_test, uniqueLabels, predictions, encoder, columns, categorical_columns) {\r\n        await super.visualize(x_test, y_test, uniqueLabels, predictions, encoder)\r\n        if (this.hasExplaination) {\r\n            this.chartController.PFIBoxplot(this.id, this.importances, columns);\r\n            this.chartController.plotPDP(this.id, this.pdp_averages, this.pdp_grid, uniqueLabels, columns, categorical_columns);\r\n        }\r\n    }\r\n}\r\n","\r\nimport { RegressionModel } from '../regression_model';\r\nimport { asyncRun } from \"@/helpers/py-worker\";\r\n\r\n\r\nexport default class BoostingRegression extends RegressionModel {\r\n    constructor(opt, chartControler) {\r\n        super(chartControler);\r\n        let options = {\r\n            booster: opt.booster.value ?? \"gbtree\",\r\n            objective: \"multi:softmax\",\r\n            max_depth: +opt.depth.value,\r\n            eta: +opt.eta.value,\r\n            estimators: opt.estimators.value ?? 200\r\n        }\r\n        this.options = options;\r\n        this.helpSectionId = 'cart_help';\r\n\r\n    }\r\n    async train(x, y, x_test, y_test, columns) {\r\n        this.context = {\r\n            X_train: x,\r\n            y_train: y,\r\n            X_test: x_test,\r\n            y_test: y_test,\r\n            objective: this.options.objective,\r\n            max_depth: this.options.max_depth,\r\n            eta: this.options.eta,\r\n            estimators: this.options.estimators,\r\n            seed: this.seed,\r\n            explain: this.hasExplaination,\r\n            features: [...Array(columns.length).keys()]\r\n        };\r\n        const script = `\r\n\r\n        from js import X_train,y_train,X_test,y_test,objective,max_depth,eta,estimators,seed,features,explain\r\n        from sklearn.inspection import PartialDependenceDisplay\r\n        from sklearn.inspection import permutation_importance\r\n        from sklearn.ensemble import GradientBoostingRegressor\r\n        import pandas as pd\r\n        import matplotlib\r\n        matplotlib.use(\"AGG\")\r\n\r\n        features_importance = []\r\n        partial_dependence_plot_grids = []\r\n        partial_dependence_plot_avgs = []\r\n        model = GradientBoostingRegressor(learning_rate = eta,n_estimators = estimators,max_depth =max_depth,random_state = seed)\r\n        model.fit(X_train, y_train)\r\n        y_pred = model.predict(X_test)\r\n\r\n\r\n\r\n        if explain:\r\n            pdp = PartialDependenceDisplay.from_estimator(model, X_train, features,method ='brute')\r\n            fi = permutation_importance(model,X_test,y_test,n_repeats=10)\r\n            partial_dependence_plot_avgs = list(map(lambda item:item['average'],pdp.pd_results))\r\n            grids = list(map(lambda item:item['grid_values'],pdp.pd_results))\r\n            features_importance = list(fi.importances)\r\n            partial_dependence_plot_grids = [item[0].tolist() for item in grids ]\r\n        y_pred,partial_dependence_plot_avgs,partial_dependence_plot_grids, features_importance\r\n\r\n    `;\r\n        try {\r\n            const { results, error } = await asyncRun(script, this.context);\r\n            if (results) {\r\n                this.predictions = Array.from(results[0]);\r\n                this.pdp_averages = Array.from(results[1]);\r\n                this.pdp_grid = Array.from(results[2]);\r\n                this.importances = Array.from(results[3]);\r\n                return Array.from(results[0]);\r\n            } else if (error) {\r\n                console.log(\"pyodideWorker error: \", error);\r\n            }\r\n        } catch (e) {\r\n            throw Error(`Error in pyodideWorker at ${e.filename}, Line: ${e.lineno}, ${e.message}`,)\r\n\r\n        }\r\n    }\r\n    async visualize(x_test, y_test, uniqueLabels, predictions, encoder, columns, categorical_columns) {\r\n        await super.visualize(x_test, y_test, uniqueLabels, predictions, encoder)\r\n        if (this.hasExplaination) {\r\n            this.chartController.PFIBoxplot(this.id, this.importances, columns);\r\n            this.chartController.plotPDPRegression(this.id, this.pdp_averages, this.pdp_grid, uniqueLabels, columns, categorical_columns);\r\n        }\r\n\r\n    }\r\n\r\n}","import { Settings } from \"@/helpers/settings\";\r\nimport LogisticRegression from \"./classification/logistic_regression\";\r\nimport LinearRegression from \"./regression/linear_regression\";\r\nimport BSplineRegression from \"./regression/bspline_regression\";\r\nimport SupportVectorMachine from './classification/svm';\r\nimport SupportVectorMachineRegression from './regression/svm';\r\n\r\nimport KNNModel from './classification/knn';\r\nimport KNNRegressor from './regression/knn_regressor';\r\nimport RandomForest from \"./classification/random_forest\";\r\nimport RandomForestRegressor from \"./regression/random_forest\";\r\nimport NaiveBayes from \"./classification/NaiveBayes\";\r\nimport DiscriminantAnalysis from \"./classification/lda\";\r\nimport PolynomialRegression from \"./regression/polynomial_regression\";\r\nimport KernelRegression from \"./regression/kernel_regression\";\r\nimport Boosting from \"./classification/boosting\";\r\nimport BoostingRegression from \"./regression/boosting\";\r\n\r\n\r\n\r\nexport var ModelFactory = function () {\r\n    this.createModel = (modelName, options) => {\r\n        switch (modelName) {\r\n            case Settings.classification.logistic_regression.value:\r\n                return new LogisticRegression(options);\r\n            case Settings.classification.k_nearest_neighbour.value:\r\n                return new KNNModel(options);\r\n            case Settings.classification.random_forest.value:\r\n                return new RandomForest(options);\r\n            case Settings.classification.support_vector_machine.value:\r\n                return new SupportVectorMachine(options);\r\n            case Settings.classification.boosting.value:\r\n                return new Boosting(options);\r\n            case Settings.regression.boosting.value:\r\n                return new BoostingRegression(options);\r\n            case Settings.classification.discriminant_analysis.value:\r\n                return new DiscriminantAnalysis(options);\r\n            case Settings.classification.naive_bayes.value:\r\n                return new NaiveBayes(options);\r\n            case Settings.regression.linear_regression.value:\r\n                return new LinearRegression(options);\r\n            case Settings.regression.k_nearest_neighbour.value:\r\n                return new KNNRegressor(options);\r\n            case Settings.regression.support_vector_machine.value:\r\n                return new SupportVectorMachineRegression(options);\r\n            case Settings.regression.random_forest.value:\r\n                return new RandomForestRegressor(options);\r\n            case Settings.regression.polynomial_regression.value:\r\n                return new PolynomialRegression(options);\r\n            case Settings.regression.kernel_regression.value:\r\n                return new KernelRegression(options);\r\n            case Settings.regression.bspline_regression.value:\r\n                return new BSplineRegression(options);\r\n            default:\r\n                throw new Error(\"Model not supported.\");\r\n        }\r\n    }\r\n}","<!-- eslint-disable no-unused-vars -->\r\n<template>\r\n    <div class=\"column is-2  has-background-info-light\t\" style=\"height: 100%;\">\r\n        <!-- <button @click=\"impute()\">Impute</button> -->\r\n        <figure class=\"image is-96x96\">\r\n            <img src=\"/logo.png\" />\r\n        </figure>\r\n        <section>\r\n            <upload-component @uploaded=\"generateTargetDropdown\" @uploaded-file=\"setFile\"></upload-component>\r\n            <div class=\"column is-12\">\r\n                <b-field label=\"Seed\" :label-position=\"'on-border'\">\r\n                    <b-input v-model=\"seed\" size=\"is-small\" placeholder=\"Seed\" type=\"number\" min=\"0\">\r\n                    </b-input>\r\n                </b-field>\r\n                <b-field label=\"Target\" :label-position=\"'on-border'\">\r\n                    <b-select :expanded=\"true\" v-model=\"modelTarget\" @input=\"checkmodelTask\" size=\"is-small\">\r\n                        <option v-for=\"option in columns\" :value=\"option\" :key=\"option\">\r\n                            {{ option }}\r\n                        </option>\r\n                    </b-select>\r\n                </b-field>\r\n                <b-field label=\"Imputation\" :label-position=\"'on-border'\">\r\n                    <b-select :expanded=\"true\" v-model=\"imputationOption\" size=\"is-small\">\r\n                        <option v-for=\"option in imputationOptions\" :value=\"option.id\" :key=\"option.id\">\r\n                            {{ option.label }}\r\n                        </option>\r\n                    </b-select>\r\n                </b-field>\r\n                <b-field label=\"Cross Validation\" :label-position=\"'on-border'\">\r\n                    <b-select :expanded=\"true\" v-model=\"crossValidationOption\" size=\"is-small\">\r\n                        <option v-for=\"option in crossValidationOptions\" :value=\"option.id\" :key=\"option.id\">\r\n                            {{ option.label }}\r\n                        </option>\r\n                    </b-select>\r\n                </b-field>\r\n                <b-field label=\"Model\" :label-position=\"'on-border'\">\r\n                    <b-select :disabled=\"tuneModel\" :expanded=\"true\" v-model=\"modelOption\" size=\"is-small\">\r\n                        <option v-for=\"option in modelOptions\" :value=\"option.id\" :key=\"option.id\">\r\n                            {{ option.title }}\r\n                        </option>\r\n                    </b-select>\r\n                    <b-button @click=\"configureModel\" size=\"is-small\" icon-pack=\"fas\"\r\n                        :icon-left=\"!this.tuneModel ? 'cog' : 'arrow-left'\"></b-button>\r\n                </b-field>\r\n                <section v-if=\"tuneModel\" class=\"mx-1\">\r\n                    <b-field v-for=\"(option, i) in modelConfigurations\" :key=\"i\" :label=\"option.label\"\r\n                        :label-position=\"'on-border'\">\r\n                        <b-select v-model=\"option.value\" :expanded=\"true\" size=\"is-small\"\r\n                            v-if=\"option.type === 'select'\">\r\n                            <option v-for=\"(item, index) in option.values\" :value=\"item.value\" :key=\"index\">\r\n                                {{ item.label }}\r\n                            </option>\r\n                        </b-select>\r\n                        <b-input size=\"is-small\" v-model=\"option.value\" type=\"number\"\r\n                            v-else-if=\"option.type === 'number'\"></b-input>\r\n                        <b-input size=\"is-small\" v-model=\"option.value\" type=\"text\"\r\n                            v-else-if=\"option.type === 'text'\"></b-input>\r\n                    </b-field>\r\n                </section>\r\n                <b-field>\r\n                    <b-checkbox v-model=\"dataScalingBehavior\" size=\"is-small\">Standardize by default</b-checkbox>\r\n                </b-field>\r\n                <b-field>\r\n                    <b-checkbox v-model=\"explainModel\" size=\"is-small\">Explain the model</b-checkbox>\r\n                </b-field>\r\n                <b-field>\r\n                    <b-checkbox v-model=\"usePCAs\" size=\"is-small\">Use PC components</b-checkbox>\r\n                </b-field>\r\n                <b-field v-if=\"usePCAs\" label=\"Number of Components\" :label-position=\"'on-border'\">\r\n                    <b-input size=\"is-small\" v-model=\"numberOfComponents\" type=\"number\"></b-input>\r\n                </b-field>\r\n                <b-field>\r\n                    <b-checkbox v-model=\"useHPC\" size=\"is-small\">Use HPC resources</b-checkbox>\r\n                </b-field>\r\n                <b-field>\r\n                    <b-button @click=\"train\" size=\"is-small\" icon-pack=\"fas\" icon-left=\"play\" :loading=\"training\"\r\n                        :disabled=\"!dataframe || modelOption == null\">\r\n                        train</b-button>\r\n                    <button :disabled=\"!useHPC\" class=\"button is-small\" @click=\"upload()\">Upload to HPC</button>\r\n                </b-field>\r\n                <b-loading :is-full-page=\"false\" v-model=\"training\"></b-loading>\r\n            </div>\r\n        </section>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n/* eslint-disable no-unused-vars */\r\n\r\nimport UploadComponent from \"./upload-component.vue\";\r\nimport { Settings, FeatureCategories, CV_OPTIONS } from '../helpers/settings'\r\nimport PCA from '@/helpers/dimensionality-reduction/pca';\r\n\r\nimport { ModelFactory } from \"@/helpers/model_factory\";\r\nimport { settingStore } from '@/stores/settings'\r\nimport { applyDataTransformation, handle_missing_values, encode_dataset, evaluate_classification } from '@/helpers/utils';\r\nimport { LabelEncoder, concat, DataFrame, toJSON } from '@/utils/danfo_loader';\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n    name: 'SidebarComponent',\r\n    setup() {\r\n        const settings = settingStore()\r\n\r\n        return { settings }\r\n    },\r\n    components: {\r\n        UploadComponent\r\n    },\r\n    props: {\r\n        msg: String\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            dataScalingBehavior: false,\r\n            explainModel: true,\r\n            training: false,\r\n            tuneModel: false,\r\n            numberOfComponents: 0,\r\n            usePCAs: false,\r\n            useHPC: false,\r\n            seed: 123,\r\n            dataframe: null,\r\n            configureFeatures: false,\r\n            modelOptions: Settings.classification,\r\n            imputationOption: 1,\r\n            modelOption: 1,\r\n            featureTypeOptions: FeatureCategories,\r\n            crossValidationOption: 1,\r\n            columns: [],\r\n            modelTarget: null,\r\n            modelConfigurations: null,\r\n            imputationOptions: [{\r\n                id: 1,\r\n                label: 'Delete rows'\r\n            },\r\n            {\r\n                id: 2,\r\n                label: 'Mean and Mode'\r\n            }, {\r\n                id: 3,\r\n                label: 'Linear regression'\r\n            }, {\r\n                id: 4,\r\n                label: 'random forest'\r\n            }],\r\n            crossValidationOptions: [{\r\n                id: CV_OPTIONS.SPLIT,\r\n                label: '70 % training - 30 % test'\r\n            },\r\n            {\r\n                id: CV_OPTIONS.NO,\r\n                label: 'No'\r\n            }, {\r\n                id: CV_OPTIONS.KFOLD,\r\n                label: 'k-fold'\r\n            }],\r\n            featureSettings: [],\r\n            modelSettings: [],\r\n            modelName: '',\r\n            file: null\r\n        }\r\n    },\r\n    methods: {\r\n        setFile(e) {\r\n            this.file = e\r\n        },\r\n        upload() {\r\n            let formdata = new FormData();\r\n            this.settings.rawData\r\n            formdata.append('file', this.file);\r\n            console.log(this.file);\r\n\r\n            axios.post('http://127.0.0.1:5000/upload', formdata, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            }\r\n            ).then(function () {\r\n                console.log('SUCCESS!!');\r\n            }).catch(function () {\r\n                console.log('FAILURE!!');\r\n            });\r\n        },\r\n        updateFeatures() {\r\n            this.configureFeatures = false;\r\n            this.$emit('updateFeatures', true)\r\n        },\r\n        toggleTraining() {\r\n            this.training = !this.training;\r\n            let message = this.training ? 'Started training ' + this.modelName : 'Successully fitted ' + this.modelName;\r\n            this.$buefy.toast.open(\r\n                {\r\n                    duration: 5000,\r\n                    message: this.training ? 'Started training ' + this.modelName : 'Successully fitted ' + this.modelName,\r\n                    type: this.training ? 'is-info' : 'is-success',\r\n                })\r\n            this.settings.addMessage({ message: message, type: 'info' });\r\n        },\r\n        getDefaultModelConfiguration() {\r\n            for (const key in this.modelOptions) {\r\n                const model = this.modelOptions[key];\r\n                if (model.id === this.modelOption) {\r\n                    for (const key in model.options) {\r\n                        model.options[key].value = model.options[key]?.default;\r\n                    }\r\n                    this.modelConfigurations = model.options;\r\n                    this.modelName = model.title\r\n                }\r\n            }\r\n        },\r\n        configureModel() {\r\n            this.tuneModel = !this.tuneModel;\r\n            this.getDefaultModelConfiguration()\r\n        },\r\n        generateTargetDropdown() {\r\n            this.dataframe = this.settings.getDataset;\r\n            this.columns = this.dataframe.columns;\r\n            this.featureSettings = this.columns.map((column, index) => {\r\n                return {\r\n                    name: column,\r\n                    selected: true,\r\n                    type: this.dataframe.dtypes[index] === 'string' ? FeatureCategories.Nominal.id : FeatureCategories.Numerical.id\r\n                }\r\n            })\r\n            this.modelTarget = this.dataframe.columns[this.dataframe.columns.length - 1];\r\n            this.settings.setTarget(this.modelTarget)\r\n            let selectedFeatures = this.featureSettings.filter(feature => feature.selected);\r\n            for (let i = 0; i < selectedFeatures.length; i++) {\r\n                this.settings.addFeature(selectedFeatures[i])\r\n            }\r\n            this.$emit('updateFeatures', true)\r\n\r\n        },\r\n        checkmodelTask() {\r\n            console.log(this.modelTarget);\r\n\r\n            this.settings.setTarget(this.modelTarget)\r\n            let targetFeature = this.settings.items.find(feature => feature.name == this.modelTarget);\r\n            if (!targetFeature.selected) {\r\n                let message = 'Target is not selected'\r\n                this.$buefy.toast.open(\r\n                    {\r\n                        duration: 3000,\r\n                        message: message,\r\n                        type: 'is-warning',\r\n                    })\r\n                this.settings.addMessage({ message: message, type: 'warning' });\r\n                return\r\n            }\r\n            this.settings.setmodelTask(targetFeature.type === FeatureCategories.Numerical.id ? false : true);\r\n            this.modelOptions = targetFeature.type === FeatureCategories.Numerical.id ? Settings.regression : Settings.classification;\r\n            // let selectedFeatures = this.featureSettings.filter(feature => feature.selected);\r\n            // for (let i = 0; i < selectedFeatures.length; i++) {\r\n            //     this.settings.addFeature(selectedFeatures[i])\r\n            // }\r\n        },\r\n        async train() {\r\n            try {\r\n                if (!this.modelConfigurations) {\r\n                    this.getDefaultModelConfiguration()\r\n                }\r\n                let seed = +this.seed;\r\n                this.settings.setSeed(seed)\r\n                let categoricalFeatures = []\r\n                let dataset = null;\r\n                this.dataframe = new DataFrame(this.settings.rawData);\r\n                dataset = await this.dataframe.sample(this.dataframe.$data.length, { seed: seed });\r\n\r\n                let numericColumns = this.settings.items.filter(m => m.selected && m.type === FeatureCategories.Numerical.id).map(m => m.name);\r\n                const target = this.settings.modelTarget;\r\n                dataset = handle_missing_values(dataset)\r\n                dataset = applyDataTransformation(dataset, numericColumns, this.settings.transformationsList);\r\n                if (this.dataScalingBehavior) {\r\n                    let transformations = []\r\n                    for (let i = 0; i < numericColumns.length; i++) {\r\n                        transformations.push({ name: numericColumns[i], scaler: '1' })\r\n                    }\r\n                    dataset = applyDataTransformation(dataset, numericColumns, transformations);\r\n                }\r\n                let selected_columns = this.settings.items.filter(m => m.selected).map(m => m.name)\r\n                const index = selected_columns.findIndex(m => m === target)\r\n                if (index === -1) {\r\n                    selected_columns.push(target)\r\n                }\r\n\r\n                let filterd_dataset = dataset.loc({ columns: selected_columns })\r\n                // add class transformation\r\n                if (this.settings.isClassification) {\r\n                    let selectedClasses = this.settings.mergedClasses\r\n                    if (selectedClasses?.length > 0) {\r\n                        this.settings.mergedClasses.forEach((classes) => {\r\n                            let newClass = classes.map(m => m.class).join('_');\r\n                            classes.forEach(cls => {\r\n                                filterd_dataset.replace(cls.class, newClass, { columns: [this.settings.modelTarget], inplace: true })\r\n                            });\r\n                        })\r\n                    }\r\n                }\r\n\r\n\r\n                const targets = filterd_dataset.column(target)\r\n                filterd_dataset.drop({ columns: target, inplace: true })\r\n\r\n\r\n\r\n                const cross_validation_setting = this.crossValidationOption;\r\n\r\n                [filterd_dataset, categoricalFeatures] = encode_dataset(filterd_dataset, this.settings.items.filter(m => m.selected).filter(m => m.name !== this.settings.modelTarget).map(m => {\r\n                    return {\r\n                        name: m.name,\r\n                        type: m.type\r\n                    }\r\n                }))\r\n                let x_train, y_train, x_test, y_test;\r\n                if (cross_validation_setting === CV_OPTIONS.KFOLD &&\r\n                    (this.modelName != Settings.classification.logistic_regression.title || this.modelName != Settings.regression.linear_regression.title)) {\r\n                    let performances = [];\r\n                    for (let i = 1; i < 6; i++) {\r\n                        [x_train, y_train, x_test, y_test] = this.kfoldSplit(filterd_dataset, targets, i);\r\n                        let uniqueLabels = [...new Set(y_train.values)];\r\n                        let labelEncoder, encoded_y, encoded_y_test;\r\n                        if (this.settings.classificationTask) {\r\n                            [labelEncoder, encoded_y, encoded_y_test] = this.encodeTarget(y_train.values, y_test.values)\r\n                        } else {\r\n                            encoded_y = y_train.values;\r\n                            encoded_y_test = y_test.values;\r\n                        }\r\n                        let model_factory = new ModelFactory();\r\n                        let model = model_factory.createModel(this.modelOption, this.modelConfigurations)\r\n                        model.hasExplaination = false;\r\n                        model.id = this.settings.getCounter\r\n                        this.toggleTraining()\r\n                        let predictions = await model.train(x_train.values, encoded_y, x_test.values, encoded_y_test, x_train.columns, categoricalFeatures, 0);\r\n                        let metrics = await model.evaluateModel(encoded_y_test, predictions, uniqueLabels)\r\n                        if (this.settings.classificationTask) {\r\n                            metrics = metrics[4]\r\n                        } else {\r\n                            metrics = metrics[0]\r\n                        }\r\n                        this.training = false;\r\n                        performances.push(metrics)\r\n                    }\r\n                } else {\r\n                    [x_train, y_train, x_test, y_test] = this.splitData(cross_validation_setting, filterd_dataset, targets);\r\n                }\r\n\r\n\r\n                let uniqueLabels = [...new Set(y_train.values)];\r\n                let labelEncoder, encoded_y, encoded_y_test;\r\n                if (this.settings.classificationTask) {\r\n                    [labelEncoder, encoded_y, encoded_y_test] = this.encodeTarget(y_train.values, y_test.values)\r\n                } else {\r\n                    encoded_y = y_train.values;\r\n                    encoded_y_test = y_test.values;\r\n                }\r\n                let model_factory = new ModelFactory();\r\n                let model = model_factory.createModel(this.modelOption, this.modelConfigurations)\r\n                model.seed = seed;\r\n                model.id = this.settings.getCounter\r\n                this.toggleTraining()\r\n                model.hasExplaination = this.explainModel;\r\n                if (this.usePCAs) {\r\n                    const pca = new PCA();\r\n                    let numericColumns = this.settings.items.filter(column => column.selected && column.type === 1 && column.name != this.modelTarget).map(column => column.name);\r\n                    let [pca_train, _, __, ___, ____, pca_test] = await pca.predict(x_train.loc({ columns: numericColumns }).values,\r\n                        this.numberOfComponents, x_test.loc({ columns: numericColumns }).values)\r\n                    pca_train = pca_train.map(m => [].slice.call(m))\r\n                    pca_test = pca_test.map(m => [].slice.call(m))\r\n                    let cols = pca_train[0].map((_, i) => 'PC_' + (i + 1))\r\n                    x_train = new DataFrame(pca_train, { columns: cols })\r\n                    x_test = new DataFrame(pca_test, { columns: cols })\r\n                }\r\n                console.log(new Set(encoded_y));\r\n                let predictions = this.useHPC ? [] : await model.train(x_train.values, encoded_y, x_test.values, encoded_y_test, x_train.columns, categoricalFeatures, 0);\r\n                let metrics = this.useHPC ? [] : await model.evaluateModel(encoded_y_test, predictions, uniqueLabels)\r\n                if (predictions?.length > 0 || this.useHPC) {\r\n\r\n                    this.settings.addResult({\r\n                        id: model.id,\r\n                        useHPC: this.useHPC ? Math.random().toString(16).slice(2) : 0,\r\n                        showProbas: model.hasProbability,\r\n                        helpSectionId: model.helpSectionId,\r\n                        hasExplaination: model.hasExplaination,\r\n                        snapshot: {\r\n                            x: x_train,\r\n                            y: encoded_y,\r\n                            xt: x_test,\r\n                            yt: encoded_y_test,\r\n                            xFeatures: x_train.columns,\r\n                            categoricals: categoricalFeatures,\r\n                            id: this.modelOption,\r\n                            labels: uniqueLabels\r\n                        },\r\n                        seed: seed,\r\n                        encoder: labelEncoder,\r\n                        name: this.usePCAs ? 'PC.' + this.modelName : this.modelName,\r\n                        datasetName: this.settings.getDatasetName,\r\n                        modelTask: this.settings.classificationTask,\r\n                        metrics: metrics,\r\n                        options: JSON.parse(JSON.stringify(this.modelConfigurations)),\r\n                        target: target,\r\n                        categoricalFeatures: this.settings.items.filter(m => m.selected && m.type !== FeatureCategories.Numerical.id).map(m => m.name),\r\n                        numericColumns: numericColumns,\r\n                        transformations: [...this.settings.transformationsList.filter(feature => feature.type != 0)],\r\n                        tables: model.tables,\r\n                        plots: model.plots,\r\n                        predictions: predictions,\r\n                        model: model\r\n\r\n                    });\r\n                    this.settings.setActiveTab(2);\r\n                    setTimeout(async () => {\r\n                        this.settings.setResultActiveTab(model.id + 1);\r\n                        window.dispatchEvent(new Event('resize'));\r\n                    }, 100);\r\n                    if (!this.useHPC) {\r\n                        await model.visualize(x_test, encoded_y_test, uniqueLabels, predictions, labelEncoder, x_train.columns, categoricalFeatures)\r\n                    }\r\n                    this.settings.increaseCounter();\r\n                    this.toggleTraining();\r\n                }\r\n            } catch (error) {\r\n                this.training = false;\r\n                let message = 'Failed to fit the ' + this.modelName\r\n                this.$buefy.toast.open(\r\n                    {\r\n                        duration: 3000,\r\n                        message: message,\r\n                        type: 'is-warning',\r\n                    })\r\n                this.settings.addMessage({ message: message, type: 'warning' });\r\n                throw error;\r\n            }\r\n        },\r\n        impute() {\r\n            this.training = true;\r\n            axios.post('http://127.0.0.1:5000/missforest', {\r\n                data: toJSON(this.dataframe),\r\n                categoricalFeatures: this.settings.items.filter(m => m.selected && m.type !== FeatureCategories.Numerical.id).map(m => m.name)\r\n            }).then(res => {\r\n                let df = new DataFrame(res.data);\r\n                this.dataframe = df\r\n                this.settings.setDataframe(df);\r\n                this.training = false;\r\n            })\r\n        }\r\n    },\r\n    created: function () {\r\n        this.splitData = function (cross_validation_setting, filterd_dataset, targets, stepSize = 0.7) {\r\n            let x_train, y_train, x_test, y_test;\r\n            let len = filterd_dataset.$data.length\r\n            if (cross_validation_setting === CV_OPTIONS.SPLIT) {\r\n                const limit = Math.ceil(len * stepSize)\r\n                const train_bound = `0:${limit}`\r\n                const test_bound = `${limit}:${len}`\r\n                x_train = filterd_dataset.iloc({ rows: [train_bound] })\r\n                y_train = targets.iloc([train_bound])\r\n                x_test = filterd_dataset.iloc({ rows: [test_bound] });\r\n                y_test = targets.iloc([test_bound]);\r\n            } else if (cross_validation_setting === CV_OPTIONS.NO) {\r\n                x_train = filterd_dataset\r\n                y_train = targets\r\n                x_test = filterd_dataset\r\n                y_test = targets\r\n            }\r\n            return [x_train, y_train, x_test, y_test]\r\n        }\r\n        this.kfoldSplit = function (filterd_dataset, targets, fold = 1) {\r\n            let x_train, y_train, x_test, y_test;\r\n            let len = filterd_dataset.$data.length\r\n            const lowerLimit = Math.ceil(len * ((fold - 1) * 0.2))\r\n            const upperLimit = Math.ceil(len * (fold * 0.2))\r\n            const train_bound_lower = lowerLimit != 0 ? `:${lowerLimit}` : null\r\n            const train_bound_upper = upperLimit != len ? `${upperLimit}:` : null\r\n            const test_bound = `${lowerLimit}:${upperLimit}`\r\n\r\n\r\n            let x_train_upper = train_bound_upper != null ? filterd_dataset.iloc({ rows: [train_bound_upper] }) : null\r\n            let y_train_upper = train_bound_upper != null ? targets.iloc([train_bound_upper]) : null\r\n            x_test = filterd_dataset.iloc({ rows: [test_bound] });\r\n            y_test = targets.iloc([test_bound]);\r\n            let x_train_lower = train_bound_lower != null ? filterd_dataset.iloc({ rows: [train_bound_lower] }) : null\r\n            let y_train_lower = train_bound_lower != null ? targets.iloc([train_bound_lower]) : null\r\n            if (x_train_lower && x_train_upper) {\r\n                x_train = concat({ dfList: [x_train_lower, x_train_upper], axis: 0 })\r\n                y_train = concat({ dfList: [y_train_lower, y_train_upper], axis: 0 })\r\n            } else {\r\n                x_train = x_train_lower == null ? x_train_upper : x_train_lower\r\n                y_train = x_train_lower == null ? y_train_upper : y_train_lower\r\n            }\r\n\r\n\r\n            return [x_train, y_train, x_test, y_test]\r\n\r\n        }\r\n        this.encodeTarget = function (y_train, y_test) {\r\n            let labelEncoder = new LabelEncoder()\r\n            labelEncoder.fit(y_train)\r\n            labelEncoder.transform(y_train)\r\n            let encoded_y = labelEncoder.transform(y_train)\r\n            let encoded_y_test = labelEncoder.transform(y_test)\r\n            return [labelEncoder, encoded_y, encoded_y_test]\r\n        }\r\n    },\r\n    watch: {\r\n        modelOption: function () {\r\n            this.modelConfigurations = null\r\n        },\r\n\r\n\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.is-danger {\r\n    color: red !important;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./sidebar-component.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./sidebar-component.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./sidebar-component.vue?vue&type=template&id=2d25304c\"\nimport script from \"./sidebar-component.vue?vue&type=script&lang=js\"\nexport * from \"./sidebar-component.vue?vue&type=script&lang=js\"\nimport style0 from \"./sidebar-component.vue?vue&type=style&index=0&id=2d25304c&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"column is-10\"},[_c('section',[_c('b-tabs',{attrs:{\"position\":'is-centered',\"animated\":false,\"type\":\"success\"},on:{\"input\":function($event){return _vm.resize()}},model:{value:(_vm.settings.activeTab),callback:function ($$v) {_vm.$set(_vm.settings, \"activeTab\", $$v)},expression:\"settings.activeTab\"}},[_c('b-tab-item',{attrs:{\"label\":\"Data Analysis\",\"icon\":\"search\",\"icon-pack\":\"fas\"}},[(this.settings.datasetShape?.count > 0)?_c('section',[(_vm.isActive)?_c('div',{staticClass:\"message is-info\",attrs:{\"closable\":false}},[_c('div',{staticClass:\"message-header p-2\"},[_vm._v(\"Data summary\")]),_c('div',{staticClass:\"message-body\"},[_c('div',{staticClass:\"columns is-multiline\"},[_c('div',{staticClass:\"column is-12 has-text-left\"},[_c('p',{staticClass:\"title is-6 m-0 mb-1\"},[_vm._v(\" Data Shape: (\"+_vm._s(this.settings.datasetShape.count)+\",\"+_vm._s(this.settings.datasetShape.columns)+\")\")])]),_c('div',{staticClass:\"column is-6\"},[_c('h5',{staticClass:\"title is-6 has-text-left m-0 mb-1\"},[_vm._v(\"Numerical Features: \")]),_c('div',{staticClass:\"table-container\"},[_c('table',{staticClass:\"table is-size-7\"},[_c('thead',[_c('tr',[_c('th',{staticClass:\"is-success\"}),_c('th',{staticClass:\"is-success\"},[_vm._v(\"Name\")]),_c('th',{staticClass:\"is-success\"},[_vm._v(\"Min\")]),_c('th',{staticClass:\"is-success\"},[_vm._v(\"Max\")]),_c('th',{staticClass:\"is-success\"},[_vm._v(\"Mean\")]),_c('th',{staticClass:\"is-success\"},[_vm._v(\"Median\")]),_c('th',{staticClass:\"is-success\"},[_vm._v(\"st.d\")]),_c('th',{staticClass:\"is-success\"},[_vm._v(\"#NAs\")]),_c('th',{staticClass:\"is-success\"},[_vm._v(\"Type\")])])]),_c('tbody',_vm._l((_vm.continuousFeaturesStats),function(feature){return _c('tr',{key:feature.name},[_c('td',[_c('b-checkbox',{model:{value:(feature.selected),callback:function ($$v) {_vm.$set(feature, \"selected\", $$v)},expression:\"feature.selected\"}})],1),_c('td',[_vm._v(_vm._s(feature.name))]),_c('td',[_vm._v(_vm._s(feature.min))]),_c('td',[_vm._v(_vm._s(feature.max))]),_c('td',[_vm._v(_vm._s(feature.median))]),_c('td',[_vm._v(_vm._s(feature.mean))]),_c('td',[_vm._v(_vm._s(feature.std))]),_c('td',[_vm._v(_vm._s(feature.missingValuesCount))]),_c('td',[_c('b-select',{attrs:{\"expanded\":true,\"size\":\"is-small\"},model:{value:(feature.type),callback:function ($$v) {_vm.$set(feature, \"type\", $$v)},expression:\"feature.type\"}},_vm._l((_vm.featureTypeOptions),function(option){return _c('option',{key:option.id,domProps:{\"value\":option.id}},[_vm._v(\" \"+_vm._s(option.name)+\" \")])}),0)],1)])}),0)])]),_c('button',{staticClass:\"button is-small is-info\",on:{\"click\":function($event){return _vm.applyChanges()}}},[_vm._v(\"Apply changes\")])]),_c('div',{staticClass:\"column is-6\"},[_c('h5',{staticClass:\"title is-6 has-text-left m-0 mb-1\"},[_vm._v(\"Categorical Features(Nominal/Ordinal):\")]),_c('div',{staticClass:\"table-container\"},[_c('table',{staticClass:\"table is-size-7 mb-1\"},[_c('thead',[_c('tr',[_c('th',{staticClass:\"is-success\"}),_c('th',{staticClass:\"is-success\"},[_vm._v(\"Name\")]),_c('th',{staticClass:\"is-success\"},[_vm._v(\"Shape\")]),_c('th',{staticClass:\"is-success\"},[_vm._v(\"Mode\")]),_c('th',{staticClass:\"is-success\"},[_vm._v(\"Mode percentage\")]),_c('th',{staticClass:\"is-success\"},[_vm._v(\"#NAs\")]),_c('th',{staticClass:\"is-success\"},[_vm._v(\"Type\")])])]),_c('tbody',_vm._l((_vm.categoricalFeaturesStats),function(feature){return _c('tr',{key:feature.name},[_c('td',[_c('b-checkbox',{model:{value:(feature.selected),callback:function ($$v) {_vm.$set(feature, \"selected\", $$v)},expression:\"feature.selected\"}})],1),_c('td',[_vm._v(_vm._s(feature.name))]),_c('td',[_vm._v(_vm._s(feature.shape))]),_c('td',[_vm._v(_vm._s(feature.mode))]),_c('td',[_vm._v(_vm._s(feature.percentage))]),_c('td',[_vm._v(_vm._s(feature.missingValuesCount))]),_c('td',[_c('b-select',{attrs:{\"expanded\":true,\"size\":\"is-small\"},model:{value:(feature.type),callback:function ($$v) {_vm.$set(feature, \"type\", $$v)},expression:\"feature.type\"}},_vm._l((_vm.featureTypeOptions),function(option){return _c('option',{key:option.id,domProps:{\"value\":option.id}},[_vm._v(\" \"+_vm._s(option.name)+\" \")])}),0)],1)])}),0)]),_c('p',{staticClass:\"subtitle is-7 m-0 p-0\"},[_vm._v(\" Nominal features are one hot encoded and ordinal features are encoded in one column.\")])])]),_c('div',{staticClass:\"column is-6\"},[_c('h5',{staticClass:\"title is-6 has-text-left\"},[_vm._v(\"Sample Data :\")]),_c('b-table',{staticClass:\"is-size-7 m-0 mb-1\",attrs:{\"data\":_vm.sampleData,\"columns\":_vm.datasetColumns,\"narrowed\":true,\"bordered\":true,\"striped\":true,\"hoverable\":true}})],1)])])]):_vm._e(),_c('section',[_c('scatterplot-matrix-component',{ref:\"splom\"})],1),_c('section',[_c('article',{staticClass:\"message is-info mt-2\"},[_c('div',{staticClass:\"message-header p-2\"},[_vm._v(\"Correlation Matrix and Dendrogram \"),_c('b-tooltip',{attrs:{\"append-to-body\":\"\",\"label\":\"Ward method requires euclidean distance\",\"multilined\":\"\"}},[_c('b-button',{attrs:{\"icon-left\":\"info\",\"icon-pack\":\"fas\",\"size\":\"is-small\",\"type\":\"is-dark\"}})],1)],1),_c('div',{staticClass:\"message-body\"},[_c('div',{staticClass:\"columns is-gapless\"},[_c('div',{staticClass:\"column is-6 mx-1\"}),_c('div',{staticClass:\"column is-6 mx-1\"},[_c('b-field',{attrs:{\"label\":\"Linkage method, Distance Metric\",\"custom-class\":\"is-small\"}},[_c('b-select',{attrs:{\"size\":\"is-small\",\"placeholder\":\"Method\"},model:{value:(_vm.method),callback:function ($$v) {_vm.method=$$v},expression:\"method\"}},[_c('option',{attrs:{\"value\":\"single\"}},[_vm._v(\"single\")]),_c('option',{attrs:{\"value\":\"complete\"}},[_vm._v(\"complete\")]),_c('option',{attrs:{\"value\":\"average\"}},[_vm._v(\"average\")]),_c('option',{attrs:{\"value\":\"weighted\"}},[_vm._v(\"weighted\")]),_c('option',{attrs:{\"value\":\"centroid\"}},[_vm._v(\"centroid\")]),_c('option',{attrs:{\"value\":\"median\"}},[_vm._v(\"median\")]),_c('option',{attrs:{\"value\":\"ward\"}},[_vm._v(\"ward\")])]),_c('b-select',{attrs:{\"size\":\"is-small\",\"placeholder\":\"Metric\"},model:{value:(_vm.metric),callback:function ($$v) {_vm.metric=$$v},expression:\"metric\"}},[_c('option',{attrs:{\"value\":\"euclidean\"}},[_vm._v(\"euclidean\")]),_c('option',{attrs:{\"value\":\"correlation\"}},[_vm._v(\"correlation\")]),_c('option',{attrs:{\"value\":\"mahalanobis\"}},[_vm._v(\"mahalanobis\")]),_c('option',{attrs:{\"value\":\"cosine\"}},[_vm._v(\"cosine\")])]),_c('p',{staticClass:\"control\"},[_c('b-button',{staticClass:\"is-success is-small\",attrs:{\"disabled\":_vm.loading,\"loading\":_vm.loading},on:{\"click\":_vm.correlationMatrix}},[_vm._v(\"Correlation Cluster Diagram\")])],1)],1)],1)]),_c('div',{staticClass:\"columns is-multiline is-centered mb-2 p-0 is-gapless\"},[_c('div',{staticClass:\"column is-6\",staticStyle:{\"height\":\"400px\"},attrs:{\"id\":\"correlation_matrix\"}}),_c('div',{staticClass:\"column is-6\",staticStyle:{\"height\":\"400px\"},attrs:{\"id\":\"correlation_matrix_ordered\"}})])])])])]):_c('section',[_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-pack\":\"fas\"}},[_vm._v(\" Upload a dataset or select a sample from sidebar. \")])],1)]),_c('b-tab-item',{attrs:{\"label\":\"Dimensionality Reduction\",\"icon\":\"compress-arrows-alt\",\"icon-pack\":\"fas\"}},[_c('dmensionality-reduction-component',{attrs:{\"dataframe\":this.settings.df,\"columns\":_vm.selectedFeatures}})],1),_c('b-tab-item',{attrs:{\"label\":\"Results Analysis\",\"icon\":\"chart-pie\",\"icon-pack\":\"fas\"}},[_c('results-component',{ref:\"results\"})],1),_c('b-tab-item',{attrs:{\"label\":\"Methods Details\",\"icon\":\"list\",\"icon-pack\":\"fas\"}},[_c('methods-tab-component')],1),_c('b-tab-item',{attrs:{\"label\":\"Help\",\"icon\":\"question\",\"icon-pack\":\"fas\"}},[_c('div',{staticClass:\"content has-text-left\"},[_c('h4',[_vm._v(\"1. Dataset Selection\")]),_c('p',[_vm._v(\" To begin, you can either select a sample dataset provided by the system or upload your own dataset. The supported file formats for datasets include .xlsx (Excel files), .csv (Comma Separated Values files), and .txt (plain text files). Ensure that your file is in one of these formats to avoid any issues during the upload process. \")]),_c('figure',[_c('img',{attrs:{\"src\":\"/upload.png\"}}),_c('figcaption',[_vm._v(\"Figure 1: Dataset Selection\")])]),_c('h4',[_vm._v(\"2. Data Analysis\")]),_c('figure',[_c('img',{attrs:{\"src\":\"/stats_categorical.jpg\"}}),_c('figcaption',[_vm._v(\"Figure 2: Categorical features stats\")])]),_c('p',[_vm._v(\" After uploading the dataset an overview of the dataset would be shhown in the Data Analysis tab. In the first window we provide you witth statistical metrics of the dataset. for canotinious features we show the mean, std, min, max, and etc. In case of categorical features information such as shape, mode and percentages of smaples with modes option, and number of missing values. \")]),_c('figure',[_c('img',{attrs:{\"src\":\"/stats_continious.jpg\"}}),_c('figcaption',[_vm._v(\"Figure 3: Categorical features stats\")])]),_c('p',[_vm._v(\" In case of categorical features information such as shape, mode and percentages of smaples with modes option, and number of missing values. \")]),_c('h4',[_vm._v(\"3. Feature selection\")]),_c('p',[_vm._v(\" After uploading the dataset, you can customize the data by selecting specific features based on your requirements. To do this, click on the 'Select Features' button, which will open a new menu. This menu allows you to choose the features that will be used in the training process. If there is an issue with the automatic detection of feature data types, you can manually adjust the data types to ensure they are correctly categorized as ordinal, categorical, or continuous. \")]),_c('h4',[_vm._v(\"3. Model Selection\")]),_c('figure',[_c('img',{attrs:{\"src\":\"/model_selection.jpg\"}}),_c('figcaption',[_vm._v(\"Figure 4: Model selection and setting for knn\")])]),_c('p',[_vm._v(\" Once you have selected all the required features and resolved any issues with feature data types, you can proceed to the model selection step. Use the 'Model' dropdown to choose the model for training. The options in this dropdown will be dynamically populated based on the type of data in your features: regression models will be available for continuous data, while classification models will be shown for categorical data. Additionally, you can further customize the selected model by clicking the gear icon, which allows you to adjust common settings and parameters specific to each model. \")])])]),_c('b-tab-item',{attrs:{\"label\":\"Messages Log\",\"icon\":\"history\",\"icon-pack\":\"fas\"}},_vm._l((this.settings.getMessages),function(m,i){return _c('b-notification',{key:i,attrs:{\"aria-close-label\":\"Close notification\",\"icon-pack\":\"fas\",\"type\":m.type == 'warning' ? 'is-warning' : m.type == 'danger' ? 'is-danger' : 'is-info',\"has-icon\":\"\",\"closable\":false}},[_vm._v(\" \"+_vm._s(m.message?.toLowerCase())+\" \"),_c('br'),_vm._v(\" \"+_vm._s(m.date)+\" \")])}),1)],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (this.settings?.items.length > 2)?_c('section',[_c('div',{staticClass:\"message is-info\"},[_c('div',{staticClass:\"message-header p-2\"},[_vm._v(\"Principle Component Analysis \"),_c('b-tooltip',{attrs:{\"append-to-body\":\"\",\"label\":\"PCA dimentionality reduction and correlation circle\",\"multilined\":\"\"}},[_c('b-button',{attrs:{\"icon-left\":\"info\",\"icon-pack\":\"fas\",\"size\":\"is-small\",\"type\":\"is-dark\"}})],1)],1),_c('div',{staticClass:\"message-body\"},[_c('b-field',[_c('p',{staticClass:\"control\"},[_c('b-button',{attrs:{\"disabled\":_vm.numberOfComponents < 2 || _vm.numberOfComponents > this.settings.items.filter(column => column.selected && column.type === 1)?.length,\"size\":\"is-small\",\"type\":\"is-info\",\"loading\":_vm.loadingPCA,\"label\":\"Fit PCA\"},on:{\"click\":function($event){return _vm.drawPCA()}}})],1)]),_c('div',{staticClass:\"columns is-multiline\",attrs:{\"id\":\"pca_container\"}},[_vm._m(0),_vm._m(1),(this.pcaVarianceData)?_c('button',{staticClass:\"button is-small mt-1 ml-2\",on:{\"click\":function($event){return _vm.downloadExplainedVariance()}}},[_vm._v(\"Download PCA variance data\")]):_vm._e(),(_vm.hasPCA)?_c('div',{staticClass:\"column is-12\"},[_c('b-field',{attrs:{\"label\":\"Number of Components\",\"label-position\":'on-border'}},[_c('b-input',{attrs:{\"size\":\"is-small\",\"type\":\"number\",\"min\":\"2\",\"placeholder\":\"Number of Components\"},model:{value:(_vm.numberOfComponents),callback:function ($$v) {_vm.numberOfComponents=$$v},expression:\"numberOfComponents\"}}),_c('p',{staticClass:\"control\"},[_c('b-button',{attrs:{\"disabled\":_vm.numberOfComponents < 2 || _vm.x == _vm.y || _vm.numberOfComponents > this.settings.items.filter(column => column.selected && column.type === 1)?.length,\"size\":\"is-small\",\"type\":\"is-info\",\"loading\":_vm.loadingPCA,\"label\":\"Draw PCA\"},on:{\"click\":function($event){return _vm.findPCA()}}})],1)],1)],1):_vm._e(),_c('div',{staticClass:\"column is-12\"},[_c('div',{staticStyle:{\"overflow\":\"auto\"},attrs:{\"id\":\"pca_matrix\"}}),(this.pcaData)?_c('button',{staticClass:\"button is-small mt-1\",on:{\"click\":function($event){return _vm.downloadPCA()}}},[_vm._v(\"Download PCA data\")]):_vm._e(),(this.pcaData)?_c('button',{staticClass:\"button is-small mt-1\",on:{\"click\":function($event){return _vm.downloadPCAPlot()}}},[_vm._v(\"Download plot\")]):_vm._e()])])],1)]),_c('div',{staticClass:\"message is-info\"},[_c('div',{staticClass:\"message-header p-2\"},[_vm._v(\"t-distributed stochastic neighbor embedding\")]),_c('div',{staticClass:\"message-body\"},[_c('b-field',{attrs:{\"grouped\":\"\"}},[_c('b-field',{attrs:{\"label\":\"Number of Components\",\"label-position\":'on-border'}},[_c('b-input',{attrs:{\"size\":\"is-small\",\"type\":\"number\",\"placeholder\":\"Components\"},model:{value:(_vm.componentsTSNE),callback:function ($$v) {_vm.componentsTSNE=$$v},expression:\"componentsTSNE\"}})],1),_c('b-field',{attrs:{\"label\":\"Seed\",\"label-position\":'on-border'}},[_c('b-input',{attrs:{\"size\":\"is-small\",\"type\":\"number\",\"placeholder\":\"Seed\"},model:{value:(_vm.seedTSNE),callback:function ($$v) {_vm.seedTSNE=$$v},expression:\"seedTSNE\"}}),_c('p',{staticClass:\"control\"},[_c('b-button',{attrs:{\"size\":\"is-small\",\"type\":\"is-info\",\"loading\":_vm.loadingTSNE,\"label\":\"Fit t-SNE\"},on:{\"click\":_vm.findTSNE}})],1)],1)],1),_vm._m(2)],1)]),_c('div',{staticClass:\"message is-info\"},[_c('div',{staticClass:\"message-header p-2\"},[_vm._v(\"Autoencoder\")]),_c('div',{staticClass:\"message-body\"},[_c('b-field',{attrs:{\"grouped\":\"\"}},[_c('b-field',{attrs:{\"expanded\":\"\"}},[_c('b-field',{attrs:{\"label\":\"Hidden layers size\",\"label-position\":'on-border'}},[_c('b-input',{attrs:{\"size\":\"is-small\",\"type\":\"number\",\"placeholder\":\"Hidden layer size\"},model:{value:(_vm.hiddenLayerSize),callback:function ($$v) {_vm.hiddenLayerSize=$$v},expression:\"hiddenLayerSize\"}})],1),_c('b-field',{attrs:{\"label\":\"x axis\",\"label-position\":'on-border'}},[_c('b-input',{attrs:{\"size\":\"is-small\",\"type\":\"number\",\"placeholder\":\"x axis\"},model:{value:(_vm.autoEncoderX),callback:function ($$v) {_vm.autoEncoderX=$$v},expression:\"autoEncoderX\"}})],1),_c('b-field',{attrs:{\"label\":\"y axis\",\"label-position\":'on-border'}},[_c('b-input',{attrs:{\"size\":\"is-small\",\"type\":\"number\",\"placeholder\":\"y axis\"},model:{value:(_vm.autoEncoderY),callback:function ($$v) {_vm.autoEncoderY=$$v},expression:\"autoEncoderY\"}})],1),_c('b-field',{attrs:{\"label\":\"iterations\",\"label-position\":'on-border'}},[_c('b-input',{attrs:{\"size\":\"is-small\",\"type\":\"number\",\"placeholder\":\"iterations\"},model:{value:(_vm.iterations),callback:function ($$v) {_vm.iterations=$$v},expression:\"iterations\"}})],1),_c('b-field',{attrs:{\"label\":\"encoder\",\"label-position\":'on-border'}},[_c('b-select',{attrs:{\"size\":\"is-small\",\"placeholder\":\"Encoder Activation Function\"},model:{value:(_vm.encoderActivationFunction),callback:function ($$v) {_vm.encoderActivationFunction=$$v},expression:\"encoderActivationFunction\"}},[_c('option',{attrs:{\"value\":\"linear\",\"id\":\"linear\"}},[_vm._v(\" linear \")]),_c('option',{attrs:{\"value\":\"sigmoid\",\"id\":\"sigmoid\"}},[_vm._v(\" sigmoid \")]),_c('option',{attrs:{\"value\":\"relu\",\"id\":\"relu\"}},[_vm._v(\" RELU \")])])],1),_c('b-field',{attrs:{\"label\":\"decoder\",\"label-position\":'on-border'}},[_c('b-select',{attrs:{\"size\":\"is-small\",\"placeholder\":\"Decoder Activation Function\"},model:{value:(_vm.decoderActivationFunction),callback:function ($$v) {_vm.decoderActivationFunction=$$v},expression:\"decoderActivationFunction\"}},[_c('option',{attrs:{\"value\":\"linear\",\"id\":\"linear\"}},[_vm._v(\" linear \")]),_c('option',{attrs:{\"value\":\"sigmoid\",\"id\":\"sigmoid\"}},[_vm._v(\" sigmoid \")]),_c('option',{attrs:{\"value\":\"relu\",\"id\":\"relu\"}},[_vm._v(\" RELU \")])])],1),_c('b-field',{attrs:{\"label-position\":'on-border'}},[_c('p',{staticClass:\"control\"},[_c('b-button',{attrs:{\"size\":\"is-small\",\"type\":\"is-info\",\"loading\":_vm.loadingAutoEncoder,\"label\":\"Fit Autoencoder\"},on:{\"click\":_vm.autoEncoder}})],1)])],1)],1),_vm._m(3)],1)])]):_c('section',[_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-pack\":\"fas\"}},[_vm._v(\" There is no data to show. \")])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"column is-6\"},[_c('div',{staticStyle:{\"height\":\"300px\"},attrs:{\"id\":\"scree_plot\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"column is-6\"},[_c('div',{staticStyle:{\"height\":\"300px\"},attrs:{\"id\":\"correlation_circle\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"column is-6\",attrs:{\"id\":\"dimensionality_reduction_panel_tsne\"}},[_c('div',{attrs:{\"id\":\"tsne\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"column is-6\",attrs:{\"id\":\"dimensionality_reduction_panel_tsne\"}},[_c('div',{staticStyle:{\"height\":\"300px\"},attrs:{\"id\":\"autoencoder\"}})])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n    <section v-if=\"this.settings?.items.length > 2\">\r\n        <div class=\"message is-info\">\r\n            <div class=\"message-header p-2\">Principle Component Analysis\r\n\r\n                <b-tooltip append-to-body label=\"PCA dimentionality reduction and correlation circle\" multilined>\r\n                    <b-button icon-left=\"info\" icon-pack=\"fas\" size=\"is-small\" type=\"is-dark\" />\r\n                </b-tooltip>\r\n            </div>\r\n            <div class=\"message-body\">\r\n                <b-field>\r\n                    <p class=\"control\">\r\n                        <b-button\r\n                            :disabled=\"numberOfComponents < 2 || numberOfComponents > this.settings.items.filter(column => column.selected && column.type === 1)?.length\"\r\n                            size=\"is-small\" @click=\"drawPCA()\" type=\"is-info\" :loading=\"loadingPCA\" label=\"Fit PCA\" />\r\n                    </p>\r\n                </b-field>\r\n                <div class=\"columns is-multiline\" id=\"pca_container\">\r\n                    <div class=\"column is-6\">\r\n                        <div id=\"scree_plot\" style=\"height: 300px;\"></div>\r\n                    </div>\r\n                    <div class=\"column is-6\">\r\n                        <div id=\"correlation_circle\" style=\"height: 300px;\"></div>\r\n                    </div>\r\n                    <button class=\"button is-small mt-1 ml-2\" v-if=\"this.pcaVarianceData\"\r\n                        @click=\"downloadExplainedVariance()\">Download\r\n                        PCA variance data</button>\r\n                    <div class=\"column is-12\" v-if=\"hasPCA\">\r\n                        <b-field label=\"Number of Components\" :label-position=\"'on-border'\">\r\n                            <b-input v-model=\"numberOfComponents\" size=\"is-small\" type=\"number\" min=\"2\"\r\n                                placeholder=\"Number of Components\"></b-input>\r\n                            <p class=\"control\">\r\n                                <b-button\r\n                                    :disabled=\"numberOfComponents < 2 || x == y || numberOfComponents > this.settings.items.filter(column => column.selected && column.type === 1)?.length\"\r\n                                    size=\"is-small\" @click=\"findPCA()\" type=\"is-info\" :loading=\"loadingPCA\"\r\n                                    label=\"Draw PCA\" />\r\n                            </p>\r\n                        </b-field>\r\n                    </div>\r\n                    <div class=\"column is-12\">\r\n                        <div id=\"pca_matrix\" style=\"overflow: auto;\"></div>\r\n                        <button class=\"button is-small mt-1\" v-if=\"this.pcaData\" @click=\"downloadPCA()\">Download\r\n                            PCA\r\n                            data</button>\r\n                        <button class=\"button is-small mt-1\" v-if=\"this.pcaData\" @click=\"downloadPCAPlot()\">Download\r\n                            plot</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"message is-info\">\r\n            <div class=\"message-header p-2\">t-distributed stochastic neighbor embedding</div>\r\n            <div class=\"message-body\">\r\n\r\n                <b-field grouped>\r\n                    <b-field label=\"Number of Components\" :label-position=\"'on-border'\">\r\n                        <b-input v-model=\"componentsTSNE\" size=\"is-small\" type=\"number\"\r\n                            placeholder=\"Components\"></b-input>\r\n                    </b-field>\r\n                    <b-field label=\"Seed\" :label-position=\"'on-border'\">\r\n                        <b-input v-model=\"seedTSNE\" size=\"is-small\" type=\"number\" placeholder=\"Seed\"></b-input>\r\n                        <p class=\"control\">\r\n                            <b-button @click=\"findTSNE\" size=\"is-small\" type=\"is-info\" :loading=\"loadingTSNE\"\r\n                                label=\"Fit t-SNE\" />\r\n                        </p>\r\n                    </b-field>\r\n                </b-field>\r\n\r\n                <div class=\"column is-6\" id=\"dimensionality_reduction_panel_tsne\">\r\n                    <div id=\"tsne\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"message is-info\">\r\n            <div class=\"message-header p-2\">Autoencoder</div>\r\n            <div class=\"message-body\">\r\n                <b-field grouped>\r\n                    <b-field expanded>\r\n\r\n                        <b-field label=\"Hidden layers size\" :label-position=\"'on-border'\">\r\n                            <b-input v-model=\"hiddenLayerSize\" size=\"is-small\" type=\"number\"\r\n                                placeholder=\"Hidden layer size\"></b-input>\r\n                        </b-field>\r\n                        <b-field label=\"x axis\" :label-position=\"'on-border'\">\r\n                            <b-input v-model=\"autoEncoderX\" size=\"is-small\" type=\"number\"\r\n                                placeholder=\"x axis\"></b-input>\r\n                        </b-field>\r\n                        <b-field label=\"y axis\" :label-position=\"'on-border'\">\r\n                            <b-input v-model=\"autoEncoderY\" size=\"is-small\" type=\"number\"\r\n                                placeholder=\"y axis\"></b-input>\r\n                        </b-field>\r\n                        <b-field label=\"iterations\" :label-position=\"'on-border'\">\r\n                            <b-input v-model=\"iterations\" size=\"is-small\" type=\"number\"\r\n                                placeholder=\"iterations\"></b-input>\r\n                        </b-field>\r\n                        <b-field label=\"encoder\" :label-position=\"'on-border'\">\r\n                            <b-select v-model=\"encoderActivationFunction\" size=\"is-small\"\r\n                                placeholder=\"Encoder Activation Function\">\r\n                                <option value=\"linear\" id=\"linear\">\r\n                                    linear\r\n                                </option>\r\n                                <option value=\"sigmoid\" id=\"sigmoid\">\r\n                                    sigmoid\r\n                                </option>\r\n                                <option value=\"relu\" id=\"relu\">\r\n                                    RELU\r\n                                </option>\r\n                            </b-select>\r\n                        </b-field>\r\n                        <b-field label=\"decoder\" :label-position=\"'on-border'\">\r\n                            <b-select size=\"is-small\" v-model=\"decoderActivationFunction\"\r\n                                placeholder=\"Decoder Activation Function\">\r\n                                <option value=\"linear\" id=\"linear\">\r\n                                    linear\r\n                                </option>\r\n                                <option value=\"sigmoid\" id=\"sigmoid\">\r\n                                    sigmoid\r\n                                </option>\r\n                                <option value=\"relu\" id=\"relu\">\r\n                                    RELU\r\n                                </option>\r\n                            </b-select>\r\n                        </b-field>\r\n\r\n                        <b-field :label-position=\"'on-border'\">\r\n                            <p class=\"control\">\r\n                                <b-button size=\"is-small\" @click=\"autoEncoder\" type=\"is-info\"\r\n                                    :loading=\"loadingAutoEncoder\" label=\"Fit Autoencoder\" />\r\n                            </p>\r\n                        </b-field>\r\n                    </b-field>\r\n                </b-field>\r\n                <div class=\"column is-6\" id=\"dimensionality_reduction_panel_tsne\">\r\n                    <div id=\"autoencoder\" style=\"height: 300px;\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <section v-else>\r\n        <b-message type=\"is-danger\" has-icon icon-pack=\"fas\">\r\n            There is no data to show.\r\n        </b-message>\r\n    </section>\r\n</template>\r\n\r\n<script>\r\nimport ChartController from '@/helpers/charts';\r\nimport { settingStore } from '@/stores/settings'\r\nimport { tensorflow, DataFrame, toCSV } from '@/utils/danfo_loader';\r\n\r\nimport { FeatureCategories } from '@/helpers/settings'\r\n\r\n// eslint-disable-next-line no-unused-vars\r\nlet chartController = new ChartController();\r\nexport default {\r\n    name: 'dmensionality-reduction-component',\r\n    setup() {\r\n        const settings = settingStore()\r\n\r\n        return { settings }\r\n    },\r\n    props: {\r\n        msg: String,\r\n        dataframe: Object,\r\n        columns: []\r\n    },\r\n    data() {\r\n        return {\r\n            numberOfComponents: 2,\r\n            loadingPCA: false,\r\n            loadingTSNE: false,\r\n            x: 1, y: 2,\r\n            loadingAutoEncoder: false,\r\n            hiddenLayerSize: 2,\r\n            componentsTSNE: 2,\r\n            seedTSNE: 123,\r\n            pcaData: null,\r\n            pcaVarianceData: null,\r\n            iterations: 200,\r\n            encoderActivationFunction: 'linear',\r\n            decoderActivationFunction: 'linear',\r\n            autoEncoderX: 1,\r\n            autoEncoderY: 2,\r\n            hasPCA: false,\r\n            pcaContainers: [],\r\n            df: null,\r\n        }\r\n    },\r\n    methods: {\r\n        prepareData() {\r\n            this.df = new DataFrame(this.settings.rawData);\r\n            this.df.dropNa({ axis: 1, inplace: true })\r\n            if (this.settings.isClassification && this.settings.mergedClasses?.length > 0) {\r\n                this.settings.mergedClasses.forEach((classes) => {\r\n                    let newClass = classes.map(m => m.class).join('_');\r\n                    classes.forEach(cls => {\r\n                        this.df.replace(cls.class, newClass, { columns: [this.settings.modelTarget], inplace: true })\r\n                    });\r\n                })\r\n            }\r\n        },\r\n        async drawPCA() {\r\n            try {\r\n                this.numberOfComponents = null\r\n                await this.findPCA(true);\r\n            } catch (error) {\r\n                this.loadingPCA = false;\r\n                throw error;\r\n            }\r\n\r\n        },\r\n        async findPCA(drawExplainedVariance = false) {\r\n            try {\r\n                this.prepareData()\r\n                this.loadingPCA = true;\r\n                this.pcaContainers = []\r\n                let numericColumns = this.settings.items.filter(column => column.selected && column.type === 1).map(column => column.name);\r\n                if (drawExplainedVariance == false) {\r\n                    if (this.numberOfComponents == 2) {\r\n                        this.pcaContainers.push([1, 2])\r\n                    } else {\r\n                        if (this.numberOfComponents == 3) {\r\n                            this.pcaContainers.push([1, 2], [1, 3], [2, 3])\r\n                        } else if (this.numberOfComponents > 3) {\r\n                            this.pcaContainers.push([1, 2], [1, 3], [2, 3])\r\n                            for (let i = 4; i <= this.numberOfComponents; i++) {\r\n                                let j = 1;\r\n                                while (j <= i - 1) {\r\n                                    this.pcaContainers.push([j, i])\r\n                                    j++\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                } else {\r\n                    this.numberOfComponents = numericColumns.length\r\n                }\r\n\r\n                let x = this.df.loc({ columns: numericColumns }).values;\r\n                let pcaData = await chartController.draw_pca(\r\n                    x,\r\n                    this.settings.isClassification,\r\n                    this.df.loc({ columns: [this.settings.modelTarget] }).values,\r\n                    this.numberOfComponents,\r\n                    this.pcaContainers,\r\n                    numericColumns,\r\n                    drawExplainedVariance\r\n                )\r\n                this.pcaData = pcaData[0]\r\n                this.pcaVarianceData = pcaData[1]\r\n                this.hasPCA = true;\r\n                this.loadingPCA = false;\r\n\r\n            } catch (error) {\r\n                this.loadingPCA = false;\r\n                throw error;\r\n            }\r\n\r\n        },\r\n        downloadPCAPlot() {\r\n            chartController.downloadPlot('pca_matrix');\r\n        },\r\n        downloadPCA() {\r\n            let df = new DataFrame(this.pcaData)\r\n            toCSV(df, { filePath: \"pca_data.csv\", download: true });\r\n        },\r\n        downloadExplainedVariance() {\r\n            let varianceData = [];\r\n            for (let i = 1; i <= this.pcaVarianceData.length; i++) {\r\n                const element = this.pcaVarianceData[i - 1];\r\n                varianceData.push({ Components: i, ExplainedVariace: element })\r\n            }\r\n            let df = new DataFrame(varianceData)\r\n            toCSV(df, { filePath: \"variance_data.csv\", download: true });\r\n        },\r\n        async findTSNE() {\r\n            try {\r\n                this.prepareData()\r\n                this.loadingTSNE = true;\r\n                let numericColumns = this.settings.items.filter(column => column.selected && column.type === 1).map(column => column.name);\r\n                await chartController.plot_tsne(this.df.loc({ columns: numericColumns }).values,\r\n                    this.settings.isClassification\r\n                    , this.df.loc({ columns: [this.settings.modelTarget] }).values, this.seedTSNE, this.componentsTSNE);\r\n                this.loadingTSNE = false;\r\n            } catch (error) {\r\n                this.loadingTSNE = false;\r\n                throw error;\r\n            }\r\n\r\n        },\r\n        async autoEncoder() {\r\n            this.prepareData()\r\n            this.loadingAutoEncoder = true;\r\n            const model = tensorflow.sequential();\r\n            let numericColumns = this.settings.items.filter(m => m.type === FeatureCategories.Numerical.id).map(m => m.name);\r\n            let unitsLength = numericColumns.length;\r\n            let values = this.settings.df.loc({ columns: numericColumns }).values\r\n            const encoder = tensorflow.layers.dense({\r\n                units: +this.hiddenLayerSize,\r\n                batchInputShape: [null, unitsLength],\r\n                activation: this.encoderActivationFunction,\r\n                kernelInitializer: \"randomNormal\",\r\n                biasInitializer: \"ones\"\r\n            });\r\n            const decoder = tensorflow.layers.dense({ units: unitsLength, activation: this.decoderActivationFunction });\r\n            model.add(encoder);\r\n            model.add(decoder);\r\n            await model.compile({ optimizer: 'sgd', loss: 'meanSquaredError' });\r\n            const xs = tensorflow.tensor2d(values);\r\n            // eslint-disable-next-line no-unused-vars\r\n            let h = await model.fit(xs, xs, { epochs: +this.iterations, batchSize: 32, shuffle: true, validationSplit: 0.1 });\r\n            xs.dispose();\r\n            const tidyWrapper = tensorflow.tidy(() => {\r\n                const predictor = tensorflow.sequential();\r\n                predictor.add(encoder);\r\n                let xs = tensorflow.tensor2d(values);\r\n                let ret = predictor.predict(xs);\r\n                xs.dispose();\r\n                return ret.arraySync();\r\n            });\r\n            // eslint-disable-next-line no-unused-vars\r\n            let autoencoderPredictions = await tidyWrapper;\r\n            chartController.drawAutoencoder(autoencoderPredictions, this.autoEncoderX - 1, this.autoEncoderY - 1,\r\n                this.settings.df.loc({ columns: [this.settings.modelTarget] }).values\r\n                , this.settings.isClassification\r\n            )\r\n            this.loadingAutoEncoder = false;\r\n\r\n        }\r\n    },\r\n    errorCaptured() {\r\n\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./dmensionality-reduction-componenet.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./dmensionality-reduction-componenet.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./dmensionality-reduction-componenet.vue?vue&type=template&id=764da258\"\nimport script from \"./dmensionality-reduction-componenet.vue?vue&type=script&lang=js\"\nexport * from \"./dmensionality-reduction-componenet.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(this.settings.results?.length > 0)?_c('b-tabs',{on:{\"input\":_vm.resize},model:{value:(_vm.activeResult),callback:function ($$v) {_vm.activeResult=$$v},expression:\"activeResult\"}},[_c('b-tab-item',{attrs:{\"label\":\"Comparison\"},on:{\"click\":function($event){return _vm.compareResultsDraw()}}},[_vm._l((_vm.metricsCollection),function(item,index){return _c('button',{key:index,staticClass:\"button is-small ml-1 is-success my-2\",on:{\"click\":function($event){return _vm.compareResultsDraw(item)}}},[_vm._v(_vm._s(item.name + '-' + (item.task ? 'cls' : 'reg')))])}),_c('div',{staticClass:\"message is-info\"},[_c('div',{staticClass:\"message-header p-2\"},[_vm._v(\" Methods Comparison \")]),_c('div',{staticClass:\"message-body\"},[_c('div',{staticClass:\"columns is-multiline is-gapless\"},_vm._l((_vm.metrics),function(value,index){return _c('div',{key:index,staticClass:\"column is-4\"},[_c('div',{staticClass:\"column is-4\"},[_c('div',{attrs:{\"id\":index}})])])}),0)])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.compare),expression:\"compare\"}],staticClass:\"column is-12\",staticStyle:{\"height\":\"400px\"},attrs:{\"id\":\"comaprison_plot\"}})],2),_vm._l((this.settings.results),function(result){return _c('b-tab-item',{key:result.id,attrs:{\"label\":(result.id) + '.' + result.name.toString()}},[(result.modelTask)?_c('classification-view-component',{attrs:{\"result\":result},on:{\"delete-result\":_vm.deleteResult}}):_c('regression-view-component',{attrs:{\"result\":result},on:{\"delete-result\":_vm.deleteResult}}),_c('div',{staticClass:\"column is-12\"},[(!result.useHPC)?_c('div',{staticClass:\"table-container\"},[_c('table',{staticClass:\"table is-bordered is-hoverable is-narrow display is-size-7\",attrs:{\"id\":'predictions_table_' + result.id,\"width\":\"100%\"}})]):_vm._e()])],1)})],2):_c('b-message',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"icon-pack\":\"fas\"}},[_vm._v(\" No result to show. \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('article',{staticClass:\"columns is-multiline\"},[_c('div',{staticClass:\"column is-12 mb-1\"},[_c('b-message',{staticClass:\"has-text-left\",attrs:{\"type\":\"is-info \",\"has-icon\":\"\",\"icon-pack\":\"fas\"}},[_c('p',{staticClass:\"my-1 is-size-7\"},[_c('span',[_vm._v(\"Dataset Name : \"+_vm._s(_vm.result.datasetName)+\" , \")]),_c('span',[_vm._v(\" Target variable : \"+_vm._s(_vm.result.target))])]),_c('p',{staticClass:\"subtitle is-6 my-1 is-size-7\"},[_vm._v(\"Features :\")]),_c('p',{staticClass:\"ml-2 my-1 subtitle is-6 is-size-7\"},[_vm._v(\"Categorical Features : \"),_vm._l((_vm.result.categoricalFeatures),function(feature){return _c('span',{key:feature},[_vm._v(\" \"+_vm._s(feature + ', ')+\" \")])})],2),_c('p',{staticClass:\"ml-2 my-1 subtitle is-6 is-size-7\"},[_vm._v(\"Numerical Features : \"),_vm._l((_vm.result.numericColumns),function(feature){return _c('span',{key:feature},[_vm._v(\" \"+_vm._s(feature + ', ')+\" \")])})],2),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.result.transformations?.length > 0),expression:\"result.transformations?.length > 0\"}],staticClass:\"ml-2 my-1 subtitle is-6 is-size-7\"},[_vm._v(\"Transformations : \"),_vm._l((_vm.result.transformations),function(transformation){return _c('span',{key:transformation.name},[_vm._v(\" \"+_vm._s(transformation.name + ': ' + transformation.scalerLabel + ',')+\" \")])})],2),_vm._l((_vm.result.options),function(value,key){return _c('p',{key:key,staticClass:\"is-size-7\"},[_vm._v(\" \"+_vm._s(key)+\": \"+_vm._s(value['value'])+\" \")])}),_c('p',{staticClass:\"subtitle my-1 is-size-7\"},[_vm._v(\"Goodness of Fit :\")]),_c('p',{staticClass:\"ml-2 my-1 subtitle is-size-7\"},[_vm._v(\"Accuracy : \"+_vm._s(_vm.result.metrics?.accuracy?.toFixed(2)))]),_c('p',{staticClass:\"ml-2 my-1 subtitle is-size-7\"},[_vm._v(\"f1 micro : \"+_vm._s(_vm.result.metrics?.f1_micro?.toFixed(2)))]),_c('p',{staticClass:\"ml-2 my-1 subtitle is-size-7\"},[_vm._v(\" f1 macro :\"+_vm._s(_vm.result.metrics?.f1_macro?.toFixed(2)))]),_c('button',{staticClass:\"button is-danger has-text-white is-small\",staticStyle:{\"color\":\"#fff !important\"},on:{\"click\":function($event){return _vm.deleteTab()}}},[_vm._v(\"Delete \")]),_c('button',{staticClass:\"button is-success is-small\",on:{\"click\":function($event){return _vm.toggleHelp(_vm.result.helpSectionId)}}},[_vm._v(\"Method description \")]),_c('button',{staticClass:\"button is-info is-small\",on:{\"click\":function($event){return _vm.downloadPythonCode()}}},[_vm._v(\"Download the code\")])],2)],1),(!_vm.hide)?[_c('div',{staticClass:\"column is-12\"},[_c('article',{staticClass:\"message is-info\"},[_c('div',{staticClass:\"message-header p-2\"},[_vm._v(\" Confusion Matrix and PCA of predictions\")]),_c('div',{staticClass:\"message-body mx-1\"},[_c('div',{staticClass:\"columns is-multiline is-gapless\"},[_c('div',{staticClass:\"column is-6 my-1\",staticStyle:{\"height\":\"400px\"},attrs:{\"id\":'confusion_matrix_' + _vm.result.id}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.result.showProbas),expression:\"result.showProbas\"}],staticClass:\"column is-6 my-1\",staticStyle:{\"height\":\"400px\"},attrs:{\"id\":'proba_plot_' + _vm.result.id}}),_c('br'),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.result.showProbas),expression:\"result.showProbas\"}],staticClass:\"column is-6 my-1\",staticStyle:{\"height\":\"400px\"},attrs:{\"id\":'roc_plot_' + _vm.result.id}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.result.hasExplaination && _vm.result.if !== 1),expression:\"result.hasExplaination && result.if !== 1\"}],staticClass:\"column is-6 my-1\",staticStyle:{\"height\":\"400px\"},attrs:{\"id\":'pfi_boxplot_' + _vm.result.id}})])])])]),(_vm.result.name.includes('Logi.Reg'))?_c('div',{staticClass:\"column is-12\"},[_c('div',{staticClass:\"columns is-multiline\"},[_c('div',{staticClass:\"column is-7\"},[_c('div',{staticClass:\"table-container\"},[_c('table',{staticClass:\"table has-text-centered nowrap is-striped is-bordered is-narrow is-hoverable is-size-7\",attrs:{\"id\":'metrics_table_' + _vm.result.id}},[_vm._m(0),_vm._m(1)])])]),_c('div',{staticClass:\"column is-5\",attrs:{\"id\":'parameters_plot_' + _vm.result.id}}),_c('div',{staticClass:\"column is-6\",staticStyle:{\"height\":\"250px\"},attrs:{\"id\":'errors_' + _vm.result.id}}),_c('div',{staticClass:\"column is-6\",staticStyle:{\"height\":\"250px\"},attrs:{\"id\":'regularization_' + _vm.result.id}})])]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.result.hasExplaination && !_vm.result.name.includes('Logi.Reg')),expression:\"result.hasExplaination && !result.name.includes('Logi.Reg')\"}],staticClass:\"column is-12\"},[_c('article',{staticClass:\"message is-info\"},[_c('div',{staticClass:\"message-header p-2\"},[_vm._v(\" Partial Dependence Plot\")]),_c('div',{staticClass:\"message-body mx-1\"},[_c('div',{staticClass:\"columns is-multiline is-gapless\"},[(_vm.result.name.toString().toLowerCase().includes('knn'))?_c('div',{staticClass:\"column is-6\",staticStyle:{\"height\":\"400px\"},attrs:{\"id\":'knn_table_' + _vm.result.id}}):_vm._e(),_c('div',{attrs:{\"id\":'pdp_containers_' + _vm.result.id}})]),_c('br')])])])]:[_vm._v(\" In progress... \")]],2)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('thead',[_c('tr',[_c('th',{attrs:{\"colspan\":\"1\"}}),_c('th',{staticClass:\"has-text-centered\",attrs:{\"colspan\":\"3\"}},[_vm._v(\"OLS\")]),_c('th',{staticClass:\"has-text-centered\",attrs:{\"colspan\":\"3\"}},[_vm._v(\"lambda min\")]),_c('th',{staticClass:\"has-text-centered\",attrs:{\"colspan\":\"3\"}},[_vm._v(\"lambda 1se\")])]),_c('tr',[_c('th',{staticClass:\"has-text-centered\"},[_vm._v(\"name\")]),_c('th',[_vm._v(\"coef\")]),_c('th',[_vm._v(\"st.d.\")]),_c('th',[_c('i',[_vm._v(\"p\")]),_vm._v(\"-value\")]),_c('th',[_vm._v(\"coef\")]),_c('th',[_vm._v(\"st.d.\")]),_c('th',[_c('i',[_vm._v(\"p\")]),_vm._v(\"-value\")]),_c('th',[_vm._v(\"coef\")]),_c('th',[_vm._v(\"st.d.\")]),_c('th',[_c('i',[_vm._v(\"p\")]),_vm._v(\"-value\")])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('tfoot',{staticClass:\"has-text-centered\",staticStyle:{\"font-weight\":\"normal\"}},[_c('tr',[_c('th'),_c('th',{staticClass:\"has-text-centered\",attrs:{\"colspan\":\"3\"}}),_c('th',{staticClass:\"has-text-centered\",attrs:{\"colspan\":\"3\"}}),_c('th',{staticClass:\"has-text-centered\",attrs:{\"colspan\":\"3\"}})])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n    <article class=\"columns is-multiline\">\r\n        <div class=\"column is-12 mb-1\">\r\n            <b-message type=\"is-info \" has-icon icon-pack=\"fas\" class=\"has-text-left\">\r\n                <p class=\"my-1 is-size-7\">\r\n                    <span>Dataset Name : {{ result.datasetName }} , </span>\r\n                    <span> Target variable : {{ result.target }}</span>\r\n                </p>\r\n\r\n                <p class=\"subtitle is-6 my-1 is-size-7\">Features :</p>\r\n                <p class=\"ml-2 my-1 subtitle is-6 is-size-7\">Categorical Features : <span\r\n                        v-for=\"feature in result.categoricalFeatures\" :key=\"feature\">\r\n                        {{ feature + ', ' }}\r\n                    </span>\r\n                </p>\r\n                <p class=\"ml-2 my-1 subtitle is-6 is-size-7\">Numerical Features : <span\r\n                        v-for=\"feature in result.numericColumns\" :key=\"feature\">\r\n                        {{ feature + ', ' }}\r\n                    </span></p>\r\n                <p class=\"ml-2 my-1 subtitle is-6 is-size-7\" v-show=\"result.transformations?.length > 0\">Transformations\r\n                    :\r\n                    <span v-for=\"transformation in result.transformations\" :key=\"transformation.name\">\r\n                        {{ transformation.name + ': ' + transformation.scalerLabel + ',' }}\r\n                    </span>\r\n                </p>\r\n                <p class=\"is-size-7\" v-for=\"(value, key) in result.options\" :key=\"key\">\r\n                    {{ key }}: {{ value['value'] }}\r\n                </p>\r\n                <p class=\"subtitle my-1 is-size-7\">Goodness of Fit :</p>\r\n                <p class=\"ml-2 my-1 subtitle is-size-7\">Accuracy : {{ result.metrics?.accuracy?.toFixed(2) }}</p>\r\n                <p class=\"ml-2 my-1 subtitle is-size-7\">f1 micro : {{ result.metrics?.f1_micro?.toFixed(2) }}</p>\r\n                <p class=\"ml-2 my-1 subtitle is-size-7\"> f1 macro :{{ result.metrics?.f1_macro?.toFixed(2) }}</p>\r\n                <button class=\"button is-danger has-text-white is-small\" style=\"color:#fff !important\"\r\n                    @click=\"deleteTab()\">Delete </button>\r\n                <button class=\"button is-success is-small\" @click=\"toggleHelp(result.helpSectionId)\">Method description\r\n                </button>\r\n                <button class=\"button is-info is-small\" @click=\"downloadPythonCode()\">Download the code</button>\r\n            </b-message>\r\n        </div>\r\n        <template v-if=\"!hide\">\r\n            <div class=\"column is-12\">\r\n                <article class=\"message is-info\">\r\n                    <div class=\"message-header p-2\"> Confusion Matrix and PCA of predictions</div>\r\n                    <div class=\"message-body mx-1\">\r\n                        <div class=\"columns is-multiline is-gapless\">\r\n                            <div class=\"column is-6 my-1\" style=\"height: 400px;\" :id=\"'confusion_matrix_' + result.id\">\r\n                            </div>\r\n                            <div v-show=\"result.showProbas\" class=\"column is-6 my-1\" style=\"height: 400px;\"\r\n                                :id=\"'proba_plot_' + result.id\">\r\n                            </div>\r\n                            <br>\r\n                            <div v-show=\"result.showProbas\" class=\"column is-6 my-1\" style=\"height: 400px;\"\r\n                                :id=\"'roc_plot_' + result.id\">\r\n                            </div>\r\n\r\n                            <div v-show=\"result.hasExplaination && result.if !== 1\" class=\"column is-6 my-1\"\r\n                                style=\"height: 400px;\" :id=\"'pfi_boxplot_' + result.id\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </article>\r\n            </div>\r\n            <div class=\"column is-12\" v-if=\"result.name.includes('Logi.Reg')\">\r\n                <div class=\"columns is-multiline\">\r\n                    <div class=\"column is-7\">\r\n                        <div class=\"table-container\">\r\n                            <table\r\n                                class=\"table has-text-centered nowrap is-striped is-bordered is-narrow is-hoverable is-size-7\"\r\n                                :id=\"'metrics_table_' + result.id\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th colspan=\"1\"></th>\r\n                                        <th colspan=\"3\" class=\"has-text-centered\">OLS</th>\r\n                                        <th colspan=\"3\" class=\"has-text-centered\">lambda min</th>\r\n                                        <th colspan=\"3\" class=\"has-text-centered\">lambda 1se</th>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th class=\"has-text-centered\">name</th>\r\n                                        <th>coef</th>\r\n                                        <th>st.d.</th>\r\n                                        <th><i>p</i>-value</th>\r\n                                        <th>coef</th>\r\n                                        <th>st.d.</th>\r\n                                        <th><i>p</i>-value</th>\r\n                                        <th>coef</th>\r\n                                        <th>st.d.</th>\r\n                                        <th><i>p</i>-value</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tfoot class=\"has-text-centered\" style=\" font-weight: normal\">\r\n                                    <tr>\r\n                                        <th></th>\r\n                                        <th colspan=\"3\" class=\"has-text-centered\"></th>\r\n                                        <th colspan=\"3\" class=\"has-text-centered\"></th>\r\n                                        <th colspan=\"3\" class=\"has-text-centered\"></th>\r\n\r\n                                    </tr>\r\n                                </tfoot>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column is-5\" :id=\"'parameters_plot_' + result.id\">\r\n                    </div>\r\n                    <div class=\"column is-6\" :id=\"'errors_' + result.id\" style=\"height:250px\">\r\n                    </div>\r\n                    <div class=\"column is-6\" :id=\"'regularization_' + result.id\" style=\"height:250px\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"column is-12\" v-show=\"result.hasExplaination && !result.name.includes('Logi.Reg')\">\r\n                <article class=\"message is-info\">\r\n                    <div class=\"message-header p-2\"> Partial Dependence Plot</div>\r\n                    <div class=\"message-body mx-1\">\r\n                        <div class=\"columns is-multiline is-gapless\">\r\n                            <div class=\"column is-6\" style=\"height: 400px;\" :id=\"'knn_table_' + result.id\"\r\n                                v-if=\"result.name.toString().toLowerCase().includes('knn')\">\r\n                            </div>\r\n                            <div :id=\"'pdp_containers_' + result.id\"></div>\r\n                        </div>\r\n                        <br>\r\n                    </div>\r\n                </article>\r\n            </div>\r\n        </template>\r\n        <template v-else>\r\n            In progress...\r\n        </template>\r\n    </article>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { settingStore } from '@/stores/settings';\r\nimport { ModelFactory } from \"@/helpers/model_factory\";\r\n\r\nimport { toCSV, concat } from '@/utils/danfo_loader';\r\n\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n\r\n    setup() {\r\n        const settings = settingStore()\r\n        return { settings }\r\n    },\r\n    created() {\r\n        this.pdpFeature = this.settings.features[0].name\r\n    },\r\n    data() {\r\n        return {\r\n            pdpFeature: null,\r\n            hide: false,\r\n            fileName: null,\r\n            showResult: true,\r\n            intervalId: null,\r\n            jobProgressTries: 0,\r\n        }\r\n    },\r\n    name: 'ClassificationViewComponent',\r\n    methods: {\r\n        upload() {\r\n            let vm = this;\r\n            let formdata = new FormData();\r\n            let dataframe = concat({ dfList: [this.result.snapshot.x, this.result.snapshot.xt], axis: 0 })\r\n            let target = this.result.snapshot.y.concat(this.result.snapshot.yt)\r\n            dataframe.addColumn(this.result.target, target, { inplace: true })\r\n            let file = toCSV(dataframe, { filePath: \"pca_data.csv\" });\r\n            const blob = new Blob([file], { type: \"text/csv\" });\r\n            formdata.append('file', blob, 'main.csv');\r\n\r\n            return axios.post('http://127.0.0.1:5000/upload', formdata, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            }\r\n            ).then(function (res) {\r\n                vm.fileName = res.data\r\n                console.log('SUCCESS!!', vm.fileName);\r\n                axios.get(`http://127.0.0.1:5000/run?file_name=${vm.fileName}&job_id=${vm.result.useHPC}&target=${vm.result.target}&seed=${vm.result.seed}`).then(() => {\r\n                    vm.intervalId = setInterval(() => {\r\n                        axios.get(`http://127.0.0.1:5000/progress?job_id=${vm.result.useHPC}`)\r\n                            .then((res) => {\r\n                                vm.jobProgressTries += 1;\r\n                                if (res.data != 'ongoing') {\r\n                                    vm.hide = false;\r\n                                    vm.result.model.predictions = res.data.predictions;\r\n                                    vm.result.model.pdp_averages = res.data.pdp_avgs;\r\n                                    vm.result.model.pdp_grid = res.data.pdp_grid;\r\n                                    vm.result.model.importances = res.data.pfi;\r\n                                    vm.result.model.fpr = res.data.fprs;\r\n                                    vm.result.model.tpr = res.data.tprs;\r\n                                    vm.result.model.auc = res.data.auc;\r\n                                    vm.result.model.probas = res.data.probas;\r\n                                    vm.result.model.visualize(vm.result.snapshot.xt, vm.result.snapshot.yt, vm.result.snapshot.labels,\r\n                                        res.data.predictions, vm.result.encoder, vm.result.snapshot.x.columns, vm.result.snapshot.categoricals)\r\n                                    clearInterval(vm.intervalId);\r\n                                } else if (vm.jobProgressTries > 100) {\r\n                                    clearInterval(vm.intervalId);\r\n                                }\r\n                            });\r\n                    }, 3 * 1000)\r\n                }).catch(function (err) {\r\n                    console.log('FAILURE!!', err.data);\r\n                });\r\n            }).catch(function () {\r\n                console.log('FAILURE!!');\r\n            });\r\n        },\r\n        toggleHelp(id) {\r\n            this.settings.setActiveTab(3);\r\n            setTimeout(() => {\r\n                let el = document.getElementById(id);\r\n                el.scrollIntoView({ behavior: 'smooth' })\r\n            }, 500);\r\n        },\r\n        deleteTab() {\r\n            this.$emit(\"delete-result\", this.result.id)\r\n        },\r\n        downloadPythonCode() {\r\n            let model_factory = new ModelFactory();\r\n            let model = model_factory.createModel(this.result.snapshot.id, this.result.options);\r\n            let pyCode = model.generatePythonCode()\r\n            const blob = new Blob([pyCode], { type: 'text/plain' });\r\n            const url = URL.createObjectURL(blob);\r\n            const link = document.createElement('a');\r\n            link.href = url;\r\n            link.download = 'example.py';\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            document.body.removeChild(link);\r\n            URL.revokeObjectURL(url);\r\n        },\r\n        async updatePartialDependencePlot() {\r\n            let model_factory = new ModelFactory();\r\n            let model = model_factory.createModel(this.result.snapshot.id, this.result.options);\r\n            await model.train(this.result.snapshot.x, this.result.snapshot.y,\r\n                this.result.snapshot.xt, this.result.snapshot.yt, this.result.snapshot.xFeatures, this.result.snapshot.categoricals, this.result.snapshot.xFeatures.findIndex(feature => feature == this.pdpFeature));\r\n            model.chartController.plotPDP(this.result.id, model.pdp_averages, model.pdp_grid, this.result.snapshot.labels, this.pdpFeature);\r\n\r\n        }\r\n    },\r\n    props: {\r\n        result: {}\r\n    },\r\n    watch: {\r\n        result: {\r\n            handler() {\r\n                if (this.result.useHPC) {\r\n                    this.hide = true;\r\n                    this.upload()\r\n                }\r\n            },\r\n            immediate: true,\r\n        }\r\n    },\r\n    errorCaptured(err, vm, info) {\r\n        console.log(`cat EC: ${err.toString()}\\ninfo: ${info}`);\r\n        return false;\r\n    },\r\n    unmounted() {\r\n        clearInterval(this.intervalId)\r\n    }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped></style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./classification-view-component.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./classification-view-component.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./classification-view-component.vue?vue&type=template&id=9ff3140e&scoped=true\"\nimport script from \"./classification-view-component.vue?vue&type=script&lang=js\"\nexport * from \"./classification-view-component.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9ff3140e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"columns is-multiline\"},[_c('div',{staticClass:\"column is-12\"},[_c('b-message',{staticClass:\"has-text-left\",attrs:{\"type\":\"is-info is-size-7\\t\",\"has-icon\":\"\",\"icon-pack\":\"fas\"}},[_c('p',{staticClass:\"my-1\"},[_c('span',[_vm._v(\"Dataset Name : \"+_vm._s(_vm.result.datasetName)+\" , \")]),_c('span',[_vm._v(\" Target variable : \"+_vm._s(_vm.result.target))])]),_c('p',{staticClass:\"subtitle is-size-7 my-1\"},[_vm._v(\"Features :\")]),_c('p',{staticClass:\"ml-2 my-1 subtitle is-size-7\"},[_vm._v(\"Categorical Features : \"),_vm._l((_vm.result.categoricalFeatures),function(feature){return _c('span',{key:feature},[_vm._v(\" \"+_vm._s(feature + ', ')+\" \")])})],2),_c('p',{staticClass:\"ml-2 my-1 subtitle is-size-7\"},[_vm._v(\"Numerical Features : \"),_vm._l((_vm.result.numericColumns),function(feature){return _c('span',{key:feature},[_vm._v(\" \"+_vm._s(feature + ', ')+\" \")])})],2),_c('p',{staticClass:\"ml-2 my-1 subtitle is-size-7\"},[_vm._v(\"Transformations : \"),_vm._l((_vm.result.transformations),function(transformation){return _c('span',{key:transformation.name},[_vm._v(\" \"+_vm._s(transformation.name + ': ' + transformation.scaler + ',')+\" \")])})],2),_vm._l((_vm.result.options),function(value,key){return _c('p',{key:key},[_vm._v(\" \"+_vm._s(key)+\": \"+_vm._s(value['value'])+\" \")])}),_c('p',{staticClass:\"subtitle is-size-7 my-1\"},[_vm._v(\"Goodness of Fit :\")]),_c('p',{staticClass:\"ml-2 my-1 subtitle is-size-7\"},[_vm._v(\"MSE : \"+_vm._s(_vm.result.metrics.mse.toFixed(2)))]),_c('p',{staticClass:\"ml-2 my-1 subtitle is-size-7\"},[_vm._v(\"R2 : \"+_vm._s(_vm.result.metrics.rsquared.toFixed(2)))]),_c('button',{staticClass:\"button is-danger has-text-white is-small\",on:{\"click\":function($event){return _vm.deleteTab()}}},[_vm._v(\"Delete \")]),_c('button',{staticClass:\"button is-success is-small\",on:{\"click\":function($event){return _vm.toggleHelp(_vm.result.helpSectionId)}}},[_vm._v(\"Help\")])],2)],1),(_vm.result.name.includes('Lin.Reg') || _vm.result.name.includes('Poly.Reg'))?_c('div',{staticClass:\"column is-12\"},[_c('div',{staticClass:\"columns is-multiline is-gapless\"},[_c('div',{staticClass:\"column is-7\"},[_c('div',{staticClass:\"table-container\"},[_c('table',{staticClass:\"table has-text-centered nowrap is-striped is-bordered is-narrow is-hoverable is-size-7\",attrs:{\"id\":'metrics_table_' + _vm.result.id}},[_vm._m(0),_vm._m(1)])])]),_c('div',{staticClass:\"column is-5\",attrs:{\"id\":'parameters_plot_' + _vm.result.id,\"width\":\"100%\"}}),_c('div',{staticClass:\"column is-12 mb-2\"},[_c('div',{staticClass:\"message is-info\"},[_c('div',{staticClass:\"message-header p-2\"},[_vm._v(\" Regularization Plots \")]),_c('div',{staticClass:\"message-body\"},[_c('div',{staticClass:\"columns is-multiline is-gapless\"},[_c('div',{staticClass:\"column is-6\",staticStyle:{\"height\":\"250px\"},attrs:{\"id\":'errors_' + _vm.result.id,\"width\":\"100%\"}}),_c('div',{staticClass:\"column is-6\",staticStyle:{\"height\":\"250px\"},attrs:{\"id\":'regularization_' + _vm.result.id,\"width\":\"100%\"}})])])])]),_c('div',{staticClass:\"message is-info\"},[_c('div',{staticClass:\"message-header p-2\"},[_vm._v(\" Residuals Plots \")]),_c('div',{staticClass:\"message-body\"},[_c('div',{staticClass:\"columns is-multiline is-gapless\"},[_c('div',{staticClass:\"column is-4\"},[_c('div',{staticStyle:{\"height\":\"300px\"},attrs:{\"id\":'regression_y_yhat_' + _vm.result.id,\"width\":\"100%\"}})]),_c('div',{staticClass:\"column is-4\"},[_c('div',{staticStyle:{\"height\":\"300px\"},attrs:{\"id\":'regression_y_yhat_min_' + _vm.result.id,\"width\":\"100%\"}})]),_c('div',{staticClass:\"column is-4\"},[_c('div',{staticStyle:{\"height\":\"300px\"},attrs:{\"id\":'regression_y_yhat_1se_' + _vm.result.id,\"width\":\"100%\"}})]),_c('div',{staticClass:\"column is-4\"},[_c('div',{staticStyle:{\"height\":\"300px\"},attrs:{\"id\":'regression_residual_' + _vm.result.id,\"width\":\"100%\"}})]),_c('div',{staticClass:\"column is-4\"},[_c('div',{staticStyle:{\"height\":\"300px\"},attrs:{\"id\":'regression_residual_min_' + _vm.result.id,\"width\":\"100%\"}})]),_c('div',{staticClass:\"column is-4\"},[_c('div',{staticStyle:{\"height\":\"300px\"},attrs:{\"id\":'regression_residual_1se_' + _vm.result.id,\"width\":\"100%\"}})]),_c('div',{staticClass:\"column is-4\"},[_c('div',{staticStyle:{\"height\":\"300px\"},attrs:{\"id\":'qqplot_ols_' + _vm.result.id,\"width\":\"100%\"}})]),_c('div',{staticClass:\"column is-4\"},[_c('div',{staticStyle:{\"height\":\"300px\"},attrs:{\"id\":'qqplot_min_' + _vm.result.id,\"width\":\"100%\"}})]),_c('div',{staticClass:\"column is-4\"},[_c('div',{staticStyle:{\"height\":\"300px\"},attrs:{\"id\":'qqplot_1se_' + _vm.result.id,\"width\":\"100%\"}})])])])])])]):_c('div',{staticClass:\"column is-12\"},[_c('div',{staticClass:\"columns is-multiline is-gapless\"},[_c('div',{staticClass:\"column is-12\"},[_c('article',{staticClass:\"message is-info\"},[_c('div',{staticClass:\"message-header p-2\"},[_vm._v(\" Predictions and Residuals Plot \")]),_c('div',{staticClass:\"message-body\"},[_c('div',{staticClass:\"columns is-multiline is-gapless\"},[_c('div',{staticClass:\"column is-6\"},[_c('div',{staticStyle:{\"height\":\"300px\"},attrs:{\"id\":'regression_y_yhat_' + _vm.result.id,\"width\":\"100%\"}})]),_c('div',{staticClass:\"column is-6\"},[_c('div',{staticStyle:{\"height\":\"300px\"},attrs:{\"id\":'errors_' + _vm.result.id,\"width\":\"100%\"}})]),(_vm.result.name.toString().toLowerCase().includes('knn'))?_c('div',{staticClass:\"column is-6\",staticStyle:{\"height\":\"350px\"},attrs:{\"id\":'knn_table_' + _vm.result.id}}):_vm._e()])])])]),_c('div',{staticClass:\"column is-12\"},[_c('article',{staticClass:\"message is-info\"},[_c('div',{staticClass:\"message-header p-2\"},[_vm._v(\" Partial Dependence Plot and Permutation Feature Importance \")]),_c('div',{staticClass:\"message-body\"},[_c('div',{staticClass:\"columns is-multiline is-gapless\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.result.hasExplaination),expression:\"result.hasExplaination\"}],staticClass:\"column is-6\",staticStyle:{\"height\":\"400px\"},attrs:{\"id\":'pfi_boxplot_' + _vm.result.id}})])])])])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('thead',[_c('tr',[_c('th',{attrs:{\"colspan\":\"1\"}}),_c('th',{staticClass:\"has-text-centered\",attrs:{\"colspan\":\"3\"}},[_vm._v(\"OLS\")]),_c('th',{staticClass:\"has-text-centered\",attrs:{\"colspan\":\"3\"}},[_vm._v(\"lasso min\")]),_c('th',{staticClass:\"has-text-centered\",attrs:{\"colspan\":\"3\"}},[_vm._v(\"lasso 1se\")])]),_c('tr',[_c('th',{staticClass:\"has-text-centered\"},[_vm._v(\"names\")]),_c('th',[_vm._v(\"coef\")]),_c('th',[_vm._v(\"st.d.\")]),_c('th',[_c('i',[_vm._v(\"p\")]),_vm._v(\"-value\")]),_c('th',[_vm._v(\"coef\")]),_c('th',[_vm._v(\"st.d.\")]),_c('th',[_c('i',[_vm._v(\"p\")]),_vm._v(\"-value\")]),_c('th',[_vm._v(\"coef\")]),_c('th',[_vm._v(\"st.d.\")]),_c('th',[_c('i',[_vm._v(\"p\")]),_vm._v(\"-value\")])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('tfoot',{staticStyle:{\"font-weight\":\"normal\"}},[_c('tr',[_c('th'),_c('th',{staticClass:\"has-text-centered\",attrs:{\"colspan\":\"3\"}}),_c('th',{staticClass:\"has-text-centered\",attrs:{\"colspan\":\"3\"}}),_c('th',{staticClass:\"has-text-centered\",attrs:{\"colspan\":\"3\"}})])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"columns is-multiline\">\r\n        <div class=\"column is-12\">\r\n            <b-message type=\"is-info is-size-7\t\" has-icon icon-pack=\"fas\" class=\"has-text-left\">\r\n                <p class=\"my-1\">\r\n                    <span>Dataset Name : {{ result.datasetName }} , </span>\r\n                    <span> Target variable : {{ result.target }}</span>\r\n                </p>\r\n\r\n                <p class=\"subtitle is-size-7 my-1\">Features :</p>\r\n                <p class=\"ml-2 my-1 subtitle is-size-7 \">Categorical Features : <span\r\n                        v-for=\"feature in result.categoricalFeatures\" :key=\"feature\">\r\n                        {{ feature + ', ' }}\r\n                    </span>\r\n                </p>\r\n                <p class=\"ml-2 my-1 subtitle is-size-7 \">Numerical Features : <span\r\n                        v-for=\"feature in result.numericColumns\" :key=\"feature\">\r\n                        {{ feature + ', ' }}\r\n                    </span></p>\r\n                <p class=\"ml-2 my-1 subtitle is-size-7 \">Transformations :\r\n                    <span v-for=\"transformation in result.transformations\" :key=\"transformation.name\">\r\n                        {{ transformation.name + ': ' + transformation.scaler + ',' }}\r\n                    </span>\r\n                </p>\r\n                <p v-for=\"(value, key) in result.options\" :key=\"key\">\r\n                    {{ key }}: {{ value['value'] }}\r\n                </p>\r\n                <p class=\"subtitle is-size-7 my-1\">Goodness of Fit :</p>\r\n                <p class=\"ml-2 my-1 subtitle is-size-7 \">MSE : {{ result.metrics.mse.toFixed(2) }}</p>\r\n                <p class=\"ml-2 my-1 subtitle is-size-7 \">R2 : {{ result.metrics.rsquared.toFixed(2) }}</p>\r\n                <button class=\"button is-danger has-text-white is-small\" @click=\"deleteTab()\">Delete </button>\r\n                <button class=\"button is-success is-small\" @click=\"toggleHelp(result.helpSectionId)\">Help</button>\r\n\r\n            </b-message>\r\n        </div>\r\n        <div class=\"column is-12\" v-if=\"result.name.includes('Lin.Reg') || result.name.includes('Poly.Reg')\">\r\n            <div class=\"columns is-multiline is-gapless\">\r\n\r\n                <div class=\"column is-7\">\r\n                    <div class=\"table-container\">\r\n                        <table\r\n                            class=\"table has-text-centered nowrap is-striped is-bordered is-narrow is-hoverable is-size-7\"\r\n                            :id=\"'metrics_table_' + result.id\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th colspan=\"1\"></th>\r\n                                    <th colspan=\"3\" class=\"has-text-centered\">OLS</th>\r\n                                    <th colspan=\"3\" class=\"has-text-centered\">lasso min</th>\r\n                                    <th colspan=\"3\" class=\"has-text-centered\">lasso 1se</th>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th class=\"has-text-centered\">names</th>\r\n                                    <th>coef</th>\r\n                                    <th>st.d.</th>\r\n                                    <th><i>p</i>-value</th>\r\n                                    <th>coef</th>\r\n                                    <th>st.d.</th>\r\n                                    <th><i>p</i>-value</th>\r\n                                    <th>coef</th>\r\n                                    <th>st.d.</th>\r\n                                    <th><i>p</i>-value</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tfoot style=\" font-weight: normal\">\r\n                                <tr>\r\n                                    <th></th>\r\n                                    <th colspan=\"3\" class=\"has-text-centered\"></th>\r\n                                    <th colspan=\"3\" class=\"has-text-centered\"></th>\r\n                                    <th colspan=\"3\" class=\"has-text-centered\"></th>\r\n\r\n                                </tr>\r\n                            </tfoot>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column is-5\" :id=\"'parameters_plot_' + result.id\" width=\"100%\">\r\n                </div>\r\n                <div class=\"column is-12 mb-2\">\r\n                    <div class=\"message is-info\">\r\n                        <div class=\"message-header p-2\">\r\n                            Regularization Plots\r\n                        </div>\r\n                        <div class=\"message-body\">\r\n                            <div class=\"columns is-multiline is-gapless\">\r\n                                <div class=\"column is-6\" :id=\"'errors_' + result.id\" width=\"100%\" style=\"height:250px\">\r\n                                </div>\r\n                                <div class=\"column is-6\" :id=\"'regularization_' + result.id\" width=\"100%\"\r\n                                    style=\"height:250px\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"message is-info\">\r\n                    <div class=\"message-header p-2\">\r\n                        Residuals Plots\r\n                    </div>\r\n                    <div class=\"message-body\">\r\n                        <div class=\"columns is-multiline is-gapless\">\r\n\r\n                            <div class=\"column is-4\">\r\n                                <div :id=\"'regression_y_yhat_' + result.id\" width=\"100%\" style=\"height:300px\">\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"column is-4\">\r\n                                <div :id=\"'regression_y_yhat_min_' + result.id\" width=\"100%\" style=\"height:300px\">\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"column is-4\">\r\n                                <div :id=\"'regression_y_yhat_1se_' + result.id\" width=\"100%\" style=\"height:300px\">\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"column is-4\">\r\n                                <div :id=\"'regression_residual_' + result.id\" width=\"100%\" style=\"height:300px\">\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"column is-4\">\r\n                                <div :id=\"'regression_residual_min_' + result.id\" width=\"100%\" style=\"height:300px\">\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"column is-4\">\r\n                                <div :id=\"'regression_residual_1se_' + result.id\" width=\"100%\" style=\"height:300px\">\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"column is-4\">\r\n                                <div :id=\"'qqplot_ols_' + result.id\" width=\"100%\" style=\"height:300px\">\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"column is-4\">\r\n                                <div :id=\"'qqplot_min_' + result.id\" width=\"100%\" style=\"height:300px\">\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"column is-4\">\r\n                                <div :id=\"'qqplot_1se_' + result.id\" width=\"100%\" style=\"height:300px\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"column is-12\" v-else>\r\n            <div class=\"columns is-multiline is-gapless\">\r\n                <div class=\"column is-12\">\r\n                    <article class=\"message is-info\">\r\n                        <div class=\"message-header p-2\"> Predictions and Residuals Plot\r\n                        </div>\r\n                        <div class=\"message-body\">\r\n                            <div class=\"columns is-multiline is-gapless\">\r\n\r\n                                <div class=\"column is-6\">\r\n                                    <div :id=\"'regression_y_yhat_' + result.id\" width=\"100%\" style=\"height:300px\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"column is-6\">\r\n                                    <div :id=\"'errors_' + result.id\" width=\"100%\" style=\"height:300px\"></div>\r\n                                </div>\r\n                                <div class=\"column is-6\" style=\"height: 350px;\" :id=\"'knn_table_' + result.id\"\r\n                                    v-if=\"result.name.toString().toLowerCase().includes('knn')\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </article>\r\n                </div>\r\n                <div class=\"column is-12\">\r\n                    <article class=\"message is-info\">\r\n                        <div class=\"message-header p-2\"> Partial Dependence Plot and Permutation Feature Importance\r\n                        </div>\r\n                        <div class=\"message-body\">\r\n                            <div class=\"columns is-multiline is-gapless\">\r\n                                <div class=\"column is-6\" style=\"height: 400px;\" v-show=\"result.hasExplaination\"\r\n                                    :id=\"'pfi_boxplot_' + result.id\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </article>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { settingStore } from '@/stores/settings'\r\nimport { ModelFactory } from \"@/helpers/model_factory\";\r\n\r\nexport default {\r\n\r\n    setup() {\r\n        const settings = settingStore()\r\n        return { settings }\r\n    },\r\n    name: 'regression-view-component',\r\n    methods: {\r\n        toggleHelp(id) {\r\n            this.settings.setActiveTab(3);\r\n            setTimeout(() => {\r\n                let el = document.getElementById(id);\r\n                el.scrollIntoView({ behavior: 'smooth' })\r\n            }, 500);\r\n        },\r\n        deleteTab() {\r\n            this.$emit(\"delete-result\", this.result.id)\r\n        },\r\n        async updatePartialDependencePlot() {\r\n            let model_factory = new ModelFactory();\r\n            let model = model_factory.createModel(this.result.snapshot.id, this.result.options);\r\n            await model.train(this.result.snapshot.x, this.result.snapshot.y,\r\n                this.result.snapshot.xt, this.result.snapshot.yt, this.result.snapshot.xFeatures, this.result.snapshot.categoricals,\r\n                [0, 1, 2]);\r\n            model.chartController.plotPDPRegression(this.result.id, model.pdp_averages, model.pdp_grid, this.result.snapshot.labels, this.result.snapshot.xFeatures, this.result.snapshot.categoricals);\r\n\r\n        },\r\n    },\r\n    created() {\r\n        this.pdpFeature = this.settings.features.filter(feature => feature.name != this.settings.target)[0].name;\r\n\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            pdpFeature: null,\r\n            showResult: true\r\n        }\r\n    },\r\n    props: {\r\n        result: {}\r\n    },\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped></style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./regression-view-component.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./regression-view-component.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./regression-view-component.vue?vue&type=template&id=2946f9e4&scoped=true\"\nimport script from \"./regression-view-component.vue?vue&type=script&lang=js\"\nexport * from \"./regression-view-component.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2946f9e4\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div>\r\n\r\n        <b-tabs v-model=\"activeResult\" v-if=\"this.settings.results?.length > 0\" @input=\"resize\">\r\n            <b-tab-item label=\"Comparison\" @click=\"compareResultsDraw()\">\r\n                <button v-for=\"(item, index) in metricsCollection\" :key=\"index\"\r\n                    class=\"button is-small ml-1 is-success my-2\" @click=\"compareResultsDraw(item)\">{{\r\n                        item.name + '-' + (item.task ? 'cls' : 'reg') }}</button>\r\n                <div class=\"message is-info \">\r\n                    <div class=\"message-header p-2\">\r\n                        Methods Comparison\r\n                    </div>\r\n                    <div class=\"message-body\">\r\n                        <div class=\"columns is-multiline is-gapless\">\r\n                            <div v-for=\"(value, index) in metrics\" :key=\"index\" class=\"column is-4\">\r\n                                <div class=\"column is-4\">\r\n                                    <div :id=\"index\"></div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div v-show=\"compare\" class=\"column is-12\" id=\"comaprison_plot\" style=\"height:400px;\"></div>\r\n            </b-tab-item>\r\n            <b-tab-item :label=\"(result.id) + '.' + result.name.toString()\" v-for=\"result in this.settings.results\"\r\n                :key=\"result.id\">\r\n                <classification-view-component @delete-result=\"deleteResult\" :result=\"result\"\r\n                    v-if=\"result.modelTask\"></classification-view-component>\r\n                <regression-view-component @delete-result=\"deleteResult\" :result=\"result\" v-else>\r\n                </regression-view-component>\r\n                <div class=\"column is-12\">\r\n                    <div class=\"table-container\" v-if=\"!result.useHPC\">\r\n                        <table :id=\"'predictions_table_' + result.id\"\r\n                            class=\"table is-bordered is-hoverable is-narrow display is-size-7\" width=\"100%\">\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </b-tab-item>\r\n        </b-tabs>\r\n        <b-message type=\"is-danger\" has-icon icon-pack=\"fas\" v-else>\r\n            No result to show.\r\n        </b-message>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { settingStore } from '@/stores/settings'\r\nimport ClassificationViewComponent from './classification-view-component.vue'\r\nimport RegressionViewComponent from './regression-view-component.vue'\r\nimport { computed } from \"vue\";\r\nimport UI from '@/helpers/ui';\r\nimport ChartController from '@/helpers/charts';\r\n\r\nlet chartController = new ChartController(null, null)\r\n\r\nlet ui = new UI(null, null)\r\n\r\n\r\nexport default {\r\n    components: {\r\n        'classification-view-component': ClassificationViewComponent,\r\n        'regression-view-component': RegressionViewComponent,\r\n\r\n    },\r\n    setup() {\r\n        const settings = settingStore()\r\n        const activeResult = computed({\r\n            get: () => settings.getResultTab,\r\n            set: (value) => settings.setResultActiveTab(value), // Mutate the state properly\r\n        });\r\n        return { settings, activeResult }\r\n    },\r\n\r\n    name: 'ResultsComponent',\r\n    props: {\r\n    },\r\n    data() {\r\n        return {\r\n            metricsCollection: [],\r\n            compare: false,\r\n            datasetName: '',\r\n            isClassication: -1,\r\n            comparisonMetric: '',\r\n            baseMetrics: [],\r\n            activeTab: null,\r\n            visitedTabs: [],\r\n            metrics: {},\r\n            xTicks: {},\r\n        }\r\n    },\r\n    methods: {\r\n        fillMetrics() {\r\n            if (this.isClassication == 1) {\r\n                this.baseMetrics = [{ name: 'accuracy', id: 1 }, { name: 'f1 micro', id: 2 }, { 'name': 'f1 macro', id: 3 }]\r\n            } else if (this.isClassication == 0) {\r\n                this.baseMetrics = [{ name: 'R2', id: 1 }, { name: 'MSE', id: 0 }]\r\n            }\r\n\r\n        },\r\n        compareResults(dataset) {\r\n            let datasetName = this.settings.datasetName\r\n            let task = this.settings.classificationTask;\r\n            try {\r\n                window.Plotly.purge('comaprison_plot');\r\n            } catch (error) {\r\n                console.log('no plot to remove');\r\n            }\r\n            if (dataset) {\r\n                datasetName = dataset.name\r\n                task = dataset.task\r\n            }\r\n            let methodResults = this.settings.getMethodResults.filter(m => m.datasetName == datasetName && task == m.modelTask)\r\n            this.compare = true;\r\n            let x = [];\r\n            let y = {};\r\n            methodResults.forEach((result, i) => {\r\n                let metrics = result.metrics;\r\n                if (i === 0) {\r\n                    x.push('Theoretical best');\r\n                }\r\n                x.push(result.id + '.' + result.name)\r\n                for (const key in result.metrics) {\r\n                    if (key != 'precision' && key != 'recall') {\r\n                        const metric = metrics[key];\r\n                        if (key in y) {\r\n                            y[key].push(metric);\r\n                        } else {\r\n                            y[key] = [];\r\n                            y[key].push(1);\r\n                            y[key].push(metric);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            this.metrics = y;\r\n            this.xTicks = x;\r\n        },\r\n        draw() {\r\n            for (const k in this.metrics) {\r\n                chartController.comparison(this.xTicks, this.metrics[k], k, k)\r\n            }\r\n        },\r\n        compareResultsDraw(dataset) {\r\n            let results = [];\r\n            this.compareResults(dataset);\r\n            for (let i = 0; i < this.settings.getMethodResults.length; i++) {\r\n                const res = this.settings.getMethodResults[i];\r\n                let index = results.findIndex(m => m.task === res.modelTask && m.name === res.datasetName)\r\n                if (index == -1) {\r\n                    results.push({ name: res.datasetName, task: res.modelTask })\r\n                }\r\n\r\n            }\r\n            //  results = [...new Set(this.settings.getMethodResults.map(m => m.datasetName))];\r\n\r\n            this.metricsCollection = results;\r\n\r\n            setTimeout(() => {\r\n                this.draw()\r\n            }, 500);\r\n        },\r\n        resize(v) {\r\n            if (v === 0) {\r\n                this.compareResultsDraw()\r\n            }\r\n\r\n            window.dispatchEvent(new Event('resize'));\r\n        },\r\n        deleteResult(id) {\r\n            // eslint-disable-next-line no-unused-vars\r\n            let [tables, plots] = this.settings.getResultVisualizations(id);\r\n            tables.forEach(table => {\r\n                ui.removeTable(table)\r\n            });\r\n            plots.forEach(plot => {\r\n                window.Plotly.purge(plot);\r\n            });\r\n            this.settings.removeResult(id);\r\n\r\n        },\r\n        showMethodDetails(id) {\r\n            alert(id)\r\n\r\n        },\r\n    },\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped></style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./results-component.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./results-component.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./results-component.vue?vue&type=template&id=f9c2a36e&scoped=true\"\nimport script from \"./results-component.vue?vue&type=script&lang=js\"\nexport * from \"./results-component.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f9c2a36e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticStyle:{\"overflow-y\":\"auto\",\"overflow-x\":\"auto\"}},[_c('article',{staticClass:\"message is-info\"},[_c('div',{staticClass:\"message-header p-2\"},[_vm._v(\"Scatterplot Matrix \"),_c('b-tooltip',{attrs:{\"append-to-body\":\"\",\"label\":\"nrd method and guassian kernel is used for kernel density estimation.\",\"multilined\":\"\"}},[_c('b-button',{attrs:{\"icon-left\":\"info\",\"icon-pack\":\"fas\",\"size\":\"is-small\",\"type\":\"is-dark\"}})],1)],1),_c('div',{staticClass:\"message-body\"},[_c('div',{attrs:{\"id\":\"scatterplot_mtx\"}}),_c('button',{staticClass:\"button is-small\",on:{\"click\":function($event){return _vm.downlaodSPLOM()}}},[_vm._v(\"Download plot\")]),_c('div',{staticClass:\"columns my-1 ml-5 mt-5 is-multiline\",style:({ width: _vm.features.length * 100 + 'px' })},[_vm._l((this.settings.items.filter(column => column.selected)),function(feature){return _c('div',{key:feature.id,style:({ width: _vm.column_width + '%' })},[(feature.type == 1)?_c('b-field',{staticClass:\"ml-1\",attrs:{\"label\":feature.name,\"label-position\":'on-border'}},[_c('b-select',{attrs:{\"size\":\"is-small\"},on:{\"input\":function($event){return _vm.scaleData()}},model:{value:(feature.scaler),callback:function ($$v) {_vm.$set(feature, \"scaler\", $$v)},expression:\"feature.scaler\"}},_vm._l((_vm.ScaleOptions),function(option){return _c('option',{key:option.id,domProps:{\"value\":option.id}},[_vm._v(\" \"+_vm._s(option.name)+\" \")])}),0)],1):_c('p',{staticClass:\"title is-size-7 mt-1\"},[_vm._v(_vm._s(feature.name))])],1)}),_c('br')],2),_c('div',{staticClass:\"column is-12\"},[_c('parallel-coordinate-plot-component',{ref:\"coordinate_plot\"})],1),(this.settings.isClassification)?_c('div',{staticClass:\"column is-12\"},[_c('h5',{staticClass:\"title is-7 has-text-left\"},[_vm._v(\"Merge classes \")]),_c('b-table',{staticClass:\"is-size-7\",attrs:{\"data\":_vm.classesInfo,\"columns\":_vm.classesInfoColumns,\"checkable\":\"\",\"row-class\":(row, index) => row.mode <= 0.10 && 'has-text-danger',\"narrowed\":true,\"checked-rows\":_vm.selectedClasses},on:{\"update:checkedRows\":function($event){_vm.selectedClasses=$event},\"update:checked-rows\":function($event){_vm.selectedClasses=$event}}}),_c('button',{staticClass:\"button mt-2 is-info is-small\",attrs:{\"disabled\":_vm.selectedClasses?.length >= _vm.classesInfo?.length},on:{\"click\":function($event){return _vm.scaleData()}}},[_vm._v(\"Merge Classes\")]),_c('button',{staticClass:\"button mt-2 mx-1 is-success is-small\",on:{\"click\":function($event){return _vm.scaleData(true)}}},[_vm._v(\"reset\")])],1):_vm._e(),_c('b-loading',{attrs:{\"is-full-page\":false},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}})],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _vm._m(0)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"my-1\"},[_c('article',{staticClass:\"message\"},[_c('div',{staticClass:\"message-header p-2\"},[_vm._v(\"Parallel Coordinate Plot\")]),_c('div',{staticClass:\"message-body\"},[_c('div',{attrs:{\"id\":\"parallel_coordinate_plot\"}})])])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n    <section class=\"my-1\">\r\n        <article class=\"message\">\r\n            <div class=\"message-header p-2\">Parallel Coordinate Plot</div>\r\n            <div class=\"message-body\">\r\n                <div id=\"parallel_coordinate_plot\"></div>\r\n            </div>\r\n        </article>\r\n    </section>\r\n</template>\r\n\r\n<script>\r\nimport { settingStore } from '@/stores/settings'\r\nimport { ScaleOptions } from '@/helpers/settings'\r\nimport ChartController from '@/helpers/charts';\r\nlet chartController = new ChartController();\r\nimport { DataFrame } from '@/utils/danfo_loader';\r\nimport { applyDataTransformation } from '@/helpers/utils';\r\n\r\nexport default {\r\n    setup() {\r\n        const settings = settingStore()\r\n        return { settings }\r\n    },\r\n    name: 'ParallelCoordinatePlotComponent',\r\n    props: {\r\n        msg: String,\r\n        update: {}\r\n    },\r\n    data() {\r\n        return {\r\n            isLoading: false,\r\n            ScaleOptions: ScaleOptions,\r\n            features: [],\r\n            df: null,\r\n            rawData: null,\r\n        }\r\n    },\r\n    methods: {\r\n        ParallelCoordinatePlot() {\r\n            this.isLoading = true;\r\n            const df = new DataFrame(this.settings.rawData);\r\n            if (this.settings.isClassification && this.settings.classTransformations.length > 0) {\r\n                this.settings.mergedClasses.forEach((classes) => {\r\n                    let newClass = classes.map(m => m.class).join('_');\r\n                    classes.forEach(cls => {\r\n                        df.replace(cls.class, newClass, { columns: [this.settings.modelTarget], inplace: true })\r\n                    });\r\n                })\r\n            }\r\n\r\n            let validTransformations = this.settings.items.filter(column => column.selected && column.type === 1)\r\n            window.Plotly.purge('parallel_coordinate_plot')\r\n            applyDataTransformation(df, validTransformations.map(transformation => transformation.name), validTransformations);\r\n            let numericColumns = this.settings.items.filter(column => column.selected && column.type === 1).map(column => column.name);\r\n            chartController.parallelCoordinatePlot(df.loc({ columns: numericColumns }).values,\r\n                df.column(this.settings.modelTarget).values, numericColumns, this.settings.isClassification)\r\n            this.isLoading = false;\r\n\r\n        }\r\n\r\n    },\r\n\r\n\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped></style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./parallel-coordinate-plot-component.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./parallel-coordinate-plot-component.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./parallel-coordinate-plot-component.vue?vue&type=template&id=7662592e&scoped=true\"\nimport script from \"./parallel-coordinate-plot-component.vue?vue&type=script&lang=js\"\nexport * from \"./parallel-coordinate-plot-component.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7662592e\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <section style=\"overflow-y: auto;overflow-x: auto;\">\r\n        <article class=\"message is-info\">\r\n            <div class=\"message-header p-2\">Scatterplot Matrix <b-tooltip append-to-body\r\n                    label=\"nrd method and guassian kernel is used for kernel density estimation.\" multilined>\r\n                    <b-button icon-left=\"info\" icon-pack=\"fas\" size=\"is-small\" type=\"is-dark\" />\r\n                </b-tooltip></div>\r\n            <div class=\"message-body\">\r\n                <div id=\"scatterplot_mtx\"></div>\r\n                <button class=\"button is-small\" @click=\"downlaodSPLOM()\">Download plot</button>\r\n                <div class=\"columns my-1 ml-5 mt-5 is-multiline\" :style=\"{ width: features.length * 100 + 'px' }\">\r\n                    <div :style=\"{ width: column_width + '%' }\"\r\n                        v-for=\"feature in this.settings.items.filter(column => column.selected)\" :key=\"feature.id\">\r\n                        <b-field :label=\"feature.name\" :label-position=\"'on-border'\" v-if=\"feature.type == 1\"\r\n                            class=\"ml-1\">\r\n                            <b-select @input=\"scaleData()\" size=\"is-small\" v-model=\"feature.scaler\">\r\n                                <option v-for=\"option in ScaleOptions\" :value=\"option.id\" :key=\"option.id\">\r\n                                    {{ option.name }}\r\n                                </option>\r\n                            </b-select>\r\n                        </b-field>\r\n                        <p class=\"title is-size-7 mt-1\" v-else>{{ feature.name }}</p>\r\n                    </div>\r\n                    <br>\r\n                </div>\r\n                <div class=\"column is-12\">\r\n                    <parallel-coordinate-plot-component ref=\"coordinate_plot\">\r\n                    </parallel-coordinate-plot-component>\r\n                </div>\r\n                <div class=\"column is-12\" v-if=\"this.settings.isClassification\">\r\n                    <h5 class=\"title is-7 has-text-left\">Merge classes\r\n                    </h5>\r\n                    <b-table class=\"is-size-7\" :data=\"classesInfo\" :columns=\"classesInfoColumns\" checkable\r\n                        :row-class=\"(row, index) => row.mode <= 0.10 && 'has-text-danger'\" :narrowed=\"true\"\r\n                        :checked-rows.sync=\"selectedClasses\"></b-table>\r\n                    <button @click=\"scaleData()\" class=\"button mt-2 is-info is-small\"\r\n                        :disabled=\"selectedClasses?.length >= classesInfo?.length\">Merge\r\n                        Classes</button>\r\n                    <button @click=\"scaleData(true)\" class=\"button mt-2 mx-1 is-success is-small\">reset</button>\r\n                </div>\r\n                <b-loading :is-full-page=\"false\" v-model=\"isLoading\"></b-loading>\r\n            </div>\r\n        </article>\r\n    </section>\r\n</template>\r\n\r\n<script>\r\nimport ChartController from '@/helpers/charts';\r\nimport { settingStore } from '@/stores/settings'\r\nimport { ScaleOptions } from '@/helpers/settings'\r\nimport { applyDataTransformation } from '@/helpers/utils';\r\nimport PCPComponent from '../visualization/parallel-coordinate-plot-component.vue'\r\nimport { getDanfo } from '@/utils/danfo_loader';\r\n\r\nlet chartController = new ChartController();\r\nexport default {\r\n    components: {\r\n        'parallel-coordinate-plot-component': PCPComponent,\r\n    },\r\n    setup() {\r\n        const settings = settingStore()\r\n        return { settings }\r\n    },\r\n    name: 'ScatterplotMatrixComponent',\r\n    props: {\r\n        msg: String,\r\n        update: {}\r\n    },\r\n    data() {\r\n        return {\r\n            isLoading: false,\r\n            ScaleOptions: ScaleOptions,\r\n            features: [],\r\n            df: null,\r\n            rawData: null,\r\n            classesInfo: [],\r\n            selectedClasses: [],\r\n            classesInfoColumns: [],\r\n        }\r\n    },\r\n    methods: {\r\n        downlaodSPLOM() {\r\n            chartController.downloadPlot('scatterplot_mtx')\r\n        },\r\n        async updateClassesInfo() {\r\n            const danfo = await getDanfo()\r\n\r\n            this.df = new danfo.DataFrame(this.settings.rawData);\r\n            this.settings.mergedClasses.forEach((classes) => {\r\n                let newClass = classes.map(m => m.class).join('_');\r\n                classes.forEach(cls => {\r\n                    this.df.replace(cls.class, newClass, { columns: [this.settings.modelTarget], inplace: true })\r\n                });\r\n            })\r\n            let targetValues = this.df.column(this.settings.modelTarget).values;\r\n            let samplesLength = targetValues.length;\r\n            let classes = new Set(...[targetValues]);\r\n            let result = []\r\n            classes.forEach(cls => {\r\n                result.push({\r\n                    class: cls,\r\n                    mode: +(targetValues.filter(val => val === cls).length / samplesLength).toFixed(2)\r\n                })\r\n            });\r\n            this.classesInfo = result.concat();\r\n            this.classesInfoColumns = [{\r\n                field: 'class',\r\n                label: ' class'\r\n            }, {\r\n                field: 'mode',\r\n                label: 'Samples in each class (%)'\r\n            }]\r\n        },\r\n        async dispalySPLOM(dataframe) {\r\n            try {\r\n                this.isLoading = true;\r\n                let numericColumns = this.settings.items.filter(column => column.selected && column.type === 1).map(column => column.name);\r\n                let categorical_columns = this.settings.items.filter(column => column.selected && column.type !== 1).map(column => column.name);\r\n                let features = numericColumns.concat(categorical_columns);\r\n                dataframe.dropNa({ axis: 1, inplace: true })\r\n                console.log(new Set(dataframe.column(this.settings.modelTarget).values));\r\n\r\n                await chartController.ScatterplotMatrix(dataframe.loc({ columns: features }).values, features, dataframe.column(this.settings.modelTarget).values, categorical_columns.length,\r\n                    this.settings.isClassification, numericColumns, categorical_columns, this.dataframe)\r\n                if (this.settings.isClassification) {\r\n                    this.updateClassesInfo();\r\n                }\r\n                this.$refs.coordinate_plot?.ParallelCoordinatePlot()\r\n                this.isLoading = false;\r\n\r\n            } catch (error) {\r\n                let message = 'Something went wrong drawing data analysis plots'\r\n                this.$buefy.toast.open(message);\r\n                this.settings.addMessage({ message: message, type: 'warning' })\r\n            }\r\n        },\r\n        async scaleData(reset = false) {\r\n            const danfo = await getDanfo()\r\n\r\n            this.df = new danfo.DataFrame(this.settings.rawData);\r\n            if (reset) {\r\n                this.settings.resetClassTransformations([]);\r\n                this.updateClassesInfo();\r\n                console.log(this.settings.mergedClasses);\r\n\r\n            }\r\n            if (this.settings.isClassification && this.selectedClasses?.length > 0) {\r\n                let newClass = this.selectedClasses.map(m => m.class).join('_');\r\n                this.selectedClasses.forEach(cls => {\r\n                    this.df.replace(cls.class, newClass, { columns: [this.settings.modelTarget], inplace: true })\r\n                });\r\n                this.settings.setClassTransformation(this.selectedClasses)\r\n                let message = { message: 'merged classes: ' + newClass, type: 'info' }\r\n                this.$buefy.toast.open('merged classes: ' + newClass)\r\n                this.settings.addMessage(message)\r\n            }\r\n\r\n\r\n            let validTransformations = this.settings.items.filter(feature => feature.selected && feature.type === 1 && feature.scaler != 0)\r\n            this.isLoading = true;\r\n            window.Plotly.purge('scatterplot_mtx')\r\n            this.updateClassesInfo()\r\n            applyDataTransformation(this.df, validTransformations.map(transformation => transformation.name), validTransformations);\r\n            await this.dispalySPLOM(this.df)\r\n            this.isLoading = false;\r\n            this.selectedClasses = []\r\n\r\n            if (validTransformations.length > 0) {\r\n                let transformations = []\r\n                validTransformations.forEach(transformation => {\r\n                    let transformationInfo = Object.keys(ScaleOptions).find(key => ScaleOptions[key].id == transformation.scaler);\r\n                    transformation.scalerLabel = transformationInfo\r\n                    this.settings.addTransformation(transformation)\r\n                    transformations.push(`feature: ${transformation['name']} ,scaler: ${transformation['scalerLabel']} `)\r\n                });\r\n\r\n                let message = { message: 'scaled fetures: <br> ' + transformations.join('_'), type: 'info' }\r\n                this.$buefy.toast.open('scaled fetures: ' + transformations)\r\n                this.settings.addMessage(message)\r\n            } else {\r\n                this.settings.resetTransformations();\r\n            }\r\n\r\n            this.$emit('coordinate-plot', true)\r\n        },\r\n        async initSPLOM() {\r\n            const danfo = await getDanfo()\r\n\r\n            this.df = new danfo.DataFrame(this.settings.rawData);\r\n            this.df = await this.df.sample(this.df.$data.length, { seed: this.settings.getSeed });\r\n            this.df.dropNa({ axis: 1, inplace: true })\r\n            let numericColumns = this.settings.items.filter(column => column.selected && column.type === 1).map(function (column) {\r\n                return { 'name': column.name, type: column.type }\r\n            });\r\n            let categorical_columns = this.settings.items.filter(column => column.selected && column.type !== 1).map(function (column) {\r\n                return { 'name': column.name, type: column.type }\r\n            })\r\n            let features = numericColumns.concat(categorical_columns);\r\n            this.features = features.map((feature, i) => {\r\n                return {\r\n                    id: i,\r\n                    name: feature.name,\r\n                    type: feature.type,\r\n                    scaler: 0\r\n                }\r\n            })\r\n            this.dispalySPLOM(this.df)\r\n\r\n        }\r\n    },\r\n    created: async function () {\r\n        await this.initSPLOM()\r\n    },\r\n    computed: {\r\n        column_width: {\r\n            get() {\r\n                return this.features.length === 0 ? 0 : 100 / this.features.length\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped></style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./scatterplot-matrix-component.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./scatterplot-matrix-component.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./scatterplot-matrix-component.vue?vue&type=template&id=863c2938&scoped=true\"\nimport script from \"./scatterplot-matrix-component.vue?vue&type=script&lang=js\"\nexport * from \"./scatterplot-matrix-component.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"863c2938\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"has-text-left content\"},[_c('h4',{staticClass:\"title is-medium is-5\",attrs:{\"id\":\"help\"}},[_vm._v(\"Classification metrics \")]),_c('p',[_vm._v(\" In a context of a binary classification, here are the main metrics that are important to track in order to assess the performance of the model. \")]),_vm._m(0),_c('h4',{staticClass:\"title is-medium is-5\"},[_vm._v(\"Regression metrics \")]),_c('ul',[_c('li',[_vm._v(\" Basic metricsGiven a regression model \"),_c('i',[_vm._v(\"f\")]),_vm._v(\", the following metrics are commonly used to assess the performance of the model: \"),_c('table',{staticClass:\"table is-bordered\"},[_vm._m(1),_c('tbody',[_c('tr',[_c('td',[_c('vue-mathjax',{attrs:{\"formula\":'$$ SS_{tot}= \\\\sum_{i=1}^{m} (y_i - \\\\hat{y}_i)^2$$'}})],1),_c('td',[_c('vue-mathjax',{attrs:{\"formula\":'$$ SS_{reg}= \\\\sum_{i=1}^{m} (f (x_i) - \\\\hat{y}_i)^2$$'}})],1),_c('td',[_c('vue-mathjax',{attrs:{\"formula\":'$$ SS_{res}= \\\\sum_{i=1}^{m} (y_i - f (x_i))^2$$'}})],1)])])])]),_c('li',[_vm._v(\" Coefficient of determination: The coefficient of determination, often noted \"),_c('i',[_vm._v(\"R\")]),_c('sup',[_vm._v(\"2\")]),_vm._v(\" , provides a measure of how well the observed outcomes are replicated by the model and is defined as follows: \"),_c('vue-mathjax',{attrs:{\"formula\":'$$ R^2 = 1 - \\\\frac{SS_{res}}{SS_{tot}}$$'}})],1),_c('li',[_vm._v(\" Main metrics: The following metrics are commonly used to assess the performance of regression models, by taking into account the number of variables n that they take into consideration: \"),_c('table',{staticClass:\"table is-bordered\"},[_vm._m(2),_c('tbody',[_c('tr',[_c('td',[_c('vue-mathjax',{attrs:{\"formula\":'$$ 2[n + 2 - \\\\log (L)]$$'}})],1),_c('td',[_c('vue-mathjax',{attrs:{\"formula\":'$$ \\\\log (m)(n + 2) - 2 \\\\log (L)$$'}})],1),_c('td',[_c('vue-mathjax',{attrs:{\"formula\":'$$ 1 - \\\\frac{(1-R^2)(m-1)}{m-n-1}$$'}})],1)])])])])]),_c('h4',{staticClass:\"title is-medium is-5\",attrs:{\"id\":\"1_help\"}},[_vm._v(\"Model Selection \")]),_c('h5',[_vm._v(\" When selecting a model, we distinguish 3 different parts of the data that we have as follows: \")]),_vm._m(3),_c('p',[_vm._v(\" Once the model has been chosen, it is trained on the entire dataset and tested on the unseen test set. These are represented in the figure below:\")]),_c('p',[_vm._v(\" Cross-validation, also noted CV, is a method that is used to select a model that does not rely too much on the initial training set. The different types are summed up in the table below: \")]),_vm._m(4),_vm._m(5),_c('p',[_vm._v(\" regularization: The regularization procedure aims at avoiding the model to overfit the data and thus deals with high variance issues. The following table sums up the different types of commonly used regularization techniques: \")]),_c('h4',{staticClass:\"title is-medium is-5\"},[_vm._v(\"Supervised Learning \")]),_vm._m(6),_c('h4',{staticClass:\"title is-medium is-5\",attrs:{\"id\":\"svm_help\"}},[_vm._v(\"Support Vector Machine\")]),_c('p',[_vm._v(\" The goal of support vector machines is to find the line that maximizes the minimum distance to the line. \")]),_vm._v(\" Optimal margin classifier: The optimal margin classifier (h) is such that: \"),_c('vue-mathjax',{attrs:{\"formula\":'$$ h(x) = sign(w^T x - b) $$'}}),_vm._v(\" where (w,b \\\\in R^2) is the solution of the following optimization problem: \"),_c('img',{attrs:{\"src\":\"/svm-en.png\",\"height\":\"150px\",\"width\":\"70%\"}}),_c('h4',{staticClass:\"title is-medium is-5\",attrs:{\"id\":\"naive_bayes_help\"}},[_vm._v(\"Naive Bayes\")]),_c('ul',[_c('li',[_vm._v(\" Assumption: The Naive Bayes model supposes that the features of each data point are all independent: \"),_c('vue-mathjax',{attrs:{\"formula\":'$$ P(x | y) = P(x_1,x_2,...|y) = P(x_1 |y )  P(x_2 |y ) $$'}})],1)]),_c('h4',{staticClass:\"title is-medium\",attrs:{\"id\":\"linear_regression_help\"}},[_vm._v(\"Linear Regression\")]),_c('p',[_vm._v(\" Linear regression is a statistical method used to predict a continuous numeric value based on one or more input features. It assumes a linear relationship between the inputs (independent variables) and the output (dependent variable). The model fits a straight line through the data by minimizing the difference between predicted and actual values, often using a method called least squares. The equation of a linear regression model looks like: \"),_c('vue-mathjax',{attrs:{\"formula\":'$$ y = \\\\beta_0 x_0+  \\\\beta_1 x_1 + \\\\beta_2 x_2+ ...+\\\\beta_n x_n+ intercept $$'}}),_vm._v(\" Here, y is the predicted value,(x_i) are the input features, and(_i) are the learned coefficients. Linear regression is commonly used in scenarios like predicting house prices, exam scores, or sales revenue. It is evaluated using metrics such as Mean Squared Error (MSE) and R score, and assumes things like normally distributed errors and consistent variance across predictions. \")],1),_c('h4',{staticClass:\"title is-medium\",attrs:{\"id\":\"logistic_regression_help\"}},[_vm._v(\"Logistic Regression\")]),_c('p',[_vm._v(\" Logistic Regression is used when the output is categorical, especially for binary classification (e.g., yes/no, 0/1). Instead of predicting a continuous value, it predicts the probability that an input belongs to a certain class. To do this, it uses the sigmoid function, which squashes any real number output into a range between 0 and 1: \"),_c('vue-mathjax',{attrs:{\"formula\":'$$ y= \\\\frac{1}{1 + e^{-z}} $$'}}),_vm._v(\" where z is the linear combination of inputs (same as in linear regression). If the resulting probability is greater than 0.5, the output is classified as 1; otherwise, it's classified as 0. If the probability is above a certain threshold (usually 0.5), the model classifies the input as one class; otherwise, it classifies it as the other. The output of the model represents the log-odds of the outcome, and logistic regression is evaluated using classification metrics like accuracy, precision, recall, F1 score, and ROC-AUC. Though it shares structural similarity with linear regression, its purpose and behavior are quite different. \")],1),_c('h4',{staticClass:\"title is-medium\",attrs:{\"id\":\"polynomial_regression_help\"}},[_vm._v(\"Polynomial Regression\")]),_c('p',[_vm._v(\" Polynomial regression is an extension of linear regression that models the relationship between the input variable  x and the output variable  y as an nth-degree polynomial. While linear regression fits a straight line, polynomial regression fits a curved line, which allows it to capture more complex, non-linear patterns in the data. The general form of the equation is: \"),_c('vue-mathjax',{attrs:{\"formula\":'$$ y = \\\\beta_0 +  \\\\beta_1 x + \\\\beta_2 x^2+ ...+\\\\beta_n x^n $$'}}),_vm._v(\" Here, the model includes powers of the input variable (like ^2, ^3, etc.) as additional features. For example, a second-degree polynomial (quadratic regression) can model U-shaped or inverted U-shaped curves. Polynomial regression is still considered a linear model in terms of the coefficients, but it allows for non-linear relationships between x and y. It can be very effective for modeling curved trends, but if the degree of the polynomial is too high, it can lead to overfitting, where the model fits the training data too closely and performs poorly on new data. \")],1),_c('h4',{staticClass:\"title is-medium is-5\",attrs:{\"id\":\"cart_help\"}},[_vm._v(\"Tree-based and ensemble methods\")]),_c('p',[_vm._v(\" These methods can be used for both regression and classification problems. \")]),_vm._m(7),_c('h4',{staticClass:\"title is-medium\",attrs:{\"id\":\"knn_help\"}},[_vm._v(\"(k)-nearest neighbors\")]),_c('p',[_vm._v(\" (k)-nearest neighbors: The (k)-nearest neighbors algorithm, commonly known as (k)-NN, is a non-parametric approach where the response of a data point is determined by the nature of its (k) neighbors from the training set. It can be used in both classification and regression settings. \")]),_c('img',{staticClass:\"image\",attrs:{\"src\":\"/knn.png\"}}),_c('h4',{staticClass:\"title is-medium\",attrs:{\"id\":\"discriminant_analysis_help\"}},[_vm._v(\" Gaussian Discriminant Anallysis \")]),_c('p',[_vm._v(\" Gaussian Discriminant Analysis SettingThe Gaussian Discriminant Analysis assumes that (y) and (x  y = 0) and (x|y = 1) are such that: \"),_c('vue-mathjax',{attrs:{\"formula\":'$$ y \\\\sim Bernoulli(\\\\phi)   ,   x|y = 0 \\\\sim \\\\mathcal{N(\\\\mu_0,\\\\Sigma)}$$'}})],1),_c('h4',[_vm._v(\"Partial Dependence Plot\")]),_c('p',[_vm._v(\" The partial dependence plot (short PDP or PD plot) shows the marginal effect one or two features have on the predicted outcome of a machine learning model. A partial dependence plot can show whether the relationship between the target and a feature is linear, monotonic or more complex. For example, when applied to a linear regression model, partial dependence plots always show a linear relationship. The partial dependence function for regression is defined as: \"),_c('vue-mathjax',{attrs:{\"formula\":'$$ f_s(x_s) = \\\\int{f(x_s,x_c)dP(x_c)}$$'}}),_vm._v(\" The x\"),_c('sub',[_vm._v(\"s\")]),_vm._v(\" are the features for which the partial dependence function should be plotted and X\"),_c('sub',[_vm._v(\"c\")]),_vm._v(\" are the other features used in the machine learning model ^ f , which are here treated as random variables. Usually, there are only one or two features in the set S. The feature(s) in S are those for which we want to know the effect on the prediction. The feature vectors X\"),_c('sub',[_vm._v(\"s\")]),_vm._v(\" and X\"),_c('sub',[_vm._v(\"c\")]),_vm._v(\" combined make up the total feature space x. Partial dependence works by marginalizing the machine learning model output over the distribution of the features in set C, so that the function shows the relationship between the features in set S we are interested in and the predicted outcome. By marginalizing over the other features, we get a function that depends only on features in S, interactions with other features included. The partial function ^ f S is estimated by calculating averages in the training data, also known as Monte Carlo method: \"),_c('vue-mathjax',{attrs:{\"formula\":'$$ f_s(x_s) = \\\\frac{1}{n} \\\\sum_{n = 1}^{n} f(x_s,x_c)$$'}}),_vm._v(\" The partial function tells us for given value(s) of features S what the average marginal effect on the prediction is. In this formula, x ( i ) C are actual feature values from the dataset for the features in which we are not interested, and n is the number of instances in the dataset. An assumption of the PDP is that the features in C are not correlated with the features in S. If this assumption is violated, the averages calculated for the partial dependence plot will include data points that are very unlikely or even impossible (see disadvantages). For classification where the machine learning model outputs probabilities, the partial dependence plot displays the probability for a certain class given different values for feature(s) in S. An easy way to deal with multiple classes is to draw one line or plot per class. The partial dependence plot is a global method: The method considers all instances and gives a statement about the global relationship of a feature with the predicted outcome. \")],1),_c('h4',[_vm._v(\"Categorical features\")]),_c('p',[_vm._v(\" So far, we have only considered numerical features. For categorical features, the partial dependence is very easy to calculate. For each of the categories, we get a PDP estimate by forcing all data instances to have the same category. For example, if we look at the bike rental dataset and are interested in the partial dependence plot for the season, we get four numbers, one for each season. To compute the value for summer, we replace the season of all data instances with summer and average the predictions. \")]),_c('h4',[_vm._v(\"Permutation Feature Importance\")]),_c('p',[_vm._v(\" Permutation feature importance is a powerful and intuitive method used to evaluate the impact of each feature on a machine learning models performance. After a model has been trained, this technique works by randomly shuffling the values of one feature at a time in the validation or test dataset. By doing so, the relationship between that feature and the target variable is disrupted, while all other features remain unchanged. The model is then used to make predictions on this altered dataset, and the drop in performance (measured by accuracy, F1 score, RMSE, or any other metric) is recorded. A large drop indicates that the feature was important to the models predictions, while a small or no change suggests that the feature had little influence. This method is model-agnostic, meaning it can be used with any type of machine learning algorithm, from decision trees to neural networks. However, one limitation is that it can be misleading when features are highly correlated, as the importance may be shared among multiple features, making individual effects harder to isolate. \")])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('ul',[_c('li',[_vm._v(\" Confusion matrix: The confusion matrix is used to have a more complete picture when assessing the performance of a model. It is defined as follows: \")]),_c('li',[_vm._v(\" Main metrics: The following metrics are commonly used to assess the performance of classification models: \")]),_c('li',[_vm._v(\" The receiver operating curve, also noted ROC, is the plot of TPR versus FPR by varying the threshold. These metrics are are summed up in the table below: \")]),_c('li',[_vm._v(\" The area under the receiving operating curve, also noted AUC or AUROC, is the area below the ROC as shown in the following figure: \")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('thead',[_c('tr',[_c('th',{staticClass:\"is-success\"},[_vm._v(\"Total sum of squares\")]),_c('th',{staticClass:\"is-success\"},[_vm._v(\"Explained sum of squares \")]),_c('th',{staticClass:\"is-success\"},[_vm._v(\"Residual sum of squares \")])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('thead',[_c('tr',[_c('th',{staticClass:\"is-success\"},[_vm._v(\"AIC\")]),_c('th',{staticClass:\"is-success\"},[_vm._v(\"BIC\")]),_c('th',{staticClass:\"is-success\"},[_vm._v(\"Adjusted R2 \")])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('table',{staticClass:\"table is-bordered\"},[_c('thead',[_c('tr',[_c('th',{staticClass:\"is-success\"},[_vm._v(\"Training set\")]),_c('th',{staticClass:\"is-success\"},[_vm._v(\"Validation set \")]),_c('th',{staticClass:\"is-success\"},[_vm._v(\"Testing set \")])])]),_c('tbody',[_c('tr',[_c('td',[_c('ul',[_c('li',[_vm._v(\" Model is trained\")]),_c('li',[_vm._v(\" Usually 80% of the dataset\")])])]),_c('td',[_c('ul',[_c('li',[_vm._v(\"Model is assessed\")]),_c('li',[_vm._v(\"Usually 20% of the dataset\")]),_c('li',[_vm._v(\"Also called hold-out or development set\")])])]),_c('td',[_c('ul',[_c('li',[_vm._v(\" Model gives predictions\")]),_c('li',[_vm._v(\"Unseen data\")])])])])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('table',{staticClass:\"table is-bordered\"},[_c('thead',[_c('tr',[_c('th',{staticClass:\"is-success\"},[_vm._v(\"k-fold\")]),_c('th',{staticClass:\"is-success\"},[_vm._v(\"Leave-p-out\")])])]),_c('tbody',[_c('tr',[_c('td',[_c('ul',[_c('li',[_vm._v(\" Model is trained\")]),_c('li',[_vm._v(\" Usually 80% of the dataset\")])])]),_c('td',[_c('ul',[_c('li',[_vm._v(\"Model is assessed\")]),_c('li',[_vm._v(\"Usually 20% of the dataset\")]),_c('li',[_vm._v(\"Also called hold-out or development set\")])])])])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\" The most commonly used method is called k-fold cross-validation and splits the training data into k folds to validate the model on one fold while training the model on the k1 other folds, all of this k times. The error is then averaged over the k folds and is named cross-validation error. \"),_c('img',{staticClass:\"image\",attrs:{\"src\":\"/cross-validation-en.png\",\"alt\":\"\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('ul',[_c('li',[_vm._v(\"Type of prediction: The different types of predictive models are summed up in the table below: \"),_c('table',{staticClass:\"table is-bordered\"},[_c('thead',[_c('tr',[_c('th',{staticClass:\"is-success\"}),_c('th',{staticClass:\"is-success\"},[_vm._v(\"Regression\")]),_c('th',{staticClass:\"is-success\"},[_vm._v(\"Classification\")])])]),_c('tbody',[_c('tr',[_c('td',[_vm._v(\"Outcome\")]),_c('td',[_vm._v(\"Continuous\")]),_c('td',[_vm._v(\"Class\")])]),_c('tr',[_c('td',[_vm._v(\"Examples\")]),_c('td',[_vm._v(\"Linear regression \")]),_c('td',[_vm._v(\"Logistic regression, SVM, Naive Bayes \")])])])])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('ul',[_c('li',[_vm._v(\" Classification and Regression Trees (CART), commonly known as decision trees, can be represented as binary trees. They have the advantage to be very interpretable. \")]),_c('li',[_vm._v(\" Random forestIt is a tree-based technique that uses a high number of decision trees built out of randomly selected sets of features. Contrary to the simple decision tree, it is highly uninterpretable but its generally good performance makes it a popular algorithm. \")]),_c('li',[_vm._v(\" BoostingThe idea of boosting methods is to combine several weak learners to form a stronger one. The main ones are summed up in the table below: \")]),_c('li',[_vm._v(\" Adaptive boosting Gradient boosting  High weights are put on errors to improve at the next boosting step  Known as Adaboost  Weak learners are trained on residuals  Examples include XGBoost \")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n\r\n    <section class=\"has-text-left content\">\r\n        <h4 class=\"title is-medium is-5\" id=\"help\">Classification metrics\r\n        </h4>\r\n        <p>\r\n            In a context of a binary classification, here are the main metrics that are important to track in order to\r\n            assess the performance of the model.\r\n        </p>\r\n        <ul>\r\n            <li>\r\n                Confusion matrix: The confusion matrix is used to have a more complete picture when assessing the\r\n                performance of a model. It is defined as follows:\r\n            </li>\r\n            <li>\r\n                Main metrics: The following metrics are commonly used to assess the performance of classification\r\n                models:\r\n            </li>\r\n            <li>\r\n                The receiver operating curve, also noted ROC, is the plot of TPR versus FPR by varying the threshold.\r\n                These metrics are are summed up in the table below:\r\n            </li>\r\n            <li>\r\n                The area under the receiving operating curve, also noted AUC or AUROC, is the area below the ROC as\r\n                shown in the following figure:\r\n            </li>\r\n        </ul>\r\n        <h4 class=\"title is-medium is-5\">Regression metrics\r\n        </h4>\r\n        <ul>\r\n            <li>\r\n                Basic metricsGiven a regression model <i>f</i>, the following metrics are commonly used to assess the\r\n                performance of the model:\r\n                <table class=\"table is-bordered\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th class=\"is-success\">Total sum of squares</th>\r\n                            <th class=\"is-success\">Explained sum of squares </th>\r\n                            <th class=\"is-success\">Residual sum of squares </th>\r\n\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr>\r\n                            <td>\r\n                                <vue-mathjax\r\n                                    :formula=\"'$$ SS_{tot}= \\\\sum_{i=1}^{m} (y_i - \\\\hat{y}_i)^2$$'\"></vue-mathjax>\r\n                            </td>\r\n                            <td> <vue-mathjax\r\n                                    :formula=\"'$$ SS_{reg}= \\\\sum_{i=1}^{m} (f (x_i) - \\\\hat{y}_i)^2$$'\"></vue-mathjax>\r\n                            </td>\r\n                            <td> <vue-mathjax\r\n                                    :formula=\"'$$ SS_{res}= \\\\sum_{i=1}^{m} (y_i - f (x_i))^2$$'\"></vue-mathjax></td>\r\n\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </li>\r\n            <li>\r\n                Coefficient of determination: The coefficient of determination, often noted\r\n                <i>R</i><sup>2</sup>\r\n                , provides a measure of how well the observed outcomes are replicated by the model and is defined as\r\n                follows:\r\n                <vue-mathjax :formula=\"'$$ R^2 = 1 - \\\\frac{SS_{res}}{SS_{tot}}$$'\"></vue-mathjax>\r\n            </li>\r\n            <li>\r\n                Main metrics: The following metrics are commonly used to assess the performance of regression models, by\r\n                taking into account the number of variables\r\n                n that they take into consideration:\r\n                <table class=\"table is-bordered\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th class=\"is-success\">AIC</th>\r\n                            <th class=\"is-success\">BIC</th>\r\n                            <th class=\"is-success\">Adjusted R2 </th>\r\n\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr>\r\n                            <td>\r\n                                <vue-mathjax :formula=\"'$$ 2[n + 2 - \\\\log (L)]$$'\"></vue-mathjax>\r\n                            </td>\r\n                            <td> <vue-mathjax :formula=\"'$$ \\\\log (m)(n + 2) - 2 \\\\log (L)$$'\"></vue-mathjax>\r\n                            </td>\r\n                            <td> <vue-mathjax :formula=\"'$$ 1 - \\\\frac{(1-R^2)(m-1)}{m-n-1}$$'\"></vue-mathjax></td>\r\n\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </li>\r\n        </ul>\r\n        <h4 class=\"title is-medium is-5\" id=\"1_help\">Model Selection\r\n        </h4>\r\n        <h5>\r\n            When selecting a model, we distinguish 3 different parts of the data that we have as follows:\r\n        </h5>\r\n        <table class=\"table is-bordered\">\r\n            <thead>\r\n                <tr>\r\n                    <th class=\"is-success\">Training set</th>\r\n                    <th class=\"is-success\">Validation set </th>\r\n                    <th class=\"is-success\">Testing set\r\n                    </th>\r\n\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr>\r\n                    <td>\r\n                        <ul>\r\n                            <li> Model is trained</li>\r\n                            <li> Usually 80% of the dataset</li>\r\n                        </ul>\r\n                    </td>\r\n                    <td>\r\n                        <ul>\r\n                            <li>Model is assessed</li>\r\n                            <li>Usually 20% of the dataset</li>\r\n                            <li>Also called hold-out or development set</li>\r\n                        </ul>\r\n                    </td>\r\n                    <td>\r\n                        <ul>\r\n                            <li> Model gives predictions</li>\r\n                            <li>Unseen data</li>\r\n                        </ul>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n        <p> Once the model has been chosen, it is trained on the entire dataset and tested on the unseen test set.\r\n            These\r\n            are represented in the figure below:</p>\r\n        <p>\r\n            Cross-validation, also noted CV, is a method that is used to select a model that does not rely too much on\r\n            the initial training set. The different types are summed up in the table below:\r\n        </p>\r\n        <table class=\"table is-bordered\">\r\n            <thead>\r\n                <tr>\r\n                    <th class=\"is-success\">k-fold</th>\r\n                    <th class=\"is-success\">Leave-p-out</th>\r\n\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr>\r\n                    <td>\r\n                        <ul>\r\n                            <li> Model is trained</li>\r\n                            <li> Usually 80% of the dataset</li>\r\n                        </ul>\r\n                    </td>\r\n                    <td>\r\n                        <ul>\r\n                            <li>Model is assessed</li>\r\n                            <li>Usually 20% of the dataset</li>\r\n                            <li>Also called hold-out or development set</li>\r\n                        </ul>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n        <p>\r\n            The most commonly used method is called\r\n            k-fold cross-validation and splits the training data into\r\n            k folds to validate the model on one fold while training the model on the k1 other folds, all of this\r\n            k times. The error is then averaged over the k folds and is named cross-validation error.\r\n            <img class=\"image\" src=\"/cross-validation-en.png\" alt=\"\">\r\n        </p>\r\n        <p>\r\n            regularization: The regularization procedure aims at avoiding the model to overfit the data and thus deals\r\n            with high\r\n            variance issues. The following table sums up the different types of commonly used regularization techniques:\r\n        </p>\r\n        <h4 class=\"title is-medium is-5\">Supervised Learning\r\n        </h4>\r\n        <ul>\r\n            <li>Type of prediction: The different types of predictive models are summed up in the table below:\r\n\r\n                <table class=\"table is-bordered\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th class=\"is-success\"></th>\r\n                            <th class=\"is-success\">Regression</th>\r\n                            <th class=\"is-success\">Classification</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr>\r\n                            <td>Outcome</td>\r\n                            <td>Continuous</td>\r\n                            <td>Class</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>Examples</td>\r\n                            <td>Linear regression </td>\r\n                            <td>Logistic regression, SVM, Naive Bayes\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </li>\r\n        </ul>\r\n        <h4 class=\"title is-medium is-5\" id=\"svm_help\">Support Vector Machine</h4>\r\n        <p>\r\n            The goal of support vector machines is to find the line that maximizes the minimum distance to the line.\r\n        </p>\r\n        Optimal margin classifier: The optimal margin classifier (h) is such that:\r\n        <vue-mathjax :formula=\"'$$ h(x) = sign(w^T x - b) $$'\"></vue-mathjax>\r\n        where (w,b \\in R^2) is the solution of the following optimization problem:\r\n        <img src=\"/svm-en.png\" height=\"150px\" width=\"70%\">\r\n\r\n        <h4 class=\"title is-medium is-5\" id=\"naive_bayes_help\">Naive Bayes</h4>\r\n        <ul>\r\n            <li>\r\n                Assumption: The Naive Bayes model supposes that the features of each data point are all independent:\r\n                <vue-mathjax :formula=\"'$$ P(x | y) = P(x_1,x_2,...|y) = P(x_1 |y )  P(x_2 |y ) $$'\"></vue-mathjax>\r\n\r\n            </li>\r\n        </ul>\r\n        <h4 class=\"title is-medium\" id=\"linear_regression_help\">Linear Regression</h4>\r\n        <p>\r\n            Linear regression is a statistical method used to predict a continuous numeric value based on one or more\r\n            input features. It assumes a linear relationship between the inputs (independent variables) and the output\r\n            (dependent variable). The model fits a straight line through the data by minimizing the difference between\r\n            predicted and actual values, often using a method called least squares. The equation of a linear regression\r\n            model looks like:\r\n            <vue-mathjax\r\n                :formula=\"'$$ y = \\\\beta_0 x_0+  \\\\beta_1 x_1 + \\\\beta_2 x_2+ ...+\\\\beta_n x_n+ intercept $$'\"></vue-mathjax>\r\n\r\n            Here, y is the predicted value,(x_i)\r\n            are the input features, and(_i)\r\n            are the learned coefficients. Linear regression is commonly used in scenarios like predicting house prices,\r\n            exam scores, or sales revenue. It is evaluated using metrics such as Mean Squared Error (MSE) and R score,\r\n            and assumes things like normally distributed errors and consistent variance across predictions.\r\n        </p>\r\n        <h4 class=\"title is-medium\" id=\"logistic_regression_help\">Logistic Regression</h4>\r\n        <p>\r\n            Logistic Regression is used when the output is categorical, especially for binary classification (e.g.,\r\n            yes/no, 0/1). Instead of predicting a continuous value, it predicts the probability that an input belongs to\r\n            a certain class. To do this, it uses the sigmoid function, which squashes any real number output into a\r\n            range between 0 and 1:\r\n            <vue-mathjax :formula=\"'$$ y= \\\\frac{1}{1 + e^{-z}} $$'\"></vue-mathjax>\r\n            where\r\n            z is the linear combination of inputs (same as in linear regression). If the resulting probability is\r\n            greater than 0.5, the output is classified as 1; otherwise, it's classified as 0.\r\n            If the probability is above a certain threshold (usually 0.5), the model classifies the input as one class;\r\n            otherwise, it classifies it as the other. The output of the model represents the log-odds of the outcome,\r\n            and logistic regression is evaluated using classification metrics like accuracy, precision, recall, F1\r\n            score, and ROC-AUC. Though it shares structural similarity with linear regression, its purpose and behavior\r\n            are quite different.\r\n        </p>\r\n        <h4 class=\"title is-medium\" id=\"polynomial_regression_help\">Polynomial Regression</h4>\r\n        <p>\r\n            Polynomial regression is an extension of linear regression that models the relationship between the input\r\n            variable\r\n            \r\n            x and the output variable\r\n            \r\n            y as an nth-degree polynomial. While linear regression fits a straight line, polynomial regression fits a\r\n            curved line, which allows it to capture more complex, non-linear patterns in the data. The general form of\r\n            the equation is:\r\n            <vue-mathjax :formula=\"'$$ y = \\\\beta_0 +  \\\\beta_1 x + \\\\beta_2 x^2+ ...+\\\\beta_n x^n $$'\"></vue-mathjax>\r\n            Here, the model includes powers of the input variable (like\r\n            ^2, ^3, etc.) as additional features. For example, a second-degree polynomial (quadratic regression) can\r\n            model\r\n            U-shaped or inverted U-shaped curves. Polynomial regression is still considered a linear model in terms of\r\n            the coefficients, but it allows for non-linear relationships between x and y. It can be very effective for\r\n            modeling curved trends, but if the degree of the polynomial is too high, it\r\n            can lead to overfitting, where the model fits the training data too closely and performs poorly on new data.\r\n        </p>\r\n\r\n        <h4 class=\"title is-medium is-5\" id=\"cart_help\">Tree-based and ensemble methods</h4>\r\n        <p> These methods can be used for both regression and classification problems.\r\n        </p>\r\n        <ul>\r\n            <li>\r\n                Classification and Regression Trees (CART), commonly known as decision trees, can be represented as\r\n                binary\r\n                trees. They have the advantage to be very interpretable.\r\n            </li>\r\n            <li>\r\n                Random forestIt is a tree-based technique that uses a high number of decision trees built out of\r\n                randomly\r\n                selected\r\n                sets of features. Contrary to the simple decision tree, it is highly uninterpretable but its generally\r\n                good\r\n                performance makes it a popular algorithm.\r\n            </li>\r\n            <li>\r\n\r\n                BoostingThe idea of boosting methods is to combine several weak learners to form a stronger one. The\r\n                main\r\n                ones are\r\n                summed up in the table below:\r\n            </li>\r\n            <li> Adaptive boosting Gradient boosting\r\n                 High weights are put on errors to improve at the next boosting step\r\n                 Known as Adaboost \r\n                Weak learners are trained on residuals\r\n                 Examples include XGBoost\r\n            </li>\r\n        </ul>\r\n        <h4 class=\"title is-medium\" id=\"knn_help\">(k)-nearest neighbors</h4>\r\n        <p>\r\n            (k)-nearest neighbors: The\r\n            (k)-nearest neighbors algorithm, commonly known as\r\n            (k)-NN, is a non-parametric approach where the response of a data point is determined by the nature of its\r\n            (k) neighbors from the training set. It can be used in both classification and regression settings.\r\n        </p>\r\n        <img src=\"/knn.png\" class=\"image\">\r\n\r\n\r\n        <h4 class=\"title is-medium\" id=\"discriminant_analysis_help\"> Gaussian Discriminant Anallysis </h4>\r\n        <p>\r\n            Gaussian Discriminant Analysis\r\n            SettingThe Gaussian Discriminant Analysis assumes that\r\n            (y) and (x  y = 0) and (x|y = 1) are such that:\r\n            <vue-mathjax\r\n                :formula=\"'$$ y \\\\sim Bernoulli(\\\\phi)   ,   x|y = 0 \\\\sim \\\\mathcal{N(\\\\mu_0,\\\\Sigma)}$$'\"></vue-mathjax>\r\n\r\n        </p>\r\n        <h4>Partial Dependence Plot</h4>\r\n        <p>\r\n            The partial dependence plot (short PDP or PD plot) shows the marginal effect one or two features have on the\r\n            predicted outcome of a machine learning model. A partial dependence plot can show\r\n            whether the relationship between the target and a feature is linear, monotonic or more complex. For example,\r\n            when applied to a linear regression model, partial dependence plots always show a linear relationship.\r\n\r\n            The partial dependence function for regression is defined as:\r\n            <vue-mathjax :formula=\"'$$ f_s(x_s) = \\\\int{f(x_s,x_c)dP(x_c)}$$'\"></vue-mathjax>\r\n            The x<sub>s</sub>\r\n            are the features for which the partial dependence function should be plotted and\r\n            X<sub>c</sub>\r\n            are the other features used in the machine learning model\r\n            ^\r\n            f\r\n            , which are here treated as random variables. Usually, there are only one or two features in the set S. The\r\n            feature(s) in S are those for which we want to know the effect on the prediction. The feature vectors\r\n            X<sub>s</sub>\r\n            and\r\n            X<sub>c</sub>\r\n            combined make up the total feature space x. Partial dependence works by marginalizing the machine learning\r\n            model output over the distribution of the features in set C, so that the function shows the relationship\r\n            between the features in set S we are interested in and the predicted outcome. By marginalizing over the\r\n            other features, we get a function that depends only on features in S, interactions with other features\r\n            included.\r\n\r\n            The partial function\r\n            ^\r\n            f\r\n            S\r\n            is estimated by calculating averages in the training data, also known as Monte Carlo method:\r\n\r\n            <vue-mathjax :formula=\"'$$ f_s(x_s) = \\\\frac{1}{n} \\\\sum_{n = 1}^{n} f(x_s,x_c)$$'\"></vue-mathjax>\r\n\r\n            The partial function tells us for given value(s) of features S what the average marginal effect on the\r\n            prediction is. In this formula,\r\n            x\r\n            (\r\n            i\r\n            )\r\n            C\r\n            are actual feature values from the dataset for the features in which we are not interested, and n is the\r\n            number of instances in the dataset. An assumption of the PDP is that the features in C are not correlated\r\n            with the features in S. If this assumption is violated, the averages calculated for the partial dependence\r\n            plot will include data points that are very unlikely or even impossible (see disadvantages).\r\n\r\n            For classification where the machine learning model outputs probabilities, the partial dependence plot\r\n            displays the probability for a certain class given different values for feature(s) in S. An easy way to deal\r\n            with multiple classes is to draw one line or plot per class.\r\n\r\n            The partial dependence plot is a global method: The method considers all instances and gives a statement\r\n            about the global relationship of a feature with the predicted outcome.\r\n        </p>\r\n        <h4>Categorical features</h4>\r\n        <p>\r\n            So far, we have only considered numerical features. For categorical features, the partial dependence is very\r\n            easy to calculate. For each of the categories, we get a PDP estimate by forcing all data instances to have\r\n            the same category. For example, if we look at the bike rental dataset and are interested in the partial\r\n            dependence plot for the season, we get four numbers, one for each season. To compute the value for summer,\r\n            we replace the season of all data instances with summer and average the predictions.\r\n        </p>\r\n        <h4>Permutation Feature Importance</h4>\r\n        <p>\r\n            Permutation feature importance is a powerful and intuitive method used to evaluate the impact of each\r\n            feature on a machine learning models performance. After a model has been trained, this technique works by\r\n            randomly shuffling the values of one feature at a time in the validation or test dataset. By doing so, the\r\n            relationship between that feature and the target variable is disrupted, while all other features remain\r\n            unchanged. The model is then used to make predictions on this altered dataset, and the drop in performance\r\n            (measured by accuracy, F1 score, RMSE, or any other metric) is recorded. A large drop indicates that the\r\n            feature was important to the models predictions, while a small or no change suggests that the feature had\r\n            little influence. This method is model-agnostic, meaning it can be used with any type of machine learning\r\n            algorithm, from decision trees to neural networks. However, one limitation is that it can be misleading when\r\n            features are highly correlated, as the importance may be shared among multiple features, making individual\r\n            effects harder to isolate.\r\n        </p>\r\n    </section>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'MethodsTabComponent',\r\n    data() {\r\n        return {\r\n            formula: '$$x = {-b \\\\pm \\\\sqrt{b^2-4ac} \\\\over 2a}.$$',\r\n            sserror: '$$ SS_{tot}= \\\\sum_{i=1}^{m} (y_i - \\\\hat{y}_i)^2$$'\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style>\r\n.demo-container {\r\n    text-align: center;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./methods-tab-component.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./methods-tab-component.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./methods-tab-component.vue?vue&type=template&id=57b22cf8\"\nimport script from \"./methods-tab-component.vue?vue&type=script&lang=js\"\nexport * from \"./methods-tab-component.vue?vue&type=script&lang=js\"\nimport style0 from \"./methods-tab-component.vue?vue&type=style&index=0&id=57b22cf8&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","const pyodideWorker = new Worker(new URL('./sns-py.js', import.meta.url))\r\n\r\nconst callbacks = {};\r\n\r\npyodideWorker.onmessage = (event) => {\r\n    const { id, ...data } = event.data;\r\n    const onSuccess = callbacks[id];\r\n    delete callbacks[id];\r\n    onSuccess(data);\r\n};\r\n\r\nconst asyncRun = (() => {\r\n    let id = 0; // identify a Promise\r\n    return (script, context) => {\r\n        // the id could be generated more carefully\r\n        id = (id + 1) % Number.MAX_SAFE_INTEGER;\r\n        return new Promise((onSuccess) => {\r\n            callbacks[id] = onSuccess;\r\n            pyodideWorker.postMessage({\r\n                ...context,\r\n                python: script,\r\n                id,\r\n            });\r\n        });\r\n    };\r\n})();\r\n\r\nexport { asyncRun };","import { asyncRun } from \"@/helpers/sns-worker\";\r\n\r\n\r\nexport default class Clustermap {\r\n    constructor() {\r\n        this.model = null;\r\n\r\n    }\r\n    async train(x_train, columns, metric, method) {\r\n        this.context = {\r\n            X_train: x_train,\r\n            columns: columns,\r\n            metric: metric,\r\n            method: method,\r\n        };\r\n        const script = `\r\n        import matplotlib\r\n        matplotlib.use(\"AGG\")\r\n        import matplotlib.pyplot as plt\r\n        from js import X_train,columns,method,metric\r\n        import seaborn as sns\r\n        import pandas as pd\r\n\r\n        sns.set(font_scale=1.5)\r\n        df = pd.DataFrame(X_train,columns = columns)\r\n        plt.figure(figsize=(12, 8))\r\n        plot = sns.clustermap(df.corr(),cmap=\"YlGnBu_r\",annot = True, fmt=\".2f\",method=method,metric=metric)\r\n        reordered_index = plot.dendrogram_row.reordered_ind\r\n        reordered_columns = plot.dendrogram_col.reordered_ind\r\n        clustered_corr = df.corr().iloc[reordered_index, :].iloc[:, reordered_columns]\r\n\r\n        Z = plot.dendrogram_col.linkage  \r\n        Z,clustered_corr.values,clustered_corr.columns.tolist()\r\n        `;\r\n        try {\r\n            const { results, error } = await asyncRun(script, this.context);\r\n            if (results) {\r\n                return results;\r\n            } else if (error) {\r\n                console.log(\"pyodideWorker error: \", error);\r\n            }\r\n        } catch (e) {\r\n            throw Error(`Error in pyodideWorker at ${e.filename}, Line: ${e.lineno}, ${e.message}`,)\r\n\r\n        }\r\n\r\n    }\r\n\r\n}","<template>\r\n    <div class=\"column is-10\">\r\n        <section>\r\n            <b-tabs v-model=\"settings.activeTab\" :position=\"'is-centered'\" :animated=\"false\" type=\"success\"\r\n                @input=\"resize()\">\r\n                <b-tab-item label=\"Data Analysis\" icon=\"search\" icon-pack=\"fas\">\r\n                    <section v-if=\"this.settings.datasetShape?.count > 0\">\r\n                        <div class=\"message is-info\" v-if=\"isActive\" :closable=\"false\">\r\n                            <div class=\"message-header p-2\">Data summary</div>\r\n                            <div class=\"message-body\">\r\n                                <div class=\"columns is-multiline\">\r\n                                    <div class=\"column is-12 has-text-left\">\r\n                                        <p class=\"title is-6 m-0 mb-1\"> Data Shape: ({{\r\n                                            this.settings.datasetShape.count }},{{\r\n                                                this.settings.datasetShape.columns\r\n                                            }})</p>\r\n                                    </div>\r\n                                    <div class=\"column is-6\">\r\n                                        <h5 class=\"title is-6 has-text-left m-0 mb-1\">Numerical Features:\r\n                                        </h5>\r\n                                        <div class=\"table-container\">\r\n\r\n                                            <table class=\"table is-size-7\">\r\n                                                <thead>\r\n                                                    <tr>\r\n                                                        <th class=\"is-success\"></th>\r\n                                                        <th class=\"is-success\">Name</th>\r\n                                                        <th class=\"is-success\">Min</th>\r\n                                                        <th class=\"is-success\">Max</th>\r\n                                                        <th class=\"is-success\">Mean</th>\r\n                                                        <th class=\"is-success\">Median</th>\r\n                                                        <th class=\"is-success\">st.d</th>\r\n                                                        <th class=\"is-success\">#NAs</th>\r\n                                                        <th class=\"is-success\">Type</th>\r\n                                                    </tr>\r\n                                                </thead>\r\n                                                <tbody>\r\n                                                    <tr v-for=\"feature in continuousFeaturesStats\" :key=\"feature.name\">\r\n                                                        <td> <b-checkbox v-model=\"feature.selected\"></b-checkbox>\r\n                                                        </td>\r\n                                                        <td>{{ feature.name }}</td>\r\n                                                        <td>{{ feature.min }}</td>\r\n                                                        <td>{{ feature.max }}</td>\r\n                                                        <td>{{ feature.median }}</td>\r\n                                                        <td>{{ feature.mean }}</td>\r\n                                                        <td>{{ feature.std }}</td>\r\n                                                        <td>{{ feature.missingValuesCount }}</td>\r\n                                                        <td> <b-select :expanded=\"true\" v-model=\"feature.type\"\r\n                                                                size=\"is-small\">\r\n                                                                <option v-for=\"option in featureTypeOptions\"\r\n                                                                    :value=\"option.id\" :key=\"option.id\">\r\n                                                                    {{ option.name }}\r\n                                                                </option>\r\n                                                            </b-select></td>\r\n                                                    </tr>\r\n                                                </tbody>\r\n                                            </table>\r\n                                        </div>\r\n                                        <button class=\"button is-small is-info\" @click=\"applyChanges()\">Apply\r\n                                            changes</button>\r\n                                    </div>\r\n                                    <div class=\"column is-6\">\r\n                                        <h5 class=\"title is-6 has-text-left m-0 mb-1\">Categorical\r\n                                            Features(Nominal/Ordinal):</h5>\r\n                                        <div class=\"table-container\">\r\n\r\n                                            <table class=\"table is-size-7 mb-1\">\r\n                                                <thead>\r\n                                                    <tr>\r\n                                                        <th class=\"is-success\"></th>\r\n                                                        <th class=\"is-success\">Name</th>\r\n                                                        <th class=\"is-success\">Shape</th>\r\n                                                        <th class=\"is-success\">Mode</th>\r\n                                                        <th class=\"is-success\">Mode percentage</th>\r\n                                                        <th class=\"is-success\">#NAs</th>\r\n                                                        <th class=\"is-success\">Type</th>\r\n                                                    </tr>\r\n                                                </thead>\r\n                                                <tbody>\r\n                                                    <tr v-for=\"feature in categoricalFeaturesStats\" :key=\"feature.name\">\r\n                                                        <td> <b-checkbox v-model=\"feature.selected\"></b-checkbox>\r\n                                                        </td>\r\n                                                        <td>{{ feature.name }}</td>\r\n                                                        <td>{{ feature.shape }}</td>\r\n                                                        <td>{{ feature.mode }}</td>\r\n                                                        <td>{{ feature.percentage }}</td>\r\n                                                        <td>{{ feature.missingValuesCount }}</td>\r\n\r\n                                                        <td> <b-select :expanded=\"true\" v-model=\"feature.type\"\r\n                                                                size=\"is-small\">\r\n                                                                <option v-for=\"option in featureTypeOptions\"\r\n                                                                    :value=\"option.id\" :key=\"option.id\">\r\n                                                                    {{ option.name }}\r\n                                                                </option>\r\n                                                            </b-select></td>\r\n                                                    </tr>\r\n                                                </tbody>\r\n                                            </table>\r\n                                            <p class=\"subtitle is-7 m-0 p-0\"> Nominal features are one hot encoded and\r\n                                                ordinal\r\n                                                features are encoded in one column.</p>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                    <div class=\"column is-6\">\r\n                                        <h5 class=\"title is-6 has-text-left\">Sample Data :</h5>\r\n                                        <b-table class=\"is-size-7 m-0 mb-1\" :data=\"sampleData\" :columns=\"datasetColumns\"\r\n                                            :narrowed=\"true\" :bordered=\"true\" :striped=\"true\"\r\n                                            :hoverable=\"true\"></b-table>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <section>\r\n                            <scatterplot-matrix-component ref=\"splom\"></scatterplot-matrix-component>\r\n\r\n                        </section>\r\n                        <section>\r\n                            <article class=\"message is-info mt-2\">\r\n                                <div class=\"message-header p-2\">Correlation Matrix and Dendrogram\r\n                                    <b-tooltip append-to-body label=\"Ward method requires euclidean distance\"\r\n                                        multilined>\r\n                                        <b-button icon-left=\"info\" icon-pack=\"fas\" size=\"is-small\" type=\"is-dark\" />\r\n                                    </b-tooltip>\r\n                                </div>\r\n                                <div class=\"message-body\">\r\n                                    <div class=\"columns is-gapless\">\r\n                                        <div class=\"column is-6 mx-1\"></div>\r\n                                        <div class=\"column is-6 mx-1\">\r\n                                            <b-field label=\"Linkage method, Distance Metric\" custom-class=\"is-small\">\r\n                                                <b-select size=\"is-small\" placeholder=\"Method\" v-model=\"method\">\r\n                                                    <option value=\"single\">single</option>\r\n                                                    <option value=\"complete\">complete</option>\r\n                                                    <option value=\"average\">average</option>\r\n                                                    <option value=\"weighted\">weighted</option>\r\n                                                    <option value=\"centroid\">centroid</option>\r\n                                                    <option value=\"median\">median</option>\r\n                                                    <option value=\"ward\">ward</option>\r\n                                                </b-select>\r\n                                                <b-select size=\"is-small\" placeholder=\"Metric\" v-model=\"metric\">\r\n                                                    <option value=\"euclidean\">euclidean</option>\r\n                                                    <option value=\"correlation\">correlation</option>\r\n                                                    <option value=\"mahalanobis\">mahalanobis</option>\r\n                                                    <option value=\"cosine\">cosine</option>\r\n                                                </b-select>\r\n                                                <p class=\"control\">\r\n                                                    <b-button class=\"is-success is-small\" @click=\"correlationMatrix\"\r\n                                                        :disabled=\"loading\" :loading=\"loading\">Correlation\r\n                                                        Cluster Diagram</b-button>\r\n                                                </p>\r\n                                            </b-field>\r\n\r\n                                        </div>\r\n\r\n                                    </div>\r\n\r\n                                    <div class=\"columns is-multiline is-centered mb-2 p-0 is-gapless\">\r\n                                        <div class=\"column is-6\" id=\"correlation_matrix\" style=\"height: 400px;\"></div>\r\n                                        <div class=\"column is-6\" id=\"correlation_matrix_ordered\" style=\"height: 400px;\">\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </article>\r\n                        </section>\r\n                    </section>\r\n                    <section v-else>\r\n                        <b-message type=\"is-danger\" has-icon icon-pack=\"fas\">\r\n                            Upload a dataset or select a sample from sidebar.\r\n                        </b-message>\r\n                    </section>\r\n\r\n                </b-tab-item>\r\n\r\n                <b-tab-item label=\"Dimensionality Reduction\" icon=\"compress-arrows-alt\" icon-pack=\"fas\">\r\n                    <dmensionality-reduction-component :dataframe=\"this.settings.df\"\r\n                        :columns=\"selectedFeatures\"></dmensionality-reduction-component>\r\n                </b-tab-item>\r\n                <b-tab-item label=\"Results Analysis\" icon=\"chart-pie\" icon-pack=\"fas\">\r\n                    <results-component ref=\"results\"></results-component>\r\n                </b-tab-item>\r\n                <b-tab-item label=\"Methods Details\" icon=\"list\" icon-pack=\"fas\">\r\n                    <methods-tab-component></methods-tab-component>\r\n                </b-tab-item>\r\n                <b-tab-item label=\"Help\" icon=\"question\" icon-pack=\"fas\">\r\n                    <div class=\"content has-text-left\">\r\n                        <h4>1. Dataset Selection</h4>\r\n                        <p>\r\n                            To begin, you can either select a sample dataset provided by the system or upload your own\r\n                            dataset. The supported file formats for datasets include .xlsx (Excel files), .csv (Comma\r\n                            Separated Values files), and .txt (plain text files). Ensure that your file is in one of\r\n                            these formats to avoid any issues during the upload process.\r\n                        </p>\r\n                        <figure>\r\n                            <img src=\"/upload.png\" />\r\n                            <figcaption>Figure 1: Dataset Selection</figcaption>\r\n                        </figure>\r\n                        <h4>2. Data Analysis</h4>\r\n                        <figure>\r\n                            <img src=\"/stats_categorical.jpg\" />\r\n                            <figcaption>Figure 2: Categorical features stats</figcaption>\r\n                        </figure>\r\n                        <p>\r\n                            After uploading the dataset an overview of the dataset would be shhown in the Data Analysis\r\n                            tab. In the first\r\n                            window we provide you witth statistical metrics of the dataset. for canotinious features we\r\n                            show the mean, std, min, max, and etc.\r\n\r\n                            In case of categorical features information such as shape, mode and percentages of smaples\r\n                            with modes option, and number of missing values.\r\n                        </p>\r\n\r\n                        <figure>\r\n                            <img src=\"/stats_continious.jpg\" />\r\n                            <figcaption>Figure 3: Categorical features stats</figcaption>\r\n                        </figure>\r\n                        <p>\r\n                            In case of categorical features information such as shape, mode and percentages of smaples\r\n                            with modes option, and number of missing values.\r\n                        </p>\r\n                        <h4>3. Feature selection</h4>\r\n                        <p>\r\n                            After uploading the dataset, you can customize the data by selecting specific features based\r\n                            on your requirements. To do this, click on the 'Select Features' button, which will open a\r\n                            new menu. This menu allows you to choose the features that will be used in the training\r\n                            process. If there is an issue with the automatic detection of feature data types, you can\r\n                            manually adjust the data types to ensure they are correctly categorized as ordinal,\r\n                            categorical, or continuous.\r\n                        </p>\r\n                        <h4>3. Model Selection</h4>\r\n                        <figure>\r\n                            <img src=\"/model_selection.jpg\" />\r\n                            <figcaption>Figure 4: Model selection and setting for knn</figcaption>\r\n                        </figure>\r\n                        <p>\r\n                            Once you have selected all the required features and resolved any issues with feature data\r\n                            types, you can proceed to the model selection step. Use the 'Model' dropdown to\r\n                            choose the model for training. The options in this dropdown will be dynamically populated\r\n                            based on the type of data in your features: regression models will be available for\r\n                            continuous data, while classification models will be shown for categorical data.\r\n                            Additionally, you can further customize the selected model by clicking the gear icon, which\r\n                            allows you to adjust common settings and parameters specific to each model.\r\n                        </p>\r\n                    </div>\r\n                </b-tab-item>\r\n                <b-tab-item label=\"Messages Log\" icon=\"history\" icon-pack=\"fas\">\r\n                    <b-notification aria-close-label=\"Close notification\" icon-pack=\"fas\"\r\n                        :type=\"m.type == 'warning' ? 'is-warning' : m.type == 'danger' ? 'is-danger' : 'is-info'\"\r\n                        has-icon :closable=\"false\" v-for=\"(m, i) in this.settings.getMessages\" :key=\"i\">\r\n                        {{ m.message?.toLowerCase() }}\r\n                        <br>\r\n                        {{ m.date }}\r\n\r\n                    </b-notification>\r\n                </b-tab-item>\r\n            </b-tabs>\r\n        </section>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport UI from '@/helpers/ui';\r\nimport PCAComponent from './tabs/dmensionality-reduction-componenet.vue'\r\nimport ResultsComponent from './tabs/results-component.vue'\r\nimport SPLOMComponent from './visualization/scatterplot-matrix-component.vue'\r\nimport MethodsTabComponent from './tabs/methods-tab-component.vue'\r\n\r\nimport { FeatureCategories } from '../helpers/settings'\r\nimport ChartController from '@/helpers/charts';\r\nimport { settingStore } from '@/stores/settings'\r\nimport { Matrix, correlation } from 'ml-matrix';\r\n// eslint-disable-next-line no-unused-vars\r\nimport Clustermap from '@/helpers/correlation/correlation-matrix'\r\nimport { getDanfo } from '@/utils/danfo_loader';\r\n\r\nlet ui = new UI(null, null);\r\nlet chartController = new ChartController(null, null)\r\n\r\nexport default {\r\n    name: 'MainComponent',\r\n    components: {\r\n        'dmensionality-reduction-component': PCAComponent,\r\n        'results-component': ResultsComponent,\r\n        'scatterplot-matrix-component': SPLOMComponent,\r\n        'methods-tab-component': MethodsTabComponent\r\n    },\r\n    setup() {\r\n        const settings = settingStore()\r\n        return { settings }\r\n    },\r\n    props: {\r\n        msg: String,\r\n        selectedFeatures: [],\r\n    },\r\n    errorCaptured(err, vm, info) {\r\n        console.log(`cat EC: ${err.toString()}\\ninfo: ${info}`);\r\n        let message = { message: 'Encountered unexpected error', type: 'warning' }\r\n        this.$buefy.toast.open({ message: 'Encountered unexpected error', type: 'is-warning' })\r\n        this.settings.addMessage(message)\r\n        return false;\r\n    },\r\n    data() {\r\n        return {\r\n            featureTypeOptions: FeatureCategories,\r\n            checkedRows: [],\r\n            metric: 'euclidean',\r\n            method: 'ward',\r\n            img: null,\r\n            continuousFeaturesStats: [\r\n            ],\r\n            continuousFeaturesColumns: [\r\n            ],\r\n            categoricalFeaturesStats: [\r\n            ],\r\n            categoricalFeaturesColumns: [\r\n            ],\r\n            sampleData: [\r\n            ],\r\n            datasetColumns: [\r\n            ],\r\n\r\n            isActive: true,\r\n            hasCorrelationMatrix: false,\r\n            loading: false\r\n        }\r\n    },\r\n    methods: {\r\n\r\n        resize() {\r\n            window.dispatchEvent(new Event('resize'));\r\n        },\r\n        async correlationMatrix() {\r\n            this.loading = true;\r\n            try {\r\n                let numericColumns = this.settings.items.filter(m => m.selected && m.type === FeatureCategories.Numerical.id).map(m => m.name);\r\n                let values = this.settings.df.loc({ columns: numericColumns })\r\n                values = values.dropNa({ axis: 1 }).values\r\n                let matrix = new Matrix(values)\r\n                let correlations = correlation(matrix)\r\n                this.hasCorrelationMatrix = true;\r\n                await chartController.correlationHeatmap('correlation_matrix', correlations.data, numericColumns);\r\n                let mtx = new Clustermap();\r\n                let [dendogram, orderedMatrix, columns] = await mtx.train(values, numericColumns, this.metric, this.method);\r\n                await chartController.dendogramPlot('correlation_matrix_ordered', orderedMatrix, dendogram, columns, numericColumns);\r\n                this.loading = false;\r\n                setTimeout(() => {\r\n                    window.dispatchEvent(new Event('resize'));\r\n                }, 500);\r\n            } catch (error) {\r\n                this.loading = false;\r\n                throw error\r\n            }\r\n        },\r\n        applyChanges() {\r\n            this.renderStats(true)\r\n        },\r\n        async renderStats(update = false) {\r\n            if (this.settings.df?.columns?.length > 0) {\r\n                let numericColumns, categoricalColumns;\r\n                if (!update) {\r\n                    numericColumns = this.settings.items.filter(m => m?.type === FeatureCategories.Numerical.id).map(function (m) {\r\n                        return {\r\n                            name: m.name,\r\n                            selected: true\r\n                        }\r\n                    });\r\n                    categoricalColumns = this.settings.items.filter(m => m?.type !== FeatureCategories.Numerical.id).map(function (m) {\r\n                        return {\r\n                            name: m.name,\r\n                            selected: true\r\n                        }\r\n                    });\r\n                } else {\r\n                    console.log(this.continuousFeaturesStats);\r\n                    let features = this.continuousFeaturesStats.concat(this.categoricalFeaturesStats)\r\n                    numericColumns = features.filter(m => m?.type === FeatureCategories.Numerical.id).map(function (m) {\r\n                        return {\r\n                            name: m.name,\r\n                            selected: m.selected,\r\n                            scaler: m.sclaer ?? 0\r\n                        }\r\n                    });\r\n                    categoricalColumns = features.filter(m => m?.type\r\n                        === FeatureCategories.Nominal.id\r\n                        || m?.type === FeatureCategories.Ordinal.id).map(function (m) {\r\n                            return {\r\n                                name: m.name,\r\n                                selected: m.selected\r\n                            }\r\n                        });\r\n\r\n                    let selectedFeatures = features;\r\n                    for (const element of selectedFeatures) {\r\n                        this.settings.addFeature(element)\r\n                    }\r\n                    this.$emit('check-target')\r\n\r\n                }\r\n\r\n                const danfo = await getDanfo()\r\n                let df = new danfo.DataFrame(this.settings.rawData);\r\n                let datasetStats = ui.renderDatasetStats(df, numericColumns, categoricalColumns);\r\n                this.continuousFeaturesColumns = datasetStats[0];\r\n                this.continuousFeaturesStats = datasetStats[1];\r\n                this.categoricalFeaturesColumns = datasetStats[2];\r\n                this.categoricalFeaturesStats = datasetStats[3];\r\n                this.datasetColumns = this.settings.df.columns.map(column => {\r\n                    return {\r\n                        field: column,\r\n                        label: column\r\n\r\n                    }\r\n                });\r\n                this.sampleData = danfo.toJSON(this.settings.df.head(5));\r\n                this.$refs.splom?.initSPLOM();\r\n                setTimeout(() => {\r\n                    this.correlationMatrix();\r\n                }, 500);\r\n            }\r\n        },\r\n    },\r\n\r\n}\r\n</script>\r\n\r\n<style></style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./main-component.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./main-component.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./main-component.vue?vue&type=template&id=4e0dc88b\"\nimport script from \"./main-component.vue?vue&type=script&lang=js\"\nexport * from \"./main-component.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\r\n  <div class=\"container\">\r\n    <b-notification v-show=\"this.settings.getDatasizeFlag\" class=\"mt-2\" type=\"is-warning\" has-icon\r\n      aria-close-label=\"Close notification\" role=\"alert\">\r\n      Due to the large size of dataset only 10,000 radom samples from dataset would be used.\r\n    </b-notification>\r\n    <div class=\"columns is-multiline\" id=\"app\">\r\n      <SidebarComponent ref=\"sidebar\" @updateFeatures=\"updateFeatureStats\">\r\n      </SidebarComponent>\r\n      <MainComponent ref=\"main\" :dataframe=\"this.settings.df\" @check-target=\"checkTarget()\"></MainComponent>\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport SidebarComponent from \"./components/sidebar-component.vue\";\r\nimport MainComponent from \"./components/main-component.vue\";\r\nimport { settingStore } from '@/stores/settings'\r\n\r\n\r\nexport default {\r\n  name: 'App',\r\n  components: {\r\n    SidebarComponent,\r\n    MainComponent,\r\n  },\r\n  setup() {\r\n    // eslint-disable-next-line no-unused-vars\r\n    const settings = settingStore()\r\n    return { settings }\r\n  },\r\n  errorCaptured(err, vm, info) {\r\n    console.log(`cat EC: ${err.toString()}\\ninfo: ${info} + ${ err.stack}`);\r\n\r\n    this.$buefy.toast.open(\r\n      {\r\n        duration: 3000,\r\n        message: 'Something went wrong',\r\n        type: 'is-danger',\r\n      })\r\n    this.settings.addMessage({ message: err.toString(), type: 'danger' })\r\n    return false;\r\n  },\r\n  data() {\r\n    return {\r\n      dataframe: null,\r\n      selectedFeatures: []\r\n    }\r\n  },\r\n  methods: {\r\n    checkTarget() {\r\n      this.$refs.sidebar.checkmodelTask()\r\n    },\r\n    reset() {\r\n      this.settings.resetDF();\r\n    },\r\n    updateFeatureStats() {\r\n      this.$refs.main.renderStats();\r\n    },\r\n    setSelectedFeatures(e) {\r\n      this.selectedFeatures = e\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  color: #2c3e50;\r\n  margin-top: 30px;\r\n}\r\n\r\n.notification.is-danger {\r\n  background-color: hsl(348, 86%, 61%);\r\n  color: #fff !important;\r\n}\r\n\r\n.button.is-danger {\r\n  color: #fff !important;\r\n}\r\n\r\n.toast.is-danger {\r\n  color: #fff !important;\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=78c9a5f2\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=78c9a5f2&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport Buefy from 'buefy'\r\nimport 'buefy/dist/buefy.min.css'\r\n\r\nimport { createPinia, PiniaVuePlugin } from 'pinia'\r\nimport VueMathjax from 'vue-mathjax'\r\n\r\nVue.prototype.window = window;\r\n\r\nVue.use(VueMathjax)\r\nVue.use(Buefy)\r\nVue.use(PiniaVuePlugin)\r\nconst pinia = createPinia()\r\n\r\nnew Vue({\r\n  render: h => h(App),\r\n  pinia\r\n}).$mount('#app')\r\n\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdD = function () {\n\tthrow new Error('define cannot be used indirect');\n};","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + chunkId + \".\" + {\"167\":\"5db627cb\",\"221\":\"68b5ace3\",\"663\":\"d75b043a\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"mlfit:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/\";","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmlfit\"] = self[\"webpackChunkmlfit\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(9154); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","staticClass","directives","name","rawName","value","settings","getDatasizeFlag","expression","attrs","_v","ref","on","updateFeatureStats","df","$event","checkTarget","staticRenderFns","staticStyle","_m","generateTargetDropdown","setFile","model","seed","callback","$$v","checkmodelTask","modelTarget","_l","columns","option","key","domProps","_s","imputationOption","imputationOptions","id","label","crossValidationOption","crossValidationOptions","tuneModel","modelOption","modelOptions","title","configureModel","modelConfigurations","i","type","$set","values","item","index","_e","dataScalingBehavior","explainModel","usePCAs","numberOfComponents","useHPC","training","dataframe","train","upload","class","file","datasetName","header","separator","separatorOptions","decimal","decimalOptions","handleFileSelect","sampleDataset","samplDataOptions","DataParser","parse","_content","Error","CSVParser","constructor","options","super","separators","delimiter","has_header","content","Promise","resolve","Papa","worker","transform","val","NaN","skipEmptyLines","dynamicTyping","complete","async","result","data","TXTParser","length","element","j","parseFloat","replace","ParserFactory","createParser","fileType","toLowerCase","parser","danfoPromise","getDanfo","settingStore","defineStore","state","counter","rawData","features","transformations","classTransformations","results","messages","activeTab","dataSizeFlag","resultActiveTab","datasetShape","count","target","isClassification","getters","items","getCounter","getUID","Math","random","toString","slice","getMessages","reverse","getDatasetName","getDatasetShape","getDataset","getRawData","currentTab","mergedClasses","getSeed","getMethodResults","getResultTab","outputs","transformationsList","classificationTask","actions","setSeed","setDatasetName","setDatasetShape","shape","resetFeatures","resetClassTransformations","resetTransformations","setDatasizeFlag","flag","resetDataset","increaseCounter","setDataframe","setRawData","addFeature","feature","scaler","findIndex","m","push","setClassTransformation","addTransformation","transformation","addResult","addMessage","message","date","Date","toLocaleString","removeResult","splice","getResultVisualizations","tables","plots","resetDF","updateFeature","removeItem","lastIndexOf","setTarget","setmodelTask","setActiveTab","setResultActiveTab","DATASET_SIZE","setup","props","msg","String","watch","dataset","process_file","split","initDataframe","error","$buefy","toast","open","methods","shuffle","array","t","floor","x","sin","$data","sample","$emit","processdDataset","danfo","dataFrame","DataFrame","idIndex","col","drop","inplace","current","fetch","then","response","blob","File","catch","console","component","FeatureCategories","CV_OPTIONS","SPLIT","NO","KFOLD","ScaleOptions","Settings","default","placeholder","for","pyodideWorker","Worker","URL","callbacks","onmessage","event","onSuccess","asyncRun","script","context","Number","MAX_SAFE_INTEGER","postMessage","python","PCA","predict","n","x_test","x_train","has_test_set","e","binarize","y","threshold","tf","util","assert","tidy","condition","greater","scalar","where","onesLike","zerosLike","encode_name","str_encoded","metrics","y_pred","labels","precision","recall","f1_micro","f1_macro","accuracy","calculateRSquared","actual","predicted","meanActual","mean_array","totalSumOfSquares","reduce","acc","pow","residualSumOfSquares","calculateMSE","actualValues","predictedValues","sumSquaredError","squaredError","meanSquaredError","scale_data","column","normalization_type","MinMaxScaler","fit","addColumn","apply","ln","log","isNaN","StandardScaler","applyDataTransformation","column_names","find","handle_missing_values","data_frame","impute","string_columns","numeric_columns","string_column_modes","numeric_column_means","forEach","dtype","mode","getCategoricalMode","mean","fillNa","dropNa","axis","arr","categoryCount","category","undefined","modeCategory","modeCount","encode_dataset","columns_types","copy","categorical_columns","filter","Nominal","Ordinal","categoriclaFeaturesAfterEncoding","encoder","LabelEncoder","encoded_column","getDummies","includes","TSNE","plotlyImageExportConfig","toImageButtonOptions","format","height","width","scale","ChartController","_defineProperty","gaussian","u","exp","sqrt","PI","uniform","abs","triangular","biweight","triweight","Epanechnikov","color_scheme","schemeTableau10","color_scheme_sequential","interpolateRainbow","classification_target_chart","container","uniqueLabels","Set","colorIndices","map","indexToColor","indexOf","color","Highcharts","chart","credits","enabled","text","xAxis","categories","yAxis","min","plotOptions","pointPadding","borderWidth","colors","series","regression_target_chart","kde_data","ys","items_range","breaks","equalIntervalBreaks","kde","kernelDensityEstimation","legend","verticalAlign","animation","tooltip","valueDecimals","marker","dashStyle","area","lineWidth","draw_categorical_barplot","column_values","$","append","countOccurrences","countArray","Object","entries","sort","a","b","top5","Chart","renderTo","overflow","bar","dataLabels","showInLegend","roc_chart","true_positive_rates","false_positive_rates","trace","trace2","layout","showlegend","xaxis","yaxis","Plotly","newPlot","falsePositives","yTrue","yPred","one","zero","logicalAnd","equal","sum","cast","max","indexToColorSequential","normalizer_value","reshape","size","restShape","restSize","plot_tsne","is_classification","flat","tsne","Y","tsneComponents","tsne_traces","l","spacing","font","xref","boxmode","grid","rows","xgap","ygap","pattern","margin","r","xAxisKey","yAxisKey","fontSize","linecolor","linewidth","mirror","showgrid","showticklabels","tickfont","react","staticPlot","trueNegatives","falsePositiveRate","fp","tn","div","add","drawROC","targets","probs","thresholds","tprs","fprs","threshPredictions","as1D","fpr","dataSync","tpr","nrd","s","standardDeviation","iqr","interquartileRange","hexToRgb","hex","exec","parseInt","g","draw_kde","target_name","bandwidth","redrawing","default_bandwidth","toFixed","raw_values","loc","subsets","subset","document","getElementById","style","display","newColumn","createElement","className","setAttribute","addEventListener","Numerical","newBandwidth","current_class","container_id","allData","kernel_type","traces","kernelFunctions","animationDuration","visible","xanchor","autosize","responsive","modeBarButtonsToRemove","align","duration","window","dispatchEvent","Event","downloadPlot","toImage","dataUrl","href","download","body","appendChild","click","removeChild","classificationPCA","missclassifications","pca","pca_data","x_error","y_error","error_texts","real_labels","missclassificationColors","truePredsColors","join","trace1","symbol","customdata","hovertemplate","hovermode","hoverlabel","bgcolor","purge_charts","purge","draw_pca","axes","drawScreePlot","_","explained_variances","circels","distances","pcaComponents","pca_traces","principle_components","pca_values","arrows","shapes","distance","axref","ayref","arrowside","arrowcolor","yanchor","arrowwidth","arrowhead","hovertext","ax","ay","yref","x0","y0","x1","y1","line","annotations","pad","range","cumulatedExplainedVaraince","compnentsaxis","trace3","traceorder","orientation","dash","tickmode","dtick","zeroline","rang","Array","from","drawStackedHorizontalChart","lable","barmode","regularization_plot","xs","colorway","argmax","maxIndex","currentValue","currentIndex","probabilities_boxplot","probablitiesFormatted","true_label","trueClass","classProbas","proba","prob","probablity","classIndex","outlierwidth","plotConfusionMatrix","predictedLabels","uniqueClasses","tab_index","confusionMatrix","metric","ClassificationMetric","arraySync","f1Micro","f1Macro","len","preceissions","recalls","tensorflow","metric_labels","items_labels","formatted_matrix","exporting","plotBorderWidth","linkedTo","opposite","tickLength","formatter","each","p","reversed","endOnTick","colorAxis","minColor","maxColor","getOptions","symbolHeight","useHTML","totalCount","cur","point","skip","percentage","rules","maxWidth","chartOptions","padding","plot_regularization","weights","alphas","names","serieses","alphas_formatted","connectorAllowed","yhat_plot","y_test","predictions","comparison","yLabel","tickangle","residual_plot","residuals","ScatterplotMatrix","number_of_categoricals","reject","setTimeout","unique_labels","k","set","z","opacity","unique_labels_feature","lablel_items","counts","ii","fill","column_items","unique_classes","class_frequencies","class_label","colorscale","boxplot_labels","boxtraces","box_items","concat","arr1","arr2","corrcoeff","textfont","KNNPerformancePlot","best_n","KNNPerformancePlotRegression","optimalTrainSpec","optimalTestSpec","evaluation","evaluation_train","min_y","POSITIVE_INFINITY","max_y","NEGATIVE_INFINITY","correaltoinMatrixColorscale","correlations","featuresCount","corrs","countNegatives","portionOfNegativeValues","round","correlationHeatmap","zmin","zmax","hoverongaps","showscale","ticks","side","autorange","ticksuffix","textColor","family","showarrow","dendogramPlot","linkage","originalColumns","trace4","colorbar","thickness","indices","linksLength","currentLimitY","prevLimitY","clusterY","clusterX","tickValues","dendrogramUP","dendrogramRIGHT","history","link","l0","l1","y_current","prev","curr","currentLimitX","prevLimitX","layout2","domain","showline","tickvals","tick","ticktext","xaxis2","yaxis2","coloraxis","cmin","cmax","PFIBoxplot","importances","avgs","importance","importancesMean","automargin","plotPDP","averages","grids","pfiChartId","chartContainer","classList","chartId","after","isCategorical","average","plotPDPRegression","categoricals","chartIdCategorical","traces_categoricals","bargap","drawAutoencoder","points","xIndex","yIndex","plotROC","auc","uniformSplist","numbers","parallelCoordinatePlot","labelEncoder","colorMapping","dimensions","column_name","UI","chart_controller","data_parser","get_model_settings","model_settings","model_name","classification","regression","option_value","createAlgorithmsSelect","hasOwnProperty","call","updateAlgorithmsSelect","find_selected_columns","get_all","selected_columns","checked","find_selected_columns_types","include_target","column_types","createTargetDropdown","createFeaturesDropdown","insertSpaces","string","renderDatasetStats","continuousFeatures","categoricalFeatures","continuousFeaturesStats","categoricalFeaturesStats","continuousHeaders","field","categoricalHeaders","median","std","missingValuesCount","isNa","selected","category_info","get_numeric_columns","selected_columns_types","numericColumns","get_categorical_columns","visualize","file_name","filterd_dataset","limit","innerHTML","toggle_loading_progress","show","init_tooltips","tippy","interactive","popperOptions","positionFixed","allowHTML","predictions_table_regression","table_columns","DataTable","pageLength","paging","columnDefs","bPaginate","bDestroy","removeTable","tableId","destroy","predictions_table","keys","rowCallback","row","prediction","addClass","ClassificationModel","chartController","ui","task","hasProbability","hasExplaination","helpSectionId","evaluateModel","generatePythonCode","model_import","model_fit","trim","classes","$labels","inverseTransform","LogisticRegression","summary","model_stats_matrix","y_train","X_train","X_test","regularization_type","regularization","webR","webr","init","installPackages","quiet","objs","globalEnv","bind","plotlyData","evalR","toArray","JSON","coefs","stds","z_scores","p_values","probabities","pred","confidence_intervals","confidence_intervals_row_names","aic","toNumber","best_fit_min","best_fit_1se","lambda_min","lambda_1se","cols","unshift","min_ols_columns","se_ols_columns","coef","pval","placeholder_row","start","end","api","footer","html","info","search","ordering","searching","y_classes","conf_intervals","traces_params","ols_y","error_x","y_classes_min","conf_intervals_min","lasso_y","_1se_y","y_classes_1se","conf_intervals_1se","lambda","params","predictor","param","coefficient","lambdas","textangle","RegressionModel","mse","rsquared","LinearRegression","bse","pvalues","predictions1se","predictionsmin","residuals_ols","residuals_1se","residuals_min","bic","r2","reg_plot","coefs_plot","errors_plot","qqplot_ols_plot","qqplot_1se_plot","qqplot_min_plot","td","cellData","rowData","css","BSplineRegression","knots","explain","degree","pdp_averages","pdp_grid","filename","lineno","SupportVectorMachine","opt","kernel","bias","c","__","pdpIndex","SupportVectorMachineRegression","chartControler","gamma","KNNModel","k_neighbor_results","KNNRegressor","RandomForest","rf_type","criteria","max_features","num_estimators","estimators","max_depth","depth","num_classes","probas","RandomForestRegressor","NaiveBayes","nb_type","priors","smoothing","laplace","DiscriminantAnalysis","lda_type","PolynomialRegression","columnNames","KernelRegression","types","Boosting","booster","objective","eta","BoostingRegression","ModelFactory","createModel","modelName","logistic_regression","k_nearest_neighbour","random_forest","support_vector_machine","boosting","discriminant_analysis","naive_bayes","linear_regression","polynomial_regression","kernel_regression","bspline_regression","components","UploadComponent","configureFeatures","featureTypeOptions","featureSettings","modelSettings","formdata","FormData","axios","post","headers","updateFeatures","toggleTraining","getDefaultModelConfiguration","dtypes","selectedFeatures","targetFeature","selectedClasses","newClass","cls","cross_validation_setting","splitData","performances","kfoldSplit","encoded_y","encoded_y_test","encodeTarget","model_factory","pca_train","___","____","pca_test","showProbas","snapshot","xt","yt","xFeatures","modelTask","stringify","toJSON","res","created","stepSize","ceil","train_bound","test_bound","iloc","fold","lowerLimit","upperLimit","train_bound_lower","train_bound_upper","x_train_upper","y_train_upper","x_train_lower","y_train_lower","dfList","resize","isActive","applyChanges","sampleData","datasetColumns","method","loading","correlationMatrix","loadingPCA","drawPCA","pcaVarianceData","downloadExplainedVariance","hasPCA","findPCA","pcaData","downloadPCA","downloadPCAPlot","componentsTSNE","seedTSNE","loadingTSNE","findTSNE","hiddenLayerSize","autoEncoderX","autoEncoderY","iterations","encoderActivationFunction","decoderActivationFunction","loadingAutoEncoder","autoEncoder","pcaContainers","prepareData","drawExplainedVariance","toCSV","filePath","varianceData","Components","ExplainedVariace","unitsLength","units","batchInputShape","activation","kernelInitializer","biasInitializer","decoder","compile","optimizer","loss","epochs","batchSize","validationSplit","dispose","tidyWrapper","ret","autoencoderPredictions","errorCaptured","activeResult","compareResultsDraw","metricsCollection","compare","deleteResult","scalerLabel","deleteTab","toggleHelp","downloadPythonCode","hide","if","pdpFeature","fileName","showResult","intervalId","jobProgressTries","vm","Blob","get","setInterval","pdp_avgs","pfi","clearInterval","err","el","scrollIntoView","behavior","pyCode","url","createObjectURL","revokeObjectURL","updatePartialDependencePlot","handler","immediate","unmounted","ClassificationViewComponent","RegressionViewComponent","computed","isClassication","comparisonMetric","baseMetrics","visitedTabs","xTicks","fillMetrics","compareResults","methodResults","draw","v","table","plot","showMethodDetails","alert","downlaodSPLOM","column_width","scaleData","classesInfo","classesInfoColumns","row-class","isLoading","update","ParallelCoordinatePlot","validTransformations","PCPComponent","updateClassesInfo","targetValues","samplesLength","dispalySPLOM","$refs","coordinate_plot","reset","transformationInfo","initSPLOM","formula","sserror","Clustermap","PCAComponent","ResultsComponent","SPLOMComponent","MethodsTabComponent","checkedRows","img","continuousFeaturesColumns","categoricalFeaturesColumns","hasCorrelationMatrix","matrix","Matrix","correlation","mtx","dendogram","orderedMatrix","renderStats","categoricalColumns","sclaer","datasetStats","head","splom","SidebarComponent","MainComponent","stack","sidebar","main","setSelectedFeatures","Vue","prototype","use","VueMathjax","Buefy","PiniaVuePlugin","pinia","createPinia","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","amdD","amdO","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","every","getter","__esModule","d","definition","o","defineProperty","enumerable","f","chunkId","all","promises","miniCssF","globalThis","Function","obj","prop","inProgress","dataWebpackPrefix","done","needAttach","scripts","getElementsByTagName","getAttribute","charset","timeout","nc","src","onScriptComplete","onerror","onload","clearTimeout","doneFns","parentNode","Symbol","toStringTag","nmd","paths","children","baseURI","self","location","installedChunks","installedChunkData","promise","loadingEnded","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}